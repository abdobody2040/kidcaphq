var e8=Object.defineProperty;var t8=(t,e,n)=>e in t?e8(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Kn=(t,e,n)=>t8(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))s(m);new MutationObserver(m=>{for(const w of m)if(w.type==="childList")for(const r of w.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function n(m){const w={};return m.integrity&&(w.integrity=m.integrity),m.referrerPolicy&&(w.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?w.credentials="include":m.crossOrigin==="anonymous"?w.credentials="omit":w.credentials="same-origin",w}function s(m){if(m.ep)return;m.ep=!0;const w=n(m);fetch(m.href,w)}})();var i8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function T2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var IB={exports:{}},Lv={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n8=Symbol.for("react.transitional.element"),s8=Symbol.for("react.fragment");function PB(t,e,n){var s=null;if(n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),"key"in e){n={};for(var m in e)m!=="key"&&(n[m]=e[m])}else n=e;return e=n.ref,{$$typeof:n8,type:t,key:s,ref:e!==void 0?e:null,props:n}}Lv.Fragment=s8;Lv.jsx=PB;Lv.jsxs=PB;IB.exports=Lv;var E=IB.exports,UB={exports:{}},Bt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E2=Symbol.for("react.transitional.element"),r8=Symbol.for("react.portal"),a8=Symbol.for("react.fragment"),o8=Symbol.for("react.strict_mode"),l8=Symbol.for("react.profiler"),u8=Symbol.for("react.consumer"),h8=Symbol.for("react.context"),c8=Symbol.for("react.forward_ref"),d8=Symbol.for("react.suspense"),A8=Symbol.for("react.memo"),DB=Symbol.for("react.lazy"),f8=Symbol.for("react.activity"),rb=Symbol.iterator;function p8(t){return t===null||typeof t!="object"?null:(t=rb&&t[rb]||t["@@iterator"],typeof t=="function"?t:null)}var OB={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kB=Object.assign,HB={};function ic(t,e,n){this.props=t,this.context=e,this.refs=HB,this.updater=n||OB}ic.prototype.isReactComponent={};ic.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ic.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function GB(){}GB.prototype=ic.prototype;function B2(t,e,n){this.props=t,this.context=e,this.refs=HB,this.updater=n||OB}var F2=B2.prototype=new GB;F2.constructor=B2;kB(F2,ic.prototype);F2.isPureReactComponent=!0;var ab=Array.isArray;function rx(){}var gi={H:null,A:null,T:null,S:null},QB=Object.prototype.hasOwnProperty;function N2(t,e,n){var s=n.ref;return{$$typeof:E2,type:t,key:e,ref:s!==void 0?s:null,props:n}}function g8(t,e){return N2(t.type,e,t.props)}function L2(t){return typeof t=="object"&&t!==null&&t.$$typeof===E2}function v8(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ob=/\/+/g;function pm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?v8(""+t.key):e.toString(36)}function m8(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(rx,rx):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function Yu(t,e,n,s,m){var w=typeof t;(w==="undefined"||w==="boolean")&&(t=null);var r=!1;if(t===null)r=!0;else switch(w){case"bigint":case"string":case"number":r=!0;break;case"object":switch(t.$$typeof){case E2:case r8:r=!0;break;case DB:return r=t._init,Yu(r(t._payload),e,n,s,m)}}if(r)return m=m(t),r=s===""?"."+pm(t,0):s,ab(m)?(n="",r!=null&&(n=r.replace(ob,"$&/")+"/"),Yu(m,e,n,"",function(a){return a})):m!=null&&(L2(m)&&(m=g8(m,n+(m.key==null||t&&t.key===m.key?"":(""+m.key).replace(ob,"$&/")+"/")+r)),e.push(m)),1;r=0;var x=s===""?".":s+":";if(ab(t))for(var i=0;i<t.length;i++)s=t[i],w=x+pm(s,i),r+=Yu(s,e,n,w,m);else if(i=p8(t),typeof i=="function")for(t=i.call(t),i=0;!(s=t.next()).done;)s=s.value,w=x+pm(s,i++),r+=Yu(s,e,n,w,m);else if(w==="object"){if(typeof t.then=="function")return Yu(m8(t),e,n,s,m);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return r}function zf(t,e,n){if(t==null)return t;var s=[],m=0;return Yu(t,s,"","",function(w){return e.call(n,w,m++)}),s}function y8(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var lb=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},x8={map:zf,forEach:function(t,e,n){zf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return zf(t,function(){e++}),e},toArray:function(t){return zf(t,function(e){return e})||[]},only:function(t){if(!L2(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Bt.Activity=f8;Bt.Children=x8;Bt.Component=ic;Bt.Fragment=a8;Bt.Profiler=l8;Bt.PureComponent=B2;Bt.StrictMode=o8;Bt.Suspense=d8;Bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=gi;Bt.__COMPILER_RUNTIME={__proto__:null,c:function(t){return gi.H.useMemoCache(t)}};Bt.cache=function(t){return function(){return t.apply(null,arguments)}};Bt.cacheSignal=function(){return null};Bt.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var s=kB({},t.props),m=t.key;if(e!=null)for(w in e.key!==void 0&&(m=""+e.key),e)!QB.call(e,w)||w==="key"||w==="__self"||w==="__source"||w==="ref"&&e.ref===void 0||(s[w]=e[w]);var w=arguments.length-2;if(w===1)s.children=n;else if(1<w){for(var r=Array(w),x=0;x<w;x++)r[x]=arguments[x+2];s.children=r}return N2(t.type,m,s)};Bt.createContext=function(t){return t={$$typeof:h8,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:u8,_context:t},t};Bt.createElement=function(t,e,n){var s,m={},w=null;if(e!=null)for(s in e.key!==void 0&&(w=""+e.key),e)QB.call(e,s)&&s!=="key"&&s!=="__self"&&s!=="__source"&&(m[s]=e[s]);var r=arguments.length-2;if(r===1)m.children=n;else if(1<r){for(var x=Array(r),i=0;i<r;i++)x[i]=arguments[i+2];m.children=x}if(t&&t.defaultProps)for(s in r=t.defaultProps,r)m[s]===void 0&&(m[s]=r[s]);return N2(t,w,m)};Bt.createRef=function(){return{current:null}};Bt.forwardRef=function(t){return{$$typeof:c8,render:t}};Bt.isValidElement=L2;Bt.lazy=function(t){return{$$typeof:DB,_payload:{_status:-1,_result:t},_init:y8}};Bt.memo=function(t,e){return{$$typeof:A8,type:t,compare:e===void 0?null:e}};Bt.startTransition=function(t){var e=gi.T,n={};gi.T=n;try{var s=t(),m=gi.S;m!==null&&m(n,s),typeof s=="object"&&s!==null&&typeof s.then=="function"&&s.then(rx,lb)}catch(w){lb(w)}finally{e!==null&&n.types!==null&&(e.types=n.types),gi.T=e}};Bt.unstable_useCacheRefresh=function(){return gi.H.useCacheRefresh()};Bt.use=function(t){return gi.H.use(t)};Bt.useActionState=function(t,e,n){return gi.H.useActionState(t,e,n)};Bt.useCallback=function(t,e){return gi.H.useCallback(t,e)};Bt.useContext=function(t){return gi.H.useContext(t)};Bt.useDebugValue=function(){};Bt.useDeferredValue=function(t,e){return gi.H.useDeferredValue(t,e)};Bt.useEffect=function(t,e){return gi.H.useEffect(t,e)};Bt.useEffectEvent=function(t){return gi.H.useEffectEvent(t)};Bt.useId=function(){return gi.H.useId()};Bt.useImperativeHandle=function(t,e,n){return gi.H.useImperativeHandle(t,e,n)};Bt.useInsertionEffect=function(t,e){return gi.H.useInsertionEffect(t,e)};Bt.useLayoutEffect=function(t,e){return gi.H.useLayoutEffect(t,e)};Bt.useMemo=function(t,e){return gi.H.useMemo(t,e)};Bt.useOptimistic=function(t,e){return gi.H.useOptimistic(t,e)};Bt.useReducer=function(t,e,n){return gi.H.useReducer(t,e,n)};Bt.useRef=function(t){return gi.H.useRef(t)};Bt.useState=function(t){return gi.H.useState(t)};Bt.useSyncExternalStore=function(t,e,n){return gi.H.useSyncExternalStore(t,e,n)};Bt.useTransition=function(){return gi.H.useTransition()};Bt.version="19.2.3";UB.exports=Bt;var de=UB.exports;const Nl=T2(de);var jB={exports:{}},Mv={},VB={exports:{}},zB={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,P){var U=M.length;M.push(P);e:for(;0<U;){var z=U-1>>>1,W=M[z];if(0<m(W,P))M[z]=P,M[U]=W,U=z;else break e}}function n(M){return M.length===0?null:M[0]}function s(M){if(M.length===0)return null;var P=M[0],U=M.pop();if(U!==P){M[0]=U;e:for(var z=0,W=M.length,Z=W>>>1;z<Z;){var j=2*(z+1)-1,H=M[j],V=j+1,k=M[V];if(0>m(H,U))V<W&&0>m(k,H)?(M[z]=k,M[V]=U,z=V):(M[z]=H,M[j]=U,z=j);else if(V<W&&0>m(k,U))M[z]=k,M[V]=U,z=V;else break e}}return P}function m(M,P){var U=M.sortIndex-P.sortIndex;return U!==0?U:M.id-P.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var w=performance;t.unstable_now=function(){return w.now()}}else{var r=Date,x=r.now();t.unstable_now=function(){return r.now()-x}}var i=[],a=[],p=1,c=null,o=3,u=!1,l=!1,d=!1,f=!1,h=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;function v(M){for(var P=n(a);P!==null;){if(P.callback===null)s(a);else if(P.startTime<=M)s(a),P.sortIndex=P.expirationTime,e(i,P);else break;P=n(a)}}function y(M){if(d=!1,v(M),!l)if(n(i)!==null)l=!0,C||(C=!0,N());else{var P=n(a);P!==null&&I(y,P.startTime-M)}}var C=!1,b=-1,T=5,S=-1;function F(){return f?!0:!(t.unstable_now()-S<T)}function B(){if(f=!1,C){var M=t.unstable_now();S=M;var P=!0;try{e:{l=!1,d&&(d=!1,A(b),b=-1),u=!0;var U=o;try{t:{for(v(M),c=n(i);c!==null&&!(c.expirationTime>M&&F());){var z=c.callback;if(typeof z=="function"){c.callback=null,o=c.priorityLevel;var W=z(c.expirationTime<=M);if(M=t.unstable_now(),typeof W=="function"){c.callback=W,v(M),P=!0;break t}c===n(i)&&s(i),v(M)}else s(i);c=n(i)}if(c!==null)P=!0;else{var Z=n(a);Z!==null&&I(y,Z.startTime-M),P=!1}}break e}finally{c=null,o=U,u=!1}P=void 0}}finally{P?N():C=!1}}}var N;if(typeof g=="function")N=function(){g(B)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,R=L.port2;L.port1.onmessage=B,N=function(){R.postMessage(null)}}else N=function(){h(B,0)};function I(M,P){b=h(function(){M(t.unstable_now())},P)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return o},t.unstable_next=function(M){switch(o){case 1:case 2:case 3:var P=3;break;default:P=o}var U=o;o=P;try{return M()}finally{o=U}},t.unstable_requestPaint=function(){f=!0},t.unstable_runWithPriority=function(M,P){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var U=o;o=M;try{return P()}finally{o=U}},t.unstable_scheduleCallback=function(M,P,U){var z=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?z+U:z):U=z,M){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=U+W,M={id:p++,callback:P,priorityLevel:M,startTime:U,expirationTime:W,sortIndex:-1},U>z?(M.sortIndex=U,e(a,M),n(i)===null&&M===n(a)&&(d?(A(b),b=-1):d=!0,I(y,U-z))):(M.sortIndex=W,e(i,M),l||u||(l=!0,C||(C=!0,N()))),M},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(M){var P=o;return function(){var U=o;o=P;try{return M.apply(this,arguments)}finally{o=U}}}})(zB);VB.exports=zB;var w8=VB.exports,YB={exports:{}},is={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C8=de;function XB(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ao(){}var _n={d:{f:ao,r:function(){throw Error(XB(522))},D:ao,C:ao,L:ao,m:ao,X:ao,S:ao,M:ao},p:0,findDOMNode:null},b8=Symbol.for("react.portal");function S8(t,e,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:b8,key:s==null?null:""+s,children:t,containerInfo:e,implementation:n}}var Nd=C8.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Rv(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}is.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_n;is.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(XB(299));return S8(t,e,null,n)};is.flushSync=function(t){var e=Nd.T,n=_n.p;try{if(Nd.T=null,_n.p=2,t)return t()}finally{Nd.T=e,_n.p=n,_n.d.f()}};is.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,_n.d.C(t,e))};is.prefetchDNS=function(t){typeof t=="string"&&_n.d.D(t)};is.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,s=Rv(n,e.crossOrigin),m=typeof e.integrity=="string"?e.integrity:void 0,w=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?_n.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:s,integrity:m,fetchPriority:w}):n==="script"&&_n.d.X(t,{crossOrigin:s,integrity:m,fetchPriority:w,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};is.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=Rv(e.as,e.crossOrigin);_n.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&_n.d.M(t)};is.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,s=Rv(n,e.crossOrigin);_n.d.L(t,n,{crossOrigin:s,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};is.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=Rv(e.as,e.crossOrigin);_n.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else _n.d.m(t)};is.requestFormReset=function(t){_n.d.r(t)};is.unstable_batchedUpdates=function(t,e){return t(e)};is.useFormState=function(t,e,n){return Nd.H.useFormState(t,e,n)};is.useFormStatus=function(){return Nd.H.useHostTransitionStatus()};is.version="19.2.3";function WB(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(WB)}catch(t){console.error(t)}}WB(),YB.exports=is;var T8=YB.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rn=w8,KB=de,E8=T8;function Oe(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function JB(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function FA(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ZB(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function $B(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ub(t){if(FA(t)!==t)throw Error(Oe(188))}function B8(t){var e=t.alternate;if(!e){if(e=FA(t),e===null)throw Error(Oe(188));return e!==t?null:t}for(var n=t,s=e;;){var m=n.return;if(m===null)break;var w=m.alternate;if(w===null){if(s=m.return,s!==null){n=s;continue}break}if(m.child===w.child){for(w=m.child;w;){if(w===n)return ub(m),t;if(w===s)return ub(m),e;w=w.sibling}throw Error(Oe(188))}if(n.return!==s.return)n=m,s=w;else{for(var r=!1,x=m.child;x;){if(x===n){r=!0,n=m,s=w;break}if(x===s){r=!0,s=m,n=w;break}x=x.sibling}if(!r){for(x=w.child;x;){if(x===n){r=!0,n=w,s=m;break}if(x===s){r=!0,s=w,n=m;break}x=x.sibling}if(!r)throw Error(Oe(189))}}if(n.alternate!==s)throw Error(Oe(190))}if(n.tag!==3)throw Error(Oe(188));return n.stateNode.current===n?t:e}function qB(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=qB(t),e!==null)return e;t=t.sibling}return null}var vi=Object.assign,F8=Symbol.for("react.element"),Yf=Symbol.for("react.transitional.element"),Ad=Symbol.for("react.portal"),eh=Symbol.for("react.fragment"),_B=Symbol.for("react.strict_mode"),ax=Symbol.for("react.profiler"),e3=Symbol.for("react.consumer"),Ta=Symbol.for("react.context"),M2=Symbol.for("react.forward_ref"),ox=Symbol.for("react.suspense"),lx=Symbol.for("react.suspense_list"),R2=Symbol.for("react.memo"),po=Symbol.for("react.lazy"),ux=Symbol.for("react.activity"),N8=Symbol.for("react.memo_cache_sentinel"),hb=Symbol.iterator;function Wc(t){return t===null||typeof t!="object"?null:(t=hb&&t[hb]||t["@@iterator"],typeof t=="function"?t:null)}var L8=Symbol.for("react.client.reference");function hx(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===L8?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case eh:return"Fragment";case ax:return"Profiler";case _B:return"StrictMode";case ox:return"Suspense";case lx:return"SuspenseList";case ux:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Ad:return"Portal";case Ta:return t.displayName||"Context";case e3:return(t._context.displayName||"Context")+".Consumer";case M2:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R2:return e=t.displayName||null,e!==null?e:hx(t.type)||"Memo";case po:e=t._payload,t=t._init;try{return hx(t(e))}catch{}}return null}var fd=Array.isArray,yt=KB.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Wt=E8.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Il={pending:!1,data:null,method:null,action:null},cx=[],th=-1;function ta(t){return{current:t}}function gn(t){0>th||(t.current=cx[th],cx[th]=null,th--)}function di(t,e){th++,cx[th]=t.current,t.current=e}var $r=ta(null),tA=ta(null),Ro=ta(null),Cg=ta(null);function bg(t,e){switch(di(Ro,e),di(tA,t),di($r,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?g5(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=g5(e),t=xN(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}gn($r),di($r,t)}function Dh(){gn($r),gn(tA),gn(Ro)}function dx(t){t.memoizedState!==null&&di(Cg,t);var e=$r.current,n=xN(e,t.type);e!==n&&(di(tA,t),di($r,n))}function Sg(t){tA.current===t&&(gn($r),gn(tA)),Cg.current===t&&(gn(Cg),dA._currentValue=Il)}var gm,cb;function xl(t){if(gm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);gm=e&&e[1]||"",cb=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gm+t+cb}var vm=!1;function mm(t,e){if(!t||vm)return"";vm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(e){var c=function(){throw Error()};if(Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(u){var o=u}Reflect.construct(t,[],c)}else{try{c.call()}catch(u){o=u}t.call(c.prototype)}}else{try{throw Error()}catch(u){o=u}(c=t())&&typeof c.catch=="function"&&c.catch(function(){})}}catch(u){if(u&&o&&typeof u.stack=="string")return[u.stack,o.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=s.DetermineComponentFrameRoot(),r=w[0],x=w[1];if(r&&x){var i=r.split(`
`),a=x.split(`
`);for(m=s=0;s<i.length&&!i[s].includes("DetermineComponentFrameRoot");)s++;for(;m<a.length&&!a[m].includes("DetermineComponentFrameRoot");)m++;if(s===i.length||m===a.length)for(s=i.length-1,m=a.length-1;1<=s&&0<=m&&i[s]!==a[m];)m--;for(;1<=s&&0<=m;s--,m--)if(i[s]!==a[m]){if(s!==1||m!==1)do if(s--,m--,0>m||i[s]!==a[m]){var p=`
`+i[s].replace(" at new "," at ");return t.displayName&&p.includes("<anonymous>")&&(p=p.replace("<anonymous>",t.displayName)),p}while(1<=s&&0<=m);break}}}finally{vm=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?xl(n):""}function M8(t,e){switch(t.tag){case 26:case 27:case 5:return xl(t.type);case 16:return xl("Lazy");case 13:return t.child!==e&&e!==null?xl("Suspense Fallback"):xl("Suspense");case 19:return xl("SuspenseList");case 0:case 15:return mm(t.type,!1);case 11:return mm(t.type.render,!1);case 1:return mm(t.type,!0);case 31:return xl("Activity");default:return""}}function db(t){try{var e="",n=null;do e+=M8(t,n),n=t,t=t.return;while(t);return e}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Ax=Object.prototype.hasOwnProperty,I2=rn.unstable_scheduleCallback,ym=rn.unstable_cancelCallback,R8=rn.unstable_shouldYield,I8=rn.unstable_requestPaint,Ps=rn.unstable_now,P8=rn.unstable_getCurrentPriorityLevel,t3=rn.unstable_ImmediatePriority,i3=rn.unstable_UserBlockingPriority,Tg=rn.unstable_NormalPriority,U8=rn.unstable_LowPriority,n3=rn.unstable_IdlePriority,D8=rn.log,O8=rn.unstable_setDisableYieldValue,NA=null,Us=null;function bo(t){if(typeof D8=="function"&&O8(t),Us&&typeof Us.setStrictMode=="function")try{Us.setStrictMode(NA,t)}catch{}}var Ds=Math.clz32?Math.clz32:G8,k8=Math.log,H8=Math.LN2;function G8(t){return t>>>=0,t===0?32:31-(k8(t)/H8|0)|0}var Xf=256,Wf=262144,Kf=4194304;function wl(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Iv(t,e,n){var s=t.pendingLanes;if(s===0)return 0;var m=0,w=t.suspendedLanes,r=t.pingedLanes;t=t.warmLanes;var x=s&134217727;return x!==0?(s=x&~w,s!==0?m=wl(s):(r&=x,r!==0?m=wl(r):n||(n=x&~t,n!==0&&(m=wl(n))))):(x=s&~w,x!==0?m=wl(x):r!==0?m=wl(r):n||(n=s&~t,n!==0&&(m=wl(n)))),m===0?0:e!==0&&e!==m&&!(e&w)&&(w=m&-m,n=e&-e,w>=n||w===32&&(n&4194048)!==0)?e:m}function LA(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function Q8(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function s3(){var t=Kf;return Kf<<=1,!(Kf&62914560)&&(Kf=4194304),t}function xm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function MA(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function j8(t,e,n,s,m,w){var r=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var x=t.entanglements,i=t.expirationTimes,a=t.hiddenUpdates;for(n=r&~n;0<n;){var p=31-Ds(n),c=1<<p;x[p]=0,i[p]=-1;var o=a[p];if(o!==null)for(a[p]=null,p=0;p<o.length;p++){var u=o[p];u!==null&&(u.lane&=-536870913)}n&=~c}s!==0&&r3(t,s,0),w!==0&&m===0&&t.tag!==0&&(t.suspendedLanes|=w&~(r&~e))}function r3(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var s=31-Ds(e);t.entangledLanes|=e,t.entanglements[s]=t.entanglements[s]|1073741824|n&261930}function a3(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-Ds(n),m=1<<s;m&e|t[s]&e&&(t[s]|=e),n&=~m}}function o3(t,e){var n=e&-e;return n=n&42?1:P2(n),n&(t.suspendedLanes|e)?0:n}function P2(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function U2(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function l3(){var t=Wt.p;return t!==0?t:(t=window.event,t===void 0?32:MN(t.type))}function Ab(t,e){var n=Wt.p;try{return Wt.p=t,e()}finally{Wt.p=n}}var tl=Math.random().toString(36).slice(2),bn="__reactFiber$"+tl,ys="__reactProps$"+tl,nc="__reactContainer$"+tl,fx="__reactEvents$"+tl,V8="__reactListeners$"+tl,z8="__reactHandles$"+tl,fb="__reactResources$"+tl,RA="__reactMarker$"+tl;function D2(t){delete t[bn],delete t[ys],delete t[fx],delete t[V8],delete t[z8]}function ih(t){var e=t[bn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[nc]||n[bn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=w5(t);t!==null;){if(n=t[bn])return n;t=w5(t)}return e}t=n,n=t.parentNode}return null}function sc(t){if(t=t[bn]||t[nc]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function pd(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(Oe(33))}function wh(t){var e=t[fb];return e||(e=t[fb]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function fn(t){t[RA]=!0}var u3=new Set,h3={};function $l(t,e){Oh(t,e),Oh(t+"Capture",e)}function Oh(t,e){for(h3[t]=e,t=0;t<e.length;t++)u3.add(e[t])}var Y8=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pb={},gb={};function X8(t){return Ax.call(gb,t)?!0:Ax.call(pb,t)?!1:Y8.test(t)?gb[t]=!0:(pb[t]=!0,!1)}function Wp(t,e,n){if(X8(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var s=e.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Jf(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function pa(t,e,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+s)}}function er(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function c3(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function W8(t,e,n){var s=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var m=s.get,w=s.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return m.call(this)},set:function(r){n=""+r,w.call(this,r)}}),Object.defineProperty(t,e,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(r){n=""+r},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function px(t){if(!t._valueTracker){var e=c3(t)?"checked":"value";t._valueTracker=W8(t,e,""+t[e])}}function d3(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=c3(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function Eg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var K8=/[\n"\\]/g;function sr(t){return t.replace(K8,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function gx(t,e,n,s,m,w,r,x){t.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?t.type=r:t.removeAttribute("type"),e!=null?r==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+er(e)):t.value!==""+er(e)&&(t.value=""+er(e)):r!=="submit"&&r!=="reset"||t.removeAttribute("value"),e!=null?vx(t,r,er(e)):n!=null?vx(t,r,er(n)):s!=null&&t.removeAttribute("value"),m==null&&w!=null&&(t.defaultChecked=!!w),m!=null&&(t.checked=m&&typeof m!="function"&&typeof m!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.name=""+er(x):t.removeAttribute("name")}function A3(t,e,n,s,m,w,r,x){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(t.type=w),e!=null||n!=null){if(!(w!=="submit"&&w!=="reset"||e!=null)){px(t);return}n=n!=null?""+er(n):"",e=e!=null?""+er(e):n,x||e===t.value||(t.value=e),t.defaultValue=e}s=s??m,s=typeof s!="function"&&typeof s!="symbol"&&!!s,t.checked=x?t.checked:!!s,t.defaultChecked=!!s,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(t.name=r),px(t)}function vx(t,e,n){e==="number"&&Eg(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Ch(t,e,n,s){if(t=t.options,e){e={};for(var m=0;m<n.length;m++)e["$"+n[m]]=!0;for(n=0;n<t.length;n++)m=e.hasOwnProperty("$"+t[n].value),t[n].selected!==m&&(t[n].selected=m),m&&s&&(t[n].defaultSelected=!0)}else{for(n=""+er(n),e=null,m=0;m<t.length;m++){if(t[m].value===n){t[m].selected=!0,s&&(t[m].defaultSelected=!0);return}e!==null||t[m].disabled||(e=t[m])}e!==null&&(e.selected=!0)}}function f3(t,e,n){if(e!=null&&(e=""+er(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+er(n):""}function p3(t,e,n,s){if(e==null){if(s!=null){if(n!=null)throw Error(Oe(92));if(fd(s)){if(1<s.length)throw Error(Oe(93));s=s[0]}n=s}n==null&&(n=""),e=n}n=er(e),t.defaultValue=n,s=t.textContent,s===n&&s!==""&&s!==null&&(t.value=s),px(t)}function kh(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var J8=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vb(t,e,n){var s=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?s?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":s?t.setProperty(e,n):typeof n!="number"||n===0||J8.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function g3(t,e,n){if(e!=null&&typeof e!="object")throw Error(Oe(62));if(t=t.style,n!=null){for(var s in n)!n.hasOwnProperty(s)||e!=null&&e.hasOwnProperty(s)||(s.indexOf("--")===0?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="");for(var m in e)s=e[m],e.hasOwnProperty(m)&&n[m]!==s&&vb(t,m,s)}else for(var w in e)e.hasOwnProperty(w)&&vb(t,w,e[w])}function O2(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Z8=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$8=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Kp(t){return $8.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Ea(){}var mx=null;function k2(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var nh=null,bh=null;function mb(t){var e=sc(t);if(e&&(t=e.stateNode)){var n=t[ys]||null;e:switch(t=e.stateNode,e.type){case"input":if(gx(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+sr(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var m=s[ys]||null;if(!m)throw Error(Oe(90));gx(s,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(e=0;e<n.length;e++)s=n[e],s.form===t.form&&d3(s)}break e;case"textarea":f3(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&Ch(t,!!n.multiple,e,!1)}}}var wm=!1;function v3(t,e,n){if(wm)return t(e,n);wm=!0;try{var s=t(e);return s}finally{if(wm=!1,(nh!==null||bh!==null)&&(Yv(),nh&&(e=nh,t=bh,bh=nh=null,mb(e),t)))for(e=0;e<t.length;e++)mb(t[e])}}function iA(t,e){var n=t.stateNode;if(n===null)return null;var s=n[ys]||null;if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Oe(231,e,typeof n));return n}var Ra=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yx=!1;if(Ra)try{var Kc={};Object.defineProperty(Kc,"passive",{get:function(){yx=!0}}),window.addEventListener("test",Kc,Kc),window.removeEventListener("test",Kc,Kc)}catch{yx=!1}var So=null,H2=null,Jp=null;function m3(){if(Jp)return Jp;var t,e=H2,n=e.length,s,m="value"in So?So.value:So.textContent,w=m.length;for(t=0;t<n&&e[t]===m[t];t++);var r=n-t;for(s=1;s<=r&&e[n-s]===m[w-s];s++);return Jp=m.slice(t,1<s?1-s:void 0)}function Zp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Zf(){return!0}function yb(){return!1}function xs(t){function e(n,s,m,w,r){this._reactName=n,this._targetInst=m,this.type=s,this.nativeEvent=w,this.target=r,this.currentTarget=null;for(var x in t)t.hasOwnProperty(x)&&(n=t[x],this[x]=n?n(w):w[x]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Zf:yb,this.isPropagationStopped=yb,this}return vi(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Zf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Zf)},persist:function(){},isPersistent:Zf}),e}var ql={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pv=xs(ql),IA=vi({},ql,{view:0,detail:0}),q8=xs(IA),Cm,bm,Jc,Uv=vi({},IA,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:G2,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Jc&&(Jc&&t.type==="mousemove"?(Cm=t.screenX-Jc.screenX,bm=t.screenY-Jc.screenY):bm=Cm=0,Jc=t),Cm)},movementY:function(t){return"movementY"in t?t.movementY:bm}}),xb=xs(Uv),_8=vi({},Uv,{dataTransfer:0}),eP=xs(_8),tP=vi({},IA,{relatedTarget:0}),Sm=xs(tP),iP=vi({},ql,{animationName:0,elapsedTime:0,pseudoElement:0}),nP=xs(iP),sP=vi({},ql,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),rP=xs(sP),aP=vi({},ql,{data:0}),wb=xs(aP),oP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=uP[t])?!!e[t]:!1}function G2(){return hP}var cP=vi({},IA,{key:function(t){if(t.key){var e=oP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Zp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?lP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:G2,charCode:function(t){return t.type==="keypress"?Zp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Zp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),dP=xs(cP),AP=vi({},Uv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cb=xs(AP),fP=vi({},IA,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:G2}),pP=xs(fP),gP=vi({},ql,{propertyName:0,elapsedTime:0,pseudoElement:0}),vP=xs(gP),mP=vi({},Uv,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),yP=xs(mP),xP=vi({},ql,{newState:0,oldState:0}),wP=xs(xP),CP=[9,13,27,32],Q2=Ra&&"CompositionEvent"in window,Ld=null;Ra&&"documentMode"in document&&(Ld=document.documentMode);var bP=Ra&&"TextEvent"in window&&!Ld,y3=Ra&&(!Q2||Ld&&8<Ld&&11>=Ld),bb=" ",Sb=!1;function x3(t,e){switch(t){case"keyup":return CP.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function w3(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var sh=!1;function SP(t,e){switch(t){case"compositionend":return w3(e);case"keypress":return e.which!==32?null:(Sb=!0,bb);case"textInput":return t=e.data,t===bb&&Sb?null:t;default:return null}}function TP(t,e){if(sh)return t==="compositionend"||!Q2&&x3(t,e)?(t=m3(),Jp=H2=So=null,sh=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return y3&&e.locale!=="ko"?null:e.data;default:return null}}var EP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!EP[t.type]:e==="textarea"}function C3(t,e,n,s){nh?bh?bh.push(s):bh=[s]:nh=s,e=zg(e,"onChange"),0<e.length&&(n=new Pv("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var Md=null,nA=null;function BP(t){vN(t,0)}function Dv(t){var e=pd(t);if(d3(e))return t}function Eb(t,e){if(t==="change")return e}var b3=!1;if(Ra){var Tm;if(Ra){var Em="oninput"in document;if(!Em){var Bb=document.createElement("div");Bb.setAttribute("oninput","return;"),Em=typeof Bb.oninput=="function"}Tm=Em}else Tm=!1;b3=Tm&&(!document.documentMode||9<document.documentMode)}function Fb(){Md&&(Md.detachEvent("onpropertychange",S3),nA=Md=null)}function S3(t){if(t.propertyName==="value"&&Dv(nA)){var e=[];C3(e,nA,t,k2(t)),v3(BP,e)}}function FP(t,e,n){t==="focusin"?(Fb(),Md=e,nA=n,Md.attachEvent("onpropertychange",S3)):t==="focusout"&&Fb()}function NP(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Dv(nA)}function LP(t,e){if(t==="click")return Dv(e)}function MP(t,e){if(t==="input"||t==="change")return Dv(e)}function RP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ks=typeof Object.is=="function"?Object.is:RP;function sA(t,e){if(ks(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var m=n[s];if(!Ax.call(e,m)||!ks(t[m],e[m]))return!1}return!0}function Nb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Lb(t,e){var n=Nb(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Nb(n)}}function T3(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?T3(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function E3(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Eg(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Eg(t.document)}return e}function j2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var IP=Ra&&"documentMode"in document&&11>=document.documentMode,rh=null,xx=null,Rd=null,wx=!1;function Mb(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;wx||rh==null||rh!==Eg(s)||(s=rh,"selectionStart"in s&&j2(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Rd&&sA(Rd,s)||(Rd=s,s=zg(xx,"onSelect"),0<s.length&&(e=new Pv("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=rh)))}function gl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ah={animationend:gl("Animation","AnimationEnd"),animationiteration:gl("Animation","AnimationIteration"),animationstart:gl("Animation","AnimationStart"),transitionrun:gl("Transition","TransitionRun"),transitionstart:gl("Transition","TransitionStart"),transitioncancel:gl("Transition","TransitionCancel"),transitionend:gl("Transition","TransitionEnd")},Bm={},B3={};Ra&&(B3=document.createElement("div").style,"AnimationEvent"in window||(delete ah.animationend.animation,delete ah.animationiteration.animation,delete ah.animationstart.animation),"TransitionEvent"in window||delete ah.transitionend.transition);function _l(t){if(Bm[t])return Bm[t];if(!ah[t])return t;var e=ah[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in B3)return Bm[t]=e[n];return t}var F3=_l("animationend"),N3=_l("animationiteration"),L3=_l("animationstart"),PP=_l("transitionrun"),UP=_l("transitionstart"),DP=_l("transitioncancel"),M3=_l("transitionend"),R3=new Map,Cx="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cx.push("scrollEnd");function Ur(t,e){R3.set(t,e),$l(e,[t])}var Bg=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},_s=[],oh=0,V2=0;function Ov(){for(var t=oh,e=V2=oh=0;e<t;){var n=_s[e];_s[e++]=null;var s=_s[e];_s[e++]=null;var m=_s[e];_s[e++]=null;var w=_s[e];if(_s[e++]=null,s!==null&&m!==null){var r=s.pending;r===null?m.next=m:(m.next=r.next,r.next=m),s.pending=m}w!==0&&I3(n,m,w)}}function kv(t,e,n,s){_s[oh++]=t,_s[oh++]=e,_s[oh++]=n,_s[oh++]=s,V2|=s,t.lanes|=s,t=t.alternate,t!==null&&(t.lanes|=s)}function z2(t,e,n,s){return kv(t,e,n,s),Fg(t)}function eu(t,e){return kv(t,null,null,e),Fg(t)}function I3(t,e,n){t.lanes|=n;var s=t.alternate;s!==null&&(s.lanes|=n);for(var m=!1,w=t.return;w!==null;)w.childLanes|=n,s=w.alternate,s!==null&&(s.childLanes|=n),w.tag===22&&(t=w.stateNode,t===null||t._visibility&1||(m=!0)),t=w,w=w.return;return t.tag===3?(w=t.stateNode,m&&e!==null&&(m=31-Ds(n),t=w.hiddenUpdates,s=t[m],s===null?t[m]=[e]:s.push(e),e.lane=n|536870912),w):null}function Fg(t){if(50<Qd)throw Qd=0,Vx=null,Error(Oe(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var lh={};function OP(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ms(t,e,n,s){return new OP(t,e,n,s)}function Y2(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Fa(t,e){var n=t.alternate;return n===null?(n=Ms(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function P3(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function $p(t,e,n,s,m,w){var r=0;if(s=t,typeof t=="function")Y2(t)&&(r=1);else if(typeof t=="string")r=jU(t,n,$r.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case ux:return t=Ms(31,n,e,m),t.elementType=ux,t.lanes=w,t;case eh:return Pl(n.children,m,w,e);case _B:r=8,m|=24;break;case ax:return t=Ms(12,n,e,m|2),t.elementType=ax,t.lanes=w,t;case ox:return t=Ms(13,n,e,m),t.elementType=ox,t.lanes=w,t;case lx:return t=Ms(19,n,e,m),t.elementType=lx,t.lanes=w,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ta:r=10;break e;case e3:r=9;break e;case M2:r=11;break e;case R2:r=14;break e;case po:r=16,s=null;break e}r=29,n=Error(Oe(130,t===null?"null":typeof t,"")),s=null}return e=Ms(r,n,e,m),e.elementType=t,e.type=s,e.lanes=w,e}function Pl(t,e,n,s){return t=Ms(7,t,s,e),t.lanes=n,t}function Fm(t,e,n){return t=Ms(6,t,null,e),t.lanes=n,t}function U3(t){var e=Ms(18,null,null,0);return e.stateNode=t,e}function Nm(t,e,n){return e=Ms(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var Rb=new WeakMap;function rr(t,e){if(typeof t=="object"&&t!==null){var n=Rb.get(t);return n!==void 0?n:(e={value:t,source:e,stack:db(e)},Rb.set(t,e),e)}return{value:t,source:e,stack:db(e)}}var uh=[],hh=0,Ng=null,rA=0,tr=[],ir=0,zo=null,Xr=1,Wr="";function ba(t,e){uh[hh++]=rA,uh[hh++]=Ng,Ng=t,rA=e}function D3(t,e,n){tr[ir++]=Xr,tr[ir++]=Wr,tr[ir++]=zo,zo=t;var s=Xr;t=Wr;var m=32-Ds(s)-1;s&=~(1<<m),n+=1;var w=32-Ds(e)+m;if(30<w){var r=m-m%5;w=(s&(1<<r)-1).toString(32),s>>=r,m-=r,Xr=1<<32-Ds(e)+m|n<<m|s,Wr=w+t}else Xr=1<<w|n<<m|s,Wr=t}function X2(t){t.return!==null&&(ba(t,1),D3(t,1,0))}function W2(t){for(;t===Ng;)Ng=uh[--hh],uh[hh]=null,rA=uh[--hh],uh[hh]=null;for(;t===zo;)zo=tr[--ir],tr[ir]=null,Wr=tr[--ir],tr[ir]=null,Xr=tr[--ir],tr[ir]=null}function O3(t,e){tr[ir++]=Xr,tr[ir++]=Wr,tr[ir++]=zo,Xr=e.id,Wr=e.overflow,zo=t}var Sn=null,fi=null,kt=!1,Io=null,ar=!1,bx=Error(Oe(519));function Yo(t){var e=Error(Oe(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw aA(rr(e,t)),bx}function Ib(t){var e=t.stateNode,n=t.type,s=t.memoizedProps;switch(e[bn]=t,e[ys]=s,n){case"dialog":It("cancel",e),It("close",e);break;case"iframe":case"object":case"embed":It("load",e);break;case"video":case"audio":for(n=0;n<hA.length;n++)It(hA[n],e);break;case"source":It("error",e);break;case"img":case"image":case"link":It("error",e),It("load",e);break;case"details":It("toggle",e);break;case"input":It("invalid",e),A3(e,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":It("invalid",e);break;case"textarea":It("invalid",e),p3(e,s.value,s.defaultValue,s.children)}n=s.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||s.suppressHydrationWarning===!0||yN(e.textContent,n)?(s.popover!=null&&(It("beforetoggle",e),It("toggle",e)),s.onScroll!=null&&It("scroll",e),s.onScrollEnd!=null&&It("scrollend",e),s.onClick!=null&&(e.onclick=Ea),e=!0):e=!1,e||Yo(t,!0)}function Pb(t){for(Sn=t.return;Sn;)switch(Sn.tag){case 5:case 31:case 13:ar=!1;return;case 27:case 3:ar=!0;return;default:Sn=Sn.return}}function Iu(t){if(t!==Sn)return!1;if(!kt)return Pb(t),kt=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Kx(t.type,t.memoizedProps)),n=!n),n&&fi&&Yo(t),Pb(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Oe(317));fi=x5(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Oe(317));fi=x5(t)}else e===27?(e=fi,il(t.type)?(t=qx,qx=null,fi=t):fi=e):fi=Sn?dr(t.stateNode.nextSibling):null;return!0}function zl(){fi=Sn=null,kt=!1}function Lm(){var t=Io;return t!==null&&(fs===null?fs=t:fs.push.apply(fs,t),Io=null),t}function aA(t){Io===null?Io=[t]:Io.push(t)}var Sx=ta(null),tu=null,Ba=null;function yo(t,e,n){di(Sx,e._currentValue),e._currentValue=n}function Na(t){t._currentValue=Sx.current,gn(Sx)}function Tx(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function Ex(t,e,n,s){var m=t.child;for(m!==null&&(m.return=t);m!==null;){var w=m.dependencies;if(w!==null){var r=m.child;w=w.firstContext;e:for(;w!==null;){var x=w;w=m;for(var i=0;i<e.length;i++)if(x.context===e[i]){w.lanes|=n,x=w.alternate,x!==null&&(x.lanes|=n),Tx(w.return,n,t),s||(r=null);break e}w=x.next}}else if(m.tag===18){if(r=m.return,r===null)throw Error(Oe(341));r.lanes|=n,w=r.alternate,w!==null&&(w.lanes|=n),Tx(r,n,t),r=null}else r=m.child;if(r!==null)r.return=m;else for(r=m;r!==null;){if(r===t){r=null;break}if(m=r.sibling,m!==null){m.return=r.return,r=m;break}r=r.return}m=r}}function rc(t,e,n,s){t=null;for(var m=e,w=!1;m!==null;){if(!w){if(m.flags&524288)w=!0;else if(m.flags&262144)break}if(m.tag===10){var r=m.alternate;if(r===null)throw Error(Oe(387));if(r=r.memoizedProps,r!==null){var x=m.type;ks(m.pendingProps.value,r.value)||(t!==null?t.push(x):t=[x])}}else if(m===Cg.current){if(r=m.alternate,r===null)throw Error(Oe(387));r.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(t!==null?t.push(dA):t=[dA])}m=m.return}t!==null&&Ex(e,t,n,s),e.flags|=262144}function Lg(t){for(t=t.firstContext;t!==null;){if(!ks(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Yl(t){tu=t,Ba=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Tn(t){return k3(tu,t)}function $f(t,e){return tu===null&&Yl(t),k3(t,e)}function k3(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Ba===null){if(t===null)throw Error(Oe(308));Ba=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Ba=Ba.next=e;return n}var kP=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,s){t.push(s)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},HP=rn.unstable_scheduleCallback,GP=rn.unstable_NormalPriority,$i={$$typeof:Ta,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function K2(){return{controller:new kP,data:new Map,refCount:0}}function PA(t){t.refCount--,t.refCount===0&&HP(GP,function(){t.controller.abort()})}var Id=null,Bx=0,Hh=0,Sh=null;function QP(t,e){if(Id===null){var n=Id=[];Bx=0,Hh=yw(),Sh={status:"pending",value:void 0,then:function(s){n.push(s)}}}return Bx++,e.then(Ub,Ub),e}function Ub(){if(--Bx===0&&Id!==null){Sh!==null&&(Sh.status="fulfilled");var t=Id;Id=null,Hh=0,Sh=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function jP(t,e){var n=[],s={status:"pending",value:null,reason:null,then:function(m){n.push(m)}};return t.then(function(){s.status="fulfilled",s.value=e;for(var m=0;m<n.length;m++)(0,n[m])(e)},function(m){for(s.status="rejected",s.reason=m,m=0;m<n.length;m++)(0,n[m])(void 0)}),s}var Db=yt.S;yt.S=function(t,e){qF=Ps(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&QP(t,e),Db!==null&&Db(t,e)};var Ul=ta(null);function J2(){var t=Ul.current;return t!==null?t:oi.pooledCache}function qp(t,e){e===null?di(Ul,Ul.current):di(Ul,e.pool)}function H3(){var t=J2();return t===null?null:{parent:$i._currentValue,pool:t}}var ac=Error(Oe(460)),Z2=Error(Oe(474)),Hv=Error(Oe(542)),Mg={then:function(){}};function Ob(t){return t=t.status,t==="fulfilled"||t==="rejected"}function G3(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Ea,Ea),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Hb(t),t;default:if(typeof e.status=="string")e.then(Ea,Ea);else{if(t=oi,t!==null&&100<t.shellSuspendCounter)throw Error(Oe(482));t=e,t.status="pending",t.then(function(s){if(e.status==="pending"){var m=e;m.status="fulfilled",m.value=s}},function(s){if(e.status==="pending"){var m=e;m.status="rejected",m.reason=s}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Hb(t),t}throw Dl=e,ac}}function Cl(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Dl=n,ac):n}}var Dl=null;function kb(){if(Dl===null)throw Error(Oe(459));var t=Dl;return Dl=null,t}function Hb(t){if(t===ac||t===Hv)throw Error(Oe(483))}var Th=null,oA=0;function qf(t){var e=oA;return oA+=1,Th===null&&(Th=[]),G3(Th,t,e)}function Zc(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function _f(t,e){throw e.$$typeof===F8?Error(Oe(525)):(t=Object.prototype.toString.call(e),Error(Oe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Q3(t){function e(h,A){if(t){var g=h.deletions;g===null?(h.deletions=[A],h.flags|=16):g.push(A)}}function n(h,A){if(!t)return null;for(;A!==null;)e(h,A),A=A.sibling;return null}function s(h){for(var A=new Map;h!==null;)h.key!==null?A.set(h.key,h):A.set(h.index,h),h=h.sibling;return A}function m(h,A){return h=Fa(h,A),h.index=0,h.sibling=null,h}function w(h,A,g){return h.index=g,t?(g=h.alternate,g!==null?(g=g.index,g<A?(h.flags|=67108866,A):g):(h.flags|=67108866,A)):(h.flags|=1048576,A)}function r(h){return t&&h.alternate===null&&(h.flags|=67108866),h}function x(h,A,g,v){return A===null||A.tag!==6?(A=Fm(g,h.mode,v),A.return=h,A):(A=m(A,g),A.return=h,A)}function i(h,A,g,v){var y=g.type;return y===eh?p(h,A,g.props.children,v,g.key):A!==null&&(A.elementType===y||typeof y=="object"&&y!==null&&y.$$typeof===po&&Cl(y)===A.type)?(A=m(A,g.props),Zc(A,g),A.return=h,A):(A=$p(g.type,g.key,g.props,null,h.mode,v),Zc(A,g),A.return=h,A)}function a(h,A,g,v){return A===null||A.tag!==4||A.stateNode.containerInfo!==g.containerInfo||A.stateNode.implementation!==g.implementation?(A=Nm(g,h.mode,v),A.return=h,A):(A=m(A,g.children||[]),A.return=h,A)}function p(h,A,g,v,y){return A===null||A.tag!==7?(A=Pl(g,h.mode,v,y),A.return=h,A):(A=m(A,g),A.return=h,A)}function c(h,A,g){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=Fm(""+A,h.mode,g),A.return=h,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Yf:return g=$p(A.type,A.key,A.props,null,h.mode,g),Zc(g,A),g.return=h,g;case Ad:return A=Nm(A,h.mode,g),A.return=h,A;case po:return A=Cl(A),c(h,A,g)}if(fd(A)||Wc(A))return A=Pl(A,h.mode,g,null),A.return=h,A;if(typeof A.then=="function")return c(h,qf(A),g);if(A.$$typeof===Ta)return c(h,$f(h,A),g);_f(h,A)}return null}function o(h,A,g,v){var y=A!==null?A.key:null;if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return y!==null?null:x(h,A,""+g,v);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Yf:return g.key===y?i(h,A,g,v):null;case Ad:return g.key===y?a(h,A,g,v):null;case po:return g=Cl(g),o(h,A,g,v)}if(fd(g)||Wc(g))return y!==null?null:p(h,A,g,v,null);if(typeof g.then=="function")return o(h,A,qf(g),v);if(g.$$typeof===Ta)return o(h,A,$f(h,g),v);_f(h,g)}return null}function u(h,A,g,v,y){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return h=h.get(g)||null,x(A,h,""+v,y);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Yf:return h=h.get(v.key===null?g:v.key)||null,i(A,h,v,y);case Ad:return h=h.get(v.key===null?g:v.key)||null,a(A,h,v,y);case po:return v=Cl(v),u(h,A,g,v,y)}if(fd(v)||Wc(v))return h=h.get(g)||null,p(A,h,v,y,null);if(typeof v.then=="function")return u(h,A,g,qf(v),y);if(v.$$typeof===Ta)return u(h,A,g,$f(A,v),y);_f(A,v)}return null}function l(h,A,g,v){for(var y=null,C=null,b=A,T=A=0,S=null;b!==null&&T<g.length;T++){b.index>T?(S=b,b=null):S=b.sibling;var F=o(h,b,g[T],v);if(F===null){b===null&&(b=S);break}t&&b&&F.alternate===null&&e(h,b),A=w(F,A,T),C===null?y=F:C.sibling=F,C=F,b=S}if(T===g.length)return n(h,b),kt&&ba(h,T),y;if(b===null){for(;T<g.length;T++)b=c(h,g[T],v),b!==null&&(A=w(b,A,T),C===null?y=b:C.sibling=b,C=b);return kt&&ba(h,T),y}for(b=s(b);T<g.length;T++)S=u(b,h,T,g[T],v),S!==null&&(t&&S.alternate!==null&&b.delete(S.key===null?T:S.key),A=w(S,A,T),C===null?y=S:C.sibling=S,C=S);return t&&b.forEach(function(B){return e(h,B)}),kt&&ba(h,T),y}function d(h,A,g,v){if(g==null)throw Error(Oe(151));for(var y=null,C=null,b=A,T=A=0,S=null,F=g.next();b!==null&&!F.done;T++,F=g.next()){b.index>T?(S=b,b=null):S=b.sibling;var B=o(h,b,F.value,v);if(B===null){b===null&&(b=S);break}t&&b&&B.alternate===null&&e(h,b),A=w(B,A,T),C===null?y=B:C.sibling=B,C=B,b=S}if(F.done)return n(h,b),kt&&ba(h,T),y;if(b===null){for(;!F.done;T++,F=g.next())F=c(h,F.value,v),F!==null&&(A=w(F,A,T),C===null?y=F:C.sibling=F,C=F);return kt&&ba(h,T),y}for(b=s(b);!F.done;T++,F=g.next())F=u(b,h,T,F.value,v),F!==null&&(t&&F.alternate!==null&&b.delete(F.key===null?T:F.key),A=w(F,A,T),C===null?y=F:C.sibling=F,C=F);return t&&b.forEach(function(N){return e(h,N)}),kt&&ba(h,T),y}function f(h,A,g,v){if(typeof g=="object"&&g!==null&&g.type===eh&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Yf:e:{for(var y=g.key;A!==null;){if(A.key===y){if(y=g.type,y===eh){if(A.tag===7){n(h,A.sibling),v=m(A,g.props.children),v.return=h,h=v;break e}}else if(A.elementType===y||typeof y=="object"&&y!==null&&y.$$typeof===po&&Cl(y)===A.type){n(h,A.sibling),v=m(A,g.props),Zc(v,g),v.return=h,h=v;break e}n(h,A);break}else e(h,A);A=A.sibling}g.type===eh?(v=Pl(g.props.children,h.mode,v,g.key),v.return=h,h=v):(v=$p(g.type,g.key,g.props,null,h.mode,v),Zc(v,g),v.return=h,h=v)}return r(h);case Ad:e:{for(y=g.key;A!==null;){if(A.key===y)if(A.tag===4&&A.stateNode.containerInfo===g.containerInfo&&A.stateNode.implementation===g.implementation){n(h,A.sibling),v=m(A,g.children||[]),v.return=h,h=v;break e}else{n(h,A);break}else e(h,A);A=A.sibling}v=Nm(g,h.mode,v),v.return=h,h=v}return r(h);case po:return g=Cl(g),f(h,A,g,v)}if(fd(g))return l(h,A,g,v);if(Wc(g)){if(y=Wc(g),typeof y!="function")throw Error(Oe(150));return g=y.call(g),d(h,A,g,v)}if(typeof g.then=="function")return f(h,A,qf(g),v);if(g.$$typeof===Ta)return f(h,A,$f(h,g),v);_f(h,g)}return typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint"?(g=""+g,A!==null&&A.tag===6?(n(h,A.sibling),v=m(A,g),v.return=h,h=v):(n(h,A),v=Fm(g,h.mode,v),v.return=h,h=v),r(h)):n(h,A)}return function(h,A,g,v){try{oA=0;var y=f(h,A,g,v);return Th=null,y}catch(b){if(b===ac||b===Hv)throw b;var C=Ms(29,b,null,h.mode);return C.lanes=v,C.return=h,C}finally{}}}var Xl=Q3(!0),j3=Q3(!1),go=!1;function $2(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fx(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Po(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Uo(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,Xt&2){var m=s.pending;return m===null?e.next=e:(e.next=m.next,m.next=e),s.pending=e,e=Fg(t),I3(t,null,n),e}return kv(t,s,e,n),Fg(t)}function Pd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,a3(t,n)}}function Mm(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var m=null,w=null;if(n=n.firstBaseUpdate,n!==null){do{var r={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};w===null?m=w=r:w=w.next=r,n=n.next}while(n!==null);w===null?m=w=e:w=w.next=e}else m=w=e;n={baseState:s.baseState,firstBaseUpdate:m,lastBaseUpdate:w,shared:s.shared,callbacks:s.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var Nx=!1;function Ud(){if(Nx){var t=Sh;if(t!==null)throw t}}function Dd(t,e,n,s){Nx=!1;var m=t.updateQueue;go=!1;var w=m.firstBaseUpdate,r=m.lastBaseUpdate,x=m.shared.pending;if(x!==null){m.shared.pending=null;var i=x,a=i.next;i.next=null,r===null?w=a:r.next=a,r=i;var p=t.alternate;p!==null&&(p=p.updateQueue,x=p.lastBaseUpdate,x!==r&&(x===null?p.firstBaseUpdate=a:x.next=a,p.lastBaseUpdate=i))}if(w!==null){var c=m.baseState;r=0,p=a=i=null,x=w;do{var o=x.lane&-536870913,u=o!==x.lane;if(u?(Ot&o)===o:(s&o)===o){o!==0&&o===Hh&&(Nx=!0),p!==null&&(p=p.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var l=t,d=x;o=e;var f=n;switch(d.tag){case 1:if(l=d.payload,typeof l=="function"){c=l.call(f,c,o);break e}c=l;break e;case 3:l.flags=l.flags&-65537|128;case 0:if(l=d.payload,o=typeof l=="function"?l.call(f,c,o):l,o==null)break e;c=vi({},c,o);break e;case 2:go=!0}}o=x.callback,o!==null&&(t.flags|=64,u&&(t.flags|=8192),u=m.callbacks,u===null?m.callbacks=[o]:u.push(o))}else u={lane:o,tag:x.tag,payload:x.payload,callback:x.callback,next:null},p===null?(a=p=u,i=c):p=p.next=u,r|=o;if(x=x.next,x===null){if(x=m.shared.pending,x===null)break;u=x,x=u.next,u.next=null,m.lastBaseUpdate=u,m.shared.pending=null}}while(!0);p===null&&(i=c),m.baseState=i,m.firstBaseUpdate=a,m.lastBaseUpdate=p,w===null&&(m.shared.lanes=0),Wo|=r,t.lanes=r,t.memoizedState=c}}function V3(t,e){if(typeof t!="function")throw Error(Oe(191,t));t.call(e)}function z3(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)V3(n[t],e)}var Gh=ta(null),Rg=ta(0);function Gb(t,e){t=Da,di(Rg,t),di(Gh,e),Da=t|e.baseLanes}function Lx(){di(Rg,Da),di(Gh,Gh.current)}function q2(){Da=Rg.current,gn(Gh),gn(Rg)}var Hs=ta(null),cr=null;function xo(t){var e=t.alternate;di(ji,ji.current&1),di(Hs,t),cr===null&&(e===null||Gh.current!==null||e.memoizedState!==null)&&(cr=t)}function Mx(t){di(ji,ji.current),di(Hs,t),cr===null&&(cr=t)}function Y3(t){t.tag===22?(di(ji,ji.current),di(Hs,t),cr===null&&(cr=t)):wo()}function wo(){di(ji,ji.current),di(Hs,Hs.current)}function Ls(t){gn(Hs),cr===t&&(cr=null),gn(ji)}var ji=ta(0);function Ig(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Zx(n)||$x(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ia=0,Lt=null,ni=null,Ji=null,Pg=!1,Eh=!1,Wl=!1,Ug=0,lA=0,Bh=null,VP=0;function Fi(){throw Error(Oe(321))}function _2(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ks(t[n],e[n]))return!1;return!0}function ew(t,e,n,s,m,w){return Ia=w,Lt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,yt.H=t===null||t.memoizedState===null?CF:cw,Wl=!1,w=n(s,m),Wl=!1,Eh&&(w=W3(e,n,s,m)),X3(t),w}function X3(t){yt.H=uA;var e=ni!==null&&ni.next!==null;if(Ia=0,Ji=ni=Lt=null,Pg=!1,lA=0,Bh=null,e)throw Error(Oe(300));t===null||_i||(t=t.dependencies,t!==null&&Lg(t)&&(_i=!0))}function W3(t,e,n,s){Lt=t;var m=0;do{if(Eh&&(Bh=null),lA=0,Eh=!1,25<=m)throw Error(Oe(301));if(m+=1,Ji=ni=null,t.updateQueue!=null){var w=t.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}yt.H=bF,w=e(n,s)}while(Eh);return w}function zP(){var t=yt.H,e=t.useState()[0];return e=typeof e.then=="function"?UA(e):e,t=t.useState()[0],(ni!==null?ni.memoizedState:null)!==t&&(Lt.flags|=1024),e}function tw(){var t=Ug!==0;return Ug=0,t}function iw(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function nw(t){if(Pg){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Pg=!1}Ia=0,Ji=ni=Lt=null,Eh=!1,lA=Ug=0,Bh=null}function Jn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ji===null?Lt.memoizedState=Ji=t:Ji=Ji.next=t,Ji}function Vi(){if(ni===null){var t=Lt.alternate;t=t!==null?t.memoizedState:null}else t=ni.next;var e=Ji===null?Lt.memoizedState:Ji.next;if(e!==null)Ji=e,ni=t;else{if(t===null)throw Lt.alternate===null?Error(Oe(467)):Error(Oe(310));ni=t,t={memoizedState:ni.memoizedState,baseState:ni.baseState,baseQueue:ni.baseQueue,queue:ni.queue,next:null},Ji===null?Lt.memoizedState=Ji=t:Ji=Ji.next=t}return Ji}function Gv(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function UA(t){var e=lA;return lA+=1,Bh===null&&(Bh=[]),t=G3(Bh,t,e),e=Lt,(Ji===null?e.memoizedState:Ji.next)===null&&(e=e.alternate,yt.H=e===null||e.memoizedState===null?CF:cw),t}function Qv(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return UA(t);if(t.$$typeof===Ta)return Tn(t)}throw Error(Oe(438,String(t)))}function sw(t){var e=null,n=Lt.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var s=Lt.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(e={data:s.data.map(function(m){return m.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Gv(),Lt.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),s=0;s<t;s++)n[s]=N8;return e.index++,n}function Pa(t,e){return typeof e=="function"?e(t):e}function _p(t){var e=Vi();return rw(e,ni,t)}function rw(t,e,n){var s=t.queue;if(s===null)throw Error(Oe(311));s.lastRenderedReducer=n;var m=t.baseQueue,w=s.pending;if(w!==null){if(m!==null){var r=m.next;m.next=w.next,w.next=r}e.baseQueue=m=w,s.pending=null}if(w=t.baseState,m===null)t.memoizedState=w;else{e=m.next;var x=r=null,i=null,a=e,p=!1;do{var c=a.lane&-536870913;if(c!==a.lane?(Ot&c)===c:(Ia&c)===c){var o=a.revertLane;if(o===0)i!==null&&(i=i.next={lane:0,revertLane:0,gesture:null,action:a.action,hasEagerState:a.hasEagerState,eagerState:a.eagerState,next:null}),c===Hh&&(p=!0);else if((Ia&o)===o){a=a.next,o===Hh&&(p=!0);continue}else c={lane:0,revertLane:a.revertLane,gesture:null,action:a.action,hasEagerState:a.hasEagerState,eagerState:a.eagerState,next:null},i===null?(x=i=c,r=w):i=i.next=c,Lt.lanes|=o,Wo|=o;c=a.action,Wl&&n(w,c),w=a.hasEagerState?a.eagerState:n(w,c)}else o={lane:c,revertLane:a.revertLane,gesture:a.gesture,action:a.action,hasEagerState:a.hasEagerState,eagerState:a.eagerState,next:null},i===null?(x=i=o,r=w):i=i.next=o,Lt.lanes|=c,Wo|=c;a=a.next}while(a!==null&&a!==e);if(i===null?r=w:i.next=x,!ks(w,t.memoizedState)&&(_i=!0,p&&(n=Sh,n!==null)))throw n;t.memoizedState=w,t.baseState=r,t.baseQueue=i,s.lastRenderedState=w}return m===null&&(s.lanes=0),[t.memoizedState,s.dispatch]}function Rm(t){var e=Vi(),n=e.queue;if(n===null)throw Error(Oe(311));n.lastRenderedReducer=t;var s=n.dispatch,m=n.pending,w=e.memoizedState;if(m!==null){n.pending=null;var r=m=m.next;do w=t(w,r.action),r=r.next;while(r!==m);ks(w,e.memoizedState)||(_i=!0),e.memoizedState=w,e.baseQueue===null&&(e.baseState=w),n.lastRenderedState=w}return[w,s]}function K3(t,e,n){var s=Lt,m=Vi(),w=kt;if(w){if(n===void 0)throw Error(Oe(407));n=n()}else n=e();var r=!ks((ni||m).memoizedState,n);if(r&&(m.memoizedState=n,_i=!0),m=m.queue,aw($3.bind(null,s,m,t),[t]),m.getSnapshot!==e||r||Ji!==null&&Ji.memoizedState.tag&1){if(s.flags|=2048,Qh(9,{destroy:void 0},Z3.bind(null,s,m,n,e),null),oi===null)throw Error(Oe(349));w||Ia&127||J3(s,e,n)}return n}function J3(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Lt.updateQueue,e===null?(e=Gv(),Lt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Z3(t,e,n,s){e.value=n,e.getSnapshot=s,q3(e)&&_3(t)}function $3(t,e,n){return n(function(){q3(e)&&_3(t)})}function q3(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ks(t,n)}catch{return!0}}function _3(t){var e=eu(t,2);e!==null&&ms(e,t,2)}function Rx(t){var e=Jn();if(typeof t=="function"){var n=t;if(t=n(),Wl){bo(!0);try{n()}finally{bo(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pa,lastRenderedState:t},e}function eF(t,e,n,s){return t.baseState=n,rw(t,ni,typeof s=="function"?s:Pa)}function YP(t,e,n,s,m){if(Vv(t))throw Error(Oe(485));if(t=e.action,t!==null){var w={payload:m,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){w.listeners.push(r)}};yt.T!==null?n(!0):w.isTransition=!1,s(w),n=e.pending,n===null?(w.next=e.pending=w,tF(e,w)):(w.next=n.next,e.pending=n.next=w)}}function tF(t,e){var n=e.action,s=e.payload,m=t.state;if(e.isTransition){var w=yt.T,r={};yt.T=r;try{var x=n(m,s),i=yt.S;i!==null&&i(r,x),Qb(t,e,x)}catch(a){Ix(t,e,a)}finally{w!==null&&r.types!==null&&(w.types=r.types),yt.T=w}}else try{w=n(m,s),Qb(t,e,w)}catch(a){Ix(t,e,a)}}function Qb(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(s){jb(t,e,s)},function(s){return Ix(t,e,s)}):jb(t,e,n)}function jb(t,e,n){e.status="fulfilled",e.value=n,iF(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,tF(t,n)))}function Ix(t,e,n){var s=t.pending;if(t.pending=null,s!==null){s=s.next;do e.status="rejected",e.reason=n,iF(e),e=e.next;while(e!==s)}t.action=null}function iF(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function nF(t,e){return e}function Vb(t,e){if(kt){var n=oi.formState;if(n!==null){e:{var s=Lt;if(kt){if(fi){t:{for(var m=fi,w=ar;m.nodeType!==8;){if(!w){m=null;break t}if(m=dr(m.nextSibling),m===null){m=null;break t}}w=m.data,m=w==="F!"||w==="F"?m:null}if(m){fi=dr(m.nextSibling),s=m.data==="F!";break e}}Yo(s)}s=!1}s&&(e=n[0])}}return n=Jn(),n.memoizedState=n.baseState=e,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nF,lastRenderedState:e},n.queue=s,n=yF.bind(null,Lt,s),s.dispatch=n,s=Rx(!1),w=hw.bind(null,Lt,!1,s.queue),s=Jn(),m={state:e,dispatch:null,action:t,pending:null},s.queue=m,n=YP.bind(null,Lt,m,w,n),m.dispatch=n,s.memoizedState=t,[e,n,!1]}function zb(t){var e=Vi();return sF(e,ni,t)}function sF(t,e,n){if(e=rw(t,e,nF)[0],t=_p(Pa)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var s=UA(e)}catch(r){throw r===ac?Hv:r}else s=e;e=Vi();var m=e.queue,w=m.dispatch;return n!==e.memoizedState&&(Lt.flags|=2048,Qh(9,{destroy:void 0},XP.bind(null,m,n),null)),[s,w,t]}function XP(t,e){t.action=e}function Yb(t){var e=Vi(),n=ni;if(n!==null)return sF(e,n,t);Vi(),e=e.memoizedState,n=Vi();var s=n.queue.dispatch;return n.memoizedState=t,[e,s,!1]}function Qh(t,e,n,s){return t={tag:t,create:n,deps:s,inst:e,next:null},e=Lt.updateQueue,e===null&&(e=Gv(),Lt.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t),t}function rF(){return Vi().memoizedState}function eg(t,e,n,s){var m=Jn();Lt.flags|=t,m.memoizedState=Qh(1|e,{destroy:void 0},n,s===void 0?null:s)}function jv(t,e,n,s){var m=Vi();s=s===void 0?null:s;var w=m.memoizedState.inst;ni!==null&&s!==null&&_2(s,ni.memoizedState.deps)?m.memoizedState=Qh(e,w,n,s):(Lt.flags|=t,m.memoizedState=Qh(1|e,w,n,s))}function Xb(t,e){eg(8390656,8,t,e)}function aw(t,e){jv(2048,8,t,e)}function WP(t){Lt.flags|=4;var e=Lt.updateQueue;if(e===null)e=Gv(),Lt.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function aF(t){var e=Vi().memoizedState;return WP({ref:e,nextImpl:t}),function(){if(Xt&2)throw Error(Oe(440));return e.impl.apply(void 0,arguments)}}function oF(t,e){return jv(4,2,t,e)}function lF(t,e){return jv(4,4,t,e)}function uF(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function hF(t,e,n){n=n!=null?n.concat([t]):null,jv(4,4,uF.bind(null,e,t),n)}function ow(){}function cF(t,e){var n=Vi();e=e===void 0?null:e;var s=n.memoizedState;return e!==null&&_2(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function dF(t,e){var n=Vi();e=e===void 0?null:e;var s=n.memoizedState;if(e!==null&&_2(e,s[1]))return s[0];if(s=t(),Wl){bo(!0);try{t()}finally{bo(!1)}}return n.memoizedState=[s,e],s}function lw(t,e,n){return n===void 0||Ia&1073741824&&!(Ot&261930)?t.memoizedState=e:(t.memoizedState=n,t=eN(),Lt.lanes|=t,Wo|=t,n)}function AF(t,e,n,s){return ks(n,e)?n:Gh.current!==null?(t=lw(t,n,s),ks(t,e)||(_i=!0),t):!(Ia&42)||Ia&1073741824&&!(Ot&261930)?(_i=!0,t.memoizedState=n):(t=eN(),Lt.lanes|=t,Wo|=t,e)}function fF(t,e,n,s,m){var w=Wt.p;Wt.p=w!==0&&8>w?w:8;var r=yt.T,x={};yt.T=x,hw(t,!1,e,n);try{var i=m(),a=yt.S;if(a!==null&&a(x,i),i!==null&&typeof i=="object"&&typeof i.then=="function"){var p=jP(i,s);Od(t,e,p,Os(t))}else Od(t,e,s,Os(t))}catch(c){Od(t,e,{then:function(){},status:"rejected",reason:c},Os())}finally{Wt.p=w,r!==null&&x.types!==null&&(r.types=x.types),yt.T=r}}function KP(){}function Px(t,e,n,s){if(t.tag!==5)throw Error(Oe(476));var m=pF(t).queue;fF(t,m,e,Il,n===null?KP:function(){return gF(t),n(s)})}function pF(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Il,baseState:Il,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pa,lastRenderedState:Il},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pa,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function gF(t){var e=pF(t);e.next===null&&(e=t.alternate.memoizedState),Od(t,e.next.queue,{},Os())}function uw(){return Tn(dA)}function vF(){return Vi().memoizedState}function mF(){return Vi().memoizedState}function JP(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=Os();t=Po(n);var s=Uo(e,t,n);s!==null&&(ms(s,e,n),Pd(s,e,n)),e={cache:K2()},t.payload=e;return}e=e.return}}function ZP(t,e,n){var s=Os();n={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Vv(t)?xF(e,n):(n=z2(t,e,n,s),n!==null&&(ms(n,t,s),wF(n,e,s)))}function yF(t,e,n){var s=Os();Od(t,e,n,s)}function Od(t,e,n,s){var m={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Vv(t))xF(e,m);else{var w=t.alternate;if(t.lanes===0&&(w===null||w.lanes===0)&&(w=e.lastRenderedReducer,w!==null))try{var r=e.lastRenderedState,x=w(r,n);if(m.hasEagerState=!0,m.eagerState=x,ks(x,r))return kv(t,e,m,0),oi===null&&Ov(),!1}catch{}finally{}if(n=z2(t,e,m,s),n!==null)return ms(n,t,s),wF(n,e,s),!0}return!1}function hw(t,e,n,s){if(s={lane:2,revertLane:yw(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Vv(t)){if(e)throw Error(Oe(479))}else e=z2(t,n,s,2),e!==null&&ms(e,t,2)}function Vv(t){var e=t.alternate;return t===Lt||e!==null&&e===Lt}function xF(t,e){Eh=Pg=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function wF(t,e,n){if(n&4194048){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,a3(t,n)}}var uA={readContext:Tn,use:Qv,useCallback:Fi,useContext:Fi,useEffect:Fi,useImperativeHandle:Fi,useLayoutEffect:Fi,useInsertionEffect:Fi,useMemo:Fi,useReducer:Fi,useRef:Fi,useState:Fi,useDebugValue:Fi,useDeferredValue:Fi,useTransition:Fi,useSyncExternalStore:Fi,useId:Fi,useHostTransitionStatus:Fi,useFormState:Fi,useActionState:Fi,useOptimistic:Fi,useMemoCache:Fi,useCacheRefresh:Fi};uA.useEffectEvent=Fi;var CF={readContext:Tn,use:Qv,useCallback:function(t,e){return Jn().memoizedState=[t,e===void 0?null:e],t},useContext:Tn,useEffect:Xb,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,eg(4194308,4,uF.bind(null,e,t),n)},useLayoutEffect:function(t,e){return eg(4194308,4,t,e)},useInsertionEffect:function(t,e){eg(4,2,t,e)},useMemo:function(t,e){var n=Jn();e=e===void 0?null:e;var s=t();if(Wl){bo(!0);try{t()}finally{bo(!1)}}return n.memoizedState=[s,e],s},useReducer:function(t,e,n){var s=Jn();if(n!==void 0){var m=n(e);if(Wl){bo(!0);try{n(e)}finally{bo(!1)}}}else m=e;return s.memoizedState=s.baseState=m,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:m},s.queue=t,t=t.dispatch=ZP.bind(null,Lt,t),[s.memoizedState,t]},useRef:function(t){var e=Jn();return t={current:t},e.memoizedState=t},useState:function(t){t=Rx(t);var e=t.queue,n=yF.bind(null,Lt,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:ow,useDeferredValue:function(t,e){var n=Jn();return lw(n,t,e)},useTransition:function(){var t=Rx(!1);return t=fF.bind(null,Lt,t.queue,!0,!1),Jn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var s=Lt,m=Jn();if(kt){if(n===void 0)throw Error(Oe(407));n=n()}else{if(n=e(),oi===null)throw Error(Oe(349));Ot&127||J3(s,e,n)}m.memoizedState=n;var w={value:n,getSnapshot:e};return m.queue=w,Xb($3.bind(null,s,w,t),[t]),s.flags|=2048,Qh(9,{destroy:void 0},Z3.bind(null,s,w,n,e),null),n},useId:function(){var t=Jn(),e=oi.identifierPrefix;if(kt){var n=Wr,s=Xr;n=(s&~(1<<32-Ds(s)-1)).toString(32)+n,e="_"+e+"R_"+n,n=Ug++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=VP++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:uw,useFormState:Vb,useActionState:Vb,useOptimistic:function(t){var e=Jn();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=hw.bind(null,Lt,!0,n),n.dispatch=e,[t,e]},useMemoCache:sw,useCacheRefresh:function(){return Jn().memoizedState=JP.bind(null,Lt)},useEffectEvent:function(t){var e=Jn(),n={impl:t};return e.memoizedState=n,function(){if(Xt&2)throw Error(Oe(440));return n.impl.apply(void 0,arguments)}}},cw={readContext:Tn,use:Qv,useCallback:cF,useContext:Tn,useEffect:aw,useImperativeHandle:hF,useInsertionEffect:oF,useLayoutEffect:lF,useMemo:dF,useReducer:_p,useRef:rF,useState:function(){return _p(Pa)},useDebugValue:ow,useDeferredValue:function(t,e){var n=Vi();return AF(n,ni.memoizedState,t,e)},useTransition:function(){var t=_p(Pa)[0],e=Vi().memoizedState;return[typeof t=="boolean"?t:UA(t),e]},useSyncExternalStore:K3,useId:vF,useHostTransitionStatus:uw,useFormState:zb,useActionState:zb,useOptimistic:function(t,e){var n=Vi();return eF(n,ni,t,e)},useMemoCache:sw,useCacheRefresh:mF};cw.useEffectEvent=aF;var bF={readContext:Tn,use:Qv,useCallback:cF,useContext:Tn,useEffect:aw,useImperativeHandle:hF,useInsertionEffect:oF,useLayoutEffect:lF,useMemo:dF,useReducer:Rm,useRef:rF,useState:function(){return Rm(Pa)},useDebugValue:ow,useDeferredValue:function(t,e){var n=Vi();return ni===null?lw(n,t,e):AF(n,ni.memoizedState,t,e)},useTransition:function(){var t=Rm(Pa)[0],e=Vi().memoizedState;return[typeof t=="boolean"?t:UA(t),e]},useSyncExternalStore:K3,useId:vF,useHostTransitionStatus:uw,useFormState:Yb,useActionState:Yb,useOptimistic:function(t,e){var n=Vi();return ni!==null?eF(n,ni,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:sw,useCacheRefresh:mF};bF.useEffectEvent=aF;function Im(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:vi({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ux={enqueueSetState:function(t,e,n){t=t._reactInternals;var s=Os(),m=Po(s);m.payload=e,n!=null&&(m.callback=n),e=Uo(t,m,s),e!==null&&(ms(e,t,s),Pd(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=Os(),m=Po(s);m.tag=1,m.payload=e,n!=null&&(m.callback=n),e=Uo(t,m,s),e!==null&&(ms(e,t,s),Pd(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Os(),s=Po(n);s.tag=2,e!=null&&(s.callback=e),e=Uo(t,s,n),e!==null&&(ms(e,t,n),Pd(e,t,n))}};function Wb(t,e,n,s,m,w,r){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,w,r):e.prototype&&e.prototype.isPureReactComponent?!sA(n,s)||!sA(m,w):!0}function Kb(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&Ux.enqueueReplaceState(e,e.state,null)}function Kl(t,e){var n=e;if("ref"in e){n={};for(var s in e)s!=="ref"&&(n[s]=e[s])}if(t=t.defaultProps){n===e&&(n=vi({},n));for(var m in t)n[m]===void 0&&(n[m]=t[m])}return n}function SF(t){Bg(t)}function TF(t){console.error(t)}function EF(t){Bg(t)}function Dg(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(s){setTimeout(function(){throw s})}}function Jb(t,e,n){try{var s=t.onCaughtError;s(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Dx(t,e,n){return n=Po(n),n.tag=3,n.payload={element:null},n.callback=function(){Dg(t,e)},n}function BF(t){return t=Po(t),t.tag=3,t}function FF(t,e,n,s){var m=n.type.getDerivedStateFromError;if(typeof m=="function"){var w=s.value;t.payload=function(){return m(w)},t.callback=function(){Jb(e,n,s)}}var r=n.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(t.callback=function(){Jb(e,n,s),typeof m!="function"&&(Do===null?Do=new Set([this]):Do.add(this));var x=s.stack;this.componentDidCatch(s.value,{componentStack:x!==null?x:""})})}function $P(t,e,n,s,m){if(n.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(e=n.alternate,e!==null&&rc(e,n,m,!0),n=Hs.current,n!==null){switch(n.tag){case 31:case 13:return cr===null?Qg():n.alternate===null&&Mi===0&&(Mi=3),n.flags&=-257,n.flags|=65536,n.lanes=m,s===Mg?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([s]):e.add(s),zm(t,s,m)),!1;case 22:return n.flags|=65536,s===Mg?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([s])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([s]):n.add(s)),zm(t,s,m)),!1}throw Error(Oe(435,n.tag))}return zm(t,s,m),Qg(),!1}if(kt)return e=Hs.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=m,s!==bx&&(t=Error(Oe(422),{cause:s}),aA(rr(t,n)))):(s!==bx&&(e=Error(Oe(423),{cause:s}),aA(rr(e,n))),t=t.current.alternate,t.flags|=65536,m&=-m,t.lanes|=m,s=rr(s,n),m=Dx(t.stateNode,s,m),Mm(t,m),Mi!==4&&(Mi=2)),!1;var w=Error(Oe(520),{cause:s});if(w=rr(w,n),Gd===null?Gd=[w]:Gd.push(w),Mi!==4&&(Mi=2),e===null)return!0;s=rr(s,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=m&-m,n.lanes|=t,t=Dx(n.stateNode,s,t),Mm(n,t),!1;case 1:if(e=n.type,w=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Do===null||!Do.has(w))))return n.flags|=65536,m&=-m,n.lanes|=m,m=BF(m),FF(m,t,n,s),Mm(n,m),!1}n=n.return}while(n!==null);return!1}var dw=Error(Oe(461)),_i=!1;function wn(t,e,n,s){e.child=t===null?j3(e,null,n,s):Xl(e,t.child,n,s)}function Zb(t,e,n,s,m){n=n.render;var w=e.ref;if("ref"in s){var r={};for(var x in s)x!=="ref"&&(r[x]=s[x])}else r=s;return Yl(e),s=ew(t,e,n,r,w,m),x=tw(),t!==null&&!_i?(iw(t,e,m),Ua(t,e,m)):(kt&&x&&X2(e),e.flags|=1,wn(t,e,s,m),e.child)}function $b(t,e,n,s,m){if(t===null){var w=n.type;return typeof w=="function"&&!Y2(w)&&w.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=w,NF(t,e,w,s,m)):(t=$p(n.type,null,s,e,e.mode,m),t.ref=e.ref,t.return=e,e.child=t)}if(w=t.child,!Aw(t,m)){var r=w.memoizedProps;if(n=n.compare,n=n!==null?n:sA,n(r,s)&&t.ref===e.ref)return Ua(t,e,m)}return e.flags|=1,t=Fa(w,s),t.ref=e.ref,t.return=e,e.child=t}function NF(t,e,n,s,m){if(t!==null){var w=t.memoizedProps;if(sA(w,s)&&t.ref===e.ref)if(_i=!1,e.pendingProps=s=w,Aw(t,m))t.flags&131072&&(_i=!0);else return e.lanes=t.lanes,Ua(t,e,m)}return Ox(t,e,n,s,m)}function LF(t,e,n,s){var m=s.children,w=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if(e.flags&128){if(w=w!==null?w.baseLanes|n:n,t!==null){for(s=e.child=t.child,m=0;s!==null;)m=m|s.lanes|s.childLanes,s=s.sibling;s=m&~w}else s=0,e.child=null;return qb(t,e,w,n,s)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&qp(e,w!==null?w.cachePool:null),w!==null?Gb(e,w):Lx(),Y3(e);else return s=e.lanes=536870912,qb(t,e,w!==null?w.baseLanes|n:n,n,s)}else w!==null?(qp(e,w.cachePool),Gb(e,w),wo(),e.memoizedState=null):(t!==null&&qp(e,null),Lx(),wo());return wn(t,e,m,n),e.child}function gd(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function qb(t,e,n,s,m){var w=J2();return w=w===null?null:{parent:$i._currentValue,pool:w},e.memoizedState={baseLanes:n,cachePool:w},t!==null&&qp(e,null),Lx(),Y3(e),t!==null&&rc(t,e,s,!0),e.childLanes=m,null}function tg(t,e){return e=Og({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function _b(t,e,n){return Xl(e,t.child,null,n),t=tg(e,e.pendingProps),t.flags|=2,Ls(e),e.memoizedState=null,t}function qP(t,e,n){var s=e.pendingProps,m=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(kt){if(s.mode==="hidden")return t=tg(e,s),e.lanes=536870912,gd(null,t);if(Mx(e),(t=fi)?(t=CN(t,ar),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:zo!==null?{id:Xr,overflow:Wr}:null,retryLane:536870912,hydrationErrors:null},n=U3(t),n.return=e,e.child=n,Sn=e,fi=null)):t=null,t===null)throw Yo(e);return e.lanes=536870912,null}return tg(e,s)}var w=t.memoizedState;if(w!==null){var r=w.dehydrated;if(Mx(e),m)if(e.flags&256)e.flags&=-257,e=_b(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(Oe(558));else if(_i||rc(t,e,n,!1),m=(n&t.childLanes)!==0,_i||m){if(s=oi,s!==null&&(r=o3(s,n),r!==0&&r!==w.retryLane))throw w.retryLane=r,eu(t,r),ms(s,t,r),dw;Qg(),e=_b(t,e,n)}else t=w.treeContext,fi=dr(r.nextSibling),Sn=e,kt=!0,Io=null,ar=!1,t!==null&&O3(e,t),e=tg(e,s),e.flags|=4096;return e}return t=Fa(t.child,{mode:s.mode,children:s.children}),t.ref=e.ref,e.child=t,t.return=e,t}function ig(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(Oe(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function Ox(t,e,n,s,m){return Yl(e),n=ew(t,e,n,s,void 0,m),s=tw(),t!==null&&!_i?(iw(t,e,m),Ua(t,e,m)):(kt&&s&&X2(e),e.flags|=1,wn(t,e,n,m),e.child)}function e5(t,e,n,s,m,w){return Yl(e),e.updateQueue=null,n=W3(e,s,n,m),X3(t),s=tw(),t!==null&&!_i?(iw(t,e,w),Ua(t,e,w)):(kt&&s&&X2(e),e.flags|=1,wn(t,e,n,w),e.child)}function t5(t,e,n,s,m){if(Yl(e),e.stateNode===null){var w=lh,r=n.contextType;typeof r=="object"&&r!==null&&(w=Tn(r)),w=new n(s,w),e.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=Ux,e.stateNode=w,w._reactInternals=e,w=e.stateNode,w.props=s,w.state=e.memoizedState,w.refs={},$2(e),r=n.contextType,w.context=typeof r=="object"&&r!==null?Tn(r):lh,w.state=e.memoizedState,r=n.getDerivedStateFromProps,typeof r=="function"&&(Im(e,n,r,s),w.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(r=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),r!==w.state&&Ux.enqueueReplaceState(w,w.state,null),Dd(e,s,w,m),Ud(),w.state=e.memoizedState),typeof w.componentDidMount=="function"&&(e.flags|=4194308),s=!0}else if(t===null){w=e.stateNode;var x=e.memoizedProps,i=Kl(n,x);w.props=i;var a=w.context,p=n.contextType;r=lh,typeof p=="object"&&p!==null&&(r=Tn(p));var c=n.getDerivedStateFromProps;p=typeof c=="function"||typeof w.getSnapshotBeforeUpdate=="function",x=e.pendingProps!==x,p||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(x||a!==r)&&Kb(e,w,s,r),go=!1;var o=e.memoizedState;w.state=o,Dd(e,s,w,m),Ud(),a=e.memoizedState,x||o!==a||go?(typeof c=="function"&&(Im(e,n,c,s),a=e.memoizedState),(i=go||Wb(e,n,i,s,o,a,r))?(p||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(e.flags|=4194308)):(typeof w.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=a),w.props=s,w.state=a,w.context=r,s=i):(typeof w.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{w=e.stateNode,Fx(t,e),r=e.memoizedProps,p=Kl(n,r),w.props=p,c=e.pendingProps,o=w.context,a=n.contextType,i=lh,typeof a=="object"&&a!==null&&(i=Tn(a)),x=n.getDerivedStateFromProps,(a=typeof x=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(r!==c||o!==i)&&Kb(e,w,s,i),go=!1,o=e.memoizedState,w.state=o,Dd(e,s,w,m),Ud();var u=e.memoizedState;r!==c||o!==u||go||t!==null&&t.dependencies!==null&&Lg(t.dependencies)?(typeof x=="function"&&(Im(e,n,x,s),u=e.memoizedState),(p=go||Wb(e,n,p,s,o,u,i)||t!==null&&t.dependencies!==null&&Lg(t.dependencies))?(a||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(s,u,i),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(s,u,i)),typeof w.componentDidUpdate=="function"&&(e.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof w.componentDidUpdate!="function"||r===t.memoizedProps&&o===t.memoizedState||(e.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||r===t.memoizedProps&&o===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=u),w.props=s,w.state=u,w.context=i,s=p):(typeof w.componentDidUpdate!="function"||r===t.memoizedProps&&o===t.memoizedState||(e.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||r===t.memoizedProps&&o===t.memoizedState||(e.flags|=1024),s=!1)}return w=s,ig(t,e),s=(e.flags&128)!==0,w||s?(w=e.stateNode,n=s&&typeof n.getDerivedStateFromError!="function"?null:w.render(),e.flags|=1,t!==null&&s?(e.child=Xl(e,t.child,null,m),e.child=Xl(e,null,n,m)):wn(t,e,n,m),e.memoizedState=w.state,t=e.child):t=Ua(t,e,m),t}function i5(t,e,n,s){return zl(),e.flags|=256,wn(t,e,n,s),e.child}var Pm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Um(t){return{baseLanes:t,cachePool:H3()}}function Dm(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=Rs),t}function MF(t,e,n){var s=e.pendingProps,m=!1,w=(e.flags&128)!==0,r;if((r=w)||(r=t!==null&&t.memoizedState===null?!1:(ji.current&2)!==0),r&&(m=!0,e.flags&=-129),r=(e.flags&32)!==0,e.flags&=-33,t===null){if(kt){if(m?xo(e):wo(),(t=fi)?(t=CN(t,ar),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:zo!==null?{id:Xr,overflow:Wr}:null,retryLane:536870912,hydrationErrors:null},n=U3(t),n.return=e,e.child=n,Sn=e,fi=null)):t=null,t===null)throw Yo(e);return $x(t)?e.lanes=32:e.lanes=536870912,null}var x=s.children;return s=s.fallback,m?(wo(),m=e.mode,x=Og({mode:"hidden",children:x},m),s=Pl(s,m,n,null),x.return=e,s.return=e,x.sibling=s,e.child=x,s=e.child,s.memoizedState=Um(n),s.childLanes=Dm(t,r,n),e.memoizedState=Pm,gd(null,s)):(xo(e),kx(e,x))}var i=t.memoizedState;if(i!==null&&(x=i.dehydrated,x!==null)){if(w)e.flags&256?(xo(e),e.flags&=-257,e=Om(t,e,n)):e.memoizedState!==null?(wo(),e.child=t.child,e.flags|=128,e=null):(wo(),x=s.fallback,m=e.mode,s=Og({mode:"visible",children:s.children},m),x=Pl(x,m,n,null),x.flags|=2,s.return=e,x.return=e,s.sibling=x,e.child=s,Xl(e,t.child,null,n),s=e.child,s.memoizedState=Um(n),s.childLanes=Dm(t,r,n),e.memoizedState=Pm,e=gd(null,s));else if(xo(e),$x(x)){if(r=x.nextSibling&&x.nextSibling.dataset,r)var a=r.dgst;r=a,s=Error(Oe(419)),s.stack="",s.digest=r,aA({value:s,source:null,stack:null}),e=Om(t,e,n)}else if(_i||rc(t,e,n,!1),r=(n&t.childLanes)!==0,_i||r){if(r=oi,r!==null&&(s=o3(r,n),s!==0&&s!==i.retryLane))throw i.retryLane=s,eu(t,s),ms(r,t,s),dw;Zx(x)||Qg(),e=Om(t,e,n)}else Zx(x)?(e.flags|=192,e.child=t.child,e=null):(t=i.treeContext,fi=dr(x.nextSibling),Sn=e,kt=!0,Io=null,ar=!1,t!==null&&O3(e,t),e=kx(e,s.children),e.flags|=4096);return e}return m?(wo(),x=s.fallback,m=e.mode,i=t.child,a=i.sibling,s=Fa(i,{mode:"hidden",children:s.children}),s.subtreeFlags=i.subtreeFlags&65011712,a!==null?x=Fa(a,x):(x=Pl(x,m,n,null),x.flags|=2),x.return=e,s.return=e,s.sibling=x,e.child=s,gd(null,s),s=e.child,x=t.child.memoizedState,x===null?x=Um(n):(m=x.cachePool,m!==null?(i=$i._currentValue,m=m.parent!==i?{parent:i,pool:i}:m):m=H3(),x={baseLanes:x.baseLanes|n,cachePool:m}),s.memoizedState=x,s.childLanes=Dm(t,r,n),e.memoizedState=Pm,gd(t.child,s)):(xo(e),n=t.child,t=n.sibling,n=Fa(n,{mode:"visible",children:s.children}),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n)}function kx(t,e){return e=Og({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Og(t,e){return t=Ms(22,t,null,e),t.lanes=0,t}function Om(t,e,n){return Xl(e,t.child,null,n),t=kx(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function n5(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),Tx(t.return,e,n)}function km(t,e,n,s,m,w){var r=t.memoizedState;r===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:m,treeForkCount:w}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=s,r.tail=n,r.tailMode=m,r.treeForkCount=w)}function RF(t,e,n){var s=e.pendingProps,m=s.revealOrder,w=s.tail;s=s.children;var r=ji.current,x=(r&2)!==0;if(x?(r=r&1|2,e.flags|=128):r&=1,di(ji,r),wn(t,e,s,n),s=kt?rA:0,!x&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&n5(t,n,e);else if(t.tag===19)n5(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(m){case"forwards":for(n=e.child,m=null;n!==null;)t=n.alternate,t!==null&&Ig(t)===null&&(m=n),n=n.sibling;n=m,n===null?(m=e.child,e.child=null):(m=n.sibling,n.sibling=null),km(e,!1,m,n,w,s);break;case"backwards":case"unstable_legacy-backwards":for(n=null,m=e.child,e.child=null;m!==null;){if(t=m.alternate,t!==null&&Ig(t)===null){e.child=m;break}t=m.sibling,m.sibling=n,n=m,m=t}km(e,!0,n,null,w,s);break;case"together":km(e,!1,null,null,void 0,s);break;default:e.memoizedState=null}return e.child}function Ua(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Wo|=e.lanes,!(n&e.childLanes))if(t!==null){if(rc(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(Oe(153));if(e.child!==null){for(t=e.child,n=Fa(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Fa(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Aw(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&Lg(t)))}function _P(t,e,n){switch(e.tag){case 3:bg(e,e.stateNode.containerInfo),yo(e,$i,t.memoizedState.cache),zl();break;case 27:case 5:dx(e);break;case 4:bg(e,e.stateNode.containerInfo);break;case 10:yo(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,Mx(e),null;break;case 13:var s=e.memoizedState;if(s!==null)return s.dehydrated!==null?(xo(e),e.flags|=128,null):n&e.child.childLanes?MF(t,e,n):(xo(e),t=Ua(t,e,n),t!==null?t.sibling:null);xo(e);break;case 19:var m=(t.flags&128)!==0;if(s=(n&e.childLanes)!==0,s||(rc(t,e,n,!1),s=(n&e.childLanes)!==0),m){if(s)return RF(t,e,n);e.flags|=128}if(m=e.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),di(ji,ji.current),s)break;return null;case 22:return e.lanes=0,LF(t,e,n,e.pendingProps);case 24:yo(e,$i,t.memoizedState.cache)}return Ua(t,e,n)}function IF(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)_i=!0;else{if(!Aw(t,n)&&!(e.flags&128))return _i=!1,_P(t,e,n);_i=!!(t.flags&131072)}else _i=!1,kt&&e.flags&1048576&&D3(e,rA,e.index);switch(e.lanes=0,e.tag){case 16:e:{var s=e.pendingProps;if(t=Cl(e.elementType),e.type=t,typeof t=="function")Y2(t)?(s=Kl(t,s),e.tag=1,e=t5(null,e,t,s,n)):(e.tag=0,e=Ox(null,e,t,s,n));else{if(t!=null){var m=t.$$typeof;if(m===M2){e.tag=11,e=Zb(null,e,t,s,n);break e}else if(m===R2){e.tag=14,e=$b(null,e,t,s,n);break e}}throw e=hx(t)||t,Error(Oe(306,e,""))}}return e;case 0:return Ox(t,e,e.type,e.pendingProps,n);case 1:return s=e.type,m=Kl(s,e.pendingProps),t5(t,e,s,m,n);case 3:e:{if(bg(e,e.stateNode.containerInfo),t===null)throw Error(Oe(387));s=e.pendingProps;var w=e.memoizedState;m=w.element,Fx(t,e),Dd(e,s,null,n);var r=e.memoizedState;if(s=r.cache,yo(e,$i,s),s!==w.cache&&Ex(e,[$i],n,!0),Ud(),s=r.element,w.isDehydrated)if(w={element:s,isDehydrated:!1,cache:r.cache},e.updateQueue.baseState=w,e.memoizedState=w,e.flags&256){e=i5(t,e,s,n);break e}else if(s!==m){m=rr(Error(Oe(424)),e),aA(m),e=i5(t,e,s,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(fi=dr(t.firstChild),Sn=e,kt=!0,Io=null,ar=!0,n=j3(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(zl(),s===m){e=Ua(t,e,n);break e}wn(t,e,s,n)}e=e.child}return e;case 26:return ig(t,e),t===null?(n=b5(e.type,null,e.pendingProps,null))?e.memoizedState=n:kt||(n=e.type,t=e.pendingProps,s=Yg(Ro.current).createElement(n),s[bn]=e,s[ys]=t,Fn(s,n,t),fn(s),e.stateNode=s):e.memoizedState=b5(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return dx(e),t===null&&kt&&(s=e.stateNode=bN(e.type,e.pendingProps,Ro.current),Sn=e,ar=!0,m=fi,il(e.type)?(qx=m,fi=dr(s.firstChild)):fi=m),wn(t,e,e.pendingProps.children,n),ig(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&kt&&((m=s=fi)&&(s=NU(s,e.type,e.pendingProps,ar),s!==null?(e.stateNode=s,Sn=e,fi=dr(s.firstChild),ar=!1,m=!0):m=!1),m||Yo(e)),dx(e),m=e.type,w=e.pendingProps,r=t!==null?t.memoizedProps:null,s=w.children,Kx(m,w)?s=null:r!==null&&Kx(m,r)&&(e.flags|=32),e.memoizedState!==null&&(m=ew(t,e,zP,null,null,n),dA._currentValue=m),ig(t,e),wn(t,e,s,n),e.child;case 6:return t===null&&kt&&((t=n=fi)&&(n=LU(n,e.pendingProps,ar),n!==null?(e.stateNode=n,Sn=e,fi=null,t=!0):t=!1),t||Yo(e)),null;case 13:return MF(t,e,n);case 4:return bg(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=Xl(e,null,s,n):wn(t,e,s,n),e.child;case 11:return Zb(t,e,e.type,e.pendingProps,n);case 7:return wn(t,e,e.pendingProps,n),e.child;case 8:return wn(t,e,e.pendingProps.children,n),e.child;case 12:return wn(t,e,e.pendingProps.children,n),e.child;case 10:return s=e.pendingProps,yo(e,e.type,s.value),wn(t,e,s.children,n),e.child;case 9:return m=e.type._context,s=e.pendingProps.children,Yl(e),m=Tn(m),s=s(m),e.flags|=1,wn(t,e,s,n),e.child;case 14:return $b(t,e,e.type,e.pendingProps,n);case 15:return NF(t,e,e.type,e.pendingProps,n);case 19:return RF(t,e,n);case 31:return qP(t,e,n);case 22:return LF(t,e,n,e.pendingProps);case 24:return Yl(e),s=Tn($i),t===null?(m=J2(),m===null&&(m=oi,w=K2(),m.pooledCache=w,w.refCount++,w!==null&&(m.pooledCacheLanes|=n),m=w),e.memoizedState={parent:s,cache:m},$2(e),yo(e,$i,m)):(t.lanes&n&&(Fx(t,e),Dd(e,null,null,n),Ud()),m=t.memoizedState,w=e.memoizedState,m.parent!==s?(m={parent:s,cache:s},e.memoizedState=m,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=m),yo(e,$i,s)):(s=w.cache,yo(e,$i,s),s!==m.cache&&Ex(e,[$i],n,!0))),wn(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(Oe(156,e.tag))}function ga(t){t.flags|=4}function Hm(t,e,n,s,m){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(m&335544128)===m)if(t.stateNode.complete)t.flags|=8192;else if(nN())t.flags|=8192;else throw Dl=Mg,Z2}else t.flags&=-16777217}function s5(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!EN(e))if(nN())t.flags|=8192;else throw Dl=Mg,Z2}function ep(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?s3():536870912,t.lanes|=e,jh|=e)}function $c(t,e){if(!kt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function Ai(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var m=t.child;m!==null;)n|=m.lanes|m.childLanes,s|=m.subtreeFlags&65011712,s|=m.flags&65011712,m.return=t,m=m.sibling;else for(m=t.child;m!==null;)n|=m.lanes|m.childLanes,s|=m.subtreeFlags,s|=m.flags,m.return=t,m=m.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function eU(t,e,n){var s=e.pendingProps;switch(W2(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ai(e),null;case 1:return Ai(e),null;case 3:return n=e.stateNode,s=null,t!==null&&(s=t.memoizedState.cache),e.memoizedState.cache!==s&&(e.flags|=2048),Na($i),Dh(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Iu(e)?ga(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Lm())),Ai(e),null;case 26:var m=e.type,w=e.memoizedState;return t===null?(ga(e),w!==null?(Ai(e),s5(e,w)):(Ai(e),Hm(e,m,null,s,n))):w?w!==t.memoizedState?(ga(e),Ai(e),s5(e,w)):(Ai(e),e.flags&=-16777217):(t=t.memoizedProps,t!==s&&ga(e),Ai(e),Hm(e,m,t,s,n)),null;case 27:if(Sg(e),n=Ro.current,m=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==s&&ga(e);else{if(!s){if(e.stateNode===null)throw Error(Oe(166));return Ai(e),null}t=$r.current,Iu(e)?Ib(e):(t=bN(m,s,n),e.stateNode=t,ga(e))}return Ai(e),null;case 5:if(Sg(e),m=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==s&&ga(e);else{if(!s){if(e.stateNode===null)throw Error(Oe(166));return Ai(e),null}if(w=$r.current,Iu(e))Ib(e);else{var r=Yg(Ro.current);switch(w){case 1:w=r.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:w=r.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":w=r.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":w=r.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":w=r.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof s.is=="string"?r.createElement("select",{is:s.is}):r.createElement("select"),s.multiple?w.multiple=!0:s.size&&(w.size=s.size);break;default:w=typeof s.is=="string"?r.createElement(m,{is:s.is}):r.createElement(m)}}w[bn]=e,w[ys]=s;e:for(r=e.child;r!==null;){if(r.tag===5||r.tag===6)w.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break e;for(;r.sibling===null;){if(r.return===null||r.return===e)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}e.stateNode=w;e:switch(Fn(w,m,s),m){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&ga(e)}}return Ai(e),Hm(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==s&&ga(e);else{if(typeof s!="string"&&e.stateNode===null)throw Error(Oe(166));if(t=Ro.current,Iu(e)){if(t=e.stateNode,n=e.memoizedProps,s=null,m=Sn,m!==null)switch(m.tag){case 27:case 5:s=m.memoizedProps}t[bn]=e,t=!!(t.nodeValue===n||s!==null&&s.suppressHydrationWarning===!0||yN(t.nodeValue,n)),t||Yo(e,!0)}else t=Yg(t).createTextNode(s),t[bn]=e,e.stateNode=t}return Ai(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(s=Iu(e),n!==null){if(t===null){if(!s)throw Error(Oe(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Oe(557));t[bn]=e}else zl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ai(e),t=!1}else n=Lm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(Ls(e),e):(Ls(e),null);if(e.flags&128)throw Error(Oe(558))}return Ai(e),null;case 13:if(s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(m=Iu(e),s!==null&&s.dehydrated!==null){if(t===null){if(!m)throw Error(Oe(318));if(m=e.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(Oe(317));m[bn]=e}else zl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ai(e),m=!1}else m=Lm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=m),m=!0;if(!m)return e.flags&256?(Ls(e),e):(Ls(e),null)}return Ls(e),e.flags&128?(e.lanes=n,e):(n=s!==null,t=t!==null&&t.memoizedState!==null,n&&(s=e.child,m=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(m=s.alternate.memoizedState.cachePool.pool),w=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(w=s.memoizedState.cachePool.pool),w!==m&&(s.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),ep(e,e.updateQueue),Ai(e),null);case 4:return Dh(),t===null&&xw(e.stateNode.containerInfo),Ai(e),null;case 10:return Na(e.type),Ai(e),null;case 19:if(gn(ji),s=e.memoizedState,s===null)return Ai(e),null;if(m=(e.flags&128)!==0,w=s.rendering,w===null)if(m)$c(s,!1);else{if(Mi!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(w=Ig(t),w!==null){for(e.flags|=128,$c(s,!1),t=w.updateQueue,e.updateQueue=t,ep(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)P3(n,t),n=n.sibling;return di(ji,ji.current&1|2),kt&&ba(e,s.treeForkCount),e.child}t=t.sibling}s.tail!==null&&Ps()>Hg&&(e.flags|=128,m=!0,$c(s,!1),e.lanes=4194304)}else{if(!m)if(t=Ig(w),t!==null){if(e.flags|=128,m=!0,t=t.updateQueue,e.updateQueue=t,ep(e,t),$c(s,!0),s.tail===null&&s.tailMode==="hidden"&&!w.alternate&&!kt)return Ai(e),null}else 2*Ps()-s.renderingStartTime>Hg&&n!==536870912&&(e.flags|=128,m=!0,$c(s,!1),e.lanes=4194304);s.isBackwards?(w.sibling=e.child,e.child=w):(t=s.last,t!==null?t.sibling=w:e.child=w,s.last=w)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ps(),t.sibling=null,n=ji.current,di(ji,m?n&1|2:n&1),kt&&ba(e,s.treeForkCount),t):(Ai(e),null);case 22:case 23:return Ls(e),q2(),s=e.memoizedState!==null,t!==null?t.memoizedState!==null!==s&&(e.flags|=8192):s&&(e.flags|=8192),s?n&536870912&&!(e.flags&128)&&(Ai(e),e.subtreeFlags&6&&(e.flags|=8192)):Ai(e),n=e.updateQueue,n!==null&&ep(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),s=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),s!==n&&(e.flags|=2048),t!==null&&gn(Ul),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Na($i),Ai(e),null;case 25:return null;case 30:return null}throw Error(Oe(156,e.tag))}function tU(t,e){switch(W2(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Na($i),Dh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Sg(e),null;case 31:if(e.memoizedState!==null){if(Ls(e),e.alternate===null)throw Error(Oe(340));zl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(Ls(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Oe(340));zl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return gn(ji),null;case 4:return Dh(),null;case 10:return Na(e.type),null;case 22:case 23:return Ls(e),q2(),t!==null&&gn(Ul),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Na($i),null;case 25:return null;default:return null}}function PF(t,e){switch(W2(e),e.tag){case 3:Na($i),Dh();break;case 26:case 27:case 5:Sg(e);break;case 4:Dh();break;case 31:e.memoizedState!==null&&Ls(e);break;case 13:Ls(e);break;case 19:gn(ji);break;case 10:Na(e.type);break;case 22:case 23:Ls(e),q2(),t!==null&&gn(Ul);break;case 24:Na($i)}}function DA(t,e){try{var n=e.updateQueue,s=n!==null?n.lastEffect:null;if(s!==null){var m=s.next;n=m;do{if((n.tag&t)===t){s=void 0;var w=n.create,r=n.inst;s=w(),r.destroy=s}n=n.next}while(n!==m)}}catch(x){ei(e,e.return,x)}}function Xo(t,e,n){try{var s=e.updateQueue,m=s!==null?s.lastEffect:null;if(m!==null){var w=m.next;s=w;do{if((s.tag&t)===t){var r=s.inst,x=r.destroy;if(x!==void 0){r.destroy=void 0,m=e;var i=n,a=x;try{a()}catch(p){ei(m,i,p)}}}s=s.next}while(s!==w)}}catch(p){ei(e,e.return,p)}}function UF(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{z3(e,n)}catch(s){ei(t,t.return,s)}}}function DF(t,e,n){n.props=Kl(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(s){ei(t,e,s)}}function kd(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var s=t.stateNode;break;case 30:s=t.stateNode;break;default:s=t.stateNode}typeof n=="function"?t.refCleanup=n(s):n.current=s}}catch(m){ei(t,e,m)}}function Kr(t,e){var n=t.ref,s=t.refCleanup;if(n!==null)if(typeof s=="function")try{s()}catch(m){ei(t,e,m)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(m){ei(t,e,m)}else n.current=null}function OF(t){var e=t.type,n=t.memoizedProps,s=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&s.focus();break e;case"img":n.src?s.src=n.src:n.srcSet&&(s.srcset=n.srcSet)}}catch(m){ei(t,t.return,m)}}function Gm(t,e,n){try{var s=t.stateNode;bU(s,t.type,n,e),s[ys]=e}catch(m){ei(t,t.return,m)}}function kF(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&il(t.type)||t.tag===4}function Qm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||kF(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&il(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Hx(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ea));else if(s!==4&&(s===27&&il(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(Hx(t,e,n),t=t.sibling;t!==null;)Hx(t,e,n),t=t.sibling}function kg(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(s===27&&il(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(kg(t,e,n),t=t.sibling;t!==null;)kg(t,e,n),t=t.sibling}function HF(t){var e=t.stateNode,n=t.memoizedProps;try{for(var s=t.type,m=e.attributes;m.length;)e.removeAttributeNode(m[0]);Fn(e,s,n),e[bn]=t,e[ys]=n}catch(w){ei(t,t.return,w)}}var Sa=!1,Zi=!1,jm=!1,r5=typeof WeakSet=="function"?WeakSet:Set,dn=null;function iU(t,e){if(t=t.containerInfo,Xx=Jg,t=E3(t),j2(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var m=s.anchorOffset,w=s.focusNode;s=s.focusOffset;try{n.nodeType,w.nodeType}catch{n=null;break e}var r=0,x=-1,i=-1,a=0,p=0,c=t,o=null;t:for(;;){for(var u;c!==n||m!==0&&c.nodeType!==3||(x=r+m),c!==w||s!==0&&c.nodeType!==3||(i=r+s),c.nodeType===3&&(r+=c.nodeValue.length),(u=c.firstChild)!==null;)o=c,c=u;for(;;){if(c===t)break t;if(o===n&&++a===m&&(x=r),o===w&&++p===s&&(i=r),(u=c.nextSibling)!==null)break;c=o,o=c.parentNode}c=u}n=x===-1||i===-1?null:{start:x,end:i}}else n=null}n=n||{start:0,end:0}}else n=null;for(Wx={focusedElem:t,selectionRange:n},Jg=!1,dn=e;dn!==null;)if(e=dn,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,dn=t;else for(;dn!==null;){switch(e=dn,w=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)m=t[n],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&w!==null){t=void 0,n=e,m=w.memoizedProps,w=w.memoizedState,s=n.stateNode;try{var l=Kl(n.type,m);t=s.getSnapshotBeforeUpdate(l,w),s.__reactInternalSnapshotBeforeUpdate=t}catch(d){ei(n,n.return,d)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Jx(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Jx(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(Oe(163))}if(t=e.sibling,t!==null){t.return=e.return,dn=t;break}dn=e.return}}function GF(t,e,n){var s=n.flags;switch(n.tag){case 0:case 11:case 15:ma(t,n),s&4&&DA(5,n);break;case 1:if(ma(t,n),s&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(r){ei(n,n.return,r)}else{var m=Kl(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(m,e,t.__reactInternalSnapshotBeforeUpdate)}catch(r){ei(n,n.return,r)}}s&64&&UF(n),s&512&&kd(n,n.return);break;case 3:if(ma(t,n),s&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{z3(t,e)}catch(r){ei(n,n.return,r)}}break;case 27:e===null&&s&4&&HF(n);case 26:case 5:ma(t,n),e===null&&s&4&&OF(n),s&512&&kd(n,n.return);break;case 12:ma(t,n);break;case 31:ma(t,n),s&4&&VF(t,n);break;case 13:ma(t,n),s&4&&zF(t,n),s&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=cU.bind(null,n),MU(t,n))));break;case 22:if(s=n.memoizedState!==null||Sa,!s){e=e!==null&&e.memoizedState!==null||Zi,m=Sa;var w=Zi;Sa=s,(Zi=e)&&!w?Ca(t,n,(n.subtreeFlags&8772)!==0):ma(t,n),Sa=m,Zi=w}break;case 30:break;default:ma(t,n)}}function QF(t){var e=t.alternate;e!==null&&(t.alternate=null,QF(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&D2(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var xi=null,As=!1;function va(t,e,n){for(n=n.child;n!==null;)jF(t,e,n),n=n.sibling}function jF(t,e,n){if(Us&&typeof Us.onCommitFiberUnmount=="function")try{Us.onCommitFiberUnmount(NA,n)}catch{}switch(n.tag){case 26:Zi||Kr(n,e),va(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Zi||Kr(n,e);var s=xi,m=As;il(n.type)&&(xi=n.stateNode,As=!1),va(t,e,n),jd(n.stateNode),xi=s,As=m;break;case 5:Zi||Kr(n,e);case 6:if(s=xi,m=As,xi=null,va(t,e,n),xi=s,As=m,xi!==null)if(As)try{(xi.nodeType===9?xi.body:xi.nodeName==="HTML"?xi.ownerDocument.body:xi).removeChild(n.stateNode)}catch(w){ei(n,e,w)}else try{xi.removeChild(n.stateNode)}catch(w){ei(n,e,w)}break;case 18:xi!==null&&(As?(t=xi,m5(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Xh(t)):m5(xi,n.stateNode));break;case 4:s=xi,m=As,xi=n.stateNode.containerInfo,As=!0,va(t,e,n),xi=s,As=m;break;case 0:case 11:case 14:case 15:Xo(2,n,e),Zi||Xo(4,n,e),va(t,e,n);break;case 1:Zi||(Kr(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"&&DF(n,e,s)),va(t,e,n);break;case 21:va(t,e,n);break;case 22:Zi=(s=Zi)||n.memoizedState!==null,va(t,e,n),Zi=s;break;default:va(t,e,n)}}function VF(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Xh(t)}catch(n){ei(e,e.return,n)}}}function zF(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Xh(t)}catch(n){ei(e,e.return,n)}}function nU(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new r5),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new r5),e;default:throw Error(Oe(435,t.tag))}}function tp(t,e){var n=nU(t);e.forEach(function(s){if(!n.has(s)){n.add(s);var m=dU.bind(null,t,s);s.then(m,m)}})}function us(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var m=n[s],w=t,r=e,x=r;e:for(;x!==null;){switch(x.tag){case 27:if(il(x.type)){xi=x.stateNode,As=!1;break e}break;case 5:xi=x.stateNode,As=!1;break e;case 3:case 4:xi=x.stateNode.containerInfo,As=!0;break e}x=x.return}if(xi===null)throw Error(Oe(160));jF(w,r,m),xi=null,As=!1,w=m.alternate,w!==null&&(w.return=null),m.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)YF(e,t),e=e.sibling}var Rr=null;function YF(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:us(e,t),hs(t),s&4&&(Xo(3,t,t.return),DA(3,t),Xo(5,t,t.return));break;case 1:us(e,t),hs(t),s&512&&(Zi||n===null||Kr(n,n.return)),s&64&&Sa&&(t=t.updateQueue,t!==null&&(s=t.callbacks,s!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?s:n.concat(s))));break;case 26:var m=Rr;if(us(e,t),hs(t),s&512&&(Zi||n===null||Kr(n,n.return)),s&4){var w=n!==null?n.memoizedState:null;if(s=t.memoizedState,n===null)if(s===null)if(t.stateNode===null){e:{s=t.type,n=t.memoizedProps,m=m.ownerDocument||m;t:switch(s){case"title":w=m.getElementsByTagName("title")[0],(!w||w[RA]||w[bn]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=m.createElement(s),m.head.insertBefore(w,m.querySelector("head > title"))),Fn(w,s,n),w[bn]=t,fn(w),s=w;break e;case"link":var r=T5("link","href",m).get(s+(n.href||""));if(r){for(var x=0;x<r.length;x++)if(w=r[x],w.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&w.getAttribute("rel")===(n.rel==null?null:n.rel)&&w.getAttribute("title")===(n.title==null?null:n.title)&&w.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){r.splice(x,1);break t}}w=m.createElement(s),Fn(w,s,n),m.head.appendChild(w);break;case"meta":if(r=T5("meta","content",m).get(s+(n.content||""))){for(x=0;x<r.length;x++)if(w=r[x],w.getAttribute("content")===(n.content==null?null:""+n.content)&&w.getAttribute("name")===(n.name==null?null:n.name)&&w.getAttribute("property")===(n.property==null?null:n.property)&&w.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&w.getAttribute("charset")===(n.charSet==null?null:n.charSet)){r.splice(x,1);break t}}w=m.createElement(s),Fn(w,s,n),m.head.appendChild(w);break;default:throw Error(Oe(468,s))}w[bn]=t,fn(w),s=w}t.stateNode=s}else E5(m,t.type,t.stateNode);else t.stateNode=S5(m,s,t.memoizedProps);else w!==s?(w===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):w.count--,s===null?E5(m,t.type,t.stateNode):S5(m,s,t.memoizedProps)):s===null&&t.stateNode!==null&&Gm(t,t.memoizedProps,n.memoizedProps)}break;case 27:us(e,t),hs(t),s&512&&(Zi||n===null||Kr(n,n.return)),n!==null&&s&4&&Gm(t,t.memoizedProps,n.memoizedProps);break;case 5:if(us(e,t),hs(t),s&512&&(Zi||n===null||Kr(n,n.return)),t.flags&32){m=t.stateNode;try{kh(m,"")}catch(l){ei(t,t.return,l)}}s&4&&t.stateNode!=null&&(m=t.memoizedProps,Gm(t,m,n!==null?n.memoizedProps:m)),s&1024&&(jm=!0);break;case 6:if(us(e,t),hs(t),s&4){if(t.stateNode===null)throw Error(Oe(162));s=t.memoizedProps,n=t.stateNode;try{n.nodeValue=s}catch(l){ei(t,t.return,l)}}break;case 3:if(rg=null,m=Rr,Rr=Xg(e.containerInfo),us(e,t),Rr=m,hs(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Xh(e.containerInfo)}catch(l){ei(t,t.return,l)}jm&&(jm=!1,XF(t));break;case 4:s=Rr,Rr=Xg(t.stateNode.containerInfo),us(e,t),hs(t),Rr=s;break;case 12:us(e,t),hs(t);break;case 31:us(e,t),hs(t),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,tp(t,s)));break;case 13:us(e,t),hs(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(zv=Ps()),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,tp(t,s)));break;case 22:m=t.memoizedState!==null;var i=n!==null&&n.memoizedState!==null,a=Sa,p=Zi;if(Sa=a||m,Zi=p||i,us(e,t),Zi=p,Sa=a,hs(t),s&8192)e:for(e=t.stateNode,e._visibility=m?e._visibility&-2:e._visibility|1,m&&(n===null||i||Sa||Zi||bl(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){i=n=e;try{if(w=i.stateNode,m)r=w.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{x=i.stateNode;var c=i.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null;x.style.display=o==null||typeof o=="boolean"?"":(""+o).trim()}}catch(l){ei(i,i.return,l)}}}else if(e.tag===6){if(n===null){i=e;try{i.stateNode.nodeValue=m?"":i.memoizedProps}catch(l){ei(i,i.return,l)}}}else if(e.tag===18){if(n===null){i=e;try{var u=i.stateNode;m?y5(u,!0):y5(i.stateNode,!1)}catch(l){ei(i,i.return,l)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}s&4&&(s=t.updateQueue,s!==null&&(n=s.retryQueue,n!==null&&(s.retryQueue=null,tp(t,n))));break;case 19:us(e,t),hs(t),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,tp(t,s)));break;case 30:break;case 21:break;default:us(e,t),hs(t)}}function hs(t){var e=t.flags;if(e&2){try{for(var n,s=t.return;s!==null;){if(kF(s)){n=s;break}s=s.return}if(n==null)throw Error(Oe(160));switch(n.tag){case 27:var m=n.stateNode,w=Qm(t);kg(t,w,m);break;case 5:var r=n.stateNode;n.flags&32&&(kh(r,""),n.flags&=-33);var x=Qm(t);kg(t,x,r);break;case 3:case 4:var i=n.stateNode.containerInfo,a=Qm(t);Hx(t,a,i);break;default:throw Error(Oe(161))}}catch(p){ei(t,t.return,p)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function XF(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;XF(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function ma(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)GF(t,e.alternate,e),e=e.sibling}function bl(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Xo(4,e,e.return),bl(e);break;case 1:Kr(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&DF(e,e.return,n),bl(e);break;case 27:jd(e.stateNode);case 26:case 5:Kr(e,e.return),bl(e);break;case 22:e.memoizedState===null&&bl(e);break;case 30:bl(e);break;default:bl(e)}t=t.sibling}}function Ca(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var s=e.alternate,m=t,w=e,r=w.flags;switch(w.tag){case 0:case 11:case 15:Ca(m,w,n),DA(4,w);break;case 1:if(Ca(m,w,n),s=w,m=s.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(a){ei(s,s.return,a)}if(s=w,m=s.updateQueue,m!==null){var x=s.stateNode;try{var i=m.shared.hiddenCallbacks;if(i!==null)for(m.shared.hiddenCallbacks=null,m=0;m<i.length;m++)V3(i[m],x)}catch(a){ei(s,s.return,a)}}n&&r&64&&UF(w),kd(w,w.return);break;case 27:HF(w);case 26:case 5:Ca(m,w,n),n&&s===null&&r&4&&OF(w),kd(w,w.return);break;case 12:Ca(m,w,n);break;case 31:Ca(m,w,n),n&&r&4&&VF(m,w);break;case 13:Ca(m,w,n),n&&r&4&&zF(m,w);break;case 22:w.memoizedState===null&&Ca(m,w,n),kd(w,w.return);break;case 30:break;default:Ca(m,w,n)}e=e.sibling}}function fw(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&PA(n))}function pw(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&PA(t))}function br(t,e,n,s){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)WF(t,e,n,s),e=e.sibling}function WF(t,e,n,s){var m=e.flags;switch(e.tag){case 0:case 11:case 15:br(t,e,n,s),m&2048&&DA(9,e);break;case 1:br(t,e,n,s);break;case 3:br(t,e,n,s),m&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&PA(t)));break;case 12:if(m&2048){br(t,e,n,s),t=e.stateNode;try{var w=e.memoizedProps,r=w.id,x=w.onPostCommit;typeof x=="function"&&x(r,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(i){ei(e,e.return,i)}}else br(t,e,n,s);break;case 31:br(t,e,n,s);break;case 13:br(t,e,n,s);break;case 23:break;case 22:w=e.stateNode,r=e.alternate,e.memoizedState!==null?w._visibility&2?br(t,e,n,s):Hd(t,e):w._visibility&2?br(t,e,n,s):(w._visibility|=2,Xu(t,e,n,s,(e.subtreeFlags&10256)!==0||!1)),m&2048&&fw(r,e);break;case 24:br(t,e,n,s),m&2048&&pw(e.alternate,e);break;default:br(t,e,n,s)}}function Xu(t,e,n,s,m){for(m=m&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var w=t,r=e,x=n,i=s,a=r.flags;switch(r.tag){case 0:case 11:case 15:Xu(w,r,x,i,m),DA(8,r);break;case 23:break;case 22:var p=r.stateNode;r.memoizedState!==null?p._visibility&2?Xu(w,r,x,i,m):Hd(w,r):(p._visibility|=2,Xu(w,r,x,i,m)),m&&a&2048&&fw(r.alternate,r);break;case 24:Xu(w,r,x,i,m),m&&a&2048&&pw(r.alternate,r);break;default:Xu(w,r,x,i,m)}e=e.sibling}}function Hd(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,s=e,m=s.flags;switch(s.tag){case 22:Hd(n,s),m&2048&&fw(s.alternate,s);break;case 24:Hd(n,s),m&2048&&pw(s.alternate,s);break;default:Hd(n,s)}e=e.sibling}}var vd=8192;function Pu(t,e,n){if(t.subtreeFlags&vd)for(t=t.child;t!==null;)KF(t,e,n),t=t.sibling}function KF(t,e,n){switch(t.tag){case 26:Pu(t,e,n),t.flags&vd&&t.memoizedState!==null&&VU(n,Rr,t.memoizedState,t.memoizedProps);break;case 5:Pu(t,e,n);break;case 3:case 4:var s=Rr;Rr=Xg(t.stateNode.containerInfo),Pu(t,e,n),Rr=s;break;case 22:t.memoizedState===null&&(s=t.alternate,s!==null&&s.memoizedState!==null?(s=vd,vd=16777216,Pu(t,e,n),vd=s):Pu(t,e,n));break;default:Pu(t,e,n)}}function JF(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function qc(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var s=e[n];dn=s,$F(s,t)}JF(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ZF(t),t=t.sibling}function ZF(t){switch(t.tag){case 0:case 11:case 15:qc(t),t.flags&2048&&Xo(9,t,t.return);break;case 3:qc(t);break;case 12:qc(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,ng(t)):qc(t);break;default:qc(t)}}function ng(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var s=e[n];dn=s,$F(s,t)}JF(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Xo(8,e,e.return),ng(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,ng(e));break;default:ng(e)}t=t.sibling}}function $F(t,e){for(;dn!==null;){var n=dn;switch(n.tag){case 0:case 11:case 15:Xo(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var s=n.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:PA(n.memoizedState.cache)}if(s=n.child,s!==null)s.return=n,dn=s;else e:for(n=t;dn!==null;){s=dn;var m=s.sibling,w=s.return;if(QF(s),s===n){dn=null;break e}if(m!==null){m.return=w,dn=m;break e}dn=w}}}var sU={getCacheForType:function(t){var e=Tn($i),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return Tn($i).controller.signal}},rU=typeof WeakMap=="function"?WeakMap:Map,Xt=0,oi=null,Pt=null,Ot=0,_t=0,Ns=null,To=!1,oc=!1,gw=!1,Da=0,Mi=0,Wo=0,Ol=0,vw=0,Rs=0,jh=0,Gd=null,fs=null,Gx=!1,zv=0,qF=0,Hg=1/0,Gg=null,Do=null,sn=0,Oo=null,Vh=null,La=0,Qx=0,jx=null,_F=null,Qd=0,Vx=null;function Os(){return Xt&2&&Ot!==0?Ot&-Ot:yt.T!==null?yw():l3()}function eN(){if(Rs===0)if(!(Ot&536870912)||kt){var t=Wf;Wf<<=1,!(Wf&3932160)&&(Wf=262144),Rs=t}else Rs=536870912;return t=Hs.current,t!==null&&(t.flags|=32),Rs}function ms(t,e,n){(t===oi&&(_t===2||_t===9)||t.cancelPendingCommit!==null)&&(zh(t,0),Eo(t,Ot,Rs,!1)),MA(t,n),(!(Xt&2)||t!==oi)&&(t===oi&&(!(Xt&2)&&(Ol|=n),Mi===4&&Eo(t,Ot,Rs,!1)),ia(t))}function tN(t,e,n){if(Xt&6)throw Error(Oe(327));var s=!n&&(e&127)===0&&(e&t.expiredLanes)===0||LA(t,e),m=s?lU(t,e):Vm(t,e,!0),w=s;do{if(m===0){oc&&!s&&Eo(t,e,0,!1);break}else{if(n=t.current.alternate,w&&!aU(n)){m=Vm(t,e,!1),w=!1;continue}if(m===2){if(w=e,t.errorRecoveryDisabledLanes&w)var r=0;else r=t.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){e=r;e:{var x=t;m=Gd;var i=x.current.memoizedState.isDehydrated;if(i&&(zh(x,r).flags|=256),r=Vm(x,r,!1),r!==2){if(gw&&!i){x.errorRecoveryDisabledLanes|=w,Ol|=w,m=4;break e}w=fs,fs=m,w!==null&&(fs===null?fs=w:fs.push.apply(fs,w))}m=r}if(w=!1,m!==2)continue}}if(m===1){zh(t,0),Eo(t,e,0,!0);break}e:{switch(s=t,w=m,w){case 0:case 1:throw Error(Oe(345));case 4:if((e&4194048)!==e)break;case 6:Eo(s,e,Rs,!To);break e;case 2:fs=null;break;case 3:case 5:break;default:throw Error(Oe(329))}if((e&62914560)===e&&(m=zv+300-Ps(),10<m)){if(Eo(s,e,Rs,!To),Iv(s,0,!0)!==0)break e;La=e,s.timeoutHandle=wN(a5.bind(null,s,n,fs,Gg,Gx,e,Rs,Ol,jh,To,w,"Throttled",-0,0),m);break e}a5(s,n,fs,Gg,Gx,e,Rs,Ol,jh,To,w,null,-0,0)}}break}while(!0);ia(t)}function a5(t,e,n,s,m,w,r,x,i,a,p,c,o,u){if(t.timeoutHandle=-1,c=e.subtreeFlags,c&8192||(c&16785408)===16785408){c={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ea},KF(e,w,c);var l=(w&62914560)===w?zv-Ps():(w&4194048)===w?qF-Ps():0;if(l=zU(c,l),l!==null){La=w,t.cancelPendingCommit=l(l5.bind(null,t,e,w,n,s,m,r,x,i,p,c,null,o,u)),Eo(t,w,r,!a);return}}l5(t,e,w,n,s,m,r,x,i)}function aU(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var s=0;s<n.length;s++){var m=n[s],w=m.getSnapshot;m=m.value;try{if(!ks(w(),m))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Eo(t,e,n,s){e&=~vw,e&=~Ol,t.suspendedLanes|=e,t.pingedLanes&=~e,s&&(t.warmLanes|=e),s=t.expirationTimes;for(var m=e;0<m;){var w=31-Ds(m),r=1<<w;s[w]=-1,m&=~r}n!==0&&r3(t,n,e)}function Yv(){return Xt&6?!0:(OA(0),!1)}function mw(){if(Pt!==null){if(_t===0)var t=Pt.return;else t=Pt,Ba=tu=null,nw(t),Th=null,oA=0,t=Pt;for(;t!==null;)PF(t.alternate,t),t=t.return;Pt=null}}function zh(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,EU(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),La=0,mw(),oi=t,Pt=n=Fa(t.current,null),Ot=e,_t=0,Ns=null,To=!1,oc=LA(t,e),gw=!1,jh=Rs=vw=Ol=Wo=Mi=0,fs=Gd=null,Gx=!1,e&8&&(e|=e&32);var s=t.entangledLanes;if(s!==0)for(t=t.entanglements,s&=e;0<s;){var m=31-Ds(s),w=1<<m;e|=t[m],s&=~w}return Da=e,Ov(),n}function iN(t,e){Lt=null,yt.H=uA,e===ac||e===Hv?(e=kb(),_t=3):e===Z2?(e=kb(),_t=4):_t=e===dw?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Ns=e,Pt===null&&(Mi=1,Dg(t,rr(e,t.current)))}function nN(){var t=Hs.current;return t===null?!0:(Ot&4194048)===Ot?cr===null:(Ot&62914560)===Ot||Ot&536870912?t===cr:!1}function sN(){var t=yt.H;return yt.H=uA,t===null?uA:t}function rN(){var t=yt.A;return yt.A=sU,t}function Qg(){Mi=4,To||(Ot&4194048)!==Ot&&Hs.current!==null||(oc=!0),!(Wo&134217727)&&!(Ol&134217727)||oi===null||Eo(oi,Ot,Rs,!1)}function Vm(t,e,n){var s=Xt;Xt|=2;var m=sN(),w=rN();(oi!==t||Ot!==e)&&(Gg=null,zh(t,e)),e=!1;var r=Mi;e:do try{if(_t!==0&&Pt!==null){var x=Pt,i=Ns;switch(_t){case 8:mw(),r=6;break e;case 3:case 2:case 9:case 6:Hs.current===null&&(e=!0);var a=_t;if(_t=0,Ns=null,ch(t,x,i,a),n&&oc){r=0;break e}break;default:a=_t,_t=0,Ns=null,ch(t,x,i,a)}}oU(),r=Mi;break}catch(p){iN(t,p)}while(!0);return e&&t.shellSuspendCounter++,Ba=tu=null,Xt=s,yt.H=m,yt.A=w,Pt===null&&(oi=null,Ot=0,Ov()),r}function oU(){for(;Pt!==null;)aN(Pt)}function lU(t,e){var n=Xt;Xt|=2;var s=sN(),m=rN();oi!==t||Ot!==e?(Gg=null,Hg=Ps()+500,zh(t,e)):oc=LA(t,e);e:do try{if(_t!==0&&Pt!==null){e=Pt;var w=Ns;t:switch(_t){case 1:_t=0,Ns=null,ch(t,e,w,1);break;case 2:case 9:if(Ob(w)){_t=0,Ns=null,o5(e);break}e=function(){_t!==2&&_t!==9||oi!==t||(_t=7),ia(t)},w.then(e,e);break e;case 3:_t=7;break e;case 4:_t=5;break e;case 7:Ob(w)?(_t=0,Ns=null,o5(e)):(_t=0,Ns=null,ch(t,e,w,7));break;case 5:var r=null;switch(Pt.tag){case 26:r=Pt.memoizedState;case 5:case 27:var x=Pt;if(r?EN(r):x.stateNode.complete){_t=0,Ns=null;var i=x.sibling;if(i!==null)Pt=i;else{var a=x.return;a!==null?(Pt=a,Xv(a)):Pt=null}break t}}_t=0,Ns=null,ch(t,e,w,5);break;case 6:_t=0,Ns=null,ch(t,e,w,6);break;case 8:mw(),Mi=6;break e;default:throw Error(Oe(462))}}uU();break}catch(p){iN(t,p)}while(!0);return Ba=tu=null,yt.H=s,yt.A=m,Xt=n,Pt!==null?0:(oi=null,Ot=0,Ov(),Mi)}function uU(){for(;Pt!==null&&!R8();)aN(Pt)}function aN(t){var e=IF(t.alternate,t,Da);t.memoizedProps=t.pendingProps,e===null?Xv(t):Pt=e}function o5(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=e5(n,e,e.pendingProps,e.type,void 0,Ot);break;case 11:e=e5(n,e,e.pendingProps,e.type.render,e.ref,Ot);break;case 5:nw(e);default:PF(n,e),e=Pt=P3(e,Da),e=IF(n,e,Da)}t.memoizedProps=t.pendingProps,e===null?Xv(t):Pt=e}function ch(t,e,n,s){Ba=tu=null,nw(e),Th=null,oA=0;var m=e.return;try{if($P(t,m,e,n,Ot)){Mi=1,Dg(t,rr(n,t.current)),Pt=null;return}}catch(w){if(m!==null)throw Pt=m,w;Mi=1,Dg(t,rr(n,t.current)),Pt=null;return}e.flags&32768?(kt||s===1?t=!0:oc||Ot&536870912?t=!1:(To=t=!0,(s===2||s===9||s===3||s===6)&&(s=Hs.current,s!==null&&s.tag===13&&(s.flags|=16384))),oN(e,t)):Xv(e)}function Xv(t){var e=t;do{if(e.flags&32768){oN(e,To);return}t=e.return;var n=eU(e.alternate,e,Da);if(n!==null){Pt=n;return}if(e=e.sibling,e!==null){Pt=e;return}Pt=e=t}while(e!==null);Mi===0&&(Mi=5)}function oN(t,e){do{var n=tU(t.alternate,t);if(n!==null){n.flags&=32767,Pt=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){Pt=t;return}Pt=t=n}while(t!==null);Mi=6,Pt=null}function l5(t,e,n,s,m,w,r,x,i){t.cancelPendingCommit=null;do Wv();while(sn!==0);if(Xt&6)throw Error(Oe(327));if(e!==null){if(e===t.current)throw Error(Oe(177));if(w=e.lanes|e.childLanes,w|=V2,j8(t,n,w,r,x,i),t===oi&&(Pt=oi=null,Ot=0),Vh=e,Oo=t,La=n,Qx=w,jx=m,_F=s,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,AU(Tg,function(){return dN(),null})):(t.callbackNode=null,t.callbackPriority=0),s=(e.flags&13878)!==0,e.subtreeFlags&13878||s){s=yt.T,yt.T=null,m=Wt.p,Wt.p=2,r=Xt,Xt|=4;try{iU(t,e,n)}finally{Xt=r,Wt.p=m,yt.T=s}}sn=1,lN(),uN(),hN()}}function lN(){if(sn===1){sn=0;var t=Oo,e=Vh,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=yt.T,yt.T=null;var s=Wt.p;Wt.p=2;var m=Xt;Xt|=4;try{YF(e,t);var w=Wx,r=E3(t.containerInfo),x=w.focusedElem,i=w.selectionRange;if(r!==x&&x&&x.ownerDocument&&T3(x.ownerDocument.documentElement,x)){if(i!==null&&j2(x)){var a=i.start,p=i.end;if(p===void 0&&(p=a),"selectionStart"in x)x.selectionStart=a,x.selectionEnd=Math.min(p,x.value.length);else{var c=x.ownerDocument||document,o=c&&c.defaultView||window;if(o.getSelection){var u=o.getSelection(),l=x.textContent.length,d=Math.min(i.start,l),f=i.end===void 0?d:Math.min(i.end,l);!u.extend&&d>f&&(r=f,f=d,d=r);var h=Lb(x,d),A=Lb(x,f);if(h&&A&&(u.rangeCount!==1||u.anchorNode!==h.node||u.anchorOffset!==h.offset||u.focusNode!==A.node||u.focusOffset!==A.offset)){var g=c.createRange();g.setStart(h.node,h.offset),u.removeAllRanges(),d>f?(u.addRange(g),u.extend(A.node,A.offset)):(g.setEnd(A.node,A.offset),u.addRange(g))}}}}for(c=[],u=x;u=u.parentNode;)u.nodeType===1&&c.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<c.length;x++){var v=c[x];v.element.scrollLeft=v.left,v.element.scrollTop=v.top}}Jg=!!Xx,Wx=Xx=null}finally{Xt=m,Wt.p=s,yt.T=n}}t.current=e,sn=2}}function uN(){if(sn===2){sn=0;var t=Oo,e=Vh,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=yt.T,yt.T=null;var s=Wt.p;Wt.p=2;var m=Xt;Xt|=4;try{GF(t,e.alternate,e)}finally{Xt=m,Wt.p=s,yt.T=n}}sn=3}}function hN(){if(sn===4||sn===3){sn=0,I8();var t=Oo,e=Vh,n=La,s=_F;e.subtreeFlags&10256||e.flags&10256?sn=5:(sn=0,Vh=Oo=null,cN(t,t.pendingLanes));var m=t.pendingLanes;if(m===0&&(Do=null),U2(n),e=e.stateNode,Us&&typeof Us.onCommitFiberRoot=="function")try{Us.onCommitFiberRoot(NA,e,void 0,(e.current.flags&128)===128)}catch{}if(s!==null){e=yt.T,m=Wt.p,Wt.p=2,yt.T=null;try{for(var w=t.onRecoverableError,r=0;r<s.length;r++){var x=s[r];w(x.value,{componentStack:x.stack})}}finally{yt.T=e,Wt.p=m}}La&3&&Wv(),ia(t),m=t.pendingLanes,n&261930&&m&42?t===Vx?Qd++:(Qd=0,Vx=t):Qd=0,OA(0)}}function cN(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,PA(e)))}function Wv(){return lN(),uN(),hN(),dN()}function dN(){if(sn!==5)return!1;var t=Oo,e=Qx;Qx=0;var n=U2(La),s=yt.T,m=Wt.p;try{Wt.p=32>n?32:n,yt.T=null,n=jx,jx=null;var w=Oo,r=La;if(sn=0,Vh=Oo=null,La=0,Xt&6)throw Error(Oe(331));var x=Xt;if(Xt|=4,ZF(w.current),WF(w,w.current,r,n),Xt=x,OA(0,!1),Us&&typeof Us.onPostCommitFiberRoot=="function")try{Us.onPostCommitFiberRoot(NA,w)}catch{}return!0}finally{Wt.p=m,yt.T=s,cN(t,e)}}function u5(t,e,n){e=rr(n,e),e=Dx(t.stateNode,e,2),t=Uo(t,e,2),t!==null&&(MA(t,2),ia(t))}function ei(t,e,n){if(t.tag===3)u5(t,t,n);else for(;e!==null;){if(e.tag===3){u5(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Do===null||!Do.has(s))){t=rr(n,t),n=BF(2),s=Uo(e,n,2),s!==null&&(FF(n,s,e,t),MA(s,2),ia(s));break}}e=e.return}}function zm(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new rU;var m=new Set;s.set(e,m)}else m=s.get(e),m===void 0&&(m=new Set,s.set(e,m));m.has(n)||(gw=!0,m.add(n),t=hU.bind(null,t,e,n),e.then(t,t))}function hU(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,oi===t&&(Ot&n)===n&&(Mi===4||Mi===3&&(Ot&62914560)===Ot&&300>Ps()-zv?!(Xt&2)&&zh(t,0):vw|=n,jh===Ot&&(jh=0)),ia(t)}function AN(t,e){e===0&&(e=s3()),t=eu(t,e),t!==null&&(MA(t,e),ia(t))}function cU(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),AN(t,n)}function dU(t,e){var n=0;switch(t.tag){case 31:case 13:var s=t.stateNode,m=t.memoizedState;m!==null&&(n=m.retryLane);break;case 19:s=t.stateNode;break;case 22:s=t.stateNode._retryCache;break;default:throw Error(Oe(314))}s!==null&&s.delete(e),AN(t,n)}function AU(t,e){return I2(t,e)}var jg=null,Wu=null,zx=!1,Vg=!1,Ym=!1,Bo=0;function ia(t){t!==Wu&&t.next===null&&(Wu===null?jg=Wu=t:Wu=Wu.next=t),Vg=!0,zx||(zx=!0,pU())}function OA(t,e){if(!Ym&&Vg){Ym=!0;do for(var n=!1,s=jg;s!==null;){if(t!==0){var m=s.pendingLanes;if(m===0)var w=0;else{var r=s.suspendedLanes,x=s.pingedLanes;w=(1<<31-Ds(42|t)+1)-1,w&=m&~(r&~x),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(n=!0,h5(s,w))}else w=Ot,w=Iv(s,s===oi?w:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),!(w&3)||LA(s,w)||(n=!0,h5(s,w));s=s.next}while(n);Ym=!1}}function fU(){fN()}function fN(){Vg=zx=!1;var t=0;Bo!==0&&TU()&&(t=Bo);for(var e=Ps(),n=null,s=jg;s!==null;){var m=s.next,w=pN(s,e);w===0?(s.next=null,n===null?jg=m:n.next=m,m===null&&(Wu=n)):(n=s,(t!==0||w&3)&&(Vg=!0)),s=m}sn!==0&&sn!==5||OA(t),Bo!==0&&(Bo=0)}function pN(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,m=t.expirationTimes,w=t.pendingLanes&-62914561;0<w;){var r=31-Ds(w),x=1<<r,i=m[r];i===-1?(!(x&n)||x&s)&&(m[r]=Q8(x,e)):i<=e&&(t.expiredLanes|=x),w&=~x}if(e=oi,n=Ot,n=Iv(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s=t.callbackNode,n===0||t===e&&(_t===2||_t===9)||t.cancelPendingCommit!==null)return s!==null&&s!==null&&ym(s),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||LA(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(s!==null&&ym(s),U2(n)){case 2:case 8:n=i3;break;case 32:n=Tg;break;case 268435456:n=n3;break;default:n=Tg}return s=gN.bind(null,t),n=I2(n,s),t.callbackPriority=e,t.callbackNode=n,e}return s!==null&&s!==null&&ym(s),t.callbackPriority=2,t.callbackNode=null,2}function gN(t,e){if(sn!==0&&sn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(Wv()&&t.callbackNode!==n)return null;var s=Ot;return s=Iv(t,t===oi?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s===0?null:(tN(t,s,e),pN(t,Ps()),t.callbackNode!=null&&t.callbackNode===n?gN.bind(null,t):null)}function h5(t,e){if(Wv())return null;tN(t,e,!0)}function pU(){BU(function(){Xt&6?I2(t3,fU):fN()})}function yw(){if(Bo===0){var t=Hh;t===0&&(t=Xf,Xf<<=1,!(Xf&261888)&&(Xf=256)),Bo=t}return Bo}function c5(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Kp(""+t)}function d5(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function gU(t,e,n,s,m){if(e==="submit"&&n&&n.stateNode===m){var w=c5((m[ys]||null).action),r=s.submitter;r&&(e=(e=r[ys]||null)?c5(e.formAction):r.getAttribute("formAction"),e!==null&&(w=e,r=null));var x=new Pv("action","action",null,s,m);t.push({event:x,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Bo!==0){var i=r?d5(m,r):new FormData(m);Px(n,{pending:!0,data:i,method:m.method,action:w},null,i)}}else typeof w=="function"&&(x.preventDefault(),i=r?d5(m,r):new FormData(m),Px(n,{pending:!0,data:i,method:m.method,action:w},w,i))},currentTarget:m}]})}}for(var Xm=0;Xm<Cx.length;Xm++){var Wm=Cx[Xm],vU=Wm.toLowerCase(),mU=Wm[0].toUpperCase()+Wm.slice(1);Ur(vU,"on"+mU)}Ur(F3,"onAnimationEnd");Ur(N3,"onAnimationIteration");Ur(L3,"onAnimationStart");Ur("dblclick","onDoubleClick");Ur("focusin","onFocus");Ur("focusout","onBlur");Ur(PP,"onTransitionRun");Ur(UP,"onTransitionStart");Ur(DP,"onTransitionCancel");Ur(M3,"onTransitionEnd");Oh("onMouseEnter",["mouseout","mouseover"]);Oh("onMouseLeave",["mouseout","mouseover"]);Oh("onPointerEnter",["pointerout","pointerover"]);Oh("onPointerLeave",["pointerout","pointerover"]);$l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$l("onBeforeInput",["compositionend","keypress","textInput","paste"]);$l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hA="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yU=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hA));function vN(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],m=s.event;s=s.listeners;e:{var w=void 0;if(e)for(var r=s.length-1;0<=r;r--){var x=s[r],i=x.instance,a=x.currentTarget;if(x=x.listener,i!==w&&m.isPropagationStopped())break e;w=x,m.currentTarget=a;try{w(m)}catch(p){Bg(p)}m.currentTarget=null,w=i}else for(r=0;r<s.length;r++){if(x=s[r],i=x.instance,a=x.currentTarget,x=x.listener,i!==w&&m.isPropagationStopped())break e;w=x,m.currentTarget=a;try{w(m)}catch(p){Bg(p)}m.currentTarget=null,w=i}}}}function It(t,e){var n=e[fx];n===void 0&&(n=e[fx]=new Set);var s=t+"__bubble";n.has(s)||(mN(e,t,2,!1),n.add(s))}function Km(t,e,n){var s=0;e&&(s|=4),mN(n,t,s,e)}var ip="_reactListening"+Math.random().toString(36).slice(2);function xw(t){if(!t[ip]){t[ip]=!0,u3.forEach(function(n){n!=="selectionchange"&&(yU.has(n)||Km(n,!1,t),Km(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ip]||(e[ip]=!0,Km("selectionchange",!1,e))}}function mN(t,e,n,s){switch(MN(e)){case 2:var m=WU;break;case 8:m=KU;break;default:m=Sw}n=m.bind(null,e,n,t),m=void 0,!yx||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(m=!0),s?m!==void 0?t.addEventListener(e,n,{capture:!0,passive:m}):t.addEventListener(e,n,!0):m!==void 0?t.addEventListener(e,n,{passive:m}):t.addEventListener(e,n,!1)}function Jm(t,e,n,s,m){var w=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var r=s.tag;if(r===3||r===4){var x=s.stateNode.containerInfo;if(x===m)break;if(r===4)for(r=s.return;r!==null;){var i=r.tag;if((i===3||i===4)&&r.stateNode.containerInfo===m)return;r=r.return}for(;x!==null;){if(r=ih(x),r===null)return;if(i=r.tag,i===5||i===6||i===26||i===27){s=w=r;continue e}x=x.parentNode}}s=s.return}v3(function(){var a=w,p=k2(n),c=[];e:{var o=R3.get(t);if(o!==void 0){var u=Pv,l=t;switch(t){case"keypress":if(Zp(n)===0)break e;case"keydown":case"keyup":u=dP;break;case"focusin":l="focus",u=Sm;break;case"focusout":l="blur",u=Sm;break;case"beforeblur":case"afterblur":u=Sm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=xb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=eP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=pP;break;case F3:case N3:case L3:u=nP;break;case M3:u=vP;break;case"scroll":case"scrollend":u=q8;break;case"wheel":u=yP;break;case"copy":case"cut":case"paste":u=rP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Cb;break;case"toggle":case"beforetoggle":u=wP}var d=(e&4)!==0,f=!d&&(t==="scroll"||t==="scrollend"),h=d?o!==null?o+"Capture":null:o;d=[];for(var A=a,g;A!==null;){var v=A;if(g=v.stateNode,v=v.tag,v!==5&&v!==26&&v!==27||g===null||h===null||(v=iA(A,h),v!=null&&d.push(cA(A,v,g))),f)break;A=A.return}0<d.length&&(o=new u(o,l,null,n,p),c.push({event:o,listeners:d}))}}if(!(e&7)){e:{if(o=t==="mouseover"||t==="pointerover",u=t==="mouseout"||t==="pointerout",o&&n!==mx&&(l=n.relatedTarget||n.fromElement)&&(ih(l)||l[nc]))break e;if((u||o)&&(o=p.window===p?p:(o=p.ownerDocument)?o.defaultView||o.parentWindow:window,u?(l=n.relatedTarget||n.toElement,u=a,l=l?ih(l):null,l!==null&&(f=FA(l),d=l.tag,l!==f||d!==5&&d!==27&&d!==6)&&(l=null)):(u=null,l=a),u!==l)){if(d=xb,v="onMouseLeave",h="onMouseEnter",A="mouse",(t==="pointerout"||t==="pointerover")&&(d=Cb,v="onPointerLeave",h="onPointerEnter",A="pointer"),f=u==null?o:pd(u),g=l==null?o:pd(l),o=new d(v,A+"leave",u,n,p),o.target=f,o.relatedTarget=g,v=null,ih(p)===a&&(d=new d(h,A+"enter",l,n,p),d.target=g,d.relatedTarget=f,v=d),f=v,u&&l)t:{for(d=xU,h=u,A=l,g=0,v=h;v;v=d(v))g++;v=0;for(var y=A;y;y=d(y))v++;for(;0<g-v;)h=d(h),g--;for(;0<v-g;)A=d(A),v--;for(;g--;){if(h===A||A!==null&&h===A.alternate){d=h;break t}h=d(h),A=d(A)}d=null}else d=null;u!==null&&A5(c,o,u,d,!1),l!==null&&f!==null&&A5(c,f,l,d,!0)}}e:{if(o=a?pd(a):window,u=o.nodeName&&o.nodeName.toLowerCase(),u==="select"||u==="input"&&o.type==="file")var C=Eb;else if(Tb(o))if(b3)C=MP;else{C=NP;var b=FP}else u=o.nodeName,!u||u.toLowerCase()!=="input"||o.type!=="checkbox"&&o.type!=="radio"?a&&O2(a.elementType)&&(C=Eb):C=LP;if(C&&(C=C(t,a))){C3(c,C,n,p);break e}b&&b(t,o,a),t==="focusout"&&a&&o.type==="number"&&a.memoizedProps.value!=null&&vx(o,"number",o.value)}switch(b=a?pd(a):window,t){case"focusin":(Tb(b)||b.contentEditable==="true")&&(rh=b,xx=a,Rd=null);break;case"focusout":Rd=xx=rh=null;break;case"mousedown":wx=!0;break;case"contextmenu":case"mouseup":case"dragend":wx=!1,Mb(c,n,p);break;case"selectionchange":if(IP)break;case"keydown":case"keyup":Mb(c,n,p)}var T;if(Q2)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else sh?x3(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(y3&&n.locale!=="ko"&&(sh||S!=="onCompositionStart"?S==="onCompositionEnd"&&sh&&(T=m3()):(So=p,H2="value"in So?So.value:So.textContent,sh=!0)),b=zg(a,S),0<b.length&&(S=new wb(S,t,null,n,p),c.push({event:S,listeners:b}),T?S.data=T:(T=w3(n),T!==null&&(S.data=T)))),(T=bP?SP(t,n):TP(t,n))&&(S=zg(a,"onBeforeInput"),0<S.length&&(b=new wb("onBeforeInput","beforeinput",null,n,p),c.push({event:b,listeners:S}),b.data=T)),gU(c,t,a,n,p)}vN(c,e)})}function cA(t,e,n){return{instance:t,listener:e,currentTarget:n}}function zg(t,e){for(var n=e+"Capture",s=[];t!==null;){var m=t,w=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||w===null||(m=iA(t,n),m!=null&&s.unshift(cA(t,m,w)),m=iA(t,e),m!=null&&s.push(cA(t,m,w))),t.tag===3)return s;t=t.return}return[]}function xU(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function A5(t,e,n,s,m){for(var w=e._reactName,r=[];n!==null&&n!==s;){var x=n,i=x.alternate,a=x.stateNode;if(x=x.tag,i!==null&&i===s)break;x!==5&&x!==26&&x!==27||a===null||(i=a,m?(a=iA(n,w),a!=null&&r.unshift(cA(n,a,i))):m||(a=iA(n,w),a!=null&&r.push(cA(n,a,i)))),n=n.return}r.length!==0&&t.push({event:e,listeners:r})}var wU=/\r\n?/g,CU=/\u0000|\uFFFD/g;function f5(t){return(typeof t=="string"?t:""+t).replace(wU,`
`).replace(CU,"")}function yN(t,e){return e=f5(e),f5(t)===e}function ii(t,e,n,s,m,w){switch(n){case"children":typeof s=="string"?e==="body"||e==="textarea"&&s===""||kh(t,s):(typeof s=="number"||typeof s=="bigint")&&e!=="body"&&kh(t,""+s);break;case"className":Jf(t,"class",s);break;case"tabIndex":Jf(t,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Jf(t,n,s);break;case"style":g3(t,s,w);break;case"data":if(e!=="object"){Jf(t,"data",s);break}case"src":case"href":if(s===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(n);break}s=Kp(""+s),t.setAttribute(n,s);break;case"action":case"formAction":if(typeof s=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(n==="formAction"?(e!=="input"&&ii(t,e,"name",m.name,m,null),ii(t,e,"formEncType",m.formEncType,m,null),ii(t,e,"formMethod",m.formMethod,m,null),ii(t,e,"formTarget",m.formTarget,m,null)):(ii(t,e,"encType",m.encType,m,null),ii(t,e,"method",m.method,m,null),ii(t,e,"target",m.target,m,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(n);break}s=Kp(""+s),t.setAttribute(n,s);break;case"onClick":s!=null&&(t.onclick=Ea);break;case"onScroll":s!=null&&It("scroll",t);break;case"onScrollEnd":s!=null&&It("scrollend",t);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(Oe(61));if(n=s.__html,n!=null){if(m.children!=null)throw Error(Oe(60));t.innerHTML=n}}break;case"multiple":t.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":t.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){t.removeAttribute("xlink:href");break}n=Kp(""+s),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(n,""+s):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":s===!0?t.setAttribute(n,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(n,s):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?t.setAttribute(n,s):t.removeAttribute(n);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?t.removeAttribute(n):t.setAttribute(n,s);break;case"popover":It("beforetoggle",t),It("toggle",t),Wp(t,"popover",s);break;case"xlinkActuate":pa(t,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":pa(t,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":pa(t,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":pa(t,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":pa(t,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":pa(t,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":pa(t,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":pa(t,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":pa(t,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Wp(t,"is",s);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Z8.get(n)||n,Wp(t,n,s))}}function Yx(t,e,n,s,m,w){switch(n){case"style":g3(t,s,w);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(Oe(61));if(n=s.__html,n!=null){if(m.children!=null)throw Error(Oe(60));t.innerHTML=n}}break;case"children":typeof s=="string"?kh(t,s):(typeof s=="number"||typeof s=="bigint")&&kh(t,""+s);break;case"onScroll":s!=null&&It("scroll",t);break;case"onScrollEnd":s!=null&&It("scrollend",t);break;case"onClick":s!=null&&(t.onclick=Ea);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!h3.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(m=n.endsWith("Capture"),e=n.slice(2,m?n.length-7:void 0),w=t[ys]||null,w=w!=null?w[n]:null,typeof w=="function"&&t.removeEventListener(e,w,m),typeof s=="function")){typeof w!="function"&&w!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,s,m);break e}n in t?t[n]=s:s===!0?t.setAttribute(n,""):Wp(t,n,s)}}}function Fn(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",t),It("load",t);var s=!1,m=!1,w;for(w in n)if(n.hasOwnProperty(w)){var r=n[w];if(r!=null)switch(w){case"src":s=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(Oe(137,e));default:ii(t,e,w,r,n,null)}}m&&ii(t,e,"srcSet",n.srcSet,n,null),s&&ii(t,e,"src",n.src,n,null);return;case"input":It("invalid",t);var x=w=r=m=null,i=null,a=null;for(s in n)if(n.hasOwnProperty(s)){var p=n[s];if(p!=null)switch(s){case"name":m=p;break;case"type":r=p;break;case"checked":i=p;break;case"defaultChecked":a=p;break;case"value":w=p;break;case"defaultValue":x=p;break;case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(Oe(137,e));break;default:ii(t,e,s,p,n,null)}}A3(t,w,x,i,a,r,m,!1);return;case"select":It("invalid",t),s=r=w=null;for(m in n)if(n.hasOwnProperty(m)&&(x=n[m],x!=null))switch(m){case"value":w=x;break;case"defaultValue":r=x;break;case"multiple":s=x;default:ii(t,e,m,x,n,null)}e=w,n=r,t.multiple=!!s,e!=null?Ch(t,!!s,e,!1):n!=null&&Ch(t,!!s,n,!0);return;case"textarea":It("invalid",t),w=m=s=null;for(r in n)if(n.hasOwnProperty(r)&&(x=n[r],x!=null))switch(r){case"value":s=x;break;case"defaultValue":m=x;break;case"children":w=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(Oe(91));break;default:ii(t,e,r,x,n,null)}p3(t,s,m,w);return;case"option":for(i in n)if(n.hasOwnProperty(i)&&(s=n[i],s!=null))switch(i){case"selected":t.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:ii(t,e,i,s,n,null)}return;case"dialog":It("beforetoggle",t),It("toggle",t),It("cancel",t),It("close",t);break;case"iframe":case"object":It("load",t);break;case"video":case"audio":for(s=0;s<hA.length;s++)It(hA[s],t);break;case"image":It("error",t),It("load",t);break;case"details":It("toggle",t);break;case"embed":case"source":case"link":It("error",t),It("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(a in n)if(n.hasOwnProperty(a)&&(s=n[a],s!=null))switch(a){case"children":case"dangerouslySetInnerHTML":throw Error(Oe(137,e));default:ii(t,e,a,s,n,null)}return;default:if(O2(e)){for(p in n)n.hasOwnProperty(p)&&(s=n[p],s!==void 0&&Yx(t,e,p,s,n,void 0));return}}for(x in n)n.hasOwnProperty(x)&&(s=n[x],s!=null&&ii(t,e,x,s,n,null))}function bU(t,e,n,s){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,w=null,r=null,x=null,i=null,a=null,p=null;for(u in n){var c=n[u];if(n.hasOwnProperty(u)&&c!=null)switch(u){case"checked":break;case"value":break;case"defaultValue":i=c;default:s.hasOwnProperty(u)||ii(t,e,u,null,s,c)}}for(var o in s){var u=s[o];if(c=n[o],s.hasOwnProperty(o)&&(u!=null||c!=null))switch(o){case"type":w=u;break;case"name":m=u;break;case"checked":a=u;break;case"defaultChecked":p=u;break;case"value":r=u;break;case"defaultValue":x=u;break;case"children":case"dangerouslySetInnerHTML":if(u!=null)throw Error(Oe(137,e));break;default:u!==c&&ii(t,e,o,u,s,c)}}gx(t,r,x,i,a,p,w,m);return;case"select":u=r=x=o=null;for(w in n)if(i=n[w],n.hasOwnProperty(w)&&i!=null)switch(w){case"value":break;case"multiple":u=i;default:s.hasOwnProperty(w)||ii(t,e,w,null,s,i)}for(m in s)if(w=s[m],i=n[m],s.hasOwnProperty(m)&&(w!=null||i!=null))switch(m){case"value":o=w;break;case"defaultValue":x=w;break;case"multiple":r=w;default:w!==i&&ii(t,e,m,w,s,i)}e=x,n=r,s=u,o!=null?Ch(t,!!n,o,!1):!!s!=!!n&&(e!=null?Ch(t,!!n,e,!0):Ch(t,!!n,n?[]:"",!1));return;case"textarea":u=o=null;for(x in n)if(m=n[x],n.hasOwnProperty(x)&&m!=null&&!s.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:ii(t,e,x,null,s,m)}for(r in s)if(m=s[r],w=n[r],s.hasOwnProperty(r)&&(m!=null||w!=null))switch(r){case"value":o=m;break;case"defaultValue":u=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(Oe(91));break;default:m!==w&&ii(t,e,r,m,s,w)}f3(t,o,u);return;case"option":for(var l in n)if(o=n[l],n.hasOwnProperty(l)&&o!=null&&!s.hasOwnProperty(l))switch(l){case"selected":t.selected=!1;break;default:ii(t,e,l,null,s,o)}for(i in s)if(o=s[i],u=n[i],s.hasOwnProperty(i)&&o!==u&&(o!=null||u!=null))switch(i){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:ii(t,e,i,o,s,u)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var d in n)o=n[d],n.hasOwnProperty(d)&&o!=null&&!s.hasOwnProperty(d)&&ii(t,e,d,null,s,o);for(a in s)if(o=s[a],u=n[a],s.hasOwnProperty(a)&&o!==u&&(o!=null||u!=null))switch(a){case"children":case"dangerouslySetInnerHTML":if(o!=null)throw Error(Oe(137,e));break;default:ii(t,e,a,o,s,u)}return;default:if(O2(e)){for(var f in n)o=n[f],n.hasOwnProperty(f)&&o!==void 0&&!s.hasOwnProperty(f)&&Yx(t,e,f,void 0,s,o);for(p in s)o=s[p],u=n[p],!s.hasOwnProperty(p)||o===u||o===void 0&&u===void 0||Yx(t,e,p,o,s,u);return}}for(var h in n)o=n[h],n.hasOwnProperty(h)&&o!=null&&!s.hasOwnProperty(h)&&ii(t,e,h,null,s,o);for(c in s)o=s[c],u=n[c],!s.hasOwnProperty(c)||o===u||o==null&&u==null||ii(t,e,c,o,s,u)}function p5(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function SU(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),s=0;s<n.length;s++){var m=n[s],w=m.transferSize,r=m.initiatorType,x=m.duration;if(w&&x&&p5(r)){for(r=0,x=m.responseEnd,s+=1;s<n.length;s++){var i=n[s],a=i.startTime;if(a>x)break;var p=i.transferSize,c=i.initiatorType;p&&p5(c)&&(i=i.responseEnd,r+=p*(i<x?1:(x-a)/(i-a)))}if(--s,e+=8*(w+r)/(m.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Xx=null,Wx=null;function Yg(t){return t.nodeType===9?t:t.ownerDocument}function g5(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xN(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Kx(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Zm=null;function TU(){var t=window.event;return t&&t.type==="popstate"?t===Zm?!1:(Zm=t,!0):(Zm=null,!1)}var wN=typeof setTimeout=="function"?setTimeout:void 0,EU=typeof clearTimeout=="function"?clearTimeout:void 0,v5=typeof Promise=="function"?Promise:void 0,BU=typeof queueMicrotask=="function"?queueMicrotask:typeof v5<"u"?function(t){return v5.resolve(null).then(t).catch(FU)}:wN;function FU(t){setTimeout(function(){throw t})}function il(t){return t==="head"}function m5(t,e){var n=e,s=0;do{var m=n.nextSibling;if(t.removeChild(n),m&&m.nodeType===8)if(n=m.data,n==="/$"||n==="/&"){if(s===0){t.removeChild(m),Xh(e);return}s--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")s++;else if(n==="html")jd(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,jd(n);for(var w=n.firstChild;w;){var r=w.nextSibling,x=w.nodeName;w[RA]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&w.rel.toLowerCase()==="stylesheet"||n.removeChild(w),w=r}}else n==="body"&&jd(t.ownerDocument.body);n=m}while(n);Xh(e)}function y5(t,e){var n=t;t=0;do{var s=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=s}while(n)}function Jx(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Jx(n),D2(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function NU(t,e,n,s){for(;t.nodeType===1;){var m=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!s&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(s){if(!t[RA])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(w=t.getAttribute("rel"),w==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(w!==m.rel||t.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||t.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||t.getAttribute("title")!==(m.title==null?null:m.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(w=t.getAttribute("src"),(w!==(m.src==null?null:m.src)||t.getAttribute("type")!==(m.type==null?null:m.type)||t.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&w&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var w=m.name==null?null:""+m.name;if(m.type==="hidden"&&t.getAttribute("name")===w)return t}else return t;if(t=dr(t.nextSibling),t===null)break}return null}function LU(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=dr(t.nextSibling),t===null))return null;return t}function CN(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=dr(t.nextSibling),t===null))return null;return t}function Zx(t){return t.data==="$?"||t.data==="$~"}function $x(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function MU(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var s=function(){e(),n.removeEventListener("DOMContentLoaded",s)};n.addEventListener("DOMContentLoaded",s),t._reactRetry=s}}function dr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var qx=null;function x5(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return dr(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function w5(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function bN(t,e,n){switch(e=Yg(n),t){case"html":if(t=e.documentElement,!t)throw Error(Oe(452));return t;case"head":if(t=e.head,!t)throw Error(Oe(453));return t;case"body":if(t=e.body,!t)throw Error(Oe(454));return t;default:throw Error(Oe(451))}}function jd(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);D2(t)}var pr=new Map,C5=new Set;function Xg(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Qa=Wt.d;Wt.d={f:RU,r:IU,D:PU,C:UU,L:DU,m:OU,X:HU,S:kU,M:GU};function RU(){var t=Qa.f(),e=Yv();return t||e}function IU(t){var e=sc(t);e!==null&&e.tag===5&&e.type==="form"?gF(e):Qa.r(t)}var lc=typeof document>"u"?null:document;function SN(t,e,n){var s=lc;if(s&&typeof e=="string"&&e){var m=sr(e);m='link[rel="'+t+'"][href="'+m+'"]',typeof n=="string"&&(m+='[crossorigin="'+n+'"]'),C5.has(m)||(C5.add(m),t={rel:t,crossOrigin:n,href:e},s.querySelector(m)===null&&(e=s.createElement("link"),Fn(e,"link",t),fn(e),s.head.appendChild(e)))}}function PU(t){Qa.D(t),SN("dns-prefetch",t,null)}function UU(t,e){Qa.C(t,e),SN("preconnect",t,e)}function DU(t,e,n){Qa.L(t,e,n);var s=lc;if(s&&t&&e){var m='link[rel="preload"][as="'+sr(e)+'"]';e==="image"&&n&&n.imageSrcSet?(m+='[imagesrcset="'+sr(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(m+='[imagesizes="'+sr(n.imageSizes)+'"]')):m+='[href="'+sr(t)+'"]';var w=m;switch(e){case"style":w=Yh(t);break;case"script":w=uc(t)}pr.has(w)||(t=vi({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),pr.set(w,t),s.querySelector(m)!==null||e==="style"&&s.querySelector(kA(w))||e==="script"&&s.querySelector(HA(w))||(e=s.createElement("link"),Fn(e,"link",t),fn(e),s.head.appendChild(e)))}}function OU(t,e){Qa.m(t,e);var n=lc;if(n&&t){var s=e&&typeof e.as=="string"?e.as:"script",m='link[rel="modulepreload"][as="'+sr(s)+'"][href="'+sr(t)+'"]',w=m;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=uc(t)}if(!pr.has(w)&&(t=vi({rel:"modulepreload",href:t},e),pr.set(w,t),n.querySelector(m)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(HA(w)))return}s=n.createElement("link"),Fn(s,"link",t),fn(s),n.head.appendChild(s)}}}function kU(t,e,n){Qa.S(t,e,n);var s=lc;if(s&&t){var m=wh(s).hoistableStyles,w=Yh(t);e=e||"default";var r=m.get(w);if(!r){var x={loading:0,preload:null};if(r=s.querySelector(kA(w)))x.loading=5;else{t=vi({rel:"stylesheet",href:t,"data-precedence":e},n),(n=pr.get(w))&&ww(t,n);var i=r=s.createElement("link");fn(i),Fn(i,"link",t),i._p=new Promise(function(a,p){i.onload=a,i.onerror=p}),i.addEventListener("load",function(){x.loading|=1}),i.addEventListener("error",function(){x.loading|=2}),x.loading|=4,sg(r,e,s)}r={type:"stylesheet",instance:r,count:1,state:x},m.set(w,r)}}}function HU(t,e){Qa.X(t,e);var n=lc;if(n&&t){var s=wh(n).hoistableScripts,m=uc(t),w=s.get(m);w||(w=n.querySelector(HA(m)),w||(t=vi({src:t,async:!0},e),(e=pr.get(m))&&Cw(t,e),w=n.createElement("script"),fn(w),Fn(w,"link",t),n.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},s.set(m,w))}}function GU(t,e){Qa.M(t,e);var n=lc;if(n&&t){var s=wh(n).hoistableScripts,m=uc(t),w=s.get(m);w||(w=n.querySelector(HA(m)),w||(t=vi({src:t,async:!0,type:"module"},e),(e=pr.get(m))&&Cw(t,e),w=n.createElement("script"),fn(w),Fn(w,"link",t),n.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},s.set(m,w))}}function b5(t,e,n,s){var m=(m=Ro.current)?Xg(m):null;if(!m)throw Error(Oe(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Yh(n.href),n=wh(m).hoistableStyles,s=n.get(e),s||(s={type:"style",instance:null,count:0,state:null},n.set(e,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Yh(n.href);var w=wh(m).hoistableStyles,r=w.get(t);if(r||(m=m.ownerDocument||m,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(t,r),(w=m.querySelector(kA(t)))&&!w._p&&(r.instance=w,r.state.loading=5),pr.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},pr.set(t,n),w||QU(m,t,n,r.state))),e&&s===null)throw Error(Oe(528,""));return r}if(e&&s!==null)throw Error(Oe(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=uc(n),n=wh(m).hoistableScripts,s=n.get(e),s||(s={type:"script",instance:null,count:0,state:null},n.set(e,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(Oe(444,t))}}function Yh(t){return'href="'+sr(t)+'"'}function kA(t){return'link[rel="stylesheet"]['+t+"]"}function TN(t){return vi({},t,{"data-precedence":t.precedence,precedence:null})}function QU(t,e,n,s){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?s.loading=1:(e=t.createElement("link"),s.preload=e,e.addEventListener("load",function(){return s.loading|=1}),e.addEventListener("error",function(){return s.loading|=2}),Fn(e,"link",n),fn(e),t.head.appendChild(e))}function uc(t){return'[src="'+sr(t)+'"]'}function HA(t){return"script[async]"+t}function S5(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var s=t.querySelector('style[data-href~="'+sr(n.href)+'"]');if(s)return e.instance=s,fn(s),s;var m=vi({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return s=(t.ownerDocument||t).createElement("style"),fn(s),Fn(s,"style",m),sg(s,n.precedence,t),e.instance=s;case"stylesheet":m=Yh(n.href);var w=t.querySelector(kA(m));if(w)return e.state.loading|=4,e.instance=w,fn(w),w;s=TN(n),(m=pr.get(m))&&ww(s,m),w=(t.ownerDocument||t).createElement("link"),fn(w);var r=w;return r._p=new Promise(function(x,i){r.onload=x,r.onerror=i}),Fn(w,"link",s),e.state.loading|=4,sg(w,n.precedence,t),e.instance=w;case"script":return w=uc(n.src),(m=t.querySelector(HA(w)))?(e.instance=m,fn(m),m):(s=n,(m=pr.get(w))&&(s=vi({},n),Cw(s,m)),t=t.ownerDocument||t,m=t.createElement("script"),fn(m),Fn(m,"link",s),t.head.appendChild(m),e.instance=m);case"void":return null;default:throw Error(Oe(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(s=e.instance,e.state.loading|=4,sg(s,n.precedence,t));return e.instance}function sg(t,e,n){for(var s=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=s.length?s[s.length-1]:null,w=m,r=0;r<s.length;r++){var x=s[r];if(x.dataset.precedence===e)w=x;else if(w!==m)break}w?w.parentNode.insertBefore(t,w.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function ww(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Cw(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var rg=null;function T5(t,e,n){if(rg===null){var s=new Map,m=rg=new Map;m.set(n,s)}else m=rg,s=m.get(n),s||(s=new Map,m.set(n,s));if(s.has(t))return s;for(s.set(t,null),n=n.getElementsByTagName(t),m=0;m<n.length;m++){var w=n[m];if(!(w[RA]||w[bn]||t==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var r=w.getAttribute(e)||"";r=t+r;var x=s.get(r);x?x.push(w):s.set(r,[w])}}return s}function E5(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function jU(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function EN(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function VU(t,e,n,s){if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var m=Yh(s.href),w=e.querySelector(kA(m));if(w){e=w._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=Wg.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=w,fn(w);return}w=e.ownerDocument||e,s=TN(s),(m=pr.get(m))&&ww(s,m),w=w.createElement("link"),fn(w);var r=w;r._p=new Promise(function(x,i){r.onload=x,r.onerror=i}),Fn(w,"link",s),n.instance=w}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=Wg.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var $m=0;function zU(t,e){return t.stylesheets&&t.count===0&&ag(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var s=setTimeout(function(){if(t.stylesheets&&ag(t,t.stylesheets),t.unsuspend){var w=t.unsuspend;t.unsuspend=null,w()}},6e4+e);0<t.imgBytes&&$m===0&&($m=62500*SU());var m=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&ag(t,t.stylesheets),t.unsuspend)){var w=t.unsuspend;t.unsuspend=null,w()}},(t.imgBytes>$m?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(s),clearTimeout(m)}}:null}function Wg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ag(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Kg=null;function ag(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Kg=new Map,e.forEach(YU,t),Kg=null,Wg.call(t))}function YU(t,e){if(!(e.state.loading&4)){var n=Kg.get(t);if(n)var s=n.get(null);else{n=new Map,Kg.set(t,n);for(var m=t.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<m.length;w++){var r=m[w];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(n.set(r.dataset.precedence,r),s=r)}s&&n.set(null,s)}m=e.instance,r=m.getAttribute("data-precedence"),w=n.get(r)||s,w===s&&n.set(null,m),n.set(r,m),this.count++,s=Wg.bind(this),m.addEventListener("load",s),m.addEventListener("error",s),w?w.parentNode.insertBefore(m,w.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(m,t.firstChild)),e.state.loading|=4}}var dA={$$typeof:Ta,Provider:null,Consumer:null,_currentValue:Il,_currentValue2:Il,_threadCount:0};function XU(t,e,n,s,m,w,r,x,i){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xm(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xm(0),this.hiddenUpdates=xm(null),this.identifierPrefix=s,this.onUncaughtError=m,this.onCaughtError=w,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=i,this.incompleteTransitions=new Map}function BN(t,e,n,s,m,w,r,x,i,a,p,c){return t=new XU(t,e,n,r,i,a,p,c,x),e=1,w===!0&&(e|=24),w=Ms(3,null,null,e),t.current=w,w.stateNode=t,e=K2(),e.refCount++,t.pooledCache=e,e.refCount++,w.memoizedState={element:s,isDehydrated:n,cache:e},$2(w),t}function FN(t){return t?(t=lh,t):lh}function NN(t,e,n,s,m,w){m=FN(m),s.context===null?s.context=m:s.pendingContext=m,s=Po(e),s.payload={element:n},w=w===void 0?null:w,w!==null&&(s.callback=w),n=Uo(t,s,e),n!==null&&(ms(n,t,e),Pd(n,t,e))}function B5(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function bw(t,e){B5(t,e),(t=t.alternate)&&B5(t,e)}function LN(t){if(t.tag===13||t.tag===31){var e=eu(t,67108864);e!==null&&ms(e,t,67108864),bw(t,67108864)}}function F5(t){if(t.tag===13||t.tag===31){var e=Os();e=P2(e);var n=eu(t,e);n!==null&&ms(n,t,e),bw(t,e)}}var Jg=!0;function WU(t,e,n,s){var m=yt.T;yt.T=null;var w=Wt.p;try{Wt.p=2,Sw(t,e,n,s)}finally{Wt.p=w,yt.T=m}}function KU(t,e,n,s){var m=yt.T;yt.T=null;var w=Wt.p;try{Wt.p=8,Sw(t,e,n,s)}finally{Wt.p=w,yt.T=m}}function Sw(t,e,n,s){if(Jg){var m=_x(s);if(m===null)Jm(t,e,s,Zg,n),N5(t,s);else if(ZU(m,t,e,n,s))s.stopPropagation();else if(N5(t,s),e&4&&-1<JU.indexOf(t)){for(;m!==null;){var w=sc(m);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var r=wl(w.pendingLanes);if(r!==0){var x=w;for(x.pendingLanes|=2,x.entangledLanes|=2;r;){var i=1<<31-Ds(r);x.entanglements[1]|=i,r&=~i}ia(w),!(Xt&6)&&(Hg=Ps()+500,OA(0))}}break;case 31:case 13:x=eu(w,2),x!==null&&ms(x,w,2),Yv(),bw(w,2)}if(w=_x(s),w===null&&Jm(t,e,s,Zg,n),w===m)break;m=w}m!==null&&s.stopPropagation()}else Jm(t,e,s,null,n)}}function _x(t){return t=k2(t),Tw(t)}var Zg=null;function Tw(t){if(Zg=null,t=ih(t),t!==null){var e=FA(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=ZB(e),t!==null)return t;t=null}else if(n===31){if(t=$B(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Zg=t,null}function MN(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(P8()){case t3:return 2;case i3:return 8;case Tg:case U8:return 32;case n3:return 268435456;default:return 32}default:return 32}}var e1=!1,ko=null,Ho=null,Go=null,AA=new Map,fA=new Map,Co=[],JU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function N5(t,e){switch(t){case"focusin":case"focusout":ko=null;break;case"dragenter":case"dragleave":Ho=null;break;case"mouseover":case"mouseout":Go=null;break;case"pointerover":case"pointerout":AA.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":fA.delete(e.pointerId)}}function _c(t,e,n,s,m,w){return t===null||t.nativeEvent!==w?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:w,targetContainers:[m]},e!==null&&(e=sc(e),e!==null&&LN(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,m!==null&&e.indexOf(m)===-1&&e.push(m),t)}function ZU(t,e,n,s,m){switch(e){case"focusin":return ko=_c(ko,t,e,n,s,m),!0;case"dragenter":return Ho=_c(Ho,t,e,n,s,m),!0;case"mouseover":return Go=_c(Go,t,e,n,s,m),!0;case"pointerover":var w=m.pointerId;return AA.set(w,_c(AA.get(w)||null,t,e,n,s,m)),!0;case"gotpointercapture":return w=m.pointerId,fA.set(w,_c(fA.get(w)||null,t,e,n,s,m)),!0}return!1}function RN(t){var e=ih(t.target);if(e!==null){var n=FA(e);if(n!==null){if(e=n.tag,e===13){if(e=ZB(n),e!==null){t.blockedOn=e,Ab(t.priority,function(){F5(n)});return}}else if(e===31){if(e=$B(n),e!==null){t.blockedOn=e,Ab(t.priority,function(){F5(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function og(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=_x(t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);mx=s,n.target.dispatchEvent(s),mx=null}else return e=sc(n),e!==null&&LN(e),t.blockedOn=n,!1;e.shift()}return!0}function L5(t,e,n){og(t)&&n.delete(e)}function $U(){e1=!1,ko!==null&&og(ko)&&(ko=null),Ho!==null&&og(Ho)&&(Ho=null),Go!==null&&og(Go)&&(Go=null),AA.forEach(L5),fA.forEach(L5)}function np(t,e){t.blockedOn===e&&(t.blockedOn=null,e1||(e1=!0,rn.unstable_scheduleCallback(rn.unstable_NormalPriority,$U)))}var sp=null;function M5(t){sp!==t&&(sp=t,rn.unstable_scheduleCallback(rn.unstable_NormalPriority,function(){sp===t&&(sp=null);for(var e=0;e<t.length;e+=3){var n=t[e],s=t[e+1],m=t[e+2];if(typeof s!="function"){if(Tw(s||n)===null)continue;break}var w=sc(n);w!==null&&(t.splice(e,3),e-=3,Px(w,{pending:!0,data:m,method:n.method,action:s},s,m))}}))}function Xh(t){function e(i){return np(i,t)}ko!==null&&np(ko,t),Ho!==null&&np(Ho,t),Go!==null&&np(Go,t),AA.forEach(e),fA.forEach(e);for(var n=0;n<Co.length;n++){var s=Co[n];s.blockedOn===t&&(s.blockedOn=null)}for(;0<Co.length&&(n=Co[0],n.blockedOn===null);)RN(n),n.blockedOn===null&&Co.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(s=0;s<n.length;s+=3){var m=n[s],w=n[s+1],r=m[ys]||null;if(typeof w=="function")r||M5(n);else if(r){var x=null;if(w&&w.hasAttribute("formAction")){if(m=w,r=w[ys]||null)x=r.formAction;else if(Tw(m)!==null)continue}else x=r.action;typeof x=="function"?n[s+1]=x:(n.splice(s,3),s-=3),M5(n)}}}function IN(){function t(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(r){return m=r})},focusReset:"manual",scroll:"manual"})}function e(){m!==null&&(m(),m=null),s||setTimeout(n,20)}function n(){if(!s&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,m=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){s=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),m!==null&&(m(),m=null)}}}function Ew(t){this._internalRoot=t}Kv.prototype.render=Ew.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Oe(409));var n=e.current,s=Os();NN(n,s,t,e,null,null)};Kv.prototype.unmount=Ew.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;NN(t.current,2,null,t,null,null),Yv(),e[nc]=null}};function Kv(t){this._internalRoot=t}Kv.prototype.unstable_scheduleHydration=function(t){if(t){var e=l3();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Co.length&&e!==0&&e<Co[n].priority;n++);Co.splice(n,0,t),n===0&&RN(t)}};var R5=KB.version;if(R5!=="19.2.3")throw Error(Oe(527,R5,"19.2.3"));Wt.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Oe(188)):(t=Object.keys(t).join(","),Error(Oe(268,t)));return t=B8(e),t=t!==null?qB(t):null,t=t===null?null:t.stateNode,t};var qU={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:yt,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rp.isDisabled&&rp.supportsFiber)try{NA=rp.inject(qU),Us=rp}catch{}}Mv.createRoot=function(t,e){if(!JB(t))throw Error(Oe(299));var n=!1,s="",m=SF,w=TF,r=EF;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onUncaughtError!==void 0&&(m=e.onUncaughtError),e.onCaughtError!==void 0&&(w=e.onCaughtError),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=BN(t,1,!1,null,null,n,s,null,m,w,r,IN),t[nc]=e.current,xw(t),new Ew(e)};Mv.hydrateRoot=function(t,e,n){if(!JB(t))throw Error(Oe(299));var s=!1,m="",w=SF,r=TF,x=EF,i=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(m=n.identifierPrefix),n.onUncaughtError!==void 0&&(w=n.onUncaughtError),n.onCaughtError!==void 0&&(r=n.onCaughtError),n.onRecoverableError!==void 0&&(x=n.onRecoverableError),n.formState!==void 0&&(i=n.formState)),e=BN(t,1,!0,e,n??null,s,m,i,w,r,x,IN),e.context=FN(null),n=e.current,s=Os(),s=P2(s),m=Po(s),m.callback=null,Uo(n,m,s),n=s,e.current.lanes=n,MA(e,n),ia(e),t[nc]=e.current,xw(t),new Kv(e)};Mv.version="19.2.3";function PN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(PN)}catch(t){console.error(t)}}PN(),jB.exports=Mv;var _U=jB.exports;const eD=T2(_U),I5=t=>{let e;const n=new Set,s=(a,p)=>{const c=typeof a=="function"?a(e):a;if(!Object.is(c,e)){const o=e;e=p??(typeof c!="object"||c===null)?c:Object.assign({},e,c),n.forEach(u=>u(e,o))}},m=()=>e,x={setState:s,getState:m,getInitialState:()=>i,subscribe:a=>(n.add(a),()=>n.delete(a))},i=e=t(s,m,x);return x},tD=t=>t?I5(t):I5,iD=t=>t;function nD(t,e=iD){const n=Nl.useSyncExternalStore(t.subscribe,Nl.useCallback(()=>e(t.getState()),[t,e]),Nl.useCallback(()=>e(t.getInitialState()),[t,e]));return Nl.useDebugValue(n),n}const sD=t=>{const e=tD(t),n=s=>nD(e,s);return Object.assign(n,e),n},rD=t=>sD;function aD(t,e){let n;try{n=t()}catch{return}return{getItem:m=>{var w;const r=i=>i===null?null:JSON.parse(i,void 0),x=(w=n.getItem(m))!=null?w:null;return x instanceof Promise?x.then(r):r(x)},setItem:(m,w)=>n.setItem(m,JSON.stringify(w,void 0)),removeItem:m=>n.removeItem(m)}}const t1=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(s){return t1(s)(n)},catch(s){return this}}}catch(n){return{then(s){return this},catch(s){return t1(s)(n)}}}},oD=(t,e)=>(n,s,m)=>{let w={storage:aD(()=>localStorage),partialize:d=>d,version:0,merge:(d,f)=>({...f,...d}),...e},r=!1;const x=new Set,i=new Set;let a=w.storage;if(!a)return t((...d)=>{console.warn(`[zustand persist middleware] Unable to update item '${w.name}', the given storage is currently unavailable.`),n(...d)},s,m);const p=()=>{const d=w.partialize({...s()});return a.setItem(w.name,{state:d,version:w.version})},c=m.setState;m.setState=(d,f)=>(c(d,f),p());const o=t((...d)=>(n(...d),p()),s,m);m.getInitialState=()=>o;let u;const l=()=>{var d,f;if(!a)return;r=!1,x.forEach(A=>{var g;return A((g=s())!=null?g:o)});const h=((f=w.onRehydrateStorage)==null?void 0:f.call(w,(d=s())!=null?d:o))||void 0;return t1(a.getItem.bind(a))(w.name).then(A=>{if(A)if(typeof A.version=="number"&&A.version!==w.version){if(w.migrate){const g=w.migrate(A.state,A.version);return g instanceof Promise?g.then(v=>[!0,v]):[!0,g]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,A.state];return[!1,void 0]}).then(A=>{var g;const[v,y]=A;if(u=w.merge(y,(g=s())!=null?g:o),n(u,!0),v)return p()}).then(()=>{h==null||h(u,void 0),u=s(),r=!0,i.forEach(A=>A(u))}).catch(A=>{h==null||h(void 0,A)})};return m.persist={setOptions:d=>{w={...w,...d},d.storage&&(a=d.storage)},clearStorage:()=>{a==null||a.removeItem(w.name)},getOptions:()=>w,rehydrate:()=>l(),hasHydrated:()=>r,onHydrate:d=>(x.add(d),()=>{x.delete(d)}),onFinishHydration:d=>(i.add(d),()=>{i.delete(d)})},w.skipHydration||l(),u||o},lD=oD;var vt=(t=>(t.KID="KID",t.PARENT="PARENT",t.TEACHER="TEACHER",t.ADMIN="ADMIN",t))(vt||{});const uD=[{id:"MB_01",topic_tag:"Money Basics",difficulty:1,lesson_payload:{headline:"What is Money?",body_text:"Imagine trying to buy a PlayStation with a goat!  Before coins existed, people used the **Barter System**. This meant swapping stuff you had for stuff you needed. 'I'll trade you two chickens for those shoes!' It was messy, smelly, and very noisy. Money was invented to make trading way easier!",key_term:"Barter System",image_url:"/images/lessons/money-barter.jpg"},challenge_payload:{question_text:"Before cash, how did people get what they needed?",correct_answer:"By swapping items (Barter)",distractors:["By using credit cards","By fighting for it","By asking nicely"]},game_rewards:{base_xp:10,currency_value:5},flavor_text:"Trade complete! You swapped a goat for a game console. (Phew!)"},{id:"MB_02",topic_tag:"Money Basics",difficulty:1,lesson_payload:{headline:"Coins & Bills",body_text:"Today, we use **Currency** to pay for things. Metal coins are for small stuff (like gum), and paper bills are for big stuff (like bikes). In some places, money looks super colorful, like a rainbow!  But remember, monopoly money doesn't count at the grocery store.",key_term:"Currency",image_url:"/images/lessons/money-coins.jpg"},challenge_payload:{question_text:"What is the fancy name for paper and coin money?",correct_answer:"Currency",distractors:["Toy Money","Treasure","Stuff"]},game_rewards:{base_xp:10,currency_value:5},flavor_text:"Cha-ching! You identified the cash correctly."},{id:"MB_03",topic_tag:"Money Basics",difficulty:1,lesson_payload:{headline:"Earning Money",body_text:"Money doesn't grow on trees (sadly!).  People **Earn** money by doing work or chores. Walking the dog, washing the car, or selling lemonade are all ways to earn. The harder or smarter you work, the more you can earn!",key_term:"Earn",image_url:"/images/lessons/money-earn.jpg"},challenge_payload:{question_text:"What is a common way to get money?",correct_answer:"Working or doing chores",distractors:["Waiting for it to rain money","Digging holes in the park","Printing it at home"]},game_rewards:{base_xp:15,currency_value:10},flavor_text:"Good work! You finished your chores and earned your first paycheck."},{id:"MB_04",topic_tag:"Money Basics",difficulty:2,lesson_payload:{headline:"Saving Money",body_text:"Saving is like giving a gift to 'Future You'.  If you spend all your money on candy today, Future You will be sad (and maybe have a tummy ache). Putting money in a **Piggy Bank** keeps it safe until you have enough for something BIG, like a skateboard!",key_term:"Piggy Bank",image_url:"/images/lessons/money-piggy.jpg"},challenge_payload:{question_text:"Why is it good to save money?",correct_answer:"To buy something bigger later",distractors:["To lose it in the couch","Because money expires","To hide it from pirates"]},game_rewards:{base_xp:20,currency_value:15},flavor_text:"Smart move! Your piggy bank is getting heavier every day."},{id:"MB_05",topic_tag:"Money Basics",difficulty:2,lesson_payload:{headline:"Spending Wisely",body_text:"You need to know the difference between **Needs** (things you need to live, like tacos... wait, no, water and shelter) and **Wants** (fun stuff like video games). If you buy too many 'Wants', you might not have money for your 'Needs'!",key_term:"Needs",image_url:"/images/lessons/money-spend.jpg"},challenge_payload:{question_text:"Which of these is a 'Need'?",correct_answer:"Healthy food",distractors:["A video game","A shiny sticker","A bag of candy"]},game_rewards:{base_xp:20,currency_value:15},flavor_text:"Shopping success! You bought healthy food and stayed within your budget."},{id:"MB_06",topic_tag:"Money Basics",difficulty:2,lesson_payload:{headline:"Donating & Sharing",body_text:"Superheroes help people, and you can too! **Philanthropy** is a big word for donating money or time to help others. You could donate to an animal shelter to help puppies find homes.  Helping feels awesome!",key_term:"Philanthropy",image_url:"/images/lessons/money-donate.jpg"},challenge_payload:{question_text:"What does it mean to donate money?",correct_answer:"Giving it to help others",distractors:["Throwing it away","Buying toys for yourself","Burying it in the yard"]},game_rewards:{base_xp:25,currency_value:0},flavor_text:"That was kind! Your donation helped someone in need."},{id:"MB_07",topic_tag:"Money Basics",difficulty:3,lesson_payload:{headline:"Bank Accounts",body_text:"When your piggy bank gets too full (or your little brother keeps shaking it), it's time for a **Bank**. Banks are like giant fortresses for your money. They keep it safe in a vault so you don't lose it under your bed.",key_term:"Bank",image_url:"/images/lessons/money-bank.jpg"},challenge_payload:{question_text:"What is the main job of a bank?",correct_answer:"To keep money safe",distractors:["To print comic books","To sell groceries","To make toys"]},game_rewards:{base_xp:30,currency_value:20},flavor_text:"Deposit accepted! Your money is safe in the vault."},{id:"MB_08",topic_tag:"Money Basics",difficulty:3,lesson_payload:{headline:"Interest (Growing Money)",body_text:"Imagine if you planted a dollar bill and it grew into two dollars?  That's basically **Interest**! When you keep money in a savings account, the bank pays YOU a little extra just for leaving it there. It's free money!",key_term:"Interest",image_url:"/images/lessons/money-interest.jpg"},challenge_payload:{question_text:"What happens when you earn interest?",correct_answer:"Your money grows over time",distractors:["Your money shrinks","You have to pay the bank","Nothing happens"]},game_rewards:{base_xp:35,currency_value:25},flavor_text:"Look at that! You planted a money seed and it grew a little bit."},{id:"MB_09",topic_tag:"Money Basics",difficulty:3,lesson_payload:{headline:"Budgeting for Kids",body_text:"A **Budget** is a plan for your money. It's like a map that tells your dollars where to go! 'You go to savings! You go to pizza!' Without a budget, you might accidentally spend all your money on slime and have none left for the movies.",key_term:"Budget",image_url:"/images/lessons/money-budget.jpg"},challenge_payload:{question_text:"What is a budget?",correct_answer:"A plan for spending and saving",distractors:["A type of expensive car","A game you play outside","A list of toys to buy"]},game_rewards:{base_xp:40,currency_value:30},flavor_text:"Planner Pro! You made a budget for your lemonade stand."},{id:"MB_10",topic_tag:"Money Basics",difficulty:3,lesson_payload:{headline:"Digital Money",body_text:"Not all money jingles in your pocket. **Digital Money** lives inside computers! When your parents tap their phone or card to pay, invisible money is flying through the internet.  It's still real money, though, so don't spend it all on Roblox!",key_term:"Digital Money",image_url:"/images/lessons/money-digital.jpg"},challenge_payload:{question_text:"How do you spend digital money?",correct_answer:"Using cards or apps",distractors:["Sending smoke signals","Using invisible ink","Trading polished rocks"]},game_rewards:{base_xp:50,currency_value:30},flavor_text:"Beep! Payment successful. You are ready for the modern world."},{id:"ENT_11",topic_tag:"Entrepreneurship",difficulty:1,lesson_payload:{headline:"What is a Business?",body_text:"A **Business** is basically a team that solves problems for money. Hungry? A restaurant solves that! Bored? A video game company solves that! If you can solve a problem, you can start a business.",key_term:"Business",image_url:"/images/lessons/ent-biz.jpg"},challenge_payload:{question_text:"What is the main goal of a business?",correct_answer:"To provide goods or services for money",distractors:["To sleep all day","To hide toys from friends","To watch cartoons only"]},game_rewards:{base_xp:15,currency_value:10},flavor_text:"Open for business! You set up your mini store and made your first sale."},{id:"ENT_12",topic_tag:"Entrepreneurship",difficulty:1,lesson_payload:{headline:"Lemonade Stand Basics",body_text:"Running a lemonade stand teaches you **Cost**. You have to buy lemons, cups, and sugar before you can sell anything. If you spend $5 on lemons and sell $10 of juice, you made money! If you drink it all... well, you just had a nice snack.",key_term:"Cost",image_url:"/images/lessons/ent-lemonade.jpg"},challenge_payload:{question_text:"What must you do before you can sell lemonade?",correct_answer:"Buy the ingredients (Costs)",distractors:["Drink all the water","Sell empty cups","Wait for winter"]},game_rewards:{base_xp:15,currency_value:10},flavor_text:"Refreshing! You bought lemons and sugar. Time to mix!"},{id:"ENT_13",topic_tag:"Entrepreneurship",difficulty:1,lesson_payload:{headline:"Selling Crafts",body_text:"Are you crafty? You can sell **Handmade Goods**! Whether it's friendship bracelets, drawings, or painted rocks, people love buying things that are one-of-a-kind. It's like turning your art class into a bank account! ",key_term:"Handmade Goods",image_url:"/images/lessons/ent-crafts.jpg"},challenge_payload:{question_text:"If you make a bracelet yourself to sell, what is it called?",correct_answer:"A handmade good",distractors:["A robot factory item","A found rock","A stolen treasure"]},game_rewards:{base_xp:20,currency_value:15},flavor_text:"Creativity pays off! Your DIY bracelets are a hit with the neighbors."},{id:"ENT_14",topic_tag:"Entrepreneurship",difficulty:2,lesson_payload:{headline:"Business Names & Logos",body_text:"A **Logo** is like a superhero symbol for your company. Think of the Golden Arches or the Nike Swoosh. A cool logo makes people remember you. If you're selling spicy salsa, maybe don't use a picture of a snowman! ",key_term:"Logo",image_url:"/images/lessons/ent-logo.jpg"},challenge_payload:{question_text:"What is a logo?",correct_answer:"A symbol representing a company",distractors:["A secret password","A type of lego block","The price of an item"]},game_rewards:{base_xp:20,currency_value:15},flavor_text:"Nice design! Your new logo looks famous already."},{id:"ENT_15",topic_tag:"Entrepreneurship",difficulty:2,lesson_payload:{headline:"Customer Service",body_text:"**Customer Service** is just a fancy way of saying 'Be Nice!'  If a customer is grumpy, a smile can fix it. If you are rude, they might tell all their friends not to shop with you. Kindness = Cash!",key_term:"Customer Service",image_url:"/images/lessons/ent-service.jpg"},challenge_payload:{question_text:"How should a shopkeeper treat a customer?",correct_answer:"Politely and helpfully",distractors:["Grumpy and rude","By ignoring them","By hiding the products"]},game_rewards:{base_xp:25,currency_value:20},flavor_text:"Five stars! A customer loved your politeness and promised to return."},{id:"ENT_16",topic_tag:"Entrepreneurship",difficulty:3,lesson_payload:{headline:"Profit & Loss",body_text:`Math Alert!  **Profit** is the money you keep in your pocket. 

Formula: (Money from Sales) - (Cost of Ingredients) = PROFIT.

If you sell a cookie for $5 but it cost $6 to make, you have negative profit (a Loss). Oops!`,key_term:"Profit",image_url:"/images/lessons/ent-profit.jpg"},challenge_payload:{question_text:"What is Profit?",correct_answer:"Money left over after paying costs",distractors:["The money you lose","The cost of ingredients","The name of the store"]},game_rewards:{base_xp:30,currency_value:25},flavor_text:"You're in the green! You did the math and counted your profits."},{id:"ENT_17",topic_tag:"Entrepreneurship",difficulty:2,lesson_payload:{headline:"Marketing (Ads & Posters)",body_text:"If you open a store on the moon, nobody will come because nobody knows it's there! **Marketing** is telling people 'Hey! Look at this cool stuff!' Posters, signs, and yelling 'Lemonade!' are all marketing.",key_term:"Marketing",image_url:"/images/lessons/ent-marketing.jpg"},challenge_payload:{question_text:"Why do businesses make posters?",correct_answer:"To attract customers",distractors:["To cover holes in the wall","To scare people away","To waste paper"]},game_rewards:{base_xp:30,currency_value:20},flavor_text:"Attention grabbed! Your colorful poster brought in 5 new customers."},{id:"ENT_18",topic_tag:"Entrepreneurship",difficulty:3,lesson_payload:{headline:"Online Stores",body_text:"**E-commerce** is selling stuff online. You can sell to people in your underwear! (Wait, I mean, you can stay in your pajamas while selling to people around the world). Amazon and eBay are huge online stores.",key_term:"E-commerce",image_url:"/images/lessons/ent-ecommerce.jpg"},challenge_payload:{question_text:"Where does an e-commerce store exist?",correct_answer:"On the internet",distractors:["Under the ocean","In a treehouse","Only on Mars"]},game_rewards:{base_xp:35,currency_value:30},flavor_text:"Digital tycoon! You set up a website to sell toys online."},{id:"ENT_19",topic_tag:"Entrepreneurship",difficulty:3,lesson_payload:{headline:"Feedback & Improvement",body_text:"**Feedback** is when someone tells you what they think. If 10 people say your cookies taste like salt, stop putting salt in them! Listening to feedback helps you make your product better and your customers happier.",key_term:"Feedback",image_url:"/images/lessons/ent-feedback.jpg"},challenge_payload:{question_text:"Why should you listen to customer feedback?",correct_answer:"To improve your business",distractors:["To argue with them","To enforce silence","To close the store"]},game_rewards:{base_xp:40,currency_value:30},flavor_text:"Good listening! Your friends said they wanted blue toys, so you stocked up on blue."},{id:"ENT_20",topic_tag:"Entrepreneurship",difficulty:3,lesson_payload:{headline:"Scaling Up",body_text:"When your lemonade stand is so popular that the line goes around the block, it's time to **Scale Up**! This means hiring your friends to help or opening a second stand. Congratulations, you're a boss now! ",key_term:"Scale Up",image_url:"/images/lessons/ent-scale.jpg"},challenge_payload:{question_text:"What does 'Scaling Up' usually involve?",correct_answer:"Expanding and hiring help",distractors:["Shrinking the business","Stopping all sales","Firing everyone"]},game_rewards:{base_xp:50,currency_value:50},flavor_text:"You're the boss! You hired a helper because you had too many customers to handle alone."},{id:"INV_21",topic_tag:"Investing & Wealth",difficulty:1,lesson_payload:{headline:"What is Investing?",body_text:"**Investing** is making your money work for you. It's like planting a money tree.  You buy something today (like a rare comic book or a stock), hoping it will be worth MORE money tomorrow. It's risky, but exciting!",key_term:"Investing",image_url:"/images/lessons/inv-investing.jpg"},challenge_payload:{question_text:"What is the goal of investing?",correct_answer:"To make money grow",distractors:["To spend money fast","To hide money in a shoe","To lose money on purpose"]},game_rewards:{base_xp:15,currency_value:10},flavor_text:"Great start! You planted your first money tree seed."},{id:"INV_22",topic_tag:"Investing & Wealth",difficulty:2,lesson_payload:{headline:"Stocks for Kids",body_text:"A **Stock** is a tiny slice of a company. If you buy one stock of Disney, you technically own a tiny piece of Mickey Mouse!  If the company does well, your slice gets more valuable.",key_term:"Stock",image_url:"/images/lessons/inv-stock.jpg"},challenge_payload:{question_text:"What do you own if you buy a stock?",correct_answer:"A small piece of a company",distractors:["A supply of free toys","The manager's car","Just a piece of paper"]},game_rewards:{base_xp:20,currency_value:15},flavor_text:"Owner alert! You just bought your first share of a company."},{id:"INV_23",topic_tag:"Investing & Wealth",difficulty:3,lesson_payload:{headline:"Compound Interest",body_text:"**Compound Interest** is the 8th Wonder of the World!  It's like a snowball rolling downhill. Your interest earns MORE interest. Start saving young, and your money grows huge by the time you're old!",key_term:"Compound Interest",image_url:"/images/lessons/inv-compound.jpg"},challenge_payload:{question_text:"What effect does compound interest have?",correct_answer:"The snowball effect (grows faster)",distractors:["The melting ice effect","The disappearing trick","The flat tire effect"]},game_rewards:{base_xp:30,currency_value:25},flavor_text:"It's huge! Your money snowball is rolling fast now."},{id:"INV_24",topic_tag:"Investing & Wealth",difficulty:2,lesson_payload:{headline:"Real Estate Basics",body_text:"**Real Estate** means land and buildings. It's the game 'Monopoly' in real life!  You can buy a house and let someone else live in it. They pay you **Rent** every month. It's like an allowance from a stranger!",key_term:"Real Estate",image_url:"/images/lessons/inv-realestate.jpg"},challenge_payload:{question_text:"What is money paid to live in someone else's house called?",correct_answer:"Rent",distractors:["Allowance","Fine","Tax"]},game_rewards:{base_xp:25,currency_value:20},flavor_text:"Keys handed over! You collected rent from your property."},{id:"INV_25",topic_tag:"Investing & Wealth",difficulty:2,lesson_payload:{headline:"Bonds & Savings",body_text:"A **Bond** is basically a loan you give to the government. You say 'Here is $100', and they say 'Thanks! I'll give you $105 in a year'. It's safer than stocks, but less exciting.  Slow and steady!",key_term:"Bond",image_url:"/images/lessons/inv-bond.jpg"},challenge_payload:{question_text:"Which investment is usually considered safer?",correct_answer:"Bonds",distractors:["Betting on horses","Lottery tickets","Buying candy"]},game_rewards:{base_xp:20,currency_value:15},flavor_text:"Safe and sound! You put your treasure in a safe bond."},{id:"INV_26",topic_tag:"Investing & Wealth",difficulty:3,lesson_payload:{headline:"Diversification",body_text:"Never put all your eggs in one basket!  **Diversification** means buying different things. Buy some stocks, some bonds, and maybe a rare Pokmon card. If you drop the egg basket, at least you still have the cards!",key_term:"Diversification",image_url:"/images/lessons/inv-diversify.jpg"},challenge_payload:{question_text:"What does diversification mean?",correct_answer:"Spreading money into different things",distractors:["Putting all money in one stock","Spending money all at once","Buying only eggs"]},game_rewards:{base_xp:35,currency_value:30},flavor_text:"Smart strategy! You filled different money jars to stay safe."},{id:"INV_27",topic_tag:"Investing & Wealth",difficulty:3,lesson_payload:{headline:"Risk vs. Reward",body_text:"Investing is a rollercoaster.  High **Risk** means you could lose money, but you could also make a LOT (High Reward). Low risk is safer but boring. You have to decide how brave you are!",key_term:"Risk",image_url:"/images/lessons/inv-risk.jpg"},challenge_payload:{question_text:"If an investment has High Risk, what is usually true?",correct_answer:"It might have High Reward",distractors:["It is guaranteed to be safe","It always loses money","It is free"]},game_rewards:{base_xp:35,currency_value:30},flavor_text:"You took a chance! The risk paid off this time."},{id:"INV_28",topic_tag:"Investing & Wealth",difficulty:1,lesson_payload:{headline:"Famous Investors",body_text:"Warren Buffett is a grandpa who is super rich because he started investing when he was 11! He drinks Cherry Coke and reads books all day. His secret? He buys good companies and keeps them forever.",key_term:"Warren Buffett",image_url:"/images/lessons/inv-buffett.jpg"},challenge_payload:{question_text:"What did Warren Buffett do to get rich?",correct_answer:"Invested in companies for a long time",distractors:["Won a game show","Found gold in his yard","Invented the internet"]},game_rewards:{base_xp:20,currency_value:10},flavor_text:"Legendary! You are thinking like a billionaire now."},{id:"INV_29",topic_tag:"Investing & Wealth",difficulty:1,lesson_payload:{headline:"Investing in Yourself",body_text:"The best investment is YOU!  Learning to code, paint, or speak Spanish increases your **Human Capital**. The smarter you are, the more problems you can solve (and get paid for!).",key_term:"Human Capital",image_url:"/images/lessons/inv-human.jpg"},challenge_payload:{question_text:"How do you invest in yourself?",correct_answer:"Learning new skills",distractors:["Buying expensive shoes","Eating lots of candy","Sleeping all day"]},game_rewards:{base_xp:40,currency_value:0},flavor_text:"Level Up! You learned a new skill and increased your value."},{id:"INV_30",topic_tag:"Investing & Wealth",difficulty:3,lesson_payload:{headline:"Patience Pays Off",body_text:"Investing is not a race; it's a marathon.  You can't plant a seed and eat the fruit the next day. **Patience** is the secret sauce. While others panic, smart investors wait.",key_term:"Patience",image_url:"/images/lessons/inv-patience.jpg"},challenge_payload:{question_text:"What is the most important skill for an investor?",correct_answer:"Patience",distractors:["Speed","Anger","Running fast"]},game_rewards:{base_xp:50,currency_value:50},flavor_text:"You waited and won! Your money plant has finally bloomed."},{id:"MKT_31",topic_tag:"Marketing",difficulty:1,lesson_payload:{headline:"What is Marketing?",body_text:"**Marketing** is the art of telling people about your stuff. If you bake the world's best cookie but hide it under your bed, nobody will buy it! Marketing helps you scream 'I have cookies!' in a cool way.",key_term:"Marketing",image_url:"/images/lessons/mkt-basic.jpg"},challenge_payload:{question_text:"What is the main goal of marketing?",correct_answer:"Telling people about your product",distractors:["Hiding your product","Manufacturing the product","Breaking the product"]},game_rewards:{base_xp:15,currency_value:10},flavor_text:"Sold! You convinced me to buy that pencil. Great pitch!"},{id:"MKT_32",topic_tag:"Marketing",difficulty:2,lesson_payload:{headline:"Brand Colors",body_text:"Colors have feelings!  Red makes you hungry (like McDonald's). Blue makes you feel safe (like Chase Bank). Green means healthy or money. Picking the right **Brand Color** is super important!",key_term:"Brand Color",image_url:"/images/lessons/mkt-color.jpg"},challenge_payload:{question_text:"If you want your bank to look trustworthy, what color might you pick?",correct_answer:"Blue",distractors:["Neon Pink","Muddy Brown","Invisible"]},game_rewards:{base_xp:20,currency_value:15},flavor_text:"Looking sharp! Your new logo makes customers feel happy."},{id:"MKT_33",topic_tag:"Marketing",difficulty:1,lesson_payload:{headline:"Posters & Flyers",body_text:"A good poster stops people in their tracks.  Use BIG letters, bright colors, and pictures of happy people (or puppies). If your poster is boring and gray, people will walk right past it.",key_term:"Poster",image_url:"/images/lessons/mkt-poster.jpg"},challenge_payload:{question_text:"What makes a poster effective?",correct_answer:"Big text and bright colors",distractors:["Tiny writing","Invisible ink","Boring gray paper"]},game_rewards:{base_xp:15,currency_value:10},flavor_text:"Crowd gathered! Everyone stopped to look at your concert poster."},{id:"MKT_34",topic_tag:"Marketing",difficulty:2,lesson_payload:{headline:"Commercials & Jingles",body_text:"'Ba da ba ba ba, I'm lovin' it!'  A **Jingle** is a catchy song that gets stuck in your brain forever. It's a marketing trick to make you remember the brand name all day long.",key_term:"Jingle",image_url:"/images/lessons/mkt-jingle.jpg"},challenge_payload:{question_text:"What is a jingle?",correct_answer:"A catchy song in an ad",distractors:["A broken bell","A type of dance","A scary story"]},game_rewards:{base_xp:25,currency_value:20},flavor_text:"Catchy tune! I can't get your toy commercial song out of my head."},{id:"MKT_35",topic_tag:"Marketing",difficulty:2,lesson_payload:{headline:"Social Media for Kids",body_text:"Businesses use TikTok and Instagram to show off cool stuff. It's **Social Media Marketing**. But remember, the internet never forgets! Be kind and safe when posting. A viral video can make a business famous overnight! ",key_term:"Social Media",image_url:"/images/lessons/mkt-social.jpg"},challenge_payload:{question_text:"Why do businesses use social media?",correct_answer:"To talk to customers instantly",distractors:["To play hide and seek","To delete their photos","To sleep better"]},game_rewards:{base_xp:20,currency_value:15},flavor_text:"Viral post! Your design got a million likes (pretend ones)!"},{id:"MKT_36",topic_tag:"Marketing",difficulty:3,lesson_payload:{headline:"Target Audience",body_text:"You can't sell dog food to a cat!  Your **Target Audience** is the group of people who actually want your stuff. If you sell skateboards, your target audience is kids, not grandmas (usually).",key_term:"Target Audience",image_url:"/images/lessons/mkt-target.jpg"},challenge_payload:{question_text:"Who is the Target Audience for a new video game?",correct_answer:"Gamers and kids",distractors:["Babies","Cats","Trees"]},game_rewards:{base_xp:30,currency_value:25},flavor_text:"Bullseye! You found exactly who wanted your snacks."},{id:"MKT_37",topic_tag:"Marketing",difficulty:2,lesson_payload:{headline:"Packaging Matters",body_text:"Have you ever bought a cereal just because the box looked cool?  That's **Packaging**. The box is like a costume for your product. If it looks boring, people might think the food inside is boring too!",key_term:"Packaging",image_url:"/images/lessons/mkt-package.jpg"},challenge_payload:{question_text:"Why is packaging important?",correct_answer:"It helps sell the product on the shelf",distractors:["It tastes good","It makes the product heavier","It is used for fuel"]},game_rewards:{base_xp:25,currency_value:20},flavor_text:"Looks delicious! Your cereal box design is the best in the aisle."},{id:"MKT_38",topic_tag:"Marketing",difficulty:2,lesson_payload:{headline:"Free Samples",body_text:"The best way to sell a cookie is to put a piece of it in someone's mouth.  Giving **Free Samples** helps people trust that your product is yummy. Once they taste it, they'll want to buy the whole bag!",key_term:"Free Sample",image_url:"/images/lessons/mkt-sample.jpg"},challenge_payload:{question_text:"Why give away free samples?",correct_answer:"To let people try before buying",distractors:["Because you hate the product","To lose money on purpose","To feed the birds"]},game_rewards:{base_xp:20,currency_value:15},flavor_text:"Yum! They loved the free cookie sample and bought a whole box."},{id:"MKT_39",topic_tag:"Marketing",difficulty:3,lesson_payload:{headline:"Celebrity Endorsements",body_text:"If Lebron James wears a specific shoe, suddenly everyone wants that shoe.  This is a **Celebrity Endorsement**. Famous people have influence, and businesses pay them lots of money to hold their products.",key_term:"Endorsement",image_url:"/images/lessons/mkt-celeb.jpg"},challenge_payload:{question_text:"What is a celebrity endorsement?",correct_answer:"A famous person promoting a product",distractors:["A famous person sleeping","A secret code","A type of expensive car"]},game_rewards:{base_xp:35,currency_value:30},flavor_text:"Star power! The celebrity matched your product perfectly."},{id:"MKT_40",topic_tag:"Marketing",difficulty:3,lesson_payload:{headline:"Ethical Advertising",body_text:"Don't lie!  If you say your juice gives people superpowers, you are lying. **Ethical Advertising** means telling the truth. Customers hate being tricked, and they will never come back if you lie to them.",key_term:"Ethical",image_url:"/images/lessons/mkt-ethical.jpg"},challenge_payload:{question_text:"What happens if an ad lies to customers?",correct_answer:"Customers lose trust",distractors:["Customers become best friends","The business becomes a hero","Nothing happens"]},game_rewards:{base_xp:50,currency_value:50},flavor_text:"Trust earned! You chose the honest ad and kept your customers happy."},{id:"LDR_41",topic_tag:"Leadership",difficulty:1,lesson_payload:{headline:"What is a Leader?",body_text:"A **Leader** isn't just a boss who yells 'Do this!' A real leader is like a guide who says 'Let's do this together!' They help the team, listen to ideas, and make sure everyone is safe and happy. ",key_term:"Leader",image_url:"/images/lessons/ldr-leader.jpg"},challenge_payload:{question_text:"What does a good leader do?",correct_answer:"Guides and helps the team",distractors:["Yells and screams","Does all the work alone","Sleeps while others work"]},game_rewards:{base_xp:15,currency_value:10},flavor_text:"Aye aye, Captain! You steered the ship safely to port."},{id:"LDR_42",topic_tag:"Leadership",difficulty:1,lesson_payload:{headline:"Team Roles",body_text:"Imagine a soccer team with 11 goalies. Disaster!  Everyone needs a special job. **Roles** help teams win. One person cooks, one person sells, one person cleans. When everyone does their part, the team is unstoppable.",key_term:"Roles",image_url:"/images/lessons/ldr-roles.jpg"},challenge_payload:{question_text:"Why do teams have different roles?",correct_answer:"So everyone knows their special job",distractors:["So they can fight","Because the leader is lazy","To confuse everyone"]},game_rewards:{base_xp:15,currency_value:10},flavor_text:"Great construction! The Lego tower stands tall because everyone did their job."},{id:"LDR_43",topic_tag:"Leadership",difficulty:2,lesson_payload:{headline:"Listening Skills",body_text:"You have two ears and one mouth for a reason!  Leaders need to **Listen** more than they talk. Your teammates might have a better idea than you! If you ignore them, you might miss a million-dollar idea.",key_term:"Listen",image_url:"/images/lessons/ldr-listen.jpg"},challenge_payload:{question_text:"What is a superpower for a leader?",correct_answer:"Listening well",distractors:["Talking non-stop","Wearing a cape","Ignoring everyone"]},game_rewards:{base_xp:20,currency_value:15},flavor_text:"Message received! You listened carefully and won the 'Broken Telephone' game."},{id:"LDR_44",topic_tag:"Leadership",difficulty:2,lesson_payload:{headline:"Solving Fights",body_text:"Uh oh, two teammates are fighting over the stapler!  A leader helps them **Compromise**. 'You use it for 5 minutes, then he uses it.' Finding a middle ground stops the fighting and gets everyone back to work.",key_term:"Compromise",image_url:"/images/lessons/ldr-compromise.jpg"},challenge_payload:{question_text:"What is Compromise?",correct_answer:"Finding a middle ground solution",distractors:["Yelling the loudest","Running away","Breaking the toy"]},game_rewards:{base_xp:25,currency_value:20},flavor_text:"Peace restored! The puppets agreed to share the toy."},{id:"LDR_45",topic_tag:"Leadership",difficulty:1,lesson_payload:{headline:"Encouraging Others",body_text:"Words are magic spells! Saying 'Great job!' or 'You got this!' is **Positive Reinforcement**. It gives your team energy. If you only say mean things, your team will be sad and slow. Be a cheerleader! ",key_term:"Encourage",image_url:"/images/lessons/ldr-encourage.jpg"},challenge_payload:{question_text:"How can you give your team energy?",correct_answer:"By using encouraging words",distractors:["By taking their lunch","By frowning at them","By hiding the tools"]},game_rewards:{base_xp:20,currency_value:15},flavor_text:"High five! Your compliments made the whole team smile."},{id:"LDR_46",topic_tag:"Leadership",difficulty:3,lesson_payload:{headline:"Delegating Tasks",body_text:"You can't carry the whole world on your shoulders.  **Delegating** means trusting your team to do jobs. You handle the strategy, let Bob handle the heavy lifting. If you try to do everything, you'll explode (not really, but you'll be tired).",key_term:"Delegating",image_url:"/images/lessons/ldr-delegate.jpg"},challenge_payload:{question_text:"What does 'Delegating' mean?",correct_answer:"Assigning tasks to teammates",distractors:["Doing everything alone","Quitting the team","Hiding the work"]},game_rewards:{base_xp:30,currency_value:25},flavor_text:"Masterpiece! The art project is done fast because you split the work up."},{id:"LDR_47",topic_tag:"Leadership",difficulty:2,lesson_payload:{headline:"Famous Kid Leaders",body_text:"You don't need a beard to be a leader! Kids like **Greta Thunberg** spoke up about climate change and millions of adults listened. Your voice is powerful, no matter how small you are.",key_term:"Kid Leaders",image_url:"/images/lessons/ldr-kids.jpg"},challenge_payload:{question_text:"Can kids be leaders?",correct_answer:"Yes, absolutely",distractors:["No, only adults","No, only teachers","No, only robots"]},game_rewards:{base_xp:25,currency_value:20},flavor_text:"Inspiring! You colored the portrait of a young hero."},{id:"LDR_48",topic_tag:"Leadership",difficulty:3,lesson_payload:{headline:"Mistakes Are Okay",body_text:"Even Iron Man makes mistakes.  A good leader says 'My bad, I messed up' and then fixes it. Hiding mistakes makes them worse. **Learning** from failure is how you become a master.",key_term:"Mistakes",image_url:"/images/lessons/ldr-mistakes.jpg"},challenge_payload:{question_text:"What should a leader do after making a mistake?",correct_answer:"Admit it and fix it",distractors:["Blame someone else","Pretend it didn't happen","Cry and give up"]},game_rewards:{base_xp:35,currency_value:30},flavor_text:"Fixed it! You didn't panic, you just repaired the problem."},{id:"LDR_49",topic_tag:"Leadership",difficulty:1,lesson_payload:{headline:"Celebrating Wins",body_text:"Did your team finish the project? Party time!  Taking time to **Celebrate** makes everyone feel happy and proud. It can be a high-five, a pizza party, or just a happy dance. Don't skip the celebration!",key_term:"Celebrate",image_url:"/images/lessons/ldr-celebrate.jpg"},challenge_payload:{question_text:"Why is it important to celebrate wins?",correct_answer:"To make the team feel proud and happy",distractors:["To waste time","To make the losers sad","To stop working forever"]},game_rewards:{base_xp:20,currency_value:15},flavor_text:"Victory Dance! You and your team celebrated finishing the big task."},{id:"LDR_50",topic_tag:"Leadership",difficulty:3,lesson_payload:{headline:"Leading Yourself",body_text:"Before you boss others around, can you boss yourself? **Self-Discipline** means doing your homework before playing video games, even when no one is watching. That's true leadership.",key_term:"Self-Discipline",image_url:"/images/lessons/ldr-self.jpg"},challenge_payload:{question_text:"What is the first step to becoming a leader?",correct_answer:"Leading yourself (Self-discipline)",distractors:["Buying a loud whistle","Ordering pizza","Wearing a suit"]},game_rewards:{base_xp:50,currency_value:50},flavor_text:"Routine check! You completed your morning routine like a pro."},{id:"ECO_51",topic_tag:"Economics",difficulty:1,lesson_payload:{headline:"What is Economics?",body_text:"**Economics** sounds boring, but it's actually just the study of choices. We can't have infinite candy (sadly), so we have to choose how to share what we have. It's the science of 'Who gets the last slice of pizza?' ",key_term:"Economics",image_url:"/images/lessons/eco-intro.jpg"},challenge_payload:{question_text:"Why do we have to make choices in economics?",correct_answer:"Because resources are limited",distractors:["Because we don't like toys","Because money is infinite","Because everything is free"]},game_rewards:{base_xp:15,currency_value:10},flavor_text:"Fair share! You divided 10 candies among 5 friends perfectly."},{id:"ECO_52",topic_tag:"Economics",difficulty:2,lesson_payload:{headline:"Supply & Demand",body_text:"If you have 1 cookie and 10 hungry friends, that cookie is valuable! That's **Supply and Demand**. Low supply + High demand = High Price. If you have 100 cookies and 1 friend... the cookies are cheap (or free)!",key_term:"Supply",image_url:"/images/lessons/eco-supply.jpg"},challenge_payload:{question_text:"What happens if everyone wants a toy but there are only a few left?",correct_answer:"The price goes up",distractors:["The price becomes zero","People stop wanting it","The toy disappears"]},game_rewards:{base_xp:20,currency_value:15},flavor_text:"Hot seller! You graphed the most popular snacks in the classroom."},{id:"ECO_53",topic_tag:"Economics",difficulty:2,lesson_payload:{headline:"Scarcity & Abundance",body_text:"**Scarcity** means rare, like a shiny Pokmon card. **Abundance** means lots, like blades of grass. Rare things cost more money because they are hard to get. That's why gold is pricey and dirt is... well, dirt cheap.",key_term:"Scarcity",image_url:"/images/lessons/eco-scarcity.jpg"},challenge_payload:{question_text:"Why do diamonds cost more than sand?",correct_answer:"Because diamonds are scarce (rare)",distractors:["Because sand is shiny","Because diamonds are heavy","Because sand is rare"]},game_rewards:{base_xp:25,currency_value:20},flavor_text:"Sold! The last teddy bear went to the highest bidder in the auction."},{id:"ECO_54",topic_tag:"Economics",difficulty:1,lesson_payload:{headline:"Producers vs. Consumers",body_text:"A **Producer** makes the pizza . A **Consumer** eats the pizza . You are usually a Consumer, but when you sell lemonade, you become a Producer! The economy needs both to work.",key_term:"Consumer",image_url:"/images/lessons/eco-producer.jpg"},challenge_payload:{question_text:"If you buy a toy, what are you?",correct_answer:"A Consumer",distractors:["A Producer","A Factory","A Robot"]},game_rewards:{base_xp:15,currency_value:10},flavor_text:"Match made! You connected the Baker to the Bread perfectly."},{id:"ECO_55",topic_tag:"Economics",difficulty:1,lesson_payload:{headline:"Goods vs. Services",body_text:"**Goods** are things you can touch, like a ball or a burger. **Services** are things people do for you, like a haircut or fixing a leak. You can't hold a haircut in your hand (well, unless you hold the hair... gross!).",key_term:"Services",image_url:"/images/lessons/eco-goods.jpg"},challenge_payload:{question_text:"Which of these is a Service?",correct_answer:"A Haircut",distractors:["A Toy Car","A Candy Bar","A Pair of Shoes"]},game_rewards:{base_xp:15,currency_value:10},flavor_text:"Sorted! You separated the physical toys from the helpful services."},{id:"ECO_56",topic_tag:"Economics",difficulty:2,lesson_payload:{headline:"Bargaining & Trading",body_text:"Have you ever traded lunch? 'I'll give you my apple for your chips.' 'No, add a cookie!' That's **Bargaining**. In business, people negotiate prices all the time to get the best deal. It's a skill!",key_term:"Bargaining",image_url:"/images/lessons/eco-bargain.jpg"},challenge_payload:{question_text:"What is it called when you discuss the price to get a deal?",correct_answer:"Bargaining",distractors:["Stealing","Sleeping","Ignoring"]},game_rewards:{base_xp:20,currency_value:15},flavor_text:"Deal! You traded your apple for a banana successfully."},{id:"ECO_57",topic_tag:"Economics",difficulty:3,lesson_payload:{headline:"Global Trade",body_text:"Bananas don't grow in the snow!  We get them because of **Global Trade**. Countries swap what they have for what they need. We send computer chips to Brazil, and they send us coffee. Everyone wins!",key_term:"Global Trade",image_url:"/images/lessons/eco-trade.jpg"},challenge_payload:{question_text:"Why do we trade with other countries?",correct_answer:"To get things we can't grow or make ourselves",distractors:["To get rid of our money","Because we like boats","To make shipping slower"]},game_rewards:{base_xp:30,currency_value:25},flavor_text:"Yum! You tracked the chocolate all the way from another continent."},{id:"ECO_58",topic_tag:"Economics",difficulty:3,lesson_payload:{headline:"Inflation for Kids",body_text:"Ask your grandpa how much a movie ticket cost when he was little. Probably 50 cents! Today it's $15. That's **Inflation**. Prices go up over time, so money buys less stuff than it used to.",key_term:"Inflation",image_url:"/images/lessons/eco-inflation.jpg"},challenge_payload:{question_text:"What is Inflation?",correct_answer:"Prices going up over time",distractors:["Prices staying the same","Prices going to zero","Balloons popping"]},game_rewards:{base_xp:35,currency_value:30},flavor_text:"Price check! You noticed that the candy is more expensive this year."},{id:"ECO_59",topic_tag:"Economics",difficulty:3,lesson_payload:{headline:"Taxes",body_text:"Imagine earning 10 cookies, but you have to give 3 to the teacher to pay for the class party.  That's **Taxes**. Adults pay part of their money to the government to build roads, schools, and parks.",key_term:"Taxes",image_url:"/images/lessons/eco-taxes.jpg"},challenge_payload:{question_text:"What does tax money pay for?",correct_answer:"Shared things like roads and schools",distractors:["The President's video games","Only candy stores","Nothing at all"]},game_rewards:{base_xp:40,currency_value:0},flavor_text:"Community contribution! You put a token in the jar to fix the playground."},{id:"ECO_60",topic_tag:"Economics",difficulty:2,lesson_payload:{headline:"Recycling as Economics",body_text:"Throwing stuff away is like throwing money away!  **Recycling** turns trash into treasure. Old soda cans can become new bicycles. It saves materials and money. Plus, the Earth says 'Thank You!'",key_term:"Recycling",image_url:"/images/lessons/eco-recycle.jpg"},challenge_payload:{question_text:"How does recycling help save money?",correct_answer:"We reuse materials instead of buying new ones",distractors:["It makes things more expensive","It destroys materials","It makes trash smell better"]},game_rewards:{base_xp:25,currency_value:20},flavor_text:"Eco-Builder! You made a cool robot out of recycled boxes."},{id:"TECH_61",topic_tag:"Technology",difficulty:1,lesson_payload:{headline:"What is an App?",body_text:"An **App** is a tiny program on your phone that does a big job. Some apps help you learn (like KidCap!), some help you play, and some help you find pizza.  They are built with code.",key_term:"App",image_url:"/images/lessons/tech-app.jpg"},challenge_payload:{question_text:"What is an App designed to run on?",correct_answer:"Smartphones and tablets",distractors:["Toasters","Old shoes","Paper notebooks"]},game_rewards:{base_xp:15,currency_value:10},flavor_text:"Download complete! You designed the icon for your dream app."},{id:"TECH_62",topic_tag:"Technology",difficulty:2,lesson_payload:{headline:"Coding Basics",body_text:"Computers are actually kinda dumb. They only do exactly what you tell them! **Coding** is writing instructions for the computer. It's like a recipe: 'Step 1: Draw a circle. Step 2: Make it bounce.'",key_term:"Coding",image_url:"/images/lessons/tech-code.jpg"},challenge_payload:{question_text:"What is coding?",correct_answer:"Giving instructions to a computer",distractors:["Speaking a secret language to aliens","Drawing on the screen","Cleaning the keyboard"]},game_rewards:{base_xp:20,currency_value:15},flavor_text:"Robot activated! Your code made the robot do a perfect dance."},{id:"TECH_63",topic_tag:"Technology",difficulty:3,lesson_payload:{headline:"AI for Kids",body_text:"**AI** (Artificial Intelligence) is when a computer learns to think like a human. It can beat you at chess, recognize your face, or write a funny poem about a cat!  But don't worry, it still can't eat ice cream.",key_term:"AI",image_url:"/images/lessons/tech-ai.jpg"},challenge_payload:{question_text:"What does AI allow computers to do?",correct_answer:"Learn and solve problems",distractors:["Eat lunch","Sleep in a bed","Grow hair"]},game_rewards:{base_xp:25,currency_value:20},flavor_text:"Hello world! You had a conversation with your new AI friend."},{id:"TECH_64",topic_tag:"Technology",difficulty:2,lesson_payload:{headline:"Online Safety",body_text:"The internet is awesome, but it has strangers. Never give your name, address, or password to a stranger online! Keep your **Privacy** shield up.  If someone asks for your info, tell an adult immediately.",key_term:"Privacy",image_url:"/images/lessons/tech-privacy.jpg"},challenge_payload:{question_text:"What should you NEVER share with strangers online?",correct_answer:"Your password and address",distractors:["Your high score","Your favorite color","A drawing of a cat"]},game_rewards:{base_xp:20,currency_value:15},flavor_text:"Shield up! You spotted a bad email and deleted it safely."},{id:"TECH_65",topic_tag:"Technology",difficulty:3,lesson_payload:{headline:"3D Printing",body_text:"Imagine printing a toy!  **3D Printers** use melted plastic to build real objects layer by layer. You can print a wrench, a phone case, or even a mini statue of yourself. It's sci-fi coming true.",key_term:"3D Printer",image_url:"/images/lessons/tech-3d.jpg"},challenge_payload:{question_text:"How does a 3D printer create objects?",correct_answer:"Building them layer by layer",distractors:["Carving them out of wood","Teleporting them","Using magic ink"]},game_rewards:{base_xp:30,currency_value:25},flavor_text:"Printed! You just made a real plastic toy from a computer file."},{id:"TECH_66",topic_tag:"Technology",difficulty:2,lesson_payload:{headline:"Robots at Work",body_text:"Robots don't get tired or bored. **Automation** is using robots to do jobs like packing boxes or building cars. This lets humans do more creative work (or take more nap breaks). ",key_term:"Automation",image_url:"/images/lessons/tech-robot.jpg"},challenge_payload:{question_text:"What kind of jobs are best for robots?",correct_answer:"Dangerous or boring jobs",distractors:["Writing poetry","Tasting food","Babysitting"]},game_rewards:{base_xp:25,currency_value:20},flavor_text:"Factory updated! The robot arm is sorting boxes faster than any human."},{id:"TECH_67",topic_tag:"Technology",difficulty:3,lesson_payload:{headline:"Virtual Money (Crypto)",body_text:"**Cryptocurrency** (like Bitcoin) is money that only exists on the internet. There are no coins to hold! It uses super hard math to stay safe. Some people think it's the future, others think it's risky.",key_term:"Cryptocurrency",image_url:"/images/lessons/tech-crypto.jpg"},challenge_payload:{question_text:"Where does cryptocurrency exist?",correct_answer:"Only on computers",distractors:["In your pocket","At the bank vault","Under your mattress"]},game_rewards:{base_xp:35,currency_value:30},flavor_text:"Mining success! You solved a math puzzle and earned a digital coin."},{id:"TECH_68",topic_tag:"Technology",difficulty:2,lesson_payload:{headline:"Gig Economy",body_text:"Instead of having one boss, some people work **Gigs**. This means doing short jobs like driving for Uber, delivering pizza, or walking dogs. It's like being a freelancer for everything!",key_term:"Gig",image_url:"/images/lessons/tech-gig.jpg"},challenge_payload:{question_text:"What is a 'Gig' in business?",correct_answer:"A short-term job or task",distractors:["A type of concert","A big office building","A yearly salary"]},game_rewards:{base_xp:25,currency_value:20},flavor_text:"Delivery done! You finished a gig and got paid instantly."},{id:"TECH_69",topic_tag:"Technology",difficulty:3,lesson_payload:{headline:"Space Business!",body_text:"Companies like SpaceX are building rockets to go to Mars!  **Space Business** is the next frontier. Maybe one day you'll start a pizza delivery service on the Moon. '30 minutes or it's free... in zero gravity!'",key_term:"Space Business",image_url:"/images/lessons/tech-space.jpg"},challenge_payload:{question_text:"What is the new frontier for business?",correct_answer:"Space travel",distractors:["The center of the Earth","Underwater cities","Antarctica only"]},game_rewards:{base_xp:40,currency_value:35},flavor_text:"Blast off! You designed a candy bar wrapper for astronauts."},{id:"TECH_70",topic_tag:"Technology",difficulty:2,lesson_payload:{headline:"Tech for Good",body_text:"Tech isn't just for games. Inventors are making robots to clean the ocean and drones to plant trees.  Using **Tech for Good** means using your brain to save the planet. Superheroes use tech!",key_term:"Tech for Good",image_url:"/images/lessons/tech-good.jpg"},challenge_payload:{question_text:"How can technology help the world?",correct_answer:"By solving problems like pollution",distractors:["By creating more trash","By making people lazy","By using up all the electricity"]},game_rewards:{base_xp:50,currency_value:0},flavor_text:"Inventor award! Your new gadget helps clean up the ocean."},{id:"SOC_71",topic_tag:"Social Responsibility",difficulty:1,lesson_payload:{headline:"Kind Businesses",body_text:"A business isn't just about money; it's about people. Kind businesses donate to **Charity** or help their neighbors. If you sell cookies, maybe give one to the local fire station? ",key_term:"Charity",image_url:"/images/lessons/soc-kind.jpg"},challenge_payload:{question_text:"What can a business do with its profits to help others?",correct_answer:"Donate to charity",distractors:["Burn the money","Buy more video games for the boss","Hide it in a hole"]},game_rewards:{base_xp:15,currency_value:10},flavor_text:"Heart of gold! You chose a charity to support and made the world better."},{id:"SOC_72",topic_tag:"Social Responsibility",difficulty:2,lesson_payload:{headline:"Eco-Friendly",body_text:"If a product is **Eco-Friendly**, it loves the Earth.  It uses less plastic or is made of recycled stuff. Be a hero: buy eco-friendly toys that don't end up hurting turtles in the ocean!",key_term:"Eco-Friendly",image_url:"/images/lessons/soc-eco.jpg"},challenge_payload:{question_text:"What is an Eco-Friendly product?",correct_answer:"A product safe for the environment",distractors:["A product that is invisible","A product made of toxic sludge","A product that explodes"]},game_rewards:{base_xp:20,currency_value:15},flavor_text:"Green thumb! You created a fun toy using only recycled paper."},{id:"SOC_73",topic_tag:"Social Responsibility",difficulty:3,lesson_payload:{headline:"Fair Trade",body_text:"Imagine working all day and getting paid one penny. Unfair, right? **Fair Trade** ensures farmers (who grow cocoa for your chocolate!) get paid a good wage. Always look for the Fair Trade logo on your chocolate bar. ",key_term:"Fair Trade",image_url:"/images/lessons/soc-fair.jpg"},challenge_payload:{question_text:"Who does Fair Trade help the most?",correct_answer:"Farmers and workers",distractors:["Robots","Aliens","Rich kings only"]},game_rewards:{base_xp:25,currency_value:20},flavor_text:"Fair play! You bought chocolate that helped a farmer feed their family."},{id:"SOC_74",topic_tag:"Social Responsibility",difficulty:2,lesson_payload:{headline:"Helping Local Shops",body_text:"When you buy from a huge store, the money flies away to a big HQ. When you buy **Local**, the money stays in your town! It helps pay for your neighbor's soccer lessons. Shop small! ",key_term:"Local",image_url:"/images/lessons/soc-local.jpg"},challenge_payload:{question_text:"Why is shopping locally good?",correct_answer:"It helps your neighbors and community",distractors:["It makes giant companies richer","It destroys the town","It costs a million dollars"]},game_rewards:{base_xp:20,currency_value:15},flavor_text:"Support local! You visited the family-owned bakery and bought a treat."},{id:"SOC_75",topic_tag:"Social Responsibility",difficulty:2,lesson_payload:{headline:"Diversity in Business",body_text:"If everyone on your team thinks the same, you'll never have new ideas. **Diversity** means having all kinds of peopledifferent ages, places, and ideas. A team with a chef, an artist, and a scientist beats a team of 3 chefs any day!",key_term:"Diversity",image_url:"/images/lessons/soc-diversity.jpg"},challenge_payload:{question_text:"Why is diversity good for business?",correct_answer:"Different people bring new ideas",distractors:["Everyone thinks exactly the same","It makes everything boring","It causes more traffic"]},game_rewards:{base_xp:25,currency_value:20},flavor_text:"World traveler! You explored a market full of ideas from everywhere."},{id:"SOC_76",topic_tag:"Social Responsibility",difficulty:2,lesson_payload:{headline:"Animal-Friendly Biz",body_text:"Would you put shampoo in a bunny's eyes? NO!  **Cruelty-Free** products promise they are never tested on animals. Look for the bunny logo to be sure no animals were sad making your soap.",key_term:"Cruelty-Free",image_url:"/images/lessons/soc-animal.jpg"},challenge_payload:{question_text:"What does 'Cruelty-Free' mean?",correct_answer:"Not tested on animals",distractors:["Tested on lions","Made by animals","Full of bugs"]},game_rewards:{base_xp:20,currency_value:15},flavor_text:"Bunny saved! You chose the product that was kind to animals."},{id:"SOC_77",topic_tag:"Social Responsibility",difficulty:3,lesson_payload:{headline:"Sharing Economy",body_text:"Why buy a drill if you use it once a year? Just borrow it! The **Sharing Economy** is about sharing stuff (like Uber or a library). It saves money and means less junk in the landfill. Share your toys!",key_term:"Sharing Economy",image_url:"/images/lessons/soc-share.jpg"},challenge_payload:{question_text:"Which of these is an example of the Sharing Economy?",correct_answer:"A Public Library",distractors:["Buying a new car","Keeping all your toys locked up","Throwing books away"]},game_rewards:{base_xp:30,currency_value:25},flavor_text:"Swap success! You traded an old book for a new adventure."},{id:"SOC_78",topic_tag:"Social Responsibility",difficulty:1,lesson_payload:{headline:"Volunteering",body_text:"You don't need money to help. You can **Volunteer** your time! Walk dogs at a shelter or pick up trash in the park. Time is more valuable than money because you can't get it back!",key_term:"Volunteer",image_url:"/images/lessons/soc-volunteer.jpg"},challenge_payload:{question_text:"What do you give when you volunteer?",correct_answer:"Your time and help",distractors:["Your lunch money","Your old shoes","Nothing"]},game_rewards:{base_xp:35,currency_value:0},flavor_text:"Hero helper! You spent the afternoon helping a neighbor clean up."},{id:"SOC_79",topic_tag:"Social Responsibility",difficulty:3,lesson_payload:{headline:"Honesty in Business",body_text:"If you lie to a customer, they might buy once, but they'll never come back. **Integrity** (being honest) builds trust. Trust is like a mirroronce it's cracked, it's hard to fix. Always tell the truth!",key_term:"Integrity",image_url:"/images/lessons/soc-integrity.jpg"},challenge_payload:{question_text:"Why is honesty important in business?",correct_answer:"It builds trust with customers",distractors:["It makes you lose friends","It is illegal","It scares people away"]},game_rewards:{base_xp:40,currency_value:50},flavor_text:"Truth teller! You told the truth and earned everyone's respect."},{id:"SOC_80",topic_tag:"Social Responsibility",difficulty:1,lesson_payload:{headline:"Kids Changing World",body_text:"You aren't 'too small' to change the world.  Kid inventors and leaders have started movements to save oceans and stop bullying. A big avalanche starts with one small snowflake. Be that snowflake!",key_term:"Change",image_url:"/images/lessons/soc-change.jpg"},challenge_payload:{question_text:"Who can change the world?",correct_answer:"Anyone, even kids",distractors:["Only adults","Only rich people","Only superheroes"]},game_rewards:{base_xp:50,currency_value:0},flavor_text:"Future leader! Your poster about helping the planet inspired the whole class."},{id:"GLO_81",topic_tag:"Global Business",difficulty:1,lesson_payload:{headline:"Imports & Exports",body_text:"**Imports** come IN (like bananas from far away). **Exports** go OUT (like cars made here). It's a giant global swap meet!  Without trade, we'd have no chocolate, and that would be a tragedy.",key_term:"Imports",image_url:"/images/lessons/glo-import.jpg"},challenge_payload:{question_text:"What do we call goods brought IN from another country?",correct_answer:"Imports",distractors:["Exports","Trash","Lost items"]},game_rewards:{base_xp:15,currency_value:10},flavor_text:"Cargo arrived! You found a 'Made in China' sticker on your toy."},{id:"GLO_82",topic_tag:"Global Business",difficulty:2,lesson_payload:{headline:"Currency Exchange",body_text:"In Japan, they use Yen. In Europe, they use Euros. If you go there, you have to **Exchange** your dollars.  Buying a soda in another country is like doing a math puzzle first! 'That soda is 500 Yen... is that a lot?'",key_term:"Exchange",image_url:"/images/lessons/glo-exchange.jpg"},challenge_payload:{question_text:"What must you do to money when traveling to a new country?",correct_answer:"Exchange it for local currency",distractors:["Wash it with soap","Hide it in your shoe","Throw it away"]},game_rewards:{base_xp:20,currency_value:15},flavor_text:"Exchange complete! You traded your Dollars for Yen."},{id:"GLO_83",topic_tag:"Global Business",difficulty:2,lesson_payload:{headline:"Cultural Differences",body_text:"In America, we shake hands.  In Japan, they bow.  If you try to hug a business partner in a formal country, it might be awkward! Learning **Culture** helps you make friends (and deals) around the world.",key_term:"Culture",image_url:"/images/lessons/glo-culture.jpg"},challenge_payload:{question_text:"Why is it important to learn about other cultures in business?",correct_answer:"To show respect and be polite",distractors:["To make fun of people","To sleep better","To eat more food"]},game_rewards:{base_xp:20,currency_value:15},flavor_text:"Polite greeting! You bowed correctly and made a new friend."},{id:"GLO_84",topic_tag:"Global Business",difficulty:3,lesson_payload:{headline:"Time Zones",body_text:"When you are eating lunch, a kid in Australia is sleeping!  The world has **Time Zones**. If you call a business partner in London at 5 PM your time, you might wake them up! Global business never sleeps.",key_term:"Time Zones",image_url:"/images/lessons/glo-time.jpg"},challenge_payload:{question_text:"Why isn't it the same time everywhere on Earth?",correct_answer:"Because of Time Zones",distractors:["Because clocks are broken","Because time travel exists","Because the sun is tired"]},game_rewards:{base_xp:25,currency_value:20},flavor_text:"Good morning... or night? You figured out the time in Tokyo!"},{id:"GLO_85",topic_tag:"Global Business",difficulty:1,lesson_payload:{headline:"Global Brands",body_text:"You can find a Coca-Cola in almost every country on Earth!  A **Global Brand** is famous everywhere. It's like being the coolest kid in every school in the world at the same time.",key_term:"Global Brand",image_url:"/images/lessons/glo-brand.jpg"},challenge_payload:{question_text:"What is a Global Brand?",correct_answer:"A brand famous all over the world",distractors:["A brand only you know","A brand that is secret","A brand that failed"]},game_rewards:{base_xp:15,currency_value:10},flavor_text:"I know that logo! You spotted a famous restaurant in a foreign city."},{id:"GLO_86",topic_tag:"Global Business",difficulty:3,lesson_payload:{headline:"Shipping & Logistics",body_text:"How did your toy get from a factory in China to your house? **Logistics**!  It took a truck, a giant ship, another truck, and a delivery van. It's a giant puzzle of moving boxes around the world without losing them.",key_term:"Logistics",image_url:"/images/lessons/glo-logistics.jpg"},challenge_payload:{question_text:"What does Logistics involve?",correct_answer:"Moving and shipping goods",distractors:["Painting pictures","Singing songs","Sitting still"]},game_rewards:{base_xp:30,currency_value:25},flavor_text:"Full speed ahead! Your package relay race was a success."},{id:"GLO_87",topic_tag:"Global Business",difficulty:2,lesson_payload:{headline:"Language Matters",body_text:"If you speak English and Spanish, you can talk to millions more people!  Learning a **Language** is a business superpower. Even saying 'Hello' in someone else's language makes them smile.",key_term:"Language",image_url:"/images/lessons/glo-language.jpg"},challenge_payload:{question_text:"Why is learning languages good for business?",correct_answer:"It helps communicate with more people",distractors:["It confuses everyone","It makes you shorter","It is impossible"]},game_rewards:{base_xp:25,currency_value:20},flavor_text:"Merci! You said thank you in 5 different languages."},{id:"GLO_88",topic_tag:"Global Business",difficulty:1,lesson_payload:{headline:"Tourism Business",body_text:"People pay money to relax!  **Tourism** is the business of vacations. Hotels, tour guides, and souvenir shops exist to help people have fun in new places. Imagine getting paid to help people go to the beach!",key_term:"Tourism",image_url:"/images/lessons/glo-tour.jpg"},challenge_payload:{question_text:"What kind of business helps travelers?",correct_answer:"Tourism",distractors:["Construction","Mining","Farming"]},game_rewards:{base_xp:20,currency_value:15},flavor_text:"Bon Voyage! Your dream vacation poster looks amazing."},{id:"GLO_89",topic_tag:"Global Business",difficulty:2,lesson_payload:{headline:"Famous Kidpreneurs",body_text:"Moziah Bridges started a bowtie company when he was 9. He appeared on Shark Tank!  **Kidpreneurs** prove you don't need a mustache to be a CEO. If you have a good idea, start now!",key_term:"Kidpreneur",image_url:"/images/lessons/glo-kid.jpg"},challenge_payload:{question_text:"What did Moziah Bridges sell?",correct_answer:"Bowties",distractors:["Rocks","Spaceships","Invisible cloaks"]},game_rewards:{base_xp:30,currency_value:25},flavor_text:"CEO Interview! You asked great questions to the young business owner."},{id:"GLO_90",topic_tag:"Global Business",difficulty:1,lesson_payload:{headline:"Virtual Travel",body_text:"You can visit Paris without leaving your chair!  **Virtual Travel** lets you see the Eiffel Tower on a screen. It helps business people see factories or offices without a 10-hour flight. No jet lag!",key_term:"Virtual Travel",image_url:"/images/lessons/glo-virtual.jpg"},challenge_payload:{question_text:"How can you travel without leaving home?",correct_answer:"Using virtual tools like Google Earth",distractors:["By closing your eyes really tight","By walking in circles","By eating pizza"]},game_rewards:{base_xp:15,currency_value:10},flavor_text:"Touchdown! You visited a new country on the screen and sold their food."},{id:"FIN_91",topic_tag:"Financial Smarts",difficulty:1,lesson_payload:{headline:"Passwords & Privacy",body_text:"Your password is like the key to your house.  If you give it to a stranger, they can steal your virtual couch! Keep passwords secret (like 'PurpleMonkeyDishwasher'). Never use '123456'!",key_term:"Password",image_url:"/images/lessons/fin-pass.jpg"},challenge_payload:{question_text:"What is a password used for?",correct_answer:"To keep accounts safe",distractors:["To make the computer run faster","To share with strangers","To decorate the screen"]},game_rewards:{base_xp:15,currency_value:10},flavor_text:"Access denied to hackers! Your fortress password is uncrackable."},{id:"FIN_92",topic_tag:"Financial Smarts",difficulty:2,lesson_payload:{headline:"Scams & Tricks",body_text:"'You won a free iPhone! Just click here!'  STOP. That's a **Scam**. If something sounds too good to be true, it's probably a trick. Scammers want to steal your info. Be smart, don't click!",key_term:"Scam",image_url:"/images/lessons/fin-scam.jpg"},challenge_payload:{question_text:"What does 'Too good to be true' usually mean?",correct_answer:"It is likely a scam",distractors:["It is a great deal","It is perfectly safe","You are very lucky"]},game_rewards:{base_xp:20,currency_value:15},flavor_text:"Sharp eyes! You spotted the scam and didn't click the link."},{id:"FIN_93",topic_tag:"Financial Smarts",difficulty:3,lesson_payload:{headline:"Identity Theft",body_text:"Your name and birthday are precious treasures.  **Identity Theft** is when a bad guy pretends to be YOU to buy stuff. Keep your personal info secret, just like your diary!",key_term:"Identity",image_url:"/images/lessons/fin-identity.jpg"},challenge_payload:{question_text:"Why must you protect your personal information?",correct_answer:"To prevent identity theft",distractors:["So you can forget your name","Because it is boring","To stop the mailman"]},game_rewards:{base_xp:25,currency_value:20},flavor_text:"Treasure locked! You kept your personal secrets safe in the vault."},{id:"FIN_94",topic_tag:"Financial Smarts",difficulty:1,lesson_payload:{headline:"Grown-Up Helpers",body_text:"Money is complicated! That's why grown-ups have **Accountants**.  They are math wizards who help count money and pay taxes. It's okay to ask for help when the numbers get too big.",key_term:"Accountant",image_url:"/images/lessons/fin-accountant.jpg"},challenge_payload:{question_text:"What does an Accountant do?",correct_answer:"Helps organize and count money",distractors:["Cooks lunch for the bank","Paints the walls","Drives the bus"]},game_rewards:{base_xp:15,currency_value:10},flavor_text:"You're hired! You dressed up as a banker for career day."},{id:"FIN_95",topic_tag:"Financial Smarts",difficulty:2,lesson_payload:{headline:"Contracts",body_text:"A **Contract** is a Pinky Promise written on paper.  When you sign it, you promise to do something (like pay rent or finish a job). Breaking a contract is big trouble, so read before you sign!",key_term:"Contract",image_url:"/images/lessons/fin-contract.jpg"},challenge_payload:{question_text:"What is a written business promise called?",correct_answer:"A Contract",distractors:["A Poem","A Doodle","A Suggestion"]},game_rewards:{base_xp:20,currency_value:15},flavor_text:"Deal signed! You and your partner agreed to the terms."},{id:"FIN_96",topic_tag:"Financial Smarts",difficulty:2,lesson_payload:{headline:"Safe Shopping",body_text:"Shopping online? Look for the little  **Lock Icon** next to the website name! It means the site is safe. If there's no lock, run away (digitally)! Don't give them your money.",key_term:"Lock",image_url:"/images/lessons/fin-lock.jpg"},challenge_payload:{question_text:"What symbol shows a website is safe for shopping?",correct_answer:"A Lock icon",distractors:["A Smiley Face","A Skull and Crossbones","A Pizza Slice"]},game_rewards:{base_xp:25,currency_value:20},flavor_text:"Green lock secured! You shopped safely on a verified website."},{id:"FIN_97",topic_tag:"Financial Smarts",difficulty:3,lesson_payload:{headline:"Phishing Emails",body_text:"A **Phishing** email is a trick. It says 'Hey, I'm your bank, give me your password!'  It's a trap! Real banks never ask for your password in an email. Delete it and tell an adult.",key_term:"Phishing",image_url:"/images/lessons/fin-phish.jpg"},challenge_payload:{question_text:"What is Phishing?",correct_answer:"Fake emails trying to steal info",distractors:["Fishing for fish in a lake","Sending nice letters","Buying new software"]},game_rewards:{base_xp:30,currency_value:25},flavor_text:"Trick avoided! You identified the fake email and deleted it."},{id:"FIN_98",topic_tag:"Financial Smarts",difficulty:3,lesson_payload:{headline:"Credit Cards",body_text:"Credit cards are NOT magic money cards!  When you use one, you are borrowing money from the bank. You MUST pay it back later. If you don't, the bank gets angry and charges you extra (interest). Use wisely!",key_term:"Credit Card",image_url:"/images/lessons/fin-credit.jpg"},challenge_payload:{question_text:"Is money on a credit card yours to keep?",correct_answer:"No, it must be paid back",distractors:["Yes, it is free money","Yes, it is a gift","Yes, money is magic"]},game_rewards:{base_xp:25,currency_value:20},flavor_text:"Credit smarts! You used your pretend card responsibly."},{id:"FIN_99",topic_tag:"Financial Smarts",difficulty:2,lesson_payload:{headline:"Saving Data",body_text:"The internet remembers everything.  Once you post a photo, you can't really delete it. Be careful what you share! Only share photos with family and trusted friends. Keep your **Data** safe.",key_term:"Data",image_url:"/images/lessons/fin-data.jpg"},challenge_payload:{question_text:"Who should you share your location with?",correct_answer:"Only trusted family and friends",distractors:["Everyone on the internet","Strangers in a game","Nobody ever"]},game_rewards:{base_xp:20,currency_value:15},flavor_text:"Privacy updated! You checked your settings to stay safe."},{id:"FIN_100",topic_tag:"Financial Smarts",difficulty:1,lesson_payload:{headline:"Recap & Celebrate!",body_text:"You did it!  You learned about money, business, and staying safe. You are now a **KidCap Graduate**! Go forth and build your empire (and maybe clean your room first). The world is ready for your ideas! ",key_term:"Graduate",image_url:"/images/lessons/fin-grad.jpg"},challenge_payload:{question_text:"What have you become after finishing these lessons?",correct_answer:"A smart future entrepreneur",distractors:["A sleepy cat","A confused robot","A potato"]},game_rewards:{base_xp:100,currency_value:100},flavor_text:"Graduation day! You earned the 'Business Star' certificate."}],Fr=uD,UN=[{id:"MOD_MB",title:"Money Basics",icon:"",lessonIds:Fr.filter(t=>t.id.startsWith("MB")).map(t=>t.id)},{id:"MOD_ENT",title:"Entrepreneurship",icon:"",lessonIds:Fr.filter(t=>t.id.startsWith("ENT")).map(t=>t.id)},{id:"MOD_INV",title:"Investing",icon:"",lessonIds:Fr.filter(t=>t.id.startsWith("INV")).map(t=>t.id)},{id:"MOD_MKT",title:"Marketing",icon:"",lessonIds:Fr.filter(t=>t.id.startsWith("MKT")).map(t=>t.id)},{id:"MOD_LDR",title:"Leadership",icon:"",lessonIds:Fr.filter(t=>t.id.startsWith("LDR")).map(t=>t.id)},{id:"MOD_ECO",title:"Economics",icon:"",lessonIds:Fr.filter(t=>t.id.startsWith("ECO")).map(t=>t.id)},{id:"MOD_TECH",title:"Technology",icon:"",lessonIds:Fr.filter(t=>t.id.startsWith("TECH")).map(t=>t.id)},{id:"MOD_SOC",title:"Social Good",icon:"",lessonIds:Fr.filter(t=>t.id.startsWith("SOC")).map(t=>t.id)},{id:"MOD_GLO",title:"Global Biz",icon:"",lessonIds:Fr.filter(t=>t.id.startsWith("GLO")).map(t=>t.id)},{id:"MOD_FIN",title:"Safety & Smarts",icon:"",lessonIds:Fr.filter(t=>t.id.startsWith("FIN")).map(t=>t.id)}],qm=[{business_id:"BIZ_01_LEMONADE",name:"Lemonade Stand",category:"Retail & Food",game_type:"simulation_tycoon",description:"Adjust your recipe and prices based on the weather forecast.",visual_config:{theme:"light",colors:{primary:"#FFC800",secondary:"#F59E0B",accent:"#10B981",background:"#FEF3C7"},icon:""},variables:{resources:["lemons","sugar","ice","cups"],dynamic_factors:["temperature","weather_condition"],player_inputs:["price_per_cup","ice_per_cup","lemons_per_cup"]},upgrade_tree:[{id:"upgrade_ice_chest",name:"Super Cooler",effect:"Ice melts 50% slower",cost:50,modifier_target:"quality",modifier_value:1.2},{id:"upgrade_juicer",name:"Electric Juicer",effect:"Production speed +25%",cost:100,modifier_target:"speed",modifier_value:1.25},{id:"upgrade_sign",name:"Spinning Sign",effect:"Customer attraction +20%",cost:150,modifier_target:"demand",modifier_value:1.2}],event_triggers:{positive:{event_name:"Heatwave",effect:"Demand increases by 200%",duration:"1_day",modifier_target:"demand",modifier_value:2},negative:{event_name:"Sour Batch",effect:"Refund cost increases by 20%",duration:"1_day",modifier_target:"revenue",modifier_value:.8}}},{business_id:"BIZ_02_PIZZA",name:"Pizza Rush",category:"Retail & Food",game_type:"driving_game",description:"Deliver pizzas to hungry customers before they get cold!",visual_config:{theme:"neon",colors:{primary:"#EF4444",secondary:"#B91C1C",accent:"#F59E0B",background:"#FFF1F2"},icon:""},entities:[{id:"scooter",type:"resource",name:"Scooter",emoji:""},{id:"house",type:"target",name:"House",emoji:""}],scoring:{base_points:20,time_limit:45},upgrade_tree:[],event_triggers:{positive:{event_name:"",effect:"",duration:""},negative:{event_name:"",effect:"",duration:""}}},{business_id:"BIZ_03_CUPCAKE",name:"Cupcake Bakery",category:"Retail & Food",game_type:"matching_game",description:"Assemble cupcakes exactly as ordered by customers!",visual_config:{theme:"pastel",colors:{primary:"#EC4899",secondary:"#DB2777",accent:"#F472B6",background:"#FDF2F8"},icon:""},entities:[{id:"base_vanilla",type:"resource",name:"Vanilla Base",emoji:""},{id:"base_choc",type:"resource",name:"Choco Base",emoji:""},{id:"frosting_pink",type:"resource",name:"Strawberry",emoji:""},{id:"frosting_blue",type:"resource",name:"Blueberry",emoji:""},{id:"top_cherry",type:"resource",name:"Cherry",emoji:""},{id:"top_sprinkle",type:"resource",name:"Sprinkles",emoji:""}],scoring:{base_points:15},upgrade_tree:[],event_triggers:{positive:{event_name:"",effect:"",duration:""},negative:{event_name:"",effect:"",duration:""}}},{business_id:"BIZ_04_COFFEE",name:"Coffee Cart",category:"Retail & Food",game_type:"simulation_tycoon",description:"Brew the perfect cup. Balance roast strength and milk foam.",visual_config:{theme:"eco",colors:{primary:"#78350F",secondary:"#451a03",accent:"#D97706",background:"#FFFBEB"},icon:""},variables:{resources:["beans","milk","cups"],dynamic_factors:["morning_rush","weather"],player_inputs:["roast_level","milk_foam","price"]},upgrade_tree:[{id:"up_espresso",name:"Espresso Machine",effect:"Speed +30%",cost:200},{id:"up_beans",name:"Premium Beans",effect:"Quality +20%",cost:150}],event_triggers:{positive:{event_name:"Rainy Day",effect:"Hot coffee demand +50%",duration:"1d"},negative:{event_name:"Machine Break",effect:"Speed -50%",duration:"1d"}}},{business_id:"BIZ_05_TACO",name:"Taco Truck",category:"Retail & Food",game_type:"matching_game",description:"Build tacos to order! Don't forget the guac.",visual_config:{theme:"light",colors:{primary:"#F59E0B",secondary:"#B45309",accent:"#EF4444",background:"#FEF3C7"},icon:""},entities:[{id:"shell",type:"resource",name:"Shell",emoji:""},{id:"meat",type:"resource",name:"Meat",emoji:""},{id:"lettuce",type:"resource",name:"Lettuce",emoji:""},{id:"cheese",type:"resource",name:"Cheese",emoji:""},{id:"salsa",type:"resource",name:"Salsa",emoji:""},{id:"guac",type:"resource",name:"Guac",emoji:""}],upgrade_tree:[],event_triggers:{positive:{event_name:"",effect:"",duration:""},negative:{event_name:"",effect:"",duration:""}}},{business_id:"BIZ_06_ICECREAM",name:"Ice Cream Parlor",category:"Retail & Food",game_type:"simulation_tycoon",description:"Scoop happiness! Keep the freezer cold and flavors fun.",visual_config:{theme:"pastel",colors:{primary:"#F472B6",secondary:"#DB2777",accent:"#60A5FA",background:"#FDF2F8"},icon:""},variables:{resources:["cream","cones","toppings"],dynamic_factors:["heat","kids_out_of_school"],player_inputs:["scoop_size","sugar_amount","price"]},upgrade_tree:[{id:"up_freezer",name:"Deep Freezer",effect:"Less melting",cost:150},{id:"up_flavors",name:"Flavor Station",effect:"Attraction +20%",cost:200}],event_triggers:{positive:{event_name:"Summer Camp",effect:"Huge group of kids!",duration:"1d"},negative:{event_name:"Brain Freeze",effect:"Customers eat slower",duration:"1d"}}},{business_id:"BIZ_12_CARWASH",name:"Groovy Car Wash",category:"Services & E-Commerce",game_type:"rhythm_game",description:"Scrub the cars to the beat! Hit the targets perfectly.",visual_config:{theme:"neon",colors:{primary:"#3B82F6",secondary:"#2563EB",accent:"#60A5FA",background:"#EFF6FF"},icon:""},game_mechanics:{spawn_rate:1200},entities:[{id:"dirt",type:"item",name:"Dirt",emoji:""},{id:"bubble",type:"item",name:"Bubble",emoji:""}],upgrade_tree:[],event_triggers:{positive:{event_name:"",effect:"",duration:""},negative:{event_name:"",effect:"",duration:""}}},{business_id:"BIZ_13_PETSALON",name:"Pet Salon",category:"Services & E-Commerce",game_type:"simulation_tycoon",description:"Wash and groom cute pets. Keep them calm!",visual_config:{theme:"pastel",colors:{primary:"#A78BFA",secondary:"#8B5CF6",accent:"#F472B6",background:"#F5F3FF"},icon:""},variables:{resources:["shampoo","bows","treats"],dynamic_factors:["pet_mood","cleanliness"],player_inputs:["scrub_intensity","water_temp","treat_frequency"]},upgrade_tree:[{id:"up_dryer",name:"Silent Dryer",effect:"Pets stay calm",cost:300},{id:"up_shampoo",name:"Premium Soap",effect:"Shinier coats (Higher tips)",cost:100}],event_triggers:{positive:{event_name:"Dog Show",effect:"High-paying customers",duration:"1d"},negative:{event_name:"Muddy Puddle",effect:"Extra dirty dogs",duration:"1d"}}},{business_id:"BIZ_14_LAWN",name:"Lawn Master",category:"Services & E-Commerce",game_type:"driving_game",description:"Mow the lawn perfectly before time runs out!",visual_config:{theme:"eco",colors:{primary:"#22C55E",secondary:"#15803D",accent:"#EAB308",background:"#F0FDF4"},icon:""},entities:[{id:"mower",type:"resource",name:"Mower",emoji:""},{id:"grass",type:"target",name:"Tall Grass",emoji:""}],scoring:{base_points:10,time_limit:60},upgrade_tree:[],event_triggers:{positive:{event_name:"",effect:"",duration:""},negative:{event_name:"",effect:"",duration:""}}},{business_id:"BIZ_15_DROPSHIP",name:"Dropship Empire",category:"Services & E-Commerce",game_type:"clicker_idle",description:"Click to process orders! Automate your shipping empire.",visual_config:{theme:"dark",colors:{primary:"#6366F1",secondary:"#4F46E5",accent:"#10B981",background:"#1E1B4B"},icon:""},game_mechanics:{click_value:5,auto_click_rate:1},upgrade_tree:[{id:"up_ads",name:"Social Ads",effect:"Auto-orders +5/sec",cost:200,modifier_target:"auto_click_rate",modifier_value:5},{id:"up_supplier",name:"Fast Supplier",effect:"Click value +10",cost:500,modifier_target:"click_value",modifier_value:10}],event_triggers:{positive:{event_name:"",effect:"",duration:""},negative:{event_name:"",effect:"",duration:""}}},{business_id:"BIZ_16_IFIX",name:"iFix It",category:"Services & E-Commerce",game_type:"matching_game",description:"Match the correct parts to repair phones and tablets.",visual_config:{theme:"neon",colors:{primary:"#0EA5E9",secondary:"#0284C7",accent:"#FACC15",background:"#F0F9FF"},icon:""},entities:[{id:"screen",type:"resource",name:"Screen",emoji:""},{id:"battery",type:"resource",name:"Battery",emoji:""},{id:"chip",type:"resource",name:"Chip",emoji:""},{id:"screw",type:"resource",name:"Screw",emoji:""},{id:"wire",type:"resource",name:"Wire",emoji:""},{id:"case",type:"resource",name:"Case",emoji:""}],upgrade_tree:[],event_triggers:{positive:{event_name:"",effect:"",duration:""},negative:{event_name:"",effect:"",duration:""}}},{business_id:"BIZ_17_FACTORY",name:"Toy Factory",category:"Production & Manufacturing",game_type:"simulation_tycoon",description:"Manage the assembly line. Speed vs Quality.",visual_config:{theme:"realistic",colors:{primary:"#64748B",secondary:"#475569",accent:"#F59E0B",background:"#F1F5F9"},icon:""},variables:{resources:["plastic","paint","boxes"],dynamic_factors:["machine_heat","worker_energy"],player_inputs:["conveyor_speed","qc_check","batch_size"]},upgrade_tree:[{id:"up_robot",name:"Robot Arm",effect:"Speed +50%",cost:500},{id:"up_paint",name:"Auto-Painter",effect:"Quality +20%",cost:300}],event_triggers:{positive:{event_name:"Holiday Rush",effect:"Orders x3",duration:"1d"},negative:{event_name:"Power Outage",effect:"Speed -80%",duration:"1d"}}},{business_id:"BIZ_18_PRINTSHOP",name:"3D Print Shop",category:"Production & Manufacturing",game_type:"matching_game",description:"Match the filament color to the 3D model order.",visual_config:{theme:"neon",colors:{primary:"#8B5CF6",secondary:"#7C3AED",accent:"#C084FC",background:"#F3E8FF"},icon:""},entities:[{id:"red_fil",type:"resource",name:"Red",emoji:""},{id:"blue_fil",type:"resource",name:"Blue",emoji:""},{id:"green_fil",type:"resource",name:"Green",emoji:""},{id:"yellow_fil",type:"resource",name:"Yellow",emoji:""},{id:"white_fil",type:"resource",name:"White",emoji:""},{id:"black_fil",type:"resource",name:"Black",emoji:""}],upgrade_tree:[],event_triggers:{positive:{event_name:"",effect:"",duration:""},negative:{event_name:"",effect:"",duration:""}}},{business_id:"BIZ_19_PUBLISHING",name:"Book Publishing",category:"Production & Manufacturing",game_type:"simulation_tycoon",description:"Print and sell bestsellers. Manage ink and paper.",visual_config:{theme:"light",colors:{primary:"#713F12",secondary:"#451a03",accent:"#FCD34D",background:"#FFFBEB"},icon:""},variables:{resources:["paper","ink","glue"],dynamic_factors:["trend","reviews"],player_inputs:["print_quality","cover_art_budget","marketing_spend"]},upgrade_tree:[{id:"up_press",name:"Offset Press",effect:"Bulk printing cheaper",cost:400},{id:"up_editor",name:"Star Editor",effect:"Better reviews",cost:250}],event_triggers:{positive:{event_name:"Book Club Pick",effect:"Sales x2",duration:"1d"},negative:{event_name:"Typo Found",effect:"Reprint cost",duration:"1d"}}},{business_id:"BIZ_20_BATTERY",name:"Eco Battery Co.",category:"Production & Manufacturing",game_type:"simulation_tycoon",description:"Manufacture green batteries. Balance charge and safety.",visual_config:{theme:"eco",colors:{primary:"#16A34A",secondary:"#15803D",accent:"#22C55E",background:"#F0FDF4"},icon:""},variables:{resources:["lithium","metal","plastic"],dynamic_factors:["charge_capacity","heat"],player_inputs:["voltage","safety_check","production_speed"]},upgrade_tree:[],event_triggers:{positive:{event_name:"",effect:"",duration:""},negative:{event_name:"",effect:"",duration:""}}},{business_id:"BIZ_31_OFFICE",name:"BizTycoon",category:"Production & Manufacturing",game_type:"simulation_tycoon",description:"Manage a busy corporate office.",visual_config:{theme:"realistic",colors:{primary:"#64748B",secondary:"#475569",accent:"#3B82F6",background:"#F8FAFC"},icon:""},variables:{resources:["paper","ink","coffee"],dynamic_factors:["morale","deadlines"],player_inputs:["salary","break_time","office_supplies"]},upgrade_tree:[{id:"upgrade_coffee",name:"Premium Coffee",effect:"Productivity +10%",cost:100,modifier_target:"speed",modifier_value:1.1},{id:"upgrade_chairs",name:"Ergo Chairs",effect:"Happiness +15%",cost:250,modifier_target:"quality",modifier_value:1.15}],event_triggers:{positive:{event_name:"Big Contract",effect:"Revenue +500",duration:"1d"},negative:{event_name:"Printer Jam",effect:"Productivity -20%",duration:"1d"}}},{business_id:"BIZ_21_PARTY",name:"Party Planner",category:"Creative & Events",game_type:"simulation_tycoon",description:"Throw the best parties! Manage music, food, and vibes.",visual_config:{theme:"neon",colors:{primary:"#C026D3",secondary:"#A21CAF",accent:"#E879F9",background:"#FAE8FF"},icon:""},variables:{resources:["balloons","cake","confetti"],dynamic_factors:["fun_meter","noise_level"],player_inputs:["music_volume","snack_variety","decor_budget"]},upgrade_tree:[{id:"up_dj",name:"Pro DJ",effect:"Fun meter maxed",cost:300},{id:"up_lights",name:"Laser Lights",effect:"Cool factor +50%",cost:200}],event_triggers:{positive:{event_name:"Celebrity Guest",effect:"Reputation up",duration:"1d"},negative:{event_name:"Rain on Parade",effect:"Outdoor party ruined",duration:"1d"}}},{business_id:"BIZ_22_ROCKSTAR",name:"Rock Star Tour",category:"Creative & Events",game_type:"rhythm_game",description:"Play the guitar solo perfectly to wow the crowd.",visual_config:{theme:"dark",colors:{primary:"#EF4444",secondary:"#991B1B",accent:"#FCA5A5",background:"#18181B"},icon:""},game_mechanics:{spawn_rate:1e3},entities:[{id:"note",type:"item",name:"Note",emoji:""},{id:"fire",type:"item",name:"Fire",emoji:""}],upgrade_tree:[],event_triggers:{positive:{event_name:"",effect:"",duration:""},negative:{event_name:"",effect:"",duration:""}}},{business_id:"BIZ_23_ARTDEALER",name:"Art Dealer",category:"Creative & Events",game_type:"simulation_tycoon",description:"Buy low, sell high! Spot the masterpieces.",visual_config:{theme:"light",colors:{primary:"#0F172A",secondary:"#020617",accent:"#64748B",background:"#F1F5F9"},icon:""},variables:{resources:["canvas","paint","frames"],dynamic_factors:["trend","artist_fame"],player_inputs:["bid_amount","gallery_entry_fee","wine_quality"]},upgrade_tree:[],event_triggers:{positive:{event_name:"",effect:"",duration:""},negative:{event_name:"",effect:"",duration:""}}},{business_id:"BIZ_24_CRAFT",name:"Craft Corner",category:"Creative & Events",game_type:"simulation_tycoon",description:"Make handmade jewelry. Precision matters.",visual_config:{theme:"pastel",colors:{primary:"#FBBF24",secondary:"#D97706",accent:"#FDE68A",background:"#FFFBEB"},icon:""},variables:{resources:["beads","string","clasps"],dynamic_factors:["patience","design"],player_inputs:["complexity","price","packaging"]},upgrade_tree:[],event_triggers:{positive:{event_name:"",effect:"",duration:""},negative:{event_name:"",effect:"",duration:""}}},{business_id:"BIZ_25_APP",name:"App Developer",category:"Digital & Tech",game_type:"clicker_idle",description:"Tap to write code! Fix bugs and launch features to gain users.",visual_config:{theme:"dark",colors:{primary:"#3B82F6",secondary:"#1E3A8A",accent:"#10B981",background:"#0F172A"},icon:""},game_mechanics:{click_value:1,auto_click_rate:0},entities:[{id:"bug",type:"obstacle",name:"Bug",emoji:"",value:-10},{id:"feature",type:"target",name:"Feature",emoji:"",value:50}],upgrade_tree:[{id:"upgrade_laptop",name:"Dual Monitors",effect:"Click value +5",cost:100,modifier_target:"click_value",modifier_value:5},{id:"upgrade_server",name:"Cloud Scaling",effect:"Auto-code +2/sec",cost:500,modifier_target:"auto_click_rate",modifier_value:2},{id:"upgrade_ai",name:"AI Assistant",effect:"Auto-code +10/sec",cost:1500,modifier_target:"auto_click_rate",modifier_value:10}],event_triggers:{positive:{event_name:"Featured by Store",effect:"Downloads x2 for 10s",duration:"10s"},negative:{event_name:"Server Crash",effect:"Production halted",duration:"5s"}}},{business_id:"BIZ_26_CYBER",name:"Cyber Defense",category:"Digital & Tech",game_type:"clicker_idle",description:"Block hackers! Tap rapidly to build firewalls.",visual_config:{theme:"neon",colors:{primary:"#10B981",secondary:"#059669",accent:"#34D399",background:"#022C22"},icon:""},game_mechanics:{click_value:10,auto_click_rate:2},upgrade_tree:[],event_triggers:{positive:{event_name:"",effect:"",duration:""},negative:{event_name:"",effect:"",duration:""}}},{business_id:"BIZ_27_YOUTUBE",name:"Content Creator",category:"Digital & Tech",game_type:"simulation_tycoon",description:"Record videos, edit, and upload. Gain subscribers!",visual_config:{theme:"light",colors:{primary:"#EF4444",secondary:"#B91C1C",accent:"#FCA5A5",background:"#FFF1F2"},icon:""},variables:{resources:["energy","ideas","storage"],dynamic_factors:["viral_chance","burnout"],player_inputs:["video_length","editing_quality","clickbait_level"]},upgrade_tree:[{id:"up_camera",name:"4K Camera",effect:"Quality maxed",cost:500},{id:"up_editor",name:"Editor Hire",effect:"Speed +50%",cost:300}],event_triggers:{positive:{event_name:"Viral Hit",effect:"Views x10",duration:"1d"},negative:{event_name:"Internet Down",effect:"No uploads",duration:"1d"}}},{business_id:"BIZ_28_SPACE",name:"Mars Colony Supply",category:"Digital & Tech",game_type:"simulation_tycoon",description:"Manage oxygen and food for the colony.",visual_config:{theme:"dark",colors:{primary:"#EA580C",secondary:"#9A3412",accent:"#FDBA74",background:"#431407"},icon:""},variables:{resources:["oxygen","water","potatoes"],dynamic_factors:["radiation","morale"],player_inputs:["ration_size","work_shift","recycling_rate"]},upgrade_tree:[],event_triggers:{positive:{event_name:"",effect:"",duration:""},negative:{event_name:"",effect:"",duration:""}}},{business_id:"BIZ_29_RECYCLE",name:"Recycling Center",category:"Social Impact",game_type:"sorting_game",description:"Sort incoming trash into the correct bins. Don't let plastic go into paper!",visual_config:{theme:"eco",colors:{primary:"#22C55E",secondary:"#15803D",accent:"#EAB308",background:"#F0FDF4"},icon:""},game_mechanics:{spawn_rate:2e3,lanes:3},entities:[{id:"paper",type:"item",name:"Paper",emoji:"",behavior:"fall"},{id:"plastic",type:"item",name:"Plastic",emoji:"",behavior:"fall"},{id:"glass",type:"item",name:"Glass",emoji:"",behavior:"fall"}],upgrade_tree:[{id:"upgrade_belt",name:"Fast Belt",effect:"Spawn rate +20%",cost:200},{id:"upgrade_scanner",name:"Auto-Sorter",effect:"Auto-sorts 10% of trash",cost:500}],event_triggers:{positive:{event_name:"City Grant",effect:"Bonus Points",duration:"instant"},negative:{event_name:"Jam",effect:"Belt stops",duration:"5s"}}},{business_id:"BIZ_30_FAIRTRADE",name:"Fair Trade Market",category:"Social Impact",game_type:"simulation_tycoon",description:"Sell ethically sourced goods. Happiness > Profit.",visual_config:{theme:"eco",colors:{primary:"#15803D",secondary:"#14532D",accent:"#86EFAC",background:"#ECFDF5"},icon:""},variables:{resources:["cocoa","cotton","coffee"],dynamic_factors:["farmer_trust","customer_loyalty"],player_inputs:["farmer_pay","price_markup","community_donation"]},upgrade_tree:[],event_triggers:{positive:{event_name:"",effect:"",duration:""},negative:{event_name:"",effect:"",duration:""}}},{business_id:"BIZ_32_BIKE",name:"Bike Repair",category:"Social Impact",game_type:"matching_game",description:"Fix bikes to encourage green transport!",visual_config:{theme:"eco",colors:{primary:"#0D9488",secondary:"#0F766E",accent:"#5EEAD4",background:"#F0FDFA"},icon:""},entities:[{id:"wheel",type:"resource",name:"Wheel",emoji:""},{id:"chain",type:"resource",name:"Chain",emoji:""},{id:"pedal",type:"resource",name:"Pedal",emoji:""}],upgrade_tree:[],event_triggers:{positive:{event_name:"",effect:"",duration:""},negative:{event_name:"",effect:"",duration:""}}},{business_id:"BIZ_NEGOTIATION",name:"Negotiation Battle",category:"Tycoon Exclusive",game_type:"negotiation_game",description:"Master the art of the deal. Face tough suppliers and win.",visual_config:{theme:"dark",colors:{primary:"#EAB308",secondary:"#A16207",accent:"#1E293B",background:"#0F172A"},icon:""},upgrade_tree:[],variables:{resources:[],dynamic_factors:[],player_inputs:[]},event_triggers:{positive:{event_name:"",effect:"",duration:""},negative:{event_name:"",effect:"",duration:""}}}],hD=[{id:"think-and-grow-rich",title:"Think and Grow Rich",author:"Napoleon Hill",coverUrl:"/images/books/think-grow-rich.jpg",summary:"Imagine your brain is a magnet. If you think about success hard enough and have a plan, you attract it! It's like visualizing winning a video game level before you even pick up the controller.",category:"Mindset",keyLessons:["You need a 'Burning Desire' to win.","Believe you can do it, even when it's hard.","Don't quit three feet from the gold."],ageRating:"10+"},{id:"mindset-success",title:"Mindset: The New Psychology of Success",author:"Carol Dweck",coverUrl:"/images/books/mindset.jpg",summary:"Some people think you are born smart (Fixed Mindset). Others know your brain is like a muscle that grows when you try hard things (Growth Mindset). This book teaches you how to level up your brain power!",category:"Mindset",keyLessons:["Talent is just a starting point.","Failure is just information on how to get better.","The word 'Yet' is magical (I can't do it... YET)."],ageRating:"10+"},{id:"7-habits",title:"The 7 Habits of Highly Effective People",author:"Stephen Covey",coverUrl:"/images/books/7-habits.jpg",summary:"This is like a cheat code for life. It gives you 7 rules to be awesome at everything, from school projects to running a lemonade stand. It teaches you to be the captain of your own ship.",category:"Mindset",keyLessons:["Be Proactive: You are in charge of you.","Begin with the End in Mind: Have a plan.","Put First Things First: Do homework before video games."],ageRating:"12+"},{id:"atomic-habits",title:"Atomic Habits",author:"James Clear",coverUrl:"/images/books/atomic-habits.jpg",summary:"Imagine getting 1% better every day. By the end of the year, you'd be 37 times better! This book shows how tiny changes (atoms) can build huge results (explosions of success).",category:"Mindset",keyLessons:["Small habits add up to big results.","Focus on who you want to be, not just what you want.","Make good habits easy and bad habits hard."],ageRating:"12+"},{id:"how-to-win-friends",title:"How to Win Friends and Influence People",author:"Dale Carnegie",coverUrl:"/images/books/win-friends.jpg",summary:"The ultimate guide to being popular and liked. It teaches you that the sweetest sound to anyone is their own name, and that listening is a superpower. Use this to build a huge team for your business!",category:"Mindset",keyLessons:["Smile! It's free and powerful.","Remember people's names.","Talk about what the other person is interested in."],ageRating:"10+"},{id:"start-with-why",title:"Start with Why",author:"Simon Sinek",coverUrl:"/images/books/start-with-why.jpg",summary:"People don't buy WHAT you do; they buy WHY you do it. Martin Luther King Jr. didn't have a 'I have a plan' speech, he had an 'I have a dream' speech. Find your purpose!",category:"Mindset",keyLessons:["Know why you are doing something.","Inspire people, don't just boss them around.","Great leaders start with a belief."],ageRating:"12+"},{id:"grit",title:"Grit",author:"Angela Duckworth",coverUrl:"/images/books/grit.jpg",summary:"Talent is overrated. What really matters is 'Grit'which is passion plus perseverance. It means falling down, scraping your knee, and getting back up to finish the race.",category:"Mindset",keyLessons:["Effort counts twice as much as talent.","Don't give up when things get messy.","Stick to your goals for a long time."],ageRating:"10+"},{id:"zero-to-one",title:"Zero to One",author:"Peter Thiel",coverUrl:"/images/books/zero-to-one.jpg",summary:"Copying people takes you from 1 to n. Inventing something new takes you from 0 to 1. Don't open the 10th pizza shop in town; invent a flying pizza drone! Be unique.",category:"Strategy",keyLessons:["Competition is for losers; try to be unique.","Technology matters more than globalization.","Secrets are hidden in plain sight."],ageRating:"14+"},{id:"blue-ocean-strategy",title:"Blue Ocean Strategy",author:"W. Chan Kim",coverUrl:"/images/books/blue-ocean.jpg",summary:"Imagine an ocean full of sharks fighting over food (Red Ocean). Don't swim there! Go find a Blue Ocean where the water is clear and there is no competition. Create a new game that only you can win.",category:"Strategy",keyLessons:["Don't beat the competition; make them irrelevant.","Create new demand instead of fighting for old demand.","Be different and lower costs at the same time."],ageRating:"12+"},{id:"the-lean-startup",title:"The Lean Startup",author:"Eric Ries",coverUrl:"/images/books/lean-startup.jpg",summary:"Don't build a giant castle before you know if people want to live in it. Build a tiny shed first! This book teaches you to build a 'Minimum Viable Product' to test your ideas fast without wasting coins.",category:"Strategy",keyLessons:["Build, Measure, Learn.","Don't waste time on things nobody wants.","Fail fast so you can succeed sooner."],ageRating:"12+"},{id:"hooked",title:"Hooked",author:"Nir Eyal",coverUrl:"/images/books/hooked.jpg",summary:"Ever wonder why you can't put down a video game or TikTok? It's designed that way! This book explains the 'Hook Model'Trigger, Action, Reward, Investment. Use it to build good habits or great products.",category:"Strategy",keyLessons:["Products need a 'Trigger' to start a habit.","Variable Rewards (surprises) make things addicting.","If users invest time, they won't leave."],ageRating:"12+"},{id:"contagious",title:"Contagious",author:"Jonah Berger",coverUrl:"/images/books/contagious.jpg",summary:"Why do some videos go viral and others get zero views? It's not luck! It's science. People share things that make them look cool, evoke emotion, or tell a story. Learn the secret sauce of popularity.",category:"Strategy",keyLessons:["Social Currency: We share what makes us look good.","Triggers: Keep your product top-of-mind.","Stories: People remember stories, not facts."],ageRating:"12+"},{id:"purple-cow",title:"Purple Cow",author:"Seth Godin",coverUrl:"/images/books/purple-cow.jpg",summary:"If you drive past a field of brown cows, you stop looking. But if you saw a PURPLE cow? You'd take a picture! In business, you have to be remarkable (worth making a remark about) or you are invisible.",category:"Strategy",keyLessons:["Being boring is risky.","Safe is dangerous.","Design your product to be worth talking about."],ageRating:"10+"},{id:"good-to-great",title:"Good to Great",author:"Jim Collins",coverUrl:"/images/books/good-to-great.jpg",category:"Strategy",ageRating:"12+",summary:"Why are some companies just okay, while others become super awesome? It's about getting the right people on the bus (your team) and finding what you can be the best in the world at. Be a hedgehog, not a fox!",keyLessons:["First Who, Then What (Team first).","Confront the brutal facts but keep faith.","The Hedgehog Concept: Do one thing perfectly."]},{id:"built-to-last",title:"Built to Last",author:"Jim Collins",coverUrl:"/images/books/built-to-last.jpg",category:"Strategy",ageRating:"12+",summary:"Some companies live for 100 years! How? They have core values that never change, but they are always trying new stuff. It's like having a strong skeleton but changing your outfit every day.",keyLessons:["Clock Building, not Time Telling.","Preserve the Core, Stimulate Progress.","Try lots of stuff and keep what works."]},{id:"crossing-the-chasm",title:"Crossing the Chasm",author:"Geoffrey Moore",coverUrl:"/images/books/crossing-the-chasm.jpg",category:"Strategy",ageRating:"12+",summary:"Selling a new tech toy to your nerdy friend is easy. Selling it to your grandma is hard! There is a big gap (chasm) between cool kids and normal people. You have to jump over it to win.",keyLessons:["Focus on one specific group of people first.","Make the product easy for normal people.","Don't try to sell to everyone at once."]},{id:"innovators-dilemma",title:"The Innovators Dilemma",author:"Clayton Christensen",coverUrl:"/images/books/innovators-dilemma.jpg",category:"Strategy",ageRating:"12+",summary:"Big companies sometimes fail because they do everything right! They listen to customers too much and miss the new, weird inventions. Don't be afraid to break your own toys to build better ones.",keyLessons:["Doing the right thing can be wrong sometimes.","Watch out for small, cheap inventions.","Disrupt yourself before someone else does."]},{id:"business-model-generation",title:"Business Model Generation",author:"Alexander Osterwalder",coverUrl:"/images/books/business-model-generation.jpg",category:"Strategy",ageRating:"12+",summary:"A business plan on one sheet of paper! It's like a coloring book for business. You draw boxes for 'Who buys this?', 'How do I make money?', and 'What do I need?'.",keyLessons:["Visualize your business on one page.","Connect the dots between customers and money.","Keep it simple and flexible."]},{id:"sprint",title:"Sprint",author:"Jake Knapp",coverUrl:"/images/books/sprint.jpg",category:"Strategy",ageRating:"12+",summary:"Solve big problems in just 5 days! It's a recipe: Monday map it out, Tuesday sketch, Wednesday decide, Thursday build, Friday test. No more endless meetings!",keyLessons:["Focus on one big problem at a time.","Build a prototype fast (fake it till you make it).","Test with real humans immediately."]},{id:"traction",title:"Traction",author:"Gabriel Weinberg",coverUrl:"/images/books/traction.jpg",category:"Strategy",ageRating:"12+",summary:"Building a cool toy is only half the battle. You need 'Traction' (people actually wanting it). This book gives you 19 channels to find customers, like blogs, ads, or speaking at school!",keyLessons:["Spend 50% time building, 50% time selling.","Test different ways to find customers.","Focus on the one channel that works best."]},{id:"100-startup",title:"The $100 Startup",author:"Chris Guillebeau",coverUrl:"/images/books/100-startup.jpg",category:"Strategy",ageRating:"12+",summary:"You don't need a million dollars to start a business. You just need $100 and a skill! Sell your drawings, walk dogs, or teach a language. Action is better than planning.",keyLessons:["Passion + Skill + Usefulness = Money.","Give people what they want, not what you think they want.","Start small and start now."]},{id:"running-lean",title:"Running Lean",author:"Ash Maurya",coverUrl:"/images/books/running-lean.jpg",category:"Strategy",ageRating:"12+",summary:"Don't write a 50-page plan that nobody reads. Create a 'Lean Canvas'. It's a faster way to plan your lemonade stand. Focus on the problem you are solving, not just the solution.",keyLessons:["Life is too short to build something nobody wants.","Love the problem, not your solution.","Test your plan like a science experiment."]},{id:"playing-to-win",title:"Playing to Win",author:"A.G. Lafley",coverUrl:"/images/books/playing-to-win.jpg",category:"Strategy",ageRating:"12+",summary:"Strategy is just 5 choices: What is our winning aspiration? Where will we play? How will we win? What capabilities do we need? What systems do we need? If you can answer these, you win!",keyLessons:["You have to choose to win, not just play.","Decide where you WON'T play.","Strategy is about making hard choices."]},{id:"measure-what-matters",title:"Measure What Matters",author:"John Doerr",coverUrl:"/images/books/measure-what-matters.jpg",category:"Strategy",ageRating:"12+",summary:"Google uses a secret system called OKRs (Objectives and Key Results). Objective: 'Be the best lemonade stand'. Key Result: 'Sell 50 cups by Friday'. It turns big dreams into numbers.",keyLessons:["Ideas are easy. Execution is everything.","Set goals that are specific and measurable.","Stretch for goals that seem a little impossible."]},{id:"made-to-stick",title:"Made to Stick",author:"Chip Heath",coverUrl:"/images/books/made-to-stick.jpg",category:"Strategy",ageRating:"12+",summary:"Why do you remember urban legends but forget history class? Sticky ideas are Simple, Unexpected, Concrete, Credible, Emotional, and Stories (SUCCES). Use this to make people remember your brand.",keyLessons:["Keep it simple (Commander's Intent).","Surprise people to get attention.","Tell stories, don't just list facts."]},{id:"dotcom-secrets",title:"Dotcom Secrets",author:"Russell Brunson",coverUrl:"/images/books/dotcom-secrets.jpg",category:"Strategy",ageRating:"12+",summary:"The internet is a giant funnel. You put people in the top (visitors) and customers come out the bottom. This book teaches you how to build the slides and ladders to move them down.",keyLessons:["Find your dream customer.","Create a 'Value Ladder' (offer more value, charge more).","Tell stories to sell your stuff."]},{id:"influence",title:"Influence",author:"Robert Cialdini",coverUrl:"/images/books/influence.jpg",category:"Strategy",ageRating:"12+",summary:"People are programmed to say yes if you use the right triggers. Reciprocity (give to get), Scarcity (only 1 left!), and Authority (listen to the expert). Use these powers for good!",keyLessons:["Give something first to get something back.","People want what they can't have.","People follow the crowd (Social Proof)."]},{id:"leaders-eat-last",title:"Leaders Eat Last",author:"Simon Sinek",coverUrl:"/images/books/leaders-eat-last.jpg",category:"Strategy",ageRating:"12+",summary:"In the military, officers eat after the soldiers. Why? Because leaders take care of their team first. If your team feels safe, they will work hard for you. Don't be a selfish boss!",keyLessons:["Create a Circle of Safety.","Protect your team from danger.","Sacrifice your comfort for their success."]},{id:"rework",title:"Rework",author:"Jason Fried",coverUrl:"/images/books/rework.jpg",category:"Strategy",ageRating:"12+",summary:"Ignore the real world. Meetings are toxic. Planning is guessing. This book breaks all the rules! It says you don't need an office or a suit to build a huge business.",keyLessons:["ASAP is poison.","Meetings kill productivity.","Build less, but build it really well."]},{id:"e-myth-revisited",title:"The E-Myth Revisited",author:"Michael Gerber",coverUrl:"/images/books/e-myth-revisited.jpg",category:"Strategy",ageRating:"12+",summary:"If you bake great pies, don't open a bakery to bake pies. Open a bakery to RUN a pie business. Work ON your business, not IN your business. Build a system so anyone can bake the pies.",keyLessons:["Build a franchise prototype (systems).","Don't just do the technical work.","Make your business work without you."]},{id:"this-is-marketing",title:"This Is Marketing",author:"Seth Godin",coverUrl:"/images/books/this-is-marketing.jpg",category:"Strategy",ageRating:"12+",summary:"Marketing isn't using tricks to sell junk. It's the generous act of helping someone solve a problem. Don't find customers for your product; find a product for your customers.",keyLessons:["People like us do things like this.","Marketing is about change.","Empathy is the best marketing tool."]},{id:"building-a-storybrand",title:"Building a StoryBrand",author:"Donald Miller",coverUrl:"/images/books/building-a-storybrand.jpg",category:"Strategy",ageRating:"12+",summary:"Your customer is the Hero (like Luke Skywalker). You are the Guide (like Yoda). Don't be the hero of your own website! Show how you help them win the day and defeat the villain.",keyLessons:["Clarify your message so people listen.","You are the guide, not the hero.","Give them a plan to succeed."]},{id:"traffic-secrets",title:"Traffic Secrets",author:"Russell Brunson",coverUrl:"/images/books/traffic-secrets.jpg",category:"Strategy",ageRating:"12+",summary:"Your dream customers are already hanging out somewhere online. Go find them! This book teaches you how to get people to come to your website without spending a billion dollars on ads.",keyLessons:["Find out where your 'Dream 100' hang out.","Work your way in or buy your way in.","Own your traffic (email list)."]},{id:"rich-dad-poor-dad",title:"Rich Dad Poor Dad",author:"Robert Kiyosaki",coverUrl:"/images/books/rich-dad.jpg",summary:"This book tells the story of two dads. One worked hard for money, and the other made money work for him. It teaches you that buying cool stuff (liabilities) takes money away, but buying businesses (assets) puts money in your pocket!",category:"Finance",keyLessons:["The rich don't work for money; money works for them.","Assets put money in your pocket.","Liabilities take money out of your pocket."],ageRating:"10+"},{id:"richest-man-in-babylon",title:"The Richest Man in Babylon",author:"George S. Clason",coverUrl:"/images/books/richest-man.jpg",summary:"Set in ancient times with camels and gold coins, this book teaches the golden rule of wealth: 'A part of all you earn is yours to keep.' Save 10% of every dollar you get, no matter what!",category:"Finance",keyLessons:["Pay yourself first (save 10%).","Control your spending (expenses).","Make your gold multiply (investing)."],ageRating:"10+"},{id:"psychology-of-money",title:"The Psychology of Money",author:"Morgan Housel",coverUrl:"/images/books/psychology-money.jpg",summary:"Doing well with money isn't about being a math wizard; it's about how you behave. It teaches that getting rich is hard, but staying rich is even harder because you have to control your ego.",category:"Finance",keyLessons:["Survival is more important than big returns.","Knowing when you have 'enough' is a superpower.","Saving money gives you freedom."],ageRating:"12+"},{id:"i-will-teach-you-to-be-rich",title:"I Will Teach You to Be Rich",author:"Ramit Sethi",coverUrl:"/images/books/i-will-teach.jpg",summary:"Forget skipping lattes! This book teaches you to spend extravagantly on the things you love (like video games) as long as you cut costs mercilessly on the things you don't.",category:"Finance",keyLessons:["Automate your savings and bills.","Start investing early (right now!).","Spend money on what makes you happy."],ageRating:"12+"},{id:"profit-first",title:"Profit First",author:"Mike Michalowicz",coverUrl:"/images/books/profit-first.jpg",summary:"Most people pay bills first and save what is left (which is usually zero). This book flips it! Take your profit out of the register FIRST, then use the leftovers to pay bills. It forces you to be smart.",category:"Finance",keyLessons:["Take your profit first, not last.","Use different bank accounts (plates) for different money.","Remove temptation by hiding your profit."],ageRating:"12+"},{id:"automatic-millionaire",title:"The Automatic Millionaire",author:"David Bach",coverUrl:"/images/books/automatic-millionaire.jpg",summary:"You don't need willpower to save money. You need a robot! Set up your bank account to automatically move money to savings the second you get it. You'll get rich without even thinking about it.",category:"Finance",keyLessons:["The 'Latte Factor': small daily spends add up.","Make saving automatic so you can't say no.","Rich people automate their financial lives."],ageRating:"12+"},{id:"magic-of-thinking-big",title:"The Magic of Thinking Big",author:"David J. Schwartz",coverUrl:"/images/books/magic-of-thinking-big.jpg",category:"Mindset",ageRating:"12+",summary:"If you think small, you get small results. If you think BIG, you get big results! Your brain tries to prove you right, so give it a big goal to chase. Belief triggers the power to do.",keyLessons:["Believe you can succeed and you will.","Cure yourself of excusitis (making excuses).","Think and dream creatively."]},{id:"power-of-positive-thinking",title:"The Power of Positive Thinking",author:"Norman Vincent Peale",coverUrl:"/images/books/power-of-positive-thinking.jpg",category:"Mindset",ageRating:"12+",summary:"Your attitude determines your altitude. If you expect the best, good things happen. It's like wearing magic glasses that help you see opportunities instead of problems.",keyLessons:["Picture yourself succeeding.","Don't worry, pray (or meditate).","Believe in yourself."]},{id:"thinking-fast-and-slow",title:"Thinking, Fast and Slow",author:"Daniel Kahneman",coverUrl:"/images/books/thinking-fast-and-slow.jpg",category:"Mindset",ageRating:"14+",summary:"You have two brains! System 1 is fast and emotional (like a ninja). System 2 is slow and logical (like a professor). Learn when to trust your gut and when to stop and do the math.",keyLessons:["Your brain loves shortcuts (sometimes wrong ones).","Don't always trust your first thought.","Slow down for big decisions."]},{id:"4-hour-workweek",title:"The 4-Hour Workweek",author:"Tim Ferriss",coverUrl:"/images/books/4-hour-workweek.jpg",category:"Mindset",ageRating:"12+",summary:"Why wait until you're old to retire? Design a life where you work smart, not just hard. Use automation and assistants to do the boring stuff so you can travel the world now!",keyLessons:["DEAL: Definition, Elimination, Automation, Liberation.","Being busy is not the same as being productive.","Focus on the 20% of work that gives 80% of results."]},{id:"quiet",title:"Quiet",author:"Susan Cain",coverUrl:"/images/books/quiet.jpg",category:"Mindset",ageRating:"12+",summary:"You don't have to be loud to be a leader. Introverts (quiet people) have superpowers too! They are great listeners and deep thinkers. The world needs both loud and quiet people.",keyLessons:["There is power in silence.","Solitude is a catalyst for innovation.","You don't have to shout to be heard."]},{id:"originals",title:"Originals",author:"Adam Grant",coverUrl:"/images/books/originals.jpg",category:"Mindset",ageRating:"12+",summary:"How do you come up with new ideas? By being an 'Original'. It's okay to procrastinate a little (it helps creativity!) and it's okay to be afraid. Challenge the rules!",keyLessons:["Question the default.","Quantity leads to quality (have lots of ideas!).","Procrastination can help creativity."]},{id:"ego-is-the-enemy",title:"Ego Is the Enemy",author:"Ryan Holiday",coverUrl:"/images/books/ego-is-the-enemy.jpg",category:"Mindset",ageRating:"12+",summary:"Your biggest enemy isn't the competition; it's your own pride! Staying humble helps you learn. When you win, stay sober. When you lose, don't give up. Don't let your head get too big.",keyLessons:["Be humble in your aspirations.","Gracious in your success.","Resilient in your failure."]},{id:"obstacle-is-the-way",title:"The Obstacle Is the Way",author:"Ryan Holiday",coverUrl:"/images/books/obstacle-is-the-way.jpg",category:"Mindset",ageRating:"12+",summary:"When a rock blocks the road, don't cry. Climb over it! The problem isn't bad; it's a chance to get stronger. Ancient stoics knew that challenges are just training for your brain.",keyLessons:["Turn trials into triumph.","Don't panic; perceive clearly.","Action solves problems."]},{id:"who-moved-my-cheese",title:"Who Moved My Cheese?",author:"Spencer Johnson",coverUrl:"/images/books/who-moved-my-cheese.jpg",category:"Mindset",ageRating:"10+",summary:"Two mice and two little people live in a maze. The cheese moves! The mice adapt instantly, but the people complain. Change happens. Adapt fast and enjoy the new cheese!",keyLessons:["Change happens; expect it.","Adapt to change quickly.","Enjoy the adventure of finding new cheese."]},{id:"5-am-club",title:"The 5 AM Club",author:"Robin Sharma",coverUrl:"/images/books/5-am-club.jpg",category:"Mindset",ageRating:"12+",summary:"Own your morning, elevate your life. Waking up early gives you a 'Victory Hour' to exercise, plan, and learn while everyone else is sleeping. It's the secret weapon of billionaires.",keyLessons:["The 20/20/20 Rule: Move, Reflect, Grow.","Consistency is the DNA of mastery.","Small daily wins lead to giant results."]},{id:"deep-work",title:"Deep Work",author:"Cal Newport",coverUrl:"/images/books/deep-work.jpg",category:"Mindset",ageRating:"12+",summary:"Focus is a superpower in a distracted world. 'Deep Work' is working on a hard problem without checking your phone for hours. It produces valuable things that are hard to copy.",keyLessons:["Distraction is the enemy of depth.","Work hard, then rest fully.","Quit social media (or use it less)."]},{id:"digital-minimalism",title:"Digital Minimalism",author:"Cal Newport",coverUrl:"/images/books/digital-minimalism.jpg",category:"Mindset",ageRating:"12+",summary:"Your phone is a tool, not a master. Clear the clutter of apps and notifications so you can enjoy real life. Be intentional with technology instead of letting it use you.",keyLessons:["Use technology to support your values.","Spend time alone without a screen.","Don't click 'Like', go say 'Hi'."]},{id:"essentialism",title:"Essentialism",author:"Greg McKeown",coverUrl:"/images/books/essentialism.jpg",category:"Mindset",ageRating:"12+",summary:"Less but better. You can't do everything, so you must choose the few things that really matter. Learn to say 'No' to almost everything so you can say 'Yes' to the right things.",keyLessons:["If it isn't a clear Yes, it's a No.","Focus on the vital few, not the trivial many.","Protect your time."]},{id:"cant-hurt-me",title:"Can't Hurt Me",author:"David Goggins",coverUrl:"/images/books/cant-hurt-me.jpg",category:"Mindset",ageRating:"14+",summary:"David Goggins is the toughest man alive. He went from depressed to a Navy SEAL by callousing his mind. He teaches the 40% rule: when you think you're done, you're only 40% done!",keyLessons:["Callous your mind by doing hard things.","The 40% Rule: You have more in the tank.","Don't be a victim of your circumstances."]},{id:"extreme-ownership",title:"Extreme Ownership",author:"Jocko Willink",coverUrl:"/images/books/extreme-ownership.jpg",category:"Mindset",ageRating:"12+",summary:"There are no bad teams, only bad leaders. If something goes wrong, it's YOUR fault. Taking total responsibility (Extreme Ownership) gives you the power to fix it.",keyLessons:["Don't blame others; look in the mirror.","Discipline equals freedom.","Keep it simple."]},{id:"awaken-the-giant-within",title:"Awaken the Giant Within",author:"Tony Robbins",coverUrl:"/images/books/awaken-the-giant-within.jpg",category:"Mindset",ageRating:"12+",summary:"You have a sleeping giant inside you! Wake it up by controlling your emotions, your body, and your finances. Change your words to change your life. 'I am unstoppable!'",keyLessons:["Raise your standards.","Change your limiting beliefs.","Decisions shape your destiny."]},{id:"limitless",title:"Limitless",author:"Jim Kwik",coverUrl:"/images/books/limitless.jpg",category:"Mindset",ageRating:"10+",summary:"Your brain is a supercomputer. You can learn faster, remember more, and read quicker. This book teaches you how to unlimit your brain by fixing your mindset, motivation, and methods.",keyLessons:["Your brain is like a muscle.","FAST: Forget, Active, State, Teach.","Questions are the answer."]},{id:"make-your-bed",title:"Make Your Bed",author:"William H. McRaven",coverUrl:"/images/books/make-your-bed.jpg",category:"Mindset",ageRating:"10+",summary:"If you want to change the world, start by making your bed. It's a small win that starts your day right. This Navy SEAL shares lessons on courage, hardship, and never ringing the bell (quitting).",keyLessons:["Start the day with a completed task.","You can't go it alone.","Never, ever quit."]},{id:"switch",title:"Switch",author:"Chip Heath",coverUrl:"https://placehold.co/400x600?text=Mindset",category:"Mindset",ageRating:"12+",summary:"Change is hard because your logical brain (Rider) fights your emotional brain (Elephant). To change things, you must direct the Rider, motivate the Elephant, and shape the Path.",keyLessons:["Find the bright spots (what's working).","Shrink the change (make it small).","Tweak the environment."]},{id:"compound-effect",title:"The Compound Effect",author:"Darren Hardy",coverUrl:"https://placehold.co/400x600?text=Mindset",category:"Mindset",ageRating:"12+",summary:"Success isn't magic; it's small smart choices made consistently over time. A penny doubled every day becomes millions. Bad habits compound too, so watch out!",keyLessons:["Small choices + Consistency + Time = Radical Difference.","Take 100% responsibility.","Track every action to improve it."]},{id:"shoe-dog",title:"Shoe Dog",author:"Phil Knight",coverUrl:"https://m.media-amazon.com/images/I/612c1K-qyuL._SL1500_.jpg",summary:"The creator of Nike didn't start with a big factory. He started selling shoes out of the trunk of his car! It's a messy, crazy adventure about believing in your 'Crazy Idea' when everyone else thinks you are nuts.",category:"Biography",keyLessons:["Don't stop. Keep going until you get there.","Business is war without bullets.","Believe in your product even if others don't."],ageRating:"12+"},{id:"steve-jobs",title:"Steve Jobs",author:"Walter Isaacson",coverUrl:"https://m.media-amazon.com/images/I/71sV+r3+nRL._SL1500_.jpg",summary:"Steve Jobs was a wizard who wanted computers to be beautiful. He wasn't always nice, but he was a genius who focused on perfection. He taught us that design matters and that we should 'Think Different'.",category:"Biography",keyLessons:["Focus is about saying 'No'.","Simplicity is the ultimate sophistication.","Stay hungry, stay foolish."],ageRating:"12+"},{id:"elon-musk",title:"Elon Musk",author:"Walter Isaacson",coverUrl:"https://m.media-amazon.com/images/I/715s-tQ+j7L._SL1500_.jpg",summary:"The real-life Tony Stark. He builds electric cars (Tesla) and rockets (SpaceX). He learns by reading books and never accepts 'that's impossible' as an answer. He wants to save humanity!",category:"Biography",keyLessons:["First Principles thinking: Boil things down to truth.","Take big risks for big rewards.","Work super hard if you want to change the world."],ageRating:"12+"},{id:"creativity-inc",title:"Creativity, Inc.",author:"Ed Catmull",coverUrl:"https://m.media-amazon.com/images/I/71+2+1-XjJL._SL1500_.jpg",summary:"Written by the boss of Pixar. He explains how they made Toy Story and Finding Nemo. The secret? Trust your team and don't be afraid to make mistakes. 'Fail early and fail fast' to fix the movie before it's finished.",category:"Biography",keyLessons:["Give good notes (feedback) without being mean.","Hire people smarter than you.","Protect the 'Ugly Baby' ideas until they grow up."],ageRating:"12+"},{id:"made-in-america",title:"Made in America",author:"Sam Walton",coverUrl:"https://m.media-amazon.com/images/I/61-v-1-q+HL._SL1500_.jpg",summary:"The story of Walmart. Sam Walton loved flying his little plane over towns to find good spots for stores. He was obsessed with keeping prices low and treating customers like kings.",category:"Biography",keyLessons:["Swim upstream; go where others aren't.","Control your expenses better than your competition.","Listen to everyone in your company."],ageRating:"12+"},{id:"the-snowball",title:"The Snowball",author:"Alice Schroeder",coverUrl:"https://m.media-amazon.com/images/I/71D+1+q+HL._SL1500_.jpg",summary:"The life of Warren Buffett. He started by selling gum and collecting golf balls. He saved every penny and invested it. Like a snowball rolling down a hill, his money got bigger and bigger until he became the richest man on earth.",category:"Biography",keyLessons:["Reputation is everything.","Stick to what you know.","Compound interest is life's most powerful force."],ageRating:"12+"},{id:"titan",title:"Titan",author:"Ron Chernow",coverUrl:"https://m.media-amazon.com/images/I/81D+1+q+HL._SL1500_.jpg",summary:"John D. Rockefeller was the richest man in history. He organized the messy oil industry and created Standard Oil. He was strict and saved every penny, but gave millions to charity. A true business giant.",category:"Biography",keyLessons:["Efficiency wins.","Save and invest.","Give back to the world."],ageRating:"14+"},{id:"everything-store",title:"The Everything Store",author:"Brad Stone",coverUrl:"https://placehold.co/400x600?text=Legend",category:"Biography",ageRating:"12+",summary:"Jeff Bezos wanted to build a store that sold everything. He started with books in a garage. He was obsessed with customers and making things fast. Now Amazon is everywhere!",keyLessons:["Obsess over customers, not competitors.","Think long term.","It's always Day 1."]},{id:"losing-my-virginity",title:"Losing My Virginity",author:"Richard Branson",coverUrl:"https://placehold.co/400x600?text=Legend",category:"Biography",ageRating:"14+",summary:"Richard Branson is the fun billionaire. He started a record store, an airline, and even went to space! He proves that business can be an adventure and you should have fun doing it.",keyLessons:["Screw it, let's do it.","Have fun in your business.","Protect the downside."]},{id:"grinding-it-out",title:"Grinding It Out",author:"Ray Kroc",coverUrl:"https://placehold.co/400x600?text=Legend",category:"Biography",ageRating:"12+",summary:"Ray Kroc was 52 years old when he met the McDonald brothers. He wasn't a young genius; he was a grinder. He saw a great burger system and expanded it to the whole world.",keyLessons:["It's never too late to start.","Persistence is the key to success.","Cleanliness and quality matter."]},{id:"pour-your-heart-into-it",title:"Pour Your Heart Into It",author:"Howard Schultz",coverUrl:"https://placehold.co/400x600?text=Legend",category:"Biography",ageRating:"12+",summary:"Starbucks wasn't always big. Howard Schultz fell in love with coffee in Italy and wanted to bring that feeling to America. He built a company with heart that treats employees like partners.",keyLessons:["Build a company with soul.","Treat employees well.","Chase your vision even when others doubt it."]},{id:"delivering-happiness",title:"Delivering Happiness",author:"Tony Hsieh",coverUrl:"https://placehold.co/400x600?text=Legend",category:"Biography",ageRating:"12+",summary:"Zappos sold shoes online, but they were really selling happiness. Tony Hsieh paid people to quit if they weren't happy! He proved that company culture is the most important thing.",keyLessons:["Culture is everything.","Deliver WOW through service.","Be a little weird."]},{id:"bad-blood",title:"Bad Blood",author:"John Carreyrou",coverUrl:"https://placehold.co/400x600?text=Legend",category:"Biography",ageRating:"14+",summary:"A spooky true story about a company called Theranos. They promised a magic blood test but it was all a lie! It teaches us that integrity is more important than fame or money.",keyLessons:["Don't lie to succeed.","Science is real, you can't fake it.","Integrity matters most."]},{id:"alibaba",title:"Alibaba",author:"Duncan Clark",coverUrl:"https://placehold.co/400x600?text=Legend",category:"Biography",ageRating:"12+",summary:"Jack Ma was a teacher who failed many times. He couldn't even get a job at KFC! But he saw the internet coming and built Alibaba, the Amazon of China. He is a crocodile in the Yangtze!",keyLessons:["Never give up, even if you fail.","Customers first, employees second, shareholders third.","Think globally."]},{id:"disneys-land",title:"Disneys Land",author:"Richard Snow",coverUrl:"https://placehold.co/400x600?text=Legend",category:"Biography",ageRating:"10+",summary:"Walt Disney wanted to build a magical place where cartoons came to life. Everyone said it would fail. He risked everything to build Disneyland, the happiest place on earth.",keyLessons:["Dream big.","Focus on the details.","Create magic for others."]},{id:"wings-of-fire",title:"Wings of Fire",author:"A.P.J. Abdul Kalam",coverUrl:"https://placehold.co/400x600?text=Legend",category:"Biography",ageRating:"12+",summary:"The story of a boy from a small village who became a rocket scientist and the President of India! It shows that education and hard work can make you fly high.",keyLessons:["Dream, dream, dream.","Knowledge is power.","Be simple and humble."]},{id:"open",title:"Open",author:"Andre Agassi",coverUrl:"https://placehold.co/400x600?text=Legend",category:"Biography",ageRating:"14+",summary:"Andre Agassi was a tennis superstar, but he secretly hated tennis! This honest book talks about the pressure of being famous and finding what you actually love in life.",keyLessons:["Be honest with yourself.","Success doesn't always equal happiness.","Keep fighting (or playing)."]},{id:"becoming",title:"Becoming",author:"Michelle Obama",coverUrl:"https://placehold.co/400x600?text=Legend",category:"Biography",ageRating:"12+",summary:"From a regular girl in Chicago to the First Lady of the USA. Michelle Obama tells her story of working hard, finding her voice, and not being afraid to be smart.",keyLessons:["Your story is what you have.","Work hard and stay humble.","Go high when others go low."]},{id:"greenlights",title:"Greenlights",author:"Matthew McConaughey",coverUrl:"https://placehold.co/400x600?text=Legend",category:"Biography",ageRating:"14+",summary:"Life has red lights (stops) and green lights (go). Matthew McConaughey shares funny and wild stories about how he turned red lights into green lights by taking risks.",keyLessons:["Just keep livin'.","Turn bad luck into good luck.","Be the hero of your own movie."]},{id:"will",title:"Will",author:"Will Smith",coverUrl:"https://placehold.co/400x600?text=Legend",category:"Biography",ageRating:"14+",summary:"Will Smith became the biggest movie star in the world by working harder than everyone else. But he learned that being famous doesn't fix your fears. You have to face them.",keyLessons:["Lay one brick at a time perfectly.","Face your fears.","Love is the ultimate help."]},{id:"empire-state-of-mind",title:"Empire State of Mind",author:"Zack O'Malley Greenburg",coverUrl:"https://placehold.co/400x600?text=Legend",category:"Biography",ageRating:"12+",summary:"Jay-Z wasn't just a rapper; he was a business, man! He turned his music into a clothing line, a record label, and more. He teaches us to own what we create.",keyLessons:["I'm not a businessman; I'm a business, man!","Own your masters (your work).","Diversify your hustle."]},{id:"ride-of-a-lifetime",title:"The Ride of a Lifetime",author:"Robert Iger",coverUrl:"https://placehold.co/400x600?text=Legend",category:"Biography",ageRating:"12+",summary:"Bob Iger ran Disney. He bought Pixar, Marvel, and Star Wars! He teaches us how to be a calm, kind leader even when managing superheroes and stormtroopers.",keyLessons:["Optimism is essential.","Courage to make big bets.","Treat people decently."]},{id:"invent-and-wander",title:"Invent and Wander",author:"Jeff Bezos",coverUrl:"https://placehold.co/400x600?text=Legend",category:"Biography",ageRating:"12+",summary:"A collection of Jeff Bezos' letters. He explains how Amazon stays young by always inventing. He focuses on the customer, not the stock price, and thinks years into the future.",keyLessons:["Day 1 mentality.","Customer obsession.","Wander (explore) to invent."]},{id:"iacocca",title:"Iacocca",author:"Lee Iacocca",coverUrl:"https://placehold.co/400x600?text=Legend",category:"Biography",ageRating:"12+",summary:"Lee Iacocca saved Chrysler cars from going bankrupt. He was a master salesman who created the Ford Mustang. He teaches us that communication is everything.",keyLessons:["Apply yourself.","Communication is key.","If you can't sell, you can't lead."]},{id:"virgin-way",title:"The Virgin Way",author:"Richard Branson",coverUrl:"https://placehold.co/400x600?text=Legend",category:"Biography",ageRating:"12+",summary:"Richard Branson listens more than he talks. He carries a notebook everywhere. This book is about listening to your team and having fun while building an empire.",keyLessons:["Listen, learn, laugh, lead.","Follow your passion.","Take care of your people."]}],cD=window.AudioContext||window.webkitAudioContext;let _m=null;const md=()=>(_m||(_m=new cD),_m),Sr=(t,e,n,s=0)=>{const m=md();m.state==="suspended"&&m.resume();const w=m.createOscillator(),r=m.createGain();w.type=e,w.frequency.setValueAtTime(t,m.currentTime+s),r.gain.setValueAtTime(.1,m.currentTime+s),r.gain.exponentialRampToValueAtTime(.001,m.currentTime+s+n),w.connect(r),r.connect(m.destination),w.start(m.currentTime+s),w.stop(m.currentTime+s+n)},Dn={playClick:()=>{Sr(800,"sine",.05)},playHover:()=>{Sr(400,"triangle",.02)},playSuccess:()=>{md().currentTime,Sr(523.25,"sine",.1,0),Sr(659.25,"sine",.1,.1),Sr(783.99,"sine",.2,.2)},playError:()=>{md(),Sr(150,"sawtooth",.2),Sr(100,"sawtooth",.2,.1)},playCoin:()=>{md(),Sr(1200,"sine",.1),Sr(1600,"sine",.3,.05)},playLevelUp:()=>{md(),[523.25,659.25,783.99,1046.5].forEach((t,e)=>{Sr(t,"square",.1,e*.08)}),Sr(1046.5,"square",.4,.32)}},$g=[0,100,250,500,1e3,2e3,5e3],ap=50,DN=[{id:"intern",name:"Intern",price:0,interval:"mo",description:"For curious kids just starting out.",features:["Limited Energy","Standard Lessons","Ads"],color:"bg-white border-gray-200",buttonColor:"bg-gray-100 text-gray-600 hover:bg-gray-200",tier:"intern"},{id:"founder",name:"Founder",price:9.99,interval:"mo",description:"Serious about building an empire.",features:["Unlimited Energy","Offline Mode","Custom HQ"],color:"bg-blue-50 border-blue-200",buttonColor:"bg-blue-600 text-white hover:bg-blue-700",tier:"founder",recommended:!0},{id:"board",name:"Board Member",price:119,interval:"yr",description:"For the whole family.",features:["6 Family Accounts","Parent Dashboard","All Founder Perks"],color:"bg-purple-50 border-purple-200",buttonColor:"bg-purple-600 text-white hover:bg-purple-700",tier:"board"},{id:"tycoon",name:"Tycoon",price:169,interval:"yr",description:"The ultimate VIP experience.",features:["Ollie AI Consultant","Negotiation Battles","All Board Perks"],color:"bg-yellow-50 border-yellow-400 ring-4 ring-yellow-400/20",buttonColor:"bg-kid-primary text-yellow-900 hover:bg-yellow-400",tier:"tycoon"}],qg=[{id:"item_sunglasses",name:"Cool Shades",description:"Look like a boss.",cost:50,type:"AVATAR",icon:""},{id:"item_hat",name:"Top Hat",description:"Classy business attire.",cost:80,type:"AVATAR",icon:""},{id:"item_suit",name:"CEO Suit",description:"Dress for success.",cost:150,type:"AVATAR",icon:""},{id:"item_crown",name:"Royal Crown",description:"King of the market.",cost:500,type:"AVATAR",icon:""},{id:"item_cape",name:"Hero Cape",description:"Super CEO!",cost:300,type:"AVATAR",icon:""},{id:"item_monocle",name:"Fancy Monocle",description:"Very sophisticated.",cost:250,type:"AVATAR",icon:""},{id:"item_bow",name:"Bow Tie",description:"Dapper style.",cost:120,type:"AVATAR",icon:""},{id:"item_astro",name:"Astro Helmet",description:"To the moon!",cost:600,type:"AVATAR",icon:""},{id:"item_chef",name:"Chef Hat",description:"Cooking up profits.",cost:100,type:"AVATAR",icon:""},{id:"item_beret",name:"Artist Beret",description:"Creative genius.",cost:90,type:"AVATAR",icon:""},{id:"item_freeze",name:"Streak Freeze",description:"Miss a day without losing your streak!",cost:200,type:"POWERUP",icon:""},{id:"cons_consultant",name:"The Consultant",description:"Removes 2 wrong answers in a quiz.",cost:30,type:"CONSUMABLE",icon:"",effectType:"HINT"},{id:"cons_bailout",name:"Bailout Potion",description:"Continue a game after failing.",cost:50,type:"CONSUMABLE",icon:"",effectType:"SECOND_LIFE"},{id:"cons_boom",name:"Market Boom",description:"Double income for 15 mins.",cost:100,type:"CONSUMABLE",icon:"",effectType:"INCOME_BOOST"},{id:"cons_xp_small",name:"XP Snack",description:"+50 XP instantly.",cost:40,type:"CONSUMABLE",icon:"",effectType:"INCOME_BOOST"},{id:"cons_xp_large",name:"XP Feast",description:"+200 XP instantly.",cost:150,type:"CONSUMABLE",icon:"",effectType:"INCOME_BOOST"},{id:"cons_lucky",name:"Lucky Clover",description:"Better events for 1 day.",cost:75,type:"CONSUMABLE",icon:"",effectType:"INCOME_BOOST"}],yd=[{id:"hq_garage",name:"Messy Garage",cost:0,description:"Where every great idea starts.",icon:""},{id:"hq_office",name:"Shared Office",cost:5e3,description:"A proper desk and a coffee machine.",icon:""},{id:"hq_highrise",name:"High-Rise Floor",cost:5e4,description:"Glass windows with a city view.",icon:""},{id:"hq_island",name:"Private Island",cost:1e6,description:"The ultimate status symbol.",icon:""}],_g=[{id:"skl_silver_tongue",name:"Silver Tongue",category:"CHARISMA",description:"Customers pay 5% more.",cost:200,effect:{type:"PASSIVE_PRICE",value:.05}},{id:"skl_negotiator",name:"Negotiator",category:"CHARISMA",description:"Supplier costs reduced by 10%.",cost:500,effect:{type:"PASSIVE_COST",value:.1}},{id:"skl_famous",name:"Local Celebrity",category:"CHARISMA",description:"Can charge 15% more for everything.",cost:1500,effect:{type:"PASSIVE_PRICE",value:.15}},{id:"skl_fast_hands",name:"Fast Hands",category:"EFFICIENCY",description:"Click/Swipe actions are 10% faster.",cost:200,effect:{type:"ACTIVE_CLICK",value:.1}},{id:"skl_multitasker",name:"Multitasker",category:"EFFICIENCY",description:"Game timers run 15% slower.",cost:500,effect:{type:"PASSIVE_SPEED",value:.15}},{id:"skl_robotics",name:"Robotic Workers",category:"EFFICIENCY",description:"Operational costs reduced by 20%.",cost:1500,effect:{type:"PASSIVE_COST",value:.2}},{id:"skl_fast_learner",name:"Fast Learner",category:"WISDOM",description:"Earn +20% XP from lessons.",cost:300,effect:{type:"PASSIVE_XP",value:.2}},{id:"skl_tycoon",name:"Tycoon Mindset",category:"WISDOM",description:"Portfolio earns 10% more income.",cost:800,effect:{type:"PASSIVE_PRICE",value:.1}},{id:"skl_guru",name:"Business Guru",category:"WISDOM",description:"Earn +50% XP from everything.",cost:2e3,effect:{type:"PASSIVE_XP",value:.5}}],ON=[{id:"u1",name:"BizWhiz",xp:5200,avatar:""},{id:"u2",name:"RocketCEO",xp:4800,avatar:""},{id:"u3",name:"MoneyMaker",xp:3500,avatar:""},{id:"u4",name:"DiamondHands",xp:2100,avatar:""},{id:"kid_1",name:"Leo",xp:1250,avatar:"",isCurrentUser:!0}],P5=t=>{let e=1;for(let n=0;n<$g.length;n++)t>=$g[n]&&(e=n+1);return e},U5=()=>new Date().toISOString().split("T")[0],kN=()=>{const t=new Date;return t.setDate(t.getDate()-1),t.toISOString().split("T")[0]},HN={dailyGoalMinutes:15,soundEnabled:!0,musicEnabled:!0,themeColor:"green",themeMode:"light"},dD={landing:{heroTitle:`Don't just play games.
Build an Empire.`,heroSubtitle:"KidCap HQ turns screen time into real-world business skills. Learn finance, leadership, and marketing through addictive mini-games.",heroCta:"Play Now - It's Free!",heroImage:"/images/hero/hero.jpg",featuresTitle:"How KidCap Works",featuresSubtitle:"We use a simple loop to make learning sticky and addictive.",arcadeTitle:"Real Business Simulations",arcadeDesc:"Kids don't just read about business; they run them. Our simulation engine adapts to their skill level, teaching supply & demand, profit margins, and customer service in real-time.",ctaTitle:"Ready to launch your startup?",ctaSubtitle:"Join for free today. No credit card required.",extraSections:[]},features:{learningTitle:"Interactive Learning Engine",learningDesc:"Forget boring textbooks. Our curriculum is broken down into bite-sized, gamified lessons that cover everything from Bartering to Blockchain.",learningImage:"/images/features/learning.jpg",arcadeTitle:"Business Arcade",arcadeDesc:"Theory is good, practice is better. Kids run virtual companies, manage budgets, and react to market changes in real-time.",arcadeImage:"/images/features/arcade.jpg",progressionTitle:"RPG Progression",progressionDesc:"We use game mechanics to keep kids engaged. As they learn, they level up, earn badges, and upgrade their virtual headquarters.",progressionImage:"/images/features/progression.jpg",safetyTitle:"Safe & Secure",safetyDesc:"A worry-free environment for parents. We prioritize privacy, safety, and positive reinforcement.",safetyImage:"/images/features/safety.jpg"},customPages:[]},pA={id:"kid_1",name:"Leo",username:"leo",password:"123",role:vt.KID,xp:1250,level:5,streak:3,lastActivityDate:kN(),bizCoins:1500,currentModuleId:"mod_1",completedLessonIds:[],readBookIds:["rich-dad-poor-dad","shoe-dog"],badges:["First Sale","Bookworm"],inventory:["item_sunglasses"],settings:HN,businessLogo:{companyName:"Leo Corp",backgroundColor:"#FFC800",icon:"rocket",iconColor:"#FFFFFF",shape:"circle"},hqLevel:"hq_garage",unlockedSkills:["skl_silver_tongue","skl_fast_hands"],portfolio:[{businessId:"BIZ_01_LEMONADE",managerLevel:1,lastCollected:new Date().toISOString()}],equippedItems:["item_sunglasses"],subscriptionStatus:"FREE",subscriptionTier:"intern",energy:5,lastEnergyRefill:Date.now(),classId:"class_1"},D5={...pA,id:"parent_1",username:"mom",password:"123",role:vt.PARENT,name:"Mom",linkedChildId:"kid_1",subscriptionStatus:"FREE",subscriptionTier:"intern"},O5={...pA,id:"teacher_1",username:"teacher",password:"123",role:vt.TEACHER,name:"Mr. Stark",classId:"class_1",subscriptionStatus:"PREMIUM",subscriptionTier:"tycoon"},k5={...pA,id:"admin_1",username:"admin",password:"123",role:vt.ADMIN,name:"Super Admin",subscriptionStatus:"PREMIUM",subscriptionTier:"tycoon"},H5={id:"class_1",name:"Future Founders 101",code:"BIZ101",teacherId:"teacher_1",studentIds:["kid_1","kid_2","kid_3"],lockedModules:[]},AD=[{id:"grp_1",classId:"class_1",name:"Advanced Math",studentIds:["kid_1"],color:"#dbeafe"},{id:"grp_2",classId:"class_1",name:"Need Support",studentIds:["kid_2","kid_3"],color:"#fef3c7"}],fD=[{id:"rubric_1",teacherId:"teacher_1",title:"Standard Business Pitch",criteria:[{id:"crit_1",title:"Clarity",description:"Was the business idea easy to understand?",maxScore:5},{id:"crit_2",title:"Creativity",description:"Was the logo and name unique?",maxScore:5},{id:"crit_3",title:"Feasibility",description:"Could this business actually work?",maxScore:5}]}],pD=[{id:"assign_1",classId:"class_1",lessonId:"MB_01",title:"Barter System Challenge",description:"Read the lesson on the Barter System. Then, find 3 items in your house you would trade for a new video game. List them in your submission.",dueDate:new Date(Date.now()+864e5*3).toISOString(),status:"PUBLISHED",maxPoints:100,createdAt:new Date().toISOString()},{id:"assign_2",classId:"class_1",lessonId:"ENT_14",title:"Design Your Logo (Advanced)",description:"Use the Brand Builder tool to create a logo. Submit a screenshot or describe your color choices here.",studentGroupId:"grp_1",rubricId:"rubric_1",status:"PUBLISHED",scheduledAt:new Date(Date.now()+864e5).toISOString(),dueDate:new Date(Date.now()+864e5*7).toISOString(),maxPoints:15,createdAt:new Date().toISOString()}],gD=[],vD={day:1,funds:20,inventory:{lemons:0,sugar:0,cups:0},recipe:{lemonsPerCup:1,sugarPerCup:1,pricePerCup:1},history:[]},Mt=rD()(lD((t,e)=>({user:null,lemonadeState:vD,showLevelUpModal:!1,levelUpData:null,classroom:null,classrooms:[H5],lessons:Fr,games:qm,users:[pA,D5,O5,k5],cmsContent:dD,library:hD,isAdminMode:!1,studentGroups:AD,rubrics:fD,assignments:pD,submissions:gD,login:n=>{const s=e().user;if(s&&s.role===n)return;const m=e().users.find(x=>x.role===n);let w=null,r=null;m?(w={...m},n===vt.TEACHER&&(r={...H5})):(n===vt.KID&&(w={...pA}),n===vt.PARENT&&(w={...D5}),n===vt.TEACHER&&(w={...O5}),n===vt.ADMIN&&(w={...k5})),t({user:w,classroom:r}),n===vt.KID&&e().checkStreak()},loginWithCredentials:(n,s)=>{const{users:m,classrooms:w}=e(),r=m.find(x=>x.username===n&&x.password===s);if(r){let x=null;return r.role===vt.TEACHER&&(x=w.find(i=>i.teacherId===r.id)||null),r.role===vt.KID&&r.classId&&(x=w.find(i=>i.id===r.classId)||null),t({user:r,classroom:x}),r.role===vt.KID&&e().checkStreak(),!0}return!1},impersonateUser:n=>{const{users:s,classrooms:m}=e(),w=s.find(r=>r.id===n);if(w){let r=null;w.role===vt.TEACHER&&(r=m.find(x=>x.teacherId===w.id)||null),w.role===vt.KID&&w.classId&&(r=m.find(x=>x.id===w.classId)||null),t({user:w,classroom:r})}},registerUser:(n,s,m,w)=>{const r=e(),x=r.users;if(x.length>=ap)return`Device limit reached! This device can only hold ${ap} accounts.`;if(x.some(c=>c.username===s))return"Username already taken. Please choose another.";const i={id:`user_${Date.now()}`,name:n,username:s,password:m,role:w,xp:0,level:1,streak:1,lastActivityDate:U5(),bizCoins:100,currentModuleId:"mod_1",completedLessonIds:[],readBookIds:[],badges:["Newbie"],inventory:[],settings:HN,hqLevel:"hq_garage",unlockedSkills:[],portfolio:[],equippedItems:[],subscriptionStatus:"FREE",subscriptionTier:"intern",energy:5,lastEnergyRefill:Date.now()};let a=null,p=r.classrooms;if(w===vt.KID&&(i.businessLogo={companyName:`${n}'s Biz`,backgroundColor:"#3B82F6",icon:"rocket",iconColor:"#FFFFFF",shape:"circle"}),w===vt.TEACHER&&(a={id:`class_${i.id}`,name:`${n}'s Class`,code:Math.random().toString(36).substring(2,8).toUpperCase(),teacherId:i.id,studentIds:[],lockedModules:[]},p=[...r.classrooms,a]),w===vt.PARENT){const c=x.find(o=>o.role===vt.KID);c&&(i.linkedChildId=c.id)}t(c=>({users:[...c.users,i],user:i,classroom:a,classrooms:p}))},logout:()=>t({user:null,classroom:null}),checkStreak:()=>t(n=>{if(!n.user)return{};const s=U5(),m=kN();if(n.user.lastActivityDate===s)return{};let w=n.user.streak,r=[...n.user.inventory];if(n.user.lastActivityDate===m)w+=1;else{const a=r.indexOf("item_freeze");a!==-1?(console.log("Streak Freeze Activated!"),r.splice(a,1)):w=1}const x={...n.user,lastActivityDate:s,streak:w,inventory:r},i=n.users.map(a=>a.id===n.user.id?x:a);return{user:x,users:i}}),completeLesson:(n,s,m)=>{const w=e();if(!w.user||w.user.completedLessonIds.includes(n))return;const r=w.getSkillModifiers(),x=s!==void 0?s:50,i=m!==void 0?m:20,a=w.user.xp+Math.round(x*r.xpMultiplier),p=w.user.level,c=P5(a),o=c>p;o&&w.user.settings.soundEnabled?Dn.playLevelUp():w.user.settings.soundEnabled&&Dn.playSuccess();const u={...w.user,completedLessonIds:[...w.user.completedLessonIds,n],xp:a,level:c,bizCoins:w.user.bizCoins+i};t({user:u,users:w.users.map(l=>l.id===u.id?u:l),showLevelUpModal:o,levelUpData:o?{level:c,xp:a}:null})},readBook:n=>t(s=>{if(!s.user)return{};const m=s.user.readBookIds||[];if(m.includes(n))return{};const w={...s.user,readBookIds:[...m,n]};return{user:w,users:s.users.map(r=>r.id===w.id?w:r)}}),buyItem:n=>t(s=>{if(!s.user)return{};if(s.user.bizCoins<n.cost)return s.user.settings.soundEnabled&&Dn.playError(),{};if(n.type==="AVATAR"&&s.user.inventory.includes(n.id))return{};s.user.settings.soundEnabled&&Dn.playCoin();const w={...s.user,bizCoins:s.user.bizCoins-n.cost,inventory:[...s.user.inventory,n.id]};return{user:w,users:s.users.map(r=>r.id===w.id?w:r)}}),toggleEquipItem:n=>t(s=>{if(!s.user)return{};s.user.settings.soundEnabled&&Dn.playClick();const m=s.user.equippedItems.includes(n);let w=[...s.user.equippedItems];const r=i=>i.includes("hat")||i.includes("crown")||i.includes("helmet")||i.includes("cap")||i.includes("beret")||i.includes("tiara")?"head":i.includes("sunglasses")||i.includes("monocle")?"eyes":i.includes("suit")||i.includes("cape")||i.includes("gear")?"body":"misc";if(m)w=w.filter(i=>i!==n);else{const i=r(n);w=w.filter(a=>r(a)!==i),w.push(n)}const x={...s.user,equippedItems:w};return{user:x,users:s.users.map(i=>i.id===x.id?x:i)}}),closeLevelUpModal:()=>t({showLevelUpModal:!1,levelUpData:null}),updateLemonadeState:n=>t(s=>({lemonadeState:{...s.lemonadeState,...n}})),joinClass:n=>{const{classrooms:s}=e(),m=s.find(w=>w.code===n);return m?(t(w=>{if(!w.user)return{};const r={...w.user,classId:m.id};return{user:r,users:w.users.map(x=>x.id===r.id?r:x),classroom:m}}),!0):!1},toggleModuleLock:n=>t(s=>{if(!s.classroom)return{};const w=s.classroom.lockedModules.includes(n)?s.classroom.lockedModules.filter(x=>x!==n):[...s.classroom.lockedModules,n],r={...s.classroom,lockedModules:w};return{classroom:r,classrooms:s.classrooms.map(x=>x.id===r.id?r:x)}}),updateUserSettings:n=>t(s=>{if(!s.user)return{};const m={...s.user,settings:{...s.user.settings,...n}};return{user:m,users:s.users.map(w=>w.id===m.id?m:w)}}),updateBusinessLogo:n=>t(s=>{if(!s.user)return{};const m={...s.user,businessLogo:n};return{user:m,users:s.users.map(w=>w.id===m.id?m:w)}}),completeGame:(n,s)=>{const m=e();if(!m.user)return;const w=m.getSkillModifiers(),r=m.user.xp+Math.round(s*w.xpMultiplier),x=m.user.level,i=P5(r),a=i>x,p=Math.floor(s/5);a&&m.user.settings.soundEnabled?Dn.playLevelUp():m.user.settings.soundEnabled&&Dn.playSuccess();const c={...m.user,xp:r,level:i,bizCoins:m.user.bizCoins+p};t({user:c,users:m.users.map(o=>o.id===c.id?c:o),showLevelUpModal:a,levelUpData:a?{level:i,xp:r}:null})},upgradeHQ:n=>t(s=>{if(!s.user)return{};const m=yd.find(r=>r.id===n);if(!m)return{};if(s.user.bizCoins<m.cost)return s.user.settings.soundEnabled&&Dn.playError(),{};s.user.settings.soundEnabled&&Dn.playSuccess();const w={...s.user,bizCoins:s.user.bizCoins-m.cost,hqLevel:n};return{user:w,users:s.users.map(r=>r.id===w.id?w:r)}}),unlockSkill:n=>t(s=>{if(!s.user)return{};const m=_g.find(r=>r.id===n);if(!m)return{};if(s.user.bizCoins<m.cost)return s.user.settings.soundEnabled&&Dn.playError(),{};if(s.user.unlockedSkills.includes(n))return{};s.user.settings.soundEnabled&&Dn.playSuccess();const w={...s.user,bizCoins:s.user.bizCoins-m.cost,unlockedSkills:[...s.user.unlockedSkills,n]};return{user:w,users:s.users.map(r=>r.id===w.id?w:r)}}),hireManager:n=>t(s=>{if(!s.user)return{};const m=500;if(s.user.bizCoins<m)return{};if(s.user.portfolio.some(x=>x.businessId===n))return{};s.user.settings.soundEnabled&&Dn.playCoin();const w={businessId:n,managerLevel:1,lastCollected:new Date().toISOString()},r={...s.user,bizCoins:s.user.bizCoins-m,portfolio:[...s.user.portfolio,w]};return{user:r,users:s.users.map(x=>x.id===r.id?r:x)}}),collectIdleIncome:n=>{const s=e();if(!s.user)return 0;const m=s.user.portfolio.findIndex(l=>l.businessId===n);if(m===-1)return 0;const w=s.user.portfolio[m],r=new Date(w.lastCollected);if(isNaN(r.getTime())){console.warn("Found corrupted date in portfolio, resetting timestamp.");const l=[...s.user.portfolio];return l[m]={...w,lastCollected:new Date().toISOString()},t({user:{...s.user,portfolio:l}}),0}const x=new Date,i=x.getTime()-r.getTime(),a=Math.min(1440,i/(1e3*60)),p=10*w.managerLevel,c=Math.floor(p/60*a);if(c<=0)return 0;s.user.settings.soundEnabled&&Dn.playCoin();const o=[...s.user.portfolio];o[m]={...w,lastCollected:x.toISOString()};const u={...s.user,bizCoins:s.user.bizCoins+c,portfolio:o};return t({user:u,users:s.users.map(l=>l.id===u.id?u:l)}),c},collectAllIdleIncome:()=>t(n=>{if(!n.user)return{};let s=0;const m=new Date,w=n.user.portfolio.map(r=>{const x=new Date(r.lastCollected);if(isNaN(x.getTime()))return{...r,lastCollected:m.toISOString()};const i=m.getTime()-x.getTime(),a=Math.min(1440,i/(1e3*60)),p=10*r.managerLevel,c=Math.floor(p/60*a);return c>0?(s+=c,{...r,lastCollected:m.toISOString()}):r});if(s>0){n.user.settings.soundEnabled&&Dn.playCoin();const r={...n.user,bizCoins:n.user.bizCoins+s,portfolio:w};return{user:r,users:n.users.map(x=>x.id===r.id?r:x)}}return{}}),getSkillModifiers:()=>{const n=e(),s={xpMultiplier:1,costMultiplier:1,priceMultiplier:1};return n.user&&n.user.unlockedSkills.forEach(m=>{const w=_g.find(r=>r.id===m);w&&(w.effect.type==="PASSIVE_XP"&&(s.xpMultiplier+=w.effect.value),w.effect.type==="PASSIVE_COST"&&(s.costMultiplier-=w.effect.value),w.effect.type==="PASSIVE_PRICE"&&(s.priceMultiplier+=w.effect.value))}),s},upgradeSubscription:n=>t(s=>{if(!s.user)return{};s.user.settings.soundEnabled&&Dn.playLevelUp();const m={...s.user,subscriptionTier:n,subscriptionStatus:n==="intern"?"FREE":"PREMIUM"};return{user:m,users:s.users.map(w=>w.id===m.id?m:w)}}),hasUnlimitedEnergy:()=>{const n=e().user;return n?["founder","board","tycoon"].includes(n.subscriptionTier||"intern"):!1},hasAiAccess:()=>{const n=e().user;return n?n.subscriptionTier==="tycoon":!1},consumeEnergy:()=>{const n=e();if(!n.user)return!1;if(["founder","board","tycoon"].includes(n.user.subscriptionTier||"intern"))return!0;if(n.user.energy>0){const w={energy:n.user.energy-1};n.user.energy===5&&(w.lastEnergyRefill=Date.now());const r={...n.user,...w};return t({user:r,users:n.users.map(x=>x.id===r.id?r:x)}),!0}return!1},addLesson:n=>t(s=>({lessons:[...s.lessons,n]})),updateLesson:(n,s)=>t(m=>({lessons:m.lessons.map(w=>w.id===n?{...w,...s}:w)})),deleteLesson:n=>t(s=>({lessons:[...s.lessons.filter(m=>m.id!==n)]})),addGame:n=>t(s=>({games:[...s.games,n]})),updateGame:(n,s)=>t(m=>({games:m.games.map(w=>w.business_id===n?{...w,...s}:w)})),deleteGame:n=>t(s=>({games:[...s.games.filter(m=>m.business_id!==n)]})),syncGames:()=>t(n=>{const s=n.games||[],m=new Set(qm.map(r=>r.business_id)),w=s.filter(r=>!m.has(r.business_id));return{games:[...qm,...w]}}),addBook:n=>t(s=>({library:[...s.library,n]})),updateBook:(n,s)=>t(m=>({library:m.library.map(w=>w.id===n?{...w,...s}:w)})),removeBook:n=>t(s=>({library:s.library.filter(m=>m.id!==n)})),toggleAdminMode:()=>t(n=>({isAdminMode:!n.isAdminMode})),addUser:n=>t(s=>s.users.length>=ap?(alert(`Cannot add user: Device limit of ${ap} reached.`),{}):{users:[...s.users,n]}),updateUser:(n,s)=>t(m=>{const w=m.users.map(x=>x.id===n?{...x,...s}:x),r=m.user&&m.user.id===n?{...m.user,...s}:m.user;return{users:w,user:r}}),deleteUser:n=>t(s=>({users:[...s.users.filter(m=>m.id!==n)]})),addStudentGroup:n=>t(s=>({studentGroups:[...s.studentGroups,n]})),updateStudentGroup:(n,s)=>t(m=>({studentGroups:m.studentGroups.map(w=>w.id===n?{...w,...s}:w)})),deleteStudentGroup:n=>t(s=>({studentGroups:s.studentGroups.filter(m=>m.id!==n)})),addRubric:n=>t(s=>({rubrics:[...s.rubrics,n]})),updateRubric:(n,s)=>t(m=>({rubrics:m.rubrics.map(w=>w.id===n?{...w,...s}:w)})),deleteRubric:n=>t(s=>({rubrics:s.rubrics.filter(m=>m.id!==n)})),addAssignment:n=>t(s=>({assignments:[...s.assignments,n]})),updateAssignment:(n,s)=>t(m=>({assignments:m.assignments.map(w=>w.id===n?{...w,...s}:w)})),deleteAssignment:n=>t(s=>({assignments:s.assignments.filter(m=>m.id!==n)})),addSubmission:n=>t(s=>({submissions:[...s.submissions,n]})),updateSubmission:(n,s)=>t(m=>({submissions:m.submissions.map(w=>w.id===n?{...w,...s}:w)})),deleteSubmission:n=>t(s=>({submissions:s.submissions.filter(m=>m.id!==n)})),addClassroom:n=>t(s=>({classrooms:[...s.classrooms,n]})),updateClassroom:(n,s)=>t(m=>({classrooms:m.classrooms.map(w=>w.id===n?{...w,...s}:w)})),deleteClassroom:n=>t(s=>({classrooms:s.classrooms.filter(m=>m.id!==n)})),updateCMSContent:n=>t(s=>({cmsContent:{...s.cmsContent,...n}}))}),{name:"kidcap-storage-v6",partialize:t=>({user:t.user,lemonadeState:t.lemonadeState,lessons:t.lessons,games:t.games,users:t.users,classrooms:t.classrooms,studentGroups:t.studentGroups,rubrics:t.rubrics,assignments:t.assignments,submissions:t.submissions,cmsContent:t.cmsContent,library:t.library,isAdminMode:t.isAdminMode})}));/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yD=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),G5=t=>{const e=yD(t);return e.charAt(0).toUpperCase()+e.slice(1)},GN=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),xD=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=de.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:m="",children:w,iconNode:r,...x},i)=>de.createElement("svg",{ref:i,...wD,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:GN("lucide",m),...!w&&!xD(x)&&{"aria-hidden":"true"},...x},[...r.map(([a,p])=>de.createElement(a,p)),...Array.isArray(w)?w:[w]]));/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=(t,e)=>{const n=de.forwardRef(({className:s,...m},w)=>de.createElement(CD,{ref:w,iconNode:e,className:GN(`lucide-${mD(G5(t))}`,`lucide-${t}`,s),...m}));return n.displayName=G5(t),n};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=[["path",{d:"M12 6v16",key:"nqf5sj"}],["path",{d:"m19 13 2-1a9 9 0 0 1-18 0l2 1",key:"y7qv08"}],["path",{d:"M9 11h6",key:"1fldmi"}],["circle",{cx:"12",cy:"4",r:"2",key:"muu5ef"}]],QN=Qe("anchor",bD);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=[["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}],["path",{d:"M10 4v4",key:"pp8u80"}],["path",{d:"M2 8h20",key:"d11cs7"}],["path",{d:"M6 4v4",key:"1svtjw"}]],TD=Qe("app-window",SD);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],BD=Qe("arrow-down",ED);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ja=Qe("arrow-left",FD);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Qo=Qe("arrow-right",ND);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],MD=Qe("arrow-up-right",LD);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],ID=Qe("arrow-up",RD);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],UD=Qe("award",PD);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=[["path",{d:"M10 17h.01",key:"nbq80n"}],["path",{d:"M10 7v6",key:"nne03l"}],["path",{d:"M14 6h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2",key:"1m83kb"}],["path",{d:"M22 14v-4",key:"14q9d5"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"h8lgfh"}]],OD=Qe("battery-warning",DD);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],HD=Qe("bell",kD);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Wh=Qe("book-open",GD);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],ev=Qe("book",QD);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],GA=Qe("brain",jD);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Kh=Qe("briefcase",VD);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],YD=Qe("building-2",zD);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Q5=Qe("calendar",XD);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],jN=Qe("camera",WD);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],VN=Qe("car",KD);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],En=Qe("check",JD);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],$D=Qe("chevron-right",ZD);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]],_D=Qe("circle-arrow-up",qD);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e9=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Jv=Qe("circle-check-big",e9);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],zN=Qe("circle-check",t9);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],YN=Qe("circle-plus",i9);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],s9=Qe("circle-question-mark",n9);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],a9=Qe("circle",r9);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o9=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Ko=Qe("clipboard-list",o9);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l9=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Jh=Qe("clock",l9);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u9=[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]],h9=Qe("cloud-rain",u9);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c9=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],d9=Qe("cloud",c9);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A9=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],XN=Qe("coffee",A9);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f9=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],gA=Qe("coins",f9);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p9=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],j5=Qe("copy",p9);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g9=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],WN=Qe("cpu",g9);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v9=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],V5=Qe("credit-card",v9);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m9=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Zh=Qe("crown",m9);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y9=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],x9=Qe("database",y9);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w9=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],KN=Qe("dollar-sign",w9);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C9=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],b9=Qe("download",C9);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S9=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],T9=Qe("eye",S9);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E9=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],JN=Qe("flame",E9);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B9=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],F9=Qe("funnel",B9);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N9=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],$h=Qe("gamepad-2",N9);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L9=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],M9=Qe("github",L9);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Bw=Qe("globe",R9);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I9=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],ZN=Qe("graduation-cap",I9);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P9=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],$N=Qe("heart",P9);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U9=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]],D9=Qe("image-off",U9);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O9=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Ku=Qe("image",O9);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k9=[["path",{d:"M6 16c5 0 7-8 12-8a4 4 0 0 1 0 8c-5 0-7-8-12-8a4 4 0 1 0 0 8",key:"18ogeb"}]],H9=Qe("infinity",k9);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Q9=Qe("info",G9);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j9=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],qN=Qe("layout-dashboard",j9);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V9=[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]],z9=Qe("layout-template",V9);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y9=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],_N=Qe("lightbulb",Y9);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X9=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],eL=Qe("link",X9);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W9=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Jl=Qe("loader-circle",W9);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K9=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],J9=Qe("lock-open",K9);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z9=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Nn=Qe("lock",Z9);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $9=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],q9=Qe("log-in",$9);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _9=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],tL=Qe("log-out",_9);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e7=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],z5=Qe("map",e7);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t7=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],i7=Qe("medal",t7);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n7=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],s7=Qe("menu",n7);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r7=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],a7=Qe("message-circle",r7);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o7=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],l7=Qe("minimize-2",o7);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u7=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],h7=Qe("moon",u7);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c7=[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]],d7=Qe("mouse-pointer-2",c7);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A7=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],Fw=Qe("music",A7);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f7=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Nw=Qe("palette",f7);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p7=[["path",{d:"m12 14-1 1",key:"11onhr"}],["path",{d:"m13.75 18.25-1.25 1.42",key:"1yisr3"}],["path",{d:"M17.775 5.654a15.68 15.68 0 0 0-12.121 12.12",key:"1qtqk6"}],["path",{d:"M18.8 9.3a1 1 0 0 0 2.1 7.7",key:"fbbbr2"}],["path",{d:"M21.964 20.732a1 1 0 0 1-1.232 1.232l-18-5a1 1 0 0 1-.695-1.232A19.68 19.68 0 0 1 15.732 2.037a1 1 0 0 1 1.232.695z",key:"1hyfdd"}]],iL=Qe("pizza",p7);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g7=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],QA=Qe("play",g7);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v7=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],vo=Qe("plus",v7);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m7=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],Lw=Qe("refresh-ccw",m7);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y7=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],x7=Qe("refresh-cw",y7);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w7=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],Jo=Qe("rocket",w7);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C7=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],jA=Qe("rotate-ccw",C7);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b7=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Zv=Qe("save",b7);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S7=[["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M18 5v16",key:"1ethyx"}],["path",{d:"m4 6 7.106-3.79a2 2 0 0 1 1.788 0L20 6",key:"zywc2d"}],["path",{d:"m6 11-3.52 2.147a1 1 0 0 0-.48.854V19a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a1 1 0 0 0-.48-.853L18 11",key:"1d4ql0"}],["path",{d:"M6 5v16",key:"1sn0nx"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]],tv=Qe("school",S7);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T7=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],nL=Qe("send",T7);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E7=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],B7=Qe("settings",E7);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F7=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],N7=Qe("share-2",F7);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L7=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],M7=Qe("shield-check",L7);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R7=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],VA=Qe("shield",R7);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I7=[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]],P7=Qe("shirt",I7);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U7=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],D7=Qe("shopping-bag",U7);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O7=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],k7=Qe("shopping-cart",O7);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],Mw=Qe("smile",H7);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G7=[["path",{d:"m10 20-1.25-2.5L6 18",key:"18frcb"}],["path",{d:"M10 4 8.75 6.5 6 6",key:"7mghy3"}],["path",{d:"m14 20 1.25-2.5L18 18",key:"1chtki"}],["path",{d:"m14 4 1.25 2.5L18 6",key:"1b4wsy"}],["path",{d:"m17 21-3-6h-4",key:"15hhxa"}],["path",{d:"m17 3-3 6 1.5 3",key:"11697g"}],["path",{d:"M2 12h6.5L10 9",key:"kv9z4n"}],["path",{d:"m20 10-1.5 2 1.5 2",key:"1swlpi"}],["path",{d:"M22 12h-6.5L14 15",key:"1mxi28"}],["path",{d:"m4 10 1.5 2L4 14",key:"k9enpj"}],["path",{d:"m7 21 3-6-1.5-3",key:"j8hb9u"}],["path",{d:"m7 3 3 6h4",key:"1otusx"}]],Q7=Qe("snowflake",G7);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j7=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],$v=Qe("sparkles",j7);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V7=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Y5=Qe("square-check-big",V7);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z7=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ho=Qe("square-pen",z7);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y7=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],X7=Qe("square",Y7);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W7=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],pn=Qe("star",W7);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K7=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],sL=Qe("sun",K7);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Z7=Qe("target",J7);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $7=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],q7=Qe("thumbs-down",$7);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _7=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],eO=Qe("thumbs-up",_7);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],kn=Qe("trash-2",tO);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iO=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],zA=Qe("trending-up",iO);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nO=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],qv=Qe("triangle-alert",nO);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sO=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Zl=Qe("trophy",sO);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rO=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],aO=Qe("truck",rO);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oO=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],lO=Qe("upload",oO);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],rL=Qe("user-check",uO);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hO=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],i1=Qe("user-plus",hO);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cO=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],qh=Qe("users",cO);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dO=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],AO=Qe("wallet",dO);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fO=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],qn=Qe("x",fO);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pO=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],gs=Qe("zap",pO);function gO(){if(console&&console.warn){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];kl(e[0])&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e)}}const X5={};function n1(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];kl(e[0])&&X5[e[0]]||(kl(e[0])&&(X5[e[0]]=new Date),gO(...e))}const aL=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},W5=(t,e,n)=>{t.loadNamespaces(e,aL(t,n))},K5=(t,e,n,s)=>{kl(n)&&(n=[n]),n.forEach(m=>{t.options.ns.indexOf(m)<0&&t.options.ns.push(m)}),t.loadLanguages(e,aL(t,s))},vO=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=e.languages[0],m=e.options?e.options.fallbackLng:!1,w=e.languages[e.languages.length-1];if(s.toLowerCase()==="cimode")return!0;const r=(x,i)=>{const a=e.services.backendConnector.state[`${x}|${i}`];return a===-1||a===2};return n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!r(e.isLanguageChangingTo,t)?!1:!!(e.hasResourceBundle(s,t)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||r(s,t)&&(!m||r(w,t)))},mO=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!e.languages||!e.languages.length?(n1("i18n.languages were undefined or empty",e.languages),!0):e.options.ignoreJSONStructure!==void 0?e.hasLoadedNamespace(t,{lng:n.lng,precheck:(m,w)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&m.services.backendConnector.backend&&m.isLanguageChangingTo&&!w(m.isLanguageChangingTo,t))return!1}}):vO(t,e,n)},kl=t=>typeof t=="string",yO=t=>typeof t=="object"&&t!==null,xO=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,wO={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},CO=t=>wO[t],bO=t=>t.replace(xO,CO);let s1={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:bO};const SO=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};s1={...s1,...t}},TO=()=>s1;let oL;const EO=t=>{oL=t},BO=()=>oL,FO={type:"3rdParty",init(t){SO(t.options.react),EO(t)}},NO=de.createContext();class LO{constructor(){Kn(this,"getUsedNamespaces",()=>Object.keys(this.usedNamespaces));this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}}const MO=(t,e)=>{const n=de.useRef();return de.useEffect(()=>{n.current=t},[t,e]),n.current},lL=(t,e,n,s)=>t.getFixedT(e,n,s),RO=(t,e,n,s)=>de.useCallback(lL(t,e,n,s),[t,e,n,s]),Ri=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:n}=e,{i18n:s,defaultNS:m}=de.useContext(NO)||{},w=n||s||BO();if(w&&!w.reportNamespaces&&(w.reportNamespaces=new LO),!w){n1("You will need to pass in an i18next instance by using initReactI18next");const v=(C,b)=>kl(b)?b:yO(b)&&kl(b.defaultValue)?b.defaultValue:Array.isArray(C)?C[C.length-1]:C,y=[v,{},!1];return y.t=v,y.i18n={},y.ready=!1,y}w.options.react&&w.options.react.wait!==void 0&&n1("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const r={...TO(),...w.options.react,...e},{useSuspense:x,keyPrefix:i}=r;let a=m||w.options&&w.options.defaultNS;a=kl(a)?[a]:a||["translation"],w.reportNamespaces.addUsedNamespaces&&w.reportNamespaces.addUsedNamespaces(a);const p=(w.isInitialized||w.initializedStoreOnce)&&a.every(v=>mO(v,w,r)),c=RO(w,e.lng||null,r.nsMode==="fallback"?a:a[0],i),o=()=>c,u=()=>lL(w,e.lng||null,r.nsMode==="fallback"?a:a[0],i),[l,d]=de.useState(o);let f=a.join();e.lng&&(f=`${e.lng}${f}`);const h=MO(f),A=de.useRef(!0);de.useEffect(()=>{const{bindI18n:v,bindI18nStore:y}=r;A.current=!0,!p&&!x&&(e.lng?K5(w,e.lng,a,()=>{A.current&&d(u)}):W5(w,a,()=>{A.current&&d(u)})),p&&h&&h!==f&&A.current&&d(u);const C=()=>{A.current&&d(u)};return v&&w&&w.on(v,C),y&&w&&w.store.on(y,C),()=>{A.current=!1,v&&w&&v.split(" ").forEach(b=>w.off(b,C)),y&&w&&y.split(" ").forEach(b=>w.store.off(b,C))}},[w,f]),de.useEffect(()=>{A.current&&p&&d(o)},[w,i,p]);const g=[l,w,p];if(g.t=l,g.i18n=w,g.ready=p,p||!p&&!x)return g;throw new Promise(v=>{e.lng?K5(w,e.lng,a,()=>v()):W5(w,a,()=>v())})},IO=({onBack:t,initialMode:e="LOGIN"})=>{const{loginWithCredentials:n,registerUser:s}=Mt(),{t:m}=Ri(),[w,r]=de.useState(e),[x,i]=de.useState(1),[a,p]=de.useState(vt.KID),[c,o]=de.useState(""),[u,l]=de.useState(""),[d,f]=de.useState(""),[h,A]=de.useState(""),g=C=>{C.preventDefault(),n(c,u)||A(m("auth.error_auth"))},v=C=>{if(C.preventDefault(),!c||!u||!d){A(m("auth.error_fields"));return}const b=s(d,c,u,a);b&&A(b)},y=C=>{p(C),i(2),A("")};return E.jsxs("div",{className:"min-h-screen bg-green-50 dark:bg-gray-900 flex items-center justify-center p-4 relative transition-colors",children:[t&&E.jsxs("button",{onClick:t,className:"absolute top-8 left-8 text-gray-500 dark:text-gray-400 font-bold hover:text-green-600 dark:hover:text-green-400 flex items-center gap-2",children:[E.jsx(ja,{size:20})," ",m("common.back")]}),E.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-3xl shadow-xl max-w-lg w-full text-center border dark:border-gray-700",children:[E.jsx("h1",{className:"text-4xl font-black text-kid-secondary mb-2",children:m("auth.title")}),E.jsxs("div",{className:"flex justify-center gap-6 mb-8 mt-4 text-sm font-bold border-b border-gray-100 dark:border-gray-700 pb-4",children:[E.jsx("button",{onClick:()=>{r("LOGIN"),i(1),A("")},className:`pb-2 border-b-2 transition-colors ${w==="LOGIN"?"text-kid-secondary border-kid-secondary":"text-gray-400 dark:text-gray-500 border-transparent hover:text-gray-600 dark:hover:text-gray-300"}`,children:m("auth.login")}),E.jsx("button",{onClick:()=>{r("REGISTER"),i(1),A("")},className:`pb-2 border-b-2 transition-colors ${w==="REGISTER"?"text-kid-secondary border-kid-secondary":"text-gray-400 dark:text-gray-500 border-transparent hover:text-gray-600 dark:hover:text-gray-300"}`,children:m("auth.create_account")})]}),w==="LOGIN"&&E.jsxs("form",{onSubmit:g,className:"space-y-4",children:[E.jsxs("div",{className:"text-left rtl:text-right",children:[E.jsx("label",{className:"block text-sm font-bold text-gray-500 dark:text-gray-400 mb-1",children:m("auth.username")}),E.jsx("input",{type:"text",value:c,onChange:C=>{o(C.target.value),A("")},className:"w-full p-3 rounded-xl border-2 border-gray-200 dark:border-gray-600 dark:bg-gray-700 dark:text-white font-bold focus:border-kid-accent outline-none transition-colors",placeholder:m("auth.enter_username")})]}),E.jsxs("div",{className:"text-left rtl:text-right",children:[E.jsx("label",{className:"block text-sm font-bold text-gray-500 dark:text-gray-400 mb-1",children:m("auth.password")}),E.jsx("input",{type:"password",value:u,onChange:C=>{l(C.target.value),A("")},className:"w-full p-3 rounded-xl border-2 border-gray-200 dark:border-gray-600 dark:bg-gray-700 dark:text-white font-bold focus:border-kid-accent outline-none transition-colors",placeholder:m("auth.enter_password")})]}),h&&E.jsx("div",{className:"text-red-500 font-bold text-sm bg-red-50 dark:bg-red-900/30 p-2 rounded-lg",children:h}),E.jsx("button",{type:"submit",className:"w-full bg-kid-primary text-yellow-900 font-black py-4 rounded-2xl shadow-[0_4px_0_0_rgba(202,138,4,1)] btn-juicy text-lg hover:bg-yellow-400 transition-colors mt-4",children:m("auth.submit_login")}),E.jsx("div",{className:"text-xs text-gray-400 dark:text-gray-500 mt-4",dir:"ltr",children:m("auth.demo_hint")})]}),w==="REGISTER"&&x===1&&E.jsxs("div",{className:"space-y-4",children:[E.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-bold mb-6",children:m("auth.role_prompt")}),E.jsxs("button",{onClick:()=>y(vt.KID),className:"w-full p-6 rounded-2xl border-4 border-gray-100 dark:border-gray-700 hover:border-kid-primary dark:hover:border-kid-primary hover:bg-yellow-50 dark:hover:bg-gray-700 transition-all group flex items-center gap-4 text-left rtl:text-right",children:[E.jsx("div",{className:"w-16 h-16 bg-kid-primary rounded-full flex items-center justify-center text-3xl shadow-md group-hover:scale-110 transition-transform",children:""}),E.jsxs("div",{children:[E.jsx("h3",{className:"text-xl font-black text-gray-800 dark:text-white",children:m("auth.role_kid")}),E.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-semibold text-sm",children:m("auth.role_kid_desc")})]})]}),E.jsxs("button",{onClick:()=>y(vt.PARENT),className:"w-full p-6 rounded-2xl border-4 border-gray-100 dark:border-gray-700 hover:border-blue-300 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all group flex items-center gap-4 text-left rtl:text-right",children:[E.jsx("div",{className:"w-16 h-16 bg-blue-100 dark:bg-blue-900 text-blue-500 rounded-full flex items-center justify-center shadow-md group-hover:scale-110 transition-transform",children:E.jsx(M7,{size:32})}),E.jsxs("div",{children:[E.jsx("h3",{className:"text-xl font-black text-gray-800 dark:text-white",children:m("auth.role_parent")}),E.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-semibold text-sm",children:m("auth.role_parent_desc")})]})]}),E.jsxs("button",{onClick:()=>y(vt.TEACHER),className:"w-full p-6 rounded-2xl border-4 border-gray-100 dark:border-gray-700 hover:border-purple-300 hover:bg-purple-50 dark:hover:bg-purple-900/20 transition-all group flex items-center gap-4 text-left rtl:text-right",children:[E.jsx("div",{className:"w-16 h-16 bg-purple-100 dark:bg-purple-900 text-purple-500 rounded-full flex items-center justify-center shadow-md group-hover:scale-110 transition-transform",children:E.jsx(ZN,{size:32})}),E.jsxs("div",{children:[E.jsx("h3",{className:"text-xl font-black text-gray-800 dark:text-white",children:m("auth.role_teacher")}),E.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-semibold text-sm",children:m("auth.role_teacher_desc")})]})]}),E.jsx("div",{className:"pt-4 border-t border-gray-100 dark:border-gray-700",children:E.jsxs("button",{onClick:()=>y(vt.ADMIN),className:"text-xs font-bold text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 flex items-center justify-center gap-1 mx-auto",children:[E.jsx(x9,{size:12})," Admin"]})})]}),w==="REGISTER"&&x===2&&E.jsxs("form",{onSubmit:v,className:"space-y-4 text-left rtl:text-right",children:[E.jsxs("button",{type:"button",onClick:()=>i(1),className:"text-sm font-bold text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 mb-2 rtl:rotate-180",children:[" ",m("auth.back_roles")]}),E.jsx("h3",{className:"text-xl font-black text-gray-800 dark:text-white mb-4 text-center",children:m("auth.create_account")}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-bold text-gray-500 dark:text-gray-400 mb-1",children:m("auth.full_name")}),E.jsx("input",{type:"text",value:d,onChange:C=>{f(C.target.value),A("")},className:"w-full p-3 rounded-xl border-2 border-gray-200 dark:border-gray-600 dark:bg-gray-700 dark:text-white font-bold focus:border-kid-accent outline-none transition-colors",placeholder:m("auth.your_name")})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-bold text-gray-500 dark:text-gray-400 mb-1",children:m("auth.username")}),E.jsx("input",{type:"text",value:c,onChange:C=>{o(C.target.value),A("")},className:"w-full p-3 rounded-xl border-2 border-gray-200 dark:border-gray-600 dark:bg-gray-700 dark:text-white font-bold focus:border-kid-accent outline-none transition-colors",placeholder:m("auth.enter_username")})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-bold text-gray-500 dark:text-gray-400 mb-1",children:m("auth.password")}),E.jsx("input",{type:"password",value:u,onChange:C=>{l(C.target.value),A("")},className:"w-full p-3 rounded-xl border-2 border-gray-200 dark:border-gray-600 dark:bg-gray-700 dark:text-white font-bold focus:border-kid-accent outline-none transition-colors",placeholder:m("auth.enter_password")})]}),h&&E.jsx("div",{className:"text-red-500 font-bold text-sm bg-red-50 dark:bg-red-900/30 p-2 rounded-lg text-center",children:h}),E.jsx("button",{type:"submit",className:"w-full bg-kid-primary text-yellow-900 font-black py-4 rounded-2xl shadow-[0_4px_0_0_rgba(202,138,4,1)] btn-juicy text-lg hover:bg-yellow-400 transition-colors mt-6",children:m("auth.submit_register")})]})]})]})},Rw=de.createContext({});function Iw(t){const e=de.useRef(null);return e.current===null&&(e.current=t()),e.current}const Pw=typeof window<"u",uL=Pw?de.useLayoutEffect:de.useEffect,_v=de.createContext(null);function Uw(t,e){t.indexOf(e)===-1&&t.push(e)}function Dw(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Oa=(t,e,n)=>n>e?e:n<t?t:n;let Ow=()=>{};const ka={},hL=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function cL(t){return typeof t=="object"&&t!==null}const dL=t=>/^0[^.\s]+$/u.test(t);function kw(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ar=t=>t,PO=(t,e)=>n=>e(t(n)),YA=(...t)=>t.reduce(PO),vA=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class Hw{constructor(){this.subscriptions=[]}add(e){return Uw(this.subscriptions,e),()=>Dw(this.subscriptions,e)}notify(e,n,s){const m=this.subscriptions.length;if(m)if(m===1)this.subscriptions[0](e,n,s);else for(let w=0;w<m;w++){const r=this.subscriptions[w];r&&r(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const qr=t=>t*1e3,or=t=>t/1e3;function AL(t,e){return e?t*(1e3/e):0}const fL=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,UO=1e-7,DO=12;function OO(t,e,n,s,m){let w,r,x=0;do r=e+(n-e)/2,w=fL(r,s,m)-t,w>0?n=r:e=r;while(Math.abs(w)>UO&&++x<DO);return r}function XA(t,e,n,s){if(t===e&&n===s)return Ar;const m=w=>OO(w,0,1,t,n);return w=>w===0||w===1?w:fL(m(w),e,s)}const pL=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,gL=t=>e=>1-t(1-e),vL=XA(.33,1.53,.69,.99),Gw=gL(vL),mL=pL(Gw),yL=t=>(t*=2)<1?.5*Gw(t):.5*(2-Math.pow(2,-10*(t-1))),Qw=t=>1-Math.sin(Math.acos(t)),xL=gL(Qw),wL=pL(Qw),kO=XA(.42,0,1,1),HO=XA(0,0,.58,1),CL=XA(.42,0,.58,1),GO=t=>Array.isArray(t)&&typeof t[0]!="number",bL=t=>Array.isArray(t)&&typeof t[0]=="number",QO={linear:Ar,easeIn:kO,easeInOut:CL,easeOut:HO,circIn:Qw,circInOut:wL,circOut:xL,backIn:Gw,backInOut:mL,backOut:vL,anticipate:yL},jO=t=>typeof t=="string",J5=t=>{if(bL(t)){Ow(t.length===4);const[e,n,s,m]=t;return XA(e,n,s,m)}else if(jO(t))return QO[t];return t},op=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function VO(t,e){let n=new Set,s=new Set,m=!1,w=!1;const r=new WeakSet;let x={delta:0,timestamp:0,isProcessing:!1};function i(p){r.has(p)&&(a.schedule(p),t()),p(x)}const a={schedule:(p,c=!1,o=!1)=>{const l=o&&m?n:s;return c&&r.add(p),l.has(p)||l.add(p),p},cancel:p=>{s.delete(p),r.delete(p)},process:p=>{if(x=p,m){w=!0;return}m=!0,[n,s]=[s,n],n.forEach(i),n.clear(),m=!1,w&&(w=!1,a.process(p))}};return a}const zO=40;function SL(t,e){let n=!1,s=!0;const m={delta:0,timestamp:0,isProcessing:!1},w=()=>n=!0,r=op.reduce((g,v)=>(g[v]=VO(w),g),{}),{setup:x,read:i,resolveKeyframes:a,preUpdate:p,update:c,preRender:o,render:u,postRender:l}=r,d=()=>{const g=ka.useManualTiming?m.timestamp:performance.now();n=!1,ka.useManualTiming||(m.delta=s?1e3/60:Math.max(Math.min(g-m.timestamp,zO),1)),m.timestamp=g,m.isProcessing=!0,x.process(m),i.process(m),a.process(m),p.process(m),c.process(m),o.process(m),u.process(m),l.process(m),m.isProcessing=!1,n&&e&&(s=!1,t(d))},f=()=>{n=!0,s=!0,m.isProcessing||t(d)};return{schedule:op.reduce((g,v)=>{const y=r[v];return g[v]=(C,b=!1,T=!1)=>(n||f(),y.schedule(C,b,T)),g},{}),cancel:g=>{for(let v=0;v<op.length;v++)r[op[v]].cancel(g)},state:m,steps:r}}const{schedule:wi,cancel:Zo,state:xn,steps:ey}=SL(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ar,!0);let lg;function YO(){lg=void 0}const vs={now:()=>(lg===void 0&&vs.set(xn.isProcessing||ka.useManualTiming?xn.timestamp:performance.now()),lg),set:t=>{lg=t,queueMicrotask(YO)}},TL=t=>e=>typeof e=="string"&&e.startsWith(t),EL=TL("--"),XO=TL("var(--"),jw=t=>XO(t)?WO.test(t.split("/*")[0].trim()):!1,WO=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,hc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},mA={...hc,transform:t=>Oa(0,1,t)},lp={...hc,default:1},Vd=t=>Math.round(t*1e5)/1e5,Vw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function KO(t){return t==null}const JO=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,zw=(t,e)=>n=>!!(typeof n=="string"&&JO.test(n)&&n.startsWith(t)||e&&!KO(n)&&Object.prototype.hasOwnProperty.call(n,e)),BL=(t,e,n)=>s=>{if(typeof s!="string")return s;const[m,w,r,x]=s.match(Vw);return{[t]:parseFloat(m),[e]:parseFloat(w),[n]:parseFloat(r),alpha:x!==void 0?parseFloat(x):1}},ZO=t=>Oa(0,255,t),ty={...hc,transform:t=>Math.round(ZO(t))},Ll={test:zw("rgb","red"),parse:BL("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+ty.transform(t)+", "+ty.transform(e)+", "+ty.transform(n)+", "+Vd(mA.transform(s))+")"};function $O(t){let e="",n="",s="",m="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),m=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),m=t.substring(4,5),e+=e,n+=n,s+=s,m+=m),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:m?parseInt(m,16)/255:1}}const r1={test:zw("#"),parse:$O,transform:Ll.transform},WA=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),co=WA("deg"),_r=WA("%"),mt=WA("px"),qO=WA("vh"),_O=WA("vw"),Z5={..._r,parse:t=>_r.parse(t)/100,transform:t=>_r.transform(t*100)},dh={test:zw("hsl","hue"),parse:BL("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+_r.transform(Vd(e))+", "+_r.transform(Vd(n))+", "+Vd(mA.transform(s))+")"},Ki={test:t=>Ll.test(t)||r1.test(t)||dh.test(t),parse:t=>Ll.test(t)?Ll.parse(t):dh.test(t)?dh.parse(t):r1.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ll.transform(t):dh.transform(t),getAnimatableNone:t=>{const e=Ki.parse(t);return e.alpha=0,Ki.transform(e)}},ek=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function tk(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Vw))==null?void 0:e.length)||0)+(((n=t.match(ek))==null?void 0:n.length)||0)>0}const FL="number",NL="color",ik="var",nk="var(",$5="${}",sk=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function yA(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},m=[];let w=0;const x=e.replace(sk,i=>(Ki.test(i)?(s.color.push(w),m.push(NL),n.push(Ki.parse(i))):i.startsWith(nk)?(s.var.push(w),m.push(ik),n.push(i)):(s.number.push(w),m.push(FL),n.push(parseFloat(i))),++w,$5)).split($5);return{values:n,split:x,indexes:s,types:m}}function LL(t){return yA(t).values}function ML(t){const{split:e,types:n}=yA(t),s=e.length;return m=>{let w="";for(let r=0;r<s;r++)if(w+=e[r],m[r]!==void 0){const x=n[r];x===FL?w+=Vd(m[r]):x===NL?w+=Ki.transform(m[r]):w+=m[r]}return w}}const rk=t=>typeof t=="number"?0:Ki.test(t)?Ki.getAnimatableNone(t):t;function ak(t){const e=LL(t);return ML(t)(e.map(rk))}const $o={test:tk,parse:LL,createTransformer:ML,getAnimatableNone:ak};function iy(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function ok({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let m=0,w=0,r=0;if(!e)m=w=r=n;else{const x=n<.5?n*(1+e):n+e-n*e,i=2*n-x;m=iy(i,x,t+1/3),w=iy(i,x,t),r=iy(i,x,t-1/3)}return{red:Math.round(m*255),green:Math.round(w*255),blue:Math.round(r*255),alpha:s}}function iv(t,e){return n=>n>0?e:t}const Ti=(t,e,n)=>t+(e-t)*n,ny=(t,e,n)=>{const s=t*t,m=n*(e*e-s)+s;return m<0?0:Math.sqrt(m)},lk=[r1,Ll,dh],uk=t=>lk.find(e=>e.test(t));function q5(t){const e=uk(t);if(!e)return!1;let n=e.parse(t);return e===dh&&(n=ok(n)),n}const _5=(t,e)=>{const n=q5(t),s=q5(e);if(!n||!s)return iv(t,e);const m={...n};return w=>(m.red=ny(n.red,s.red,w),m.green=ny(n.green,s.green,w),m.blue=ny(n.blue,s.blue,w),m.alpha=Ti(n.alpha,s.alpha,w),Ll.transform(m))},a1=new Set(["none","hidden"]);function hk(t,e){return a1.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function ck(t,e){return n=>Ti(t,e,n)}function Yw(t){return typeof t=="number"?ck:typeof t=="string"?jw(t)?iv:Ki.test(t)?_5:fk:Array.isArray(t)?RL:typeof t=="object"?Ki.test(t)?_5:dk:iv}function RL(t,e){const n=[...t],s=n.length,m=t.map((w,r)=>Yw(w)(w,e[r]));return w=>{for(let r=0;r<s;r++)n[r]=m[r](w);return n}}function dk(t,e){const n={...t,...e},s={};for(const m in n)t[m]!==void 0&&e[m]!==void 0&&(s[m]=Yw(t[m])(t[m],e[m]));return m=>{for(const w in s)n[w]=s[w](m);return n}}function Ak(t,e){const n=[],s={color:0,var:0,number:0};for(let m=0;m<e.values.length;m++){const w=e.types[m],r=t.indexes[w][s[w]],x=t.values[r]??0;n[m]=x,s[w]++}return n}const fk=(t,e)=>{const n=$o.createTransformer(e),s=yA(t),m=yA(e);return s.indexes.var.length===m.indexes.var.length&&s.indexes.color.length===m.indexes.color.length&&s.indexes.number.length>=m.indexes.number.length?a1.has(t)&&!m.values.length||a1.has(e)&&!s.values.length?hk(t,e):YA(RL(Ak(s,m),m.values),n):iv(t,e)};function IL(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ti(t,e,n):Yw(t)(t,e)}const pk=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>wi.update(e,n),stop:()=>Zo(e),now:()=>xn.isProcessing?xn.timestamp:vs.now()}},PL=(t,e,n=10)=>{let s="";const m=Math.max(Math.round(e/n),2);for(let w=0;w<m;w++)s+=Math.round(t(w/(m-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},nv=2e4;function Xw(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<nv;)e+=n,s=t.next(e);return e>=nv?1/0:e}function gk(t,e=100,n){const s=n({...t,keyframes:[0,e]}),m=Math.min(Xw(s),nv);return{type:"keyframes",ease:w=>s.next(m*w).value/e,duration:or(m)}}const vk=5;function UL(t,e,n){const s=Math.max(e-vk,0);return AL(n-t(s),e-s)}const Li={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},sy=.001;function mk({duration:t=Li.duration,bounce:e=Li.bounce,velocity:n=Li.velocity,mass:s=Li.mass}){let m,w,r=1-e;r=Oa(Li.minDamping,Li.maxDamping,r),t=Oa(Li.minDuration,Li.maxDuration,or(t)),r<1?(m=a=>{const p=a*r,c=p*t,o=p-n,u=o1(a,r),l=Math.exp(-c);return sy-o/u*l},w=a=>{const c=a*r*t,o=c*n+n,u=Math.pow(r,2)*Math.pow(a,2)*t,l=Math.exp(-c),d=o1(Math.pow(a,2),r);return(-m(a)+sy>0?-1:1)*((o-u)*l)/d}):(m=a=>{const p=Math.exp(-a*t),c=(a-n)*t+1;return-sy+p*c},w=a=>{const p=Math.exp(-a*t),c=(n-a)*(t*t);return p*c});const x=5/t,i=xk(m,w,x);if(t=qr(t),isNaN(i))return{stiffness:Li.stiffness,damping:Li.damping,duration:t};{const a=Math.pow(i,2)*s;return{stiffness:a,damping:r*2*Math.sqrt(s*a),duration:t}}}const yk=12;function xk(t,e,n){let s=n;for(let m=1;m<yk;m++)s=s-t(s)/e(s);return s}function o1(t,e){return t*Math.sqrt(1-e*e)}const wk=["duration","bounce"],Ck=["stiffness","damping","mass"];function eS(t,e){return e.some(n=>t[n]!==void 0)}function bk(t){let e={velocity:Li.velocity,stiffness:Li.stiffness,damping:Li.damping,mass:Li.mass,isResolvedFromDuration:!1,...t};if(!eS(t,Ck)&&eS(t,wk))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),m=s*s,w=2*Oa(.05,1,1-(t.bounce||0))*Math.sqrt(m);e={...e,mass:Li.mass,stiffness:m,damping:w}}else{const n=mk(t);e={...e,...n,mass:Li.mass},e.isResolvedFromDuration=!0}return e}function sv(t=Li.visualDuration,e=Li.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:m}=n;const w=n.keyframes[0],r=n.keyframes[n.keyframes.length-1],x={done:!1,value:w},{stiffness:i,damping:a,mass:p,duration:c,velocity:o,isResolvedFromDuration:u}=bk({...n,velocity:-or(n.velocity||0)}),l=o||0,d=a/(2*Math.sqrt(i*p)),f=r-w,h=or(Math.sqrt(i/p)),A=Math.abs(f)<5;s||(s=A?Li.restSpeed.granular:Li.restSpeed.default),m||(m=A?Li.restDelta.granular:Li.restDelta.default);let g;if(d<1){const y=o1(h,d);g=C=>{const b=Math.exp(-d*h*C);return r-b*((l+d*h*f)/y*Math.sin(y*C)+f*Math.cos(y*C))}}else if(d===1)g=y=>r-Math.exp(-h*y)*(f+(l+h*f)*y);else{const y=h*Math.sqrt(d*d-1);g=C=>{const b=Math.exp(-d*h*C),T=Math.min(y*C,300);return r-b*((l+d*h*f)*Math.sinh(T)+y*f*Math.cosh(T))/y}}const v={calculatedDuration:u&&c||null,next:y=>{const C=g(y);if(u)x.done=y>=c;else{let b=y===0?l:0;d<1&&(b=y===0?qr(l):UL(g,y,C));const T=Math.abs(b)<=s,S=Math.abs(r-C)<=m;x.done=T&&S}return x.value=x.done?r:C,x},toString:()=>{const y=Math.min(Xw(v),nv),C=PL(b=>v.next(y*b).value,y,30);return y+"ms "+C},toTransition:()=>{}};return v}sv.applyToOptions=t=>{const e=gk(t,100,sv);return t.ease=e.ease,t.duration=qr(e.duration),t.type="keyframes",t};function l1({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:m=10,bounceStiffness:w=500,modifyTarget:r,min:x,max:i,restDelta:a=.5,restSpeed:p}){const c=t[0],o={done:!1,value:c},u=T=>x!==void 0&&T<x||i!==void 0&&T>i,l=T=>x===void 0?i:i===void 0||Math.abs(x-T)<Math.abs(i-T)?x:i;let d=n*e;const f=c+d,h=r===void 0?f:r(f);h!==f&&(d=h-c);const A=T=>-d*Math.exp(-T/s),g=T=>h+A(T),v=T=>{const S=A(T),F=g(T);o.done=Math.abs(S)<=a,o.value=o.done?h:F};let y,C;const b=T=>{u(o.value)&&(y=T,C=sv({keyframes:[o.value,l(o.value)],velocity:UL(g,T,o.value),damping:m,stiffness:w,restDelta:a,restSpeed:p}))};return b(0),{calculatedDuration:null,next:T=>{let S=!1;return!C&&y===void 0&&(S=!0,v(T),b(T)),y!==void 0&&T>=y?C.next(T-y):(!S&&v(T),o)}}}function Sk(t,e,n){const s=[],m=n||ka.mix||IL,w=t.length-1;for(let r=0;r<w;r++){let x=m(t[r],t[r+1]);if(e){const i=Array.isArray(e)?e[r]||Ar:e;x=YA(i,x)}s.push(x)}return s}function Tk(t,e,{clamp:n=!0,ease:s,mixer:m}={}){const w=t.length;if(Ow(w===e.length),w===1)return()=>e[0];if(w===2&&e[0]===e[1])return()=>e[1];const r=t[0]===t[1];t[0]>t[w-1]&&(t=[...t].reverse(),e=[...e].reverse());const x=Sk(e,s,m),i=x.length,a=p=>{if(r&&p<t[0])return e[0];let c=0;if(i>1)for(;c<t.length-2&&!(p<t[c+1]);c++);const o=vA(t[c],t[c+1],p);return x[c](o)};return n?p=>a(Oa(t[0],t[w-1],p)):a}function Ek(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const m=vA(0,e,s);t.push(Ti(n,1,m))}}function Bk(t){const e=[0];return Ek(e,t.length-1),e}function Fk(t,e){return t.map(n=>n*e)}function Nk(t,e){return t.map(()=>e||CL).splice(0,t.length-1)}function zd({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const m=GO(s)?s.map(J5):J5(s),w={done:!1,value:e[0]},r=Fk(n&&n.length===e.length?n:Bk(e),t),x=Tk(r,e,{ease:Array.isArray(m)?m:Nk(e,m)});return{calculatedDuration:t,next:i=>(w.value=x(i),w.done=i>=t,w)}}const Lk=t=>t!==null;function Ww(t,{repeat:e,repeatType:n="loop"},s,m=1){const w=t.filter(Lk),x=m<0||e&&n!=="loop"&&e%2===1?0:w.length-1;return!x||s===void 0?w[x]:s}const Mk={decay:l1,inertia:l1,tween:zd,keyframes:zd,spring:sv};function DL(t){typeof t.type=="string"&&(t.type=Mk[t.type])}class Kw{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const Rk=t=>t/100;class Jw extends Kw{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,m;const{motionValue:n}=this.options;n&&n.updatedAt!==vs.now()&&this.tick(vs.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(m=(s=this.options).onStop)==null||m.call(s))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;DL(e);const{type:n=zd,repeat:s=0,repeatDelay:m=0,repeatType:w,velocity:r=0}=e;let{keyframes:x}=e;const i=n||zd;i!==zd&&typeof x[0]!="number"&&(this.mixKeyframes=YA(Rk,IL(x[0],x[1])),x=[0,100]);const a=i({...e,keyframes:x});w==="mirror"&&(this.mirroredGenerator=i({...e,keyframes:[...x].reverse(),velocity:-r})),a.calculatedDuration===null&&(a.calculatedDuration=Xw(a));const{calculatedDuration:p}=a;this.calculatedDuration=p,this.resolvedDuration=p+m,this.totalDuration=this.resolvedDuration*(s+1)-m,this.generator=a}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:m,mixKeyframes:w,mirroredGenerator:r,resolvedDuration:x,calculatedDuration:i}=this;if(this.startTime===null)return s.next(0);const{delay:a=0,keyframes:p,repeat:c,repeatType:o,repeatDelay:u,type:l,onUpdate:d,finalKeyframe:f}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-m/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const h=this.currentTime-a*(this.playbackSpeed>=0?1:-1),A=this.playbackSpeed>=0?h<0:h>m;this.currentTime=Math.max(h,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=m);let g=this.currentTime,v=s;if(c){const T=Math.min(this.currentTime,m)/x;let S=Math.floor(T),F=T%1;!F&&T>=1&&(F=1),F===1&&S--,S=Math.min(S,c+1),!!(S%2)&&(o==="reverse"?(F=1-F,u&&(F-=u/x)):o==="mirror"&&(v=r)),g=Oa(0,1,F)*x}const y=A?{done:!1,value:p[0]}:v.next(g);w&&(y.value=w(y.value));let{done:C}=y;!A&&i!==null&&(C=this.playbackSpeed>=0?this.currentTime>=m:this.currentTime<=0);const b=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return b&&l!==l1&&(y.value=Ww(p,this.options,f,this.speed)),d&&d(y.value),b&&this.finish(),y}then(e,n){return this.finished.then(e,n)}get duration(){return or(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+or(e)}get time(){return or(this.currentTime)}set time(e){var n;e=qr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(vs.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=or(this.currentTime))}play(){var m,w;if(this.isStopped)return;const{driver:e=pk,startTime:n}=this.options;this.driver||(this.driver=e(r=>this.tick(r))),(w=(m=this.options).onPlay)==null||w.call(m);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(vs.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function Ik(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ml=t=>t*180/Math.PI,u1=t=>{const e=Ml(Math.atan2(t[1],t[0]));return h1(e)},Pk={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:u1,rotateZ:u1,skewX:t=>Ml(Math.atan(t[1])),skewY:t=>Ml(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},h1=t=>(t=t%360,t<0&&(t+=360),t),tS=u1,iS=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),nS=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Uk={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:iS,scaleY:nS,scale:t=>(iS(t)+nS(t))/2,rotateX:t=>h1(Ml(Math.atan2(t[6],t[5]))),rotateY:t=>h1(Ml(Math.atan2(-t[2],t[0]))),rotateZ:tS,rotate:tS,skewX:t=>Ml(Math.atan(t[4])),skewY:t=>Ml(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function c1(t){return t.includes("scale")?1:0}function d1(t,e){if(!t||t==="none")return c1(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,m;if(n)s=Uk,m=n;else{const x=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=Pk,m=x}if(!m)return c1(e);const w=s[e],r=m[1].split(",").map(Ok);return typeof w=="function"?w(r):r[w]}const Dk=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return d1(n,e)};function Ok(t){return parseFloat(t.trim())}const cc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],dc=new Set(cc),sS=t=>t===hc||t===mt,kk=new Set(["x","y","z"]),Hk=cc.filter(t=>!kk.has(t));function Gk(t){const e=[];return Hk.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Hl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>d1(e,"x"),y:(t,{transform:e})=>d1(e,"y")};Hl.translateX=Hl.x;Hl.translateY=Hl.y;const Gl=new Set;let A1=!1,f1=!1,p1=!1;function OL(){if(f1){const t=Array.from(Gl).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const m=Gk(s);m.length&&(n.set(s,m),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const m=n.get(s);m&&m.forEach(([w,r])=>{var x;(x=s.getValue(w))==null||x.set(r)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}f1=!1,A1=!1,Gl.forEach(t=>t.complete(p1)),Gl.clear()}function kL(){Gl.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(f1=!0)})}function Qk(){p1=!0,kL(),OL(),p1=!1}class Zw{constructor(e,n,s,m,w,r=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=m,this.element=w,this.isAsync=r}scheduleResolve(){this.state="scheduled",this.isAsync?(Gl.add(this),A1||(A1=!0,wi.read(kL),wi.resolveKeyframes(OL))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:m}=this;if(e[0]===null){const w=m==null?void 0:m.get(),r=e[e.length-1];if(w!==void 0)e[0]=w;else if(s&&n){const x=s.readValue(n,r);x!=null&&(e[0]=x)}e[0]===void 0&&(e[0]=r),m&&w===void 0&&m.set(e[0])}Ik(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Gl.delete(this)}cancel(){this.state==="scheduled"&&(Gl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const jk=t=>t.startsWith("--");function Vk(t,e,n){jk(e)?t.style.setProperty(e,n):t.style[e]=n}const zk=kw(()=>window.ScrollTimeline!==void 0),Yk={};function Xk(t,e){const n=kw(t);return()=>Yk[e]??n()}const HL=Xk(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),xd=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,rS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:xd([0,.65,.55,1]),circOut:xd([.55,0,1,.45]),backIn:xd([.31,.01,.66,-.59]),backOut:xd([.33,1.53,.69,.99])};function GL(t,e){if(t)return typeof t=="function"?HL()?PL(t,e):"ease-out":bL(t)?xd(t):Array.isArray(t)?t.map(n=>GL(n,e)||rS.easeOut):rS[t]}function Wk(t,e,n,{delay:s=0,duration:m=300,repeat:w=0,repeatType:r="loop",ease:x="easeOut",times:i}={},a=void 0){const p={[e]:n};i&&(p.offset=i);const c=GL(x,m);Array.isArray(c)&&(p.easing=c);const o={delay:s,duration:m,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:w+1,direction:r==="reverse"?"alternate":"normal"};return a&&(o.pseudoElement=a),t.animate(p,o)}function QL(t){return typeof t=="function"&&"applyToOptions"in t}function Kk({type:t,...e}){return QL(t)&&HL()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Jk extends Kw{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:m,pseudoElement:w,allowFlatten:r=!1,finalKeyframe:x,onComplete:i}=e;this.isPseudoElement=!!w,this.allowFlatten=r,this.options=e,Ow(typeof e.type!="string");const a=Kk(e);this.animation=Wk(n,s,m,a,w),a.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!w){const p=Ww(m,this.options,x,this.speed);this.updateMotionValue?this.updateMotionValue(p):Vk(n,s,p),this.animation.cancel()}i==null||i(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,s;const e=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return or(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+or(e)}get time(){return or(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=qr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&zk()?(this.animation.timeline=e,Ar):n(this)}}const jL={anticipate:yL,backInOut:mL,circInOut:wL};function Zk(t){return t in jL}function $k(t){typeof t.ease=="string"&&Zk(t.ease)&&(t.ease=jL[t.ease])}const aS=10;class qk extends Jk{constructor(e){$k(e),DL(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:m,element:w,...r}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const x=new Jw({...r,autoplay:!1}),i=qr(this.finishedTime??this.time);n.setWithVelocity(x.sample(i-aS).value,x.sample(i).value,aS),x.stop()}}const oS=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&($o.test(t)||t==="0")&&!t.startsWith("url("));function _k(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function eH(t,e,n,s){const m=t[0];if(m===null)return!1;if(e==="display"||e==="visibility")return!0;const w=t[t.length-1],r=oS(m,e),x=oS(w,e);return!r||!x?!1:_k(t)||(n==="spring"||QL(n))&&s}function g1(t){t.duration=0,t.type="keyframes"}const tH=new Set(["opacity","clipPath","filter","transform"]),iH=kw(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function nH(t){var p;const{motionValue:e,name:n,repeatDelay:s,repeatType:m,damping:w,type:r}=t;if(!(((p=e==null?void 0:e.owner)==null?void 0:p.current)instanceof HTMLElement))return!1;const{onUpdate:i,transformTemplate:a}=e.owner.getProps();return iH()&&n&&tH.has(n)&&(n!=="transform"||!a)&&!i&&!s&&m!=="mirror"&&w!==0&&r!=="inertia"}const sH=40;class rH extends Kw{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:m=0,repeatDelay:w=0,repeatType:r="loop",keyframes:x,name:i,motionValue:a,element:p,...c}){var l;super(),this.stop=()=>{var d,f;this._animation&&(this._animation.stop(),(d=this.stopTimeline)==null||d.call(this)),(f=this.keyframeResolver)==null||f.cancel()},this.createdAt=vs.now();const o={autoplay:e,delay:n,type:s,repeat:m,repeatDelay:w,repeatType:r,name:i,motionValue:a,element:p,...c},u=(p==null?void 0:p.KeyframeResolver)||Zw;this.keyframeResolver=new u(x,(d,f,h)=>this.onKeyframesResolved(d,f,o,!h),i,a,p),(l=this.keyframeResolver)==null||l.scheduleResolve()}onKeyframesResolved(e,n,s,m){this.keyframeResolver=void 0;const{name:w,type:r,velocity:x,delay:i,isHandoff:a,onUpdate:p}=s;this.resolvedAt=vs.now(),eH(e,w,r,x)||((ka.instantAnimations||!i)&&(p==null||p(Ww(e,s,n))),e[0]=e[e.length-1],g1(s),s.repeat=0);const o={startTime:m?this.resolvedAt?this.resolvedAt-this.createdAt>sH?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},u=!a&&nH(o)?new qk({...o,element:o.motionValue.owner.current}):new Jw(o);u.finished.then(()=>this.notifyFinished()).catch(Ar),this.pendingTimeline&&(this.stopTimeline=u.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=u}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),Qk()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const aH=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function oH(t){const e=aH.exec(t);if(!e)return[,];const[,n,s,m]=e;return[`--${n??s}`,m]}function VL(t,e,n=1){const[s,m]=oH(t);if(!s)return;const w=window.getComputedStyle(e).getPropertyValue(s);if(w){const r=w.trim();return hL(r)?parseFloat(r):r}return jw(m)?VL(m,e,n+1):m}function $w(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const zL=new Set(["width","height","top","left","right","bottom",...cc]),lH={test:t=>t==="auto",parse:t=>t},YL=t=>e=>e.test(t),XL=[hc,mt,_r,co,_O,qO,lH],lS=t=>XL.find(YL(t));function uH(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||dL(t):!0}const hH=new Set(["brightness","contrast","saturate","opacity"]);function cH(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(Vw)||[];if(!s)return t;const m=n.replace(s,"");let w=hH.has(e)?1:0;return s!==n&&(w*=100),e+"("+w+m+")"}const dH=/\b([a-z-]*)\(.*?\)/gu,v1={...$o,getAnimatableNone:t=>{const e=t.match(dH);return e?e.map(cH).join(" "):t}},uS={...hc,transform:Math.round},AH={rotate:co,rotateX:co,rotateY:co,rotateZ:co,scale:lp,scaleX:lp,scaleY:lp,scaleZ:lp,skew:co,skewX:co,skewY:co,distance:mt,translateX:mt,translateY:mt,translateZ:mt,x:mt,y:mt,z:mt,perspective:mt,transformPerspective:mt,opacity:mA,originX:Z5,originY:Z5,originZ:mt},qw={borderWidth:mt,borderTopWidth:mt,borderRightWidth:mt,borderBottomWidth:mt,borderLeftWidth:mt,borderRadius:mt,radius:mt,borderTopLeftRadius:mt,borderTopRightRadius:mt,borderBottomRightRadius:mt,borderBottomLeftRadius:mt,width:mt,maxWidth:mt,height:mt,maxHeight:mt,top:mt,right:mt,bottom:mt,left:mt,padding:mt,paddingTop:mt,paddingRight:mt,paddingBottom:mt,paddingLeft:mt,margin:mt,marginTop:mt,marginRight:mt,marginBottom:mt,marginLeft:mt,backgroundPositionX:mt,backgroundPositionY:mt,...AH,zIndex:uS,fillOpacity:mA,strokeOpacity:mA,numOctaves:uS},fH={...qw,color:Ki,backgroundColor:Ki,outlineColor:Ki,fill:Ki,stroke:Ki,borderColor:Ki,borderTopColor:Ki,borderRightColor:Ki,borderBottomColor:Ki,borderLeftColor:Ki,filter:v1,WebkitFilter:v1},WL=t=>fH[t];function KL(t,e){let n=WL(t);return n!==v1&&(n=$o),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const pH=new Set(["auto","none","0"]);function gH(t,e,n){let s=0,m;for(;s<t.length&&!m;){const w=t[s];typeof w=="string"&&!pH.has(w)&&yA(w).values.length&&(m=t[s]),s++}if(m&&n)for(const w of e)t[w]=KL(n,m)}class vH extends Zw{constructor(e,n,s,m,w){super(e,n,s,m,w,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let i=0;i<e.length;i++){let a=e[i];if(typeof a=="string"&&(a=a.trim(),jw(a))){const p=VL(a,n.current);p!==void 0&&(e[i]=p),i===e.length-1&&(this.finalKeyframe=a)}}if(this.resolveNoneKeyframes(),!zL.has(s)||e.length!==2)return;const[m,w]=e,r=lS(m),x=lS(w);if(r!==x)if(sS(r)&&sS(x))for(let i=0;i<e.length;i++){const a=e[i];typeof a=="string"&&(e[i]=parseFloat(a))}else Hl[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let m=0;m<e.length;m++)(e[m]===null||uH(e[m]))&&s.push(m);s.length&&gH(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Hl[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const m=n[n.length-1];m!==void 0&&e.getValue(s,m).jump(m,!1)}measureEndState(){var x;const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const m=e.getValue(n);m&&m.jump(this.measuredOrigin,!1);const w=s.length-1,r=s[w];s[w]=Hl[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=r),(x=this.removedTransforms)!=null&&x.length&&this.removedTransforms.forEach(([i,a])=>{e.getValue(i).set(a)}),this.resolveNoneKeyframes()}}function mH(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const m=(n==null?void 0:n[t])??s.querySelectorAll(t);return m?Array.from(m):[]}return Array.from(t)}const JL=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function ZL(t){return cL(t)&&"offsetHeight"in t}const hS=30,yH=t=>!isNaN(parseFloat(t));class xH{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var w;const m=vs.now();if(this.updatedAt!==m&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((w=this.events.change)==null||w.notify(this.current),this.dependents))for(const r of this.dependents)r.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=vs.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=yH(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Hw);const s=this.events[e].add(n);return e==="change"?()=>{s(),wi.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=vs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>hS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,hS);return AL(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function _h(t,e){return new xH(t,e)}const{schedule:_w}=SL(queueMicrotask,!1),Lr={x:!1,y:!1};function $L(){return Lr.x||Lr.y}function wH(t){return t==="x"||t==="y"?Lr[t]?null:(Lr[t]=!0,()=>{Lr[t]=!1}):Lr.x||Lr.y?null:(Lr.x=Lr.y=!0,()=>{Lr.x=Lr.y=!1})}function qL(t,e){const n=mH(t),s=new AbortController,m={passive:!0,...e,signal:s.signal};return[n,m,()=>s.abort()]}function cS(t){return!(t.pointerType==="touch"||$L())}function CH(t,e,n={}){const[s,m,w]=qL(t,n),r=x=>{if(!cS(x))return;const{target:i}=x,a=e(i,x);if(typeof a!="function"||!i)return;const p=c=>{cS(c)&&(a(c),i.removeEventListener("pointerleave",p))};i.addEventListener("pointerleave",p,m)};return s.forEach(x=>{x.addEventListener("pointerenter",r,m)}),w}const _L=(t,e)=>e?t===e?!0:_L(t,e.parentElement):!1,eC=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,bH=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function SH(t){return bH.has(t.tagName)||t.tabIndex!==-1}const ug=new WeakSet;function dS(t){return e=>{e.key==="Enter"&&t(e)}}function ry(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const TH=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=dS(()=>{if(ug.has(n))return;ry(n,"down");const m=dS(()=>{ry(n,"up")}),w=()=>ry(n,"cancel");n.addEventListener("keyup",m,e),n.addEventListener("blur",w,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function AS(t){return eC(t)&&!$L()}function EH(t,e,n={}){const[s,m,w]=qL(t,n),r=x=>{const i=x.currentTarget;if(!AS(x))return;ug.add(i);const a=e(i,x),p=(u,l)=>{window.removeEventListener("pointerup",c),window.removeEventListener("pointercancel",o),ug.has(i)&&ug.delete(i),AS(u)&&typeof a=="function"&&a(u,{success:l})},c=u=>{p(u,i===window||i===document||n.useGlobalTarget||_L(i,u.target))},o=u=>{p(u,!1)};window.addEventListener("pointerup",c,m),window.addEventListener("pointercancel",o,m)};return s.forEach(x=>{(n.useGlobalTarget?window:x).addEventListener("pointerdown",r,m),ZL(x)&&(x.addEventListener("focus",a=>TH(a,m)),!SH(x)&&!x.hasAttribute("tabindex")&&(x.tabIndex=0))}),w}function eM(t){return cL(t)&&"ownerSVGElement"in t}function BH(t){return eM(t)&&t.tagName==="svg"}const Qn=t=>!!(t&&t.getVelocity),FH=[...XL,Ki,$o],NH=t=>FH.find(YL(t)),tC=de.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function fS(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function LH(...t){return e=>{let n=!1;const s=t.map(m=>{const w=fS(m,e);return!n&&typeof w=="function"&&(n=!0),w});if(n)return()=>{for(let m=0;m<s.length;m++){const w=s[m];typeof w=="function"?w():fS(t[m],null)}}}}function MH(...t){return de.useCallback(LH(...t),t)}class RH extends de.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,m=ZL(s)&&s.offsetWidth||0,w=this.props.sizeRef.current;w.height=n.offsetHeight||0,w.width=n.offsetWidth||0,w.top=n.offsetTop,w.left=n.offsetLeft,w.right=m-w.width-w.left}return null}componentDidUpdate(){}render(){return this.props.children}}function IH({children:t,isPresent:e,anchorX:n,root:s}){const m=de.useId(),w=de.useRef(null),r=de.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:x}=de.useContext(tC),i=MH(w,t==null?void 0:t.ref);return de.useInsertionEffect(()=>{const{width:a,height:p,top:c,left:o,right:u}=r.current;if(e||!w.current||!a||!p)return;const l=n==="left"?`left: ${o}`:`right: ${u}`;w.current.dataset.motionPopId=m;const d=document.createElement("style");x&&(d.nonce=x);const f=s??document.head;return f.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${m}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${p}px !important;
            ${l}px !important;
            top: ${c}px !important;
          }
        `),()=>{f.contains(d)&&f.removeChild(d)}},[e]),E.jsx(RH,{isPresent:e,childRef:w,sizeRef:r,children:de.cloneElement(t,{ref:i})})}const PH=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:m,presenceAffectsLayout:w,mode:r,anchorX:x,root:i})=>{const a=Iw(UH),p=de.useId();let c=!0,o=de.useMemo(()=>(c=!1,{id:p,initial:e,isPresent:n,custom:m,onExitComplete:u=>{a.set(u,!0);for(const l of a.values())if(!l)return;s&&s()},register:u=>(a.set(u,!1),()=>a.delete(u))}),[n,a,s]);return w&&c&&(o={...o}),de.useMemo(()=>{a.forEach((u,l)=>a.set(l,!1))},[n]),de.useEffect(()=>{!n&&!a.size&&s&&s()},[n]),r==="popLayout"&&(t=E.jsx(IH,{isPresent:n,anchorX:x,root:i,children:t})),E.jsx(_v.Provider,{value:o,children:t})};function UH(){return new Map}function tM(t=!0){const e=de.useContext(_v);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:m}=e,w=de.useId();de.useEffect(()=>{if(t)return m(w)},[t]);const r=de.useCallback(()=>t&&s&&s(w),[w,s,t]);return!n&&s?[!1,r]:[!0]}const up=t=>t.key||"";function pS(t){const e=[];return de.Children.forEach(t,n=>{de.isValidElement(n)&&e.push(n)}),e}const an=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:m=!0,mode:w="sync",propagate:r=!1,anchorX:x="left",root:i})=>{const[a,p]=tM(r),c=de.useMemo(()=>pS(t),[t]),o=r&&!a?[]:c.map(up),u=de.useRef(!0),l=de.useRef(c),d=Iw(()=>new Map),[f,h]=de.useState(c),[A,g]=de.useState(c);uL(()=>{u.current=!1,l.current=c;for(let C=0;C<A.length;C++){const b=up(A[C]);o.includes(b)?d.delete(b):d.get(b)!==!0&&d.set(b,!1)}},[A,o.length,o.join("-")]);const v=[];if(c!==f){let C=[...c];for(let b=0;b<A.length;b++){const T=A[b],S=up(T);o.includes(S)||(C.splice(b,0,T),v.push(T))}return w==="wait"&&v.length&&(C=v),g(pS(C)),h(c),null}const{forceRender:y}=de.useContext(Rw);return E.jsx(E.Fragment,{children:A.map(C=>{const b=up(C),T=r&&!a?!1:c===A||o.includes(b),S=()=>{if(d.has(b))d.set(b,!0);else return;let F=!0;d.forEach(B=>{B||(F=!1)}),F&&(y==null||y(),g(l.current),r&&(p==null||p()),s&&s())};return E.jsx(PH,{isPresent:T,initial:!u.current||n?void 0:!1,custom:e,presenceAffectsLayout:m,mode:w,root:i,onExitComplete:T?void 0:S,anchorX:x,children:C},b)})})},iM=de.createContext({strict:!1}),gS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ec={};for(const t in gS)ec[t]={isEnabled:e=>gS[t].some(n=>!!e[n])};function DH(t){for(const e in t)ec[e]={...ec[e],...t[e]}}const OH=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function rv(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||OH.has(t)}let nM=t=>!rv(t);function kH(t){typeof t=="function"&&(nM=e=>e.startsWith("on")?!rv(e):t(e))}try{kH(require("@emotion/is-prop-valid").default)}catch{}function HH(t,e,n){const s={};for(const m in t)m==="values"&&typeof t.values=="object"||(nM(m)||n===!0&&rv(m)||!e&&!rv(m)||t.draggable&&m.startsWith("onDrag"))&&(s[m]=t[m]);return s}const e0=de.createContext({});function t0(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function xA(t){return typeof t=="string"||Array.isArray(t)}const iC=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],nC=["initial",...iC];function i0(t){return t0(t.animate)||nC.some(e=>xA(t[e]))}function sM(t){return!!(i0(t)||t.variants)}function GH(t,e){if(i0(t)){const{initial:n,animate:s}=t;return{initial:n===!1||xA(n)?n:void 0,animate:xA(s)?s:void 0}}return t.inherit!==!1?e:{}}function QH(t){const{initial:e,animate:n}=GH(t,de.useContext(e0));return de.useMemo(()=>({initial:e,animate:n}),[vS(e),vS(n)])}function vS(t){return Array.isArray(t)?t.join(" "):t}function mS(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ed={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(mt.test(t))t=parseFloat(t);else return t;const n=mS(t,e.target.x),s=mS(t,e.target.y);return`${n}% ${s}%`}},jH={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,m=$o.parse(t);if(m.length>5)return s;const w=$o.createTransformer(t),r=typeof m[0]!="number"?1:0,x=n.x.scale*e.x,i=n.y.scale*e.y;m[0+r]/=x,m[1+r]/=i;const a=Ti(x,i,.5);return typeof m[2+r]=="number"&&(m[2+r]/=a),typeof m[3+r]=="number"&&(m[3+r]/=a),w(m)}},m1={borderRadius:{...ed,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ed,borderTopRightRadius:ed,borderBottomLeftRadius:ed,borderBottomRightRadius:ed,boxShadow:jH};function rM(t,{layout:e,layoutId:n}){return dc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!m1[t]||t==="opacity")}const VH={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},zH=cc.length;function YH(t,e,n){let s="",m=!0;for(let w=0;w<zH;w++){const r=cc[w],x=t[r];if(x===void 0)continue;let i=!0;if(typeof x=="number"?i=x===(r.startsWith("scale")?1:0):i=parseFloat(x)===0,!i||n){const a=JL(x,qw[r]);if(!i){m=!1;const p=VH[r]||r;s+=`${p}(${a}) `}n&&(e[r]=a)}}return s=s.trim(),n?s=n(e,m?"":s):m&&(s="none"),s}function sC(t,e,n){const{style:s,vars:m,transformOrigin:w}=t;let r=!1,x=!1;for(const i in e){const a=e[i];if(dc.has(i)){r=!0;continue}else if(EL(i)){m[i]=a;continue}else{const p=JL(a,qw[i]);i.startsWith("origin")?(x=!0,w[i]=p):s[i]=p}}if(e.transform||(r||n?s.transform=YH(e,t.transform,n):s.transform&&(s.transform="none")),x){const{originX:i="50%",originY:a="50%",originZ:p=0}=w;s.transformOrigin=`${i} ${a} ${p}`}}const rC=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function aM(t,e,n){for(const s in e)!Qn(e[s])&&!rM(s,n)&&(t[s]=e[s])}function XH({transformTemplate:t},e){return de.useMemo(()=>{const n=rC();return sC(n,e,t),Object.assign({},n.vars,n.style)},[e])}function WH(t,e){const n=t.style||{},s={};return aM(s,n,t),Object.assign(s,XH(t,e)),s}function KH(t,e){const n={},s=WH(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const JH={offset:"stroke-dashoffset",array:"stroke-dasharray"},ZH={offset:"strokeDashoffset",array:"strokeDasharray"};function $H(t,e,n=1,s=0,m=!0){t.pathLength=1;const w=m?JH:ZH;t[w.offset]=mt.transform(-s);const r=mt.transform(e),x=mt.transform(n);t[w.array]=`${r} ${x}`}function oM(t,{attrX:e,attrY:n,attrScale:s,pathLength:m,pathSpacing:w=1,pathOffset:r=0,...x},i,a,p){if(sC(t,x,a),i){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:c,style:o}=t;c.transform&&(o.transform=c.transform,delete c.transform),(o.transform||c.transformOrigin)&&(o.transformOrigin=c.transformOrigin??"50% 50%",delete c.transformOrigin),o.transform&&(o.transformBox=(p==null?void 0:p.transformBox)??"fill-box",delete c.transformBox),e!==void 0&&(c.x=e),n!==void 0&&(c.y=n),s!==void 0&&(c.scale=s),m!==void 0&&$H(c,m,w,r,!1)}const lM=()=>({...rC(),attrs:{}}),uM=t=>typeof t=="string"&&t.toLowerCase()==="svg";function qH(t,e,n,s){const m=de.useMemo(()=>{const w=lM();return oM(w,e,uM(s),t.transformTemplate,t.style),{...w.attrs,style:{...w.style}}},[e]);if(t.style){const w={};aM(w,t.style,t),m.style={...w,...m.style}}return m}const _H=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function aC(t){return typeof t!="string"||t.includes("-")?!1:!!(_H.indexOf(t)>-1||/[A-Z]/u.test(t))}function eG(t,e,n,{latestValues:s},m,w=!1){const x=(aC(t)?qH:KH)(e,s,m,t),i=HH(e,typeof t=="string",w),a=t!==de.Fragment?{...i,...x,ref:n}:{},{children:p}=e,c=de.useMemo(()=>Qn(p)?p.get():p,[p]);return de.createElement(t,{...a,children:c})}function yS(t){const e=[{},{}];return t==null||t.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function oC(t,e,n,s){if(typeof e=="function"){const[m,w]=yS(s);e=e(n!==void 0?n:t.custom,m,w)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[m,w]=yS(s);e=e(n!==void 0?n:t.custom,m,w)}return e}function hg(t){return Qn(t)?t.get():t}function tG({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,m){return{latestValues:iG(n,s,m,t),renderState:e()}}function iG(t,e,n,s){const m={},w=s(t,{});for(const o in w)m[o]=hg(w[o]);let{initial:r,animate:x}=t;const i=i0(t),a=sM(t);e&&a&&!i&&t.inherit!==!1&&(r===void 0&&(r=e.initial),x===void 0&&(x=e.animate));let p=n?n.initial===!1:!1;p=p||r===!1;const c=p?x:r;if(c&&typeof c!="boolean"&&!t0(c)){const o=Array.isArray(c)?c:[c];for(let u=0;u<o.length;u++){const l=oC(t,o[u]);if(l){const{transitionEnd:d,transition:f,...h}=l;for(const A in h){let g=h[A];if(Array.isArray(g)){const v=p?g.length-1:0;g=g[v]}g!==null&&(m[A]=g)}for(const A in d)m[A]=d[A]}}}return m}const hM=t=>(e,n)=>{const s=de.useContext(e0),m=de.useContext(_v),w=()=>tG(t,e,s,m);return n?w():Iw(w)};function lC(t,e,n){var w;const{style:s}=t,m={};for(const r in s)(Qn(s[r])||e.style&&Qn(e.style[r])||rM(r,t)||((w=n==null?void 0:n.getValue(r))==null?void 0:w.liveStyle)!==void 0)&&(m[r]=s[r]);return m}const nG=hM({scrapeMotionValuesFromProps:lC,createRenderState:rC});function cM(t,e,n){const s=lC(t,e,n);for(const m in t)if(Qn(t[m])||Qn(e[m])){const w=cc.indexOf(m)!==-1?"attr"+m.charAt(0).toUpperCase()+m.substring(1):m;s[w]=t[m]}return s}const sG=hM({scrapeMotionValuesFromProps:cM,createRenderState:lM}),rG=Symbol.for("motionComponentSymbol");function Ah(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function aG(t,e,n){return de.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):Ah(n)&&(n.current=s))},[e])}const uC=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),oG="framerAppearId",dM="data-"+uC(oG),AM=de.createContext({});function lG(t,e,n,s,m){var d,f;const{visualElement:w}=de.useContext(e0),r=de.useContext(iM),x=de.useContext(_v),i=de.useContext(tC).reducedMotion,a=de.useRef(null);s=s||r.renderer,!a.current&&s&&(a.current=s(t,{visualState:e,parent:w,props:n,presenceContext:x,blockInitialAnimation:x?x.initial===!1:!1,reducedMotionConfig:i}));const p=a.current,c=de.useContext(AM);p&&!p.projection&&m&&(p.type==="html"||p.type==="svg")&&uG(a.current,n,m,c);const o=de.useRef(!1);de.useInsertionEffect(()=>{p&&o.current&&p.update(n,x)});const u=n[dM],l=de.useRef(!!u&&!((d=window.MotionHandoffIsComplete)!=null&&d.call(window,u))&&((f=window.MotionHasOptimisedAnimation)==null?void 0:f.call(window,u)));return uL(()=>{p&&(o.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),l.current&&p.animationState&&p.animationState.animateChanges())}),de.useEffect(()=>{p&&(!l.current&&p.animationState&&p.animationState.animateChanges(),l.current&&(queueMicrotask(()=>{var h;(h=window.MotionHandoffMarkAsComplete)==null||h.call(window,u)}),l.current=!1),p.enteringChildren=void 0)}),p}function uG(t,e,n,s){const{layoutId:m,layout:w,drag:r,dragConstraints:x,layoutScroll:i,layoutRoot:a,layoutCrossfade:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:fM(t.parent)),t.projection.setOptions({layoutId:m,layout:w,alwaysMeasureLayout:!!r||x&&Ah(x),visualElement:t,animationType:typeof w=="string"?w:"both",initialPromotionConfig:s,crossfade:p,layoutScroll:i,layoutRoot:a})}function fM(t){if(t)return t.options.allowProjection!==!1?t.projection:fM(t.parent)}function ay(t,{forwardMotionProps:e=!1}={},n,s){n&&DH(n);const m=aC(t)?sG:nG;function w(x,i){let a;const p={...de.useContext(tC),...x,layoutId:hG(x)},{isStatic:c}=p,o=QH(x),u=m(x,c);if(!c&&Pw){cG();const l=dG(p);a=l.MeasureLayout,o.visualElement=lG(t,u,p,s,l.ProjectionNode)}return E.jsxs(e0.Provider,{value:o,children:[a&&o.visualElement?E.jsx(a,{visualElement:o.visualElement,...p}):null,eG(t,x,aG(u,o.visualElement,i),u,c,e)]})}w.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const r=de.forwardRef(w);return r[rG]=t,r}function hG({layoutId:t}){const e=de.useContext(Rw).id;return e&&t!==void 0?e+"-"+t:t}function cG(t,e){de.useContext(iM).strict}function dG(t){const{drag:e,layout:n}=ec;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function AG(t,e){if(typeof Proxy>"u")return ay;const n=new Map,s=(w,r)=>ay(w,r,t,e),m=(w,r)=>s(w,r);return new Proxy(m,{get:(w,r)=>r==="create"?s:(n.has(r)||n.set(r,ay(r,void 0,t,e)),n.get(r))})}function pM({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function fG({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function pG(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function oy(t){return t===void 0||t===1}function y1({scale:t,scaleX:e,scaleY:n}){return!oy(t)||!oy(e)||!oy(n)}function Sl(t){return y1(t)||gM(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function gM(t){return xS(t.x)||xS(t.y)}function xS(t){return t&&t!=="0%"}function av(t,e,n){const s=t-n,m=e*s;return n+m}function wS(t,e,n,s,m){return m!==void 0&&(t=av(t,m,s)),av(t,n,s)+e}function x1(t,e=0,n=1,s,m){t.min=wS(t.min,e,n,s,m),t.max=wS(t.max,e,n,s,m)}function vM(t,{x:e,y:n}){x1(t.x,e.translate,e.scale,e.originPoint),x1(t.y,n.translate,n.scale,n.originPoint)}const CS=.999999999999,bS=1.0000000000001;function gG(t,e,n,s=!1){const m=n.length;if(!m)return;e.x=e.y=1;let w,r;for(let x=0;x<m;x++){w=n[x],r=w.projectionDelta;const{visualElement:i}=w.options;i&&i.props.style&&i.props.style.display==="contents"||(s&&w.options.layoutScroll&&w.scroll&&w!==w.root&&ph(t,{x:-w.scroll.offset.x,y:-w.scroll.offset.y}),r&&(e.x*=r.x.scale,e.y*=r.y.scale,vM(t,r)),s&&Sl(w.latestValues)&&ph(t,w.latestValues))}e.x<bS&&e.x>CS&&(e.x=1),e.y<bS&&e.y>CS&&(e.y=1)}function fh(t,e){t.min=t.min+e,t.max=t.max+e}function SS(t,e,n,s,m=.5){const w=Ti(t.min,t.max,m);x1(t,e,n,w,s)}function ph(t,e){SS(t.x,e.x,e.scaleX,e.scale,e.originX),SS(t.y,e.y,e.scaleY,e.scale,e.originY)}function mM(t,e){return pM(pG(t.getBoundingClientRect(),e))}function vG(t,e,n){const s=mM(t,n),{scroll:m}=e;return m&&(fh(s.x,m.offset.x),fh(s.y,m.offset.y)),s}const TS=()=>({translate:0,scale:1,origin:0,originPoint:0}),gh=()=>({x:TS(),y:TS()}),ES=()=>({min:0,max:0}),tn=()=>({x:ES(),y:ES()}),w1={current:null},yM={current:!1};function mG(){if(yM.current=!0,!!Pw)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>w1.current=t.matches;t.addEventListener("change",e),e()}else w1.current=!1}const yG=new WeakMap;function xG(t,e,n){for(const s in e){const m=e[s],w=n[s];if(Qn(m))t.addValue(s,m);else if(Qn(w))t.addValue(s,_h(m,{owner:t}));else if(w!==m)if(t.hasValue(s)){const r=t.getValue(s);r.liveStyle===!0?r.jump(m):r.hasAnimated||r.set(m)}else{const r=t.getStaticValue(s);t.addValue(s,_h(r!==void 0?r:m,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const BS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class wG{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:m,blockInitialAnimation:w,visualState:r},x={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Zw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const o=vs.now();this.renderScheduledAt<o&&(this.renderScheduledAt=o,wi.render(this.render,!1,!0))};const{latestValues:i,renderState:a}=r;this.latestValues=i,this.baseTarget={...i},this.initialValues=n.initial?{...i}:{},this.renderState=a,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=m,this.options=x,this.blockInitialAnimation=!!w,this.isControllingVariants=i0(n),this.isVariantNode=sM(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...c}=this.scrapeMotionValuesFromProps(n,{},this);for(const o in c){const u=c[o];i[o]!==void 0&&Qn(u)&&u.set(i[o])}}mount(e){var n;this.current=e,yG.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,m)=>this.bindToMotionValue(m,s)),yM.current||mG(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:w1.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Zo(this.notifyUpdate),Zo(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const s=this.features[n];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=dc.has(e);s&&this.onBindTransform&&this.onBindTransform();const m=n.on("change",r=>{this.latestValues[e]=r,this.props.onUpdate&&wi.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let w;window.MotionCheckAppearSync&&(w=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{m(),w&&w(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ec){const n=ec[e];if(!n)continue;const{isEnabled:s,Feature:m}=n;if(!this.features[e]&&m&&s(this.props)&&(this.features[e]=new m(this)),this.features[e]){const w=this.features[e];w.isMounted?w.update():(w.mount(),w.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):tn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<BS.length;s++){const m=BS[s];this.propEventSubscriptions[m]&&(this.propEventSubscriptions[m](),delete this.propEventSubscriptions[m]);const w="on"+m,r=e[w];r&&(this.propEventSubscriptions[m]=this.on(m,r))}this.prevMotionValues=xG(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=_h(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(hL(s)||dL(s))?s=parseFloat(s):!NH(s)&&$o.test(n)&&(s=KL(e,n)),this.setBaseTarget(e,Qn(s)?s.get():s)),Qn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var w;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const r=oC(this.props,n,(w=this.presenceContext)==null?void 0:w.custom);r&&(s=r[e])}if(n&&s!==void 0)return s;const m=this.getBaseTargetFromProps(this.props,e);return m!==void 0&&!Qn(m)?m:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Hw),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){_w.render(this.render)}}class xM extends wG{constructor(){super(...arguments),this.KeyframeResolver=vH}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Qn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function wM(t,{style:e,vars:n},s,m){const w=t.style;let r;for(r in e)w[r]=e[r];m==null||m.applyProjectionStyles(w,s);for(r in n)w.setProperty(r,n[r])}function CG(t){return window.getComputedStyle(t)}class bG extends xM{constructor(){super(...arguments),this.type="html",this.renderInstance=wM}readValueFromInstance(e,n){var s;if(dc.has(n))return(s=this.projection)!=null&&s.isProjecting?c1(n):Dk(e,n);{const m=CG(e),w=(EL(n)?m.getPropertyValue(n):m[n])||0;return typeof w=="string"?w.trim():w}}measureInstanceViewportBox(e,{transformPagePoint:n}){return mM(e,n)}build(e,n,s){sC(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return lC(e,n,s)}}const CM=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function SG(t,e,n,s){wM(t,e,void 0,s);for(const m in e.attrs)t.setAttribute(CM.has(m)?m:uC(m),e.attrs[m])}class TG extends xM{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=tn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(dc.has(n)){const s=WL(n);return s&&s.default||0}return n=CM.has(n)?n:uC(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return cM(e,n,s)}build(e,n,s){oM(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,m){SG(e,n,s,m)}mount(e){this.isSVGTag=uM(e.tagName),super.mount(e)}}const EG=(t,e)=>aC(t)?new TG(e):new bG(e,{allowProjection:t!==de.Fragment});function Fh(t,e,n){const s=t.getProps();return oC(s,e,n!==void 0?n:s.custom,t)}const C1=t=>Array.isArray(t);function BG(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,_h(n))}function FG(t){return C1(t)?t[t.length-1]||0:t}function NG(t,e){const n=Fh(t,e);let{transitionEnd:s={},transition:m={},...w}=n||{};w={...w,...s};for(const r in w){const x=FG(w[r]);BG(t,r,x)}}function LG(t){return!!(Qn(t)&&t.add)}function b1(t,e){const n=t.getValue("willChange");if(LG(n))return n.add(e);if(!n&&ka.WillChange){const s=new ka.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function bM(t){return t.props[dM]}const MG=t=>t!==null;function RG(t,{repeat:e,repeatType:n="loop"},s){const m=t.filter(MG),w=e&&n!=="loop"&&e%2===1?0:m.length-1;return m[w]}const IG={type:"spring",stiffness:500,damping:25,restSpeed:10},PG=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),UG={type:"keyframes",duration:.8},DG={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},OG=(t,{keyframes:e})=>e.length>2?UG:dc.has(t)?t.startsWith("scale")?PG(e[1]):IG:DG;function kG({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:m,repeat:w,repeatType:r,repeatDelay:x,from:i,elapsed:a,...p}){return!!Object.keys(p).length}const hC=(t,e,n,s={},m,w)=>r=>{const x=$w(s,t)||{},i=x.delay||s.delay||0;let{elapsed:a=0}=s;a=a-qr(i);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...x,delay:-a,onUpdate:o=>{e.set(o),x.onUpdate&&x.onUpdate(o)},onComplete:()=>{r(),x.onComplete&&x.onComplete()},name:t,motionValue:e,element:w?void 0:m};kG(x)||Object.assign(p,OG(t,p)),p.duration&&(p.duration=qr(p.duration)),p.repeatDelay&&(p.repeatDelay=qr(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let c=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(g1(p),p.delay===0&&(c=!0)),(ka.instantAnimations||ka.skipAnimations)&&(c=!0,g1(p),p.delay=0),p.allowFlatten=!x.type&&!x.ease,c&&!w&&e.get()!==void 0){const o=RG(p.keyframes,x);if(o!==void 0){wi.update(()=>{p.onUpdate(o),p.onComplete()});return}}return x.isSync?new Jw(p):new rH(p)};function HG({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function SM(t,e,{delay:n=0,transitionOverride:s,type:m}={}){let{transition:w=t.getDefaultTransition(),transitionEnd:r,...x}=e;s&&(w=s);const i=[],a=m&&t.animationState&&t.animationState.getState()[m];for(const p in x){const c=t.getValue(p,t.latestValues[p]??null),o=x[p];if(o===void 0||a&&HG(a,p))continue;const u={delay:n,...$w(w||{},p)},l=c.get();if(l!==void 0&&!c.isAnimating&&!Array.isArray(o)&&o===l&&!u.velocity)continue;let d=!1;if(window.MotionHandoffAnimation){const h=bM(t);if(h){const A=window.MotionHandoffAnimation(h,p,wi);A!==null&&(u.startTime=A,d=!0)}}b1(t,p),c.start(hC(p,c,o,t.shouldReduceMotion&&zL.has(p)?{type:!1}:u,t,d));const f=c.animation;f&&i.push(f)}return r&&Promise.all(i).then(()=>{wi.update(()=>{r&&NG(t,r)})}),i}function TM(t,e,n,s=0,m=1){const w=Array.from(t).sort((a,p)=>a.sortNodePosition(p)).indexOf(e),r=t.size,x=(r-1)*s;return typeof n=="function"?n(w,r):m===1?w*s:x-w*s}function S1(t,e,n={}){var i;const s=Fh(t,e,n.type==="exit"?(i=t.presenceContext)==null?void 0:i.custom:void 0);let{transition:m=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(m=n.transitionOverride);const w=s?()=>Promise.all(SM(t,s,n)):()=>Promise.resolve(),r=t.variantChildren&&t.variantChildren.size?(a=0)=>{const{delayChildren:p=0,staggerChildren:c,staggerDirection:o}=m;return GG(t,e,a,p,c,o,n)}:()=>Promise.resolve(),{when:x}=m;if(x){const[a,p]=x==="beforeChildren"?[w,r]:[r,w];return a().then(()=>p())}else return Promise.all([w(),r(n.delay)])}function GG(t,e,n=0,s=0,m=0,w=1,r){const x=[];for(const i of t.variantChildren)i.notify("AnimationStart",e),x.push(S1(i,e,{...r,delay:n+(typeof s=="function"?0:s)+TM(t.variantChildren,i,s,m,w)}).then(()=>i.notify("AnimationComplete",e)));return Promise.all(x)}function QG(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const m=e.map(w=>S1(t,w,n));s=Promise.all(m)}else if(typeof e=="string")s=S1(t,e,n);else{const m=typeof e=="function"?Fh(t,e,n.custom):e;s=Promise.all(SM(t,m,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function EM(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const jG=nC.length;function BM(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?BM(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<jG;n++){const s=nC[n],m=t.props[s];(xA(m)||m===!1)&&(e[s]=m)}return e}const VG=[...iC].reverse(),zG=iC.length;function YG(t){return e=>Promise.all(e.map(({animation:n,options:s})=>QG(t,n,s)))}function XG(t){let e=YG(t),n=FS(),s=!0;const m=i=>(a,p)=>{var o;const c=Fh(t,p,i==="exit"?(o=t.presenceContext)==null?void 0:o.custom:void 0);if(c){const{transition:u,transitionEnd:l,...d}=c;a={...a,...d,...l}}return a};function w(i){e=i(t)}function r(i){const{props:a}=t,p=BM(t.parent)||{},c=[],o=new Set;let u={},l=1/0;for(let f=0;f<zG;f++){const h=VG[f],A=n[h],g=a[h]!==void 0?a[h]:p[h],v=xA(g),y=h===i?A.isActive:null;y===!1&&(l=f);let C=g===p[h]&&g!==a[h]&&v;if(C&&s&&t.manuallyAnimateOnMount&&(C=!1),A.protectedKeys={...u},!A.isActive&&y===null||!g&&!A.prevProp||t0(g)||typeof g=="boolean")continue;const b=WG(A.prevProp,g);let T=b||h===i&&A.isActive&&!C&&v||f>l&&v,S=!1;const F=Array.isArray(g)?g:[g];let B=F.reduce(m(h),{});y===!1&&(B={});const{prevResolvedValues:N={}}=A,L={...N,...B},R=P=>{T=!0,o.has(P)&&(S=!0,o.delete(P)),A.needsAnimating[P]=!0;const U=t.getValue(P);U&&(U.liveStyle=!1)};for(const P in L){const U=B[P],z=N[P];if(u.hasOwnProperty(P))continue;let W=!1;C1(U)&&C1(z)?W=!EM(U,z):W=U!==z,W?U!=null?R(P):o.add(P):U!==void 0&&o.has(P)?R(P):A.protectedKeys[P]=!0}A.prevProp=g,A.prevResolvedValues=B,A.isActive&&(u={...u,...B}),s&&t.blockInitialAnimation&&(T=!1);const I=C&&b;T&&(!I||S)&&c.push(...F.map(P=>{const U={type:h};if(typeof P=="string"&&s&&!I&&t.manuallyAnimateOnMount&&t.parent){const{parent:z}=t,W=Fh(z,P);if(z.enteringChildren&&W){const{delayChildren:Z}=W.transition||{};U.delay=TM(z.enteringChildren,t,Z)}}return{animation:P,options:U}}))}if(o.size){const f={};if(typeof a.initial!="boolean"){const h=Fh(t,Array.isArray(a.initial)?a.initial[0]:a.initial);h&&h.transition&&(f.transition=h.transition)}o.forEach(h=>{const A=t.getBaseTarget(h),g=t.getValue(h);g&&(g.liveStyle=!0),f[h]=A??null}),c.push({animation:f})}let d=!!c.length;return s&&(a.initial===!1||a.initial===a.animate)&&!t.manuallyAnimateOnMount&&(d=!1),s=!1,d?e(c):Promise.resolve()}function x(i,a){var c;if(n[i].isActive===a)return Promise.resolve();(c=t.variantChildren)==null||c.forEach(o=>{var u;return(u=o.animationState)==null?void 0:u.setActive(i,a)}),n[i].isActive=a;const p=r(i);for(const o in n)n[o].protectedKeys={};return p}return{animateChanges:r,setActive:x,setAnimateFunction:w,getState:()=>n,reset:()=>{n=FS()}}}function WG(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!EM(e,t):!1}function vl(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function FS(){return{animate:vl(!0),whileInView:vl(),whileHover:vl(),whileTap:vl(),whileDrag:vl(),whileFocus:vl(),exit:vl()}}class nl{constructor(e){this.isMounted=!1,this.node=e}update(){}}class KG extends nl{constructor(e){super(e),e.animationState||(e.animationState=XG(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();t0(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let JG=0;class ZG extends nl{constructor(){super(...arguments),this.id=JG++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const m=this.node.animationState.setActive("exit",!e);n&&!e&&m.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const $G={animation:{Feature:KG},exit:{Feature:ZG}};function wA(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function KA(t){return{point:{x:t.pageX,y:t.pageY}}}const qG=t=>e=>eC(e)&&t(e,KA(e));function Yd(t,e,n,s){return wA(t,e,qG(n),s)}const FM=1e-4,_G=1-FM,eQ=1+FM,NM=.01,tQ=0-NM,iQ=0+NM;function es(t){return t.max-t.min}function nQ(t,e,n){return Math.abs(t-e)<=n}function NS(t,e,n,s=.5){t.origin=s,t.originPoint=Ti(e.min,e.max,t.origin),t.scale=es(n)/es(e),t.translate=Ti(n.min,n.max,t.origin)-t.originPoint,(t.scale>=_G&&t.scale<=eQ||isNaN(t.scale))&&(t.scale=1),(t.translate>=tQ&&t.translate<=iQ||isNaN(t.translate))&&(t.translate=0)}function Xd(t,e,n,s){NS(t.x,e.x,n.x,s?s.originX:void 0),NS(t.y,e.y,n.y,s?s.originY:void 0)}function LS(t,e,n){t.min=n.min+e.min,t.max=t.min+es(e)}function sQ(t,e,n){LS(t.x,e.x,n.x),LS(t.y,e.y,n.y)}function MS(t,e,n){t.min=e.min-n.min,t.max=t.min+es(e)}function ov(t,e,n){MS(t.x,e.x,n.x),MS(t.y,e.y,n.y)}function $s(t){return[t("x"),t("y")]}const LM=({current:t})=>t?t.ownerDocument.defaultView:null,RS=(t,e)=>Math.abs(t-e);function rQ(t,e){const n=RS(t.x,e.x),s=RS(t.y,e.y);return Math.sqrt(n**2+s**2)}class MM{constructor(e,n,{transformPagePoint:s,contextWindow:m=window,dragSnapToOrigin:w=!1,distanceThreshold:r=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const o=uy(this.lastMoveEventInfo,this.history),u=this.startEvent!==null,l=rQ(o.offset,{x:0,y:0})>=this.distanceThreshold;if(!u&&!l)return;const{point:d}=o,{timestamp:f}=xn;this.history.push({...d,timestamp:f});const{onStart:h,onMove:A}=this.handlers;u||(h&&h(this.lastMoveEvent,o),this.startEvent=this.lastMoveEvent),A&&A(this.lastMoveEvent,o)},this.handlePointerMove=(o,u)=>{this.lastMoveEvent=o,this.lastMoveEventInfo=ly(u,this.transformPagePoint),wi.update(this.updatePoint,!0)},this.handlePointerUp=(o,u)=>{this.end();const{onEnd:l,onSessionEnd:d,resumeAnimation:f}=this.handlers;if(this.dragSnapToOrigin&&f&&f(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=uy(o.type==="pointercancel"?this.lastMoveEventInfo:ly(u,this.transformPagePoint),this.history);this.startEvent&&l&&l(o,h),d&&d(o,h)},!eC(e))return;this.dragSnapToOrigin=w,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=r,this.contextWindow=m||window;const x=KA(e),i=ly(x,this.transformPagePoint),{point:a}=i,{timestamp:p}=xn;this.history=[{...a,timestamp:p}];const{onSessionStart:c}=n;c&&c(e,uy(i,this.history)),this.removeListeners=YA(Yd(this.contextWindow,"pointermove",this.handlePointerMove),Yd(this.contextWindow,"pointerup",this.handlePointerUp),Yd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Zo(this.updatePoint)}}function ly(t,e){return e?{point:e(t.point)}:t}function IS(t,e){return{x:t.x-e.x,y:t.y-e.y}}function uy({point:t},e){return{point:t,delta:IS(t,RM(e)),offset:IS(t,aQ(e)),velocity:oQ(e,.1)}}function aQ(t){return t[0]}function RM(t){return t[t.length-1]}function oQ(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const m=RM(t);for(;n>=0&&(s=t[n],!(m.timestamp-s.timestamp>qr(e)));)n--;if(!s)return{x:0,y:0};const w=or(m.timestamp-s.timestamp);if(w===0)return{x:0,y:0};const r={x:(m.x-s.x)/w,y:(m.y-s.y)/w};return r.x===1/0&&(r.x=0),r.y===1/0&&(r.y=0),r}function lQ(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?Ti(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?Ti(n,t,s.max):Math.min(t,n)),t}function PS(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function uQ(t,{top:e,left:n,bottom:s,right:m}){return{x:PS(t.x,n,m),y:PS(t.y,e,s)}}function US(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function hQ(t,e){return{x:US(t.x,e.x),y:US(t.y,e.y)}}function cQ(t,e){let n=.5;const s=es(t),m=es(e);return m>s?n=vA(e.min,e.max-s,t.min):s>m&&(n=vA(t.min,t.max-m,e.min)),Oa(0,1,n)}function dQ(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const T1=.35;function AQ(t=T1){return t===!1?t=0:t===!0&&(t=T1),{x:DS(t,"left","right"),y:DS(t,"top","bottom")}}function DS(t,e,n){return{min:OS(t,e),max:OS(t,n)}}function OS(t,e){return typeof t=="number"?t:t[e]||0}const fQ=new WeakMap;class pQ{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=tn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:m}=this.visualElement;if(m&&m.isPresent===!1)return;const w=c=>{const{dragSnapToOrigin:o}=this.getProps();o?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(KA(c).point)},r=(c,o)=>{const{drag:u,dragPropagation:l,onDragStart:d}=this.getProps();if(u&&!l&&(this.openDragLock&&this.openDragLock(),this.openDragLock=wH(u),!this.openDragLock))return;this.latestPointerEvent=c,this.latestPanInfo=o,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),$s(h=>{let A=this.getAxisMotionValue(h).get()||0;if(_r.test(A)){const{projection:g}=this.visualElement;if(g&&g.layout){const v=g.layout.layoutBox[h];v&&(A=es(v)*(parseFloat(A)/100))}}this.originPoint[h]=A}),d&&wi.postRender(()=>d(c,o)),b1(this.visualElement,"transform");const{animationState:f}=this.visualElement;f&&f.setActive("whileDrag",!0)},x=(c,o)=>{this.latestPointerEvent=c,this.latestPanInfo=o;const{dragPropagation:u,dragDirectionLock:l,onDirectionLock:d,onDrag:f}=this.getProps();if(!u&&!this.openDragLock)return;const{offset:h}=o;if(l&&this.currentDirection===null){this.currentDirection=gQ(h),this.currentDirection!==null&&d&&d(this.currentDirection);return}this.updateAxis("x",o.point,h),this.updateAxis("y",o.point,h),this.visualElement.render(),f&&f(c,o)},i=(c,o)=>{this.latestPointerEvent=c,this.latestPanInfo=o,this.stop(c,o),this.latestPointerEvent=null,this.latestPanInfo=null},a=()=>$s(c=>{var o;return this.getAnimationState(c)==="paused"&&((o=this.getAxisMotionValue(c).animation)==null?void 0:o.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new MM(e,{onSessionStart:w,onStart:r,onMove:x,onSessionEnd:i,resumeAnimation:a},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:s,contextWindow:LM(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,m=n||this.latestPanInfo,w=this.isDragging;if(this.cancel(),!w||!m||!s)return;const{velocity:r}=m;this.startAnimation(r);const{onDragEnd:x}=this.getProps();x&&wi.postRender(()=>x(s,m))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:m}=this.getProps();if(!s||!hp(e,m,this.currentDirection))return;const w=this.getAxisMotionValue(e);let r=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(r=lQ(r,this.constraints[e],this.elastic[e])),w.set(r)}resolveConstraints(){var w;const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(w=this.visualElement.projection)==null?void 0:w.layout,m=this.constraints;e&&Ah(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=uQ(s.layoutBox,e):this.constraints=!1,this.elastic=AQ(n),m!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&$s(r=>{this.constraints!==!1&&this.getAxisMotionValue(r)&&(this.constraints[r]=dQ(s.layoutBox[r],this.constraints[r]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ah(e))return!1;const s=e.current,{projection:m}=this.visualElement;if(!m||!m.layout)return!1;const w=vG(s,m.root,this.visualElement.getTransformPagePoint());let r=hQ(m.layout.layoutBox,w);if(n){const x=n(fG(r));this.hasMutatedConstraints=!!x,x&&(r=pM(x))}return r}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:m,dragTransition:w,dragSnapToOrigin:r,onDragTransitionEnd:x}=this.getProps(),i=this.constraints||{},a=$s(p=>{if(!hp(p,n,this.currentDirection))return;let c=i&&i[p]||{};r&&(c={min:0,max:0});const o=m?200:1e6,u=m?40:1e7,l={type:"inertia",velocity:s?e[p]:0,bounceStiffness:o,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10,...w,...c};return this.startAxisValueAnimation(p,l)});return Promise.all(a).then(x)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return b1(this.visualElement,e),s.start(hC(e,s,0,n,this.visualElement,!1))}stopAnimation(){$s(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){$s(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),m=s[n];return m||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){$s(n=>{const{drag:s}=this.getProps();if(!hp(n,s,this.currentDirection))return;const{projection:m}=this.visualElement,w=this.getAxisMotionValue(n);if(m&&m.layout){const{min:r,max:x}=m.layout.layoutBox[n];w.set(e[n]-Ti(r,x,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Ah(n)||!s||!this.constraints)return;this.stopAnimation();const m={x:0,y:0};$s(r=>{const x=this.getAxisMotionValue(r);if(x&&this.constraints!==!1){const i=x.get();m[r]=cQ({min:i,max:i},this.constraints[r])}});const{transformTemplate:w}=this.visualElement.getProps();this.visualElement.current.style.transform=w?w({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),$s(r=>{if(!hp(r,e,null))return;const x=this.getAxisMotionValue(r),{min:i,max:a}=this.constraints[r];x.set(Ti(i,a,m[r]))})}addListeners(){if(!this.visualElement.current)return;fQ.set(this.visualElement,this);const e=this.visualElement.current,n=Yd(e,"pointerdown",i=>{const{drag:a,dragListener:p=!0}=this.getProps();a&&p&&this.start(i)}),s=()=>{const{dragConstraints:i}=this.getProps();Ah(i)&&i.current&&(this.constraints=this.resolveRefConstraints())},{projection:m}=this.visualElement,w=m.addEventListener("measure",s);m&&!m.layout&&(m.root&&m.root.updateScroll(),m.updateLayout()),wi.read(s);const r=wA(window,"resize",()=>this.scalePositionWithinConstraints()),x=m.addEventListener("didUpdate",({delta:i,hasLayoutChanged:a})=>{this.isDragging&&a&&($s(p=>{const c=this.getAxisMotionValue(p);c&&(this.originPoint[p]+=i[p].translate,c.set(c.get()+i[p].translate))}),this.visualElement.render())});return()=>{r(),n(),w(),x&&x()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:m=!1,dragConstraints:w=!1,dragElastic:r=T1,dragMomentum:x=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:m,dragConstraints:w,dragElastic:r,dragMomentum:x}}}function hp(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function gQ(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class vQ extends nl{constructor(e){super(e),this.removeGroupControls=Ar,this.removeListeners=Ar,this.controls=new pQ(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ar}unmount(){this.removeGroupControls(),this.removeListeners()}}const kS=t=>(e,n)=>{t&&wi.postRender(()=>t(e,n))};class mQ extends nl{constructor(){super(...arguments),this.removePointerDownListener=Ar}onPointerDown(e){this.session=new MM(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:LM(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:m}=this.node.getProps();return{onSessionStart:kS(e),onStart:kS(n),onMove:s,onEnd:(w,r)=>{delete this.session,m&&wi.postRender(()=>m(w,r))}}}mount(){this.removePointerDownListener=Yd(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const cg={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let hy=!1;class yQ extends de.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:m}=this.props,{projection:w}=e;w&&(n.group&&n.group.add(w),s&&s.register&&m&&s.register(w),hy&&w.root.didUpdate(),w.addEventListener("animationComplete",()=>{this.safeToRemove()}),w.setOptions({...w.options,onExitComplete:()=>this.safeToRemove()})),cg.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:m,isPresent:w}=this.props,{projection:r}=s;return r&&(r.isPresent=w,hy=!0,m||e.layoutDependency!==n||n===void 0||e.isPresent!==w?r.willUpdate():this.safeToRemove(),e.isPresent!==w&&(w?r.promote():r.relegate()||wi.postRender(()=>{const x=r.getStack();(!x||!x.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),_w.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:m}=e;hy=!0,m&&(m.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(m),s&&s.deregister&&s.deregister(m))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function IM(t){const[e,n]=tM(),s=de.useContext(Rw);return E.jsx(yQ,{...t,layoutGroup:s,switchLayoutGroup:de.useContext(AM),isPresent:e,safeToRemove:n})}function xQ(t,e,n){const s=Qn(t)?t:_h(t);return s.start(hC("",s,e,n)),s.animation}const wQ=(t,e)=>t.depth-e.depth;class CQ{constructor(){this.children=[],this.isDirty=!1}add(e){Uw(this.children,e),this.isDirty=!0}remove(e){Dw(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(wQ),this.isDirty=!1,this.children.forEach(e)}}function bQ(t,e){const n=vs.now(),s=({timestamp:m})=>{const w=m-n;w>=e&&(Zo(s),t(w-e))};return wi.setup(s,!0),()=>Zo(s)}const PM=["TopLeft","TopRight","BottomLeft","BottomRight"],SQ=PM.length,HS=t=>typeof t=="string"?parseFloat(t):t,GS=t=>typeof t=="number"||mt.test(t);function TQ(t,e,n,s,m,w){m?(t.opacity=Ti(0,n.opacity??1,EQ(s)),t.opacityExit=Ti(e.opacity??1,0,BQ(s))):w&&(t.opacity=Ti(e.opacity??1,n.opacity??1,s));for(let r=0;r<SQ;r++){const x=`border${PM[r]}Radius`;let i=QS(e,x),a=QS(n,x);if(i===void 0&&a===void 0)continue;i||(i=0),a||(a=0),i===0||a===0||GS(i)===GS(a)?(t[x]=Math.max(Ti(HS(i),HS(a),s),0),(_r.test(a)||_r.test(i))&&(t[x]+="%")):t[x]=a}(e.rotate||n.rotate)&&(t.rotate=Ti(e.rotate||0,n.rotate||0,s))}function QS(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const EQ=UM(0,.5,xL),BQ=UM(.5,.95,Ar);function UM(t,e,n){return s=>s<t?0:s>e?1:n(vA(t,e,s))}function jS(t,e){t.min=e.min,t.max=e.max}function Tr(t,e){jS(t.x,e.x),jS(t.y,e.y)}function VS(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function zS(t,e,n,s,m){return t-=e,t=av(t,1/n,s),m!==void 0&&(t=av(t,1/m,s)),t}function FQ(t,e=0,n=1,s=.5,m,w=t,r=t){if(_r.test(e)&&(e=parseFloat(e),e=Ti(r.min,r.max,e/100)-r.min),typeof e!="number")return;let x=Ti(w.min,w.max,s);t===w&&(x-=e),t.min=zS(t.min,e,n,x,m),t.max=zS(t.max,e,n,x,m)}function YS(t,e,[n,s,m],w,r){FQ(t,e[n],e[s],e[m],e.scale,w,r)}const NQ=["x","scaleX","originX"],LQ=["y","scaleY","originY"];function XS(t,e,n,s){YS(t.x,e,NQ,n?n.x:void 0,s?s.x:void 0),YS(t.y,e,LQ,n?n.y:void 0,s?s.y:void 0)}function WS(t){return t.translate===0&&t.scale===1}function DM(t){return WS(t.x)&&WS(t.y)}function KS(t,e){return t.min===e.min&&t.max===e.max}function MQ(t,e){return KS(t.x,e.x)&&KS(t.y,e.y)}function JS(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function OM(t,e){return JS(t.x,e.x)&&JS(t.y,e.y)}function ZS(t){return es(t.x)/es(t.y)}function $S(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class RQ{constructor(){this.members=[]}add(e){Uw(this.members,e),e.scheduleRender()}remove(e){if(Dw(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(m=>e===m);if(n===0)return!1;let s;for(let m=n;m>=0;m--){const w=this.members[m];if(w.isPresent!==!1){s=w;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:m}=e.options;m===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function IQ(t,e,n){let s="";const m=t.x.translate/e.x,w=t.y.translate/e.y,r=(n==null?void 0:n.z)||0;if((m||w||r)&&(s=`translate3d(${m}px, ${w}px, ${r}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:a,rotate:p,rotateX:c,rotateY:o,skewX:u,skewY:l}=n;a&&(s=`perspective(${a}px) ${s}`),p&&(s+=`rotate(${p}deg) `),c&&(s+=`rotateX(${c}deg) `),o&&(s+=`rotateY(${o}deg) `),u&&(s+=`skewX(${u}deg) `),l&&(s+=`skewY(${l}deg) `)}const x=t.x.scale*e.x,i=t.y.scale*e.y;return(x!==1||i!==1)&&(s+=`scale(${x}, ${i})`),s||"none"}const cy=["","X","Y","Z"],PQ=1e3;let UQ=0;function dy(t,e,n,s){const{latestValues:m}=e;m[t]&&(n[t]=m[t],e.setStaticValue(t,0),s&&(s[t]=0))}function kM(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=bM(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:m,layoutId:w}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",wi,!(m||w))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&kM(s)}function HM({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:m}){return class{constructor(r={},x=e==null?void 0:e()){this.id=UQ++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(kQ),this.nodes.forEach(jQ),this.nodes.forEach(VQ),this.nodes.forEach(HQ)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=r,this.root=x?x.root||x:this,this.path=x?[...x.path,x]:[],this.parent=x,this.depth=x?x.depth+1:0;for(let i=0;i<this.path.length;i++)this.path[i].shouldResetTransform=!0;this.root===this&&(this.nodes=new CQ)}addEventListener(r,x){return this.eventHandlers.has(r)||this.eventHandlers.set(r,new Hw),this.eventHandlers.get(r).add(x)}notifyListeners(r,...x){const i=this.eventHandlers.get(r);i&&i.notify(...x)}hasListeners(r){return this.eventHandlers.has(r)}mount(r){if(this.instance)return;this.isSVG=eM(r)&&!BH(r),this.instance=r;const{layoutId:x,layout:i,visualElement:a}=this.options;if(a&&!a.current&&a.mount(r),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(i||x)&&(this.isLayoutDirty=!0),t){let p,c=0;const o=()=>this.root.updateBlockedByResize=!1;wi.read(()=>{c=window.innerWidth}),t(r,()=>{const u=window.innerWidth;u!==c&&(c=u,this.root.updateBlockedByResize=!0,p&&p(),p=bQ(o,250),cg.hasAnimatedSinceResize&&(cg.hasAnimatedSinceResize=!1,this.nodes.forEach(eT)))})}x&&this.root.registerSharedNode(x,this),this.options.animate!==!1&&a&&(x||i)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:c,hasRelativeLayoutChanged:o,layout:u})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const l=this.options.transition||a.getDefaultTransition()||KQ,{onLayoutAnimationStart:d,onLayoutAnimationComplete:f}=a.getProps(),h=!this.targetLayout||!OM(this.targetLayout,u),A=!c&&o;if(this.options.layoutRoot||this.resumeFrom||A||c&&(h||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const g={...$w(l,"layout"),onPlay:d,onComplete:f};(a.shouldReduceMotion||this.options.layoutRoot)&&(g.delay=0,g.type=!1),this.startAnimation(g),this.setAnimationOrigin(p,A)}else c||eT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=u})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const r=this.getStack();r&&r.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Zo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(zQ),this.animationId++)}getTransformTemplate(){const{visualElement:r}=this.options;return r&&r.getProps().transformTemplate}willUpdate(r=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&kM(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const c=this.path[p];c.shouldResetTransform=!0,c.updateScroll("snapshot"),c.options.layoutRoot&&c.willUpdate(!1)}const{layoutId:x,layout:i}=this.options;if(x===void 0&&!i)return;const a=this.getTransformTemplate();this.prevTransformTemplateValue=a?a(this.latestValues,""):void 0,this.updateSnapshot(),r&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(qS);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(_S);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(QQ),this.nodes.forEach(DQ),this.nodes.forEach(OQ)):this.nodes.forEach(_S),this.clearAllSnapshots();const x=vs.now();xn.delta=Oa(0,1e3/60,x-xn.timestamp),xn.timestamp=x,xn.isProcessing=!0,ey.update.process(xn),ey.preRender.process(xn),ey.render.process(xn),xn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,_w.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(GQ),this.sharedNodes.forEach(YQ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,wi.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){wi.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!es(this.snapshot.measuredBox.x)&&!es(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let i=0;i<this.path.length;i++)this.path[i].updateScroll();const r=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=tn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:x}=this.options;x&&x.notify("LayoutMeasure",this.layout.layoutBox,r?r.layoutBox:void 0)}updateScroll(r="measure"){let x=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===r&&(x=!1),x&&this.instance){const i=s(this.instance);this.scroll={animationId:this.root.animationId,phase:r,isRoot:i,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:i}}}resetTransform(){if(!m)return;const r=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,x=this.projectionDelta&&!DM(this.projectionDelta),i=this.getTransformTemplate(),a=i?i(this.latestValues,""):void 0,p=a!==this.prevTransformTemplateValue;r&&this.instance&&(x||Sl(this.latestValues)||p)&&(m(this.instance,a),this.shouldResetTransform=!1,this.scheduleRender())}measure(r=!0){const x=this.measurePageBox();let i=this.removeElementScroll(x);return r&&(i=this.removeTransform(i)),JQ(i),{animationId:this.root.animationId,measuredBox:x,layoutBox:i,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:r}=this.options;if(!r)return tn();const x=r.measureViewportBox();if(!(((a=this.scroll)==null?void 0:a.wasRoot)||this.path.some(ZQ))){const{scroll:p}=this.root;p&&(fh(x.x,p.offset.x),fh(x.y,p.offset.y))}return x}removeElementScroll(r){var i;const x=tn();if(Tr(x,r),(i=this.scroll)!=null&&i.wasRoot)return x;for(let a=0;a<this.path.length;a++){const p=this.path[a],{scroll:c,options:o}=p;p!==this.root&&c&&o.layoutScroll&&(c.wasRoot&&Tr(x,r),fh(x.x,c.offset.x),fh(x.y,c.offset.y))}return x}applyTransform(r,x=!1){const i=tn();Tr(i,r);for(let a=0;a<this.path.length;a++){const p=this.path[a];!x&&p.options.layoutScroll&&p.scroll&&p!==p.root&&ph(i,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Sl(p.latestValues)&&ph(i,p.latestValues)}return Sl(this.latestValues)&&ph(i,this.latestValues),i}removeTransform(r){const x=tn();Tr(x,r);for(let i=0;i<this.path.length;i++){const a=this.path[i];if(!a.instance||!Sl(a.latestValues))continue;y1(a.latestValues)&&a.updateSnapshot();const p=tn(),c=a.measurePageBox();Tr(p,c),XS(x,a.latestValues,a.snapshot?a.snapshot.layoutBox:void 0,p)}return Sl(this.latestValues)&&XS(x,this.latestValues),x}setTargetDelta(r){this.targetDelta=r,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(r){this.options={...this.options,...r,crossfade:r.crossfade!==void 0?r.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==xn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(r=!1){var u;const x=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=x.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=x.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=x.isSharedProjectionDirty);const i=!!this.resumingFrom||this!==x;if(!(r||i&&this.isSharedProjectionDirty||this.isProjectionDirty||(u=this.parent)!=null&&u.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:c}=this.options;if(!this.layout||!(p||c))return;this.resolvedRelativeTargetAt=xn.timestamp;const o=this.getClosestProjectingParent();o&&this.linkedParentVersion!==o.layoutVersion&&!o.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(o&&o.layout?this.createRelativeTarget(o,this.layout.layoutBox,o.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=tn(),this.targetWithTransforms=tn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),sQ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Tr(this.target,this.layout.layoutBox),vM(this.target,this.targetDelta)):Tr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,o&&!!o.resumingFrom==!!this.resumingFrom&&!o.options.layoutScroll&&o.target&&this.animationProgress!==1?this.createRelativeTarget(o,this.target,o.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||y1(this.parent.latestValues)||gM(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(r,x,i){this.relativeParent=r,this.linkedParentVersion=r.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tn(),this.relativeTargetOrigin=tn(),ov(this.relativeTargetOrigin,x,i),Tr(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var l;const r=this.getLead(),x=!!this.resumingFrom||this!==r;let i=!0;if((this.isProjectionDirty||(l=this.parent)!=null&&l.isProjectionDirty)&&(i=!1),x&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(i=!1),this.resolvedRelativeTargetAt===xn.timestamp&&(i=!1),i)return;const{layout:a,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(a||p))return;Tr(this.layoutCorrected,this.layout.layoutBox);const c=this.treeScale.x,o=this.treeScale.y;gG(this.layoutCorrected,this.treeScale,this.path,x),r.layout&&!r.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(r.target=r.layout.layoutBox,r.targetWithTransforms=tn());const{target:u}=r;if(!u){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(VS(this.prevProjectionDelta.x,this.projectionDelta.x),VS(this.prevProjectionDelta.y,this.projectionDelta.y)),Xd(this.projectionDelta,this.layoutCorrected,u,this.latestValues),(this.treeScale.x!==c||this.treeScale.y!==o||!$S(this.projectionDelta.x,this.prevProjectionDelta.x)||!$S(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",u))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(r=!0){var x;if((x=this.options.visualElement)==null||x.scheduleRender(),r){const i=this.getStack();i&&i.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=gh(),this.projectionDelta=gh(),this.projectionDeltaWithTransform=gh()}setAnimationOrigin(r,x=!1){const i=this.snapshot,a=i?i.latestValues:{},p={...this.latestValues},c=gh();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!x;const o=tn(),u=i?i.source:void 0,l=this.layout?this.layout.source:void 0,d=u!==l,f=this.getStack(),h=!f||f.members.length<=1,A=!!(d&&!h&&this.options.crossfade===!0&&!this.path.some(WQ));this.animationProgress=0;let g;this.mixTargetDelta=v=>{const y=v/1e3;tT(c.x,r.x,y),tT(c.y,r.y,y),this.setTargetDelta(c),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ov(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),XQ(this.relativeTarget,this.relativeTargetOrigin,o,y),g&&MQ(this.relativeTarget,g)&&(this.isProjectionDirty=!1),g||(g=tn()),Tr(g,this.relativeTarget)),d&&(this.animationValues=p,TQ(p,a,this.latestValues,y,A,h)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=y},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(r){var x,i,a;this.notifyListeners("animationStart"),(x=this.currentAnimation)==null||x.stop(),(a=(i=this.resumingFrom)==null?void 0:i.currentAnimation)==null||a.stop(),this.pendingAnimation&&(Zo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=wi.update(()=>{cg.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=_h(0)),this.currentAnimation=xQ(this.motionValue,[0,1e3],{...r,velocity:0,isSync:!0,onUpdate:p=>{this.mixTargetDelta(p),r.onUpdate&&r.onUpdate(p)},onStop:()=>{},onComplete:()=>{r.onComplete&&r.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const r=this.getStack();r&&r.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(PQ),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const r=this.getLead();let{targetWithTransforms:x,target:i,layout:a,latestValues:p}=r;if(!(!x||!i||!a)){if(this!==r&&this.layout&&a&&GM(this.options.animationType,this.layout.layoutBox,a.layoutBox)){i=this.target||tn();const c=es(this.layout.layoutBox.x);i.x.min=r.target.x.min,i.x.max=i.x.min+c;const o=es(this.layout.layoutBox.y);i.y.min=r.target.y.min,i.y.max=i.y.min+o}Tr(x,i),ph(x,p),Xd(this.projectionDeltaWithTransform,this.layoutCorrected,x,p)}}registerSharedNode(r,x){this.sharedNodes.has(r)||this.sharedNodes.set(r,new RQ),this.sharedNodes.get(r).add(x);const a=x.options.initialPromotionConfig;x.promote({transition:a?a.transition:void 0,preserveFollowOpacity:a&&a.shouldPreserveFollowOpacity?a.shouldPreserveFollowOpacity(x):void 0})}isLead(){const r=this.getStack();return r?r.lead===this:!0}getLead(){var x;const{layoutId:r}=this.options;return r?((x=this.getStack())==null?void 0:x.lead)||this:this}getPrevLead(){var x;const{layoutId:r}=this.options;return r?(x=this.getStack())==null?void 0:x.prevLead:void 0}getStack(){const{layoutId:r}=this.options;if(r)return this.root.sharedNodes.get(r)}promote({needsReset:r,transition:x,preserveFollowOpacity:i}={}){const a=this.getStack();a&&a.promote(this,i),r&&(this.projectionDelta=void 0,this.needsReset=!0),x&&this.setOptions({transition:x})}relegate(){const r=this.getStack();return r?r.relegate(this):!1}resetSkewAndRotation(){const{visualElement:r}=this.options;if(!r)return;let x=!1;const{latestValues:i}=r;if((i.z||i.rotate||i.rotateX||i.rotateY||i.rotateZ||i.skewX||i.skewY)&&(x=!0),!x)return;const a={};i.z&&dy("z",r,a,this.animationValues);for(let p=0;p<cy.length;p++)dy(`rotate${cy[p]}`,r,a,this.animationValues),dy(`skew${cy[p]}`,r,a,this.animationValues);r.render();for(const p in a)r.setStaticValue(p,a[p]),this.animationValues&&(this.animationValues[p]=a[p]);r.scheduleRender()}applyProjectionStyles(r,x){if(!this.instance||this.isSVG)return;if(!this.isVisible){r.visibility="hidden";return}const i=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,r.visibility="",r.opacity="",r.pointerEvents=hg(x==null?void 0:x.pointerEvents)||"",r.transform=i?i(this.latestValues,""):"none";return}const a=this.getLead();if(!this.projectionDelta||!this.layout||!a.target){this.options.layoutId&&(r.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,r.pointerEvents=hg(x==null?void 0:x.pointerEvents)||""),this.hasProjected&&!Sl(this.latestValues)&&(r.transform=i?i({},""):"none",this.hasProjected=!1);return}r.visibility="";const p=a.animationValues||a.latestValues;this.applyTransformsToTarget();let c=IQ(this.projectionDeltaWithTransform,this.treeScale,p);i&&(c=i(p,c)),r.transform=c;const{x:o,y:u}=this.projectionDelta;r.transformOrigin=`${o.origin*100}% ${u.origin*100}% 0`,a.animationValues?r.opacity=a===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:r.opacity=a===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const l in m1){if(p[l]===void 0)continue;const{correct:d,applyTo:f,isCSSVariable:h}=m1[l],A=c==="none"?p[l]:d(p[l],a);if(f){const g=f.length;for(let v=0;v<g;v++)r[f[v]]=A}else h?this.options.visualElement.renderState.vars[l]=A:r[l]=A}this.options.layoutId&&(r.pointerEvents=a===this?hg(x==null?void 0:x.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(r=>{var x;return(x=r.currentAnimation)==null?void 0:x.stop()}),this.root.nodes.forEach(qS),this.root.sharedNodes.clear()}}}function DQ(t){t.updateLayout()}function OQ(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:m}=t.layout,{animationType:w}=t.options,r=e.source!==t.layout.source;w==="size"?$s(c=>{const o=r?e.measuredBox[c]:e.layoutBox[c],u=es(o);o.min=s[c].min,o.max=o.min+u}):GM(w,e.layoutBox,s)&&$s(c=>{const o=r?e.measuredBox[c]:e.layoutBox[c],u=es(s[c]);o.max=o.min+u,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[c].max=t.relativeTarget[c].min+u)});const x=gh();Xd(x,s,e.layoutBox);const i=gh();r?Xd(i,t.applyTransform(m,!0),e.measuredBox):Xd(i,s,e.layoutBox);const a=!DM(x);let p=!1;if(!t.resumeFrom){const c=t.getClosestProjectingParent();if(c&&!c.resumeFrom){const{snapshot:o,layout:u}=c;if(o&&u){const l=tn();ov(l,e.layoutBox,o.layoutBox);const d=tn();ov(d,s,u.layoutBox),OM(l,d)||(p=!0),c.options.layoutRoot&&(t.relativeTarget=d,t.relativeTargetOrigin=l,t.relativeParent=c)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:i,layoutDelta:x,hasLayoutChanged:a,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function kQ(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function HQ(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function GQ(t){t.clearSnapshot()}function qS(t){t.clearMeasurements()}function _S(t){t.isLayoutDirty=!1}function QQ(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function eT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function jQ(t){t.resolveTargetDelta()}function VQ(t){t.calcProjection()}function zQ(t){t.resetSkewAndRotation()}function YQ(t){t.removeLeadSnapshot()}function tT(t,e,n){t.translate=Ti(e.translate,0,n),t.scale=Ti(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function iT(t,e,n,s){t.min=Ti(e.min,n.min,s),t.max=Ti(e.max,n.max,s)}function XQ(t,e,n,s){iT(t.x,e.x,n.x,s),iT(t.y,e.y,n.y,s)}function WQ(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const KQ={duration:.45,ease:[.4,0,.1,1]},nT=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),sT=nT("applewebkit/")&&!nT("chrome/")?Math.round:Ar;function rT(t){t.min=sT(t.min),t.max=sT(t.max)}function JQ(t){rT(t.x),rT(t.y)}function GM(t,e,n){return t==="position"||t==="preserve-aspect"&&!nQ(ZS(e),ZS(n),.2)}function ZQ(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const $Q=HM({attachResizeListener:(t,e)=>wA(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ay={current:void 0},QM=HM({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ay.current){const t=new $Q({});t.mount(window),t.setOptions({layoutScroll:!0}),Ay.current=t}return Ay.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),qQ={pan:{Feature:mQ},drag:{Feature:vQ,ProjectionNode:QM,MeasureLayout:IM}};function aT(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const m="onHover"+n,w=s[m];w&&wi.postRender(()=>w(e,KA(e)))}class _Q extends nl{mount(){const{current:e}=this.node;e&&(this.unmount=CH(e,(n,s)=>(aT(this.node,s,"Start"),m=>aT(this.node,m,"End"))))}unmount(){}}class ej extends nl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=YA(wA(this.node.current,"focus",()=>this.onFocus()),wA(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function oT(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const m="onTap"+(n==="End"?"":n),w=s[m];w&&wi.postRender(()=>w(e,KA(e)))}class tj extends nl{mount(){const{current:e}=this.node;e&&(this.unmount=EH(e,(n,s)=>(oT(this.node,s,"Start"),(m,{success:w})=>oT(this.node,m,w?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const E1=new WeakMap,fy=new WeakMap,ij=t=>{const e=E1.get(t.target);e&&e(t)},nj=t=>{t.forEach(ij)};function sj({root:t,...e}){const n=t||document;fy.has(n)||fy.set(n,{});const s=fy.get(n),m=JSON.stringify(e);return s[m]||(s[m]=new IntersectionObserver(nj,{root:t,...e})),s[m]}function rj(t,e,n){const s=sj(e);return E1.set(t,n),s.observe(t),()=>{E1.delete(t),s.unobserve(t)}}const aj={some:0,all:1};class oj extends nl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:m="some",once:w}=e,r={root:n?n.current:void 0,rootMargin:s,threshold:typeof m=="number"?m:aj[m]},x=i=>{const{isIntersecting:a}=i;if(this.isInView===a||(this.isInView=a,w&&!a&&this.hasEnteredView))return;a&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",a);const{onViewportEnter:p,onViewportLeave:c}=this.node.getProps(),o=a?p:c;o&&o(i)};return rj(this.node.current,r,x)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(lj(e,n))&&this.startObserver()}unmount(){}}function lj({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const uj={inView:{Feature:oj},tap:{Feature:tj},focus:{Feature:ej},hover:{Feature:_Q}},hj={layout:{ProjectionNode:QM,MeasureLayout:IM}},cj={...$G,...uj,...qQ,...hj},ot=AG(cj,EG),n0=({onHome:t,onFeatures:e,onCurriculum:n,onPricing:s,onLogin:m,onRegister:w})=>E.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-white/90 backdrop-blur-md border-b border-gray-100",children:E.jsxs("div",{className:"flex justify-between items-center p-4 max-w-7xl mx-auto",children:[E.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:t,children:[E.jsx("div",{className:"w-10 h-10 bg-kid-secondary rounded-xl flex items-center justify-center text-white font-black text-xl shadow-[0_4px_0_0_rgba(21,128,61,1)]",children:"K"}),E.jsx("span",{className:"text-2xl font-black text-gray-800 tracking-tight",children:"KidCap HQ"})]}),E.jsxs("div",{className:"hidden md:flex gap-8 font-bold text-gray-500",children:[E.jsx("button",{onClick:e,className:"hover:text-kid-secondary transition-colors",children:"Features"}),E.jsx("button",{onClick:n,className:"hover:text-kid-secondary transition-colors",children:"Curriculum"}),E.jsx("button",{onClick:s,className:"hover:text-kid-secondary transition-colors",children:"Pricing"})]}),E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("button",{onClick:m,className:"px-5 py-2 text-gray-600 font-bold hover:bg-gray-100 rounded-xl transition-colors",children:"Log In"}),E.jsx("button",{onClick:w,className:"px-6 py-2 bg-kid-primary text-yellow-900 font-black rounded-xl shadow-[0_4px_0_0_rgba(202,138,4,1)] btn-juicy hover:bg-yellow-400 transition-all",children:"Start Free"})]})]})}),lT=["bg-gradient-to-br from-red-500 to-orange-500","bg-gradient-to-br from-amber-500 to-yellow-500","bg-gradient-to-br from-lime-500 to-green-500","bg-gradient-to-br from-emerald-500 to-teal-500","bg-gradient-to-br from-cyan-500 to-blue-500","bg-gradient-to-br from-indigo-500 to-purple-500","bg-gradient-to-br from-fuchsia-500 to-pink-500","bg-gradient-to-br from-rose-500 to-red-500","bg-gradient-to-br from-slate-600 to-slate-800"],CA=({src:t,alt:e,type:n,className:s=""})=>{const[m,w]=de.useState(!1),r=de.useMemo(()=>{let i=0;for(let p=0;p<e.length;p++)i=e.charCodeAt(p)+((i<<5)-i);const a=Math.abs(i)%lT.length;return lT[a]},[e]),x=()=>{switch(n){case"book":return E.jsx(Wh,{className:"text-white/50 mb-2",size:32});case"game":return E.jsx($h,{className:"text-white/50 mb-2",size:32});case"lesson":return E.jsx(ZN,{className:"text-white/50 mb-2",size:32});default:return E.jsx(D9,{className:"text-white/50 mb-2",size:24})}};return m||!t?E.jsxs("div",{className:`${s} ${r} flex flex-col items-center justify-center p-4 text-center overflow-hidden`,children:[x(),E.jsx("span",{className:"text-white font-black text-xs uppercase tracking-wider drop-shadow-md line-clamp-3",children:e})]}):E.jsx("img",{src:t,alt:e,className:s,onError:()=>w(!0),loading:"lazy"})},dj=({onGetStarted:t,onLogin:e,onRegister:n,onViewCurriculum:s,onViewPricing:m,onViewFeatures:w,onNavigateToPage:r})=>{var p;const{cmsContent:x}=Mt(),i=x.landing,a=c=>c.type==="HERO"||c.type==="CTA"?E.jsx("section",{className:"py-24 px-6 text-center",style:{backgroundColor:c.backgroundColor||"#f9fafb"},children:E.jsxs("div",{className:"max-w-4xl mx-auto",children:[E.jsx("h2",{className:"text-4xl font-black text-gray-900 mb-6",children:c.title}),E.jsx("p",{className:"text-xl text-gray-600 font-medium mb-10 leading-relaxed",children:c.content}),c.buttonText&&E.jsx("button",{onClick:n,className:"bg-kid-primary text-yellow-900 px-8 py-4 rounded-xl font-black text-lg shadow-lg hover:bg-yellow-400 transition-colors",children:c.buttonText})]})},c.id):c.type==="TEXT_IMAGE"?E.jsx("section",{className:"py-24 bg-white",children:E.jsx("div",{className:"max-w-7xl mx-auto px-6",children:E.jsxs("div",{className:`flex flex-col md:flex-row gap-12 items-center ${c.layout==="image_right"?"md:flex-row-reverse":""}`,children:[c.image&&E.jsx("div",{className:"flex-1",children:E.jsx(CA,{src:c.image,alt:c.title||"Section Image",type:"feature",className:"w-full rounded-3xl shadow-xl h-64 object-cover"})}),E.jsxs("div",{className:`flex-1 space-y-6 ${c.layout==="center"?"text-center":""}`,children:[E.jsx("h2",{className:"text-4xl font-black text-gray-900",children:c.title}),c.subtitle&&E.jsx("h3",{className:"text-xl font-bold text-blue-600",children:c.subtitle}),E.jsx("p",{className:"text-lg text-gray-600 font-medium leading-relaxed",children:c.content}),c.buttonText&&E.jsxs("button",{onClick:n,className:"inline-flex items-center gap-2 font-black text-blue-600 hover:gap-4 transition-all",children:[c.buttonText," ",E.jsx(Qo,{strokeWidth:3})]})]})]})})},c.id):null;return E.jsxs("div",{className:"min-h-screen bg-white font-sans text-gray-900 overflow-x-hidden selection:bg-yellow-200",children:[E.jsx(n0,{onHome:()=>window.scrollTo({top:0,behavior:"smooth"}),onFeatures:w,onCurriculum:s,onPricing:m,onLogin:e,onRegister:n}),E.jsx("section",{className:"relative pt-40 pb-20 px-4 overflow-hidden bg-gradient-to-b from-green-50 via-blue-50 to-white",children:E.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row items-center gap-12",children:[E.jsx("div",{className:"flex-1 text-center md:text-left z-10",children:E.jsxs(ot.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},children:[E.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-yellow-100 text-yellow-800 font-black text-xs uppercase tracking-widest mb-6 border-2 border-yellow-200",children:[E.jsx(pn,{fill:"currentColor",size:14})," The #1 Entrepreneur Academy for Kids"]}),E.jsx("h1",{className:"text-5xl md:text-7xl font-black text-gray-900 leading-[1.1] mb-6 whitespace-pre-line",children:i.heroTitle}),E.jsx("p",{className:"text-xl text-gray-600 font-medium mb-8 max-w-lg mx-auto md:mx-0 leading-relaxed",children:i.heroSubtitle}),E.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center md:justify-start",children:E.jsxs("button",{onClick:t,className:"px-8 py-4 bg-kid-secondary text-white font-black text-xl rounded-2xl shadow-[0_6px_0_0_rgba(21,128,61,1)] hover:bg-green-500 btn-juicy flex items-center justify-center gap-3 transition-all",children:[i.heroCta," ",E.jsx(Qo,{strokeWidth:4})]})}),E.jsxs("div",{className:"mt-8 flex items-center justify-center md:justify-start gap-4 text-sm font-bold text-gray-400",children:[E.jsx("div",{className:"flex -space-x-2",children:[1,2,3,4].map(c=>E.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 border-2 border-white overflow-hidden",children:E.jsx("img",{src:`https://api.dicebear.com/7.x/avataaars/svg?seed=${c}`,alt:"user"})},c))}),E.jsx("p",{children:"Join 10,000+ Future CEOs"})]})]})}),E.jsxs("div",{className:"flex-1 relative h-[500px] w-full flex items-center justify-center",children:[E.jsx("div",{className:"absolute top-10 right-10 w-72 h-72 bg-purple-400/20 rounded-full blur-3xl animate-pulse"}),E.jsx("div",{className:"absolute bottom-10 left-10 w-72 h-72 bg-yellow-400/20 rounded-full blur-3xl"}),E.jsxs(ot.div,{className:"absolute z-20 top-0 right-10 md:right-20 bg-white p-4 rounded-2xl shadow-xl border-b-4 border-gray-100 flex items-center gap-3 animate-float",children:[E.jsx("div",{className:"bg-yellow-100 p-3 rounded-full text-yellow-600",children:E.jsx(Zl,{fill:"currentColor",size:24})}),E.jsxs("div",{children:[E.jsx("div",{className:"font-black text-gray-800",children:"You Won!"}),E.jsx("div",{className:"text-gray-400 text-xs font-bold",children:"+500 XP"})]})]}),E.jsxs(ot.div,{className:"absolute z-20 bottom-20 left-0 md:left-10 bg-white p-4 rounded-2xl shadow-xl border-b-4 border-gray-100 flex items-center gap-3 animate-float-delayed",children:[E.jsx("div",{className:"bg-blue-100 p-3 rounded-full text-blue-600",children:E.jsx(Jo,{fill:"currentColor",size:24})}),E.jsxs("div",{children:[E.jsx("div",{className:"font-black text-gray-800",children:"New Startup"}),E.jsx("div",{className:"text-gray-400 text-xs font-bold",children:"Lemonade Inc."})]})]}),E.jsx(ot.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2},className:"relative z-10 w-full max-w-md",children:E.jsx(CA,{src:i.heroImage,alt:"App Screenshot",type:"hero",className:"rounded-3xl shadow-2xl border-8 border-white w-full transform rotate-2 hover:rotate-0 transition-transform duration-500 object-cover h-[400px]"})})]})]})}),E.jsx("section",{className:"py-12 border-y border-gray-100 bg-white",children:E.jsxs("div",{className:"max-w-7xl mx-auto px-6 text-center",children:[E.jsx("p",{className:"text-gray-400 font-bold uppercase tracking-widest text-sm mb-8",children:"Loved by Parents & Teachers Everywhere"}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[E.jsx(py,{name:"Sarah Jenkins",role:"Parent",text:"My 8-year-old asked me about 'compound interest' at dinner. I was floored. This app is pure gold."}),E.jsx(py,{name:"Mr. Thompson",role:"Teacher",text:"Finally, a way to teach financial literacy that isn't boring worksheets. The kids beg to play KidCap."}),E.jsx(py,{name:"David L.",role:"Dad of 3",text:"Safe, educational, and actually fun. It's the only screen time I don't feel guilty about."})]})]})}),E.jsx("section",{className:"py-24 bg-gray-50",children:E.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[E.jsxs("div",{className:"text-center mb-16",children:[E.jsx("h2",{className:"text-4xl font-black text-gray-800 mb-4",children:i.featuresTitle}),E.jsx("p",{className:"text-gray-500 font-medium max-w-2xl mx-auto text-lg",children:i.featuresSubtitle})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-12 relative",children:[E.jsx("div",{className:"hidden md:block absolute top-12 left-[20%] right-[20%] h-1 bg-gray-200 border-t-4 border-dotted border-gray-300 z-0"}),E.jsx(gy,{num:"1",icon:E.jsx(QA,{size:32,className:"text-white ml-1"}),title:"Play Simulators",desc:"Run virtual lemonade stands, pizza shops, and tech startups.",color:"bg-blue-500"}),E.jsx(gy,{num:"2",icon:E.jsx(GA,{size:32,className:"text-white"}),title:"Learn Concepts",desc:"Bite-sized lessons explain the 'Why' behind the money.",color:"bg-purple-500"}),E.jsx(gy,{num:"3",icon:E.jsx(Zl,{size:32,className:"text-white"}),title:"Earn & Upgrade",desc:"Get XP, unlock cool avatars, and build your dream HQ.",color:"bg-yellow-500"})]})]})}),E.jsx("section",{className:"py-24 bg-white",children:E.jsx("div",{className:"max-w-7xl mx-auto px-6",children:E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-16 items-center",children:[E.jsx("div",{className:"order-2 md:order-1",children:E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("div",{className:"space-y-4 mt-8",children:[E.jsxs("div",{className:"h-48 bg-yellow-100 rounded-3xl w-full flex flex-col items-center justify-center text-center p-4 border-4 border-yellow-200",children:[E.jsx("div",{className:"text-5xl mb-2",children:""}),E.jsx("div",{className:"font-black text-yellow-800",children:"Tycoon Mode"})]}),E.jsxs("div",{className:"h-64 bg-blue-100 rounded-3xl w-full flex flex-col items-center justify-center text-center p-4 border-4 border-blue-200",children:[E.jsx("div",{className:"text-5xl mb-2",children:""}),E.jsx("div",{className:"font-black text-blue-800",children:"Pizza Rush"})]})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"h-64 bg-pink-100 rounded-3xl w-full flex flex-col items-center justify-center text-center p-4 border-4 border-pink-200",children:[E.jsx("div",{className:"text-5xl mb-2",children:""}),E.jsx("div",{className:"font-black text-pink-800",children:"Brand Builder"})]}),E.jsxs("div",{className:"h-48 bg-green-100 rounded-3xl w-full flex flex-col items-center justify-center text-center p-4 border-4 border-green-200",children:[E.jsx("div",{className:"text-5xl mb-2",children:""}),E.jsx("div",{className:"font-black text-green-800",children:"Stock Market"})]})]})]})}),E.jsxs("div",{className:"flex-1 order-1 md:order-2",children:[E.jsx("span",{className:"text-kid-secondary font-black uppercase tracking-widest text-sm mb-2 block",children:"The Arcade"}),E.jsx("h2",{className:"text-4xl font-black text-gray-800 mb-6",children:i.arcadeTitle}),E.jsx("p",{className:"text-lg text-gray-500 font-medium mb-8 leading-relaxed",children:i.arcadeDesc}),E.jsxs("ul",{className:"space-y-4",children:[E.jsx(vy,{text:"Dynamic Weather & Market Conditions"}),E.jsx(vy,{text:"Hire Managers & Automate Income"}),E.jsx(vy,{text:"Design Logos & Marketing Campaigns"})]}),E.jsxs("button",{onClick:t,className:"mt-8 text-kid-secondary font-black text-lg flex items-center gap-2 hover:gap-4 transition-all",children:["Explore the Arcade ",E.jsx(Qo,{strokeWidth:4})]})]})]})})}),i.extraSections&&i.extraSections.map(c=>a(c)),E.jsxs("section",{className:"py-24 bg-gray-900 text-white relative overflow-hidden",children:[E.jsx("div",{className:"absolute top-0 left-0 w-full h-full opacity-10",style:{backgroundImage:"radial-gradient(#ffffff 2px, transparent 2px)",backgroundSize:"30px 30px"}}),E.jsxs("div",{className:"max-w-4xl mx-auto px-6 text-center relative z-10",children:[E.jsx("h2",{className:"text-5xl font-black mb-6",children:i.ctaTitle}),E.jsx("p",{className:"text-xl text-gray-400 font-medium mb-10",children:i.ctaSubtitle}),E.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[E.jsx("button",{onClick:n,className:"px-10 py-5 bg-kid-primary text-yellow-900 font-black text-xl rounded-2xl shadow-[0_6px_0_0_rgba(202,138,4,1)] btn-juicy hover:bg-yellow-400 transition-all",children:"Get Started Now"}),E.jsx("button",{onClick:m,className:"px-10 py-5 bg-white/10 text-white font-bold text-xl rounded-2xl hover:bg-white/20 transition-all",children:"View Plans"})]})]})]}),E.jsx("footer",{className:"bg-white border-t border-gray-100 py-12",children:E.jsxs("div",{className:"max-w-7xl mx-auto px-6 flex flex-col md:flex-row justify-between items-center gap-6",children:[E.jsxs("div",{className:"flex items-center gap-2 opacity-50 grayscale hover:grayscale-0 transition-all",children:[E.jsx("div",{className:"w-8 h-8 bg-kid-secondary rounded-lg flex items-center justify-center text-white font-black",children:"K"}),E.jsx("span",{className:"font-bold text-gray-600",children:"KidCap HQ"})]}),E.jsx("div",{className:"flex flex-wrap gap-6 text-sm font-bold text-gray-500 justify-center",children:(p=x.customPages)==null?void 0:p.map(c=>E.jsxs("button",{onClick:()=>r==null?void 0:r(c.slug),className:"hover:text-blue-600 flex items-center gap-1",children:[c.title," ",E.jsx(MD,{size:12})]},c.id))}),E.jsx("div",{className:"text-sm text-gray-400 font-medium",children:" 2024 KidCap HQ Inc. All rights reserved. Made with  for future leaders."})]})})]})},py=({name:t,role:e,text:n})=>E.jsxs("div",{className:"bg-gray-50 p-8 rounded-3xl text-left border-2 border-gray-100 hover:border-kid-primary hover:shadow-lg transition-all",children:[E.jsx("div",{className:"flex text-yellow-400 gap-1 mb-4",children:[1,2,3,4,5].map(s=>E.jsx(pn,{fill:"currentColor",size:16},s))}),E.jsxs("p",{className:"text-gray-700 font-medium mb-6 leading-relaxed",children:['"',n,'"']}),E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center font-bold text-gray-500",children:t[0]}),E.jsxs("div",{children:[E.jsx("div",{className:"font-black text-gray-900 text-sm",children:t}),E.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase",children:e})]})]})]}),gy=({num:t,icon:e,title:n,desc:s,color:m})=>E.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center",children:[E.jsxs("div",{className:`w-20 h-20 rounded-3xl ${m} flex items-center justify-center shadow-lg mb-6 transform hover:scale-110 transition-transform`,children:[e,E.jsx("div",{className:"absolute -top-3 -right-3 w-8 h-8 bg-white border-4 border-gray-100 rounded-full flex items-center justify-center font-black text-gray-400",children:t})]}),E.jsx("h3",{className:"text-xl font-black text-gray-800 mb-2",children:n}),E.jsx("p",{className:"text-gray-500 font-medium leading-relaxed",children:s})]}),vy=({text:t})=>E.jsxs("li",{className:"flex items-center gap-3 font-bold text-gray-700 bg-gray-50 p-3 rounded-xl border border-gray-100",children:[E.jsx("div",{className:"bg-green-100 p-1 rounded-full text-green-600",children:E.jsx(En,{size:16,strokeWidth:4})}),t]}),uT=()=>{const{user:t,updateUserSettings:e}=Mt();if(!t)return null;const n=t.settings.themeMode==="dark",s=()=>{e({themeMode:n?"light":"dark"})};return E.jsx("button",{onClick:s,className:"p-2 rounded-full transition-colors hover:bg-gray-100 dark:hover:bg-gray-700","aria-label":"Toggle Theme",children:n?E.jsx(sL,{size:20,className:"text-yellow-400 fill-current"}):E.jsx(h7,{size:20,className:"text-gray-600 fill-current"})})},hT=()=>{const{i18n:t}=Ri(),e=()=>{const s=t.language.startsWith("ar")?"en":"ar";t.changeLanguage(s)},n=t.language.startsWith("ar");return E.jsx("button",{onClick:e,className:"p-2 rounded-full transition-colors hover:bg-gray-100 dark:hover:bg-gray-700 text-xl","aria-label":"Toggle Language",title:n?"Switch to English":"Switch to Arabic",children:n?"":""})},Aj={intern:["feat_limited_energy","feat_standard_lessons","feat_ads"],founder:["feat_unlimited","feat_offline","feat_custom_hq"],board:["feat_family","feat_parent_dash","feat_founder_perks"],tycoon:["feat_ai_consultant","feat_negotiation","feat_board_perks"]},iu=({isOpen:t,onClose:e})=>{const{user:n,upgradeSubscription:s}=Mt(),[m,w]=de.useState(null),{t:r}=Ri();if(!n)return null;const x=p=>{p!==n.subscriptionTier&&(w(p),setTimeout(()=>{s(p),w(null),e(),alert(r("common.save")+"! "+r(`pricing.tier_${p}`)+" Active.")},1e3))},i=(p,c)=>c===0?r("pricing.btn_current"):p==="founder"?`${r("pricing.btn_get_funded")} ($${c})`:p==="board"?`${r("pricing.btn_start_family")} ($${c})`:p==="tycoon"?`${r("pricing.btn_hire_ollie")} ($${c})`:`${r("pricing.btn_select")}`,a=p=>{switch(p){case"intern":return E.jsx(VA,{size:28,className:"text-gray-400"});case"founder":return E.jsx(Jo,{size:28,className:"text-blue-500"});case"board":return E.jsx(qh,{size:28,className:"text-purple-500"});case"tycoon":return E.jsx(Zh,{size:28,className:"text-yellow-500"});default:return E.jsx(pn,{size:28})}};return E.jsx(an,{children:t&&E.jsx("div",{className:"fixed inset-0 z-[200] bg-black/90 backdrop-blur-md flex items-center justify-center p-4 font-sans overflow-y-auto",children:E.jsxs(ot.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"bg-white dark:bg-gray-900 rounded-3xl w-full max-w-7xl shadow-2xl relative overflow-hidden flex flex-col max-h-[90vh] border-2 border-white/10",children:[E.jsxs("div",{className:"p-6 md:p-8 text-center bg-gray-900 dark:bg-black text-white relative shrink-0",children:[E.jsx("button",{onClick:e,className:"absolute top-6 right-6 text-gray-400 hover:text-white bg-gray-800 p-2 rounded-full transition-colors",children:E.jsx(qn,{size:24})}),E.jsx("h2",{className:"text-3xl md:text-4xl font-black mb-2",children:r("pricing.title")}),E.jsx("p",{className:"text-gray-400 font-medium text-lg",children:r("pricing.subtitle")})]}),E.jsx("div",{className:"p-6 md:p-8 overflow-y-auto bg-gray-50 dark:bg-gray-900 flex-1",children:E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:DN.map(p=>{const c=n.subscriptionTier===p.id,o=m===p.id,u=p.id==="tycoon",l=Aj[p.id]||[];return E.jsxs("div",{className:`relative flex flex-col p-6 rounded-2xl border-4 transition-all duration-200
                                    ${p.color} dark:bg-gray-800 dark:border-gray-700
                                    ${c?"opacity-70 ring-0 grayscale-[0.5]":"hover:scale-[1.02] shadow-sm hover:shadow-xl"}
                                    ${u?"shadow-lg border-yellow-400 dark:border-yellow-500":""}
                                `,children:[u&&E.jsxs("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2 bg-yellow-500 text-yellow-900 text-xs font-black px-3 py-1 rounded-full uppercase tracking-widest shadow-md whitespace-nowrap flex items-center gap-1",children:[E.jsx(pn,{size:12,fill:"currentColor"})," ",r("pricing.most_popular")]}),E.jsxs("div",{className:"flex items-center justify-between mb-4",children:[E.jsx("div",{className:"bg-white dark:bg-gray-700 p-3 rounded-xl shadow-sm",children:a(p.id)}),E.jsxs("div",{className:"text-right",children:[E.jsxs("div",{className:"text-2xl font-black text-gray-900 dark:text-white",children:["$",p.price]}),p.price>0&&E.jsx("div",{className:"text-xs font-bold text-gray-500 dark:text-gray-400 uppercase",children:r(`pricing.per_${p.interval}`)})]})]}),E.jsx("h3",{className:"text-xl font-black text-gray-800 dark:text-white mb-2",children:r(`pricing.tier_${p.id}`)}),E.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 font-medium mb-6 min-h-[40px] leading-snug",children:r(`pricing.desc_${p.id}`)}),E.jsx("div",{className:"space-y-3 mb-8 flex-1",children:l.map((d,f)=>E.jsxs("div",{className:"flex items-start gap-2 text-sm font-bold text-gray-700 dark:text-gray-300",children:[E.jsx(En,{size:16,className:"text-green-600 shrink-0 mt-0.5",strokeWidth:4}),E.jsx("span",{className:"leading-tight",children:r(`pricing.${d}`)})]},f))}),E.jsx("button",{onClick:()=>x(p.id),disabled:c||o||m!==null,className:`w-full py-4 rounded-xl font-black text-sm flex items-center justify-center gap-2 transition-all shadow-md
                                        ${c?"bg-gray-200 dark:bg-gray-700 text-gray-500 dark:text-gray-400 cursor-default shadow-none":p.buttonColor}
                                        ${o?"opacity-80 cursor-wait":""}
                                    `,children:o?E.jsxs(E.Fragment,{children:[E.jsx(Jl,{size:18,className:"animate-spin"})," ",r("pricing.processing")]}):c?r("pricing.btn_current"):i(p.id,p.price)})]},p.id)})})}),E.jsx("div",{className:"p-4 bg-gray-100 dark:bg-gray-950 text-center text-xs text-gray-500 dark:text-gray-400 font-bold border-t border-gray-200 dark:border-gray-800",children:r("pricing.secure_payment")})]})})})},my=5,cp=4*60*60*1e3,s0=()=>{const{user:t,updateUser:e,hasUnlimitedEnergy:n,consumeEnergy:s}=Mt(),[m,w]=de.useState(""),r=n();return de.useEffect(()=>{if(!t||r)return;if(t.energy>=my){w("Full");return}const x=()=>{const a=Date.now(),p=t.lastEnergyRefill&&!isNaN(new Date(t.lastEnergyRefill).getTime())?t.lastEnergyRefill:a,c=a-p;if(c>=cp){const o=Math.floor(c/cp),u=Math.min(my,t.energy+o),l=c%cp,d=a-l;u>t.energy&&e(t.id,{energy:u,lastEnergyRefill:d})}else{const o=cp-c,u=Math.floor(o/(1e3*60*60)),l=Math.floor(o%(1e3*60*60)/(1e3*60));w(`${u}h ${l}m`)}};x();const i=setInterval(x,6e4);return()=>clearInterval(i)},[t==null?void 0:t.energy,t==null?void 0:t.lastEnergyRefill,r,e,t==null?void 0:t.id]),{energy:(t==null?void 0:t.energy)||0,maxEnergy:my,isUnlimited:r,timeToNextRefill:m,consumeEnergy:s}},B1=()=>{const{energy:t,maxEnergy:e,isUnlimited:n,timeToNextRefill:s}=s0();return n?E.jsxs("div",{className:"flex items-center gap-2 bg-gradient-to-r from-purple-600 to-indigo-600 text-white px-3 py-1.5 rounded-full shadow-lg border border-purple-400/50 backdrop-blur-md",children:[E.jsx(ot.div,{animate:{scale:[1,1.2,1]},transition:{repeat:1/0,duration:2},children:E.jsx(H9,{size:18,strokeWidth:3})}),E.jsx("span",{className:"text-xs font-black uppercase tracking-wider",children:"Unlimited"})]}):E.jsxs("div",{className:"flex flex-col items-end pointer-events-none select-none",children:[E.jsxs("div",{className:"flex items-center gap-1.5 bg-white/90 dark:bg-slate-900/80 backdrop-blur-md px-3 py-1.5 rounded-full border border-slate-200 dark:border-slate-700 shadow-xl relative z-10 transition-colors duration-200",children:[E.jsx("div",{className:"mr-1",children:E.jsx(gs,{size:14,className:"text-yellow-500 dark:text-yellow-400 fill-yellow-500 dark:fill-yellow-400"})}),[...Array(e)].map((m,w)=>{const r=w<t,x=w===t;return E.jsxs(ot.div,{initial:!1,animate:r?{scale:1,opacity:1}:{scale:.85,opacity:.4},className:"relative",children:[E.jsx($N,{size:20,fill:r?"#EF4444":"none",className:`${r?"text-red-500 drop-shadow-[0_0_8px_rgba(239,68,68,0.6)]":"text-slate-300 dark:text-slate-600"}`,strokeWidth:r?0:2.5}),!r&&x&&E.jsx(ot.div,{className:"absolute inset-0 bg-red-500 rounded-full blur-sm",animate:{opacity:[0,.5,0]},transition:{repeat:1/0,duration:2}})]},w)})]}),E.jsx(an,{children:t<e&&E.jsxs(ot.div,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0},className:"flex items-center gap-1 text-[10px] font-bold text-white bg-black/60 px-2 py-0.5 rounded-md mt-1 backdrop-blur-sm border border-white/10",children:[E.jsx(Jh,{size:10})," +1 in ",s]})})]})},fj=({children:t,activeTab:e,onNavigate:n})=>{const{user:s,logout:m}=Mt(),[w,r]=de.useState(!1),[x,i]=de.useState(!1),{t:a}=Ri();if(de.useEffect(()=>{const F=()=>{s!=null&&s.settings.soundEnabled&&Dn.playClick()};return window.addEventListener("click",F),()=>window.removeEventListener("click",F)},[s==null?void 0:s.settings.soundEnabled]),!s)return E.jsx(E.Fragment,{children:t});const p=s.role===vt.KID,c=s.role===vt.PARENT,o=s.role===vt.TEACHER,u=s.role===vt.ADMIN,l=typeof s.level=="number"?s.level:1,d=typeof s.xp=="number"?s.xp:0,f=typeof s.streak=="number"?s.streak:0,h=typeof s.bizCoins=="number"?s.bizCoins:0,A=$g[l-1]||0,g=$g[l]||d*1.5,v=Math.min(100,Math.max(0,(d-A)/(g-A)*100)),y=s.inventory.includes("item_freeze"),C=s.subscriptionTier==="intern",b=F=>{n(F),r(!1)},T=()=>{["board","tycoon"].includes(s.subscriptionTier)?b("parent_dashboard"):i(!0)},S=()=>E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"flex items-center justify-between mb-8 px-2 md:block hidden shrink-0",children:E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"w-10 h-10 bg-kid-secondary rounded-xl flex items-center justify-center text-white font-black text-xl shadow-[0_4px_0_0_rgba(21,128,61,1)]",children:"K"}),E.jsxs("div",{children:[E.jsx("h1",{className:"text-2xl font-black text-kid-secondary tracking-tight",children:a("auth.title")}),E.jsxs("div",{className:`text-[10px] font-black uppercase px-2 py-0.5 rounded w-fit
                    ${s.subscriptionTier==="tycoon"?"bg-yellow-400 text-yellow-900":s.subscriptionTier==="board"?"bg-purple-100 text-purple-800":s.subscriptionTier==="founder"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-500"}
                `,children:[s.subscriptionTier," Plan"]})]})]})}),E.jsxs("div",{className:"flex-1 space-y-2 overflow-y-auto custom-scrollbar px-1",children:[p&&E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase px-4 mt-4 mb-2",children:a("nav.section_learn")}),E.jsx(cs,{icon:E.jsx(z5,{size:24}),label:a("nav.map"),active:e==="map",onClick:()=>b("map")}),E.jsx(cs,{icon:E.jsx(Ko,{size:24}),label:a("nav.assignments"),active:e==="assignments",onClick:()=>b("assignments")}),E.jsx(cs,{icon:E.jsx($h,{size:24}),label:a("nav.games"),active:e==="games",onClick:()=>b("games")}),E.jsx(cs,{icon:E.jsx(ev,{size:24}),label:a("nav.library"),active:e==="library",onClick:()=>b("library")}),E.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase px-4 mt-6 mb-2",children:a("nav.section_empire")}),E.jsx(cs,{icon:E.jsx(YD,{size:24}),label:a("nav.hq"),active:e==="hq",onClick:()=>b("hq")}),E.jsx(cs,{icon:E.jsx(GA,{size:24}),label:a("nav.skills"),active:e==="skills",onClick:()=>b("skills")}),E.jsx(cs,{icon:E.jsx(Kh,{size:24}),label:a("nav.portfolio"),active:e==="portfolio",onClick:()=>b("portfolio")}),E.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase px-4 mt-6 mb-2",children:a("nav.section_social")}),E.jsx(cs,{icon:E.jsx(D7,{size:24}),label:a("nav.store"),active:e==="store",onClick:()=>b("store")}),E.jsx(cs,{icon:E.jsx(i7,{size:24}),label:a("nav.leaderboard"),active:e==="leaderboard",onClick:()=>b("leaderboard")}),E.jsx(cs,{icon:E.jsx(Zl,{size:24}),label:a("nav.profile"),active:e==="profile",onClick:()=>b("profile")}),E.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100 dark:border-gray-700",children:E.jsx(cs,{icon:E.jsx(rL,{size:24}),label:"For Parents",active:e==="parent_dashboard",onClick:T})})]}),c&&E.jsx(cs,{icon:E.jsx(qN,{size:24}),label:a("nav.overview"),active:e==="parent_dashboard",onClick:()=>b("parent_dashboard")}),o&&E.jsx(cs,{icon:E.jsx(tv,{size:24}),label:a("nav.classroom"),active:e==="teacher_dashboard",onClick:()=>b("teacher_dashboard")}),u&&E.jsx(cs,{icon:E.jsx(VA,{size:24}),label:a("nav.admin"),active:e==="admin_dashboard",onClick:()=>b("admin_dashboard")})]}),p&&E.jsxs("div",{className:"mb-4 space-y-3 px-2 mt-4 hidden md:block shrink-0",children:[E.jsx("div",{className:"flex justify-center pb-2",children:E.jsx(B1,{})}),E.jsxs("div",{className:"flex items-center justify-between text-orange-500 font-bold p-2 bg-orange-50 dark:bg-orange-900/20 rounded-xl relative overflow-hidden",children:[E.jsxs("div",{className:"flex items-center gap-2 relative z-10",children:[E.jsx(JN,{size:20,className:"fill-current"})," ",a("stats.streak")]}),E.jsxs("span",{className:"relative z-10",children:[f," ",a("stats.days")]}),y&&E.jsx("div",{className:"absolute end-0 top-0 bottom-0 bg-blue-100 dark:bg-blue-900/30 w-8 flex items-center justify-center border-s border-blue-200 dark:border-blue-800",children:E.jsx(Q7,{size:16,className:"text-blue-500"})})]}),E.jsxs("div",{className:"flex items-center justify-between text-yellow-600 dark:text-yellow-400 font-bold p-2 bg-yellow-50 dark:bg-yellow-900/20 rounded-xl",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(gA,{size:20,className:"fill-yellow-400"})," ",a("stats.bizcoins")]}),E.jsx("span",{children:h})]}),E.jsxs("div",{className:"space-y-1 p-2 bg-blue-50 dark:bg-blue-900/20 rounded-xl",children:[E.jsxs("div",{className:"flex items-center justify-between text-blue-500 font-bold text-sm",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[a("stats.level")," ",l]}),E.jsxs("span",{children:[d," XP"]})]}),E.jsx("div",{className:"h-3 w-full bg-blue-200 dark:bg-blue-900 rounded-full overflow-hidden",dir:"ltr",children:E.jsx(ot.div,{initial:{width:0},animate:{width:`${v}%`},className:"h-full bg-blue-500 rounded-full"})})]})]}),E.jsxs("div",{className:"border-t dark:border-gray-700 pt-4 mt-auto shrink-0 pb-safe",children:[o&&E.jsx("div",{className:"px-4 py-2 mb-2 text-sm font-bold text-gray-500",children:a("nav.teacher_mode")}),u&&E.jsx("div",{className:"px-4 py-2 mb-2 text-sm font-bold text-red-500",children:a("nav.admin_mode")}),E.jsxs("div",{className:"flex items-center justify-between px-4 mb-2",children:[E.jsx(uT,{}),E.jsx(hT,{})]}),E.jsxs("button",{onClick:m,className:"w-full flex items-center gap-3 px-4 py-3 text-gray-500 dark:text-gray-400 font-bold hover:bg-gray-100 dark:hover:bg-gray-800 rounded-2xl transition-colors",children:[E.jsx(tL,{size:24})," ",a("nav.signout")]})]})]});return E.jsxs("div",{className:"h-screen bg-green-50 dark:bg-gray-900 flex flex-col md:flex-row font-sans overflow-hidden transition-colors duration-200",children:[E.jsx(iu,{isOpen:x,onClose:()=>i(!1)}),E.jsxs("div",{className:"md:hidden h-16 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-4 flex items-center justify-between shrink-0 z-30 fixed top-0 start-0 end-0 w-full",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("div",{className:"w-8 h-8 bg-kid-secondary rounded-lg flex items-center justify-center text-white font-black text-lg",children:"K"}),E.jsx("span",{className:"font-black text-gray-800 dark:text-white text-lg",children:"KidCap"})]}),E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx(B1,{}),E.jsx(uT,{}),E.jsx(hT,{}),p&&E.jsxs("div",{className:"flex items-center gap-1 bg-yellow-100 dark:bg-yellow-900/30 px-2 py-1 rounded-full text-xs font-bold text-yellow-800 dark:text-yellow-300",children:[E.jsx(gA,{size:14,className:"fill-yellow-500 text-yellow-600 dark:text-yellow-400"})," ",h]}),E.jsx("button",{onClick:()=>r(!0),className:"p-2 text-gray-600 dark:text-gray-300",children:E.jsx(s7,{})})]})]}),E.jsx("nav",{className:`hidden md:flex w-64 bg-white dark:bg-gray-800 border-e border-gray-200 dark:border-gray-700 p-4 flex-col h-full overflow-hidden z-20 ${C?"pb-16":""}`,children:E.jsx(S,{})}),E.jsx(an,{children:w&&E.jsxs(ot.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"tween"},className:"fixed inset-0 z-[200] bg-white dark:bg-gray-800 flex flex-col p-4 md:hidden h-[100dvh]",children:[E.jsxs("div",{className:"flex justify-between items-center mb-6 shrink-0",children:[E.jsx("h2",{className:"text-xl font-black text-gray-800 dark:text-white",children:a("common.menu")}),E.jsx("button",{onClick:()=>r(!1),className:"p-2 bg-gray-100 dark:bg-gray-700 rounded-full text-gray-600 dark:text-gray-300",children:E.jsx(qn,{})})]}),E.jsx(S,{})]})}),E.jsx("main",{className:`flex-1 p-4 md:p-8 overflow-y-auto relative scroll-smooth pt-20 pb-36 md:pt-8 h-full bg-green-50 dark:bg-gray-900 transition-colors duration-200 ${C?"md:pb-24":"md:pb-8"}`,children:E.jsx("div",{className:"max-w-4xl mx-auto h-full",children:t})}),E.jsxs("div",{className:"md:hidden h-20 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 px-2 flex justify-around items-center shrink-0 z-30 fixed bottom-0 start-0 end-0 pb-safe transition-colors duration-200",children:[E.jsx(dp,{icon:E.jsx(z5,{size:24}),label:a("nav.map"),active:e==="map",onClick:()=>b("map")}),E.jsx(dp,{icon:E.jsx($h,{size:24}),label:a("nav.games"),active:e==="games",onClick:()=>b("games")}),E.jsx(dp,{icon:E.jsx(ev,{size:24}),label:a("nav.library"),active:e==="library",onClick:()=>b("library")}),E.jsx(dp,{icon:E.jsx(Zl,{size:24}),label:a("nav.profile"),active:e==="profile",onClick:()=>b("profile")})]}),C&&E.jsx("div",{className:"fixed bottom-20 md:bottom-0 left-0 right-0 h-12 bg-gray-200 dark:bg-gray-800 flex items-center justify-center text-xs font-bold text-gray-500 dark:text-gray-400 z-40 border-t border-gray-300 dark:border-gray-700",children:"Ads support free learning. Upgrade to remove."})]})},cs=({icon:t,label:e,active:n,onClick:s})=>E.jsxs("button",{onClick:s,className:`w-full flex items-center gap-4 px-4 py-3 rounded-2xl font-extrabold text-lg transition-all border-b-4 text-start
      ${n?"bg-blue-50 dark:bg-blue-900/20 text-blue-500 dark:text-blue-400 border-blue-200 dark:border-blue-800":"bg-transparent text-gray-500 dark:text-gray-400 border-transparent hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-700 dark:hover:text-gray-200"}`,children:[t,e]}),dp=({icon:t,label:e,active:n,onClick:s})=>E.jsxs("button",{onClick:s,className:`flex flex-col items-center justify-center w-16 h-full space-y-1 ${n?"text-kid-secondary":"text-gray-400 dark:text-gray-500"}`,children:[E.jsx("div",{className:`p-1 rounded-xl transition-all ${n?"bg-green-50 dark:bg-green-900/20 -translate-y-1":""}`,children:t}),E.jsx("span",{className:"text-[10px] font-bold uppercase truncate max-w-[60px]",children:e})]}),pj=({onStartLesson:t})=>{const{user:e,lessons:n,assignments:s}=Mt(),{t:m}=Ri(),[w,r]=de.useState(!1),x=de.useMemo(()=>!n||n.length===0?[]:Array.from(new Set(n.map(u=>u.topic_tag))).map(u=>{const l=String(u);let d=l;return l==="Money Basics"?d="money_basics":l==="Entrepreneurship"?d="entrepreneurship":l==="Investing & Wealth"?d="investing_wealth":l==="Marketing"?d="marketing":l==="Leadership"?d="leadership":l==="Economics"?d="economics":l==="Technology"?d="technology":l==="Social Responsibility"?d="social_responsibility":l==="Global Business"?d="global_business":l==="Financial Smarts"&&(d="financial_smarts"),{id:`MOD_${l.replace(/\s+/g,"_").toUpperCase()}`,title:l,translationKey:d,icon:l.includes("Money")?"":l.includes("Tech")?"":l.includes("Global")?"":"",lessonIds:n.filter(f=>f.topic_tag===u).map(f=>f.id)}}),[n]),i=o=>{if(!e||o.length===0)return"LOCKED";const u=o.filter(l=>e.completedLessonIds.includes(l)).length;return u===o.length?"COMPLETE":u>0?"IN_PROGRESS":"LOCKED"},a=o=>!e||!e.classId?0:s.filter(l=>l.classId===e.classId&&l.status==="PUBLISHED"&&o.includes(l.lessonId)&&!e.completedLessonIds.includes(l.lessonId)).length;if(x.length===0)return E.jsx("div",{className:"text-center py-20 text-gray-400 dark:text-gray-500 font-bold",children:m("map.no_curriculum")});const p=(e==null?void 0:e.subscriptionTier)==="intern",c=["Money Basics","Entrepreneurship"];return E.jsxs("div",{className:"relative pb-20",children:[E.jsx(iu,{isOpen:w,onClose:()=>r(!1)}),E.jsxs("div",{className:"text-center mb-12",children:[E.jsx("h1",{className:"text-4xl font-black text-gray-800 dark:text-white mb-2",children:m("path_title")}),E.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-bold",children:m("subtitle_complete")}),(e==null?void 0:e.classId)&&E.jsxs("div",{className:"mt-4 inline-flex items-center gap-2 bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 px-4 py-2 rounded-full text-xs font-black uppercase tracking-wider",children:[E.jsx(Ko,{size:14})," ",m("class_mode")]})]}),E.jsxs("div",{className:"max-w-md mx-auto relative space-y-16",children:[E.jsx("div",{className:"absolute left-1/2 top-0 bottom-0 w-4 bg-gray-200 dark:bg-gray-700 -translate-x-1/2 rounded-full -z-10"}),x.map((o,u)=>{const l=u>0?x[u-1]:null,d=l?i(l.lessonIds)==="COMPLETE":!0,f=u>0&&!d,h=p&&!c.includes(o.title),A=f||h,g=i(o.lessonIds),v=o.lessonIds.filter(S=>e==null?void 0:e.completedLessonIds.includes(S)).length,y=o.lessonIds.length,C=a(o.lessonIds),b=u%2===0,T=()=>{if(h){r(!0);return}f||o.lessonIds.length!==0&&t(o.lessonIds[0])};return E.jsxs("div",{className:`relative flex items-center ${b?"justify-start":"justify-end"}`,children:[E.jsxs(ot.button,{whileHover:A?{}:{scale:1.05},whileTap:A?{}:{scale:.95},onClick:T,className:`
                            w-24 h-24 rounded-3xl flex flex-col items-center justify-center border-b-8 transition-all relative z-10 shadow-lg
                            ${A?"bg-gray-300 dark:bg-gray-600 border-gray-400 dark:border-gray-500 cursor-not-allowed":g==="COMPLETE"?"bg-kid-secondary border-green-700":"bg-kid-primary border-yellow-600"}
                        `,children:[E.jsx("div",{className:"text-3xl mb-1",children:h?E.jsx(Nn,{className:"text-red-500"}):A?E.jsx(Nn,{className:"text-gray-500 dark:text-gray-400"}):o.icon}),g==="COMPLETE"&&E.jsx("div",{className:"absolute -top-2 -right-2 bg-white dark:bg-gray-800 text-green-600 rounded-full p-1 border-2 border-green-600",children:E.jsx(En,{size:16,strokeWidth:4})}),!A&&C>0&&E.jsxs("div",{className:"absolute -top-2 -left-2 bg-red-500 text-white text-[10px] font-black px-2 py-1 rounded-full border-2 border-white shadow-md animate-bounce",children:[C," ",m("due")]})]}),E.jsxs("div",{className:`absolute top-1/2 -translate-y-1/2 w-40 bg-white dark:bg-gray-800 p-3 rounded-xl border-2 border-gray-100 dark:border-gray-700 shadow-sm text-center
                        ${b?"left-28":"right-28"}
                        `,children:[E.jsx("h3",{className:"font-black text-gray-800 dark:text-white text-sm uppercase",children:m(o.translationKey,{defaultValue:o.title})}),h?E.jsx("span",{className:"text-xs font-black text-red-500 uppercase mt-1 block",children:"Premium Only"}):E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"text-xs font-bold text-gray-400 mt-1",children:[v,"/",y," ",m("lessons_count")]}),E.jsx("div",{className:"w-full bg-gray-100 dark:bg-gray-700 h-2 rounded-full mt-2 overflow-hidden",children:E.jsx("div",{className:"bg-kid-secondary h-full transition-all",style:{width:`${y>0?v/y*100:0}%`},dir:"ltr"})})]})]})]},o.id)}),E.jsx("div",{className:"text-center pt-8",children:E.jsxs("div",{className:"inline-block bg-yellow-100 dark:bg-yellow-900/50 text-yellow-800 dark:text-yellow-300 px-6 py-3 rounded-full font-black text-xl border-4 border-white dark:border-gray-800 shadow-xl",children:[" ",m("certificate")," "]})})]})]})};var gj={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let vj,mj;function yj(){return{geminiUrl:vj,vertexUrl:mj}}function xj(t,e,n,s){var m,w;if(!(t!=null&&t.baseUrl)){const r=yj();return e?(m=r.vertexUrl)!==null&&m!==void 0?m:n:(w=r.geminiUrl)!==null&&w!==void 0?w:s}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Va{}function _e(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(s,m)=>{if(Object.prototype.hasOwnProperty.call(e,m)){const w=e[m];return w!=null?String(w):""}else throw new Error(`Key '${m}' not found in valueMap.`)})}function G(t,e,n){for(let w=0;w<e.length-1;w++){const r=e[w];if(r.endsWith("[]")){const x=r.slice(0,-2);if(!(x in t))if(Array.isArray(n))t[x]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${r}`);if(Array.isArray(t[x])){const i=t[x];if(Array.isArray(n))for(let a=0;a<i.length;a++){const p=i[a];G(p,e.slice(w+1),n[a])}else for(const a of i)G(a,e.slice(w+1),n)}return}else if(r.endsWith("[0]")){const x=r.slice(0,-3);x in t||(t[x]=[{}]);const i=t[x];G(i[0],e.slice(w+1),n);return}(!t[r]||typeof t[r]!="object")&&(t[r]={}),t=t[r]}const s=e[e.length-1],m=t[s];if(m!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===m)return;if(typeof m=="object"&&typeof n=="object"&&m!==null&&n!==null)Object.assign(m,n);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else s==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[s]=n}function D(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let s=0;s<e.length;s++){if(typeof t!="object"||t===null)return n;const m=e[s];if(m.endsWith("[]")){const w=m.slice(0,-2);if(w in t){const r=t[w];return Array.isArray(r)?r.map(x=>D(x,e.slice(s+1),n)):n}else return n}else t=t[m]}return t}catch(s){if(s instanceof TypeError)return n;throw s}}function wj(t,e){for(const[n,s]of Object.entries(e)){const m=n.split("."),w=s.split("."),r=new Set;let x=-1;for(let i=0;i<m.length;i++)if(m[i]==="*"){x=i;break}if(x!==-1&&w.length>x)for(let i=x;i<w.length;i++){const a=w[i];a!=="*"&&!a.endsWith("[]")&&!a.endsWith("[0]")&&r.add(a)}F1(t,m,w,0,r)}}function F1(t,e,n,s,m){if(s>=e.length||typeof t!="object"||t===null)return;const w=e[s];if(w.endsWith("[]")){const r=w.slice(0,-2),x=t;if(r in x&&Array.isArray(x[r]))for(const i of x[r])F1(i,e,n,s+1,m)}else if(w==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const r=t,x=Object.keys(r).filter(a=>!a.startsWith("_")&&!m.has(a)),i={};for(const a of x)i[a]=r[a];for(const[a,p]of Object.entries(i)){const c=[];for(const o of n.slice(s))o==="*"?c.push(a):c.push(o);G(r,c,p)}for(const a of x)delete r[a]}}else{const r=t;w in r&&F1(r[w],e,n,s+1,m)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cC(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Cj(t){const e={},n=D(t,["operationName"]);n!=null&&G(e,["operationName"],n);const s=D(t,["resourceName"]);return s!=null&&G(e,["_url","resourceName"],s),e}function bj(t){const e={},n=D(t,["name"]);n!=null&&G(e,["name"],n);const s=D(t,["metadata"]);s!=null&&G(e,["metadata"],s);const m=D(t,["done"]);m!=null&&G(e,["done"],m);const w=D(t,["error"]);w!=null&&G(e,["error"],w);const r=D(t,["response","generateVideoResponse"]);return r!=null&&G(e,["response"],Tj(r)),e}function Sj(t){const e={},n=D(t,["name"]);n!=null&&G(e,["name"],n);const s=D(t,["metadata"]);s!=null&&G(e,["metadata"],s);const m=D(t,["done"]);m!=null&&G(e,["done"],m);const w=D(t,["error"]);w!=null&&G(e,["error"],w);const r=D(t,["response"]);return r!=null&&G(e,["response"],Ej(r)),e}function Tj(t){const e={},n=D(t,["generatedSamples"]);if(n!=null){let w=n;Array.isArray(w)&&(w=w.map(r=>Bj(r))),G(e,["generatedVideos"],w)}const s=D(t,["raiMediaFilteredCount"]);s!=null&&G(e,["raiMediaFilteredCount"],s);const m=D(t,["raiMediaFilteredReasons"]);return m!=null&&G(e,["raiMediaFilteredReasons"],m),e}function Ej(t){const e={},n=D(t,["videos"]);if(n!=null){let w=n;Array.isArray(w)&&(w=w.map(r=>Fj(r))),G(e,["generatedVideos"],w)}const s=D(t,["raiMediaFilteredCount"]);s!=null&&G(e,["raiMediaFilteredCount"],s);const m=D(t,["raiMediaFilteredReasons"]);return m!=null&&G(e,["raiMediaFilteredReasons"],m),e}function Bj(t){const e={},n=D(t,["video"]);return n!=null&&G(e,["video"],Pj(n)),e}function Fj(t){const e={},n=D(t,["_self"]);return n!=null&&G(e,["video"],Uj(n)),e}function Nj(t){const e={},n=D(t,["operationName"]);return n!=null&&G(e,["_url","operationName"],n),e}function Lj(t){const e={},n=D(t,["operationName"]);return n!=null&&G(e,["_url","operationName"],n),e}function Mj(t){const e={},n=D(t,["name"]);n!=null&&G(e,["name"],n);const s=D(t,["metadata"]);s!=null&&G(e,["metadata"],s);const m=D(t,["done"]);m!=null&&G(e,["done"],m);const w=D(t,["error"]);w!=null&&G(e,["error"],w);const r=D(t,["response"]);return r!=null&&G(e,["response"],Rj(r)),e}function Rj(t){const e={},n=D(t,["sdkHttpResponse"]);n!=null&&G(e,["sdkHttpResponse"],n);const s=D(t,["parent"]);s!=null&&G(e,["parent"],s);const m=D(t,["documentName"]);return m!=null&&G(e,["documentName"],m),e}function jM(t){const e={},n=D(t,["name"]);n!=null&&G(e,["name"],n);const s=D(t,["metadata"]);s!=null&&G(e,["metadata"],s);const m=D(t,["done"]);m!=null&&G(e,["done"],m);const w=D(t,["error"]);w!=null&&G(e,["error"],w);const r=D(t,["response"]);return r!=null&&G(e,["response"],Ij(r)),e}function Ij(t){const e={},n=D(t,["sdkHttpResponse"]);n!=null&&G(e,["sdkHttpResponse"],n);const s=D(t,["parent"]);s!=null&&G(e,["parent"],s);const m=D(t,["documentName"]);return m!=null&&G(e,["documentName"],m),e}function Pj(t){const e={},n=D(t,["uri"]);n!=null&&G(e,["uri"],n);const s=D(t,["encodedVideo"]);s!=null&&G(e,["videoBytes"],cC(s));const m=D(t,["encoding"]);return m!=null&&G(e,["mimeType"],m),e}function Uj(t){const e={},n=D(t,["gcsUri"]);n!=null&&G(e,["uri"],n);const s=D(t,["bytesBase64Encoded"]);s!=null&&G(e,["videoBytes"],cC(s));const m=D(t,["mimeType"]);return m!=null&&G(e,["mimeType"],m),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var cT;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(cT||(cT={}));var dT;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(dT||(dT={}));var AT;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(AT||(AT={}));var lr;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(lr||(lr={}));var fT;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(fT||(fT={}));var pT;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(pT||(pT={}));var gT;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(gT||(gT={}));var vT;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(vT||(vT={}));var mT;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(mT||(mT={}));var yT;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(yT||(yT={}));var xT;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(xT||(xT={}));var wT;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(wT||(wT={}));var CT;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(CT||(CT={}));var bT;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(bT||(bT={}));var ST;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(ST||(ST={}));var TT;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(TT||(TT={}));var ET;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(ET||(ET={}));var BT;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(BT||(BT={}));var FT;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(FT||(FT={}));var lv;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(lv||(lv={}));var NT;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(NT||(NT={}));var LT;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(LT||(LT={}));var MT;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(MT||(MT={}));var N1;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(N1||(N1={}));var RT;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(RT||(RT={}));var IT;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(IT||(IT={}));var PT;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(PT||(PT={}));var UT;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(UT||(UT={}));var DT;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(DT||(DT={}));var OT;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(OT||(OT={}));var kT;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(kT||(kT={}));var HT;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(HT||(HT={}));var GT;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(GT||(GT={}));var QT;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(QT||(QT={}));var jT;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(jT||(jT={}));var VT;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(VT||(VT={}));var zT;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(zT||(zT={}));var YT;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(YT||(YT={}));var XT;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(XT||(XT={}));var WT;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(WT||(WT={}));var KT;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(KT||(KT={}));var JT;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(JT||(JT={}));var ZT;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(ZT||(ZT={}));var $T;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})($T||($T={}));var qT;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(qT||(qT={}));var _T;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(_T||(_T={}));var eE;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(eE||(eE={}));var tE;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(tE||(tE={}));var iE;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(iE||(iE={}));var nE;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(nE||(nE={}));var sE;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(sE||(sE={}));var rE;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(rE||(rE={}));var aE;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(aE||(aE={}));var oE;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(oE||(oE={}));var lE;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(lE||(lE={}));var vh;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(vh||(vh={}));class L1{constructor(e){const n={};for(const s of e.headers.entries())n[s[0]]=s[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class td{get text(){var e,n,s,m,w,r,x,i;if(((m=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||m===void 0?void 0:m.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let a="",p=!1;const c=[];for(const o of(i=(x=(r=(w=this.candidates)===null||w===void 0?void 0:w[0])===null||r===void 0?void 0:r.content)===null||x===void 0?void 0:x.parts)!==null&&i!==void 0?i:[]){for(const[u,l]of Object.entries(o))u!=="text"&&u!=="thought"&&u!=="thoughtSignature"&&(l!==null||l!==void 0)&&c.push(u);if(typeof o.text=="string"){if(typeof o.thought=="boolean"&&o.thought)continue;p=!0,a+=o.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),p?a:void 0}get data(){var e,n,s,m,w,r,x,i;if(((m=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||m===void 0?void 0:m.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let a="";const p=[];for(const c of(i=(x=(r=(w=this.candidates)===null||w===void 0?void 0:w[0])===null||r===void 0?void 0:r.content)===null||x===void 0?void 0:x.parts)!==null&&i!==void 0?i:[]){for(const[o,u]of Object.entries(c))o!=="inlineData"&&(u!==null||u!==void 0)&&p.push(o);c.inlineData&&typeof c.inlineData.data=="string"&&(a+=atob(c.inlineData.data))}return p.length>0&&console.warn(`there are non-data parts ${p} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}get functionCalls(){var e,n,s,m,w,r,x,i;if(((m=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||m===void 0?void 0:m.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const a=(i=(x=(r=(w=this.candidates)===null||w===void 0?void 0:w[0])===null||r===void 0?void 0:r.content)===null||x===void 0?void 0:x.parts)===null||i===void 0?void 0:i.filter(p=>p.functionCall).map(p=>p.functionCall).filter(p=>p!==void 0);if((a==null?void 0:a.length)!==0)return a}get executableCode(){var e,n,s,m,w,r,x,i,a;if(((m=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||m===void 0?void 0:m.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const p=(i=(x=(r=(w=this.candidates)===null||w===void 0?void 0:w[0])===null||r===void 0?void 0:r.content)===null||x===void 0?void 0:x.parts)===null||i===void 0?void 0:i.filter(c=>c.executableCode).map(c=>c.executableCode).filter(c=>c!==void 0);if((p==null?void 0:p.length)!==0)return(a=p==null?void 0:p[0])===null||a===void 0?void 0:a.code}get codeExecutionResult(){var e,n,s,m,w,r,x,i,a;if(((m=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||m===void 0?void 0:m.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const p=(i=(x=(r=(w=this.candidates)===null||w===void 0?void 0:w[0])===null||r===void 0?void 0:r.content)===null||x===void 0?void 0:x.parts)===null||i===void 0?void 0:i.filter(c=>c.codeExecutionResult).map(c=>c.codeExecutionResult).filter(c=>c!==void 0);if((p==null?void 0:p.length)!==0)return(a=p==null?void 0:p[0])===null||a===void 0?void 0:a.output}}class uE{}class hE{}class Dj{}class Oj{}class kj{}class Hj{}class cE{}class dE{}class AE{}class Gj{}class uv{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const s=new uv;let m;const w=e;return n?m=Sj(w):m=bj(w),Object.assign(s,m),s}}class fE{}class pE{}class gE{}class vE{}class Qj{}class jj{}class Vj{}class dC{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const s=new dC,w=Mj(e);return Object.assign(s,w),s}}class zj{}class Yj{}class Xj{}class mE{}class Wj{get text(){var e,n,s;let m="",w=!1;const r=[];for(const x of(s=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&s!==void 0?s:[]){for(const[i,a]of Object.entries(x))i!=="text"&&i!=="thought"&&a!==null&&r.push(i);if(typeof x.text=="string"){if(typeof x.thought=="boolean"&&x.thought)continue;w=!0,m+=x.text}}return r.length>0&&console.warn(`there are non-text parts ${r} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),w?m:void 0}get data(){var e,n,s;let m="";const w=[];for(const r of(s=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&s!==void 0?s:[]){for(const[x,i]of Object.entries(r))x!=="inlineData"&&i!==null&&w.push(x);r.inlineData&&typeof r.inlineData.data=="string"&&(m+=atob(r.inlineData.data))}return w.length>0&&console.warn(`there are non-data parts ${w} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}}class Kj{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class AC{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const s=new AC,w=jM(e);return Object.assign(s,w),s}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zt(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function VM(t,e){const n=zt(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function zM(t){return Array.isArray(t)?t.map(e=>hv(e)):[hv(t)]}function hv(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function YM(t){const e=hv(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function XM(t){const e=hv(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function yE(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function WM(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>yE(e)):[yE(t)]}function M1(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function xE(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function wE(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function jn(t){if(t==null)throw new Error("ContentUnion is required");return M1(t)?t:{role:"user",parts:WM(t)}}function fC(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const s=jn(n);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(t.isVertexAI()){const n=jn(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>jn(n)):[jn(e)]}function fr(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(xE(t)||wE(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[jn(t)]}const e=[],n=[],s=M1(t[0]);for(const m of t){const w=M1(m);if(w!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(w)e.push(m);else{if(xE(m)||wE(m))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(m)}}return s||e.push({role:"user",parts:WM(n)}),e}function Jj(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(s=>s!=="null");if(n.length===1)e.type=Object.values(lr).includes(n[0].toUpperCase())?n[0].toUpperCase():lr.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const s of n)e.anyOf.push({type:Object.values(lr).includes(s.toUpperCase())?s.toUpperCase():lr.TYPE_UNSPECIFIED})}}function Nh(t){const e={},n=["items"],s=["anyOf"],m=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const w=t.anyOf;w!=null&&w.length==2&&(w[0].type==="null"?(e.nullable=!0,t=w[1]):w[1].type==="null"&&(e.nullable=!0,t=w[0])),t.type instanceof Array&&Jj(t.type,e);for(const[r,x]of Object.entries(t))if(x!=null)if(r=="type"){if(x==="null")throw new Error("type: null can not be the only possible type for the field.");if(x instanceof Array)continue;e.type=Object.values(lr).includes(x.toUpperCase())?x.toUpperCase():lr.TYPE_UNSPECIFIED}else if(n.includes(r))e[r]=Nh(x);else if(s.includes(r)){const i=[];for(const a of x){if(a.type=="null"){e.nullable=!0;continue}i.push(Nh(a))}e[r]=i}else if(m.includes(r)){const i={};for(const[a,p]of Object.entries(x))i[a]=Nh(p);e[r]=i}else{if(r==="additionalProperties")continue;e[r]=x}return e}function pC(t){return Nh(t)}function gC(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function vC(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Ac(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Nh(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Nh(e.response));return t}function fc(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function Zj(t,e,n,s=1){const m=!e.startsWith(`${n}/`)&&e.split("/").length===s;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:m?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:m?`${n}/${e}`:e}function za(t,e){if(typeof e!="string")throw new Error("name must be a string");return Zj(t,e,"cachedContents")}function KM(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function sl(t){return cC(t)}function $j(t){return t!=null&&typeof t=="object"&&"name"in t}function qj(t){return t!=null&&typeof t=="object"&&"video"in t}function _j(t){return t!=null&&typeof t=="object"&&"uri"in t}function JM(t){var e;let n;if($j(t)&&(n=t.name),!(_j(t)&&(n=t.uri,n===void 0))&&!(qj(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const m=n.split("files/")[1].match(/[a-z0-9]+/);if(m===null)throw new Error(`Could not extract file name from URI ${n}`);n=m[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function ZM(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function $M(t){for(const e of["models","tunedModels","publisherModels"])if(eV(t,e))return t[e];return[]}function eV(t,e){return t!==null&&typeof t=="object"&&e in t}function tV(t,e={}){const n=t,s={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(s.responseJsonSchema=n.outputSchema),e.behavior&&(s.behavior=e.behavior),{functionDeclarations:[s]}}function iV(t,e={}){const n=[],s=new Set;for(const m of t){const w=m.name;if(s.has(w))throw new Error(`Duplicate function name ${w} found in MCP tools. Please ensure function names are unique.`);s.add(w);const r=tV(m,e);r.functionDeclarations&&n.push(...r.functionDeclarations)}return{functionDeclarations:n}}function qM(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const s=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,m=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(m>0||s!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(s>0||m!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function nV(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function _M(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const m=n.inlinedResponses;if(!Array.isArray(m)||m.length===0)return t;let w=!1;for(const r of m){if(typeof r!="object"||r===null)continue;const i=r.response;if(typeof i!="object"||i===null)continue;if(i.embedding!==void 0){w=!0;break}}return w&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function pc(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function eR(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sV(t){const e={},n=D(t,["responsesFile"]);n!=null&&G(e,["fileName"],n);const s=D(t,["inlinedResponses","inlinedResponses"]);if(s!=null){let w=s;Array.isArray(w)&&(w=w.map(r=>kV(r))),G(e,["inlinedResponses"],w)}const m=D(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(m!=null){let w=m;Array.isArray(w)&&(w=w.map(r=>r)),G(e,["inlinedEmbedContentResponses"],w)}return e}function rV(t){const e={},n=D(t,["predictionsFormat"]);n!=null&&G(e,["format"],n);const s=D(t,["gcsDestination","outputUriPrefix"]);s!=null&&G(e,["gcsUri"],s);const m=D(t,["bigqueryDestination","outputUri"]);return m!=null&&G(e,["bigqueryUri"],m),e}function aV(t){const e={},n=D(t,["format"]);n!=null&&G(e,["predictionsFormat"],n);const s=D(t,["gcsUri"]);s!=null&&G(e,["gcsDestination","outputUriPrefix"],s);const m=D(t,["bigqueryUri"]);if(m!=null&&G(e,["bigqueryDestination","outputUri"],m),D(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(D(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(D(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function dg(t){const e={},n=D(t,["name"]);n!=null&&G(e,["name"],n);const s=D(t,["metadata","displayName"]);s!=null&&G(e,["displayName"],s);const m=D(t,["metadata","state"]);m!=null&&G(e,["state"],eR(m));const w=D(t,["metadata","createTime"]);w!=null&&G(e,["createTime"],w);const r=D(t,["metadata","endTime"]);r!=null&&G(e,["endTime"],r);const x=D(t,["metadata","updateTime"]);x!=null&&G(e,["updateTime"],x);const i=D(t,["metadata","model"]);i!=null&&G(e,["model"],i);const a=D(t,["metadata","output"]);return a!=null&&G(e,["dest"],sV(_M(a))),e}function R1(t){const e={},n=D(t,["name"]);n!=null&&G(e,["name"],n);const s=D(t,["displayName"]);s!=null&&G(e,["displayName"],s);const m=D(t,["state"]);m!=null&&G(e,["state"],eR(m));const w=D(t,["error"]);w!=null&&G(e,["error"],w);const r=D(t,["createTime"]);r!=null&&G(e,["createTime"],r);const x=D(t,["startTime"]);x!=null&&G(e,["startTime"],x);const i=D(t,["endTime"]);i!=null&&G(e,["endTime"],i);const a=D(t,["updateTime"]);a!=null&&G(e,["updateTime"],a);const p=D(t,["model"]);p!=null&&G(e,["model"],p);const c=D(t,["inputConfig"]);c!=null&&G(e,["src"],oV(c));const o=D(t,["outputConfig"]);o!=null&&G(e,["dest"],rV(_M(o)));const u=D(t,["completionStats"]);return u!=null&&G(e,["completionStats"],u),e}function oV(t){const e={},n=D(t,["instancesFormat"]);n!=null&&G(e,["format"],n);const s=D(t,["gcsSource","uris"]);s!=null&&G(e,["gcsUri"],s);const m=D(t,["bigquerySource","inputUri"]);return m!=null&&G(e,["bigqueryUri"],m),e}function lV(t,e){const n={};if(D(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(D(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(D(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const s=D(e,["fileName"]);s!=null&&G(n,["fileName"],s);const m=D(e,["inlinedRequests"]);if(m!=null){let w=m;Array.isArray(w)&&(w=w.map(r=>OV(t,r))),G(n,["requests","requests"],w)}return n}function uV(t){const e={},n=D(t,["format"]);n!=null&&G(e,["instancesFormat"],n);const s=D(t,["gcsUri"]);s!=null&&G(e,["gcsSource","uris"],s);const m=D(t,["bigqueryUri"]);if(m!=null&&G(e,["bigquerySource","inputUri"],m),D(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(D(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function hV(t){const e={},n=D(t,["data"]);if(n!=null&&G(e,["data"],n),D(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=D(t,["mimeType"]);return s!=null&&G(e,["mimeType"],s),e}function cV(t,e){const n={},s=D(e,["name"]);return s!=null&&G(n,["_url","name"],pc(t,s)),n}function dV(t,e){const n={},s=D(e,["name"]);return s!=null&&G(n,["_url","name"],pc(t,s)),n}function AV(t){const e={},n=D(t,["content"]);n!=null&&G(e,["content"],n);const s=D(t,["citationMetadata"]);s!=null&&G(e,["citationMetadata"],fV(s));const m=D(t,["tokenCount"]);m!=null&&G(e,["tokenCount"],m);const w=D(t,["finishReason"]);w!=null&&G(e,["finishReason"],w);const r=D(t,["avgLogprobs"]);r!=null&&G(e,["avgLogprobs"],r);const x=D(t,["groundingMetadata"]);x!=null&&G(e,["groundingMetadata"],x);const i=D(t,["index"]);i!=null&&G(e,["index"],i);const a=D(t,["logprobsResult"]);a!=null&&G(e,["logprobsResult"],a);const p=D(t,["safetyRatings"]);if(p!=null){let o=p;Array.isArray(o)&&(o=o.map(u=>u)),G(e,["safetyRatings"],o)}const c=D(t,["urlContextMetadata"]);return c!=null&&G(e,["urlContextMetadata"],c),e}function fV(t){const e={},n=D(t,["citationSources"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(m=>m)),G(e,["citations"],s)}return e}function tR(t){const e={},n=D(t,["parts"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(w=>YV(w))),G(e,["parts"],m)}const s=D(t,["role"]);return s!=null&&G(e,["role"],s),e}function pV(t,e){const n={},s=D(t,["displayName"]);if(e!==void 0&&s!=null&&G(e,["batch","displayName"],s),D(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function gV(t,e){const n={},s=D(t,["displayName"]);e!==void 0&&s!=null&&G(e,["displayName"],s);const m=D(t,["dest"]);return e!==void 0&&m!=null&&G(e,["outputConfig"],aV(nV(m))),n}function CE(t,e){const n={},s=D(e,["model"]);s!=null&&G(n,["_url","model"],zt(t,s));const m=D(e,["src"]);m!=null&&G(n,["batch","inputConfig"],lV(t,qM(t,m)));const w=D(e,["config"]);return w!=null&&pV(w,n),n}function vV(t,e){const n={},s=D(e,["model"]);s!=null&&G(n,["model"],zt(t,s));const m=D(e,["src"]);m!=null&&G(n,["inputConfig"],uV(qM(t,m)));const w=D(e,["config"]);return w!=null&&gV(w,n),n}function mV(t,e){const n={},s=D(t,["displayName"]);return e!==void 0&&s!=null&&G(e,["batch","displayName"],s),n}function yV(t,e){const n={},s=D(e,["model"]);s!=null&&G(n,["_url","model"],zt(t,s));const m=D(e,["src"]);m!=null&&G(n,["batch","inputConfig"],EV(t,m));const w=D(e,["config"]);return w!=null&&mV(w,n),n}function xV(t,e){const n={},s=D(e,["name"]);return s!=null&&G(n,["_url","name"],pc(t,s)),n}function wV(t,e){const n={},s=D(e,["name"]);return s!=null&&G(n,["_url","name"],pc(t,s)),n}function CV(t){const e={},n=D(t,["sdkHttpResponse"]);n!=null&&G(e,["sdkHttpResponse"],n);const s=D(t,["name"]);s!=null&&G(e,["name"],s);const m=D(t,["done"]);m!=null&&G(e,["done"],m);const w=D(t,["error"]);return w!=null&&G(e,["error"],w),e}function bV(t){const e={},n=D(t,["sdkHttpResponse"]);n!=null&&G(e,["sdkHttpResponse"],n);const s=D(t,["name"]);s!=null&&G(e,["name"],s);const m=D(t,["done"]);m!=null&&G(e,["done"],m);const w=D(t,["error"]);return w!=null&&G(e,["error"],w),e}function SV(t,e){const n={},s=D(e,["contents"]);if(s!=null){let w=fC(t,s);Array.isArray(w)&&(w=w.map(r=>r)),G(n,["requests[]","request","content"],w)}const m=D(e,["config"]);return m!=null&&(G(n,["_self"],TV(m,n)),wj(n,{"requests[].*":"requests[].request.*"})),n}function TV(t,e){const n={},s=D(t,["taskType"]);e!==void 0&&s!=null&&G(e,["requests[]","taskType"],s);const m=D(t,["title"]);e!==void 0&&m!=null&&G(e,["requests[]","title"],m);const w=D(t,["outputDimensionality"]);if(e!==void 0&&w!=null&&G(e,["requests[]","outputDimensionality"],w),D(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(D(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function EV(t,e){const n={},s=D(e,["fileName"]);s!=null&&G(n,["file_name"],s);const m=D(e,["inlinedRequests"]);return m!=null&&G(n,["requests"],SV(t,m)),n}function BV(t){const e={};if(D(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=D(t,["fileUri"]);n!=null&&G(e,["fileUri"],n);const s=D(t,["mimeType"]);return s!=null&&G(e,["mimeType"],s),e}function FV(t){const e={},n=D(t,["id"]);n!=null&&G(e,["id"],n);const s=D(t,["args"]);s!=null&&G(e,["args"],s);const m=D(t,["name"]);if(m!=null&&G(e,["name"],m),D(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(D(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function NV(t){const e={},n=D(t,["mode"]);n!=null&&G(e,["mode"],n);const s=D(t,["allowedFunctionNames"]);if(s!=null&&G(e,["allowedFunctionNames"],s),D(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function LV(t,e,n){const s={},m=D(e,["systemInstruction"]);n!==void 0&&m!=null&&G(n,["systemInstruction"],tR(jn(m)));const w=D(e,["temperature"]);w!=null&&G(s,["temperature"],w);const r=D(e,["topP"]);r!=null&&G(s,["topP"],r);const x=D(e,["topK"]);x!=null&&G(s,["topK"],x);const i=D(e,["candidateCount"]);i!=null&&G(s,["candidateCount"],i);const a=D(e,["maxOutputTokens"]);a!=null&&G(s,["maxOutputTokens"],a);const p=D(e,["stopSequences"]);p!=null&&G(s,["stopSequences"],p);const c=D(e,["responseLogprobs"]);c!=null&&G(s,["responseLogprobs"],c);const o=D(e,["logprobs"]);o!=null&&G(s,["logprobs"],o);const u=D(e,["presencePenalty"]);u!=null&&G(s,["presencePenalty"],u);const l=D(e,["frequencyPenalty"]);l!=null&&G(s,["frequencyPenalty"],l);const d=D(e,["seed"]);d!=null&&G(s,["seed"],d);const f=D(e,["responseMimeType"]);f!=null&&G(s,["responseMimeType"],f);const h=D(e,["responseSchema"]);h!=null&&G(s,["responseSchema"],pC(h));const A=D(e,["responseJsonSchema"]);if(A!=null&&G(s,["responseJsonSchema"],A),D(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(D(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const g=D(e,["safetySettings"]);if(n!==void 0&&g!=null){let L=g;Array.isArray(L)&&(L=L.map(R=>XV(R))),G(n,["safetySettings"],L)}const v=D(e,["tools"]);if(n!==void 0&&v!=null){let L=fc(v);Array.isArray(L)&&(L=L.map(R=>KV(Ac(R)))),G(n,["tools"],L)}const y=D(e,["toolConfig"]);if(n!==void 0&&y!=null&&G(n,["toolConfig"],WV(y)),D(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const C=D(e,["cachedContent"]);n!==void 0&&C!=null&&G(n,["cachedContent"],za(t,C));const b=D(e,["responseModalities"]);b!=null&&G(s,["responseModalities"],b);const T=D(e,["mediaResolution"]);T!=null&&G(s,["mediaResolution"],T);const S=D(e,["speechConfig"]);if(S!=null&&G(s,["speechConfig"],gC(S)),D(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const F=D(e,["thinkingConfig"]);F!=null&&G(s,["thinkingConfig"],F);const B=D(e,["imageConfig"]);B!=null&&G(s,["imageConfig"],DV(B));const N=D(e,["enableEnhancedCivicAnswers"]);return N!=null&&G(s,["enableEnhancedCivicAnswers"],N),s}function MV(t){const e={},n=D(t,["sdkHttpResponse"]);n!=null&&G(e,["sdkHttpResponse"],n);const s=D(t,["candidates"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(a=>AV(a))),G(e,["candidates"],i)}const m=D(t,["modelVersion"]);m!=null&&G(e,["modelVersion"],m);const w=D(t,["promptFeedback"]);w!=null&&G(e,["promptFeedback"],w);const r=D(t,["responseId"]);r!=null&&G(e,["responseId"],r);const x=D(t,["usageMetadata"]);return x!=null&&G(e,["usageMetadata"],x),e}function RV(t,e){const n={},s=D(e,["name"]);return s!=null&&G(n,["_url","name"],pc(t,s)),n}function IV(t,e){const n={},s=D(e,["name"]);return s!=null&&G(n,["_url","name"],pc(t,s)),n}function PV(t){const e={};if(D(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=D(t,["enableWidget"]);return n!=null&&G(e,["enableWidget"],n),e}function UV(t){const e={};if(D(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(D(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=D(t,["timeRangeFilter"]);return n!=null&&G(e,["timeRangeFilter"],n),e}function DV(t){const e={},n=D(t,["aspectRatio"]);n!=null&&G(e,["aspectRatio"],n);const s=D(t,["imageSize"]);if(s!=null&&G(e,["imageSize"],s),D(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(D(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function OV(t,e){const n={},s=D(e,["model"]);s!=null&&G(n,["request","model"],zt(t,s));const m=D(e,["contents"]);if(m!=null){let x=fr(m);Array.isArray(x)&&(x=x.map(i=>tR(i))),G(n,["request","contents"],x)}const w=D(e,["metadata"]);w!=null&&G(n,["metadata"],w);const r=D(e,["config"]);return r!=null&&G(n,["request","generationConfig"],LV(t,r,D(n,["request"],{}))),n}function kV(t){const e={},n=D(t,["response"]);n!=null&&G(e,["response"],MV(n));const s=D(t,["error"]);return s!=null&&G(e,["error"],s),e}function HV(t,e){const n={},s=D(t,["pageSize"]);e!==void 0&&s!=null&&G(e,["_query","pageSize"],s);const m=D(t,["pageToken"]);if(e!==void 0&&m!=null&&G(e,["_query","pageToken"],m),D(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function GV(t,e){const n={},s=D(t,["pageSize"]);e!==void 0&&s!=null&&G(e,["_query","pageSize"],s);const m=D(t,["pageToken"]);e!==void 0&&m!=null&&G(e,["_query","pageToken"],m);const w=D(t,["filter"]);return e!==void 0&&w!=null&&G(e,["_query","filter"],w),n}function QV(t){const e={},n=D(t,["config"]);return n!=null&&HV(n,e),e}function jV(t){const e={},n=D(t,["config"]);return n!=null&&GV(n,e),e}function VV(t){const e={},n=D(t,["sdkHttpResponse"]);n!=null&&G(e,["sdkHttpResponse"],n);const s=D(t,["nextPageToken"]);s!=null&&G(e,["nextPageToken"],s);const m=D(t,["operations"]);if(m!=null){let w=m;Array.isArray(w)&&(w=w.map(r=>dg(r))),G(e,["batchJobs"],w)}return e}function zV(t){const e={},n=D(t,["sdkHttpResponse"]);n!=null&&G(e,["sdkHttpResponse"],n);const s=D(t,["nextPageToken"]);s!=null&&G(e,["nextPageToken"],s);const m=D(t,["batchPredictionJobs"]);if(m!=null){let w=m;Array.isArray(w)&&(w=w.map(r=>R1(r))),G(e,["batchJobs"],w)}return e}function YV(t){const e={},n=D(t,["mediaResolution"]);n!=null&&G(e,["mediaResolution"],n);const s=D(t,["codeExecutionResult"]);s!=null&&G(e,["codeExecutionResult"],s);const m=D(t,["executableCode"]);m!=null&&G(e,["executableCode"],m);const w=D(t,["fileData"]);w!=null&&G(e,["fileData"],BV(w));const r=D(t,["functionCall"]);r!=null&&G(e,["functionCall"],FV(r));const x=D(t,["functionResponse"]);x!=null&&G(e,["functionResponse"],x);const i=D(t,["inlineData"]);i!=null&&G(e,["inlineData"],hV(i));const a=D(t,["text"]);a!=null&&G(e,["text"],a);const p=D(t,["thought"]);p!=null&&G(e,["thought"],p);const c=D(t,["thoughtSignature"]);c!=null&&G(e,["thoughtSignature"],c);const o=D(t,["videoMetadata"]);return o!=null&&G(e,["videoMetadata"],o),e}function XV(t){const e={},n=D(t,["category"]);if(n!=null&&G(e,["category"],n),D(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=D(t,["threshold"]);return s!=null&&G(e,["threshold"],s),e}function WV(t){const e={},n=D(t,["functionCallingConfig"]);n!=null&&G(e,["functionCallingConfig"],NV(n));const s=D(t,["retrievalConfig"]);return s!=null&&G(e,["retrievalConfig"],s),e}function KV(t){const e={},n=D(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(c=>c)),G(e,["functionDeclarations"],p)}if(D(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=D(t,["googleSearchRetrieval"]);s!=null&&G(e,["googleSearchRetrieval"],s);const m=D(t,["computerUse"]);m!=null&&G(e,["computerUse"],m);const w=D(t,["fileSearch"]);w!=null&&G(e,["fileSearch"],w);const r=D(t,["codeExecution"]);if(r!=null&&G(e,["codeExecution"],r),D(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const x=D(t,["googleMaps"]);x!=null&&G(e,["googleMaps"],PV(x));const i=D(t,["googleSearch"]);i!=null&&G(e,["googleSearch"],UV(i));const a=D(t,["urlContext"]);return a!=null&&G(e,["urlContext"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ha;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Ha||(Ha={}));class nu{constructor(e,n,s,m){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,s,m)}init(e,n,s){var m,w;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let r={config:{}};!s||Object.keys(s).length===0?r={config:{}}:typeof s=="object"?r=Object.assign({},s):r=s,r.config&&(r.config.pageToken=n.nextPageToken),this.paramsInternal=r,this.pageInternalSize=(w=(m=r.config)===null||m===void 0?void 0:m.pageSize)!==null&&w!==void 0?w:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class JV extends Va{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new nu(Ha.PAGED_ITEM_BATCH_JOBS,s=>this.listInternal(s),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=CE(this.apiClient,e),s=n._url,m=_e("{model}:batchGenerateContent",s),x=n.batch.inputConfig.requests,i=x.requests,a=[];for(const p of i){const c=Object.assign({},p);if(c.systemInstruction){const o=c.systemInstruction;delete c.systemInstruction;const u=c.request;u.systemInstruction=o,c.request=u}a.push(c)}return x.requests=a,delete n.config,delete n._url,delete n._query,{path:m,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const s=n?Object.assign({},n):{},m=Date.now().toString();if(s.displayName||(s.displayName=`genaiBatchJob_${m}`),s.dest===void 0){const w=this.getGcsUri(e),r=this.getBigqueryUri(e);if(w)w.endsWith(".jsonl")?s.dest=`${w.slice(0,-6)}/dest`:s.dest=`${w}_dest_${m}`;else if(r)s.dest=`${r}_dest_${m}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return s}async createInternal(e){var n,s,m,w;let r,x="",i={};if(this.apiClient.isVertexAI()){const a=vV(this.apiClient,e);return x=_e("batchPredictionJobs",a._url),i=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:x,queryParams:i,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),r.then(p=>R1(p))}else{const a=CE(this.apiClient,e);return x=_e("{model}:batchGenerateContent",a._url),i=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:x,queryParams:i,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(m=e.config)===null||m===void 0?void 0:m.httpOptions,abortSignal:(w=e.config)===null||w===void 0?void 0:w.abortSignal}).then(p=>p.json()),r.then(p=>dg(p))}}async createEmbeddingsInternal(e){var n,s;let m,w="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const x=yV(this.apiClient,e);return w=_e("{model}:asyncBatchEmbedContent",x._url),r=x._query,delete x._url,delete x._query,m=this.apiClient.request({path:w,queryParams:r,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(i=>i.json()),m.then(i=>dg(i))}}async get(e){var n,s,m,w;let r,x="",i={};if(this.apiClient.isVertexAI()){const a=IV(this.apiClient,e);return x=_e("batchPredictionJobs/{name}",a._url),i=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:x,queryParams:i,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),r.then(p=>R1(p))}else{const a=RV(this.apiClient,e);return x=_e("batches/{name}",a._url),i=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:x,queryParams:i,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(m=e.config)===null||m===void 0?void 0:m.httpOptions,abortSignal:(w=e.config)===null||w===void 0?void 0:w.abortSignal}).then(p=>p.json()),r.then(p=>dg(p))}}async cancel(e){var n,s,m,w;let r="",x={};if(this.apiClient.isVertexAI()){const i=dV(this.apiClient,e);r=_e("batchPredictionJobs/{name}:cancel",i._url),x=i._query,delete i._url,delete i._query,await this.apiClient.request({path:r,queryParams:x,body:JSON.stringify(i),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}else{const i=cV(this.apiClient,e);r=_e("batches/{name}:cancel",i._url),x=i._query,delete i._url,delete i._query,await this.apiClient.request({path:r,queryParams:x,body:JSON.stringify(i),httpMethod:"POST",httpOptions:(m=e.config)===null||m===void 0?void 0:m.httpOptions,abortSignal:(w=e.config)===null||w===void 0?void 0:w.abortSignal})}}async listInternal(e){var n,s,m,w;let r,x="",i={};if(this.apiClient.isVertexAI()){const a=jV(e);return x=_e("batchPredictionJobs",a._url),i=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:x,queryParams:i,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(c=>{const o=c;return o.sdkHttpResponse={headers:p.headers},o})),r.then(p=>{const c=zV(p),o=new mE;return Object.assign(o,c),o})}else{const a=QV(e);return x=_e("batches",a._url),i=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:x,queryParams:i,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(m=e.config)===null||m===void 0?void 0:m.httpOptions,abortSignal:(w=e.config)===null||w===void 0?void 0:w.abortSignal}).then(p=>p.json().then(c=>{const o=c;return o.sdkHttpResponse={headers:p.headers},o})),r.then(p=>{const c=VV(p),o=new mE;return Object.assign(o,c),o})}}async delete(e){var n,s,m,w;let r,x="",i={};if(this.apiClient.isVertexAI()){const a=wV(this.apiClient,e);return x=_e("batchPredictionJobs/{name}",a._url),i=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:x,queryParams:i,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(c=>{const o=c;return o.sdkHttpResponse={headers:p.headers},o})),r.then(p=>bV(p))}else{const a=xV(this.apiClient,e);return x=_e("batches/{name}",a._url),i=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:x,queryParams:i,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(m=e.config)===null||m===void 0?void 0:m.httpOptions,abortSignal:(w=e.config)===null||w===void 0?void 0:w.abortSignal}).then(p=>p.json().then(c=>{const o=c;return o.sdkHttpResponse={headers:p.headers},o})),r.then(p=>CV(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ZV(t){const e={},n=D(t,["data"]);if(n!=null&&G(e,["data"],n),D(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=D(t,["mimeType"]);return s!=null&&G(e,["mimeType"],s),e}function bE(t){const e={},n=D(t,["parts"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(w=>yz(w))),G(e,["parts"],m)}const s=D(t,["role"]);return s!=null&&G(e,["role"],s),e}function $V(t,e){const n={},s=D(t,["ttl"]);e!==void 0&&s!=null&&G(e,["ttl"],s);const m=D(t,["expireTime"]);e!==void 0&&m!=null&&G(e,["expireTime"],m);const w=D(t,["displayName"]);e!==void 0&&w!=null&&G(e,["displayName"],w);const r=D(t,["contents"]);if(e!==void 0&&r!=null){let p=fr(r);Array.isArray(p)&&(p=p.map(c=>bE(c))),G(e,["contents"],p)}const x=D(t,["systemInstruction"]);e!==void 0&&x!=null&&G(e,["systemInstruction"],bE(jn(x)));const i=D(t,["tools"]);if(e!==void 0&&i!=null){let p=i;Array.isArray(p)&&(p=p.map(c=>wz(c))),G(e,["tools"],p)}const a=D(t,["toolConfig"]);if(e!==void 0&&a!=null&&G(e,["toolConfig"],xz(a)),D(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function qV(t,e){const n={},s=D(t,["ttl"]);e!==void 0&&s!=null&&G(e,["ttl"],s);const m=D(t,["expireTime"]);e!==void 0&&m!=null&&G(e,["expireTime"],m);const w=D(t,["displayName"]);e!==void 0&&w!=null&&G(e,["displayName"],w);const r=D(t,["contents"]);if(e!==void 0&&r!=null){let c=fr(r);Array.isArray(c)&&(c=c.map(o=>o)),G(e,["contents"],c)}const x=D(t,["systemInstruction"]);e!==void 0&&x!=null&&G(e,["systemInstruction"],jn(x));const i=D(t,["tools"]);if(e!==void 0&&i!=null){let c=i;Array.isArray(c)&&(c=c.map(o=>Cz(o))),G(e,["tools"],c)}const a=D(t,["toolConfig"]);e!==void 0&&a!=null&&G(e,["toolConfig"],a);const p=D(t,["kmsKeyName"]);return e!==void 0&&p!=null&&G(e,["encryption_spec","kmsKeyName"],p),n}function _V(t,e){const n={},s=D(e,["model"]);s!=null&&G(n,["model"],VM(t,s));const m=D(e,["config"]);return m!=null&&$V(m,n),n}function ez(t,e){const n={},s=D(e,["model"]);s!=null&&G(n,["model"],VM(t,s));const m=D(e,["config"]);return m!=null&&qV(m,n),n}function tz(t,e){const n={},s=D(e,["name"]);return s!=null&&G(n,["_url","name"],za(t,s)),n}function iz(t,e){const n={},s=D(e,["name"]);return s!=null&&G(n,["_url","name"],za(t,s)),n}function nz(t){const e={},n=D(t,["sdkHttpResponse"]);return n!=null&&G(e,["sdkHttpResponse"],n),e}function sz(t){const e={},n=D(t,["sdkHttpResponse"]);return n!=null&&G(e,["sdkHttpResponse"],n),e}function rz(t){const e={};if(D(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=D(t,["fileUri"]);n!=null&&G(e,["fileUri"],n);const s=D(t,["mimeType"]);return s!=null&&G(e,["mimeType"],s),e}function az(t){const e={},n=D(t,["id"]);n!=null&&G(e,["id"],n);const s=D(t,["args"]);s!=null&&G(e,["args"],s);const m=D(t,["name"]);if(m!=null&&G(e,["name"],m),D(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(D(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function oz(t){const e={},n=D(t,["mode"]);n!=null&&G(e,["mode"],n);const s=D(t,["allowedFunctionNames"]);if(s!=null&&G(e,["allowedFunctionNames"],s),D(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function lz(t){const e={};if(D(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=D(t,["description"]);n!=null&&G(e,["description"],n);const s=D(t,["name"]);s!=null&&G(e,["name"],s);const m=D(t,["parameters"]);m!=null&&G(e,["parameters"],m);const w=D(t,["parametersJsonSchema"]);w!=null&&G(e,["parametersJsonSchema"],w);const r=D(t,["response"]);r!=null&&G(e,["response"],r);const x=D(t,["responseJsonSchema"]);return x!=null&&G(e,["responseJsonSchema"],x),e}function uz(t,e){const n={},s=D(e,["name"]);return s!=null&&G(n,["_url","name"],za(t,s)),n}function hz(t,e){const n={},s=D(e,["name"]);return s!=null&&G(n,["_url","name"],za(t,s)),n}function cz(t){const e={};if(D(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=D(t,["enableWidget"]);return n!=null&&G(e,["enableWidget"],n),e}function dz(t){const e={};if(D(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(D(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=D(t,["timeRangeFilter"]);return n!=null&&G(e,["timeRangeFilter"],n),e}function Az(t,e){const n={},s=D(t,["pageSize"]);e!==void 0&&s!=null&&G(e,["_query","pageSize"],s);const m=D(t,["pageToken"]);return e!==void 0&&m!=null&&G(e,["_query","pageToken"],m),n}function fz(t,e){const n={},s=D(t,["pageSize"]);e!==void 0&&s!=null&&G(e,["_query","pageSize"],s);const m=D(t,["pageToken"]);return e!==void 0&&m!=null&&G(e,["_query","pageToken"],m),n}function pz(t){const e={},n=D(t,["config"]);return n!=null&&Az(n,e),e}function gz(t){const e={},n=D(t,["config"]);return n!=null&&fz(n,e),e}function vz(t){const e={},n=D(t,["sdkHttpResponse"]);n!=null&&G(e,["sdkHttpResponse"],n);const s=D(t,["nextPageToken"]);s!=null&&G(e,["nextPageToken"],s);const m=D(t,["cachedContents"]);if(m!=null){let w=m;Array.isArray(w)&&(w=w.map(r=>r)),G(e,["cachedContents"],w)}return e}function mz(t){const e={},n=D(t,["sdkHttpResponse"]);n!=null&&G(e,["sdkHttpResponse"],n);const s=D(t,["nextPageToken"]);s!=null&&G(e,["nextPageToken"],s);const m=D(t,["cachedContents"]);if(m!=null){let w=m;Array.isArray(w)&&(w=w.map(r=>r)),G(e,["cachedContents"],w)}return e}function yz(t){const e={},n=D(t,["mediaResolution"]);n!=null&&G(e,["mediaResolution"],n);const s=D(t,["codeExecutionResult"]);s!=null&&G(e,["codeExecutionResult"],s);const m=D(t,["executableCode"]);m!=null&&G(e,["executableCode"],m);const w=D(t,["fileData"]);w!=null&&G(e,["fileData"],rz(w));const r=D(t,["functionCall"]);r!=null&&G(e,["functionCall"],az(r));const x=D(t,["functionResponse"]);x!=null&&G(e,["functionResponse"],x);const i=D(t,["inlineData"]);i!=null&&G(e,["inlineData"],ZV(i));const a=D(t,["text"]);a!=null&&G(e,["text"],a);const p=D(t,["thought"]);p!=null&&G(e,["thought"],p);const c=D(t,["thoughtSignature"]);c!=null&&G(e,["thoughtSignature"],c);const o=D(t,["videoMetadata"]);return o!=null&&G(e,["videoMetadata"],o),e}function xz(t){const e={},n=D(t,["functionCallingConfig"]);n!=null&&G(e,["functionCallingConfig"],oz(n));const s=D(t,["retrievalConfig"]);return s!=null&&G(e,["retrievalConfig"],s),e}function wz(t){const e={},n=D(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(c=>c)),G(e,["functionDeclarations"],p)}if(D(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=D(t,["googleSearchRetrieval"]);s!=null&&G(e,["googleSearchRetrieval"],s);const m=D(t,["computerUse"]);m!=null&&G(e,["computerUse"],m);const w=D(t,["fileSearch"]);w!=null&&G(e,["fileSearch"],w);const r=D(t,["codeExecution"]);if(r!=null&&G(e,["codeExecution"],r),D(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const x=D(t,["googleMaps"]);x!=null&&G(e,["googleMaps"],cz(x));const i=D(t,["googleSearch"]);i!=null&&G(e,["googleSearch"],dz(i));const a=D(t,["urlContext"]);return a!=null&&G(e,["urlContext"],a),e}function Cz(t){const e={},n=D(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(o=>lz(o))),G(e,["functionDeclarations"],c)}const s=D(t,["retrieval"]);s!=null&&G(e,["retrieval"],s);const m=D(t,["googleSearchRetrieval"]);m!=null&&G(e,["googleSearchRetrieval"],m);const w=D(t,["computerUse"]);if(w!=null&&G(e,["computerUse"],w),D(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=D(t,["codeExecution"]);r!=null&&G(e,["codeExecution"],r);const x=D(t,["enterpriseWebSearch"]);x!=null&&G(e,["enterpriseWebSearch"],x);const i=D(t,["googleMaps"]);i!=null&&G(e,["googleMaps"],i);const a=D(t,["googleSearch"]);a!=null&&G(e,["googleSearch"],a);const p=D(t,["urlContext"]);return p!=null&&G(e,["urlContext"],p),e}function bz(t,e){const n={},s=D(t,["ttl"]);e!==void 0&&s!=null&&G(e,["ttl"],s);const m=D(t,["expireTime"]);return e!==void 0&&m!=null&&G(e,["expireTime"],m),n}function Sz(t,e){const n={},s=D(t,["ttl"]);e!==void 0&&s!=null&&G(e,["ttl"],s);const m=D(t,["expireTime"]);return e!==void 0&&m!=null&&G(e,["expireTime"],m),n}function Tz(t,e){const n={},s=D(e,["name"]);s!=null&&G(n,["_url","name"],za(t,s));const m=D(e,["config"]);return m!=null&&bz(m,n),n}function Ez(t,e){const n={},s=D(e,["name"]);s!=null&&G(n,["_url","name"],za(t,s));const m=D(e,["config"]);return m!=null&&Sz(m,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bz extends Va{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new nu(Ha.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(n),n)}async create(e){var n,s,m,w;let r,x="",i={};if(this.apiClient.isVertexAI()){const a=ez(this.apiClient,e);return x=_e("cachedContents",a._url),i=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:x,queryParams:i,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),r.then(p=>p)}else{const a=_V(this.apiClient,e);return x=_e("cachedContents",a._url),i=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:x,queryParams:i,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(m=e.config)===null||m===void 0?void 0:m.httpOptions,abortSignal:(w=e.config)===null||w===void 0?void 0:w.abortSignal}).then(p=>p.json()),r.then(p=>p)}}async get(e){var n,s,m,w;let r,x="",i={};if(this.apiClient.isVertexAI()){const a=hz(this.apiClient,e);return x=_e("{name}",a._url),i=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:x,queryParams:i,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),r.then(p=>p)}else{const a=uz(this.apiClient,e);return x=_e("{name}",a._url),i=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:x,queryParams:i,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(m=e.config)===null||m===void 0?void 0:m.httpOptions,abortSignal:(w=e.config)===null||w===void 0?void 0:w.abortSignal}).then(p=>p.json()),r.then(p=>p)}}async delete(e){var n,s,m,w;let r,x="",i={};if(this.apiClient.isVertexAI()){const a=iz(this.apiClient,e);return x=_e("{name}",a._url),i=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:x,queryParams:i,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(c=>{const o=c;return o.sdkHttpResponse={headers:p.headers},o})),r.then(p=>{const c=sz(p),o=new gE;return Object.assign(o,c),o})}else{const a=tz(this.apiClient,e);return x=_e("{name}",a._url),i=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:x,queryParams:i,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(m=e.config)===null||m===void 0?void 0:m.httpOptions,abortSignal:(w=e.config)===null||w===void 0?void 0:w.abortSignal}).then(p=>p.json().then(c=>{const o=c;return o.sdkHttpResponse={headers:p.headers},o})),r.then(p=>{const c=nz(p),o=new gE;return Object.assign(o,c),o})}}async update(e){var n,s,m,w;let r,x="",i={};if(this.apiClient.isVertexAI()){const a=Ez(this.apiClient,e);return x=_e("{name}",a._url),i=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:x,queryParams:i,body:JSON.stringify(a),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),r.then(p=>p)}else{const a=Tz(this.apiClient,e);return x=_e("{name}",a._url),i=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:x,queryParams:i,body:JSON.stringify(a),httpMethod:"PATCH",httpOptions:(m=e.config)===null||m===void 0?void 0:m.httpOptions,abortSignal:(w=e.config)===null||w===void 0?void 0:w.abortSignal}).then(p=>p.json()),r.then(p=>p)}}async listInternal(e){var n,s,m,w;let r,x="",i={};if(this.apiClient.isVertexAI()){const a=gz(e);return x=_e("cachedContents",a._url),i=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:x,queryParams:i,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(c=>{const o=c;return o.sdkHttpResponse={headers:p.headers},o})),r.then(p=>{const c=mz(p),o=new vE;return Object.assign(o,c),o})}else{const a=pz(e);return x=_e("cachedContents",a._url),i=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:x,queryParams:i,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(m=e.config)===null||m===void 0?void 0:m.httpOptions,abortSignal:(w=e.config)===null||w===void 0?void 0:w.abortSignal}).then(p=>p.json().then(c=>{const o=c;return o.sdkHttpResponse={headers:p.headers},o})),r.then(p=>{const c=vz(p),o=new vE;return Object.assign(o,c),o})}}}function cv(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var m=0,s=Object.getOwnPropertySymbols(t);m<s.length;m++)e.indexOf(s[m])<0&&Object.prototype.propertyIsEnumerable.call(t,s[m])&&(n[s[m]]=t[s[m]]);return n}function SE(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],s=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ct(t){return this instanceof Ct?(this.v=t,this):new Ct(t)}function Ir(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(t,e||[]),m,w=[];return m=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),x("next"),x("throw"),x("return",r),m[Symbol.asyncIterator]=function(){return this},m;function r(u){return function(l){return Promise.resolve(l).then(u,c)}}function x(u,l){s[u]&&(m[u]=function(d){return new Promise(function(f,h){w.push([u,d,f,h])>1||i(u,d)})},l&&(m[u]=l(m[u])))}function i(u,l){try{a(s[u](l))}catch(d){o(w[0][3],d)}}function a(u){u.value instanceof Ct?Promise.resolve(u.value.v).then(p,c):o(w[0][2],u)}function p(u){i("next",u)}function c(u){i("throw",u)}function o(u,l){u(l),w.shift(),w.length&&i(w[0][0],w[0][1])}}function Pr(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof SE=="function"?SE(t):t[Symbol.iterator](),n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n);function s(w){n[w]=t[w]&&function(r){return new Promise(function(x,i){r=t[w](r),m(x,i,r.done,r.value)})}}function m(w,r,x,i){Promise.resolve(i).then(function(a){w({value:a,done:x})},r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fz(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:iR(n)}function iR(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Nz(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function TE(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let s=0;for(;s<n;)if(t[s].role==="user")e.push(t[s]),s++;else{const m=[];let w=!0;for(;s<n&&t[s].role==="model";)m.push(t[s]),w&&!iR(t[s])&&(w=!1),s++;w?e.push(...m):e.pop()}return e}class Lz{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new Mz(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Mz{constructor(e,n,s,m={},w=[]){this.apiClient=e,this.modelsModule=n,this.model=s,this.config=m,this.history=w,this.sendPromise=Promise.resolve(),Nz(w)}async sendMessage(e){var n;await this.sendPromise;const s=jn(e.message),m=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var w,r,x;const i=await m,a=(r=(w=i.candidates)===null||w===void 0?void 0:w[0])===null||r===void 0?void 0:r.content,p=i.automaticFunctionCallingHistory,c=this.getHistory(!0).length;let o=[];p!=null&&(o=(x=p.slice(c))!==null&&x!==void 0?x:[]);const u=a?[a]:[];this.recordHistory(s,u,o)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),m}async sendMessageStream(e){var n;await this.sendPromise;const s=jn(e.message),m=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=m.then(()=>{}).catch(()=>{});const w=await m;return this.processStreamResponse(w,s)}getHistory(e=!1){const n=e?TE(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return Ir(this,arguments,function*(){var m,w,r,x,i,a;const p=[];try{for(var c=!0,o=Pr(e),u;u=yield Ct(o.next()),m=u.done,!m;c=!0){x=u.value,c=!1;const l=x;if(Fz(l)){const d=(a=(i=l.candidates)===null||i===void 0?void 0:i[0])===null||a===void 0?void 0:a.content;d!==void 0&&p.push(d)}yield yield Ct(l)}}catch(l){w={error:l}}finally{try{!c&&!m&&(r=o.return)&&(yield Ct(r.call(o)))}finally{if(w)throw w.error}}this.recordHistory(n,p)})}recordHistory(e,n,s){let m=[];n.length>0&&n.every(w=>w.role!==void 0)?m=n:m.push({role:"model",parts:[]}),s&&s.length>0?this.history.push(...TE(s)):this.history.push(e),this.history.push(...m)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class r0 extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,r0.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Rz(t){const e={},n=D(t,["file"]);return n!=null&&G(e,["file"],n),e}function Iz(t){const e={},n=D(t,["sdkHttpResponse"]);return n!=null&&G(e,["sdkHttpResponse"],n),e}function Pz(t){const e={},n=D(t,["name"]);return n!=null&&G(e,["_url","file"],JM(n)),e}function Uz(t){const e={},n=D(t,["sdkHttpResponse"]);return n!=null&&G(e,["sdkHttpResponse"],n),e}function Dz(t){const e={},n=D(t,["name"]);return n!=null&&G(e,["_url","file"],JM(n)),e}function Oz(t,e){const n={},s=D(t,["pageSize"]);e!==void 0&&s!=null&&G(e,["_query","pageSize"],s);const m=D(t,["pageToken"]);return e!==void 0&&m!=null&&G(e,["_query","pageToken"],m),n}function kz(t){const e={},n=D(t,["config"]);return n!=null&&Oz(n,e),e}function Hz(t){const e={},n=D(t,["sdkHttpResponse"]);n!=null&&G(e,["sdkHttpResponse"],n);const s=D(t,["nextPageToken"]);s!=null&&G(e,["nextPageToken"],s);const m=D(t,["files"]);if(m!=null){let w=m;Array.isArray(w)&&(w=w.map(r=>r)),G(e,["files"],w)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gz extends Va{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new nu(Ha.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,s;let m,w="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const x=kz(e);return w=_e("files",x._url),r=x._query,delete x._url,delete x._query,m=this.apiClient.request({path:w,queryParams:r,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(i=>i.json().then(a=>{const p=a;return p.sdkHttpResponse={headers:i.headers},p})),m.then(i=>{const a=Hz(i),p=new zj;return Object.assign(p,a),p})}}async createInternal(e){var n,s;let m,w="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const x=Rz(e);return w=_e("upload/v1beta/files",x._url),r=x._query,delete x._url,delete x._query,m=this.apiClient.request({path:w,queryParams:r,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(i=>i.json()),m.then(i=>{const a=Iz(i),p=new Yj;return Object.assign(p,a),p})}}async get(e){var n,s;let m,w="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const x=Dz(e);return w=_e("files/{file}",x._url),r=x._query,delete x._url,delete x._query,m=this.apiClient.request({path:w,queryParams:r,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(i=>i.json()),m.then(i=>i)}}async delete(e){var n,s;let m,w="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const x=Pz(e);return w=_e("files/{file}",x._url),r=x._query,delete x._url,delete x._query,m=this.apiClient.request({path:w,queryParams:r,body:JSON.stringify(x),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(i=>i.json().then(a=>{const p=a;return p.sdkHttpResponse={headers:i.headers},p})),m.then(i=>{const a=Uz(i),p=new Xj;return Object.assign(p,a),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ag(t){const e={},n=D(t,["data"]);if(n!=null&&G(e,["data"],n),D(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=D(t,["mimeType"]);return s!=null&&G(e,["mimeType"],s),e}function Qz(t){const e={},n=D(t,["parts"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(w=>nY(w))),G(e,["parts"],m)}const s=D(t,["role"]);return s!=null&&G(e,["role"],s),e}function jz(t){const e={};if(D(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=D(t,["fileUri"]);n!=null&&G(e,["fileUri"],n);const s=D(t,["mimeType"]);return s!=null&&G(e,["mimeType"],s),e}function Vz(t){const e={},n=D(t,["id"]);n!=null&&G(e,["id"],n);const s=D(t,["args"]);s!=null&&G(e,["args"],s);const m=D(t,["name"]);if(m!=null&&G(e,["name"],m),D(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(D(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function zz(t){const e={};if(D(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=D(t,["description"]);n!=null&&G(e,["description"],n);const s=D(t,["name"]);s!=null&&G(e,["name"],s);const m=D(t,["parameters"]);m!=null&&G(e,["parameters"],m);const w=D(t,["parametersJsonSchema"]);w!=null&&G(e,["parametersJsonSchema"],w);const r=D(t,["response"]);r!=null&&G(e,["response"],r);const x=D(t,["responseJsonSchema"]);return x!=null&&G(e,["responseJsonSchema"],x),e}function Yz(t){const e={},n=D(t,["modelSelectionConfig"]);n!=null&&G(e,["modelConfig"],n);const s=D(t,["responseJsonSchema"]);s!=null&&G(e,["responseJsonSchema"],s);const m=D(t,["audioTimestamp"]);m!=null&&G(e,["audioTimestamp"],m);const w=D(t,["candidateCount"]);w!=null&&G(e,["candidateCount"],w);const r=D(t,["enableAffectiveDialog"]);r!=null&&G(e,["enableAffectiveDialog"],r);const x=D(t,["frequencyPenalty"]);x!=null&&G(e,["frequencyPenalty"],x);const i=D(t,["logprobs"]);i!=null&&G(e,["logprobs"],i);const a=D(t,["maxOutputTokens"]);a!=null&&G(e,["maxOutputTokens"],a);const p=D(t,["mediaResolution"]);p!=null&&G(e,["mediaResolution"],p);const c=D(t,["presencePenalty"]);c!=null&&G(e,["presencePenalty"],c);const o=D(t,["responseLogprobs"]);o!=null&&G(e,["responseLogprobs"],o);const u=D(t,["responseMimeType"]);u!=null&&G(e,["responseMimeType"],u);const l=D(t,["responseModalities"]);l!=null&&G(e,["responseModalities"],l);const d=D(t,["responseSchema"]);d!=null&&G(e,["responseSchema"],d);const f=D(t,["routingConfig"]);f!=null&&G(e,["routingConfig"],f);const h=D(t,["seed"]);h!=null&&G(e,["seed"],h);const A=D(t,["speechConfig"]);A!=null&&G(e,["speechConfig"],A);const g=D(t,["stopSequences"]);g!=null&&G(e,["stopSequences"],g);const v=D(t,["temperature"]);v!=null&&G(e,["temperature"],v);const y=D(t,["thinkingConfig"]);y!=null&&G(e,["thinkingConfig"],y);const C=D(t,["topK"]);C!=null&&G(e,["topK"],C);const b=D(t,["topP"]);if(b!=null&&G(e,["topP"],b),D(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Xz(t){const e={};if(D(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=D(t,["enableWidget"]);return n!=null&&G(e,["enableWidget"],n),e}function Wz(t){const e={};if(D(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(D(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=D(t,["timeRangeFilter"]);return n!=null&&G(e,["timeRangeFilter"],n),e}function Kz(t,e){const n={},s=D(t,["generationConfig"]);e!==void 0&&s!=null&&G(e,["setup","generationConfig"],s);const m=D(t,["responseModalities"]);e!==void 0&&m!=null&&G(e,["setup","generationConfig","responseModalities"],m);const w=D(t,["temperature"]);e!==void 0&&w!=null&&G(e,["setup","generationConfig","temperature"],w);const r=D(t,["topP"]);e!==void 0&&r!=null&&G(e,["setup","generationConfig","topP"],r);const x=D(t,["topK"]);e!==void 0&&x!=null&&G(e,["setup","generationConfig","topK"],x);const i=D(t,["maxOutputTokens"]);e!==void 0&&i!=null&&G(e,["setup","generationConfig","maxOutputTokens"],i);const a=D(t,["mediaResolution"]);e!==void 0&&a!=null&&G(e,["setup","generationConfig","mediaResolution"],a);const p=D(t,["seed"]);e!==void 0&&p!=null&&G(e,["setup","generationConfig","seed"],p);const c=D(t,["speechConfig"]);e!==void 0&&c!=null&&G(e,["setup","generationConfig","speechConfig"],vC(c));const o=D(t,["thinkingConfig"]);e!==void 0&&o!=null&&G(e,["setup","generationConfig","thinkingConfig"],o);const u=D(t,["enableAffectiveDialog"]);e!==void 0&&u!=null&&G(e,["setup","generationConfig","enableAffectiveDialog"],u);const l=D(t,["systemInstruction"]);e!==void 0&&l!=null&&G(e,["setup","systemInstruction"],Qz(jn(l)));const d=D(t,["tools"]);if(e!==void 0&&d!=null){let C=fc(d);Array.isArray(C)&&(C=C.map(b=>rY(Ac(b)))),G(e,["setup","tools"],C)}const f=D(t,["sessionResumption"]);e!==void 0&&f!=null&&G(e,["setup","sessionResumption"],sY(f));const h=D(t,["inputAudioTranscription"]);e!==void 0&&h!=null&&G(e,["setup","inputAudioTranscription"],h);const A=D(t,["outputAudioTranscription"]);e!==void 0&&A!=null&&G(e,["setup","outputAudioTranscription"],A);const g=D(t,["realtimeInputConfig"]);e!==void 0&&g!=null&&G(e,["setup","realtimeInputConfig"],g);const v=D(t,["contextWindowCompression"]);e!==void 0&&v!=null&&G(e,["setup","contextWindowCompression"],v);const y=D(t,["proactivity"]);if(e!==void 0&&y!=null&&G(e,["setup","proactivity"],y),D(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Jz(t,e){const n={},s=D(t,["generationConfig"]);e!==void 0&&s!=null&&G(e,["setup","generationConfig"],Yz(s));const m=D(t,["responseModalities"]);e!==void 0&&m!=null&&G(e,["setup","generationConfig","responseModalities"],m);const w=D(t,["temperature"]);e!==void 0&&w!=null&&G(e,["setup","generationConfig","temperature"],w);const r=D(t,["topP"]);e!==void 0&&r!=null&&G(e,["setup","generationConfig","topP"],r);const x=D(t,["topK"]);e!==void 0&&x!=null&&G(e,["setup","generationConfig","topK"],x);const i=D(t,["maxOutputTokens"]);e!==void 0&&i!=null&&G(e,["setup","generationConfig","maxOutputTokens"],i);const a=D(t,["mediaResolution"]);e!==void 0&&a!=null&&G(e,["setup","generationConfig","mediaResolution"],a);const p=D(t,["seed"]);e!==void 0&&p!=null&&G(e,["setup","generationConfig","seed"],p);const c=D(t,["speechConfig"]);e!==void 0&&c!=null&&G(e,["setup","generationConfig","speechConfig"],vC(c));const o=D(t,["thinkingConfig"]);e!==void 0&&o!=null&&G(e,["setup","generationConfig","thinkingConfig"],o);const u=D(t,["enableAffectiveDialog"]);e!==void 0&&u!=null&&G(e,["setup","generationConfig","enableAffectiveDialog"],u);const l=D(t,["systemInstruction"]);e!==void 0&&l!=null&&G(e,["setup","systemInstruction"],jn(l));const d=D(t,["tools"]);if(e!==void 0&&d!=null){let b=fc(d);Array.isArray(b)&&(b=b.map(T=>aY(Ac(T)))),G(e,["setup","tools"],b)}const f=D(t,["sessionResumption"]);e!==void 0&&f!=null&&G(e,["setup","sessionResumption"],f);const h=D(t,["inputAudioTranscription"]);e!==void 0&&h!=null&&G(e,["setup","inputAudioTranscription"],h);const A=D(t,["outputAudioTranscription"]);e!==void 0&&A!=null&&G(e,["setup","outputAudioTranscription"],A);const g=D(t,["realtimeInputConfig"]);e!==void 0&&g!=null&&G(e,["setup","realtimeInputConfig"],g);const v=D(t,["contextWindowCompression"]);e!==void 0&&v!=null&&G(e,["setup","contextWindowCompression"],v);const y=D(t,["proactivity"]);e!==void 0&&y!=null&&G(e,["setup","proactivity"],y);const C=D(t,["explicitVadSignal"]);return e!==void 0&&C!=null&&G(e,["setup","explicitVadSignal"],C),n}function Zz(t,e){const n={},s=D(e,["model"]);s!=null&&G(n,["setup","model"],zt(t,s));const m=D(e,["config"]);return m!=null&&G(n,["config"],Kz(m,n)),n}function $z(t,e){const n={},s=D(e,["model"]);s!=null&&G(n,["setup","model"],zt(t,s));const m=D(e,["config"]);return m!=null&&G(n,["config"],Jz(m,n)),n}function qz(t){const e={},n=D(t,["musicGenerationConfig"]);return n!=null&&G(e,["musicGenerationConfig"],n),e}function _z(t){const e={},n=D(t,["weightedPrompts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(m=>m)),G(e,["weightedPrompts"],s)}return e}function eY(t){const e={},n=D(t,["media"]);if(n!=null){let a=zM(n);Array.isArray(a)&&(a=a.map(p=>Ag(p))),G(e,["mediaChunks"],a)}const s=D(t,["audio"]);s!=null&&G(e,["audio"],Ag(XM(s)));const m=D(t,["audioStreamEnd"]);m!=null&&G(e,["audioStreamEnd"],m);const w=D(t,["video"]);w!=null&&G(e,["video"],Ag(YM(w)));const r=D(t,["text"]);r!=null&&G(e,["text"],r);const x=D(t,["activityStart"]);x!=null&&G(e,["activityStart"],x);const i=D(t,["activityEnd"]);return i!=null&&G(e,["activityEnd"],i),e}function tY(t){const e={},n=D(t,["media"]);if(n!=null){let a=zM(n);Array.isArray(a)&&(a=a.map(p=>p)),G(e,["mediaChunks"],a)}const s=D(t,["audio"]);s!=null&&G(e,["audio"],XM(s));const m=D(t,["audioStreamEnd"]);m!=null&&G(e,["audioStreamEnd"],m);const w=D(t,["video"]);w!=null&&G(e,["video"],YM(w));const r=D(t,["text"]);r!=null&&G(e,["text"],r);const x=D(t,["activityStart"]);x!=null&&G(e,["activityStart"],x);const i=D(t,["activityEnd"]);return i!=null&&G(e,["activityEnd"],i),e}function iY(t){const e={},n=D(t,["setupComplete"]);n!=null&&G(e,["setupComplete"],n);const s=D(t,["serverContent"]);s!=null&&G(e,["serverContent"],s);const m=D(t,["toolCall"]);m!=null&&G(e,["toolCall"],m);const w=D(t,["toolCallCancellation"]);w!=null&&G(e,["toolCallCancellation"],w);const r=D(t,["usageMetadata"]);r!=null&&G(e,["usageMetadata"],oY(r));const x=D(t,["goAway"]);x!=null&&G(e,["goAway"],x);const i=D(t,["sessionResumptionUpdate"]);i!=null&&G(e,["sessionResumptionUpdate"],i);const a=D(t,["voiceActivityDetectionSignal"]);return a!=null&&G(e,["voiceActivityDetectionSignal"],a),e}function nY(t){const e={},n=D(t,["mediaResolution"]);n!=null&&G(e,["mediaResolution"],n);const s=D(t,["codeExecutionResult"]);s!=null&&G(e,["codeExecutionResult"],s);const m=D(t,["executableCode"]);m!=null&&G(e,["executableCode"],m);const w=D(t,["fileData"]);w!=null&&G(e,["fileData"],jz(w));const r=D(t,["functionCall"]);r!=null&&G(e,["functionCall"],Vz(r));const x=D(t,["functionResponse"]);x!=null&&G(e,["functionResponse"],x);const i=D(t,["inlineData"]);i!=null&&G(e,["inlineData"],Ag(i));const a=D(t,["text"]);a!=null&&G(e,["text"],a);const p=D(t,["thought"]);p!=null&&G(e,["thought"],p);const c=D(t,["thoughtSignature"]);c!=null&&G(e,["thoughtSignature"],c);const o=D(t,["videoMetadata"]);return o!=null&&G(e,["videoMetadata"],o),e}function sY(t){const e={},n=D(t,["handle"]);if(n!=null&&G(e,["handle"],n),D(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function rY(t){const e={},n=D(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(c=>c)),G(e,["functionDeclarations"],p)}if(D(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=D(t,["googleSearchRetrieval"]);s!=null&&G(e,["googleSearchRetrieval"],s);const m=D(t,["computerUse"]);m!=null&&G(e,["computerUse"],m);const w=D(t,["fileSearch"]);w!=null&&G(e,["fileSearch"],w);const r=D(t,["codeExecution"]);if(r!=null&&G(e,["codeExecution"],r),D(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const x=D(t,["googleMaps"]);x!=null&&G(e,["googleMaps"],Xz(x));const i=D(t,["googleSearch"]);i!=null&&G(e,["googleSearch"],Wz(i));const a=D(t,["urlContext"]);return a!=null&&G(e,["urlContext"],a),e}function aY(t){const e={},n=D(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(o=>zz(o))),G(e,["functionDeclarations"],c)}const s=D(t,["retrieval"]);s!=null&&G(e,["retrieval"],s);const m=D(t,["googleSearchRetrieval"]);m!=null&&G(e,["googleSearchRetrieval"],m);const w=D(t,["computerUse"]);if(w!=null&&G(e,["computerUse"],w),D(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=D(t,["codeExecution"]);r!=null&&G(e,["codeExecution"],r);const x=D(t,["enterpriseWebSearch"]);x!=null&&G(e,["enterpriseWebSearch"],x);const i=D(t,["googleMaps"]);i!=null&&G(e,["googleMaps"],i);const a=D(t,["googleSearch"]);a!=null&&G(e,["googleSearch"],a);const p=D(t,["urlContext"]);return p!=null&&G(e,["urlContext"],p),e}function oY(t){const e={},n=D(t,["promptTokenCount"]);n!=null&&G(e,["promptTokenCount"],n);const s=D(t,["cachedContentTokenCount"]);s!=null&&G(e,["cachedContentTokenCount"],s);const m=D(t,["candidatesTokenCount"]);m!=null&&G(e,["responseTokenCount"],m);const w=D(t,["toolUsePromptTokenCount"]);w!=null&&G(e,["toolUsePromptTokenCount"],w);const r=D(t,["thoughtsTokenCount"]);r!=null&&G(e,["thoughtsTokenCount"],r);const x=D(t,["totalTokenCount"]);x!=null&&G(e,["totalTokenCount"],x);const i=D(t,["promptTokensDetails"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(l=>l)),G(e,["promptTokensDetails"],u)}const a=D(t,["cacheTokensDetails"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(l=>l)),G(e,["cacheTokensDetails"],u)}const p=D(t,["candidatesTokensDetails"]);if(p!=null){let u=p;Array.isArray(u)&&(u=u.map(l=>l)),G(e,["responseTokensDetails"],u)}const c=D(t,["toolUsePromptTokensDetails"]);if(c!=null){let u=c;Array.isArray(u)&&(u=u.map(l=>l)),G(e,["toolUsePromptTokensDetails"],u)}const o=D(t,["trafficType"]);return o!=null&&G(e,["trafficType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lY(t){const e={},n=D(t,["data"]);if(n!=null&&G(e,["data"],n),D(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=D(t,["mimeType"]);return s!=null&&G(e,["mimeType"],s),e}function uY(t){const e={},n=D(t,["content"]);n!=null&&G(e,["content"],n);const s=D(t,["citationMetadata"]);s!=null&&G(e,["citationMetadata"],hY(s));const m=D(t,["tokenCount"]);m!=null&&G(e,["tokenCount"],m);const w=D(t,["finishReason"]);w!=null&&G(e,["finishReason"],w);const r=D(t,["avgLogprobs"]);r!=null&&G(e,["avgLogprobs"],r);const x=D(t,["groundingMetadata"]);x!=null&&G(e,["groundingMetadata"],x);const i=D(t,["index"]);i!=null&&G(e,["index"],i);const a=D(t,["logprobsResult"]);a!=null&&G(e,["logprobsResult"],a);const p=D(t,["safetyRatings"]);if(p!=null){let o=p;Array.isArray(o)&&(o=o.map(u=>u)),G(e,["safetyRatings"],o)}const c=D(t,["urlContextMetadata"]);return c!=null&&G(e,["urlContextMetadata"],c),e}function hY(t){const e={},n=D(t,["citationSources"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(m=>m)),G(e,["citations"],s)}return e}function cY(t,e){const n={},s=D(e,["model"]);s!=null&&G(n,["_url","model"],zt(t,s));const m=D(e,["contents"]);if(m!=null){let w=fr(m);Array.isArray(w)&&(w=w.map(r=>r)),G(n,["contents"],w)}return n}function dY(t){const e={},n=D(t,["sdkHttpResponse"]);n!=null&&G(e,["sdkHttpResponse"],n);const s=D(t,["tokensInfo"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(w=>w)),G(e,["tokensInfo"],m)}return e}function AY(t){const e={},n=D(t,["values"]);n!=null&&G(e,["values"],n);const s=D(t,["statistics"]);return s!=null&&G(e,["statistics"],fY(s)),e}function fY(t){const e={},n=D(t,["truncated"]);n!=null&&G(e,["truncated"],n);const s=D(t,["token_count"]);return s!=null&&G(e,["tokenCount"],s),e}function a0(t){const e={},n=D(t,["parts"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(w=>bX(w))),G(e,["parts"],m)}const s=D(t,["role"]);return s!=null&&G(e,["role"],s),e}function pY(t){const e={},n=D(t,["controlType"]);n!=null&&G(e,["controlType"],n);const s=D(t,["enableControlImageComputation"]);return s!=null&&G(e,["computeControl"],s),e}function gY(t){const e={};if(D(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(D(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(D(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function vY(t,e){const n={},s=D(t,["systemInstruction"]);e!==void 0&&s!=null&&G(e,["systemInstruction"],jn(s));const m=D(t,["tools"]);if(e!==void 0&&m!=null){let r=m;Array.isArray(r)&&(r=r.map(x=>aR(x))),G(e,["tools"],r)}const w=D(t,["generationConfig"]);return e!==void 0&&w!=null&&G(e,["generationConfig"],lX(w)),n}function mY(t,e){const n={},s=D(e,["model"]);s!=null&&G(n,["_url","model"],zt(t,s));const m=D(e,["contents"]);if(m!=null){let r=fr(m);Array.isArray(r)&&(r=r.map(x=>a0(x))),G(n,["contents"],r)}const w=D(e,["config"]);return w!=null&&gY(w),n}function yY(t,e){const n={},s=D(e,["model"]);s!=null&&G(n,["_url","model"],zt(t,s));const m=D(e,["contents"]);if(m!=null){let r=fr(m);Array.isArray(r)&&(r=r.map(x=>x)),G(n,["contents"],r)}const w=D(e,["config"]);return w!=null&&vY(w,n),n}function xY(t){const e={},n=D(t,["sdkHttpResponse"]);n!=null&&G(e,["sdkHttpResponse"],n);const s=D(t,["totalTokens"]);s!=null&&G(e,["totalTokens"],s);const m=D(t,["cachedContentTokenCount"]);return m!=null&&G(e,["cachedContentTokenCount"],m),e}function wY(t){const e={},n=D(t,["sdkHttpResponse"]);n!=null&&G(e,["sdkHttpResponse"],n);const s=D(t,["totalTokens"]);return s!=null&&G(e,["totalTokens"],s),e}function CY(t,e){const n={},s=D(e,["model"]);return s!=null&&G(n,["_url","name"],zt(t,s)),n}function bY(t,e){const n={},s=D(e,["model"]);return s!=null&&G(n,["_url","name"],zt(t,s)),n}function SY(t){const e={},n=D(t,["sdkHttpResponse"]);return n!=null&&G(e,["sdkHttpResponse"],n),e}function TY(t){const e={},n=D(t,["sdkHttpResponse"]);return n!=null&&G(e,["sdkHttpResponse"],n),e}function EY(t,e){const n={},s=D(t,["outputGcsUri"]);e!==void 0&&s!=null&&G(e,["parameters","storageUri"],s);const m=D(t,["negativePrompt"]);e!==void 0&&m!=null&&G(e,["parameters","negativePrompt"],m);const w=D(t,["numberOfImages"]);e!==void 0&&w!=null&&G(e,["parameters","sampleCount"],w);const r=D(t,["aspectRatio"]);e!==void 0&&r!=null&&G(e,["parameters","aspectRatio"],r);const x=D(t,["guidanceScale"]);e!==void 0&&x!=null&&G(e,["parameters","guidanceScale"],x);const i=D(t,["seed"]);e!==void 0&&i!=null&&G(e,["parameters","seed"],i);const a=D(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&G(e,["parameters","safetySetting"],a);const p=D(t,["personGeneration"]);e!==void 0&&p!=null&&G(e,["parameters","personGeneration"],p);const c=D(t,["includeSafetyAttributes"]);e!==void 0&&c!=null&&G(e,["parameters","includeSafetyAttributes"],c);const o=D(t,["includeRaiReason"]);e!==void 0&&o!=null&&G(e,["parameters","includeRaiReason"],o);const u=D(t,["language"]);e!==void 0&&u!=null&&G(e,["parameters","language"],u);const l=D(t,["outputMimeType"]);e!==void 0&&l!=null&&G(e,["parameters","outputOptions","mimeType"],l);const d=D(t,["outputCompressionQuality"]);e!==void 0&&d!=null&&G(e,["parameters","outputOptions","compressionQuality"],d);const f=D(t,["addWatermark"]);e!==void 0&&f!=null&&G(e,["parameters","addWatermark"],f);const h=D(t,["labels"]);e!==void 0&&h!=null&&G(e,["labels"],h);const A=D(t,["editMode"]);e!==void 0&&A!=null&&G(e,["parameters","editMode"],A);const g=D(t,["baseSteps"]);return e!==void 0&&g!=null&&G(e,["parameters","editConfig","baseSteps"],g),n}function BY(t,e){const n={},s=D(e,["model"]);s!=null&&G(n,["_url","model"],zt(t,s));const m=D(e,["prompt"]);m!=null&&G(n,["instances[0]","prompt"],m);const w=D(e,["referenceImages"]);if(w!=null){let x=w;Array.isArray(x)&&(x=x.map(i=>NX(i))),G(n,["instances[0]","referenceImages"],x)}const r=D(e,["config"]);return r!=null&&EY(r,n),n}function FY(t){const e={},n=D(t,["sdkHttpResponse"]);n!=null&&G(e,["sdkHttpResponse"],n);const s=D(t,["predictions"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(w=>o0(w))),G(e,["generatedImages"],m)}return e}function NY(t,e){const n={},s=D(t,["taskType"]);e!==void 0&&s!=null&&G(e,["requests[]","taskType"],s);const m=D(t,["title"]);e!==void 0&&m!=null&&G(e,["requests[]","title"],m);const w=D(t,["outputDimensionality"]);if(e!==void 0&&w!=null&&G(e,["requests[]","outputDimensionality"],w),D(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(D(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function LY(t,e){const n={},s=D(t,["taskType"]);e!==void 0&&s!=null&&G(e,["instances[]","task_type"],s);const m=D(t,["title"]);e!==void 0&&m!=null&&G(e,["instances[]","title"],m);const w=D(t,["outputDimensionality"]);e!==void 0&&w!=null&&G(e,["parameters","outputDimensionality"],w);const r=D(t,["mimeType"]);e!==void 0&&r!=null&&G(e,["instances[]","mimeType"],r);const x=D(t,["autoTruncate"]);return e!==void 0&&x!=null&&G(e,["parameters","autoTruncate"],x),n}function MY(t,e){const n={},s=D(e,["model"]);s!=null&&G(n,["_url","model"],zt(t,s));const m=D(e,["contents"]);if(m!=null){let x=fC(t,m);Array.isArray(x)&&(x=x.map(i=>i)),G(n,["requests[]","content"],x)}const w=D(e,["config"]);w!=null&&NY(w,n);const r=D(e,["model"]);return r!==void 0&&G(n,["requests[]","model"],zt(t,r)),n}function RY(t,e){const n={},s=D(e,["model"]);s!=null&&G(n,["_url","model"],zt(t,s));const m=D(e,["contents"]);if(m!=null){let r=fC(t,m);Array.isArray(r)&&(r=r.map(x=>x)),G(n,["instances[]","content"],r)}const w=D(e,["config"]);return w!=null&&LY(w,n),n}function IY(t){const e={},n=D(t,["sdkHttpResponse"]);n!=null&&G(e,["sdkHttpResponse"],n);const s=D(t,["embeddings"]);if(s!=null){let w=s;Array.isArray(w)&&(w=w.map(r=>r)),G(e,["embeddings"],w)}const m=D(t,["metadata"]);return m!=null&&G(e,["metadata"],m),e}function PY(t){const e={},n=D(t,["sdkHttpResponse"]);n!=null&&G(e,["sdkHttpResponse"],n);const s=D(t,["predictions[]","embeddings"]);if(s!=null){let w=s;Array.isArray(w)&&(w=w.map(r=>AY(r))),G(e,["embeddings"],w)}const m=D(t,["metadata"]);return m!=null&&G(e,["metadata"],m),e}function UY(t){const e={},n=D(t,["endpoint"]);n!=null&&G(e,["name"],n);const s=D(t,["deployedModelId"]);return s!=null&&G(e,["deployedModelId"],s),e}function DY(t){const e={};if(D(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=D(t,["fileUri"]);n!=null&&G(e,["fileUri"],n);const s=D(t,["mimeType"]);return s!=null&&G(e,["mimeType"],s),e}function OY(t){const e={},n=D(t,["id"]);n!=null&&G(e,["id"],n);const s=D(t,["args"]);s!=null&&G(e,["args"],s);const m=D(t,["name"]);if(m!=null&&G(e,["name"],m),D(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(D(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function kY(t){const e={},n=D(t,["mode"]);n!=null&&G(e,["mode"],n);const s=D(t,["allowedFunctionNames"]);if(s!=null&&G(e,["allowedFunctionNames"],s),D(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function HY(t){const e={};if(D(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=D(t,["description"]);n!=null&&G(e,["description"],n);const s=D(t,["name"]);s!=null&&G(e,["name"],s);const m=D(t,["parameters"]);m!=null&&G(e,["parameters"],m);const w=D(t,["parametersJsonSchema"]);w!=null&&G(e,["parametersJsonSchema"],w);const r=D(t,["response"]);r!=null&&G(e,["response"],r);const x=D(t,["responseJsonSchema"]);return x!=null&&G(e,["responseJsonSchema"],x),e}function GY(t,e,n){const s={},m=D(e,["systemInstruction"]);n!==void 0&&m!=null&&G(n,["systemInstruction"],a0(jn(m)));const w=D(e,["temperature"]);w!=null&&G(s,["temperature"],w);const r=D(e,["topP"]);r!=null&&G(s,["topP"],r);const x=D(e,["topK"]);x!=null&&G(s,["topK"],x);const i=D(e,["candidateCount"]);i!=null&&G(s,["candidateCount"],i);const a=D(e,["maxOutputTokens"]);a!=null&&G(s,["maxOutputTokens"],a);const p=D(e,["stopSequences"]);p!=null&&G(s,["stopSequences"],p);const c=D(e,["responseLogprobs"]);c!=null&&G(s,["responseLogprobs"],c);const o=D(e,["logprobs"]);o!=null&&G(s,["logprobs"],o);const u=D(e,["presencePenalty"]);u!=null&&G(s,["presencePenalty"],u);const l=D(e,["frequencyPenalty"]);l!=null&&G(s,["frequencyPenalty"],l);const d=D(e,["seed"]);d!=null&&G(s,["seed"],d);const f=D(e,["responseMimeType"]);f!=null&&G(s,["responseMimeType"],f);const h=D(e,["responseSchema"]);h!=null&&G(s,["responseSchema"],pC(h));const A=D(e,["responseJsonSchema"]);if(A!=null&&G(s,["responseJsonSchema"],A),D(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(D(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const g=D(e,["safetySettings"]);if(n!==void 0&&g!=null){let L=g;Array.isArray(L)&&(L=L.map(R=>LX(R))),G(n,["safetySettings"],L)}const v=D(e,["tools"]);if(n!==void 0&&v!=null){let L=fc(v);Array.isArray(L)&&(L=L.map(R=>OX(Ac(R)))),G(n,["tools"],L)}const y=D(e,["toolConfig"]);if(n!==void 0&&y!=null&&G(n,["toolConfig"],DX(y)),D(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const C=D(e,["cachedContent"]);n!==void 0&&C!=null&&G(n,["cachedContent"],za(t,C));const b=D(e,["responseModalities"]);b!=null&&G(s,["responseModalities"],b);const T=D(e,["mediaResolution"]);T!=null&&G(s,["mediaResolution"],T);const S=D(e,["speechConfig"]);if(S!=null&&G(s,["speechConfig"],gC(S)),D(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const F=D(e,["thinkingConfig"]);F!=null&&G(s,["thinkingConfig"],F);const B=D(e,["imageConfig"]);B!=null&&G(s,["imageConfig"],AX(B));const N=D(e,["enableEnhancedCivicAnswers"]);return N!=null&&G(s,["enableEnhancedCivicAnswers"],N),s}function QY(t,e,n){const s={},m=D(e,["systemInstruction"]);n!==void 0&&m!=null&&G(n,["systemInstruction"],jn(m));const w=D(e,["temperature"]);w!=null&&G(s,["temperature"],w);const r=D(e,["topP"]);r!=null&&G(s,["topP"],r);const x=D(e,["topK"]);x!=null&&G(s,["topK"],x);const i=D(e,["candidateCount"]);i!=null&&G(s,["candidateCount"],i);const a=D(e,["maxOutputTokens"]);a!=null&&G(s,["maxOutputTokens"],a);const p=D(e,["stopSequences"]);p!=null&&G(s,["stopSequences"],p);const c=D(e,["responseLogprobs"]);c!=null&&G(s,["responseLogprobs"],c);const o=D(e,["logprobs"]);o!=null&&G(s,["logprobs"],o);const u=D(e,["presencePenalty"]);u!=null&&G(s,["presencePenalty"],u);const l=D(e,["frequencyPenalty"]);l!=null&&G(s,["frequencyPenalty"],l);const d=D(e,["seed"]);d!=null&&G(s,["seed"],d);const f=D(e,["responseMimeType"]);f!=null&&G(s,["responseMimeType"],f);const h=D(e,["responseSchema"]);h!=null&&G(s,["responseSchema"],pC(h));const A=D(e,["responseJsonSchema"]);A!=null&&G(s,["responseJsonSchema"],A);const g=D(e,["routingConfig"]);g!=null&&G(s,["routingConfig"],g);const v=D(e,["modelSelectionConfig"]);v!=null&&G(s,["modelConfig"],v);const y=D(e,["safetySettings"]);if(n!==void 0&&y!=null){let M=y;Array.isArray(M)&&(M=M.map(P=>P)),G(n,["safetySettings"],M)}const C=D(e,["tools"]);if(n!==void 0&&C!=null){let M=fc(C);Array.isArray(M)&&(M=M.map(P=>aR(Ac(P)))),G(n,["tools"],M)}const b=D(e,["toolConfig"]);n!==void 0&&b!=null&&G(n,["toolConfig"],b);const T=D(e,["labels"]);n!==void 0&&T!=null&&G(n,["labels"],T);const S=D(e,["cachedContent"]);n!==void 0&&S!=null&&G(n,["cachedContent"],za(t,S));const F=D(e,["responseModalities"]);F!=null&&G(s,["responseModalities"],F);const B=D(e,["mediaResolution"]);B!=null&&G(s,["mediaResolution"],B);const N=D(e,["speechConfig"]);N!=null&&G(s,["speechConfig"],gC(N));const L=D(e,["audioTimestamp"]);L!=null&&G(s,["audioTimestamp"],L);const R=D(e,["thinkingConfig"]);R!=null&&G(s,["thinkingConfig"],R);const I=D(e,["imageConfig"]);if(I!=null&&G(s,["imageConfig"],fX(I)),D(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return s}function EE(t,e){const n={},s=D(e,["model"]);s!=null&&G(n,["_url","model"],zt(t,s));const m=D(e,["contents"]);if(m!=null){let r=fr(m);Array.isArray(r)&&(r=r.map(x=>a0(x))),G(n,["contents"],r)}const w=D(e,["config"]);return w!=null&&G(n,["generationConfig"],GY(t,w,n)),n}function BE(t,e){const n={},s=D(e,["model"]);s!=null&&G(n,["_url","model"],zt(t,s));const m=D(e,["contents"]);if(m!=null){let r=fr(m);Array.isArray(r)&&(r=r.map(x=>x)),G(n,["contents"],r)}const w=D(e,["config"]);return w!=null&&G(n,["generationConfig"],QY(t,w,n)),n}function FE(t){const e={},n=D(t,["sdkHttpResponse"]);n!=null&&G(e,["sdkHttpResponse"],n);const s=D(t,["candidates"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(a=>uY(a))),G(e,["candidates"],i)}const m=D(t,["modelVersion"]);m!=null&&G(e,["modelVersion"],m);const w=D(t,["promptFeedback"]);w!=null&&G(e,["promptFeedback"],w);const r=D(t,["responseId"]);r!=null&&G(e,["responseId"],r);const x=D(t,["usageMetadata"]);return x!=null&&G(e,["usageMetadata"],x),e}function NE(t){const e={},n=D(t,["sdkHttpResponse"]);n!=null&&G(e,["sdkHttpResponse"],n);const s=D(t,["candidates"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(p=>p)),G(e,["candidates"],a)}const m=D(t,["createTime"]);m!=null&&G(e,["createTime"],m);const w=D(t,["modelVersion"]);w!=null&&G(e,["modelVersion"],w);const r=D(t,["promptFeedback"]);r!=null&&G(e,["promptFeedback"],r);const x=D(t,["responseId"]);x!=null&&G(e,["responseId"],x);const i=D(t,["usageMetadata"]);return i!=null&&G(e,["usageMetadata"],i),e}function jY(t,e){const n={};if(D(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(D(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const s=D(t,["numberOfImages"]);e!==void 0&&s!=null&&G(e,["parameters","sampleCount"],s);const m=D(t,["aspectRatio"]);e!==void 0&&m!=null&&G(e,["parameters","aspectRatio"],m);const w=D(t,["guidanceScale"]);if(e!==void 0&&w!=null&&G(e,["parameters","guidanceScale"],w),D(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const r=D(t,["safetyFilterLevel"]);e!==void 0&&r!=null&&G(e,["parameters","safetySetting"],r);const x=D(t,["personGeneration"]);e!==void 0&&x!=null&&G(e,["parameters","personGeneration"],x);const i=D(t,["includeSafetyAttributes"]);e!==void 0&&i!=null&&G(e,["parameters","includeSafetyAttributes"],i);const a=D(t,["includeRaiReason"]);e!==void 0&&a!=null&&G(e,["parameters","includeRaiReason"],a);const p=D(t,["language"]);e!==void 0&&p!=null&&G(e,["parameters","language"],p);const c=D(t,["outputMimeType"]);e!==void 0&&c!=null&&G(e,["parameters","outputOptions","mimeType"],c);const o=D(t,["outputCompressionQuality"]);if(e!==void 0&&o!=null&&G(e,["parameters","outputOptions","compressionQuality"],o),D(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(D(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const u=D(t,["imageSize"]);if(e!==void 0&&u!=null&&G(e,["parameters","sampleImageSize"],u),D(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function VY(t,e){const n={},s=D(t,["outputGcsUri"]);e!==void 0&&s!=null&&G(e,["parameters","storageUri"],s);const m=D(t,["negativePrompt"]);e!==void 0&&m!=null&&G(e,["parameters","negativePrompt"],m);const w=D(t,["numberOfImages"]);e!==void 0&&w!=null&&G(e,["parameters","sampleCount"],w);const r=D(t,["aspectRatio"]);e!==void 0&&r!=null&&G(e,["parameters","aspectRatio"],r);const x=D(t,["guidanceScale"]);e!==void 0&&x!=null&&G(e,["parameters","guidanceScale"],x);const i=D(t,["seed"]);e!==void 0&&i!=null&&G(e,["parameters","seed"],i);const a=D(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&G(e,["parameters","safetySetting"],a);const p=D(t,["personGeneration"]);e!==void 0&&p!=null&&G(e,["parameters","personGeneration"],p);const c=D(t,["includeSafetyAttributes"]);e!==void 0&&c!=null&&G(e,["parameters","includeSafetyAttributes"],c);const o=D(t,["includeRaiReason"]);e!==void 0&&o!=null&&G(e,["parameters","includeRaiReason"],o);const u=D(t,["language"]);e!==void 0&&u!=null&&G(e,["parameters","language"],u);const l=D(t,["outputMimeType"]);e!==void 0&&l!=null&&G(e,["parameters","outputOptions","mimeType"],l);const d=D(t,["outputCompressionQuality"]);e!==void 0&&d!=null&&G(e,["parameters","outputOptions","compressionQuality"],d);const f=D(t,["addWatermark"]);e!==void 0&&f!=null&&G(e,["parameters","addWatermark"],f);const h=D(t,["labels"]);e!==void 0&&h!=null&&G(e,["labels"],h);const A=D(t,["imageSize"]);e!==void 0&&A!=null&&G(e,["parameters","sampleImageSize"],A);const g=D(t,["enhancePrompt"]);return e!==void 0&&g!=null&&G(e,["parameters","enhancePrompt"],g),n}function zY(t,e){const n={},s=D(e,["model"]);s!=null&&G(n,["_url","model"],zt(t,s));const m=D(e,["prompt"]);m!=null&&G(n,["instances[0]","prompt"],m);const w=D(e,["config"]);return w!=null&&jY(w,n),n}function YY(t,e){const n={},s=D(e,["model"]);s!=null&&G(n,["_url","model"],zt(t,s));const m=D(e,["prompt"]);m!=null&&G(n,["instances[0]","prompt"],m);const w=D(e,["config"]);return w!=null&&VY(w,n),n}function XY(t){const e={},n=D(t,["sdkHttpResponse"]);n!=null&&G(e,["sdkHttpResponse"],n);const s=D(t,["predictions"]);if(s!=null){let w=s;Array.isArray(w)&&(w=w.map(r=>sX(r))),G(e,["generatedImages"],w)}const m=D(t,["positivePromptSafetyAttributes"]);return m!=null&&G(e,["positivePromptSafetyAttributes"],sR(m)),e}function WY(t){const e={},n=D(t,["sdkHttpResponse"]);n!=null&&G(e,["sdkHttpResponse"],n);const s=D(t,["predictions"]);if(s!=null){let w=s;Array.isArray(w)&&(w=w.map(r=>o0(r))),G(e,["generatedImages"],w)}const m=D(t,["positivePromptSafetyAttributes"]);return m!=null&&G(e,["positivePromptSafetyAttributes"],rR(m)),e}function KY(t,e){const n={},s=D(t,["numberOfVideos"]);if(e!==void 0&&s!=null&&G(e,["parameters","sampleCount"],s),D(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(D(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const m=D(t,["durationSeconds"]);if(e!==void 0&&m!=null&&G(e,["parameters","durationSeconds"],m),D(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const w=D(t,["aspectRatio"]);e!==void 0&&w!=null&&G(e,["parameters","aspectRatio"],w);const r=D(t,["resolution"]);e!==void 0&&r!=null&&G(e,["parameters","resolution"],r);const x=D(t,["personGeneration"]);if(e!==void 0&&x!=null&&G(e,["parameters","personGeneration"],x),D(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const i=D(t,["negativePrompt"]);e!==void 0&&i!=null&&G(e,["parameters","negativePrompt"],i);const a=D(t,["enhancePrompt"]);if(e!==void 0&&a!=null&&G(e,["parameters","enhancePrompt"],a),D(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const p=D(t,["lastFrame"]);e!==void 0&&p!=null&&G(e,["instances[0]","lastFrame"],l0(p));const c=D(t,["referenceImages"]);if(e!==void 0&&c!=null){let o=c;Array.isArray(o)&&(o=o.map(u=>ZX(u))),G(e,["instances[0]","referenceImages"],o)}if(D(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(D(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function JY(t,e){const n={},s=D(t,["numberOfVideos"]);e!==void 0&&s!=null&&G(e,["parameters","sampleCount"],s);const m=D(t,["outputGcsUri"]);e!==void 0&&m!=null&&G(e,["parameters","storageUri"],m);const w=D(t,["fps"]);e!==void 0&&w!=null&&G(e,["parameters","fps"],w);const r=D(t,["durationSeconds"]);e!==void 0&&r!=null&&G(e,["parameters","durationSeconds"],r);const x=D(t,["seed"]);e!==void 0&&x!=null&&G(e,["parameters","seed"],x);const i=D(t,["aspectRatio"]);e!==void 0&&i!=null&&G(e,["parameters","aspectRatio"],i);const a=D(t,["resolution"]);e!==void 0&&a!=null&&G(e,["parameters","resolution"],a);const p=D(t,["personGeneration"]);e!==void 0&&p!=null&&G(e,["parameters","personGeneration"],p);const c=D(t,["pubsubTopic"]);e!==void 0&&c!=null&&G(e,["parameters","pubsubTopic"],c);const o=D(t,["negativePrompt"]);e!==void 0&&o!=null&&G(e,["parameters","negativePrompt"],o);const u=D(t,["enhancePrompt"]);e!==void 0&&u!=null&&G(e,["parameters","enhancePrompt"],u);const l=D(t,["generateAudio"]);e!==void 0&&l!=null&&G(e,["parameters","generateAudio"],l);const d=D(t,["lastFrame"]);e!==void 0&&d!=null&&G(e,["instances[0]","lastFrame"],Dr(d));const f=D(t,["referenceImages"]);if(e!==void 0&&f!=null){let g=f;Array.isArray(g)&&(g=g.map(v=>$X(v))),G(e,["instances[0]","referenceImages"],g)}const h=D(t,["mask"]);e!==void 0&&h!=null&&G(e,["instances[0]","mask"],JX(h));const A=D(t,["compressionQuality"]);return e!==void 0&&A!=null&&G(e,["parameters","compressionQuality"],A),n}function ZY(t){const e={},n=D(t,["name"]);n!=null&&G(e,["name"],n);const s=D(t,["metadata"]);s!=null&&G(e,["metadata"],s);const m=D(t,["done"]);m!=null&&G(e,["done"],m);const w=D(t,["error"]);w!=null&&G(e,["error"],w);const r=D(t,["response","generateVideoResponse"]);return r!=null&&G(e,["response"],eX(r)),e}function $Y(t){const e={},n=D(t,["name"]);n!=null&&G(e,["name"],n);const s=D(t,["metadata"]);s!=null&&G(e,["metadata"],s);const m=D(t,["done"]);m!=null&&G(e,["done"],m);const w=D(t,["error"]);w!=null&&G(e,["error"],w);const r=D(t,["response"]);return r!=null&&G(e,["response"],tX(r)),e}function qY(t,e){const n={},s=D(e,["model"]);s!=null&&G(n,["_url","model"],zt(t,s));const m=D(e,["prompt"]);m!=null&&G(n,["instances[0]","prompt"],m);const w=D(e,["image"]);w!=null&&G(n,["instances[0]","image"],l0(w));const r=D(e,["video"]);r!=null&&G(n,["instances[0]","video"],oR(r));const x=D(e,["source"]);x!=null&&iX(x,n);const i=D(e,["config"]);return i!=null&&KY(i,n),n}function _Y(t,e){const n={},s=D(e,["model"]);s!=null&&G(n,["_url","model"],zt(t,s));const m=D(e,["prompt"]);m!=null&&G(n,["instances[0]","prompt"],m);const w=D(e,["image"]);w!=null&&G(n,["instances[0]","image"],Dr(w));const r=D(e,["video"]);r!=null&&G(n,["instances[0]","video"],lR(r));const x=D(e,["source"]);x!=null&&nX(x,n);const i=D(e,["config"]);return i!=null&&JY(i,n),n}function eX(t){const e={},n=D(t,["generatedSamples"]);if(n!=null){let w=n;Array.isArray(w)&&(w=w.map(r=>aX(r))),G(e,["generatedVideos"],w)}const s=D(t,["raiMediaFilteredCount"]);s!=null&&G(e,["raiMediaFilteredCount"],s);const m=D(t,["raiMediaFilteredReasons"]);return m!=null&&G(e,["raiMediaFilteredReasons"],m),e}function tX(t){const e={},n=D(t,["videos"]);if(n!=null){let w=n;Array.isArray(w)&&(w=w.map(r=>oX(r))),G(e,["generatedVideos"],w)}const s=D(t,["raiMediaFilteredCount"]);s!=null&&G(e,["raiMediaFilteredCount"],s);const m=D(t,["raiMediaFilteredReasons"]);return m!=null&&G(e,["raiMediaFilteredReasons"],m),e}function iX(t,e){const n={},s=D(t,["prompt"]);e!==void 0&&s!=null&&G(e,["instances[0]","prompt"],s);const m=D(t,["image"]);e!==void 0&&m!=null&&G(e,["instances[0]","image"],l0(m));const w=D(t,["video"]);return e!==void 0&&w!=null&&G(e,["instances[0]","video"],oR(w)),n}function nX(t,e){const n={},s=D(t,["prompt"]);e!==void 0&&s!=null&&G(e,["instances[0]","prompt"],s);const m=D(t,["image"]);e!==void 0&&m!=null&&G(e,["instances[0]","image"],Dr(m));const w=D(t,["video"]);return e!==void 0&&w!=null&&G(e,["instances[0]","video"],lR(w)),n}function sX(t){const e={},n=D(t,["_self"]);n!=null&&G(e,["image"],pX(n));const s=D(t,["raiFilteredReason"]);s!=null&&G(e,["raiFilteredReason"],s);const m=D(t,["_self"]);return m!=null&&G(e,["safetyAttributes"],sR(m)),e}function o0(t){const e={},n=D(t,["_self"]);n!=null&&G(e,["image"],nR(n));const s=D(t,["raiFilteredReason"]);s!=null&&G(e,["raiFilteredReason"],s);const m=D(t,["_self"]);m!=null&&G(e,["safetyAttributes"],rR(m));const w=D(t,["prompt"]);return w!=null&&G(e,["enhancedPrompt"],w),e}function rX(t){const e={},n=D(t,["_self"]);n!=null&&G(e,["mask"],nR(n));const s=D(t,["labels"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(w=>w)),G(e,["labels"],m)}return e}function aX(t){const e={},n=D(t,["video"]);return n!=null&&G(e,["video"],WX(n)),e}function oX(t){const e={},n=D(t,["_self"]);return n!=null&&G(e,["video"],KX(n)),e}function lX(t){const e={},n=D(t,["modelSelectionConfig"]);n!=null&&G(e,["modelConfig"],n);const s=D(t,["responseJsonSchema"]);s!=null&&G(e,["responseJsonSchema"],s);const m=D(t,["audioTimestamp"]);m!=null&&G(e,["audioTimestamp"],m);const w=D(t,["candidateCount"]);w!=null&&G(e,["candidateCount"],w);const r=D(t,["enableAffectiveDialog"]);r!=null&&G(e,["enableAffectiveDialog"],r);const x=D(t,["frequencyPenalty"]);x!=null&&G(e,["frequencyPenalty"],x);const i=D(t,["logprobs"]);i!=null&&G(e,["logprobs"],i);const a=D(t,["maxOutputTokens"]);a!=null&&G(e,["maxOutputTokens"],a);const p=D(t,["mediaResolution"]);p!=null&&G(e,["mediaResolution"],p);const c=D(t,["presencePenalty"]);c!=null&&G(e,["presencePenalty"],c);const o=D(t,["responseLogprobs"]);o!=null&&G(e,["responseLogprobs"],o);const u=D(t,["responseMimeType"]);u!=null&&G(e,["responseMimeType"],u);const l=D(t,["responseModalities"]);l!=null&&G(e,["responseModalities"],l);const d=D(t,["responseSchema"]);d!=null&&G(e,["responseSchema"],d);const f=D(t,["routingConfig"]);f!=null&&G(e,["routingConfig"],f);const h=D(t,["seed"]);h!=null&&G(e,["seed"],h);const A=D(t,["speechConfig"]);A!=null&&G(e,["speechConfig"],A);const g=D(t,["stopSequences"]);g!=null&&G(e,["stopSequences"],g);const v=D(t,["temperature"]);v!=null&&G(e,["temperature"],v);const y=D(t,["thinkingConfig"]);y!=null&&G(e,["thinkingConfig"],y);const C=D(t,["topK"]);C!=null&&G(e,["topK"],C);const b=D(t,["topP"]);if(b!=null&&G(e,["topP"],b),D(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function uX(t,e){const n={},s=D(e,["model"]);return s!=null&&G(n,["_url","name"],zt(t,s)),n}function hX(t,e){const n={},s=D(e,["model"]);return s!=null&&G(n,["_url","name"],zt(t,s)),n}function cX(t){const e={};if(D(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=D(t,["enableWidget"]);return n!=null&&G(e,["enableWidget"],n),e}function dX(t){const e={};if(D(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(D(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=D(t,["timeRangeFilter"]);return n!=null&&G(e,["timeRangeFilter"],n),e}function AX(t){const e={},n=D(t,["aspectRatio"]);n!=null&&G(e,["aspectRatio"],n);const s=D(t,["imageSize"]);if(s!=null&&G(e,["imageSize"],s),D(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(D(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function fX(t){const e={},n=D(t,["aspectRatio"]);n!=null&&G(e,["aspectRatio"],n);const s=D(t,["imageSize"]);s!=null&&G(e,["imageSize"],s);const m=D(t,["outputMimeType"]);m!=null&&G(e,["imageOutputOptions","mimeType"],m);const w=D(t,["outputCompressionQuality"]);return w!=null&&G(e,["imageOutputOptions","compressionQuality"],w),e}function pX(t){const e={},n=D(t,["bytesBase64Encoded"]);n!=null&&G(e,["imageBytes"],sl(n));const s=D(t,["mimeType"]);return s!=null&&G(e,["mimeType"],s),e}function nR(t){const e={},n=D(t,["gcsUri"]);n!=null&&G(e,["gcsUri"],n);const s=D(t,["bytesBase64Encoded"]);s!=null&&G(e,["imageBytes"],sl(s));const m=D(t,["mimeType"]);return m!=null&&G(e,["mimeType"],m),e}function l0(t){const e={};if(D(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=D(t,["imageBytes"]);n!=null&&G(e,["bytesBase64Encoded"],sl(n));const s=D(t,["mimeType"]);return s!=null&&G(e,["mimeType"],s),e}function Dr(t){const e={},n=D(t,["gcsUri"]);n!=null&&G(e,["gcsUri"],n);const s=D(t,["imageBytes"]);s!=null&&G(e,["bytesBase64Encoded"],sl(s));const m=D(t,["mimeType"]);return m!=null&&G(e,["mimeType"],m),e}function gX(t,e,n){const s={},m=D(e,["pageSize"]);n!==void 0&&m!=null&&G(n,["_query","pageSize"],m);const w=D(e,["pageToken"]);n!==void 0&&w!=null&&G(n,["_query","pageToken"],w);const r=D(e,["filter"]);n!==void 0&&r!=null&&G(n,["_query","filter"],r);const x=D(e,["queryBase"]);return n!==void 0&&x!=null&&G(n,["_url","models_url"],ZM(t,x)),s}function vX(t,e,n){const s={},m=D(e,["pageSize"]);n!==void 0&&m!=null&&G(n,["_query","pageSize"],m);const w=D(e,["pageToken"]);n!==void 0&&w!=null&&G(n,["_query","pageToken"],w);const r=D(e,["filter"]);n!==void 0&&r!=null&&G(n,["_query","filter"],r);const x=D(e,["queryBase"]);return n!==void 0&&x!=null&&G(n,["_url","models_url"],ZM(t,x)),s}function mX(t,e){const n={},s=D(e,["config"]);return s!=null&&gX(t,s,n),n}function yX(t,e){const n={},s=D(e,["config"]);return s!=null&&vX(t,s,n),n}function xX(t){const e={},n=D(t,["sdkHttpResponse"]);n!=null&&G(e,["sdkHttpResponse"],n);const s=D(t,["nextPageToken"]);s!=null&&G(e,["nextPageToken"],s);const m=D(t,["_self"]);if(m!=null){let w=$M(m);Array.isArray(w)&&(w=w.map(r=>I1(r))),G(e,["models"],w)}return e}function wX(t){const e={},n=D(t,["sdkHttpResponse"]);n!=null&&G(e,["sdkHttpResponse"],n);const s=D(t,["nextPageToken"]);s!=null&&G(e,["nextPageToken"],s);const m=D(t,["_self"]);if(m!=null){let w=$M(m);Array.isArray(w)&&(w=w.map(r=>P1(r))),G(e,["models"],w)}return e}function CX(t){const e={},n=D(t,["maskMode"]);n!=null&&G(e,["maskMode"],n);const s=D(t,["segmentationClasses"]);s!=null&&G(e,["maskClasses"],s);const m=D(t,["maskDilation"]);return m!=null&&G(e,["dilation"],m),e}function I1(t){const e={},n=D(t,["name"]);n!=null&&G(e,["name"],n);const s=D(t,["displayName"]);s!=null&&G(e,["displayName"],s);const m=D(t,["description"]);m!=null&&G(e,["description"],m);const w=D(t,["version"]);w!=null&&G(e,["version"],w);const r=D(t,["_self"]);r!=null&&G(e,["tunedModelInfo"],kX(r));const x=D(t,["inputTokenLimit"]);x!=null&&G(e,["inputTokenLimit"],x);const i=D(t,["outputTokenLimit"]);i!=null&&G(e,["outputTokenLimit"],i);const a=D(t,["supportedGenerationMethods"]);a!=null&&G(e,["supportedActions"],a);const p=D(t,["temperature"]);p!=null&&G(e,["temperature"],p);const c=D(t,["maxTemperature"]);c!=null&&G(e,["maxTemperature"],c);const o=D(t,["topP"]);o!=null&&G(e,["topP"],o);const u=D(t,["topK"]);u!=null&&G(e,["topK"],u);const l=D(t,["thinking"]);return l!=null&&G(e,["thinking"],l),e}function P1(t){const e={},n=D(t,["name"]);n!=null&&G(e,["name"],n);const s=D(t,["displayName"]);s!=null&&G(e,["displayName"],s);const m=D(t,["description"]);m!=null&&G(e,["description"],m);const w=D(t,["versionId"]);w!=null&&G(e,["version"],w);const r=D(t,["deployedModels"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(o=>UY(o))),G(e,["endpoints"],c)}const x=D(t,["labels"]);x!=null&&G(e,["labels"],x);const i=D(t,["_self"]);i!=null&&G(e,["tunedModelInfo"],HX(i));const a=D(t,["defaultCheckpointId"]);a!=null&&G(e,["defaultCheckpointId"],a);const p=D(t,["checkpoints"]);if(p!=null){let c=p;Array.isArray(c)&&(c=c.map(o=>o)),G(e,["checkpoints"],c)}return e}function bX(t){const e={},n=D(t,["mediaResolution"]);n!=null&&G(e,["mediaResolution"],n);const s=D(t,["codeExecutionResult"]);s!=null&&G(e,["codeExecutionResult"],s);const m=D(t,["executableCode"]);m!=null&&G(e,["executableCode"],m);const w=D(t,["fileData"]);w!=null&&G(e,["fileData"],DY(w));const r=D(t,["functionCall"]);r!=null&&G(e,["functionCall"],OY(r));const x=D(t,["functionResponse"]);x!=null&&G(e,["functionResponse"],x);const i=D(t,["inlineData"]);i!=null&&G(e,["inlineData"],lY(i));const a=D(t,["text"]);a!=null&&G(e,["text"],a);const p=D(t,["thought"]);p!=null&&G(e,["thought"],p);const c=D(t,["thoughtSignature"]);c!=null&&G(e,["thoughtSignature"],c);const o=D(t,["videoMetadata"]);return o!=null&&G(e,["videoMetadata"],o),e}function SX(t){const e={},n=D(t,["productImage"]);return n!=null&&G(e,["image"],Dr(n)),e}function TX(t,e){const n={},s=D(t,["numberOfImages"]);e!==void 0&&s!=null&&G(e,["parameters","sampleCount"],s);const m=D(t,["baseSteps"]);e!==void 0&&m!=null&&G(e,["parameters","baseSteps"],m);const w=D(t,["outputGcsUri"]);e!==void 0&&w!=null&&G(e,["parameters","storageUri"],w);const r=D(t,["seed"]);e!==void 0&&r!=null&&G(e,["parameters","seed"],r);const x=D(t,["safetyFilterLevel"]);e!==void 0&&x!=null&&G(e,["parameters","safetySetting"],x);const i=D(t,["personGeneration"]);e!==void 0&&i!=null&&G(e,["parameters","personGeneration"],i);const a=D(t,["addWatermark"]);e!==void 0&&a!=null&&G(e,["parameters","addWatermark"],a);const p=D(t,["outputMimeType"]);e!==void 0&&p!=null&&G(e,["parameters","outputOptions","mimeType"],p);const c=D(t,["outputCompressionQuality"]);e!==void 0&&c!=null&&G(e,["parameters","outputOptions","compressionQuality"],c);const o=D(t,["enhancePrompt"]);e!==void 0&&o!=null&&G(e,["parameters","enhancePrompt"],o);const u=D(t,["labels"]);return e!==void 0&&u!=null&&G(e,["labels"],u),n}function EX(t,e){const n={},s=D(e,["model"]);s!=null&&G(n,["_url","model"],zt(t,s));const m=D(e,["source"]);m!=null&&FX(m,n);const w=D(e,["config"]);return w!=null&&TX(w,n),n}function BX(t){const e={},n=D(t,["predictions"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(m=>o0(m))),G(e,["generatedImages"],s)}return e}function FX(t,e){const n={},s=D(t,["prompt"]);e!==void 0&&s!=null&&G(e,["instances[0]","prompt"],s);const m=D(t,["personImage"]);e!==void 0&&m!=null&&G(e,["instances[0]","personImage","image"],Dr(m));const w=D(t,["productImages"]);if(e!==void 0&&w!=null){let r=w;Array.isArray(r)&&(r=r.map(x=>SX(x))),G(e,["instances[0]","productImages"],r)}return n}function NX(t){const e={},n=D(t,["referenceImage"]);n!=null&&G(e,["referenceImage"],Dr(n));const s=D(t,["referenceId"]);s!=null&&G(e,["referenceId"],s);const m=D(t,["referenceType"]);m!=null&&G(e,["referenceType"],m);const w=D(t,["maskImageConfig"]);w!=null&&G(e,["maskImageConfig"],CX(w));const r=D(t,["controlImageConfig"]);r!=null&&G(e,["controlImageConfig"],pY(r));const x=D(t,["styleImageConfig"]);x!=null&&G(e,["styleImageConfig"],x);const i=D(t,["subjectImageConfig"]);return i!=null&&G(e,["subjectImageConfig"],i),e}function sR(t){const e={},n=D(t,["safetyAttributes","categories"]);n!=null&&G(e,["categories"],n);const s=D(t,["safetyAttributes","scores"]);s!=null&&G(e,["scores"],s);const m=D(t,["contentType"]);return m!=null&&G(e,["contentType"],m),e}function rR(t){const e={},n=D(t,["safetyAttributes","categories"]);n!=null&&G(e,["categories"],n);const s=D(t,["safetyAttributes","scores"]);s!=null&&G(e,["scores"],s);const m=D(t,["contentType"]);return m!=null&&G(e,["contentType"],m),e}function LX(t){const e={},n=D(t,["category"]);if(n!=null&&G(e,["category"],n),D(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=D(t,["threshold"]);return s!=null&&G(e,["threshold"],s),e}function MX(t){const e={},n=D(t,["image"]);return n!=null&&G(e,["image"],Dr(n)),e}function RX(t,e){const n={},s=D(t,["mode"]);e!==void 0&&s!=null&&G(e,["parameters","mode"],s);const m=D(t,["maxPredictions"]);e!==void 0&&m!=null&&G(e,["parameters","maxPredictions"],m);const w=D(t,["confidenceThreshold"]);e!==void 0&&w!=null&&G(e,["parameters","confidenceThreshold"],w);const r=D(t,["maskDilation"]);e!==void 0&&r!=null&&G(e,["parameters","maskDilation"],r);const x=D(t,["binaryColorThreshold"]);e!==void 0&&x!=null&&G(e,["parameters","binaryColorThreshold"],x);const i=D(t,["labels"]);return e!==void 0&&i!=null&&G(e,["labels"],i),n}function IX(t,e){const n={},s=D(e,["model"]);s!=null&&G(n,["_url","model"],zt(t,s));const m=D(e,["source"]);m!=null&&UX(m,n);const w=D(e,["config"]);return w!=null&&RX(w,n),n}function PX(t){const e={},n=D(t,["predictions"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(m=>rX(m))),G(e,["generatedMasks"],s)}return e}function UX(t,e){const n={},s=D(t,["prompt"]);e!==void 0&&s!=null&&G(e,["instances[0]","prompt"],s);const m=D(t,["image"]);e!==void 0&&m!=null&&G(e,["instances[0]","image"],Dr(m));const w=D(t,["scribbleImage"]);return e!==void 0&&w!=null&&G(e,["instances[0]","scribble"],MX(w)),n}function DX(t){const e={},n=D(t,["functionCallingConfig"]);n!=null&&G(e,["functionCallingConfig"],kY(n));const s=D(t,["retrievalConfig"]);return s!=null&&G(e,["retrievalConfig"],s),e}function OX(t){const e={},n=D(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(c=>c)),G(e,["functionDeclarations"],p)}if(D(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=D(t,["googleSearchRetrieval"]);s!=null&&G(e,["googleSearchRetrieval"],s);const m=D(t,["computerUse"]);m!=null&&G(e,["computerUse"],m);const w=D(t,["fileSearch"]);w!=null&&G(e,["fileSearch"],w);const r=D(t,["codeExecution"]);if(r!=null&&G(e,["codeExecution"],r),D(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const x=D(t,["googleMaps"]);x!=null&&G(e,["googleMaps"],cX(x));const i=D(t,["googleSearch"]);i!=null&&G(e,["googleSearch"],dX(i));const a=D(t,["urlContext"]);return a!=null&&G(e,["urlContext"],a),e}function aR(t){const e={},n=D(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(o=>HY(o))),G(e,["functionDeclarations"],c)}const s=D(t,["retrieval"]);s!=null&&G(e,["retrieval"],s);const m=D(t,["googleSearchRetrieval"]);m!=null&&G(e,["googleSearchRetrieval"],m);const w=D(t,["computerUse"]);if(w!=null&&G(e,["computerUse"],w),D(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=D(t,["codeExecution"]);r!=null&&G(e,["codeExecution"],r);const x=D(t,["enterpriseWebSearch"]);x!=null&&G(e,["enterpriseWebSearch"],x);const i=D(t,["googleMaps"]);i!=null&&G(e,["googleMaps"],i);const a=D(t,["googleSearch"]);a!=null&&G(e,["googleSearch"],a);const p=D(t,["urlContext"]);return p!=null&&G(e,["urlContext"],p),e}function kX(t){const e={},n=D(t,["baseModel"]);n!=null&&G(e,["baseModel"],n);const s=D(t,["createTime"]);s!=null&&G(e,["createTime"],s);const m=D(t,["updateTime"]);return m!=null&&G(e,["updateTime"],m),e}function HX(t){const e={},n=D(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&G(e,["baseModel"],n);const s=D(t,["createTime"]);s!=null&&G(e,["createTime"],s);const m=D(t,["updateTime"]);return m!=null&&G(e,["updateTime"],m),e}function GX(t,e){const n={},s=D(t,["displayName"]);e!==void 0&&s!=null&&G(e,["displayName"],s);const m=D(t,["description"]);e!==void 0&&m!=null&&G(e,["description"],m);const w=D(t,["defaultCheckpointId"]);return e!==void 0&&w!=null&&G(e,["defaultCheckpointId"],w),n}function QX(t,e){const n={},s=D(t,["displayName"]);e!==void 0&&s!=null&&G(e,["displayName"],s);const m=D(t,["description"]);e!==void 0&&m!=null&&G(e,["description"],m);const w=D(t,["defaultCheckpointId"]);return e!==void 0&&w!=null&&G(e,["defaultCheckpointId"],w),n}function jX(t,e){const n={},s=D(e,["model"]);s!=null&&G(n,["_url","name"],zt(t,s));const m=D(e,["config"]);return m!=null&&GX(m,n),n}function VX(t,e){const n={},s=D(e,["model"]);s!=null&&G(n,["_url","model"],zt(t,s));const m=D(e,["config"]);return m!=null&&QX(m,n),n}function zX(t,e){const n={},s=D(t,["outputGcsUri"]);e!==void 0&&s!=null&&G(e,["parameters","storageUri"],s);const m=D(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&G(e,["parameters","safetySetting"],m);const w=D(t,["personGeneration"]);e!==void 0&&w!=null&&G(e,["parameters","personGeneration"],w);const r=D(t,["includeRaiReason"]);e!==void 0&&r!=null&&G(e,["parameters","includeRaiReason"],r);const x=D(t,["outputMimeType"]);e!==void 0&&x!=null&&G(e,["parameters","outputOptions","mimeType"],x);const i=D(t,["outputCompressionQuality"]);e!==void 0&&i!=null&&G(e,["parameters","outputOptions","compressionQuality"],i);const a=D(t,["enhanceInputImage"]);e!==void 0&&a!=null&&G(e,["parameters","upscaleConfig","enhanceInputImage"],a);const p=D(t,["imagePreservationFactor"]);e!==void 0&&p!=null&&G(e,["parameters","upscaleConfig","imagePreservationFactor"],p);const c=D(t,["labels"]);e!==void 0&&c!=null&&G(e,["labels"],c);const o=D(t,["numberOfImages"]);e!==void 0&&o!=null&&G(e,["parameters","sampleCount"],o);const u=D(t,["mode"]);return e!==void 0&&u!=null&&G(e,["parameters","mode"],u),n}function YX(t,e){const n={},s=D(e,["model"]);s!=null&&G(n,["_url","model"],zt(t,s));const m=D(e,["image"]);m!=null&&G(n,["instances[0]","image"],Dr(m));const w=D(e,["upscaleFactor"]);w!=null&&G(n,["parameters","upscaleConfig","upscaleFactor"],w);const r=D(e,["config"]);return r!=null&&zX(r,n),n}function XX(t){const e={},n=D(t,["sdkHttpResponse"]);n!=null&&G(e,["sdkHttpResponse"],n);const s=D(t,["predictions"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(w=>o0(w))),G(e,["generatedImages"],m)}return e}function WX(t){const e={},n=D(t,["uri"]);n!=null&&G(e,["uri"],n);const s=D(t,["encodedVideo"]);s!=null&&G(e,["videoBytes"],sl(s));const m=D(t,["encoding"]);return m!=null&&G(e,["mimeType"],m),e}function KX(t){const e={},n=D(t,["gcsUri"]);n!=null&&G(e,["uri"],n);const s=D(t,["bytesBase64Encoded"]);s!=null&&G(e,["videoBytes"],sl(s));const m=D(t,["mimeType"]);return m!=null&&G(e,["mimeType"],m),e}function JX(t){const e={},n=D(t,["image"]);n!=null&&G(e,["_self"],Dr(n));const s=D(t,["maskMode"]);return s!=null&&G(e,["maskMode"],s),e}function ZX(t){const e={},n=D(t,["image"]);n!=null&&G(e,["image"],l0(n));const s=D(t,["referenceType"]);return s!=null&&G(e,["referenceType"],s),e}function $X(t){const e={},n=D(t,["image"]);n!=null&&G(e,["image"],Dr(n));const s=D(t,["referenceType"]);return s!=null&&G(e,["referenceType"],s),e}function oR(t){const e={},n=D(t,["uri"]);n!=null&&G(e,["uri"],n);const s=D(t,["videoBytes"]);s!=null&&G(e,["encodedVideo"],sl(s));const m=D(t,["mimeType"]);return m!=null&&G(e,["encoding"],m),e}function lR(t){const e={},n=D(t,["uri"]);n!=null&&G(e,["gcsUri"],n);const s=D(t,["videoBytes"]);s!=null&&G(e,["bytesBase64Encoded"],sl(s));const m=D(t,["mimeType"]);return m!=null&&G(e,["mimeType"],m),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qX(t,e){const n={},s=D(t,["displayName"]);return e!==void 0&&s!=null&&G(e,["displayName"],s),n}function _X(t){const e={},n=D(t,["config"]);return n!=null&&qX(n,e),e}function eW(t,e){const n={},s=D(t,["force"]);return e!==void 0&&s!=null&&G(e,["_query","force"],s),n}function tW(t){const e={},n=D(t,["name"]);n!=null&&G(e,["_url","name"],n);const s=D(t,["config"]);return s!=null&&eW(s,e),e}function iW(t){const e={},n=D(t,["name"]);return n!=null&&G(e,["_url","name"],n),e}function nW(t,e){const n={},s=D(t,["customMetadata"]);if(e!==void 0&&s!=null){let w=s;Array.isArray(w)&&(w=w.map(r=>r)),G(e,["customMetadata"],w)}const m=D(t,["chunkingConfig"]);return e!==void 0&&m!=null&&G(e,["chunkingConfig"],m),n}function sW(t){const e={},n=D(t,["name"]);n!=null&&G(e,["name"],n);const s=D(t,["metadata"]);s!=null&&G(e,["metadata"],s);const m=D(t,["done"]);m!=null&&G(e,["done"],m);const w=D(t,["error"]);w!=null&&G(e,["error"],w);const r=D(t,["response"]);return r!=null&&G(e,["response"],aW(r)),e}function rW(t){const e={},n=D(t,["fileSearchStoreName"]);n!=null&&G(e,["_url","file_search_store_name"],n);const s=D(t,["fileName"]);s!=null&&G(e,["fileName"],s);const m=D(t,["config"]);return m!=null&&nW(m,e),e}function aW(t){const e={},n=D(t,["sdkHttpResponse"]);n!=null&&G(e,["sdkHttpResponse"],n);const s=D(t,["parent"]);s!=null&&G(e,["parent"],s);const m=D(t,["documentName"]);return m!=null&&G(e,["documentName"],m),e}function oW(t,e){const n={},s=D(t,["pageSize"]);e!==void 0&&s!=null&&G(e,["_query","pageSize"],s);const m=D(t,["pageToken"]);return e!==void 0&&m!=null&&G(e,["_query","pageToken"],m),n}function lW(t){const e={},n=D(t,["config"]);return n!=null&&oW(n,e),e}function uW(t){const e={},n=D(t,["sdkHttpResponse"]);n!=null&&G(e,["sdkHttpResponse"],n);const s=D(t,["nextPageToken"]);s!=null&&G(e,["nextPageToken"],s);const m=D(t,["fileSearchStores"]);if(m!=null){let w=m;Array.isArray(w)&&(w=w.map(r=>r)),G(e,["fileSearchStores"],w)}return e}function uR(t,e){const n={},s=D(t,["mimeType"]);e!==void 0&&s!=null&&G(e,["mimeType"],s);const m=D(t,["displayName"]);e!==void 0&&m!=null&&G(e,["displayName"],m);const w=D(t,["customMetadata"]);if(e!==void 0&&w!=null){let x=w;Array.isArray(x)&&(x=x.map(i=>i)),G(e,["customMetadata"],x)}const r=D(t,["chunkingConfig"]);return e!==void 0&&r!=null&&G(e,["chunkingConfig"],r),n}function hW(t){const e={},n=D(t,["fileSearchStoreName"]);n!=null&&G(e,["_url","file_search_store_name"],n);const s=D(t,["config"]);return s!=null&&uR(s,e),e}function cW(t){const e={},n=D(t,["sdkHttpResponse"]);return n!=null&&G(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dW="Content-Type",AW="X-Server-Timeout",fW="User-Agent",U1="x-goog-api-client",pW="1.34.0",gW=`google-genai-sdk/${pW}`,vW="v1beta1",mW="v1beta";class yW{constructor(e){var n,s;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const m={};this.clientOptions.vertexai?(m.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:vW,m.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(m.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:mW,m.baseUrl="https://generativelanguage.googleapis.com/"),m.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=m,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(m,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&s.push(e.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,s){const m=[this.getRequestUrlInternal(n)];return s&&m.push(this.getBaseResourcePath()),e!==""&&m.push(e),new URL(`${m.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e),m=this.constructUrl(e.path,n,s);if(e.queryParams)for(const[r,x]of Object.entries(e.queryParams))m.searchParams.append(r,String(x));let w={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else w.body=e.body;return w=await this.includeExtraHttpOptionsToRequestInit(w,n,m.toString(),e.abortSignal),this.unaryApiCall(m,w,e.httpMethod)}patchHttpOptions(e,n){const s=JSON.parse(JSON.stringify(e));for(const[m,w]of Object.entries(n))typeof w=="object"?s[m]=Object.assign(Object.assign({},s[m]),w):w!==void 0&&(s[m]=w);return s}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e),m=this.constructUrl(e.path,n,s);(!m.searchParams.has("alt")||m.searchParams.get("alt")!=="sse")&&m.searchParams.set("alt","sse");let w={};return w.body=e.body,w=await this.includeExtraHttpOptionsToRequestInit(w,n,m.toString(),e.abortSignal),this.streamApiCall(m,w,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,s,m){if(n&&n.timeout||m){const w=new AbortController,r=w.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const x=setTimeout(()=>w.abort(),n.timeout);x&&typeof x.unref=="function"&&x.unref()}m&&m.addEventListener("abort",()=>{w.abort()}),e.signal=r}return n&&n.extraBody!==null&&xW(e,n.extraBody),e.headers=await this.getHeadersInternal(n,s),e}async unaryApiCall(e,n,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:s})).then(async m=>(await LE(m),new L1(m))).catch(m=>{throw m instanceof Error?m:new Error(JSON.stringify(m))})}async streamApiCall(e,n,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:s})).then(async m=>(await LE(m),this.processStreamResponse(m))).catch(m=>{throw m instanceof Error?m:new Error(JSON.stringify(m))})}processStreamResponse(e){return Ir(this,arguments,function*(){var s;const m=(s=e==null?void 0:e.body)===null||s===void 0?void 0:s.getReader(),w=new TextDecoder("utf-8");if(!m)throw new Error("Response body is empty");try{let r="";const x="data:",i=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:a,value:p}=yield Ct(m.read());if(a){if(r.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const c=w.decode(p,{stream:!0});try{const l=JSON.parse(c);if("error"in l){const d=JSON.parse(JSON.stringify(l.error)),f=d.status,h=d.code,A=`got status: ${f}. ${JSON.stringify(l)}`;if(h>=400&&h<600)throw new r0({message:A,status:h})}}catch(l){if(l.name==="ApiError")throw l}r+=c;let o=-1,u=0;for(;;){o=-1,u=0;for(const f of i){const h=r.indexOf(f);h!==-1&&(o===-1||h<o)&&(o=h,u=f.length)}if(o===-1)break;const l=r.substring(0,o);r=r.substring(o+u);const d=l.trim();if(d.startsWith(x)){const f=d.substring(x.length).trim();try{const h=new Response(f,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Ct(new L1(h))}catch(h){throw new Error(`exception parsing stream chunk ${f}. ${h}`)}}}}}finally{m.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(s=>{throw new Error(`exception ${s} sending request`)})}getDefaultHeaders(){const e={},n=gW+" "+this.clientOptions.userAgentExtra;return e[fW]=n,e[U1]=n,e[dW]="application/json",e}async getHeadersInternal(e,n){const s=new Headers;if(e&&e.headers){for(const[m,w]of Object.entries(e.headers))s.append(m,w);e.timeout&&e.timeout>0&&s.append(AW,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(s,n),s}getFileName(e){var n;let s="";return typeof e=="string"&&(s=e.replace(/[/\\]+$/,""),s=(n=s.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),s}async uploadFile(e,n){var s;const m={};n!=null&&(m.mimeType=n.mimeType,m.name=n.name,m.displayName=n.displayName),m.name&&!m.name.startsWith("files/")&&(m.name=`files/${m.name}`);const w=this.clientOptions.uploader,r=await w.stat(e);m.sizeBytes=String(r.size);const x=(s=n==null?void 0:n.mimeType)!==null&&s!==void 0?s:r.type;if(x===void 0||x==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");m.mimeType=x;const i={file:m},a=this.getFileName(e),p=_e("upload/v1beta/files",i._url),c=await this.fetchUploadUrl(p,m.sizeBytes,m.mimeType,a,i,n==null?void 0:n.httpOptions);return w.upload(e,c,this)}async uploadFileToFileSearchStore(e,n,s){var m;const w=this.clientOptions.uploader,r=await w.stat(n),x=String(r.size),i=(m=s==null?void 0:s.mimeType)!==null&&m!==void 0?m:r.type;if(i===void 0||i==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const a=`upload/v1beta/${e}:uploadToFileSearchStore`,p=this.getFileName(n),c={};s!=null&&uR(s,c);const o=await this.fetchUploadUrl(a,x,i,p,c,s==null?void 0:s.httpOptions);return w.uploadToFileSearchStore(n,o,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,s,m,w,r){var x;let i={};r?i=r:i={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${s}`},m?{"X-Goog-Upload-File-Name":m}:{})};const a=await this.request({path:e,body:JSON.stringify(w),httpMethod:"POST",httpOptions:i});if(!a||!(a!=null&&a.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const p=(x=a==null?void 0:a.headers)===null||x===void 0?void 0:x["x-goog-upload-url"];if(p===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return p}}async function LE(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let s;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?s=await t.json():s={error:{message:await t.text(),code:t.status,status:t.statusText}};const m=JSON.stringify(s);throw n>=400&&n<600?new r0({message:m,status:n}):new Error(m)}}function xW(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const w=JSON.parse(t.body);if(typeof w=="object"&&w!==null&&!Array.isArray(w))n=w;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function s(w,r){const x=Object.assign({},w);for(const i in r)if(Object.prototype.hasOwnProperty.call(r,i)){const a=r[i],p=x[i];a&&typeof a=="object"&&!Array.isArray(a)&&p&&typeof p=="object"&&!Array.isArray(p)?x[i]=s(p,a):(p&&a&&typeof p!=typeof a&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${i}". Original type: ${typeof p}, New type: ${typeof a}. Overwriting.`),x[i]=a)}return x}const m=s(n,e);t.body=JSON.stringify(m)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wW="mcp_used/unknown";let CW=!1;function hR(t){for(const e of t)if(bW(e)||typeof e=="object"&&"inputSchema"in e)return!0;return CW}function cR(t){var e;const n=(e=t[U1])!==null&&e!==void 0?e:"";t[U1]=(n+` ${wW}`).trimStart()}function bW(t){return t!==null&&typeof t=="object"&&t instanceof mC}function SW(t){return Ir(this,arguments,function*(n,s=100){let m,w=0;for(;w<s;){const r=yield Ct(n.listTools({cursor:m}));for(const x of r.tools)yield yield Ct(x),w++;if(!r.nextCursor)break;m=r.nextCursor}})}class mC{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new mC(e,n)}async initialize(){var e,n,s,m;if(this.mcpTools.length>0)return;const w={},r=[];for(const p of this.mcpClients)try{for(var x=!0,i=(n=void 0,Pr(SW(p))),a;a=await i.next(),e=a.done,!e;x=!0){m=a.value,x=!1;const c=m;r.push(c);const o=c.name;if(w[o])throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);w[o]=p}}catch(c){n={error:c}}finally{try{!x&&!e&&(s=i.return)&&await s.call(i)}finally{if(n)throw n.error}}this.mcpTools=r,this.functionNameToMcpClient=w}async tool(){return await this.initialize(),iV(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const s of e)if(s.name in this.functionNameToMcpClient){const m=this.functionNameToMcpClient[s.name];let w;this.config.timeout&&(w={timeout:this.config.timeout});const r=await m.callTool({name:s.name,arguments:s.args},void 0,w);n.push({functionResponse:{name:s.name,response:r.isError?{error:r}:r}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function TW(t,e,n){const s=new Kj;let m;n.data instanceof Blob?m=JSON.parse(await n.data.text()):m=JSON.parse(n.data),Object.assign(s,m),e(s)}class EW{constructor(e,n,s){this.apiClient=e,this.auth=n,this.webSocketFactory=s}async connect(e){var n,s;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const m=this.apiClient.getWebsocketBaseUrl(),w=this.apiClient.getApiVersion(),r=NW(this.apiClient.getDefaultHeaders()),x=this.apiClient.getApiKey(),i=`${m}/ws/google.ai.generativelanguage.${w}.GenerativeService.BidiGenerateMusic?key=${x}`;let a=()=>{};const p=new Promise(g=>{a=g}),c=e.callbacks,o=function(){a({})},u=this.apiClient,l={onopen:o,onmessage:g=>{TW(u,c.onmessage,g)},onerror:(n=c==null?void 0:c.onerror)!==null&&n!==void 0?n:function(g){},onclose:(s=c==null?void 0:c.onclose)!==null&&s!==void 0?s:function(g){}},d=this.webSocketFactory.create(i,FW(r),l);d.connect(),await p;const A={setup:{model:zt(this.apiClient,e.model)}};return d.send(JSON.stringify(A)),new BW(d,this.apiClient)}}class BW{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=_z(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=qz(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(vh.PLAY)}pause(){this.sendPlaybackControl(vh.PAUSE)}stop(){this.sendPlaybackControl(vh.STOP)}resetContext(){this.sendPlaybackControl(vh.RESET_CONTEXT)}close(){this.conn.close()}}function FW(t){const e={};return t.forEach((n,s)=>{e[s]=n}),e}function NW(t){const e=new Headers;for(const[n,s]of Object.entries(t))e.append(n,s);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const LW="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function MW(t,e,n){const s=new Wj;let m;n.data instanceof Blob?m=await n.data.text():n.data instanceof ArrayBuffer?m=new TextDecoder().decode(n.data):m=n.data;const w=JSON.parse(m);if(t.isVertexAI()){const r=iY(w);Object.assign(s,r)}else Object.assign(s,w);e(s)}class RW{constructor(e,n,s){this.apiClient=e,this.auth=n,this.webSocketFactory=s,this.music=new EW(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,s,m,w,r,x;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const i=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion();let p;const c=this.apiClient.getHeaders();e.config&&e.config.tools&&hR(e.config.tools)&&cR(c);const o=DW(c);if(this.apiClient.isVertexAI())p=`${i}/ws/google.cloud.aiplatform.${a}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(o,p);else{const S=this.apiClient.getApiKey();let F="BidiGenerateContent",B="key";S!=null&&S.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),a!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),F="BidiGenerateContentConstrained",B="access_token"),p=`${i}/ws/google.ai.generativelanguage.${a}.GenerativeService.${F}?${B}=${S}`}let u=()=>{};const l=new Promise(S=>{u=S}),d=e.callbacks,f=function(){var S;(S=d==null?void 0:d.onopen)===null||S===void 0||S.call(d),u({})},h=this.apiClient,A={onopen:f,onmessage:S=>{MW(h,d.onmessage,S)},onerror:(n=d==null?void 0:d.onerror)!==null&&n!==void 0?n:function(S){},onclose:(s=d==null?void 0:d.onclose)!==null&&s!==void 0?s:function(S){}},g=this.webSocketFactory.create(p,UW(o),A);g.connect(),await l;let v=zt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&v.startsWith("publishers/")){const S=this.apiClient.getProject(),F=this.apiClient.getLocation();v=`projects/${S}/locations/${F}/`+v}let y={};this.apiClient.isVertexAI()&&((m=e.config)===null||m===void 0?void 0:m.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[lv.AUDIO]}:e.config.responseModalities=[lv.AUDIO]),!((w=e.config)===null||w===void 0)&&w.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const C=(x=(r=e.config)===null||r===void 0?void 0:r.tools)!==null&&x!==void 0?x:[],b=[];for(const S of C)if(this.isCallableTool(S)){const F=S;b.push(await F.tool())}else b.push(S);b.length>0&&(e.config.tools=b);const T={model:v,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?y=$z(this.apiClient,T):y=Zz(this.apiClient,T),delete y.config,g.send(JSON.stringify(y)),new PW(g,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const IW={turnComplete:!0};class PW{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let s=[];try{s=fr(n.turns),e.isVertexAI()||(s=s.map(m=>a0(m)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:s,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let s=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?s=n.functionResponses:s=[n.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const w of s){if(typeof w!="object"||w===null||!("name"in w)||!("response"in w))throw new Error(`Could not parse function response, type '${typeof w}'.`);if(!e.isVertexAI()&&!("id"in w))throw new Error(LW)}return{toolResponse:{functionResponses:s}}}sendClientContent(e){e=Object.assign(Object.assign({},IW),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:tY(e)}:n={realtimeInput:eY(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function UW(t){const e={};return t.forEach((n,s)=>{e[s]=n}),e}function DW(t){const e=new Headers;for(const[n,s]of Object.entries(t))e.append(n,s);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ME=10;function RE(t){var e,n,s;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let m=!1;for(const r of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Lh(r)){m=!0;break}if(!m)return!0;const w=(s=t==null?void 0:t.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls;return w&&(w<0||!Number.isInteger(w))||w==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",w),!0):!1}function Lh(t){return"callTool"in t&&typeof t.callTool=="function"}function OW(t){var e,n,s;return(s=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(m=>Lh(m)))!==null&&s!==void 0?s:!1}function IE(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((s,m)=>{if(Lh(s))return;const w=s;w.functionDeclarations&&w.functionDeclarations.length>0&&n.push(m)}),n}function PE(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kW extends Va{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var s,m,w,r,x;const i=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!OW(n)||RE(n.config))return await this.generateContentInternal(i);const a=IE(n);if(a.length>0){const d=a.map(f=>`tools[${f}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${d}.`)}let p,c;const o=fr(i.contents),u=(w=(m=(s=i.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||m===void 0?void 0:m.maximumRemoteCalls)!==null&&w!==void 0?w:ME;let l=0;for(;l<u&&(p=await this.generateContentInternal(i),!(!p.functionCalls||p.functionCalls.length===0));){const d=p.candidates[0].content,f=[];for(const h of(x=(r=n.config)===null||r===void 0?void 0:r.tools)!==null&&x!==void 0?x:[])if(Lh(h)){const g=await h.callTool(p.functionCalls);f.push(...g)}l++,c={role:"user",parts:f},i.contents=fr(i.contents),i.contents.push(d),i.contents.push(c),PE(i.config)&&(o.push(d),o.push(c))}return PE(i.config)&&(p.automaticFunctionCallingHistory=o),p},this.generateContentStream=async n=>{var s,m,w,r,x;if(this.maybeMoveToResponseJsonSchem(n),RE(n.config)){const c=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(c)}const i=IE(n);if(i.length>0){const c=i.map(o=>`tools[${o}]`).join(", ");throw new Error(`Incompatible tools found at ${c}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const a=(w=(m=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.toolConfig)===null||m===void 0?void 0:m.functionCallingConfig)===null||w===void 0?void 0:w.streamFunctionCallArguments,p=(x=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||x===void 0?void 0:x.disable;if(a&&!p)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(s=>{var m;let w;const r=[];if(s!=null&&s.generatedImages)for(const i of s.generatedImages)i&&(i!=null&&i.safetyAttributes)&&((m=i==null?void 0:i.safetyAttributes)===null||m===void 0?void 0:m.contentType)==="Positive Prompt"?w=i==null?void 0:i.safetyAttributes:r.push(i);let x;return w?x={generatedImages:r,positivePromptSafetyAttributes:w,sdkHttpResponse:s.sdkHttpResponse}:x={generatedImages:r,sdkHttpResponse:s.sdkHttpResponse},x}),this.list=async n=>{var s;const r={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!r.config.queryBase){if(!((s=r.config)===null||s===void 0)&&s.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");r.config.filter="labels.tune-type:*"}return new nu(Ha.PAGED_ITEM_MODELS,x=>this.listInternal(x),await this.listInternal(r),r)},this.editImage=async n=>{const s={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(s.referenceImages=n.referenceImages.map(m=>m.toReferenceImageAPI())),await this.editImageInternal(s)},this.upscaleImage=async n=>{let s={numberOfImages:1,mode:"upscale"};n.config&&(s=Object.assign(Object.assign({},s),n.config));const m={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:s};return await this.upscaleImageInternal(m)},this.generateVideos=async n=>{var s,m,w,r,x,i;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((s=n.video)===null||s===void 0)&&s.uri&&(!((m=n.video)===null||m===void 0)&&m.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((r=(w=n.source)===null||w===void 0?void 0:w.video)===null||r===void 0)&&r.uri&&(!((i=(x=n.source)===null||x===void 0?void 0:x.video)===null||i===void 0)&&i.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,s,m;const w=(n=e.config)===null||n===void 0?void 0:n.tools;if(!w)return e;const r=await Promise.all(w.map(async i=>Lh(i)?await i.tool():i)),x={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:r})};if(x.config.tools=r,e.config&&e.config.tools&&hR(e.config.tools)){const i=(m=(s=e.config.httpOptions)===null||s===void 0?void 0:s.headers)!==null&&m!==void 0?m:{};let a=Object.assign({},i);Object.keys(a).length===0&&(a=this.apiClient.getDefaultHeaders()),cR(a),x.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:a})}return x}async initAfcToolsMap(e){var n,s,m;const w=new Map;for(const r of(s=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&s!==void 0?s:[])if(Lh(r)){const x=r,i=await x.tool();for(const a of(m=i.functionDeclarations)!==null&&m!==void 0?m:[]){if(!a.name)throw new Error("Function declaration name is required.");if(w.has(a.name))throw new Error(`Duplicate tool declaration name: ${a.name}`);w.set(a.name,x)}}return w}async processAfcStream(e){var n,s,m;const w=(m=(s=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&m!==void 0?m:ME;let r=!1,x=0;const i=await this.initAfcToolsMap(e);return function(a,p,c){return Ir(this,arguments,function*(){for(var o,u,l,d,f,h;x<w;){r&&(x++,r=!1);const y=yield Ct(a.processParamsMaybeAddMcpUsage(c)),C=yield Ct(a.generateContentStreamInternal(y)),b=[],T=[];try{for(var A=!0,g=(u=void 0,Pr(C)),v;v=yield Ct(g.next()),o=v.done,!o;A=!0){d=v.value,A=!1;const S=d;if(yield yield Ct(S),S.candidates&&(!((f=S.candidates[0])===null||f===void 0)&&f.content)){T.push(S.candidates[0].content);for(const F of(h=S.candidates[0].content.parts)!==null&&h!==void 0?h:[])if(x<w&&F.functionCall){if(!F.functionCall.name)throw new Error("Function call name was not returned by the model.");if(p.has(F.functionCall.name)){const B=yield Ct(p.get(F.functionCall.name).callTool([F.functionCall]));b.push(...B)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${p.keys()}, mising tool: ${F.functionCall.name}`)}}}}catch(S){u={error:S}}finally{try{!A&&!o&&(l=g.return)&&(yield Ct(l.call(g)))}finally{if(u)throw u.error}}if(b.length>0){r=!0;const S=new td;S.candidates=[{content:{role:"user",parts:b}}],yield yield Ct(S);const F=[];F.push(...T),F.push({role:"user",parts:b});const B=fr(c.contents).concat(F);c.contents=B}else break}})}(this,i,e)}async generateContentInternal(e){var n,s,m,w;let r,x="",i={};if(this.apiClient.isVertexAI()){const a=BE(this.apiClient,e);return x=_e("{model}:generateContent",a._url),i=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:x,queryParams:i,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(c=>{const o=c;return o.sdkHttpResponse={headers:p.headers},o})),r.then(p=>{const c=NE(p),o=new td;return Object.assign(o,c),o})}else{const a=EE(this.apiClient,e);return x=_e("{model}:generateContent",a._url),i=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:x,queryParams:i,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(m=e.config)===null||m===void 0?void 0:m.httpOptions,abortSignal:(w=e.config)===null||w===void 0?void 0:w.abortSignal}).then(p=>p.json().then(c=>{const o=c;return o.sdkHttpResponse={headers:p.headers},o})),r.then(p=>{const c=FE(p),o=new td;return Object.assign(o,c),o})}}async generateContentStreamInternal(e){var n,s,m,w;let r,x="",i={};if(this.apiClient.isVertexAI()){const a=BE(this.apiClient,e);return x=_e("{model}:streamGenerateContent?alt=sse",a._url),i=a._query,delete a._url,delete a._query,r=this.apiClient.requestStream({path:x,queryParams:i,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),r.then(function(c){return Ir(this,arguments,function*(){var o,u,l,d;try{for(var f=!0,h=Pr(c),A;A=yield Ct(h.next()),o=A.done,!o;f=!0){d=A.value,f=!1;const g=d,v=NE(yield Ct(g.json()));v.sdkHttpResponse={headers:g.headers};const y=new td;Object.assign(y,v),yield yield Ct(y)}}catch(g){u={error:g}}finally{try{!f&&!o&&(l=h.return)&&(yield Ct(l.call(h)))}finally{if(u)throw u.error}}})})}else{const a=EE(this.apiClient,e);return x=_e("{model}:streamGenerateContent?alt=sse",a._url),i=a._query,delete a._url,delete a._query,r=this.apiClient.requestStream({path:x,queryParams:i,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(m=e.config)===null||m===void 0?void 0:m.httpOptions,abortSignal:(w=e.config)===null||w===void 0?void 0:w.abortSignal}),r.then(function(c){return Ir(this,arguments,function*(){var o,u,l,d;try{for(var f=!0,h=Pr(c),A;A=yield Ct(h.next()),o=A.done,!o;f=!0){d=A.value,f=!1;const g=d,v=FE(yield Ct(g.json()));v.sdkHttpResponse={headers:g.headers};const y=new td;Object.assign(y,v),yield yield Ct(y)}}catch(g){u={error:g}}finally{try{!f&&!o&&(l=h.return)&&(yield Ct(l.call(h)))}finally{if(u)throw u.error}}})})}}async embedContent(e){var n,s,m,w;let r,x="",i={};if(this.apiClient.isVertexAI()){const a=RY(this.apiClient,e);return x=_e("{model}:predict",a._url),i=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:x,queryParams:i,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(c=>{const o=c;return o.sdkHttpResponse={headers:p.headers},o})),r.then(p=>{const c=PY(p),o=new uE;return Object.assign(o,c),o})}else{const a=MY(this.apiClient,e);return x=_e("{model}:batchEmbedContents",a._url),i=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:x,queryParams:i,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(m=e.config)===null||m===void 0?void 0:m.httpOptions,abortSignal:(w=e.config)===null||w===void 0?void 0:w.abortSignal}).then(p=>p.json().then(c=>{const o=c;return o.sdkHttpResponse={headers:p.headers},o})),r.then(p=>{const c=IY(p),o=new uE;return Object.assign(o,c),o})}}async generateImagesInternal(e){var n,s,m,w;let r,x="",i={};if(this.apiClient.isVertexAI()){const a=YY(this.apiClient,e);return x=_e("{model}:predict",a._url),i=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:x,queryParams:i,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(c=>{const o=c;return o.sdkHttpResponse={headers:p.headers},o})),r.then(p=>{const c=WY(p),o=new hE;return Object.assign(o,c),o})}else{const a=zY(this.apiClient,e);return x=_e("{model}:predict",a._url),i=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:x,queryParams:i,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(m=e.config)===null||m===void 0?void 0:m.httpOptions,abortSignal:(w=e.config)===null||w===void 0?void 0:w.abortSignal}).then(p=>p.json().then(c=>{const o=c;return o.sdkHttpResponse={headers:p.headers},o})),r.then(p=>{const c=XY(p),o=new hE;return Object.assign(o,c),o})}}async editImageInternal(e){var n,s;let m,w="",r={};if(this.apiClient.isVertexAI()){const x=BY(this.apiClient,e);return w=_e("{model}:predict",x._url),r=x._query,delete x._url,delete x._query,m=this.apiClient.request({path:w,queryParams:r,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(i=>i.json().then(a=>{const p=a;return p.sdkHttpResponse={headers:i.headers},p})),m.then(i=>{const a=FY(i),p=new Dj;return Object.assign(p,a),p})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,s;let m,w="",r={};if(this.apiClient.isVertexAI()){const x=YX(this.apiClient,e);return w=_e("{model}:predict",x._url),r=x._query,delete x._url,delete x._query,m=this.apiClient.request({path:w,queryParams:r,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(i=>i.json().then(a=>{const p=a;return p.sdkHttpResponse={headers:i.headers},p})),m.then(i=>{const a=XX(i),p=new Oj;return Object.assign(p,a),p})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,s;let m,w="",r={};if(this.apiClient.isVertexAI()){const x=EX(this.apiClient,e);return w=_e("{model}:predict",x._url),r=x._query,delete x._url,delete x._query,m=this.apiClient.request({path:w,queryParams:r,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(i=>i.json()),m.then(i=>{const a=BX(i),p=new kj;return Object.assign(p,a),p})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,s;let m,w="",r={};if(this.apiClient.isVertexAI()){const x=IX(this.apiClient,e);return w=_e("{model}:predict",x._url),r=x._query,delete x._url,delete x._query,m=this.apiClient.request({path:w,queryParams:r,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(i=>i.json()),m.then(i=>{const a=PX(i),p=new Hj;return Object.assign(p,a),p})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,s,m,w;let r,x="",i={};if(this.apiClient.isVertexAI()){const a=hX(this.apiClient,e);return x=_e("{name}",a._url),i=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:x,queryParams:i,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),r.then(p=>P1(p))}else{const a=uX(this.apiClient,e);return x=_e("{name}",a._url),i=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:x,queryParams:i,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(m=e.config)===null||m===void 0?void 0:m.httpOptions,abortSignal:(w=e.config)===null||w===void 0?void 0:w.abortSignal}).then(p=>p.json()),r.then(p=>I1(p))}}async listInternal(e){var n,s,m,w;let r,x="",i={};if(this.apiClient.isVertexAI()){const a=yX(this.apiClient,e);return x=_e("{models_url}",a._url),i=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:x,queryParams:i,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(c=>{const o=c;return o.sdkHttpResponse={headers:p.headers},o})),r.then(p=>{const c=wX(p),o=new cE;return Object.assign(o,c),o})}else{const a=mX(this.apiClient,e);return x=_e("{models_url}",a._url),i=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:x,queryParams:i,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(m=e.config)===null||m===void 0?void 0:m.httpOptions,abortSignal:(w=e.config)===null||w===void 0?void 0:w.abortSignal}).then(p=>p.json().then(c=>{const o=c;return o.sdkHttpResponse={headers:p.headers},o})),r.then(p=>{const c=xX(p),o=new cE;return Object.assign(o,c),o})}}async update(e){var n,s,m,w;let r,x="",i={};if(this.apiClient.isVertexAI()){const a=VX(this.apiClient,e);return x=_e("{model}",a._url),i=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:x,queryParams:i,body:JSON.stringify(a),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),r.then(p=>P1(p))}else{const a=jX(this.apiClient,e);return x=_e("{name}",a._url),i=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:x,queryParams:i,body:JSON.stringify(a),httpMethod:"PATCH",httpOptions:(m=e.config)===null||m===void 0?void 0:m.httpOptions,abortSignal:(w=e.config)===null||w===void 0?void 0:w.abortSignal}).then(p=>p.json()),r.then(p=>I1(p))}}async delete(e){var n,s,m,w;let r,x="",i={};if(this.apiClient.isVertexAI()){const a=bY(this.apiClient,e);return x=_e("{name}",a._url),i=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:x,queryParams:i,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(c=>{const o=c;return o.sdkHttpResponse={headers:p.headers},o})),r.then(p=>{const c=TY(p),o=new dE;return Object.assign(o,c),o})}else{const a=CY(this.apiClient,e);return x=_e("{name}",a._url),i=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:x,queryParams:i,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(m=e.config)===null||m===void 0?void 0:m.httpOptions,abortSignal:(w=e.config)===null||w===void 0?void 0:w.abortSignal}).then(p=>p.json().then(c=>{const o=c;return o.sdkHttpResponse={headers:p.headers},o})),r.then(p=>{const c=SY(p),o=new dE;return Object.assign(o,c),o})}}async countTokens(e){var n,s,m,w;let r,x="",i={};if(this.apiClient.isVertexAI()){const a=yY(this.apiClient,e);return x=_e("{model}:countTokens",a._url),i=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:x,queryParams:i,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(c=>{const o=c;return o.sdkHttpResponse={headers:p.headers},o})),r.then(p=>{const c=wY(p),o=new AE;return Object.assign(o,c),o})}else{const a=mY(this.apiClient,e);return x=_e("{model}:countTokens",a._url),i=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:x,queryParams:i,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(m=e.config)===null||m===void 0?void 0:m.httpOptions,abortSignal:(w=e.config)===null||w===void 0?void 0:w.abortSignal}).then(p=>p.json().then(c=>{const o=c;return o.sdkHttpResponse={headers:p.headers},o})),r.then(p=>{const c=xY(p),o=new AE;return Object.assign(o,c),o})}}async computeTokens(e){var n,s;let m,w="",r={};if(this.apiClient.isVertexAI()){const x=cY(this.apiClient,e);return w=_e("{model}:computeTokens",x._url),r=x._query,delete x._url,delete x._query,m=this.apiClient.request({path:w,queryParams:r,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(i=>i.json().then(a=>{const p=a;return p.sdkHttpResponse={headers:i.headers},p})),m.then(i=>{const a=dY(i),p=new Gj;return Object.assign(p,a),p})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,s,m,w;let r,x="",i={};if(this.apiClient.isVertexAI()){const a=_Y(this.apiClient,e);return x=_e("{model}:predictLongRunning",a._url),i=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:x,queryParams:i,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),r.then(p=>{const c=$Y(p),o=new uv;return Object.assign(o,c),o})}else{const a=qY(this.apiClient,e);return x=_e("{model}:predictLongRunning",a._url),i=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:x,queryParams:i,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(m=e.config)===null||m===void 0?void 0:m.httpOptions,abortSignal:(w=e.config)===null||w===void 0?void 0:w.abortSignal}).then(p=>p.json()),r.then(p=>{const c=ZY(p),o=new uv;return Object.assign(o,c),o})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class HW extends Va{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,s=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const m=n.name.split("/operations/")[0];let w;s&&"httpOptions"in s&&(w=s.httpOptions);const r=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:m,config:{httpOptions:w}});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!0})}else{const m=await this.getVideosOperationInternal({operationName:n.name,config:s});return n._fromAPIResponse({apiResponse:m,_isVertexAI:!1})}}async get(e){const n=e.operation,s=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const m=n.name.split("/operations/")[0];let w;s&&"httpOptions"in s&&(w=s.httpOptions);const r=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:m,config:{httpOptions:w}});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!0})}else{const m=await this.getVideosOperationInternal({operationName:n.name,config:s});return n._fromAPIResponse({apiResponse:m,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,s,m,w;let r,x="",i={};if(this.apiClient.isVertexAI()){const a=Lj(e);return x=_e("{operationName}",a._url),i=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:x,queryParams:i,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),r}else{const a=Nj(e);return x=_e("{operationName}",a._url),i=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:x,queryParams:i,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(m=e.config)===null||m===void 0?void 0:m.httpOptions,abortSignal:(w=e.config)===null||w===void 0?void 0:w.abortSignal}).then(p=>p.json()),r}}async fetchPredictVideosOperationInternal(e){var n,s;let m,w="",r={};if(this.apiClient.isVertexAI()){const x=Cj(e);return w=_e("{resourceName}:fetchPredictOperation",x._url),r=x._query,delete x._url,delete x._query,m=this.apiClient.request({path:w,queryParams:r,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(i=>i.json()),m}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function GW(t){const e={},n=D(t,["data"]);if(n!=null&&G(e,["data"],n),D(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=D(t,["mimeType"]);return s!=null&&G(e,["mimeType"],s),e}function QW(t){const e={},n=D(t,["parts"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(w=>ZW(w))),G(e,["parts"],m)}const s=D(t,["role"]);return s!=null&&G(e,["role"],s),e}function jW(t,e,n){const s={},m=D(e,["expireTime"]);n!==void 0&&m!=null&&G(n,["expireTime"],m);const w=D(e,["newSessionExpireTime"]);n!==void 0&&w!=null&&G(n,["newSessionExpireTime"],w);const r=D(e,["uses"]);n!==void 0&&r!=null&&G(n,["uses"],r);const x=D(e,["liveConnectConstraints"]);n!==void 0&&x!=null&&G(n,["bidiGenerateContentSetup"],JW(t,x));const i=D(e,["lockAdditionalFields"]);return n!==void 0&&i!=null&&G(n,["fieldMask"],i),s}function VW(t,e){const n={},s=D(e,["config"]);return s!=null&&G(n,["config"],jW(t,s,n)),n}function zW(t){const e={};if(D(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=D(t,["fileUri"]);n!=null&&G(e,["fileUri"],n);const s=D(t,["mimeType"]);return s!=null&&G(e,["mimeType"],s),e}function YW(t){const e={},n=D(t,["id"]);n!=null&&G(e,["id"],n);const s=D(t,["args"]);s!=null&&G(e,["args"],s);const m=D(t,["name"]);if(m!=null&&G(e,["name"],m),D(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(D(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function XW(t){const e={};if(D(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=D(t,["enableWidget"]);return n!=null&&G(e,["enableWidget"],n),e}function WW(t){const e={};if(D(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(D(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=D(t,["timeRangeFilter"]);return n!=null&&G(e,["timeRangeFilter"],n),e}function KW(t,e){const n={},s=D(t,["generationConfig"]);e!==void 0&&s!=null&&G(e,["setup","generationConfig"],s);const m=D(t,["responseModalities"]);e!==void 0&&m!=null&&G(e,["setup","generationConfig","responseModalities"],m);const w=D(t,["temperature"]);e!==void 0&&w!=null&&G(e,["setup","generationConfig","temperature"],w);const r=D(t,["topP"]);e!==void 0&&r!=null&&G(e,["setup","generationConfig","topP"],r);const x=D(t,["topK"]);e!==void 0&&x!=null&&G(e,["setup","generationConfig","topK"],x);const i=D(t,["maxOutputTokens"]);e!==void 0&&i!=null&&G(e,["setup","generationConfig","maxOutputTokens"],i);const a=D(t,["mediaResolution"]);e!==void 0&&a!=null&&G(e,["setup","generationConfig","mediaResolution"],a);const p=D(t,["seed"]);e!==void 0&&p!=null&&G(e,["setup","generationConfig","seed"],p);const c=D(t,["speechConfig"]);e!==void 0&&c!=null&&G(e,["setup","generationConfig","speechConfig"],vC(c));const o=D(t,["thinkingConfig"]);e!==void 0&&o!=null&&G(e,["setup","generationConfig","thinkingConfig"],o);const u=D(t,["enableAffectiveDialog"]);e!==void 0&&u!=null&&G(e,["setup","generationConfig","enableAffectiveDialog"],u);const l=D(t,["systemInstruction"]);e!==void 0&&l!=null&&G(e,["setup","systemInstruction"],QW(jn(l)));const d=D(t,["tools"]);if(e!==void 0&&d!=null){let C=fc(d);Array.isArray(C)&&(C=C.map(b=>qW(Ac(b)))),G(e,["setup","tools"],C)}const f=D(t,["sessionResumption"]);e!==void 0&&f!=null&&G(e,["setup","sessionResumption"],$W(f));const h=D(t,["inputAudioTranscription"]);e!==void 0&&h!=null&&G(e,["setup","inputAudioTranscription"],h);const A=D(t,["outputAudioTranscription"]);e!==void 0&&A!=null&&G(e,["setup","outputAudioTranscription"],A);const g=D(t,["realtimeInputConfig"]);e!==void 0&&g!=null&&G(e,["setup","realtimeInputConfig"],g);const v=D(t,["contextWindowCompression"]);e!==void 0&&v!=null&&G(e,["setup","contextWindowCompression"],v);const y=D(t,["proactivity"]);if(e!==void 0&&y!=null&&G(e,["setup","proactivity"],y),D(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function JW(t,e){const n={},s=D(e,["model"]);s!=null&&G(n,["setup","model"],zt(t,s));const m=D(e,["config"]);return m!=null&&G(n,["config"],KW(m,n)),n}function ZW(t){const e={},n=D(t,["mediaResolution"]);n!=null&&G(e,["mediaResolution"],n);const s=D(t,["codeExecutionResult"]);s!=null&&G(e,["codeExecutionResult"],s);const m=D(t,["executableCode"]);m!=null&&G(e,["executableCode"],m);const w=D(t,["fileData"]);w!=null&&G(e,["fileData"],zW(w));const r=D(t,["functionCall"]);r!=null&&G(e,["functionCall"],YW(r));const x=D(t,["functionResponse"]);x!=null&&G(e,["functionResponse"],x);const i=D(t,["inlineData"]);i!=null&&G(e,["inlineData"],GW(i));const a=D(t,["text"]);a!=null&&G(e,["text"],a);const p=D(t,["thought"]);p!=null&&G(e,["thought"],p);const c=D(t,["thoughtSignature"]);c!=null&&G(e,["thoughtSignature"],c);const o=D(t,["videoMetadata"]);return o!=null&&G(e,["videoMetadata"],o),e}function $W(t){const e={},n=D(t,["handle"]);if(n!=null&&G(e,["handle"],n),D(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function qW(t){const e={},n=D(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(c=>c)),G(e,["functionDeclarations"],p)}if(D(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=D(t,["googleSearchRetrieval"]);s!=null&&G(e,["googleSearchRetrieval"],s);const m=D(t,["computerUse"]);m!=null&&G(e,["computerUse"],m);const w=D(t,["fileSearch"]);w!=null&&G(e,["fileSearch"],w);const r=D(t,["codeExecution"]);if(r!=null&&G(e,["codeExecution"],r),D(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const x=D(t,["googleMaps"]);x!=null&&G(e,["googleMaps"],XW(x));const i=D(t,["googleSearch"]);i!=null&&G(e,["googleSearch"],WW(i));const a=D(t,["urlContext"]);return a!=null&&G(e,["urlContext"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _W(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const s=t[n];if(typeof s=="object"&&s!=null&&Object.keys(s).length>0){const m=Object.keys(s).map(w=>`${n}.${w}`);e.push(...m)}else e.push(n)}return e.join(",")}function eK(t,e){let n=null;const s=t.bidiGenerateContentSetup;if(typeof s=="object"&&s!==null&&"setup"in s){const w=s.setup;typeof w=="object"&&w!==null?(t.bidiGenerateContentSetup=w,n=w):delete t.bidiGenerateContentSetup}else s!==void 0&&delete t.bidiGenerateContentSetup;const m=t.fieldMask;if(n){const w=_W(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)w?t.fieldMask=w:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&m!==null&&Array.isArray(m)&&m.length>0){const r=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let x=[];m.length>0&&(x=m.map(a=>r.includes(a)?`generationConfig.${a}`:a));const i=[];w&&i.push(w),x.length>0&&i.push(...x),i.length>0?t.fieldMask=i.join(","):delete t.fieldMask}else delete t.fieldMask}else m!==null&&Array.isArray(m)&&m.length>0?t.fieldMask=m.join(","):delete t.fieldMask;return t}class tK extends Va{constructor(e){super(),this.apiClient=e}async create(e){var n,s;let m,w="",r={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const x=VW(this.apiClient,e);w=_e("auth_tokens",x._url),r=x._query,delete x.config,delete x._url,delete x._query;const i=eK(x,e.config);return m=this.apiClient.request({path:w,queryParams:r,body:JSON.stringify(i),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(a=>a.json()),m.then(a=>a)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iK(t,e){const n={},s=D(t,["force"]);return e!==void 0&&s!=null&&G(e,["_query","force"],s),n}function nK(t){const e={},n=D(t,["name"]);n!=null&&G(e,["_url","name"],n);const s=D(t,["config"]);return s!=null&&iK(s,e),e}function sK(t){const e={},n=D(t,["name"]);return n!=null&&G(e,["_url","name"],n),e}function rK(t,e){const n={},s=D(t,["pageSize"]);e!==void 0&&s!=null&&G(e,["_query","pageSize"],s);const m=D(t,["pageToken"]);return e!==void 0&&m!=null&&G(e,["_query","pageToken"],m),n}function aK(t){const e={},n=D(t,["parent"]);n!=null&&G(e,["_url","parent"],n);const s=D(t,["config"]);return s!=null&&rK(s,e),e}function oK(t){const e={},n=D(t,["sdkHttpResponse"]);n!=null&&G(e,["sdkHttpResponse"],n);const s=D(t,["nextPageToken"]);s!=null&&G(e,["nextPageToken"],s);const m=D(t,["documents"]);if(m!=null){let w=m;Array.isArray(w)&&(w=w.map(r=>r)),G(e,["documents"],w)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lK extends Va{constructor(e){super(),this.apiClient=e,this.list=async n=>new nu(Ha.PAGED_ITEM_DOCUMENTS,s=>this.listInternal({parent:n.parent,config:s.config}),await this.listInternal(n),n)}async get(e){var n,s;let m,w="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const x=sK(e);return w=_e("{name}",x._url),r=x._query,delete x._url,delete x._query,m=this.apiClient.request({path:w,queryParams:r,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(i=>i.json()),m.then(i=>i)}}async delete(e){var n,s;let m="",w={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=nK(e);m=_e("{name}",r._url),w=r._query,delete r._url,delete r._query,await this.apiClient.request({path:m,queryParams:w,body:JSON.stringify(r),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var n,s;let m,w="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const x=aK(e);return w=_e("{parent}/documents",x._url),r=x._query,delete x._url,delete x._query,m=this.apiClient.request({path:w,queryParams:r,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(i=>i.json()),m.then(i=>{const a=oK(i),p=new Qj;return Object.assign(p,a),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uK extends Va{constructor(e,n=new lK(e)){super(),this.apiClient=e,this.documents=n,this.list=async(s={})=>new nu(Ha.PAGED_ITEM_FILE_SEARCH_STORES,m=>this.listInternal(m),await this.listInternal(s),s)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,s;let m,w="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const x=_X(e);return w=_e("fileSearchStores",x._url),r=x._query,delete x._url,delete x._query,m=this.apiClient.request({path:w,queryParams:r,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(i=>i.json()),m.then(i=>i)}}async get(e){var n,s;let m,w="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const x=iW(e);return w=_e("{name}",x._url),r=x._query,delete x._url,delete x._query,m=this.apiClient.request({path:w,queryParams:r,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(i=>i.json()),m.then(i=>i)}}async delete(e){var n,s;let m="",w={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=tW(e);m=_e("{name}",r._url),w=r._query,delete r._url,delete r._query,await this.apiClient.request({path:m,queryParams:w,body:JSON.stringify(r),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var n,s;let m,w="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const x=lW(e);return w=_e("fileSearchStores",x._url),r=x._query,delete x._url,delete x._query,m=this.apiClient.request({path:w,queryParams:r,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(i=>i.json()),m.then(i=>{const a=uW(i),p=new jj;return Object.assign(p,a),p})}}async uploadToFileSearchStoreInternal(e){var n,s;let m,w="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const x=hW(e);return w=_e("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",x._url),r=x._query,delete x._url,delete x._query,m=this.apiClient.request({path:w,queryParams:r,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(i=>i.json()),m.then(i=>{const a=cW(i),p=new Vj;return Object.assign(p,a),p})}}async importFile(e){var n,s;let m,w="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const x=rW(e);return w=_e("{file_search_store_name}:importFile",x._url),r=x._query,delete x._url,delete x._query,m=this.apiClient.request({path:w,queryParams:r,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(i=>i.json()),m.then(i=>{const a=sW(i),p=new dC;return Object.assign(p,a),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let dR=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return dR=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,s=>(+s^n()&15>>+s/4).toString(16))};const hK=()=>dR();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function D1(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const O1=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gr extends Error{}class ts extends gr{constructor(e,n,s,m){super(`${ts.makeMessage(e,n,s)}`),this.status=e,this.headers=m,this.error=n}static makeMessage(e,n,s){const m=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):s;return e&&m?`${e} ${m}`:e?`${e} status code (no body)`:m||"(no status code or body)"}static generate(e,n,s,m){if(!e||!m)return new u0({message:s,cause:O1(n)});const w=n;return e===400?new fR(e,w,s,m):e===401?new pR(e,w,s,m):e===403?new gR(e,w,s,m):e===404?new vR(e,w,s,m):e===409?new mR(e,w,s,m):e===422?new yR(e,w,s,m):e===429?new xR(e,w,s,m):e>=500?new wR(e,w,s,m):new ts(e,w,s,m)}}class k1 extends ts{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class u0 extends ts{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class AR extends u0{constructor({message:e}={}){super({message:e??"Request timed out."})}}class fR extends ts{}class pR extends ts{}class gR extends ts{}class vR extends ts{}class mR extends ts{}class yR extends ts{}class xR extends ts{}class wR extends ts{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cK=/^[a-z][a-z0-9+.-]*:/i,dK=t=>cK.test(t);let H1=t=>(H1=Array.isArray,H1(t));const AK=H1;let fK=AK;const UE=fK;function pK(t){if(!t)return!0;for(const e in t)return!1;return!0}function gK(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const vK=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new gr(`${t} must be an integer`);if(e<0)throw new gr(`${t} must be a positive integer`);return e},mK=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yK=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ju="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xK(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const wK=()=>{var t,e,n,s,m;const w=xK();if(w==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ju,"X-Stainless-OS":OE(Deno.build.os),"X-Stainless-Arch":DE(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ju,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(w==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ju,"X-Stainless-OS":OE((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":DE((s=globalThis.process.arch)!==null&&s!==void 0?s:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(m=globalThis.process.version)!==null&&m!==void 0?m:"unknown"};const r=CK();return r?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ju,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${r.browser}`,"X-Stainless-Runtime-Version":r.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ju,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function CK(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const s=n.exec(navigator.userAgent);if(s){const m=s[1]||0,w=s[2]||0,r=s[3]||0;return{browser:e,version:`${m}.${w}.${r}`}}}return null}const DE=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",OE=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Ap;const bK=()=>Ap??(Ap=wK());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function SK(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function CR(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function TK(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return CR({start(){},async pull(n){const{done:s,value:m}=await e.next();s?n.close():n.enqueue(m)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function bR(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function EK(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const s=t.getReader(),m=s.cancel();s.releaseLock(),await m}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const BK=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const SR=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function yy(t,e,n){return SR(),new File(t,e??"unknown_file",n)}function FK(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const NK=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const TR=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",LK=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&TR(t),MK=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function RK(t,e,n){if(SR(),t=await t,LK(t))return t instanceof File?t:yy([await t.arrayBuffer()],t.name);if(MK(t)){const m=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),yy(await G1(m),e,n)}const s=await G1(t);if(e||(e=FK(t)),!(n!=null&&n.type)){const m=s.find(w=>typeof w=="object"&&"type"in w&&w.type);typeof m=="string"&&(n=Object.assign(Object.assign({},n),{type:m}))}return yy(s,e,n)}async function G1(t){var e,n,s,m,w;let r=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)r.push(t);else if(TR(t))r.push(t instanceof Blob?t:await t.arrayBuffer());else if(NK(t))try{for(var x=!0,i=Pr(t),a;a=await i.next(),e=a.done,!e;x=!0){m=a.value,x=!1;const p=m;r.push(...await G1(p))}}catch(p){n={error:p}}finally{try{!x&&!e&&(s=i.return)&&await s.call(i)}finally{if(n)throw n.error}}else{const p=(w=t==null?void 0:t.constructor)===null||w===void 0?void 0:w.name;throw new Error(`Unexpected data type: ${typeof t}${p?`; constructor: ${p}`:""}${IK(t)}`)}return r}function IK(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ER{constructor(e){this._client=e}}ER._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BR(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const kE=Object.freeze(Object.create(null)),PK=(t=BR)=>function(n,...s){if(n.length===1)return n[0];let m=!1;const w=[],r=n.reduce((p,c,o)=>{var u,l,d;/[?#]/.test(c)&&(m=!0);const f=s[o];let h=(m?encodeURIComponent:t)(""+f);return o!==s.length&&(f==null||typeof f=="object"&&f.toString===((d=Object.getPrototypeOf((l=Object.getPrototypeOf((u=f.hasOwnProperty)!==null&&u!==void 0?u:kE))!==null&&l!==void 0?l:kE))===null||d===void 0?void 0:d.toString))&&(h=f+"",w.push({start:p.length+c.length,length:h.length,error:`Value of type ${Object.prototype.toString.call(f).slice(8,-1)} is not a valid path parameter`})),p+c+(o===s.length?"":h)},""),x=r.split(/[?#]/,1)[0],i=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let a;for(;(a=i.exec(x))!==null;)w.push({start:a.index,length:a[0].length,error:`Value "${a[0]}" can't be safely passed as a path parameter`});if(w.sort((p,c)=>p.start-c.start),w.length>0){let p=0;const c=w.reduce((o,u)=>{const l=" ".repeat(u.start-p),d="^".repeat(u.length);return p=u.start+u.length,o+l+d},"");throw new gr(`Path parameters result in path with invalid segments:
${w.map(o=>o.error).join(`
`)}
${r}
${c}`)}return r},fp=PK(BR);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FR extends ER{create(e,n){var s;const{api_version:m=this._client.apiVersion}=e,w=cv(e,["api_version"]);if("model"in w&&"agent_config"in w)throw new gr("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in w&&"generation_config"in w)throw new gr("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(fp`/${m}/interactions`,Object.assign(Object.assign({body:w},n),{stream:(s=e.stream)!==null&&s!==void 0?s:!1}))}delete(e,n={},s){const{api_version:m=this._client.apiVersion}=n??{};return this._client.delete(fp`/${m}/interactions/${e}`,s)}cancel(e,n={},s){const{api_version:m=this._client.apiVersion}=n??{};return this._client.post(fp`/${m}/interactions/${e}/cancel`,s)}get(e,n={},s){var m;const w=n??{},{api_version:r=this._client.apiVersion}=w,x=cv(w,["api_version"]);return this._client.get(fp`/${r}/interactions/${e}`,Object.assign(Object.assign({query:x},s),{stream:(m=n==null?void 0:n.stream)!==null&&m!==void 0?m:!1}))}}FR._key=Object.freeze(["interactions"]);class NR extends FR{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function UK(t){let e=0;for(const m of t)e+=m.length;const n=new Uint8Array(e);let s=0;for(const m of t)n.set(m,s),s+=m.length;return n}let pp;function yC(t){let e;return(pp??(e=new globalThis.TextEncoder,pp=e.encode.bind(e)))(t)}let gp;function HE(t){let e;return(gp??(e=new globalThis.TextDecoder,gp=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class h0{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?yC(e):e;this.buffer=UK([this.buffer,n]);const s=[];let m;for(;(m=DK(this.buffer,this.carriageReturnIndex))!=null;){if(m.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=m.index;continue}if(this.carriageReturnIndex!=null&&(m.index!==this.carriageReturnIndex+1||m.carriage)){s.push(HE(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const w=this.carriageReturnIndex!==null?m.preceding-1:m.preceding,r=HE(this.buffer.subarray(0,w));s.push(r),this.buffer=this.buffer.subarray(m.index),this.carriageReturnIndex=null}return s}flush(){return this.buffer.length?this.decode(`
`):[]}}h0.NEWLINE_CHARS=new Set([`
`,"\r"]);h0.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function DK(t,e){for(let m=e??0;m<t.length;m++){if(t[m]===10)return{preceding:m,index:m+1,carriage:!1};if(t[m]===13)return{preceding:m,index:m+1,carriage:!0}}return null}function OK(t){for(let s=0;s<t.length-1;s++){if(t[s]===10&&t[s+1]===10||t[s]===13&&t[s+1]===13)return s+2;if(t[s]===13&&t[s+1]===10&&s+3<t.length&&t[s+2]===13&&t[s+3]===10)return s+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dv={off:0,error:200,warn:300,info:400,debug:500},GE=(t,e,n)=>{if(t){if(gK(dv,t))return t;Zn(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(dv))}`)}};function wd(){}function vp(t,e,n){return!e||dv[t]>dv[n]?wd:e[t].bind(e)}const kK={error:wd,warn:wd,info:wd,debug:wd};let QE=new WeakMap;function Zn(t){var e;const n=t.logger,s=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return kK;const m=QE.get(n);if(m&&m[0]===s)return m[1];const w={error:vp("error",n,s),warn:vp("warn",n,s),info:vp("info",n,s),debug:vp("debug",n,s)};return QE.set(n,[s,w]),w}const Tl=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mh{constructor(e,n,s){this.iterator=e,this.controller=n,this.client=s}static fromSSEResponse(e,n,s){let m=!1;const w=s?Zn(s):console;function r(){return Ir(this,arguments,function*(){var i,a,p,c;if(m)throw new gr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");m=!0;let o=!1;try{try{for(var u=!0,l=Pr(HK(e,n)),d;d=yield Ct(l.next()),i=d.done,!i;u=!0){c=d.value,u=!1;const f=c;if(!o)if(f.data.startsWith("[DONE]")){o=!0;continue}else try{yield yield Ct(JSON.parse(f.data))}catch(h){throw w.error("Could not parse message into JSON:",f.data),w.error("From chunk:",f.raw),h}}}catch(f){a={error:f}}finally{try{!u&&!i&&(p=l.return)&&(yield Ct(p.call(l)))}finally{if(a)throw a.error}}o=!0}catch(f){if(D1(f))return yield Ct(void 0);throw f}finally{o||n.abort()}})}return new mh(r,n,s)}static fromReadableStream(e,n,s){let m=!1;function w(){return Ir(this,arguments,function*(){var i,a,p,c;const o=new h0,u=bR(e);try{for(var l=!0,d=Pr(u),f;f=yield Ct(d.next()),i=f.done,!i;l=!0){c=f.value,l=!1;const h=c;for(const A of o.decode(h))yield yield Ct(A)}}catch(h){a={error:h}}finally{try{!l&&!i&&(p=d.return)&&(yield Ct(p.call(d)))}finally{if(a)throw a.error}}for(const h of o.flush())yield yield Ct(h)})}function r(){return Ir(this,arguments,function*(){var i,a,p,c;if(m)throw new gr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");m=!0;let o=!1;try{try{for(var u=!0,l=Pr(w()),d;d=yield Ct(l.next()),i=d.done,!i;u=!0){c=d.value,u=!1;const f=c;o||f&&(yield yield Ct(JSON.parse(f)))}}catch(f){a={error:f}}finally{try{!u&&!i&&(p=l.return)&&(yield Ct(p.call(l)))}finally{if(a)throw a.error}}o=!0}catch(f){if(D1(f))return yield Ct(void 0);throw f}finally{o||n.abort()}})}return new mh(r,n,s)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],s=this.iterator(),m=w=>({next:()=>{if(w.length===0){const r=s.next();e.push(r),n.push(r)}return w.shift()}});return[new mh(()=>m(e),this.controller,this.client),new mh(()=>m(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return CR({async start(){n=e[Symbol.asyncIterator]()},async pull(s){try{const{value:m,done:w}=await n.next();if(w)return s.close();const r=yC(JSON.stringify(m)+`
`);s.enqueue(r)}catch(m){s.error(m)}},async cancel(){var s;await((s=n.return)===null||s===void 0?void 0:s.call(n))}})}}function HK(t,e){return Ir(this,arguments,function*(){var s,m,w,r;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new gr("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new gr("Attempted to iterate over a response with no body");const x=new QK,i=new h0,a=bR(t.body);try{for(var p=!0,c=Pr(GK(a)),o;o=yield Ct(c.next()),s=o.done,!s;p=!0){r=o.value,p=!1;const u=r;for(const l of i.decode(u)){const d=x.decode(l);d&&(yield yield Ct(d))}}}catch(u){m={error:u}}finally{try{!p&&!s&&(w=c.return)&&(yield Ct(w.call(c)))}finally{if(m)throw m.error}}for(const u of i.flush()){const l=x.decode(u);l&&(yield yield Ct(l))}})}function GK(t){return Ir(this,arguments,function*(){var n,s,m,w;let r=new Uint8Array;try{for(var x=!0,i=Pr(t),a;a=yield Ct(i.next()),n=a.done,!n;x=!0){w=a.value,x=!1;const p=w;if(p==null)continue;const c=p instanceof ArrayBuffer?new Uint8Array(p):typeof p=="string"?yC(p):p;let o=new Uint8Array(r.length+c.length);o.set(r),o.set(c,r.length),r=o;let u;for(;(u=OK(r))!==-1;)yield yield Ct(r.slice(0,u)),r=r.slice(u)}}catch(p){s={error:p}}finally{try{!x&&!n&&(m=i.return)&&(yield Ct(m.call(i)))}finally{if(s)throw s.error}}r.length>0&&(yield yield Ct(r))})}class QK{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const w={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],w}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,s,m]=jK(e,":");return m.startsWith(" ")&&(m=m.substring(1)),n==="event"?this.event=m:n==="data"&&this.data.push(m),null}}function jK(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function VK(t,e){const{response:n,requestLogID:s,retryOfRequestLogID:m,startTime:w}=e,r=await(async()=>{var x;if(e.options.stream)return Zn(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):mh.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const i=n.headers.get("content-type"),a=(x=i==null?void 0:i.split(";")[0])===null||x===void 0?void 0:x.trim();return(a==null?void 0:a.includes("application/json"))||(a==null?void 0:a.endsWith("+json"))?await n.json():await n.text()})();return Zn(t).debug(`[${s}] response parsed`,Tl({retryOfRequestLogID:m,url:n.url,status:n.status,body:r,durationMs:Date.now()-w})),r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xC extends Promise{constructor(e,n,s=VK){super(m=>{m(null)}),this.responsePromise=n,this.parseResponse=s,this.client=e}_thenUnwrap(e){return new xC(this.client,this.responsePromise,async(n,s)=>e(await this.parseResponse(n,s),s))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const LR=Symbol("brand.privateNullableHeaders");function*zK(t){if(!t)return;if(LR in t){const{values:s,nulls:m}=t;yield*s.entries();for(const w of m)yield[w,null];return}let e=!1,n;t instanceof Headers?n=t.entries():UE(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let s of n){const m=s[0];if(typeof m!="string")throw new TypeError("expected header name to be a string");const w=UE(s[1])?s[1]:[s[1]];let r=!1;for(const x of w)x!==void 0&&(e&&!r&&(r=!0,yield[m,null]),yield[m,x])}}const id=t=>{const e=new Headers,n=new Set;for(const s of t){const m=new Set;for(const[w,r]of zK(s)){const x=w.toLowerCase();m.has(x)||(e.delete(w),m.add(x)),r===null?(e.delete(w),n.add(x)):(e.append(w,r),n.delete(x))}}return{[LR]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xy=t=>{var e,n,s,m,w,r;if(typeof globalThis.process<"u")return(s=(n=(e=gj)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&s!==void 0?s:void 0;if(typeof globalThis.Deno<"u")return(r=(w=(m=globalThis.Deno.env)===null||m===void 0?void 0:m.get)===null||w===void 0?void 0:w.call(m,t))===null||r===void 0?void 0:r.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var MR;class c0{constructor(e){var n,s,m,w,r,x,i,{baseURL:a=xy("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:p=(n=xy("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:c="v1beta"}=e,o=cv(e,["baseURL","apiKey","apiVersion"]);const u=Object.assign(Object.assign({apiKey:p,apiVersion:c},o),{baseURL:a||"https://generativelanguage.googleapis.com"});this.baseURL=u.baseURL,this.timeout=(s=u.timeout)!==null&&s!==void 0?s:c0.DEFAULT_TIMEOUT,this.logger=(m=u.logger)!==null&&m!==void 0?m:console;const l="warn";this.logLevel=l,this.logLevel=(r=(w=GE(u.logLevel,"ClientOptions.logLevel",this))!==null&&w!==void 0?w:GE(xy("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&r!==void 0?r:l,this.fetchOptions=u.fetchOptions,this.maxRetries=(x=u.maxRetries)!==null&&x!==void 0?x:2,this.fetch=(i=u.fetch)!==null&&i!==void 0?i:SK(),this.encoder=BK,this._options=u,this.apiKey=p,this.apiVersion=c,this.clientAdapter=u.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=id([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return id([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return id([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,s])=>typeof s<"u").map(([n,s])=>{if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(s)}`;if(s===null)return`${encodeURIComponent(n)}=`;throw new gr(`Cannot stringify type ${typeof s}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Ju}`}defaultIdempotencyKey(){return`stainless-node-retry-${hK()}`}makeStatusError(e,n,s,m){return ts.generate(e,n,s,m)}buildURL(e,n,s){const m=!this.baseURLOverridden()&&s||this.baseURL,w=dK(e)?new URL(e):new URL(m+(m.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),r=this.defaultQuery();return pK(r)||(n=Object.assign(Object.assign({},r),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(w.search=this.stringifyQuery(n)),w.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:s}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,s){return this.request(Promise.resolve(s).then(m=>Object.assign({method:e,path:n},m)))}request(e,n=null){return new xC(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,s){var m,w,r;const x=await e,i=(m=x.maxRetries)!==null&&m!==void 0?m:this.maxRetries;n==null&&(n=i),await this.prepareOptions(x);const{req:a,url:p,timeout:c}=await this.buildRequest(x,{retryCount:i-n});await this.prepareRequest(a,{url:p,options:x});const o="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),u=s===void 0?"":`, retryOf: ${s}`,l=Date.now();if(Zn(this).debug(`[${o}] sending request`,Tl({retryOfRequestLogID:s,method:x.method,url:p,options:x,headers:a.headers})),!((w=x.signal)===null||w===void 0)&&w.aborted)throw new k1;const d=new AbortController,f=await this.fetchWithTimeout(p,a,c,d).catch(O1),h=Date.now();if(f instanceof globalThis.Error){const g=`retrying, ${n} attempts remaining`;if(!((r=x.signal)===null||r===void 0)&&r.aborted)throw new k1;const v=D1(f)||/timed? ?out/i.test(String(f)+("cause"in f?String(f.cause):""));if(n)return Zn(this).info(`[${o}] connection ${v?"timed out":"failed"} - ${g}`),Zn(this).debug(`[${o}] connection ${v?"timed out":"failed"} (${g})`,Tl({retryOfRequestLogID:s,url:p,durationMs:h-l,message:f.message})),this.retryRequest(x,n,s??o);throw Zn(this).info(`[${o}] connection ${v?"timed out":"failed"} - error; no more retries left`),Zn(this).debug(`[${o}] connection ${v?"timed out":"failed"} (error; no more retries left)`,Tl({retryOfRequestLogID:s,url:p,durationMs:h-l,message:f.message})),v?new AR:new u0({cause:f})}const A=`[${o}${u}] ${a.method} ${p} ${f.ok?"succeeded":"failed"} with status ${f.status} in ${h-l}ms`;if(!f.ok){const g=await this.shouldRetry(f);if(n&&g){const S=`retrying, ${n} attempts remaining`;return await EK(f.body),Zn(this).info(`${A} - ${S}`),Zn(this).debug(`[${o}] response error (${S})`,Tl({retryOfRequestLogID:s,url:f.url,status:f.status,headers:f.headers,durationMs:h-l})),this.retryRequest(x,n,s??o,f.headers)}const v=g?"error; no more retries left":"error; not retryable";Zn(this).info(`${A} - ${v}`);const y=await f.text().catch(S=>O1(S).message),C=mK(y),b=C?void 0:y;throw Zn(this).debug(`[${o}] response error (${v})`,Tl({retryOfRequestLogID:s,url:f.url,status:f.status,headers:f.headers,message:b,durationMs:Date.now()-l})),this.makeStatusError(f.status,C,b,f.headers)}return Zn(this).info(A),Zn(this).debug(`[${o}] response start`,Tl({retryOfRequestLogID:s,url:f.url,status:f.status,headers:f.headers,durationMs:h-l})),{response:f,options:x,controller:d,requestLogID:o,retryOfRequestLogID:s,startTime:l}}async fetchWithTimeout(e,n,s,m){const w=n||{},{signal:r,method:x}=w,i=cv(w,["signal","method"]);r&&r.addEventListener("abort",()=>m.abort());const a=setTimeout(()=>m.abort(),s),p=globalThis.ReadableStream&&i.body instanceof globalThis.ReadableStream||typeof i.body=="object"&&i.body!==null&&Symbol.asyncIterator in i.body,c=Object.assign(Object.assign(Object.assign({signal:m.signal},p?{duplex:"half"}:{}),{method:"GET"}),i);x&&(c.method=x.toUpperCase());try{return await this.fetch.call(void 0,e,c)}finally{clearTimeout(a)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,s,m){var w;let r;const x=m==null?void 0:m.get("retry-after-ms");if(x){const a=parseFloat(x);Number.isNaN(a)||(r=a)}const i=m==null?void 0:m.get("retry-after");if(i&&!r){const a=parseFloat(i);Number.isNaN(a)?r=Date.parse(i)-Date.now():r=a*1e3}if(!(r&&0<=r&&r<60*1e3)){const a=(w=e.maxRetries)!==null&&w!==void 0?w:this.maxRetries;r=this.calculateDefaultRetryTimeoutMillis(n,a)}return await yK(r),this.makeRequest(e,n-1,s)}calculateDefaultRetryTimeoutMillis(e,n){const w=n-e,r=Math.min(.5*Math.pow(2,w),8),x=1-Math.random()*.25;return r*x*1e3}async buildRequest(e,{retryCount:n=0}={}){var s,m,w;const r=Object.assign({},e),{method:x,path:i,query:a,defaultBaseURL:p}=r,c=this.buildURL(i,a,p);"timeout"in r&&vK("timeout",r.timeout),r.timeout=(s=r.timeout)!==null&&s!==void 0?s:this.timeout;const{bodyHeaders:o,body:u}=this.buildBody({options:r}),l=await this.buildHeaders({options:e,method:x,bodyHeaders:o,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:x,headers:l},r.signal&&{signal:r.signal}),globalThis.ReadableStream&&u instanceof globalThis.ReadableStream&&{duplex:"half"}),u&&{body:u}),(m=this.fetchOptions)!==null&&m!==void 0?m:{}),(w=r.fetchOptions)!==null&&w!==void 0?w:{}),url:c,timeout:r.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:s,retryCount:m}){let w={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),w[this.idempotencyHeader]=e.idempotencyKey);const r=await this.authHeaders(e);let x=id([w,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(m)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),bK()),this._options.defaultHeaders,s,e.headers,r]);return this.validateHeaders(x),x.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const s=id([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&s.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:TK(e)}:this.encoder({body:e,headers:s})}}c0.DEFAULT_TIMEOUT=6e4;class vn extends c0{constructor(){super(...arguments),this.interactions=new NR(this)}}MR=vn;vn.GeminiNextGenAPIClient=MR;vn.GeminiNextGenAPIClientError=gr;vn.APIError=ts;vn.APIConnectionError=u0;vn.APIConnectionTimeoutError=AR;vn.APIUserAbortError=k1;vn.NotFoundError=vR;vn.ConflictError=mR;vn.RateLimitError=xR;vn.BadRequestError=fR;vn.AuthenticationError=pR;vn.InternalServerError=wR;vn.PermissionDeniedError=gR;vn.UnprocessableEntityError=yR;vn.toFile=RK;vn.Interactions=NR;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YK(t,e){const n={},s=D(t,["name"]);return s!=null&&G(n,["_url","name"],s),n}function XK(t,e){const n={},s=D(t,["name"]);return s!=null&&G(n,["_url","name"],s),n}function WK(t,e){const n={},s=D(t,["sdkHttpResponse"]);return s!=null&&G(n,["sdkHttpResponse"],s),n}function KK(t,e){const n={},s=D(t,["sdkHttpResponse"]);return s!=null&&G(n,["sdkHttpResponse"],s),n}function JK(t,e,n){const s={};if(D(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const m=D(t,["tunedModelDisplayName"]);if(e!==void 0&&m!=null&&G(e,["displayName"],m),D(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const w=D(t,["epochCount"]);e!==void 0&&w!=null&&G(e,["tuningTask","hyperparameters","epochCount"],w);const r=D(t,["learningRateMultiplier"]);if(r!=null&&G(s,["tuningTask","hyperparameters","learningRateMultiplier"],r),D(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(D(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(D(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const x=D(t,["batchSize"]);e!==void 0&&x!=null&&G(e,["tuningTask","hyperparameters","batchSize"],x);const i=D(t,["learningRate"]);if(e!==void 0&&i!=null&&G(e,["tuningTask","hyperparameters","learningRate"],i),D(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(D(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return s}function ZK(t,e,n){const s={};let m=D(n,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const u=D(t,["validationDataset"]);e!==void 0&&u!=null&&G(e,["supervisedTuningSpec"],jE(u))}else if(m==="PREFERENCE_TUNING"){const u=D(t,["validationDataset"]);e!==void 0&&u!=null&&G(e,["preferenceOptimizationSpec"],jE(u))}const w=D(t,["tunedModelDisplayName"]);e!==void 0&&w!=null&&G(e,["tunedModelDisplayName"],w);const r=D(t,["description"]);e!==void 0&&r!=null&&G(e,["description"],r);let x=D(n,["config","method"]);if(x===void 0&&(x="SUPERVISED_FINE_TUNING"),x==="SUPERVISED_FINE_TUNING"){const u=D(t,["epochCount"]);e!==void 0&&u!=null&&G(e,["supervisedTuningSpec","hyperParameters","epochCount"],u)}else if(x==="PREFERENCE_TUNING"){const u=D(t,["epochCount"]);e!==void 0&&u!=null&&G(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],u)}let i=D(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const u=D(t,["learningRateMultiplier"]);e!==void 0&&u!=null&&G(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],u)}else if(i==="PREFERENCE_TUNING"){const u=D(t,["learningRateMultiplier"]);e!==void 0&&u!=null&&G(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],u)}let a=D(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const u=D(t,["exportLastCheckpointOnly"]);e!==void 0&&u!=null&&G(e,["supervisedTuningSpec","exportLastCheckpointOnly"],u)}else if(a==="PREFERENCE_TUNING"){const u=D(t,["exportLastCheckpointOnly"]);e!==void 0&&u!=null&&G(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],u)}let p=D(n,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const u=D(t,["adapterSize"]);e!==void 0&&u!=null&&G(e,["supervisedTuningSpec","hyperParameters","adapterSize"],u)}else if(p==="PREFERENCE_TUNING"){const u=D(t,["adapterSize"]);e!==void 0&&u!=null&&G(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],u)}if(D(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(D(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const c=D(t,["labels"]);e!==void 0&&c!=null&&G(e,["labels"],c);const o=D(t,["beta"]);return e!==void 0&&o!=null&&G(e,["preferenceOptimizationSpec","hyperParameters","beta"],o),s}function $K(t,e){const n={},s=D(t,["baseModel"]);s!=null&&G(n,["baseModel"],s);const m=D(t,["preTunedModel"]);m!=null&&G(n,["preTunedModel"],m);const w=D(t,["trainingDataset"]);w!=null&&lJ(w);const r=D(t,["config"]);return r!=null&&JK(r,n),n}function qK(t,e){const n={},s=D(t,["baseModel"]);s!=null&&G(n,["baseModel"],s);const m=D(t,["preTunedModel"]);m!=null&&G(n,["preTunedModel"],m);const w=D(t,["trainingDataset"]);w!=null&&uJ(w,n,e);const r=D(t,["config"]);return r!=null&&ZK(r,n,e),n}function _K(t,e){const n={},s=D(t,["name"]);return s!=null&&G(n,["_url","name"],s),n}function eJ(t,e){const n={},s=D(t,["name"]);return s!=null&&G(n,["_url","name"],s),n}function tJ(t,e,n){const s={},m=D(t,["pageSize"]);e!==void 0&&m!=null&&G(e,["_query","pageSize"],m);const w=D(t,["pageToken"]);e!==void 0&&w!=null&&G(e,["_query","pageToken"],w);const r=D(t,["filter"]);return e!==void 0&&r!=null&&G(e,["_query","filter"],r),s}function iJ(t,e,n){const s={},m=D(t,["pageSize"]);e!==void 0&&m!=null&&G(e,["_query","pageSize"],m);const w=D(t,["pageToken"]);e!==void 0&&w!=null&&G(e,["_query","pageToken"],w);const r=D(t,["filter"]);return e!==void 0&&r!=null&&G(e,["_query","filter"],r),s}function nJ(t,e){const n={},s=D(t,["config"]);return s!=null&&tJ(s,n),n}function sJ(t,e){const n={},s=D(t,["config"]);return s!=null&&iJ(s,n),n}function rJ(t,e){const n={},s=D(t,["sdkHttpResponse"]);s!=null&&G(n,["sdkHttpResponse"],s);const m=D(t,["nextPageToken"]);m!=null&&G(n,["nextPageToken"],m);const w=D(t,["tunedModels"]);if(w!=null){let r=w;Array.isArray(r)&&(r=r.map(x=>RR(x))),G(n,["tuningJobs"],r)}return n}function aJ(t,e){const n={},s=D(t,["sdkHttpResponse"]);s!=null&&G(n,["sdkHttpResponse"],s);const m=D(t,["nextPageToken"]);m!=null&&G(n,["nextPageToken"],m);const w=D(t,["tuningJobs"]);if(w!=null){let r=w;Array.isArray(r)&&(r=r.map(x=>Q1(x))),G(n,["tuningJobs"],r)}return n}function oJ(t,e){const n={},s=D(t,["name"]);s!=null&&G(n,["model"],s);const m=D(t,["name"]);return m!=null&&G(n,["endpoint"],m),n}function lJ(t,e){const n={};if(D(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(D(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const s=D(t,["examples"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(w=>w)),G(n,["examples","examples"],m)}return n}function uJ(t,e,n){const s={};let m=D(n,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const r=D(t,["gcsUri"]);e!==void 0&&r!=null&&G(e,["supervisedTuningSpec","trainingDatasetUri"],r)}else if(m==="PREFERENCE_TUNING"){const r=D(t,["gcsUri"]);e!==void 0&&r!=null&&G(e,["preferenceOptimizationSpec","trainingDatasetUri"],r)}let w=D(n,["config","method"]);if(w===void 0&&(w="SUPERVISED_FINE_TUNING"),w==="SUPERVISED_FINE_TUNING"){const r=D(t,["vertexDatasetResource"]);e!==void 0&&r!=null&&G(e,["supervisedTuningSpec","trainingDatasetUri"],r)}else if(w==="PREFERENCE_TUNING"){const r=D(t,["vertexDatasetResource"]);e!==void 0&&r!=null&&G(e,["preferenceOptimizationSpec","trainingDatasetUri"],r)}if(D(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return s}function RR(t,e){const n={},s=D(t,["sdkHttpResponse"]);s!=null&&G(n,["sdkHttpResponse"],s);const m=D(t,["name"]);m!=null&&G(n,["name"],m);const w=D(t,["state"]);w!=null&&G(n,["state"],KM(w));const r=D(t,["createTime"]);r!=null&&G(n,["createTime"],r);const x=D(t,["tuningTask","startTime"]);x!=null&&G(n,["startTime"],x);const i=D(t,["tuningTask","completeTime"]);i!=null&&G(n,["endTime"],i);const a=D(t,["updateTime"]);a!=null&&G(n,["updateTime"],a);const p=D(t,["description"]);p!=null&&G(n,["description"],p);const c=D(t,["baseModel"]);c!=null&&G(n,["baseModel"],c);const o=D(t,["_self"]);return o!=null&&G(n,["tunedModel"],oJ(o)),n}function Q1(t,e){const n={},s=D(t,["sdkHttpResponse"]);s!=null&&G(n,["sdkHttpResponse"],s);const m=D(t,["name"]);m!=null&&G(n,["name"],m);const w=D(t,["state"]);w!=null&&G(n,["state"],KM(w));const r=D(t,["createTime"]);r!=null&&G(n,["createTime"],r);const x=D(t,["startTime"]);x!=null&&G(n,["startTime"],x);const i=D(t,["endTime"]);i!=null&&G(n,["endTime"],i);const a=D(t,["updateTime"]);a!=null&&G(n,["updateTime"],a);const p=D(t,["error"]);p!=null&&G(n,["error"],p);const c=D(t,["description"]);c!=null&&G(n,["description"],c);const o=D(t,["baseModel"]);o!=null&&G(n,["baseModel"],o);const u=D(t,["tunedModel"]);u!=null&&G(n,["tunedModel"],u);const l=D(t,["preTunedModel"]);l!=null&&G(n,["preTunedModel"],l);const d=D(t,["supervisedTuningSpec"]);d!=null&&G(n,["supervisedTuningSpec"],d);const f=D(t,["preferenceOptimizationSpec"]);f!=null&&G(n,["preferenceOptimizationSpec"],f);const h=D(t,["tuningDataStats"]);h!=null&&G(n,["tuningDataStats"],h);const A=D(t,["encryptionSpec"]);A!=null&&G(n,["encryptionSpec"],A);const g=D(t,["partnerModelTuningSpec"]);g!=null&&G(n,["partnerModelTuningSpec"],g);const v=D(t,["customBaseModel"]);v!=null&&G(n,["customBaseModel"],v);const y=D(t,["experiment"]);y!=null&&G(n,["experiment"],y);const C=D(t,["labels"]);C!=null&&G(n,["labels"],C);const b=D(t,["outputUri"]);b!=null&&G(n,["outputUri"],b);const T=D(t,["pipelineJob"]);T!=null&&G(n,["pipelineJob"],T);const S=D(t,["serviceAccount"]);S!=null&&G(n,["serviceAccount"],S);const F=D(t,["tunedModelDisplayName"]);F!=null&&G(n,["tunedModelDisplayName"],F);const B=D(t,["veoTuningSpec"]);return B!=null&&G(n,["veoTuningSpec"],B),n}function hJ(t,e){const n={},s=D(t,["sdkHttpResponse"]);s!=null&&G(n,["sdkHttpResponse"],s);const m=D(t,["name"]);m!=null&&G(n,["name"],m);const w=D(t,["metadata"]);w!=null&&G(n,["metadata"],w);const r=D(t,["done"]);r!=null&&G(n,["done"],r);const x=D(t,["error"]);return x!=null&&G(n,["error"],x),n}function jE(t,e){const n={},s=D(t,["gcsUri"]);s!=null&&G(n,["validationDatasetUri"],s);const m=D(t,["vertexDatasetResource"]);return m!=null&&G(n,["validationDatasetUri"],m),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cJ extends Va{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new nu(Ha.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var s;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const m={tunedModelName:n.baseModel};!((s=n.config)===null||s===void 0)&&s.preTunedModelCheckpointId&&(m.checkpointId=n.config.preTunedModelCheckpointId);const w=Object.assign(Object.assign({},n),{preTunedModel:m});return w.baseModel=void 0,await this.tuneInternal(w)}else{const m=Object.assign({},n);return await this.tuneInternal(m)}else{const m=Object.assign({},n),w=await this.tuneMldevInternal(m);let r="";return w.metadata!==void 0&&w.metadata.tunedModel!==void 0?r=w.metadata.tunedModel:w.name!==void 0&&w.name.includes("/operations/")&&(r=w.name.split("/operations/")[0]),{name:r,state:N1.JOB_STATE_QUEUED}}}}async getInternal(e){var n,s,m,w;let r,x="",i={};if(this.apiClient.isVertexAI()){const a=eJ(e);return x=_e("{name}",a._url),i=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:x,queryParams:i,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(c=>{const o=c;return o.sdkHttpResponse={headers:p.headers},o})),r.then(p=>Q1(p))}else{const a=_K(e);return x=_e("{name}",a._url),i=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:x,queryParams:i,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(m=e.config)===null||m===void 0?void 0:m.httpOptions,abortSignal:(w=e.config)===null||w===void 0?void 0:w.abortSignal}).then(p=>p.json().then(c=>{const o=c;return o.sdkHttpResponse={headers:p.headers},o})),r.then(p=>RR(p))}}async listInternal(e){var n,s,m,w;let r,x="",i={};if(this.apiClient.isVertexAI()){const a=sJ(e);return x=_e("tuningJobs",a._url),i=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:x,queryParams:i,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(c=>{const o=c;return o.sdkHttpResponse={headers:p.headers},o})),r.then(p=>{const c=aJ(p),o=new fE;return Object.assign(o,c),o})}else{const a=nJ(e);return x=_e("tunedModels",a._url),i=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:x,queryParams:i,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(m=e.config)===null||m===void 0?void 0:m.httpOptions,abortSignal:(w=e.config)===null||w===void 0?void 0:w.abortSignal}).then(p=>p.json().then(c=>{const o=c;return o.sdkHttpResponse={headers:p.headers},o})),r.then(p=>{const c=rJ(p),o=new fE;return Object.assign(o,c),o})}}async cancel(e){var n,s,m,w;let r,x="",i={};if(this.apiClient.isVertexAI()){const a=XK(e);return x=_e("{name}:cancel",a._url),i=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:x,queryParams:i,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(c=>{const o=c;return o.sdkHttpResponse={headers:p.headers},o})),r.then(p=>{const c=KK(p),o=new pE;return Object.assign(o,c),o})}else{const a=YK(e);return x=_e("{name}:cancel",a._url),i=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:x,queryParams:i,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(m=e.config)===null||m===void 0?void 0:m.httpOptions,abortSignal:(w=e.config)===null||w===void 0?void 0:w.abortSignal}).then(p=>p.json().then(c=>{const o=c;return o.sdkHttpResponse={headers:p.headers},o})),r.then(p=>{const c=WK(p),o=new pE;return Object.assign(o,c),o})}}async tuneInternal(e){var n,s;let m,w="",r={};if(this.apiClient.isVertexAI()){const x=qK(e,e);return w=_e("tuningJobs",x._url),r=x._query,delete x._url,delete x._query,m=this.apiClient.request({path:w,queryParams:r,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(i=>i.json().then(a=>{const p=a;return p.sdkHttpResponse={headers:i.headers},p})),m.then(i=>Q1(i))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,s;let m,w="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const x=$K(e);return w=_e("tunedModels",x._url),r=x._query,delete x._url,delete x._query,m=this.apiClient.request({path:w,queryParams:r,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(i=>i.json().then(a=>{const p=a;return p.sdkHttpResponse={headers:i.headers},p})),m.then(i=>hJ(i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dJ{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const AJ=1024*1024*8,fJ=3,pJ=1e3,gJ=2,Av="x-goog-upload-status";async function vJ(t,e,n){var s;const m=await IR(t,e,n),w=await(m==null?void 0:m.json());if(((s=m==null?void 0:m.headers)===null||s===void 0?void 0:s[Av])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return w.file}async function mJ(t,e,n){var s;const m=await IR(t,e,n),w=await(m==null?void 0:m.json());if(((s=m==null?void 0:m.headers)===null||s===void 0?void 0:s[Av])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const r=jM(w),x=new AC;return Object.assign(x,r),x}async function IR(t,e,n){var s,m;let w=0,r=0,x=new L1(new Response),i="upload";for(w=t.size;r<w;){const a=Math.min(AJ,w-r),p=t.slice(r,r+a);r+a>=w&&(i+=", finalize");let c=0,o=pJ;for(;c<fJ&&(x=await n.request({path:"",body:p,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":i,"X-Goog-Upload-Offset":String(r),"Content-Length":String(a)}}}),!(!((s=x==null?void 0:x.headers)===null||s===void 0)&&s[Av]));)c++,await xJ(o),o=o*gJ;if(r+=a,((m=x==null?void 0:x.headers)===null||m===void 0?void 0:m[Av])!=="active")break;if(w<=r)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return x}async function yJ(t){return{size:t.size,type:t.type}}function xJ(t){return new Promise(e=>setTimeout(e,t))}class wJ{async upload(e,n,s){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await vJ(e,n,s)}async uploadToFileSearchStore(e,n,s){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await mJ(e,n,s)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await yJ(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class CJ{create(e,n,s){return new bJ(e,n,s)}}class bJ{constructor(e,n,s){this.url=e,this.headers=n,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const VE="x-goog-api-key";class SJ{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(VE)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(VE,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const TJ="gl-node/";class EJ{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new vn({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const s=xj(e.httpOptions,e.vertexai,void 0,void 0);s&&(e.httpOptions?e.httpOptions.baseUrl=s:e.httpOptions={baseUrl:s}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const m=new SJ(this.apiKey);this.apiClient=new yW({auth:m,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:TJ+"web",uploader:new wJ,downloader:new dJ}),this.models=new kW(this.apiClient),this.live=new RW(this.apiClient,m,new CJ),this.batches=new JV(this.apiClient),this.chats=new Lz(this.models,this.apiClient),this.caches=new Bz(this.apiClient),this.files=new Gz(this.apiClient),this.operations=new HW(this.apiClient),this.authTokens=new tK(this.apiClient),this.tunings=new cJ(this.apiClient),this.fileSearchStores=new uK(this.apiClient)}}var JA={};let wy=null;const d0=()=>{if(!wy){const t=JA.API_KEY||"";try{wy=new EJ({apiKey:t})}catch(e){return console.error("Failed to initialize Gemini Client:",e),null}}return wy},wC=`
Role: You are "Ollie the Wise Owl," the Chief Education Officer for a kids' business app.

Target Audience: Children aged 7-12.

Your Personality:
1. Wise & Witty: You are smart about money but love a good joke.
2. Pun-lover: Use bird/flight puns sparingly (e.g., "flying high," "nest egg," "wingman").
3. Encouraging: Never say "That's wrong." Say "Good try, but look at it this way..."

Teaching Style:
- Use emojis in every response (, , ).
- Keep responses short (max 3 sentences).
- Explain complex finance terms using analogies involving forests, toys, or candy.

Context:
- The user is your "Student Partner." Treat them with respect.
- If they ask about non-business topics, gently steer them back to the game: "That sounds fun, but let's focus on growing our empire first!"
`,BJ=async(t,e=8)=>{const n=d0();if(!n||!JA.API_KEY)return"Hoot! I can't connect to my brain right now! (Missing API Key)";try{return(await n.models.generateContent({model:"gemini-2.5-flash",contents:`${wC}
      
      Task: Explain the concept of "${t}" to a ${e}-year-old kid.`})).text||"Hoot! I'm thinking..."}catch(s){return console.error("Gemini Error:",s),"Hoot! I lost my train of thought. Try again!"}},FJ=async(t,e,n,s)=>{const m=d0();if(!m||!JA.API_KEY)return"Great day of sales! ";try{return(await m.models.generateContent({model:"gemini-2.5-flash",contents:`${wC}
      
      Context: The student just ran a lemonade stand day.
      Data: Weather was ${t}, Price was $${e}, Sugar was ${n}g per cup. Sales were ${s} cups.
      
      Task: Give 1 sentence of specific feedback on why they sold this amount. Be funny but educational.`})).text||"Interesting strategy!"}catch(w){return console.error("Gemini Error:",w),"The customers were mysterious today! "}},PR=async(t,e)=>{const n=d0();if(!n||!JA.API_KEY)return"Hoot! Check your internet connection (or API Key). ";try{return(await n.chats.create({model:"gemini-2.5-flash",config:{systemInstruction:wC},history:t}).sendMessage({message:e})).text||"Hoot? I didn't catch that."}catch(s){return console.error("Gemini Chat Error:",s),"My feathers are ruffled! I couldn't reply right now."}},UR=async(t,e)=>{const n=d0();if(!n||!JA.API_KEY)return null;try{const m=await n.models.generateContent({model:"gemini-2.5-flash",contents:`Provide a summary and 3 key lessons for the book "${t}" by ${e}, specifically written for a child audience (approx 8-12 years old).`,config:{responseMimeType:"application/json",responseSchema:{type:lr.OBJECT,properties:{summary:{type:lr.STRING,description:"A paragraph summarizing the book for a child."},keyLessons:{type:lr.ARRAY,items:{type:lr.STRING},description:"An array of exactly 3 simple bullet points teaching the core concepts."}}}}});return m.text?JSON.parse(m.text):null}catch(s){return console.error("Gemini Book Gen Error:",s),null}};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var j1=function(t,e){return j1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var m in s)Object.prototype.hasOwnProperty.call(s,m)&&(n[m]=s[m])},j1(t,e)};function Or(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");j1(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var V1=function(){return V1=Object.assign||function(e){for(var n,s=1,m=arguments.length;s<m;s++){n=arguments[s];for(var w in n)Object.prototype.hasOwnProperty.call(n,w)&&(e[w]=n[w])}return e},V1.apply(this,arguments)};function $n(t,e,n,s){function m(w){return w instanceof n?w:new n(function(r){r(w)})}return new(n||(n=Promise))(function(w,r){function x(p){try{a(s.next(p))}catch(c){r(c)}}function i(p){try{a(s.throw(p))}catch(c){r(c)}}function a(p){p.done?w(p.value):m(p.value).then(x,i)}a((s=s.apply(t,[])).next())})}function On(t,e){var n={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},s,m,w,r;return r={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(r[Symbol.iterator]=function(){return this}),r;function x(a){return function(p){return i([a,p])}}function i(a){if(s)throw new TypeError("Generator is already executing.");for(;n;)try{if(s=1,m&&(w=a[0]&2?m.return:a[0]?m.throw||((w=m.return)&&w.call(m),0):m.next)&&!(w=w.call(m,a[1])).done)return w;switch(m=0,w&&(a=[a[0]&2,w.value]),a[0]){case 0:case 1:w=a;break;case 4:return n.label++,{value:a[1],done:!1};case 5:n.label++,m=a[1],a=[0];continue;case 7:a=n.ops.pop(),n.trys.pop();continue;default:if(w=n.trys,!(w=w.length>0&&w[w.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!w||a[1]>w[0]&&a[1]<w[3])){n.label=a[1];break}if(a[0]===6&&n.label<w[1]){n.label=w[1],w=a;break}if(w&&n.label<w[2]){n.label=w[2],n.ops.push(a);break}w[2]&&n.ops.pop(),n.trys.pop();continue}a=e.call(t,n)}catch(p){a=[6,p],m=0}finally{s=w=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}function mp(t,e,n){if(arguments.length===2)for(var s=0,m=e.length,w;s<m;s++)(w||!(s in e))&&(w||(w=Array.prototype.slice.call(e,0,s)),w[s]=e[s]);return t.concat(w||e)}var Ga=function(){function t(e,n,s,m){this.left=e,this.top=n,this.width=s,this.height=m}return t.prototype.add=function(e,n,s,m){return new t(this.left+e,this.top+n,this.width+s,this.height+m)},t.fromClientRect=function(e,n){return new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height)},t.fromDOMRectList=function(e,n){var s=Array.from(n).find(function(m){return m.width!==0});return s?new t(s.left+e.windowBounds.left,s.top+e.windowBounds.top,s.width,s.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),A0=function(t,e){return Ga.fromClientRect(t,e.getBoundingClientRect())},NJ=function(t){var e=t.body,n=t.documentElement;if(!e||!n)throw new Error("Unable to get document size");var s=Math.max(Math.max(e.scrollWidth,n.scrollWidth),Math.max(e.offsetWidth,n.offsetWidth),Math.max(e.clientWidth,n.clientWidth)),m=Math.max(Math.max(e.scrollHeight,n.scrollHeight),Math.max(e.offsetHeight,n.offsetHeight),Math.max(e.clientHeight,n.clientHeight));return new Ga(0,0,s,m)},f0=function(t){for(var e=[],n=0,s=t.length;n<s;){var m=t.charCodeAt(n++);if(m>=55296&&m<=56319&&n<s){var w=t.charCodeAt(n++);(w&64512)===56320?e.push(((m&1023)<<10)+(w&1023)+65536):(e.push(m),n--)}else e.push(m)}return e},ki=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var s=[],m=-1,w="";++m<n;){var r=t[m];r<=65535?s.push(r):(r-=65536,s.push((r>>10)+55296,r%1024+56320)),(m+1===n||s.length>16384)&&(w+=String.fromCharCode.apply(String,s),s.length=0)}return w},zE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",LJ=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var yp=0;yp<zE.length;yp++)LJ[zE.charCodeAt(yp)]=yp;var YE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Cd=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var xp=0;xp<YE.length;xp++)Cd[YE.charCodeAt(xp)]=xp;var MJ=function(t){var e=t.length*.75,n=t.length,s,m=0,w,r,x,i;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var a=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),p=Array.isArray(a)?a:new Uint8Array(a);for(s=0;s<n;s+=4)w=Cd[t.charCodeAt(s)],r=Cd[t.charCodeAt(s+1)],x=Cd[t.charCodeAt(s+2)],i=Cd[t.charCodeAt(s+3)],p[m++]=w<<2|r>>4,p[m++]=(r&15)<<4|x>>2,p[m++]=(x&3)<<6|i&63;return a},RJ=function(t){for(var e=t.length,n=[],s=0;s<e;s+=2)n.push(t[s+1]<<8|t[s]);return n},IJ=function(t){for(var e=t.length,n=[],s=0;s<e;s+=4)n.push(t[s+3]<<24|t[s+2]<<16|t[s+1]<<8|t[s]);return n},Ql=5,CC=11,Cy=2,PJ=CC-Ql,DR=65536>>Ql,UJ=1<<Ql,by=UJ-1,DJ=1024>>Ql,OJ=DR+DJ,kJ=OJ,HJ=32,GJ=kJ+HJ,QJ=65536>>CC,jJ=1<<PJ,VJ=jJ-1,XE=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},zJ=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},YJ=function(t,e){var n=MJ(t),s=Array.isArray(n)?IJ(n):new Uint32Array(n),m=Array.isArray(n)?RJ(n):new Uint16Array(n),w=24,r=XE(m,w/2,s[4]/2),x=s[5]===2?XE(m,(w+s[4])/2):zJ(s,Math.ceil((w+s[4])/4));return new XJ(s[0],s[1],s[2],s[3],r,x)},XJ=function(){function t(e,n,s,m,w,r){this.initialValue=e,this.errorValue=n,this.highStart=s,this.highValueIndex=m,this.index=w,this.data=r}return t.prototype.get=function(e){var n;if(e>=0){if(e<55296||e>56319&&e<=65535)return n=this.index[e>>Ql],n=(n<<Cy)+(e&by),this.data[n];if(e<=65535)return n=this.index[DR+(e-55296>>Ql)],n=(n<<Cy)+(e&by),this.data[n];if(e<this.highStart)return n=GJ-QJ+(e>>CC),n=this.index[n],n+=e>>Ql&VJ,n=this.index[n],n=(n<<Cy)+(e&by),this.data[n];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),WE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",WJ=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var wp=0;wp<WE.length;wp++)WJ[WE.charCodeAt(wp)]=wp;var KJ="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",KE=50,JJ=1,OR=2,kR=3,ZJ=4,$J=5,JE=7,HR=8,ZE=9,Fo=10,z1=11,$E=12,Y1=13,qJ=14,bd=15,X1=16,Cp=17,nd=18,_J=19,qE=20,W1=21,sd=22,Sy=23,Uu=24,Fs=25,Sd=26,Td=27,Du=28,eZ=29,Bl=30,tZ=31,bp=32,Sp=33,K1=34,J1=35,Z1=36,bA=37,$1=38,fg=39,pg=40,Ty=41,GR=42,iZ=43,nZ=[9001,65288],QR="!",Dt="",Tp="",q1=YJ(KJ),ya=[Bl,Z1],_1=[JJ,OR,kR,$J],jR=[Fo,HR],_E=[Td,Sd],sZ=_1.concat(jR),e4=[$1,fg,pg,K1,J1],rZ=[bd,Y1],aZ=function(t,e){e===void 0&&(e="strict");var n=[],s=[],m=[];return t.forEach(function(w,r){var x=q1.get(w);if(x>KE?(m.push(!0),x-=KE):m.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(w)!==-1)return s.push(r),n.push(X1);if(x===ZJ||x===z1){if(r===0)return s.push(r),n.push(Bl);var i=n[r-1];return sZ.indexOf(i)===-1?(s.push(s[r-1]),n.push(i)):(s.push(r),n.push(Bl))}if(s.push(r),x===tZ)return n.push(e==="strict"?W1:bA);if(x===GR||x===eZ)return n.push(Bl);if(x===iZ)return w>=131072&&w<=196605||w>=196608&&w<=262141?n.push(bA):n.push(Bl);n.push(x)}),[s,n,m]},Ey=function(t,e,n,s){var m=s[n];if(Array.isArray(t)?t.indexOf(m)!==-1:t===m)for(var w=n;w<=s.length;){w++;var r=s[w];if(r===e)return!0;if(r!==Fo)break}if(m===Fo)for(var w=n;w>0;){w--;var x=s[w];if(Array.isArray(t)?t.indexOf(x)!==-1:t===x)for(var i=n;i<=s.length;){i++;var r=s[i];if(r===e)return!0;if(r!==Fo)break}if(x!==Fo)break}return!1},t4=function(t,e){for(var n=t;n>=0;){var s=e[n];if(s===Fo)n--;else return s}return 0},oZ=function(t,e,n,s,m){if(n[s]===0)return Dt;var w=s-1;if(Array.isArray(m)&&m[w]===!0)return Dt;var r=w-1,x=w+1,i=e[w],a=r>=0?e[r]:0,p=e[x];if(i===OR&&p===kR)return Dt;if(_1.indexOf(i)!==-1)return QR;if(_1.indexOf(p)!==-1||jR.indexOf(p)!==-1)return Dt;if(t4(w,e)===HR)return Tp;if(q1.get(t[w])===z1||(i===bp||i===Sp)&&q1.get(t[x])===z1||i===JE||p===JE||i===ZE||[Fo,Y1,bd].indexOf(i)===-1&&p===ZE||[Cp,nd,_J,Uu,Du].indexOf(p)!==-1||t4(w,e)===sd||Ey(Sy,sd,w,e)||Ey([Cp,nd],W1,w,e)||Ey($E,$E,w,e))return Dt;if(i===Fo)return Tp;if(i===Sy||p===Sy)return Dt;if(p===X1||i===X1)return Tp;if([Y1,bd,W1].indexOf(p)!==-1||i===qJ||a===Z1&&rZ.indexOf(i)!==-1||i===Du&&p===Z1||p===qE||ya.indexOf(p)!==-1&&i===Fs||ya.indexOf(i)!==-1&&p===Fs||i===Td&&[bA,bp,Sp].indexOf(p)!==-1||[bA,bp,Sp].indexOf(i)!==-1&&p===Sd||ya.indexOf(i)!==-1&&_E.indexOf(p)!==-1||_E.indexOf(i)!==-1&&ya.indexOf(p)!==-1||[Td,Sd].indexOf(i)!==-1&&(p===Fs||[sd,bd].indexOf(p)!==-1&&e[x+1]===Fs)||[sd,bd].indexOf(i)!==-1&&p===Fs||i===Fs&&[Fs,Du,Uu].indexOf(p)!==-1)return Dt;if([Fs,Du,Uu,Cp,nd].indexOf(p)!==-1)for(var c=w;c>=0;){var o=e[c];if(o===Fs)return Dt;if([Du,Uu].indexOf(o)!==-1)c--;else break}if([Td,Sd].indexOf(p)!==-1)for(var c=[Cp,nd].indexOf(i)!==-1?r:w;c>=0;){var o=e[c];if(o===Fs)return Dt;if([Du,Uu].indexOf(o)!==-1)c--;else break}if($1===i&&[$1,fg,K1,J1].indexOf(p)!==-1||[fg,K1].indexOf(i)!==-1&&[fg,pg].indexOf(p)!==-1||[pg,J1].indexOf(i)!==-1&&p===pg||e4.indexOf(i)!==-1&&[qE,Sd].indexOf(p)!==-1||e4.indexOf(p)!==-1&&i===Td||ya.indexOf(i)!==-1&&ya.indexOf(p)!==-1||i===Uu&&ya.indexOf(p)!==-1||ya.concat(Fs).indexOf(i)!==-1&&p===sd&&nZ.indexOf(t[x])===-1||ya.concat(Fs).indexOf(p)!==-1&&i===nd)return Dt;if(i===Ty&&p===Ty){for(var u=n[w],l=1;u>0&&(u--,e[u]===Ty);)l++;if(l%2!==0)return Dt}return i===bp&&p===Sp?Dt:Tp},lZ=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var n=aZ(t,e.lineBreak),s=n[0],m=n[1],w=n[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(m=m.map(function(x){return[Fs,Bl,GR].indexOf(x)!==-1?bA:x}));var r=e.wordBreak==="keep-all"?w.map(function(x,i){return x&&t[i]>=19968&&t[i]<=40959}):void 0;return[s,m,r]},uZ=function(){function t(e,n,s,m){this.codePoints=e,this.required=n===QR,this.start=s,this.end=m}return t.prototype.slice=function(){return ki.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),hZ=function(t,e){var n=f0(t),s=lZ(n,e),m=s[0],w=s[1],r=s[2],x=n.length,i=0,a=0;return{next:function(){if(a>=x)return{done:!0,value:null};for(var p=Dt;a<x&&(p=oZ(n,w,m,++a,r))===Dt;);if(p!==Dt||a===x){var c=new uZ(n,p,i,a);return i=a,{value:c,done:!1}}return{done:!0,value:null}}}},cZ=1,dZ=2,ZA=4,i4=8,fv=10,n4=47,Wd=92,AZ=9,fZ=32,Ep=34,rd=61,pZ=35,gZ=36,vZ=37,Bp=39,Fp=40,ad=41,mZ=95,ps=45,yZ=33,xZ=60,wZ=62,CZ=64,bZ=91,SZ=93,TZ=61,EZ=123,Np=63,BZ=125,s4=124,FZ=126,NZ=128,r4=65533,By=42,Rl=43,LZ=44,MZ=58,RZ=59,SA=46,IZ=0,PZ=8,UZ=11,DZ=14,OZ=31,kZ=127,zr=-1,VR=48,zR=97,YR=101,HZ=102,GZ=117,QZ=122,XR=65,WR=69,KR=70,jZ=85,VZ=90,Hn=function(t){return t>=VR&&t<=57},zZ=function(t){return t>=55296&&t<=57343},Ou=function(t){return Hn(t)||t>=XR&&t<=KR||t>=zR&&t<=HZ},YZ=function(t){return t>=zR&&t<=QZ},XZ=function(t){return t>=XR&&t<=VZ},WZ=function(t){return YZ(t)||XZ(t)},KZ=function(t){return t>=NZ},Lp=function(t){return t===fv||t===AZ||t===fZ},pv=function(t){return WZ(t)||KZ(t)||t===mZ},a4=function(t){return pv(t)||Hn(t)||t===ps},JZ=function(t){return t>=IZ&&t<=PZ||t===UZ||t>=DZ&&t<=OZ||t===kZ},mo=function(t,e){return t!==Wd?!1:e!==fv},Mp=function(t,e,n){return t===ps?pv(e)||mo(e,n):pv(t)?!0:!!(t===Wd&&mo(t,e))},Fy=function(t,e,n){return t===Rl||t===ps?Hn(e)?!0:e===SA&&Hn(n):Hn(t===SA?e:t)},ZZ=function(t){var e=0,n=1;(t[e]===Rl||t[e]===ps)&&(t[e]===ps&&(n=-1),e++);for(var s=[];Hn(t[e]);)s.push(t[e++]);var m=s.length?parseInt(ki.apply(void 0,s),10):0;t[e]===SA&&e++;for(var w=[];Hn(t[e]);)w.push(t[e++]);var r=w.length,x=r?parseInt(ki.apply(void 0,w),10):0;(t[e]===WR||t[e]===YR)&&e++;var i=1;(t[e]===Rl||t[e]===ps)&&(t[e]===ps&&(i=-1),e++);for(var a=[];Hn(t[e]);)a.push(t[e++]);var p=a.length?parseInt(ki.apply(void 0,a),10):0;return n*(m+x*Math.pow(10,-r))*Math.pow(10,i*p)},$Z={type:2},qZ={type:3},_Z={type:4},e$={type:13},t$={type:8},i$={type:21},n$={type:9},s$={type:10},r$={type:11},a$={type:12},o$={type:14},Rp={type:23},l$={type:1},u$={type:25},h$={type:24},c$={type:26},d$={type:27},A$={type:28},f$={type:29},p$={type:31},e2={type:32},JR=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(f0(e))},t.prototype.read=function(){for(var e=[],n=this.consumeToken();n!==e2;)e.push(n),n=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Ep:return this.consumeStringToken(Ep);case pZ:var n=this.peekCodePoint(0),s=this.peekCodePoint(1),m=this.peekCodePoint(2);if(a4(n)||mo(s,m)){var w=Mp(n,s,m)?dZ:cZ,r=this.consumeName();return{type:5,value:r,flags:w}}break;case gZ:if(this.peekCodePoint(0)===rd)return this.consumeCodePoint(),e$;break;case Bp:return this.consumeStringToken(Bp);case Fp:return $Z;case ad:return qZ;case By:if(this.peekCodePoint(0)===rd)return this.consumeCodePoint(),o$;break;case Rl:if(Fy(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case LZ:return _Z;case ps:var x=e,i=this.peekCodePoint(0),a=this.peekCodePoint(1);if(Fy(x,i,a))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(Mp(x,i,a))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(i===ps&&a===wZ)return this.consumeCodePoint(),this.consumeCodePoint(),h$;break;case SA:if(Fy(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case n4:if(this.peekCodePoint(0)===By)for(this.consumeCodePoint();;){var p=this.consumeCodePoint();if(p===By&&(p=this.consumeCodePoint(),p===n4))return this.consumeToken();if(p===zr)return this.consumeToken()}break;case MZ:return c$;case RZ:return d$;case xZ:if(this.peekCodePoint(0)===yZ&&this.peekCodePoint(1)===ps&&this.peekCodePoint(2)===ps)return this.consumeCodePoint(),this.consumeCodePoint(),u$;break;case CZ:var c=this.peekCodePoint(0),o=this.peekCodePoint(1),u=this.peekCodePoint(2);if(Mp(c,o,u)){var r=this.consumeName();return{type:7,value:r}}break;case bZ:return A$;case Wd:if(mo(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case SZ:return f$;case TZ:if(this.peekCodePoint(0)===rd)return this.consumeCodePoint(),t$;break;case EZ:return r$;case BZ:return a$;case GZ:case jZ:var l=this.peekCodePoint(0),d=this.peekCodePoint(1);return l===Rl&&(Ou(d)||d===Np)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case s4:if(this.peekCodePoint(0)===rd)return this.consumeCodePoint(),n$;if(this.peekCodePoint(0)===s4)return this.consumeCodePoint(),i$;break;case FZ:if(this.peekCodePoint(0)===rd)return this.consumeCodePoint(),s$;break;case zr:return e2}return Lp(e)?(this.consumeWhiteSpace(),p$):Hn(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):pv(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:ki(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],n=this.consumeCodePoint();Ou(n)&&e.length<6;)e.push(n),n=this.consumeCodePoint();for(var s=!1;n===Np&&e.length<6;)e.push(n),n=this.consumeCodePoint(),s=!0;if(s){var m=parseInt(ki.apply(void 0,e.map(function(i){return i===Np?VR:i})),16),w=parseInt(ki.apply(void 0,e.map(function(i){return i===Np?KR:i})),16);return{type:30,start:m,end:w}}var r=parseInt(ki.apply(void 0,e),16);if(this.peekCodePoint(0)===ps&&Ou(this.peekCodePoint(1))){this.consumeCodePoint(),n=this.consumeCodePoint();for(var x=[];Ou(n)&&x.length<6;)x.push(n),n=this.consumeCodePoint();var w=parseInt(ki.apply(void 0,x),16);return{type:30,start:r,end:w}}else return{type:30,start:r,end:r}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===Fp?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Fp?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===zr)return{type:22,value:""};var n=this.peekCodePoint(0);if(n===Bp||n===Ep){var s=this.consumeStringToken(this.consumeCodePoint());return s.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===zr||this.peekCodePoint(0)===ad)?(this.consumeCodePoint(),{type:22,value:s.value}):(this.consumeBadUrlRemnants(),Rp)}for(;;){var m=this.consumeCodePoint();if(m===zr||m===ad)return{type:22,value:ki.apply(void 0,e)};if(Lp(m))return this.consumeWhiteSpace(),this.peekCodePoint(0)===zr||this.peekCodePoint(0)===ad?(this.consumeCodePoint(),{type:22,value:ki.apply(void 0,e)}):(this.consumeBadUrlRemnants(),Rp);if(m===Ep||m===Bp||m===Fp||JZ(m))return this.consumeBadUrlRemnants(),Rp;if(m===Wd)if(mo(m,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Rp;else e.push(m)}},t.prototype.consumeWhiteSpace=function(){for(;Lp(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===ad||e===zr)return;mo(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var n=5e4,s="";e>0;){var m=Math.min(n,e);s+=ki.apply(void 0,this._value.splice(0,m)),e-=m}return this._value.shift(),s},t.prototype.consumeStringToken=function(e){var n="",s=0;do{var m=this._value[s];if(m===zr||m===void 0||m===e)return n+=this.consumeStringSlice(s),{type:0,value:n};if(m===fv)return this._value.splice(0,s),l$;if(m===Wd){var w=this._value[s+1];w!==zr&&w!==void 0&&(w===fv?(n+=this.consumeStringSlice(s),s=-1,this._value.shift()):mo(m,w)&&(n+=this.consumeStringSlice(s),n+=ki(this.consumeEscapedCodePoint()),s=-1))}s++}while(!0)},t.prototype.consumeNumber=function(){var e=[],n=ZA,s=this.peekCodePoint(0);for((s===Rl||s===ps)&&e.push(this.consumeCodePoint());Hn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());s=this.peekCodePoint(0);var m=this.peekCodePoint(1);if(s===SA&&Hn(m))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),n=i4;Hn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());s=this.peekCodePoint(0),m=this.peekCodePoint(1);var w=this.peekCodePoint(2);if((s===WR||s===YR)&&((m===Rl||m===ps)&&Hn(w)||Hn(m)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),n=i4;Hn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[ZZ(e),n]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),n=e[0],s=e[1],m=this.peekCodePoint(0),w=this.peekCodePoint(1),r=this.peekCodePoint(2);if(Mp(m,w,r)){var x=this.consumeName();return{type:15,number:n,flags:s,unit:x}}return m===vZ?(this.consumeCodePoint(),{type:16,number:n,flags:s}):{type:17,number:n,flags:s}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Ou(e)){for(var n=ki(e);Ou(this.peekCodePoint(0))&&n.length<6;)n+=ki(this.consumeCodePoint());Lp(this.peekCodePoint(0))&&this.consumeCodePoint();var s=parseInt(n,16);return s===0||zZ(s)||s>1114111?r4:s}return e===zr?r4:e},t.prototype.consumeName=function(){for(var e="";;){var n=this.consumeCodePoint();if(a4(n))e+=ki(n);else if(mo(n,this.peekCodePoint(0)))e+=ki(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(n),e}},t}(),ZR=function(){function t(e){this._tokens=e}return t.create=function(e){var n=new JR;return n.write(e),new t(n.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var n=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return n;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var n=this.consumeComponentValue();if(n.type===32)return e;e.push(n),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var n={type:e,values:[]},s=this.consumeToken();;){if(s.type===32||v$(s,e))return n;this.reconsumeToken(s),n.values.push(this.consumeComponentValue()),s=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var n={name:e.value,values:[],type:18};;){var s=this.consumeToken();if(s.type===32||s.type===3)return n;this.reconsumeToken(s),n.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?e2:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),$A=function(t){return t.type===15},gc=function(t){return t.type===17},si=function(t){return t.type===20},g$=function(t){return t.type===0},t2=function(t,e){return si(t)&&t.value===e},$R=function(t){return t.type!==31},tc=function(t){return t.type!==31&&t.type!==4},na=function(t){var e=[],n=[];return t.forEach(function(s){if(s.type===4){if(n.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(n),n=[];return}s.type!==31&&n.push(s)}),n.length&&e.push(n),e},v$=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},qo=function(t){return t.type===17||t.type===15},qi=function(t){return t.type===16||qo(t)},qR=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},Bn={type:17,number:0,flags:ZA},bC={type:16,number:50,flags:ZA},No={type:16,number:100,flags:ZA},Ed=function(t,e,n){var s=t[0],m=t[1];return[ci(s,e),ci(typeof m<"u"?m:s,n)]},ci=function(t,e){if(t.type===16)return t.number/100*e;if($A(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},_R="deg",e6="grad",t6="rad",i6="turn",p0={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case _R:return Math.PI*e.number/180;case e6:return Math.PI/200*e.number;case t6:return e.number;case i6:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},n6=function(t){return t.type===15&&(t.unit===_R||t.unit===e6||t.unit===t6||t.unit===i6)},s6=function(t){var e=t.filter(si).map(function(n){return n.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Bn,Bn];case"to top":case"bottom":return ur(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Bn,No];case"to right":case"left":return ur(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[No,No];case"to bottom":case"top":return ur(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[No,Bn];case"to left":case"right":return ur(270)}return 0},ur=function(t){return Math.PI*t/180},jo={name:"color",parse:function(t,e){if(e.type===18){var n=m$[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return n(t,e.values)}if(e.type===5){if(e.value.length===3){var s=e.value.substring(0,1),m=e.value.substring(1,2),w=e.value.substring(2,3);return Lo(parseInt(s+s,16),parseInt(m+m,16),parseInt(w+w,16),1)}if(e.value.length===4){var s=e.value.substring(0,1),m=e.value.substring(1,2),w=e.value.substring(2,3),r=e.value.substring(3,4);return Lo(parseInt(s+s,16),parseInt(m+m,16),parseInt(w+w,16),parseInt(r+r,16)/255)}if(e.value.length===6){var s=e.value.substring(0,2),m=e.value.substring(2,4),w=e.value.substring(4,6);return Lo(parseInt(s,16),parseInt(m,16),parseInt(w,16),1)}if(e.value.length===8){var s=e.value.substring(0,2),m=e.value.substring(2,4),w=e.value.substring(4,6),r=e.value.substring(6,8);return Lo(parseInt(s,16),parseInt(m,16),parseInt(w,16),parseInt(r,16)/255)}}if(e.type===20){var x=Ma[e.value.toUpperCase()];if(typeof x<"u")return x}return Ma.TRANSPARENT}},Vo=function(t){return(255&t)===0},cn=function(t){var e=255&t,n=255&t>>8,s=255&t>>16,m=255&t>>24;return e<255?"rgba("+m+","+s+","+n+","+e/255+")":"rgb("+m+","+s+","+n+")"},Lo=function(t,e,n,s){return(t<<24|e<<16|n<<8|Math.round(s*255)<<0)>>>0},o4=function(t,e){if(t.type===17)return t.number;if(t.type===16){var n=e===3?1:255;return e===3?t.number/100*n:Math.round(t.number/100*n)}return 0},l4=function(t,e){var n=e.filter(tc);if(n.length===3){var s=n.map(o4),m=s[0],w=s[1],r=s[2];return Lo(m,w,r,1)}if(n.length===4){var x=n.map(o4),m=x[0],w=x[1],r=x[2],i=x[3];return Lo(m,w,r,i)}return 0};function Ny(t,e,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(e-t)*n*6+t:n<1/2?e:n<2/3?(e-t)*6*(2/3-n)+t:t}var u4=function(t,e){var n=e.filter(tc),s=n[0],m=n[1],w=n[2],r=n[3],x=(s.type===17?ur(s.number):p0.parse(t,s))/(Math.PI*2),i=qi(m)?m.number/100:0,a=qi(w)?w.number/100:0,p=typeof r<"u"&&qi(r)?ci(r,1):1;if(i===0)return Lo(a*255,a*255,a*255,1);var c=a<=.5?a*(i+1):a+i-a*i,o=a*2-c,u=Ny(o,c,x+1/3),l=Ny(o,c,x),d=Ny(o,c,x-1/3);return Lo(u*255,l*255,d*255,p)},m$={hsl:u4,hsla:u4,rgb:l4,rgba:l4},Kd=function(t,e){return jo.parse(t,ZR.create(e).parseComponentValue())},Ma={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},y$={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(n){if(si(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},x$={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},g0=function(t,e){var n=jo.parse(t,e[0]),s=e[1];return s&&qi(s)?{color:n,stop:s}:{color:n,stop:null}},h4=function(t,e){var n=t[0],s=t[t.length-1];n.stop===null&&(n.stop=Bn),s.stop===null&&(s.stop=No);for(var m=[],w=0,r=0;r<t.length;r++){var x=t[r].stop;if(x!==null){var i=ci(x,e);i>w?m.push(i):m.push(w),w=i}else m.push(null)}for(var a=null,r=0;r<m.length;r++){var p=m[r];if(p===null)a===null&&(a=r);else if(a!==null){for(var c=r-a,o=m[a-1],u=(p-o)/(c+1),l=1;l<=c;l++)m[a+l-1]=u*l;a=null}}return t.map(function(d,f){var h=d.color;return{color:h,stop:Math.max(Math.min(1,m[f]/e),0)}})},w$=function(t,e,n){var s=e/2,m=n/2,w=ci(t[0],e)-s,r=m-ci(t[1],n);return(Math.atan2(r,w)+Math.PI*2)%(Math.PI*2)},C$=function(t,e,n){var s=typeof t=="number"?t:w$(t,e,n),m=Math.abs(e*Math.sin(s))+Math.abs(n*Math.cos(s)),w=e/2,r=n/2,x=m/2,i=Math.sin(s-Math.PI/2)*x,a=Math.cos(s-Math.PI/2)*x;return[m,w-a,w+a,r-i,r+i]},Nr=function(t,e){return Math.sqrt(t*t+e*e)},c4=function(t,e,n,s,m){var w=[[0,0],[0,e],[t,0],[t,e]];return w.reduce(function(r,x){var i=x[0],a=x[1],p=Nr(n-i,s-a);return(m?p<r.optimumDistance:p>r.optimumDistance)?{optimumCorner:x,optimumDistance:p}:r},{optimumDistance:m?1/0:-1/0,optimumCorner:null}).optimumCorner},b$=function(t,e,n,s,m){var w=0,r=0;switch(t.size){case 0:t.shape===0?w=r=Math.min(Math.abs(e),Math.abs(e-s),Math.abs(n),Math.abs(n-m)):t.shape===1&&(w=Math.min(Math.abs(e),Math.abs(e-s)),r=Math.min(Math.abs(n),Math.abs(n-m)));break;case 2:if(t.shape===0)w=r=Math.min(Nr(e,n),Nr(e,n-m),Nr(e-s,n),Nr(e-s,n-m));else if(t.shape===1){var x=Math.min(Math.abs(n),Math.abs(n-m))/Math.min(Math.abs(e),Math.abs(e-s)),i=c4(s,m,e,n,!0),a=i[0],p=i[1];w=Nr(a-e,(p-n)/x),r=x*w}break;case 1:t.shape===0?w=r=Math.max(Math.abs(e),Math.abs(e-s),Math.abs(n),Math.abs(n-m)):t.shape===1&&(w=Math.max(Math.abs(e),Math.abs(e-s)),r=Math.max(Math.abs(n),Math.abs(n-m)));break;case 3:if(t.shape===0)w=r=Math.max(Nr(e,n),Nr(e,n-m),Nr(e-s,n),Nr(e-s,n-m));else if(t.shape===1){var x=Math.max(Math.abs(n),Math.abs(n-m))/Math.max(Math.abs(e),Math.abs(e-s)),c=c4(s,m,e,n,!1),a=c[0],p=c[1];w=Nr(a-e,(p-n)/x),r=x*w}break}return Array.isArray(t.size)&&(w=ci(t.size[0],s),r=t.size.length===2?ci(t.size[1],m):w),[w,r]},S$=function(t,e){var n=ur(180),s=[];return na(e).forEach(function(m,w){if(w===0){var r=m[0];if(r.type===20&&r.value==="to"){n=s6(m);return}else if(n6(r)){n=p0.parse(t,r);return}}var x=g0(t,m);s.push(x)}),{angle:n,stops:s,type:1}},Ip=function(t,e){var n=ur(180),s=[];return na(e).forEach(function(m,w){if(w===0){var r=m[0];if(r.type===20&&["top","left","right","bottom"].indexOf(r.value)!==-1){n=s6(m);return}else if(n6(r)){n=(p0.parse(t,r)+ur(270))%ur(360);return}}var x=g0(t,m);s.push(x)}),{angle:n,stops:s,type:1}},T$=function(t,e){var n=ur(180),s=[],m=1,w=0,r=3,x=[];return na(e).forEach(function(i,a){var p=i[0];if(a===0){if(si(p)&&p.value==="linear"){m=1;return}else if(si(p)&&p.value==="radial"){m=2;return}}if(p.type===18){if(p.name==="from"){var c=jo.parse(t,p.values[0]);s.push({stop:Bn,color:c})}else if(p.name==="to"){var c=jo.parse(t,p.values[0]);s.push({stop:No,color:c})}else if(p.name==="color-stop"){var o=p.values.filter(tc);if(o.length===2){var c=jo.parse(t,o[1]),u=o[0];gc(u)&&s.push({stop:{type:16,number:u.number*100,flags:u.flags},color:c})}}}}),m===1?{angle:(n+ur(180))%ur(360),stops:s,type:m}:{size:r,shape:w,stops:s,position:x,type:m}},r6="closest-side",a6="farthest-side",o6="closest-corner",l6="farthest-corner",u6="circle",h6="ellipse",c6="cover",d6="contain",E$=function(t,e){var n=0,s=3,m=[],w=[];return na(e).forEach(function(r,x){var i=!0;if(x===0){var a=!1;i=r.reduce(function(c,o){if(a)if(si(o))switch(o.value){case"center":return w.push(bC),c;case"top":case"left":return w.push(Bn),c;case"right":case"bottom":return w.push(No),c}else(qi(o)||qo(o))&&w.push(o);else if(si(o))switch(o.value){case u6:return n=0,!1;case h6:return n=1,!1;case"at":return a=!0,!1;case r6:return s=0,!1;case c6:case a6:return s=1,!1;case d6:case o6:return s=2,!1;case l6:return s=3,!1}else if(qo(o)||qi(o))return Array.isArray(s)||(s=[]),s.push(o),!1;return c},i)}if(i){var p=g0(t,r);m.push(p)}}),{size:s,shape:n,stops:m,position:w,type:2}},Pp=function(t,e){var n=0,s=3,m=[],w=[];return na(e).forEach(function(r,x){var i=!0;if(x===0?i=r.reduce(function(p,c){if(si(c))switch(c.value){case"center":return w.push(bC),!1;case"top":case"left":return w.push(Bn),!1;case"right":case"bottom":return w.push(No),!1}else if(qi(c)||qo(c))return w.push(c),!1;return p},i):x===1&&(i=r.reduce(function(p,c){if(si(c))switch(c.value){case u6:return n=0,!1;case h6:return n=1,!1;case d6:case r6:return s=0,!1;case a6:return s=1,!1;case o6:return s=2,!1;case c6:case l6:return s=3,!1}else if(qo(c)||qi(c))return Array.isArray(s)||(s=[]),s.push(c),!1;return p},i)),i){var a=g0(t,r);m.push(a)}}),{size:s,shape:n,stops:m,position:w,type:2}},B$=function(t){return t.type===1},F$=function(t){return t.type===2},SC={name:"image",parse:function(t,e){if(e.type===22){var n={url:e.value,type:0};return t.cache.addImage(e.value),n}if(e.type===18){var s=A6[e.name];if(typeof s>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return s(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function N$(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!A6[t.name])}var A6={"linear-gradient":S$,"-moz-linear-gradient":Ip,"-ms-linear-gradient":Ip,"-o-linear-gradient":Ip,"-webkit-linear-gradient":Ip,"radial-gradient":E$,"-moz-radial-gradient":Pp,"-ms-radial-gradient":Pp,"-o-radial-gradient":Pp,"-webkit-radial-gradient":Pp,"-webkit-gradient":T$},L$={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var n=e[0];return n.type===20&&n.value==="none"?[]:e.filter(function(s){return tc(s)&&N$(s)}).map(function(s){return SC.parse(t,s)})}},M$={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(n){if(si(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},R$={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return na(e).map(function(n){return n.filter(qi)}).map(qR)}},I$={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return na(e).map(function(n){return n.filter(si).map(function(s){return s.value}).join(" ")}).map(P$)}},P$=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Mh;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(Mh||(Mh={}));var U$={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return na(e).map(function(n){return n.filter(D$)})}},D$=function(t){return si(t)||qi(t)},v0=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},O$=v0("top"),k$=v0("right"),H$=v0("bottom"),G$=v0("left"),m0=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,n){return qR(n.filter(qi))}}},Q$=m0("top-left"),j$=m0("top-right"),V$=m0("bottom-right"),z$=m0("bottom-left"),y0=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,n){switch(n){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Y$=y0("top"),X$=y0("right"),W$=y0("bottom"),K$=y0("left"),x0=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,n){return $A(n)?n.number:0}}},J$=x0("top"),Z$=x0("right"),$$=x0("bottom"),q$=x0("left"),_$={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},eq={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},tq={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(si).reduce(function(n,s){return n|iq(s.value)},0)}},iq=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},nq={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},sq={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},gv;(function(t){t.NORMAL="normal",t.STRICT="strict"})(gv||(gv={}));var rq={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return gv.STRICT;case"normal":default:return gv.NORMAL}}},aq={name:"line-height",initialValue:"normal",prefix:!1,type:4},d4=function(t,e){return si(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:qi(t)?ci(t,e):e},oq={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:SC.parse(t,e)}},lq={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},i2={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},w0=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},uq=w0("top"),hq=w0("right"),cq=w0("bottom"),dq=w0("left"),Aq={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(si).map(function(n){switch(n.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},fq={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},C0=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},pq=C0("top"),gq=C0("right"),vq=C0("bottom"),mq=C0("left"),yq={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},xq={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},wq={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&t2(e[0],"none")?[]:na(e).map(function(n){for(var s={color:Ma.TRANSPARENT,offsetX:Bn,offsetY:Bn,blur:Bn},m=0,w=0;w<n.length;w++){var r=n[w];qo(r)?(m===0?s.offsetX=r:m===1?s.offsetY=r:s.blur=r,m++):s.color=jo.parse(t,r)}return s})}},Cq={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},bq={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var n=Eq[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return n(e.values)}return null}},Sq=function(t){var e=t.filter(function(n){return n.type===17}).map(function(n){return n.number});return e.length===6?e:null},Tq=function(t){var e=t.filter(function(i){return i.type===17}).map(function(i){return i.number}),n=e[0],s=e[1];e[2],e[3];var m=e[4],w=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var r=e[12],x=e[13];return e[14],e[15],e.length===16?[n,s,m,w,r,x]:null},Eq={matrix:Sq,matrix3d:Tq},A4={type:16,number:50,flags:ZA},Bq=[A4,A4],Fq={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var n=e.filter(qi);return n.length!==2?Bq:[n[0],n[1]]}},Nq={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Jd;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(Jd||(Jd={}));var Lq={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return Jd.BREAK_ALL;case"keep-all":return Jd.KEEP_ALL;case"normal":default:return Jd.NORMAL}}},Mq={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(gc(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},f6={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},Rq={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return gc(e)?e.number:1}},Iq={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Pq={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(si).map(function(n){switch(n.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(n){return n!==0})}},Uq={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var n=[],s=[];return e.forEach(function(m){switch(m.type){case 20:case 0:n.push(m.value);break;case 17:n.push(m.number.toString());break;case 4:s.push(n.join(" ")),n.length=0;break}}),n.length&&s.push(n.join(" ")),s.map(function(m){return m.indexOf(" ")===-1?m:"'"+m+"'"})}},Dq={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Oq={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(gc(e))return e.number;if(si(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},kq={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(si).map(function(n){return n.value})}},Hq={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},nn=function(t,e){return(t&e)!==0},Gq={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var n=e[0];return n.type===20&&n.value==="none"?[]:e}},Qq={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var n=e[0];if(n.type===20&&n.value==="none")return null;for(var s=[],m=e.filter($R),w=0;w<m.length;w++){var r=m[w],x=m[w+1];if(r.type===20){var i=x&&gc(x)?x.number:1;s.push({counter:r.value,increment:i})}}return s}},jq={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var n=[],s=e.filter($R),m=0;m<s.length;m++){var w=s[m],r=s[m+1];if(si(w)&&w.value!=="none"){var x=r&&gc(r)?r.number:0;n.push({counter:w.value,reset:x})}}return n}},Vq={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter($A).map(function(n){return f6.parse(t,n)})}},zq={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var n=e[0];if(n.type===20&&n.value==="none")return null;var s=[],m=e.filter(g$);if(m.length%2!==0)return null;for(var w=0;w<m.length;w+=2){var r=m[w].value,x=m[w+1].value;s.push({open:r,close:x})}return s}},f4=function(t,e,n){if(!t)return"";var s=t[Math.min(e,t.length-1)];return s?n?s.open:s.close:""},Yq={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&t2(e[0],"none")?[]:na(e).map(function(n){for(var s={color:255,offsetX:Bn,offsetY:Bn,blur:Bn,spread:Bn,inset:!1},m=0,w=0;w<n.length;w++){var r=n[w];t2(r,"inset")?s.inset=!0:qo(r)?(m===0?s.offsetX=r:m===1?s.offsetY=r:m===2?s.blur=r:s.spread=r,m++):s.color=jo.parse(t,r)}return s})}},Xq={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var n=[0,1,2],s=[];return e.filter(si).forEach(function(m){switch(m.value){case"stroke":s.push(1);break;case"fill":s.push(0);break;case"markers":s.push(2);break}}),n.forEach(function(m){s.indexOf(m)===-1&&s.push(m)}),s}},Wq={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Kq={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return $A(e)?e.number:0}},Jq=function(){function t(e,n){var s,m;this.animationDuration=st(e,Vq,n.animationDuration),this.backgroundClip=st(e,y$,n.backgroundClip),this.backgroundColor=st(e,x$,n.backgroundColor),this.backgroundImage=st(e,L$,n.backgroundImage),this.backgroundOrigin=st(e,M$,n.backgroundOrigin),this.backgroundPosition=st(e,R$,n.backgroundPosition),this.backgroundRepeat=st(e,I$,n.backgroundRepeat),this.backgroundSize=st(e,U$,n.backgroundSize),this.borderTopColor=st(e,O$,n.borderTopColor),this.borderRightColor=st(e,k$,n.borderRightColor),this.borderBottomColor=st(e,H$,n.borderBottomColor),this.borderLeftColor=st(e,G$,n.borderLeftColor),this.borderTopLeftRadius=st(e,Q$,n.borderTopLeftRadius),this.borderTopRightRadius=st(e,j$,n.borderTopRightRadius),this.borderBottomRightRadius=st(e,V$,n.borderBottomRightRadius),this.borderBottomLeftRadius=st(e,z$,n.borderBottomLeftRadius),this.borderTopStyle=st(e,Y$,n.borderTopStyle),this.borderRightStyle=st(e,X$,n.borderRightStyle),this.borderBottomStyle=st(e,W$,n.borderBottomStyle),this.borderLeftStyle=st(e,K$,n.borderLeftStyle),this.borderTopWidth=st(e,J$,n.borderTopWidth),this.borderRightWidth=st(e,Z$,n.borderRightWidth),this.borderBottomWidth=st(e,$$,n.borderBottomWidth),this.borderLeftWidth=st(e,q$,n.borderLeftWidth),this.boxShadow=st(e,Yq,n.boxShadow),this.color=st(e,_$,n.color),this.direction=st(e,eq,n.direction),this.display=st(e,tq,n.display),this.float=st(e,nq,n.cssFloat),this.fontFamily=st(e,Uq,n.fontFamily),this.fontSize=st(e,Dq,n.fontSize),this.fontStyle=st(e,Hq,n.fontStyle),this.fontVariant=st(e,kq,n.fontVariant),this.fontWeight=st(e,Oq,n.fontWeight),this.letterSpacing=st(e,sq,n.letterSpacing),this.lineBreak=st(e,rq,n.lineBreak),this.lineHeight=st(e,aq,n.lineHeight),this.listStyleImage=st(e,oq,n.listStyleImage),this.listStylePosition=st(e,lq,n.listStylePosition),this.listStyleType=st(e,i2,n.listStyleType),this.marginTop=st(e,uq,n.marginTop),this.marginRight=st(e,hq,n.marginRight),this.marginBottom=st(e,cq,n.marginBottom),this.marginLeft=st(e,dq,n.marginLeft),this.opacity=st(e,Rq,n.opacity);var w=st(e,Aq,n.overflow);this.overflowX=w[0],this.overflowY=w[w.length>1?1:0],this.overflowWrap=st(e,fq,n.overflowWrap),this.paddingTop=st(e,pq,n.paddingTop),this.paddingRight=st(e,gq,n.paddingRight),this.paddingBottom=st(e,vq,n.paddingBottom),this.paddingLeft=st(e,mq,n.paddingLeft),this.paintOrder=st(e,Xq,n.paintOrder),this.position=st(e,xq,n.position),this.textAlign=st(e,yq,n.textAlign),this.textDecorationColor=st(e,Iq,(s=n.textDecorationColor)!==null&&s!==void 0?s:n.color),this.textDecorationLine=st(e,Pq,(m=n.textDecorationLine)!==null&&m!==void 0?m:n.textDecoration),this.textShadow=st(e,wq,n.textShadow),this.textTransform=st(e,Cq,n.textTransform),this.transform=st(e,bq,n.transform),this.transformOrigin=st(e,Fq,n.transformOrigin),this.visibility=st(e,Nq,n.visibility),this.webkitTextStrokeColor=st(e,Wq,n.webkitTextStrokeColor),this.webkitTextStrokeWidth=st(e,Kq,n.webkitTextStrokeWidth),this.wordBreak=st(e,Lq,n.wordBreak),this.zIndex=st(e,Mq,n.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return Vo(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return nn(this.display,4)||nn(this.display,33554432)||nn(this.display,268435456)||nn(this.display,536870912)||nn(this.display,67108864)||nn(this.display,134217728)},t}(),Zq=function(){function t(e,n){this.content=st(e,Gq,n.content),this.quotes=st(e,zq,n.quotes)}return t}(),p4=function(){function t(e,n){this.counterIncrement=st(e,Qq,n.counterIncrement),this.counterReset=st(e,jq,n.counterReset)}return t}(),st=function(t,e,n){var s=new JR,m=n!==null&&typeof n<"u"?n.toString():e.initialValue;s.write(m);var w=new ZR(s.read());switch(e.type){case 2:var r=w.parseComponentValue();return e.parse(t,si(r)?r.value:e.initialValue);case 0:return e.parse(t,w.parseComponentValue());case 1:return e.parse(t,w.parseComponentValues());case 4:return w.parseComponentValue();case 3:switch(e.format){case"angle":return p0.parse(t,w.parseComponentValue());case"color":return jo.parse(t,w.parseComponentValue());case"image":return SC.parse(t,w.parseComponentValue());case"length":var x=w.parseComponentValue();return qo(x)?x:Bn;case"length-percentage":var i=w.parseComponentValue();return qi(i)?i:Bn;case"time":return f6.parse(t,w.parseComponentValue())}break}},$q="data-html2canvas-debug",qq=function(t){var e=t.getAttribute($q);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},n2=function(t,e){var n=qq(t);return n===1||e===n},sa=function(){function t(e,n){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,n2(n,3))debugger;this.styles=new Jq(e,window.getComputedStyle(n,null)),a2(n)&&(this.styles.animationDuration.some(function(s){return s>0})&&(n.style.animationDuration="0s"),this.styles.transform!==null&&(n.style.transform="none")),this.bounds=A0(this.context,n),n2(n,4)&&(this.flags|=16)}return t}(),_q="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",g4="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Bd=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Up=0;Up<g4.length;Up++)Bd[g4.charCodeAt(Up)]=Up;var e_=function(t){var e=t.length*.75,n=t.length,s,m=0,w,r,x,i;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var a=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),p=Array.isArray(a)?a:new Uint8Array(a);for(s=0;s<n;s+=4)w=Bd[t.charCodeAt(s)],r=Bd[t.charCodeAt(s+1)],x=Bd[t.charCodeAt(s+2)],i=Bd[t.charCodeAt(s+3)],p[m++]=w<<2|r>>4,p[m++]=(r&15)<<4|x>>2,p[m++]=(x&3)<<6|i&63;return a},t_=function(t){for(var e=t.length,n=[],s=0;s<e;s+=2)n.push(t[s+1]<<8|t[s]);return n},i_=function(t){for(var e=t.length,n=[],s=0;s<e;s+=4)n.push(t[s+3]<<24|t[s+2]<<16|t[s+1]<<8|t[s]);return n},jl=5,TC=11,Ly=2,n_=TC-jl,p6=65536>>jl,s_=1<<jl,My=s_-1,r_=1024>>jl,a_=p6+r_,o_=a_,l_=32,u_=o_+l_,h_=65536>>TC,c_=1<<n_,d_=c_-1,v4=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},A_=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},f_=function(t,e){var n=e_(t),s=Array.isArray(n)?i_(n):new Uint32Array(n),m=Array.isArray(n)?t_(n):new Uint16Array(n),w=24,r=v4(m,w/2,s[4]/2),x=s[5]===2?v4(m,(w+s[4])/2):A_(s,Math.ceil((w+s[4])/4));return new p_(s[0],s[1],s[2],s[3],r,x)},p_=function(){function t(e,n,s,m,w,r){this.initialValue=e,this.errorValue=n,this.highStart=s,this.highValueIndex=m,this.index=w,this.data=r}return t.prototype.get=function(e){var n;if(e>=0){if(e<55296||e>56319&&e<=65535)return n=this.index[e>>jl],n=(n<<Ly)+(e&My),this.data[n];if(e<=65535)return n=this.index[p6+(e-55296>>jl)],n=(n<<Ly)+(e&My),this.data[n];if(e<this.highStart)return n=u_-h_+(e>>TC),n=this.index[n],n+=e>>jl&d_,n=this.index[n],n=(n<<Ly)+(e&My),this.data[n];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),m4="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g_=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Dp=0;Dp<m4.length;Dp++)g_[m4.charCodeAt(Dp)]=Dp;var v_=1,Ry=2,Iy=3,y4=4,x4=5,m_=7,w4=8,Py=9,Uy=10,C4=11,b4=12,S4=13,T4=14,Dy=15,y_=function(t){for(var e=[],n=0,s=t.length;n<s;){var m=t.charCodeAt(n++);if(m>=55296&&m<=56319&&n<s){var w=t.charCodeAt(n++);(w&64512)===56320?e.push(((m&1023)<<10)+(w&1023)+65536):(e.push(m),n--)}else e.push(m)}return e},x_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var s=[],m=-1,w="";++m<n;){var r=t[m];r<=65535?s.push(r):(r-=65536,s.push((r>>10)+55296,r%1024+56320)),(m+1===n||s.length>16384)&&(w+=String.fromCharCode.apply(String,s),s.length=0)}return w},w_=f_(_q),qs="",Oy="",C_=function(t){return w_.get(t)},b_=function(t,e,n){var s=n-2,m=e[s],w=e[n-1],r=e[n];if(w===Ry&&r===Iy)return qs;if(w===Ry||w===Iy||w===y4||r===Ry||r===Iy||r===y4)return Oy;if(w===w4&&[w4,Py,C4,b4].indexOf(r)!==-1||(w===C4||w===Py)&&(r===Py||r===Uy)||(w===b4||w===Uy)&&r===Uy||r===S4||r===x4||r===m_||w===v_)return qs;if(w===S4&&r===T4){for(;m===x4;)m=e[--s];if(m===T4)return qs}if(w===Dy&&r===Dy){for(var x=0;m===Dy;)x++,m=e[--s];if(x%2===0)return qs}return Oy},S_=function(t){var e=y_(t),n=e.length,s=0,m=0,w=e.map(C_);return{next:function(){if(s>=n)return{done:!0,value:null};for(var r=qs;s<n&&(r=b_(e,w,++s))===qs;);if(r!==qs||s===n){var x=x_.apply(null,e.slice(m,s));return m=s,{value:x,done:!1}}return{done:!0,value:null}}}},T_=function(t){for(var e=S_(t),n=[],s;!(s=e.next()).done;)s.value&&n.push(s.value.slice());return n},E_=function(t){var e=123;if(t.createRange){var n=t.createRange();if(n.getBoundingClientRect){var s=t.createElement("boundtest");s.style.height=e+"px",s.style.display="block",t.body.appendChild(s),n.selectNode(s);var m=n.getBoundingClientRect(),w=Math.round(m.height);if(t.body.removeChild(s),w===e)return!0}}return!1},B_=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var n=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var s=e.firstChild,m=f0(s.data).map(function(i){return ki(i)}),w=0,r={},x=m.every(function(i,a){n.setStart(s,w),n.setEnd(s,w+i.length);var p=n.getBoundingClientRect();w+=i.length;var c=p.x>r.x||p.y>r.y;return r=p,a===0?!0:c});return t.body.removeChild(e),x},F_=function(){return typeof new Image().crossOrigin<"u"},N_=function(){return typeof new XMLHttpRequest().responseType=="string"},L_=function(t){var e=new Image,n=t.createElement("canvas"),s=n.getContext("2d");if(!s)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{s.drawImage(e,0,0),n.toDataURL()}catch{return!1}return!0},E4=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},M_=function(t){var e=t.createElement("canvas"),n=100;e.width=n,e.height=n;var s=e.getContext("2d");if(!s)return Promise.reject(!1);s.fillStyle="rgb(0, 255, 0)",s.fillRect(0,0,n,n);var m=new Image,w=e.toDataURL();m.src=w;var r=s2(n,n,0,0,m);return s.fillStyle="red",s.fillRect(0,0,n,n),B4(r).then(function(x){s.drawImage(x,0,0);var i=s.getImageData(0,0,n,n).data;s.fillStyle="red",s.fillRect(0,0,n,n);var a=t.createElement("div");return a.style.backgroundImage="url("+w+")",a.style.height=n+"px",E4(i)?B4(s2(n,n,0,0,a)):Promise.reject(!1)}).then(function(x){return s.drawImage(x,0,0),E4(s.getImageData(0,0,n,n).data)}).catch(function(){return!1})},s2=function(t,e,n,s,m){var w="http://www.w3.org/2000/svg",r=document.createElementNS(w,"svg"),x=document.createElementNS(w,"foreignObject");return r.setAttributeNS(null,"width",t.toString()),r.setAttributeNS(null,"height",e.toString()),x.setAttributeNS(null,"width","100%"),x.setAttributeNS(null,"height","100%"),x.setAttributeNS(null,"x",n.toString()),x.setAttributeNS(null,"y",s.toString()),x.setAttributeNS(null,"externalResourcesRequired","true"),r.appendChild(x),x.appendChild(m),r},B4=function(t){return new Promise(function(e,n){var s=new Image;s.onload=function(){return e(s)},s.onerror=n,s.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Cn={get SUPPORT_RANGE_BOUNDS(){var t=E_(document);return Object.defineProperty(Cn,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=Cn.SUPPORT_RANGE_BOUNDS&&B_(document);return Object.defineProperty(Cn,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=L_(document);return Object.defineProperty(Cn,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?M_(document):Promise.resolve(!1);return Object.defineProperty(Cn,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=F_();return Object.defineProperty(Cn,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=N_();return Object.defineProperty(Cn,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Cn,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Cn,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},Zd=function(){function t(e,n){this.text=e,this.bounds=n}return t}(),R_=function(t,e,n,s){var m=U_(e,n),w=[],r=0;return m.forEach(function(x){if(n.textDecorationLine.length||x.trim().length>0)if(Cn.SUPPORT_RANGE_BOUNDS){var i=F4(s,r,x.length).getClientRects();if(i.length>1){var a=EC(x),p=0;a.forEach(function(o){w.push(new Zd(o,Ga.fromDOMRectList(t,F4(s,p+r,o.length).getClientRects()))),p+=o.length})}else w.push(new Zd(x,Ga.fromDOMRectList(t,i)))}else{var c=s.splitText(x.length);w.push(new Zd(x,I_(t,s))),s=c}else Cn.SUPPORT_RANGE_BOUNDS||(s=s.splitText(x.length));r+=x.length}),w},I_=function(t,e){var n=e.ownerDocument;if(n){var s=n.createElement("html2canvaswrapper");s.appendChild(e.cloneNode(!0));var m=e.parentNode;if(m){m.replaceChild(s,e);var w=A0(t,s);return s.firstChild&&m.replaceChild(s.firstChild,s),w}}return Ga.EMPTY},F4=function(t,e,n){var s=t.ownerDocument;if(!s)throw new Error("Node has no owner document");var m=s.createRange();return m.setStart(t,e),m.setEnd(t,e+n),m},EC=function(t){if(Cn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(n){return n.segment})}return T_(t)},P_=function(t,e){if(Cn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(t)).map(function(s){return s.segment})}return O_(t,e)},U_=function(t,e){return e.letterSpacing!==0?EC(t):P_(t,e)},D_=[32,160,4961,65792,65793,4153,4241],O_=function(t,e){for(var n=hZ(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),s=[],m,w=function(){if(m.value){var r=m.value.slice(),x=f0(r),i="";x.forEach(function(a){D_.indexOf(a)===-1?i+=ki(a):(i.length&&s.push(i),s.push(ki(a)),i="")}),i.length&&s.push(i)}};!(m=n.next()).done;)w();return s},k_=function(){function t(e,n,s){this.text=H_(n.data,s.textTransform),this.textBounds=R_(e,this.text,s,n)}return t}(),H_=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(G_,Q_);case 2:return t.toUpperCase();default:return t}},G_=/(^|\s|:|-|\(|\))([a-z])/g,Q_=function(t,e,n){return t.length>0?e+n.toUpperCase():t},g6=function(t){Or(e,t);function e(n,s){var m=t.call(this,n,s)||this;return m.src=s.currentSrc||s.src,m.intrinsicWidth=s.naturalWidth,m.intrinsicHeight=s.naturalHeight,m.context.cache.addImage(m.src),m}return e}(sa),v6=function(t){Or(e,t);function e(n,s){var m=t.call(this,n,s)||this;return m.canvas=s,m.intrinsicWidth=s.width,m.intrinsicHeight=s.height,m}return e}(sa),m6=function(t){Or(e,t);function e(n,s){var m=t.call(this,n,s)||this,w=new XMLSerializer,r=A0(n,s);return s.setAttribute("width",r.width+"px"),s.setAttribute("height",r.height+"px"),m.svg="data:image/svg+xml,"+encodeURIComponent(w.serializeToString(s)),m.intrinsicWidth=s.width.baseVal.value,m.intrinsicHeight=s.height.baseVal.value,m.context.cache.addImage(m.svg),m}return e}(sa),y6=function(t){Or(e,t);function e(n,s){var m=t.call(this,n,s)||this;return m.value=s.value,m}return e}(sa),r2=function(t){Or(e,t);function e(n,s){var m=t.call(this,n,s)||this;return m.start=s.start,m.reversed=typeof s.reversed=="boolean"&&s.reversed===!0,m}return e}(sa),j_=[{type:15,flags:0,unit:"px",number:3}],V_=[{type:16,flags:0,number:50}],z_=function(t){return t.width>t.height?new Ga(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new Ga(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},Y_=function(t){var e=t.type===X_?new Array(t.value.length+1).join(""):t.value;return e.length===0?t.placeholder||"":e},vv="checkbox",mv="radio",X_="password",N4=707406591,BC=function(t){Or(e,t);function e(n,s){var m=t.call(this,n,s)||this;switch(m.type=s.type.toLowerCase(),m.checked=s.checked,m.value=Y_(s),(m.type===vv||m.type===mv)&&(m.styles.backgroundColor=3739148031,m.styles.borderTopColor=m.styles.borderRightColor=m.styles.borderBottomColor=m.styles.borderLeftColor=2779096575,m.styles.borderTopWidth=m.styles.borderRightWidth=m.styles.borderBottomWidth=m.styles.borderLeftWidth=1,m.styles.borderTopStyle=m.styles.borderRightStyle=m.styles.borderBottomStyle=m.styles.borderLeftStyle=1,m.styles.backgroundClip=[0],m.styles.backgroundOrigin=[0],m.bounds=z_(m.bounds)),m.type){case vv:m.styles.borderTopRightRadius=m.styles.borderTopLeftRadius=m.styles.borderBottomRightRadius=m.styles.borderBottomLeftRadius=j_;break;case mv:m.styles.borderTopRightRadius=m.styles.borderTopLeftRadius=m.styles.borderBottomRightRadius=m.styles.borderBottomLeftRadius=V_;break}return m}return e}(sa),x6=function(t){Or(e,t);function e(n,s){var m=t.call(this,n,s)||this,w=s.options[s.selectedIndex||0];return m.value=w&&w.text||"",m}return e}(sa),w6=function(t){Or(e,t);function e(n,s){var m=t.call(this,n,s)||this;return m.value=s.value,m}return e}(sa),C6=function(t){Or(e,t);function e(n,s){var m=t.call(this,n,s)||this;m.src=s.src,m.width=parseInt(s.width,10)||0,m.height=parseInt(s.height,10)||0,m.backgroundColor=m.styles.backgroundColor;try{if(s.contentWindow&&s.contentWindow.document&&s.contentWindow.document.documentElement){m.tree=S6(n,s.contentWindow.document.documentElement);var w=s.contentWindow.document.documentElement?Kd(n,getComputedStyle(s.contentWindow.document.documentElement).backgroundColor):Ma.TRANSPARENT,r=s.contentWindow.document.body?Kd(n,getComputedStyle(s.contentWindow.document.body).backgroundColor):Ma.TRANSPARENT;m.backgroundColor=Vo(w)?Vo(r)?m.styles.backgroundColor:r:w}}catch{}return m}return e}(sa),W_=["OL","UL","MENU"],gg=function(t,e,n,s){for(var m=e.firstChild,w=void 0;m;m=w)if(w=m.nextSibling,T6(m)&&m.data.trim().length>0)n.textNodes.push(new k_(t,m,n.styles));else if(yh(m))if(N6(m)&&m.assignedNodes)m.assignedNodes().forEach(function(x){return gg(t,x,n,s)});else{var r=b6(t,m);r.styles.isVisible()&&(K_(m,r,s)?r.flags|=4:J_(r.styles)&&(r.flags|=2),W_.indexOf(m.tagName)!==-1&&(r.flags|=8),n.elements.push(r),m.slot,m.shadowRoot?gg(t,m.shadowRoot,r,s):!yv(m)&&!E6(m)&&!xv(m)&&gg(t,m,r,s))}},b6=function(t,e){return o2(e)?new g6(t,e):B6(e)?new v6(t,e):E6(e)?new m6(t,e):Z_(e)?new y6(t,e):$_(e)?new r2(t,e):q_(e)?new BC(t,e):xv(e)?new x6(t,e):yv(e)?new w6(t,e):F6(e)?new C6(t,e):new sa(t,e)},S6=function(t,e){var n=b6(t,e);return n.flags|=4,gg(t,e,n,n),n},K_=function(t,e,n){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||FC(t)&&n.styles.isTransparent()},J_=function(t){return t.isPositioned()||t.isFloating()},T6=function(t){return t.nodeType===Node.TEXT_NODE},yh=function(t){return t.nodeType===Node.ELEMENT_NODE},a2=function(t){return yh(t)&&typeof t.style<"u"&&!vg(t)},vg=function(t){return typeof t.className=="object"},Z_=function(t){return t.tagName==="LI"},$_=function(t){return t.tagName==="OL"},q_=function(t){return t.tagName==="INPUT"},__=function(t){return t.tagName==="HTML"},E6=function(t){return t.tagName==="svg"},FC=function(t){return t.tagName==="BODY"},B6=function(t){return t.tagName==="CANVAS"},L4=function(t){return t.tagName==="VIDEO"},o2=function(t){return t.tagName==="IMG"},F6=function(t){return t.tagName==="IFRAME"},M4=function(t){return t.tagName==="STYLE"},eee=function(t){return t.tagName==="SCRIPT"},yv=function(t){return t.tagName==="TEXTAREA"},xv=function(t){return t.tagName==="SELECT"},N6=function(t){return t.tagName==="SLOT"},R4=function(t){return t.tagName.indexOf("-")>0},tee=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var n=this.counters[e];return n&&n.length?n[n.length-1]:1},t.prototype.getCounterValues=function(e){var n=this.counters[e];return n||[]},t.prototype.pop=function(e){var n=this;e.forEach(function(s){return n.counters[s].pop()})},t.prototype.parse=function(e){var n=this,s=e.counterIncrement,m=e.counterReset,w=!0;s!==null&&s.forEach(function(x){var i=n.counters[x.counter];i&&x.increment!==0&&(w=!1,i.length||i.push(1),i[Math.max(0,i.length-1)]+=x.increment)});var r=[];return w&&m.forEach(function(x){var i=n.counters[x.counter];r.push(x.counter),i||(i=n.counters[x.counter]=[]),i.push(x.reset)}),r},t}(),I4={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},P4={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},iee={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},nee={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},ku=function(t,e,n,s,m,w){return t<e||t>n?TA(t,m,w.length>0):s.integers.reduce(function(r,x,i){for(;t>=x;)t-=x,r+=s.values[i];return r},"")+w},L6=function(t,e,n,s){var m="";do n||t--,m=s(t)+m,t/=e;while(t*e>=e);return m},Oi=function(t,e,n,s,m){var w=n-e+1;return(t<0?"-":"")+(L6(Math.abs(t),w,s,function(r){return ki(Math.floor(r%w)+e)})+m)},ml=function(t,e,n){n===void 0&&(n=". ");var s=e.length;return L6(Math.abs(t),s,!1,function(m){return e[Math.floor(m%s)]})+n},Zu=1,Ao=2,fo=4,Fd=8,xa=function(t,e,n,s,m,w){if(t<-9999||t>9999)return TA(t,4,m.length>0);var r=Math.abs(t),x=m;if(r===0)return e[0]+x;for(var i=0;r>0&&i<=4;i++){var a=r%10;a===0&&nn(w,Zu)&&x!==""?x=e[a]+x:a>1||a===1&&i===0||a===1&&i===1&&nn(w,Ao)||a===1&&i===1&&nn(w,fo)&&t>100||a===1&&i>1&&nn(w,Fd)?x=e[a]+(i>0?n[i-1]:"")+x:a===1&&i>0&&(x=n[i-1]+x),r=Math.floor(r/10)}return(t<0?s:"")+x},U4="",D4="",O4="",ky="",TA=function(t,e,n){var s=n?". ":"",m=n?"":"",w=n?", ":"",r=n?" ":"";switch(e){case 0:return""+r;case 1:return""+r;case 2:return""+r;case 5:var x=Oi(t,48,57,!0,s);return x.length<4?"0"+x:x;case 4:return ml(t,"",m);case 6:return ku(t,1,3999,I4,3,s).toLowerCase();case 7:return ku(t,1,3999,I4,3,s);case 8:return Oi(t,945,969,!1,s);case 9:return Oi(t,97,122,!1,s);case 10:return Oi(t,65,90,!1,s);case 11:return Oi(t,1632,1641,!0,s);case 12:case 49:return ku(t,1,9999,P4,3,s);case 35:return ku(t,1,9999,P4,3,s).toLowerCase();case 13:return Oi(t,2534,2543,!0,s);case 14:case 30:return Oi(t,6112,6121,!0,s);case 15:return ml(t,"",m);case 16:return ml(t,"",m);case 17:case 48:return xa(t,"",U4,"",m,Ao|fo|Fd);case 47:return xa(t,"",D4,"",m,Zu|Ao|fo|Fd);case 42:return xa(t,"",U4,"",m,Ao|fo|Fd);case 41:return xa(t,"",D4,"",m,Zu|Ao|fo|Fd);case 26:return xa(t,"","",O4,m,0);case 25:return xa(t,"","",O4,m,Zu|Ao|fo);case 31:return xa(t,"","",ky,w,Zu|Ao|fo);case 33:return xa(t,"","",ky,w,0);case 32:return xa(t,"","",ky,w,Zu|Ao|fo);case 18:return Oi(t,2406,2415,!0,s);case 20:return ku(t,1,19999,nee,3,s);case 21:return Oi(t,2790,2799,!0,s);case 22:return Oi(t,2662,2671,!0,s);case 22:return ku(t,1,10999,iee,3,s);case 23:return ml(t,"");case 24:return ml(t,"");case 27:return Oi(t,3302,3311,!0,s);case 28:return ml(t,"",m);case 29:return ml(t,"",m);case 34:return Oi(t,3792,3801,!0,s);case 37:return Oi(t,6160,6169,!0,s);case 38:return Oi(t,4160,4169,!0,s);case 39:return Oi(t,2918,2927,!0,s);case 40:return Oi(t,1776,1785,!0,s);case 43:return Oi(t,3046,3055,!0,s);case 44:return Oi(t,3174,3183,!0,s);case 45:return Oi(t,3664,3673,!0,s);case 46:return Oi(t,3872,3881,!0,s);case 3:default:return Oi(t,48,57,!0,s)}},M6="data-html2canvas-ignore",k4=function(){function t(e,n,s){if(this.context=e,this.options=s,this.scrolledElements=[],this.referenceElement=n,this.counters=new tee,this.quoteDepth=0,!n.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(n.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,n){var s=this,m=see(e,n);if(!m.contentWindow)return Promise.reject("Unable to find iframe window");var w=e.defaultView.pageXOffset,r=e.defaultView.pageYOffset,x=m.contentWindow,i=x.document,a=oee(m).then(function(){return $n(s,void 0,void 0,function(){var p,c;return On(this,function(o){switch(o.label){case 0:return this.scrolledElements.forEach(cee),x&&(x.scrollTo(n.left,n.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(x.scrollY!==n.top||x.scrollX!==n.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(x.scrollX-n.left,x.scrollY-n.top,0,0))),p=this.options.onclone,c=this.clonedReferenceElement,typeof c>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:i.fonts&&i.fonts.ready?[4,i.fonts.ready]:[3,2];case 1:o.sent(),o.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,aee(i)]:[3,4];case 3:o.sent(),o.label=4;case 4:return typeof p=="function"?[2,Promise.resolve().then(function(){return p(i,c)}).then(function(){return m})]:[2,m]}})})});return i.open(),i.write(uee(document.doctype)+"<html></html>"),hee(this.referenceElement.ownerDocument,w,r),i.replaceChild(i.adoptNode(this.documentElement),i.documentElement),i.close(),a},t.prototype.createElementClone=function(e){if(n2(e,2))debugger;if(B6(e))return this.createCanvasClone(e);if(L4(e))return this.createVideoClone(e);if(M4(e))return this.createStyleClone(e);var n=e.cloneNode(!1);return o2(n)&&(o2(e)&&e.currentSrc&&e.currentSrc!==e.src&&(n.src=e.currentSrc,n.srcset=""),n.loading==="lazy"&&(n.loading="eager")),R4(n)?this.createCustomElementClone(n):n},t.prototype.createCustomElementClone=function(e){var n=document.createElement("html2canvascustomelement");return Hy(e.style,n),n},t.prototype.createStyleClone=function(e){try{var n=e.sheet;if(n&&n.cssRules){var s=[].slice.call(n.cssRules,0).reduce(function(w,r){return r&&typeof r.cssText=="string"?w+r.cssText:w},""),m=e.cloneNode(!1);return m.textContent=s,m}}catch(w){if(this.context.logger.error("Unable to access cssRules property",w),w.name!=="SecurityError")throw w}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var n;if(this.options.inlineImages&&e.ownerDocument){var s=e.ownerDocument.createElement("img");try{return s.src=e.toDataURL(),s}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var m=e.cloneNode(!1);try{m.width=e.width,m.height=e.height;var w=e.getContext("2d"),r=m.getContext("2d");if(r)if(!this.options.allowTaint&&w)r.putImageData(w.getImageData(0,0,e.width,e.height),0,0);else{var x=(n=e.getContext("webgl2"))!==null&&n!==void 0?n:e.getContext("webgl");if(x){var i=x.getContextAttributes();(i==null?void 0:i.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}r.drawImage(e,0,0)}return m}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return m},t.prototype.createVideoClone=function(e){var n=e.ownerDocument.createElement("canvas");n.width=e.offsetWidth,n.height=e.offsetHeight;var s=n.getContext("2d");try{return s&&(s.drawImage(e,0,0,n.width,n.height),this.options.allowTaint||s.getImageData(0,0,n.width,n.height)),n}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var m=e.ownerDocument.createElement("canvas");return m.width=e.offsetWidth,m.height=e.offsetHeight,m},t.prototype.appendChildNode=function(e,n,s){(!yh(n)||!eee(n)&&!n.hasAttribute(M6)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(n)))&&(!this.options.copyStyles||!yh(n)||!M4(n))&&e.appendChild(this.cloneNode(n,s))},t.prototype.cloneChildNodes=function(e,n,s){for(var m=this,w=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;w;w=w.nextSibling)if(yh(w)&&N6(w)&&typeof w.assignedNodes=="function"){var r=w.assignedNodes();r.length&&r.forEach(function(x){return m.appendChildNode(n,x,s)})}else this.appendChildNode(n,w,s)},t.prototype.cloneNode=function(e,n){if(T6(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var s=e.ownerDocument.defaultView;if(s&&yh(e)&&(a2(e)||vg(e))){var m=this.createElementClone(e);m.style.transitionProperty="none";var w=s.getComputedStyle(e),r=s.getComputedStyle(e,":before"),x=s.getComputedStyle(e,":after");this.referenceElement===e&&a2(m)&&(this.clonedReferenceElement=m),FC(m)&&fee(m);var i=this.counters.parse(new p4(this.context,w)),a=this.resolvePseudoContent(e,m,r,$d.BEFORE);R4(e)&&(n=!0),L4(e)||this.cloneChildNodes(e,m,n),a&&m.insertBefore(a,m.firstChild);var p=this.resolvePseudoContent(e,m,x,$d.AFTER);return p&&m.appendChild(p),this.counters.pop(i),(w&&(this.options.copyStyles||vg(e))&&!F6(e)||n)&&Hy(w,m),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([m,e.scrollLeft,e.scrollTop]),(yv(e)||xv(e))&&(yv(m)||xv(m))&&(m.value=e.value),m}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,n,s,m){var w=this;if(s){var r=s.content,x=n.ownerDocument;if(!(!x||!r||r==="none"||r==="-moz-alt-content"||s.display==="none")){this.counters.parse(new p4(this.context,s));var i=new Zq(this.context,s),a=x.createElement("html2canvaspseudoelement");Hy(s,a),i.content.forEach(function(c){if(c.type===0)a.appendChild(x.createTextNode(c.value));else if(c.type===22){var o=x.createElement("img");o.src=c.value,o.style.opacity="1",a.appendChild(o)}else if(c.type===18){if(c.name==="attr"){var u=c.values.filter(si);u.length&&a.appendChild(x.createTextNode(e.getAttribute(u[0].value)||""))}else if(c.name==="counter"){var l=c.values.filter(tc),d=l[0],f=l[1];if(d&&si(d)){var h=w.counters.getCounterValue(d.value),A=f&&si(f)?i2.parse(w.context,f.value):3;a.appendChild(x.createTextNode(TA(h,A,!1)))}}else if(c.name==="counters"){var g=c.values.filter(tc),d=g[0],v=g[1],f=g[2];if(d&&si(d)){var y=w.counters.getCounterValues(d.value),C=f&&si(f)?i2.parse(w.context,f.value):3,b=v&&v.type===0?v.value:"",T=y.map(function(B){return TA(B,C,!1)}).join(b);a.appendChild(x.createTextNode(T))}}}else if(c.type===20)switch(c.value){case"open-quote":a.appendChild(x.createTextNode(f4(i.quotes,w.quoteDepth++,!0)));break;case"close-quote":a.appendChild(x.createTextNode(f4(i.quotes,--w.quoteDepth,!1)));break;default:a.appendChild(x.createTextNode(c.value))}}),a.className=l2+" "+u2;var p=m===$d.BEFORE?" "+l2:" "+u2;return vg(n)?n.className.baseValue+=p:n.className+=p,a}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),$d;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})($d||($d={}));var see=function(t,e){var n=t.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=e.width.toString(),n.height=e.height.toString(),n.scrolling="no",n.setAttribute(M6,"true"),t.body.appendChild(n),n},ree=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},aee=function(t){return Promise.all([].slice.call(t.images,0).map(ree))},oee=function(t){return new Promise(function(e,n){var s=t.contentWindow;if(!s)return n("No window assigned for iframe");var m=s.document;s.onload=t.onload=function(){s.onload=t.onload=null;var w=setInterval(function(){m.body.childNodes.length>0&&m.readyState==="complete"&&(clearInterval(w),e(t))},50)}})},lee=["all","d","content"],Hy=function(t,e){for(var n=t.length-1;n>=0;n--){var s=t.item(n);lee.indexOf(s)===-1&&e.style.setProperty(s,t.getPropertyValue(s))}return e},uee=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},hee=function(t,e,n){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||n!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,n)},cee=function(t){var e=t[0],n=t[1],s=t[2];e.scrollLeft=n,e.scrollTop=s},dee=":before",Aee=":after",l2="___html2canvas___pseudoelement_before",u2="___html2canvas___pseudoelement_after",H4=`{
    content: "" !important;
    display: none !important;
}`,fee=function(t){pee(t,"."+l2+dee+H4+`
         .`+u2+Aee+H4)},pee=function(t,e){var n=t.ownerDocument;if(n){var s=n.createElement("style");s.textContent=e,t.appendChild(s)}},R6=function(){function t(){}return t.getOrigin=function(e){var n=t._link;return n?(n.href=e,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),gee=function(){function t(e,n){this.context=e,this._options=n,this._cache={}}return t.prototype.addImage=function(e){var n=Promise.resolve();return this.has(e)||(Qy(e)||xee(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),n},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return $n(this,void 0,void 0,function(){var n,s,m,w,r=this;return On(this,function(x){switch(x.label){case 0:return n=R6.isSameOrigin(e),s=!Gy(e)&&this._options.useCORS===!0&&Cn.SUPPORT_CORS_IMAGES&&!n,m=!Gy(e)&&!n&&!Qy(e)&&typeof this._options.proxy=="string"&&Cn.SUPPORT_CORS_XHR&&!s,!n&&this._options.allowTaint===!1&&!Gy(e)&&!Qy(e)&&!m&&!s?[2]:(w=e,m?[4,this.proxy(w)]:[3,2]);case 1:w=x.sent(),x.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(i,a){var p=new Image;p.onload=function(){return i(p)},p.onerror=a,(wee(w)||s)&&(p.crossOrigin="anonymous"),p.src=w,p.complete===!0&&setTimeout(function(){return i(p)},500),r._options.imageTimeout>0&&setTimeout(function(){return a("Timed out ("+r._options.imageTimeout+"ms) loading image")},r._options.imageTimeout)})];case 3:return[2,x.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var n=this,s=this._options.proxy;if(!s)throw new Error("No proxy defined");var m=e.substring(0,256);return new Promise(function(w,r){var x=Cn.SUPPORT_RESPONSE_TYPE?"blob":"text",i=new XMLHttpRequest;i.onload=function(){if(i.status===200)if(x==="text")w(i.response);else{var c=new FileReader;c.addEventListener("load",function(){return w(c.result)},!1),c.addEventListener("error",function(o){return r(o)},!1),c.readAsDataURL(i.response)}else r("Failed to proxy resource "+m+" with status code "+i.status)},i.onerror=r;var a=s.indexOf("?")>-1?"&":"?";if(i.open("GET",""+s+a+"url="+encodeURIComponent(e)+"&responseType="+x),x!=="text"&&i instanceof XMLHttpRequest&&(i.responseType=x),n._options.imageTimeout){var p=n._options.imageTimeout;i.timeout=p,i.ontimeout=function(){return r("Timed out ("+p+"ms) proxying "+m)}}i.send()})},t}(),vee=/^data:image\/svg\+xml/i,mee=/^data:image\/.*;base64,/i,yee=/^data:image\/.*/i,xee=function(t){return Cn.SUPPORT_SVG_DRAWING||!Cee(t)},Gy=function(t){return yee.test(t)},wee=function(t){return mee.test(t)},Qy=function(t){return t.substr(0,4)==="blob"},Cee=function(t){return t.substr(-3).toLowerCase()==="svg"||vee.test(t)},et=function(){function t(e,n){this.type=0,this.x=e,this.y=n}return t.prototype.add=function(e,n){return new t(this.x+e,this.y+n)},t}(),Hu=function(t,e,n){return new et(t.x+(e.x-t.x)*n,t.y+(e.y-t.y)*n)},Op=function(){function t(e,n,s,m){this.type=1,this.start=e,this.startControl=n,this.endControl=s,this.end=m}return t.prototype.subdivide=function(e,n){var s=Hu(this.start,this.startControl,e),m=Hu(this.startControl,this.endControl,e),w=Hu(this.endControl,this.end,e),r=Hu(s,m,e),x=Hu(m,w,e),i=Hu(r,x,e);return n?new t(this.start,s,r,i):new t(i,x,w,this.end)},t.prototype.add=function(e,n){return new t(this.start.add(e,n),this.startControl.add(e,n),this.endControl.add(e,n),this.end.add(e,n))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),nr=function(t){return t.type===1},bee=function(){function t(e){var n=e.styles,s=e.bounds,m=Ed(n.borderTopLeftRadius,s.width,s.height),w=m[0],r=m[1],x=Ed(n.borderTopRightRadius,s.width,s.height),i=x[0],a=x[1],p=Ed(n.borderBottomRightRadius,s.width,s.height),c=p[0],o=p[1],u=Ed(n.borderBottomLeftRadius,s.width,s.height),l=u[0],d=u[1],f=[];f.push((w+i)/s.width),f.push((l+c)/s.width),f.push((r+d)/s.height),f.push((a+o)/s.height);var h=Math.max.apply(Math,f);h>1&&(w/=h,r/=h,i/=h,a/=h,c/=h,o/=h,l/=h,d/=h);var A=s.width-i,g=s.height-o,v=s.width-c,y=s.height-d,C=n.borderTopWidth,b=n.borderRightWidth,T=n.borderBottomWidth,S=n.borderLeftWidth,F=ci(n.paddingTop,e.bounds.width),B=ci(n.paddingRight,e.bounds.width),N=ci(n.paddingBottom,e.bounds.width),L=ci(n.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=w>0||r>0?yi(s.left+S/3,s.top+C/3,w-S/3,r-C/3,Jt.TOP_LEFT):new et(s.left+S/3,s.top+C/3),this.topRightBorderDoubleOuterBox=w>0||r>0?yi(s.left+A,s.top+C/3,i-b/3,a-C/3,Jt.TOP_RIGHT):new et(s.left+s.width-b/3,s.top+C/3),this.bottomRightBorderDoubleOuterBox=c>0||o>0?yi(s.left+v,s.top+g,c-b/3,o-T/3,Jt.BOTTOM_RIGHT):new et(s.left+s.width-b/3,s.top+s.height-T/3),this.bottomLeftBorderDoubleOuterBox=l>0||d>0?yi(s.left+S/3,s.top+y,l-S/3,d-T/3,Jt.BOTTOM_LEFT):new et(s.left+S/3,s.top+s.height-T/3),this.topLeftBorderDoubleInnerBox=w>0||r>0?yi(s.left+S*2/3,s.top+C*2/3,w-S*2/3,r-C*2/3,Jt.TOP_LEFT):new et(s.left+S*2/3,s.top+C*2/3),this.topRightBorderDoubleInnerBox=w>0||r>0?yi(s.left+A,s.top+C*2/3,i-b*2/3,a-C*2/3,Jt.TOP_RIGHT):new et(s.left+s.width-b*2/3,s.top+C*2/3),this.bottomRightBorderDoubleInnerBox=c>0||o>0?yi(s.left+v,s.top+g,c-b*2/3,o-T*2/3,Jt.BOTTOM_RIGHT):new et(s.left+s.width-b*2/3,s.top+s.height-T*2/3),this.bottomLeftBorderDoubleInnerBox=l>0||d>0?yi(s.left+S*2/3,s.top+y,l-S*2/3,d-T*2/3,Jt.BOTTOM_LEFT):new et(s.left+S*2/3,s.top+s.height-T*2/3),this.topLeftBorderStroke=w>0||r>0?yi(s.left+S/2,s.top+C/2,w-S/2,r-C/2,Jt.TOP_LEFT):new et(s.left+S/2,s.top+C/2),this.topRightBorderStroke=w>0||r>0?yi(s.left+A,s.top+C/2,i-b/2,a-C/2,Jt.TOP_RIGHT):new et(s.left+s.width-b/2,s.top+C/2),this.bottomRightBorderStroke=c>0||o>0?yi(s.left+v,s.top+g,c-b/2,o-T/2,Jt.BOTTOM_RIGHT):new et(s.left+s.width-b/2,s.top+s.height-T/2),this.bottomLeftBorderStroke=l>0||d>0?yi(s.left+S/2,s.top+y,l-S/2,d-T/2,Jt.BOTTOM_LEFT):new et(s.left+S/2,s.top+s.height-T/2),this.topLeftBorderBox=w>0||r>0?yi(s.left,s.top,w,r,Jt.TOP_LEFT):new et(s.left,s.top),this.topRightBorderBox=i>0||a>0?yi(s.left+A,s.top,i,a,Jt.TOP_RIGHT):new et(s.left+s.width,s.top),this.bottomRightBorderBox=c>0||o>0?yi(s.left+v,s.top+g,c,o,Jt.BOTTOM_RIGHT):new et(s.left+s.width,s.top+s.height),this.bottomLeftBorderBox=l>0||d>0?yi(s.left,s.top+y,l,d,Jt.BOTTOM_LEFT):new et(s.left,s.top+s.height),this.topLeftPaddingBox=w>0||r>0?yi(s.left+S,s.top+C,Math.max(0,w-S),Math.max(0,r-C),Jt.TOP_LEFT):new et(s.left+S,s.top+C),this.topRightPaddingBox=i>0||a>0?yi(s.left+Math.min(A,s.width-b),s.top+C,A>s.width+b?0:Math.max(0,i-b),Math.max(0,a-C),Jt.TOP_RIGHT):new et(s.left+s.width-b,s.top+C),this.bottomRightPaddingBox=c>0||o>0?yi(s.left+Math.min(v,s.width-S),s.top+Math.min(g,s.height-T),Math.max(0,c-b),Math.max(0,o-T),Jt.BOTTOM_RIGHT):new et(s.left+s.width-b,s.top+s.height-T),this.bottomLeftPaddingBox=l>0||d>0?yi(s.left+S,s.top+Math.min(y,s.height-T),Math.max(0,l-S),Math.max(0,d-T),Jt.BOTTOM_LEFT):new et(s.left+S,s.top+s.height-T),this.topLeftContentBox=w>0||r>0?yi(s.left+S+L,s.top+C+F,Math.max(0,w-(S+L)),Math.max(0,r-(C+F)),Jt.TOP_LEFT):new et(s.left+S+L,s.top+C+F),this.topRightContentBox=i>0||a>0?yi(s.left+Math.min(A,s.width+S+L),s.top+C+F,A>s.width+S+L?0:i-S+L,a-(C+F),Jt.TOP_RIGHT):new et(s.left+s.width-(b+B),s.top+C+F),this.bottomRightContentBox=c>0||o>0?yi(s.left+Math.min(v,s.width-(S+L)),s.top+Math.min(g,s.height+C+F),Math.max(0,c-(b+B)),o-(T+N),Jt.BOTTOM_RIGHT):new et(s.left+s.width-(b+B),s.top+s.height-(T+N)),this.bottomLeftContentBox=l>0||d>0?yi(s.left+S+L,s.top+y,Math.max(0,l-(S+L)),d-(T+N),Jt.BOTTOM_LEFT):new et(s.left+S+L,s.top+s.height-(T+N))}return t}(),Jt;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Jt||(Jt={}));var yi=function(t,e,n,s,m){var w=4*((Math.sqrt(2)-1)/3),r=n*w,x=s*w,i=t+n,a=e+s;switch(m){case Jt.TOP_LEFT:return new Op(new et(t,a),new et(t,a-x),new et(i-r,e),new et(i,e));case Jt.TOP_RIGHT:return new Op(new et(t,e),new et(t+r,e),new et(i,a-x),new et(i,a));case Jt.BOTTOM_RIGHT:return new Op(new et(i,e),new et(i,e+x),new et(t+r,a),new et(t,a));case Jt.BOTTOM_LEFT:default:return new Op(new et(i,a),new et(i-r,a),new et(t,e+x),new et(t,e))}},wv=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},See=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},Cv=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},Tee=function(){function t(e,n,s){this.offsetX=e,this.offsetY=n,this.matrix=s,this.type=0,this.target=6}return t}(),kp=function(){function t(e,n){this.path=e,this.target=n,this.type=1}return t}(),Eee=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),Bee=function(t){return t.type===0},I6=function(t){return t.type===1},Fee=function(t){return t.type===2},G4=function(t,e){return t.length===e.length?t.some(function(n,s){return n===e[s]}):!1},Nee=function(t,e,n,s,m){return t.map(function(w,r){switch(r){case 0:return w.add(e,n);case 1:return w.add(e+s,n);case 2:return w.add(e+s,n+m);case 3:return w.add(e,n+m)}return w})},P6=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),U6=function(){function t(e,n){if(this.container=e,this.parent=n,this.effects=[],this.curves=new bee(this.container),this.container.styles.opacity<1&&this.effects.push(new Eee(this.container.styles.opacity)),this.container.styles.transform!==null){var s=this.container.bounds.left+this.container.styles.transformOrigin[0].number,m=this.container.bounds.top+this.container.styles.transformOrigin[1].number,w=this.container.styles.transform;this.effects.push(new Tee(s,m,w))}if(this.container.styles.overflowX!==0){var r=wv(this.curves),x=Cv(this.curves);G4(r,x)?this.effects.push(new kp(r,6)):(this.effects.push(new kp(r,2)),this.effects.push(new kp(x,4)))}}return t.prototype.getEffects=function(e){for(var n=[2,3].indexOf(this.container.styles.position)===-1,s=this.parent,m=this.effects.slice(0);s;){var w=s.effects.filter(function(i){return!I6(i)});if(n||s.container.styles.position!==0||!s.parent){if(m.unshift.apply(m,w),n=[2,3].indexOf(s.container.styles.position)===-1,s.container.styles.overflowX!==0){var r=wv(s.curves),x=Cv(s.curves);G4(r,x)||m.unshift(new kp(x,6))}}else m.unshift.apply(m,w);s=s.parent}return m.filter(function(i){return nn(i.target,e)})},t}(),h2=function(t,e,n,s){t.container.elements.forEach(function(m){var w=nn(m.flags,4),r=nn(m.flags,2),x=new U6(m,t);nn(m.styles.display,2048)&&s.push(x);var i=nn(m.flags,8)?[]:s;if(w||r){var a=w||m.styles.isPositioned()?n:e,p=new P6(x);if(m.styles.isPositioned()||m.styles.opacity<1||m.styles.isTransformed()){var c=m.styles.zIndex.order;if(c<0){var o=0;a.negativeZIndex.some(function(l,d){return c>l.element.container.styles.zIndex.order?(o=d,!1):o>0}),a.negativeZIndex.splice(o,0,p)}else if(c>0){var u=0;a.positiveZIndex.some(function(l,d){return c>=l.element.container.styles.zIndex.order?(u=d+1,!1):u>0}),a.positiveZIndex.splice(u,0,p)}else a.zeroOrAutoZIndexOrTransformedOrOpacity.push(p)}else m.styles.isFloating()?a.nonPositionedFloats.push(p):a.nonPositionedInlineLevel.push(p);h2(x,p,w?p:n,i)}else m.styles.isInlineLevel()?e.inlineLevel.push(x):e.nonInlineLevel.push(x),h2(x,e,n,i);nn(m.flags,8)&&D6(m,i)})},D6=function(t,e){for(var n=t instanceof r2?t.start:1,s=t instanceof r2?t.reversed:!1,m=0;m<e.length;m++){var w=e[m];w.container instanceof y6&&typeof w.container.value=="number"&&w.container.value!==0&&(n=w.container.value),w.listValue=TA(n,w.container.styles.listStyleType,!0),n+=s?-1:1}},Lee=function(t){var e=new U6(t,null),n=new P6(e),s=[];return h2(e,n,n,s),D6(e.container,s),n},Q4=function(t,e){switch(e){case 0:return hr(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return hr(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return hr(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return hr(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},Mee=function(t,e){switch(e){case 0:return hr(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return hr(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return hr(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return hr(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},Ree=function(t,e){switch(e){case 0:return hr(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return hr(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return hr(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return hr(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},Iee=function(t,e){switch(e){case 0:return Hp(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return Hp(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return Hp(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return Hp(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},Hp=function(t,e){var n=[];return nr(t)?n.push(t.subdivide(.5,!1)):n.push(t),nr(e)?n.push(e.subdivide(.5,!0)):n.push(e),n},hr=function(t,e,n,s){var m=[];return nr(t)?m.push(t.subdivide(.5,!1)):m.push(t),nr(n)?m.push(n.subdivide(.5,!0)):m.push(n),nr(s)?m.push(s.subdivide(.5,!0).reverse()):m.push(s),nr(e)?m.push(e.subdivide(.5,!1).reverse()):m.push(e),m},O6=function(t){var e=t.bounds,n=t.styles;return e.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},bv=function(t){var e=t.styles,n=t.bounds,s=ci(e.paddingLeft,n.width),m=ci(e.paddingRight,n.width),w=ci(e.paddingTop,n.width),r=ci(e.paddingBottom,n.width);return n.add(s+e.borderLeftWidth,w+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+s+m),-(e.borderTopWidth+e.borderBottomWidth+w+r))},Pee=function(t,e){return t===0?e.bounds:t===2?bv(e):O6(e)},Uee=function(t,e){return t===0?e.bounds:t===2?bv(e):O6(e)},jy=function(t,e,n){var s=Pee($u(t.styles.backgroundOrigin,e),t),m=Uee($u(t.styles.backgroundClip,e),t),w=Dee($u(t.styles.backgroundSize,e),n,s),r=w[0],x=w[1],i=Ed($u(t.styles.backgroundPosition,e),s.width-r,s.height-x),a=Oee($u(t.styles.backgroundRepeat,e),i,w,s,m),p=Math.round(s.left+i[0]),c=Math.round(s.top+i[1]);return[a,p,c,r,x]},Gu=function(t){return si(t)&&t.value===Mh.AUTO},Gp=function(t){return typeof t=="number"},Dee=function(t,e,n){var s=e[0],m=e[1],w=e[2],r=t[0],x=t[1];if(!r)return[0,0];if(qi(r)&&x&&qi(x))return[ci(r,n.width),ci(x,n.height)];var i=Gp(w);if(si(r)&&(r.value===Mh.CONTAIN||r.value===Mh.COVER)){if(Gp(w)){var a=n.width/n.height;return a<w!=(r.value===Mh.COVER)?[n.width,n.width/w]:[n.height*w,n.height]}return[n.width,n.height]}var p=Gp(s),c=Gp(m),o=p||c;if(Gu(r)&&(!x||Gu(x))){if(p&&c)return[s,m];if(!i&&!o)return[n.width,n.height];if(o&&i){var u=p?s:m*w,l=c?m:s/w;return[u,l]}var d=p?s:n.width,f=c?m:n.height;return[d,f]}if(i){var h=0,A=0;return qi(r)?h=ci(r,n.width):qi(x)&&(A=ci(x,n.height)),Gu(r)?h=A*w:(!x||Gu(x))&&(A=h/w),[h,A]}var g=null,v=null;if(qi(r)?g=ci(r,n.width):x&&qi(x)&&(v=ci(x,n.height)),g!==null&&(!x||Gu(x))&&(v=p&&c?g/s*m:n.height),v!==null&&Gu(r)&&(g=p&&c?v/m*s:n.width),g!==null&&v!==null)return[g,v];throw new Error("Unable to calculate background-size for element")},$u=function(t,e){var n=t[e];return typeof n>"u"?t[0]:n},Oee=function(t,e,n,s,m){var w=e[0],r=e[1],x=n[0],i=n[1];switch(t){case 2:return[new et(Math.round(s.left),Math.round(s.top+r)),new et(Math.round(s.left+s.width),Math.round(s.top+r)),new et(Math.round(s.left+s.width),Math.round(i+s.top+r)),new et(Math.round(s.left),Math.round(i+s.top+r))];case 3:return[new et(Math.round(s.left+w),Math.round(s.top)),new et(Math.round(s.left+w+x),Math.round(s.top)),new et(Math.round(s.left+w+x),Math.round(s.height+s.top)),new et(Math.round(s.left+w),Math.round(s.height+s.top))];case 1:return[new et(Math.round(s.left+w),Math.round(s.top+r)),new et(Math.round(s.left+w+x),Math.round(s.top+r)),new et(Math.round(s.left+w+x),Math.round(s.top+r+i)),new et(Math.round(s.left+w),Math.round(s.top+r+i))];default:return[new et(Math.round(m.left),Math.round(m.top)),new et(Math.round(m.left+m.width),Math.round(m.top)),new et(Math.round(m.left+m.width),Math.round(m.height+m.top)),new et(Math.round(m.left),Math.round(m.height+m.top))]}},kee="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",j4="Hidden Text",Hee=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,n){var s=this._document.createElement("div"),m=this._document.createElement("img"),w=this._document.createElement("span"),r=this._document.body;s.style.visibility="hidden",s.style.fontFamily=e,s.style.fontSize=n,s.style.margin="0",s.style.padding="0",s.style.whiteSpace="nowrap",r.appendChild(s),m.src=kee,m.width=1,m.height=1,m.style.margin="0",m.style.padding="0",m.style.verticalAlign="baseline",w.style.fontFamily=e,w.style.fontSize=n,w.style.margin="0",w.style.padding="0",w.appendChild(this._document.createTextNode(j4)),s.appendChild(w),s.appendChild(m);var x=m.offsetTop-w.offsetTop+2;s.removeChild(w),s.appendChild(this._document.createTextNode(j4)),s.style.lineHeight="normal",m.style.verticalAlign="super";var i=m.offsetTop-s.offsetTop+2;return r.removeChild(s),{baseline:x,middle:i}},t.prototype.getMetrics=function(e,n){var s=e+" "+n;return typeof this._data[s]>"u"&&(this._data[s]=this.parseMetrics(e,n)),this._data[s]},t}(),k6=function(){function t(e,n){this.context=e,this.options=n}return t}(),Gee=1e4,Qee=function(t){Or(e,t);function e(n,s){var m=t.call(this,n,s)||this;return m._activeEffects=[],m.canvas=s.canvas?s.canvas:document.createElement("canvas"),m.ctx=m.canvas.getContext("2d"),s.canvas||(m.canvas.width=Math.floor(s.width*s.scale),m.canvas.height=Math.floor(s.height*s.scale),m.canvas.style.width=s.width+"px",m.canvas.style.height=s.height+"px"),m.fontMetrics=new Hee(document),m.ctx.scale(m.options.scale,m.options.scale),m.ctx.translate(-s.x,-s.y),m.ctx.textBaseline="bottom",m._activeEffects=[],m.context.logger.debug("Canvas renderer initialized ("+s.width+"x"+s.height+") with scale "+s.scale),m}return e.prototype.applyEffects=function(n){for(var s=this;this._activeEffects.length;)this.popEffect();n.forEach(function(m){return s.applyEffect(m)})},e.prototype.applyEffect=function(n){this.ctx.save(),Fee(n)&&(this.ctx.globalAlpha=n.opacity),Bee(n)&&(this.ctx.translate(n.offsetX,n.offsetY),this.ctx.transform(n.matrix[0],n.matrix[1],n.matrix[2],n.matrix[3],n.matrix[4],n.matrix[5]),this.ctx.translate(-n.offsetX,-n.offsetY)),I6(n)&&(this.path(n.path),this.ctx.clip()),this._activeEffects.push(n)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(n){return $n(this,void 0,void 0,function(){var s;return On(this,function(m){switch(m.label){case 0:return s=n.element.container.styles,s.isVisible()?[4,this.renderStackContent(n)]:[3,2];case 1:m.sent(),m.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(n){return $n(this,void 0,void 0,function(){return On(this,function(s){switch(s.label){case 0:if(nn(n.container.flags,16))debugger;return n.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(n)]:[3,3];case 1:return s.sent(),[4,this.renderNodeContent(n)];case 2:s.sent(),s.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(n,s,m){var w=this;if(s===0)this.ctx.fillText(n.text,n.bounds.left,n.bounds.top+m);else{var r=EC(n.text);r.reduce(function(x,i){return w.ctx.fillText(i,x,n.bounds.top+m),x+w.ctx.measureText(i).width},n.bounds.left)}},e.prototype.createFontStyle=function(n){var s=n.fontVariant.filter(function(r){return r==="normal"||r==="small-caps"}).join(""),m=Xee(n.fontFamily).join(", "),w=$A(n.fontSize)?""+n.fontSize.number+n.fontSize.unit:n.fontSize.number+"px";return[[n.fontStyle,s,n.fontWeight,w,m].join(" "),m,w]},e.prototype.renderTextNode=function(n,s){return $n(this,void 0,void 0,function(){var m,w,r,x,i,a,p,c,o=this;return On(this,function(u){return m=this.createFontStyle(s),w=m[0],r=m[1],x=m[2],this.ctx.font=w,this.ctx.direction=s.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",i=this.fontMetrics.getMetrics(r,x),a=i.baseline,p=i.middle,c=s.paintOrder,n.textBounds.forEach(function(l){c.forEach(function(d){switch(d){case 0:o.ctx.fillStyle=cn(s.color),o.renderTextWithLetterSpacing(l,s.letterSpacing,a);var f=s.textShadow;f.length&&l.text.trim().length&&(f.slice(0).reverse().forEach(function(h){o.ctx.shadowColor=cn(h.color),o.ctx.shadowOffsetX=h.offsetX.number*o.options.scale,o.ctx.shadowOffsetY=h.offsetY.number*o.options.scale,o.ctx.shadowBlur=h.blur.number,o.renderTextWithLetterSpacing(l,s.letterSpacing,a)}),o.ctx.shadowColor="",o.ctx.shadowOffsetX=0,o.ctx.shadowOffsetY=0,o.ctx.shadowBlur=0),s.textDecorationLine.length&&(o.ctx.fillStyle=cn(s.textDecorationColor||s.color),s.textDecorationLine.forEach(function(h){switch(h){case 1:o.ctx.fillRect(l.bounds.left,Math.round(l.bounds.top+a),l.bounds.width,1);break;case 2:o.ctx.fillRect(l.bounds.left,Math.round(l.bounds.top),l.bounds.width,1);break;case 3:o.ctx.fillRect(l.bounds.left,Math.ceil(l.bounds.top+p),l.bounds.width,1);break}}));break;case 1:s.webkitTextStrokeWidth&&l.text.trim().length&&(o.ctx.strokeStyle=cn(s.webkitTextStrokeColor),o.ctx.lineWidth=s.webkitTextStrokeWidth,o.ctx.lineJoin=window.chrome?"miter":"round",o.ctx.strokeText(l.text,l.bounds.left,l.bounds.top+a)),o.ctx.strokeStyle="",o.ctx.lineWidth=0,o.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(n,s,m){if(m&&n.intrinsicWidth>0&&n.intrinsicHeight>0){var w=bv(n),r=Cv(s);this.path(r),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(m,0,0,n.intrinsicWidth,n.intrinsicHeight,w.left,w.top,w.width,w.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(n){return $n(this,void 0,void 0,function(){var s,m,w,r,x,i,A,A,a,p,c,o,v,u,l,y,d,f,h,A,g,v,y;return On(this,function(C){switch(C.label){case 0:this.applyEffects(n.getEffects(4)),s=n.container,m=n.curves,w=s.styles,r=0,x=s.textNodes,C.label=1;case 1:return r<x.length?(i=x[r],[4,this.renderTextNode(i,w)]):[3,4];case 2:C.sent(),C.label=3;case 3:return r++,[3,1];case 4:if(!(s instanceof g6))return[3,8];C.label=5;case 5:return C.trys.push([5,7,,8]),[4,this.context.cache.match(s.src)];case 6:return A=C.sent(),this.renderReplacedElement(s,m,A),[3,8];case 7:return C.sent(),this.context.logger.error("Error loading image "+s.src),[3,8];case 8:if(s instanceof v6&&this.renderReplacedElement(s,m,s.canvas),!(s instanceof m6))return[3,12];C.label=9;case 9:return C.trys.push([9,11,,12]),[4,this.context.cache.match(s.svg)];case 10:return A=C.sent(),this.renderReplacedElement(s,m,A),[3,12];case 11:return C.sent(),this.context.logger.error("Error loading svg "+s.svg.substring(0,255)),[3,12];case 12:return s instanceof C6&&s.tree?(a=new e(this.context,{scale:this.options.scale,backgroundColor:s.backgroundColor,x:0,y:0,width:s.width,height:s.height}),[4,a.render(s.tree)]):[3,14];case 13:p=C.sent(),s.width&&s.height&&this.ctx.drawImage(p,0,0,s.width,s.height,s.bounds.left,s.bounds.top,s.bounds.width,s.bounds.height),C.label=14;case 14:if(s instanceof BC&&(c=Math.min(s.bounds.width,s.bounds.height),s.type===vv?s.checked&&(this.ctx.save(),this.path([new et(s.bounds.left+c*.39363,s.bounds.top+c*.79),new et(s.bounds.left+c*.16,s.bounds.top+c*.5549),new et(s.bounds.left+c*.27347,s.bounds.top+c*.44071),new et(s.bounds.left+c*.39694,s.bounds.top+c*.5649),new et(s.bounds.left+c*.72983,s.bounds.top+c*.23),new et(s.bounds.left+c*.84,s.bounds.top+c*.34085),new et(s.bounds.left+c*.39363,s.bounds.top+c*.79)]),this.ctx.fillStyle=cn(N4),this.ctx.fill(),this.ctx.restore()):s.type===mv&&s.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(s.bounds.left+c/2,s.bounds.top+c/2,c/4,0,Math.PI*2,!0),this.ctx.fillStyle=cn(N4),this.ctx.fill(),this.ctx.restore())),jee(s)&&s.value.length){switch(o=this.createFontStyle(w),v=o[0],u=o[1],l=this.fontMetrics.getMetrics(v,u).baseline,this.ctx.font=v,this.ctx.fillStyle=cn(w.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=zee(s.styles.textAlign),y=bv(s),d=0,s.styles.textAlign){case 1:d+=y.width/2;break;case 2:d+=y.width;break}f=y.add(d,0,0,-y.height/2+1),this.ctx.save(),this.path([new et(y.left,y.top),new et(y.left+y.width,y.top),new et(y.left+y.width,y.top+y.height),new et(y.left,y.top+y.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Zd(s.value,f),w.letterSpacing,l),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!nn(s.styles.display,2048))return[3,20];if(s.styles.listStyleImage===null)return[3,19];if(h=s.styles.listStyleImage,h.type!==0)return[3,18];A=void 0,g=h.url,C.label=15;case 15:return C.trys.push([15,17,,18]),[4,this.context.cache.match(g)];case 16:return A=C.sent(),this.ctx.drawImage(A,s.bounds.left-(A.width+10),s.bounds.top),[3,18];case 17:return C.sent(),this.context.logger.error("Error loading list-style-image "+g),[3,18];case 18:return[3,20];case 19:n.listValue&&s.styles.listStyleType!==-1&&(v=this.createFontStyle(w)[0],this.ctx.font=v,this.ctx.fillStyle=cn(w.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",y=new Ga(s.bounds.left,s.bounds.top+ci(s.styles.paddingTop,s.bounds.width),s.bounds.width,d4(w.lineHeight,w.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Zd(n.listValue,y),w.letterSpacing,d4(w.lineHeight,w.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),C.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(n){return $n(this,void 0,void 0,function(){var s,m,h,w,r,h,x,i,h,a,p,h,c,o,h,u,l,h,d,f,h;return On(this,function(A){switch(A.label){case 0:if(nn(n.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(n.element)];case 1:A.sent(),s=0,m=n.negativeZIndex,A.label=2;case 2:return s<m.length?(h=m[s],[4,this.renderStack(h)]):[3,5];case 3:A.sent(),A.label=4;case 4:return s++,[3,2];case 5:return[4,this.renderNodeContent(n.element)];case 6:A.sent(),w=0,r=n.nonInlineLevel,A.label=7;case 7:return w<r.length?(h=r[w],[4,this.renderNode(h)]):[3,10];case 8:A.sent(),A.label=9;case 9:return w++,[3,7];case 10:x=0,i=n.nonPositionedFloats,A.label=11;case 11:return x<i.length?(h=i[x],[4,this.renderStack(h)]):[3,14];case 12:A.sent(),A.label=13;case 13:return x++,[3,11];case 14:a=0,p=n.nonPositionedInlineLevel,A.label=15;case 15:return a<p.length?(h=p[a],[4,this.renderStack(h)]):[3,18];case 16:A.sent(),A.label=17;case 17:return a++,[3,15];case 18:c=0,o=n.inlineLevel,A.label=19;case 19:return c<o.length?(h=o[c],[4,this.renderNode(h)]):[3,22];case 20:A.sent(),A.label=21;case 21:return c++,[3,19];case 22:u=0,l=n.zeroOrAutoZIndexOrTransformedOrOpacity,A.label=23;case 23:return u<l.length?(h=l[u],[4,this.renderStack(h)]):[3,26];case 24:A.sent(),A.label=25;case 25:return u++,[3,23];case 26:d=0,f=n.positiveZIndex,A.label=27;case 27:return d<f.length?(h=f[d],[4,this.renderStack(h)]):[3,30];case 28:A.sent(),A.label=29;case 29:return d++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(n){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(n.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(n){this.ctx.beginPath(),this.formatPath(n),this.ctx.closePath()},e.prototype.formatPath=function(n){var s=this;n.forEach(function(m,w){var r=nr(m)?m.start:m;w===0?s.ctx.moveTo(r.x,r.y):s.ctx.lineTo(r.x,r.y),nr(m)&&s.ctx.bezierCurveTo(m.startControl.x,m.startControl.y,m.endControl.x,m.endControl.y,m.end.x,m.end.y)})},e.prototype.renderRepeat=function(n,s,m,w){this.path(n),this.ctx.fillStyle=s,this.ctx.translate(m,w),this.ctx.fill(),this.ctx.translate(-m,-w)},e.prototype.resizeImage=function(n,s,m){var w;if(n.width===s&&n.height===m)return n;var r=(w=this.canvas.ownerDocument)!==null&&w!==void 0?w:document,x=r.createElement("canvas");x.width=Math.max(1,s),x.height=Math.max(1,m);var i=x.getContext("2d");return i.drawImage(n,0,0,n.width,n.height,0,0,s,m),x},e.prototype.renderBackgroundImage=function(n){return $n(this,void 0,void 0,function(){var s,m,w,r,x,i;return On(this,function(a){switch(a.label){case 0:s=n.styles.backgroundImage.length-1,m=function(p){var c,o,u,F,M,P,L,R,T,l,F,M,P,L,R,d,f,h,A,g,v,y,C,b,T,S,F,B,N,L,R,I,M,P,U,z,W,Z,j,H,V,k;return On(this,function(X){switch(X.label){case 0:if(p.type!==0)return[3,5];c=void 0,o=p.url,X.label=1;case 1:return X.trys.push([1,3,,4]),[4,w.context.cache.match(o)];case 2:return c=X.sent(),[3,4];case 3:return X.sent(),w.context.logger.error("Error loading background-image "+o),[3,4];case 4:return c&&(u=jy(n,s,[c.width,c.height,c.width/c.height]),F=u[0],M=u[1],P=u[2],L=u[3],R=u[4],T=w.ctx.createPattern(w.resizeImage(c,L,R),"repeat"),w.renderRepeat(F,T,M,P)),[3,6];case 5:B$(p)?(l=jy(n,s,[null,null,null]),F=l[0],M=l[1],P=l[2],L=l[3],R=l[4],d=C$(p.angle,L,R),f=d[0],h=d[1],A=d[2],g=d[3],v=d[4],y=document.createElement("canvas"),y.width=L,y.height=R,C=y.getContext("2d"),b=C.createLinearGradient(h,g,A,v),h4(p.stops,f).forEach(function(Q){return b.addColorStop(Q.stop,cn(Q.color))}),C.fillStyle=b,C.fillRect(0,0,L,R),L>0&&R>0&&(T=w.ctx.createPattern(y,"repeat"),w.renderRepeat(F,T,M,P))):F$(p)&&(S=jy(n,s,[null,null,null]),F=S[0],B=S[1],N=S[2],L=S[3],R=S[4],I=p.position.length===0?[bC]:p.position,M=ci(I[0],L),P=ci(I[I.length-1],R),U=b$(p,M,P,L,R),z=U[0],W=U[1],z>0&&W>0&&(Z=w.ctx.createRadialGradient(B+M,N+P,0,B+M,N+P,z),h4(p.stops,z*2).forEach(function(Q){return Z.addColorStop(Q.stop,cn(Q.color))}),w.path(F),w.ctx.fillStyle=Z,z!==W?(j=n.bounds.left+.5*n.bounds.width,H=n.bounds.top+.5*n.bounds.height,V=W/z,k=1/V,w.ctx.save(),w.ctx.translate(j,H),w.ctx.transform(1,0,0,V,0,0),w.ctx.translate(-j,-H),w.ctx.fillRect(B,k*(N-H)+H,L,R*k),w.ctx.restore()):w.ctx.fill())),X.label=6;case 6:return s--,[2]}})},w=this,r=0,x=n.styles.backgroundImage.slice(0).reverse(),a.label=1;case 1:return r<x.length?(i=x[r],[5,m(i)]):[3,4];case 2:a.sent(),a.label=3;case 3:return r++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(n,s,m){return $n(this,void 0,void 0,function(){return On(this,function(w){return this.path(Q4(m,s)),this.ctx.fillStyle=cn(n),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(n,s,m,w){return $n(this,void 0,void 0,function(){var r,x;return On(this,function(i){switch(i.label){case 0:return s<3?[4,this.renderSolidBorder(n,m,w)]:[3,2];case 1:return i.sent(),[2];case 2:return r=Mee(w,m),this.path(r),this.ctx.fillStyle=cn(n),this.ctx.fill(),x=Ree(w,m),this.path(x),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(n){return $n(this,void 0,void 0,function(){var s,m,w,r,x,i,a,p,c=this;return On(this,function(o){switch(o.label){case 0:return this.applyEffects(n.getEffects(2)),s=n.container.styles,m=!Vo(s.backgroundColor)||s.backgroundImage.length,w=[{style:s.borderTopStyle,color:s.borderTopColor,width:s.borderTopWidth},{style:s.borderRightStyle,color:s.borderRightColor,width:s.borderRightWidth},{style:s.borderBottomStyle,color:s.borderBottomColor,width:s.borderBottomWidth},{style:s.borderLeftStyle,color:s.borderLeftColor,width:s.borderLeftWidth}],r=Vee($u(s.backgroundClip,0),n.curves),m||s.boxShadow.length?(this.ctx.save(),this.path(r),this.ctx.clip(),Vo(s.backgroundColor)||(this.ctx.fillStyle=cn(s.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(n.container)]):[3,2];case 1:o.sent(),this.ctx.restore(),s.boxShadow.slice(0).reverse().forEach(function(u){c.ctx.save();var l=wv(n.curves),d=u.inset?0:Gee,f=Nee(l,-d+(u.inset?1:-1)*u.spread.number,(u.inset?1:-1)*u.spread.number,u.spread.number*(u.inset?-2:2),u.spread.number*(u.inset?-2:2));u.inset?(c.path(l),c.ctx.clip(),c.mask(f)):(c.mask(l),c.ctx.clip(),c.path(f)),c.ctx.shadowOffsetX=u.offsetX.number+d,c.ctx.shadowOffsetY=u.offsetY.number,c.ctx.shadowColor=cn(u.color),c.ctx.shadowBlur=u.blur.number,c.ctx.fillStyle=u.inset?cn(u.color):"rgba(0,0,0,1)",c.ctx.fill(),c.ctx.restore()}),o.label=2;case 2:x=0,i=0,a=w,o.label=3;case 3:return i<a.length?(p=a[i],p.style!==0&&!Vo(p.color)&&p.width>0?p.style!==2?[3,5]:[4,this.renderDashedDottedBorder(p.color,p.width,x,n.curves,2)]:[3,11]):[3,13];case 4:return o.sent(),[3,11];case 5:return p.style!==3?[3,7]:[4,this.renderDashedDottedBorder(p.color,p.width,x,n.curves,3)];case 6:return o.sent(),[3,11];case 7:return p.style!==4?[3,9]:[4,this.renderDoubleBorder(p.color,p.width,x,n.curves)];case 8:return o.sent(),[3,11];case 9:return[4,this.renderSolidBorder(p.color,x,n.curves)];case 10:o.sent(),o.label=11;case 11:x++,o.label=12;case 12:return i++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(n,s,m,w,r){return $n(this,void 0,void 0,function(){var x,i,a,p,c,o,u,l,d,f,h,A,g,v,y,C,y,C;return On(this,function(b){return this.ctx.save(),x=Iee(w,m),i=Q4(w,m),r===2&&(this.path(i),this.ctx.clip()),nr(i[0])?(a=i[0].start.x,p=i[0].start.y):(a=i[0].x,p=i[0].y),nr(i[1])?(c=i[1].end.x,o=i[1].end.y):(c=i[1].x,o=i[1].y),m===0||m===2?u=Math.abs(a-c):u=Math.abs(p-o),this.ctx.beginPath(),r===3?this.formatPath(x):this.formatPath(i.slice(0,2)),l=s<3?s*3:s*2,d=s<3?s*2:s,r===3&&(l=s,d=s),f=!0,u<=l*2?f=!1:u<=l*2+d?(h=u/(2*l+d),l*=h,d*=h):(A=Math.floor((u+d)/(l+d)),g=(u-A*l)/(A-1),v=(u-(A+1)*l)/A,d=v<=0||Math.abs(d-g)<Math.abs(d-v)?g:v),f&&(r===3?this.ctx.setLineDash([0,l+d]):this.ctx.setLineDash([l,d])),r===3?(this.ctx.lineCap="round",this.ctx.lineWidth=s):this.ctx.lineWidth=s*2+1.1,this.ctx.strokeStyle=cn(n),this.ctx.stroke(),this.ctx.setLineDash([]),r===2&&(nr(i[0])&&(y=i[3],C=i[0],this.ctx.beginPath(),this.formatPath([new et(y.end.x,y.end.y),new et(C.start.x,C.start.y)]),this.ctx.stroke()),nr(i[1])&&(y=i[1],C=i[2],this.ctx.beginPath(),this.formatPath([new et(y.end.x,y.end.y),new et(C.start.x,C.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(n){return $n(this,void 0,void 0,function(){var s;return On(this,function(m){switch(m.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=cn(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),s=Lee(n),[4,this.renderStack(s)];case 1:return m.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(k6),jee=function(t){return t instanceof w6||t instanceof x6?!0:t instanceof BC&&t.type!==mv&&t.type!==vv},Vee=function(t,e){switch(t){case 0:return wv(e);case 2:return See(e);case 1:default:return Cv(e)}},zee=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},Yee=["-apple-system","system-ui"],Xee=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return Yee.indexOf(e)===-1}):t},Wee=function(t){Or(e,t);function e(n,s){var m=t.call(this,n,s)||this;return m.canvas=s.canvas?s.canvas:document.createElement("canvas"),m.ctx=m.canvas.getContext("2d"),m.options=s,m.canvas.width=Math.floor(s.width*s.scale),m.canvas.height=Math.floor(s.height*s.scale),m.canvas.style.width=s.width+"px",m.canvas.style.height=s.height+"px",m.ctx.scale(m.options.scale,m.options.scale),m.ctx.translate(-s.x,-s.y),m.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+s.width+"x"+s.height+" at "+s.x+","+s.y+") with scale "+s.scale),m}return e.prototype.render=function(n){return $n(this,void 0,void 0,function(){var s,m;return On(this,function(w){switch(w.label){case 0:return s=s2(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,n),[4,Kee(s)];case 1:return m=w.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=cn(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(m,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(k6),Kee=function(t){return new Promise(function(e,n){var s=new Image;s.onload=function(){e(s)},s.onerror=n,s.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Jee=function(){function t(e){var n=e.id,s=e.enabled;this.id=n,this.enabled=s,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,mp([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,mp([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,mp([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,mp([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),Zee=function(){function t(e,n){var s;this.windowBounds=n,this.instanceName="#"+t.instanceCount++,this.logger=new Jee({id:this.instanceName,enabled:e.logging}),this.cache=(s=e.cache)!==null&&s!==void 0?s:new gee(this,e)}return t.instanceCount=1,t}(),H6=function(t,e){return e===void 0&&(e={}),$ee(t,e)};typeof window<"u"&&R6.setContext(window);var $ee=function(t,e){return $n(void 0,void 0,void 0,function(){var n,s,m,w,r,x,i,a,p,c,o,u,l,d,f,h,A,g,v,y,b,C,b,T,S,F,B,N,L,R,I,M,P,U,z,W,Z,j,H,V;return On(this,function(k){switch(k.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(n=t.ownerDocument,!n)throw new Error("Element is not attached to a Document");if(s=n.defaultView,!s)throw new Error("Document is not attached to a Window");return m={allowTaint:(T=e.allowTaint)!==null&&T!==void 0?T:!1,imageTimeout:(S=e.imageTimeout)!==null&&S!==void 0?S:15e3,proxy:e.proxy,useCORS:(F=e.useCORS)!==null&&F!==void 0?F:!1},w=V1({logging:(B=e.logging)!==null&&B!==void 0?B:!0,cache:e.cache},m),r={windowWidth:(N=e.windowWidth)!==null&&N!==void 0?N:s.innerWidth,windowHeight:(L=e.windowHeight)!==null&&L!==void 0?L:s.innerHeight,scrollX:(R=e.scrollX)!==null&&R!==void 0?R:s.pageXOffset,scrollY:(I=e.scrollY)!==null&&I!==void 0?I:s.pageYOffset},x=new Ga(r.scrollX,r.scrollY,r.windowWidth,r.windowHeight),i=new Zee(w,x),a=(M=e.foreignObjectRendering)!==null&&M!==void 0?M:!1,p={allowTaint:(P=e.allowTaint)!==null&&P!==void 0?P:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:a,copyStyles:a},i.logger.debug("Starting document clone with size "+x.width+"x"+x.height+" scrolled to "+-x.left+","+-x.top),c=new k4(i,t,p),o=c.clonedReferenceElement,o?[4,c.toIFrame(n,x)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return u=k.sent(),l=FC(o)||__(o)?NJ(o.ownerDocument):A0(i,o),d=l.width,f=l.height,h=l.left,A=l.top,g=qee(i,o,e.backgroundColor),v={canvas:e.canvas,backgroundColor:g,scale:(z=(U=e.scale)!==null&&U!==void 0?U:s.devicePixelRatio)!==null&&z!==void 0?z:1,x:((W=e.x)!==null&&W!==void 0?W:0)+h,y:((Z=e.y)!==null&&Z!==void 0?Z:0)+A,width:(j=e.width)!==null&&j!==void 0?j:Math.ceil(d),height:(H=e.height)!==null&&H!==void 0?H:Math.ceil(f)},a?(i.logger.debug("Document cloned, using foreign object rendering"),b=new Wee(i,v),[4,b.render(o)]):[3,3];case 2:return y=k.sent(),[3,5];case 3:return i.logger.debug("Document cloned, element located at "+h+","+A+" with size "+d+"x"+f+" using computed rendering"),i.logger.debug("Starting DOM parsing"),C=S6(i,o),g===C.styles.backgroundColor&&(C.styles.backgroundColor=Ma.TRANSPARENT),i.logger.debug("Starting renderer for element at "+v.x+","+v.y+" with size "+v.width+"x"+v.height),b=new Qee(i,v),[4,b.render(C)];case 4:y=k.sent(),k.label=5;case 5:return(!((V=e.removeContainer)!==null&&V!==void 0)||V)&&(k4.destroy(u)||i.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),i.logger.debug("Finished rendering"),[2,y]}})})},qee=function(t,e,n){var s=e.ownerDocument,m=s.documentElement?Kd(t,getComputedStyle(s.documentElement).backgroundColor):Ma.TRANSPARENT,w=s.body?Kd(t,getComputedStyle(s.body).backgroundColor):Ma.TRANSPARENT,r=typeof n=="string"?Kd(t,n):n===null?Ma.TRANSPARENT:4294967295;return e===s.documentElement?Vo(m)?Vo(w)?r:w:m:r};const _ee=Object.freeze(Object.defineProperty({__proto__:null,default:H6},Symbol.toStringTag,{value:"Module"})),ete="modulepreload",tte=function(t){return"/"+t},V4={},c2=function(e,n,s){let m=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),x=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));m=Promise.allSettled(n.map(i=>{if(i=tte(i),i in V4)return;V4[i]=!0;const a=i.endsWith(".css"),p=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${p}`))return;const c=document.createElement("link");if(c.rel=a?"stylesheet":ete,a||(c.as="script"),c.crossOrigin="",c.href=i,x&&c.setAttribute("nonce",x),document.head.appendChild(c),a)return new Promise((o,u)=>{c.addEventListener("load",o),c.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${i}`)))})}))}function w(r){const x=new Event("vite:preloadError",{cancelable:!0});if(x.payload=r,window.dispatchEvent(x),!x.defaultPrevented)throw r}return m.then(r=>{for(const x of r||[])x.status==="rejected"&&w(x.reason);return e().catch(w)})};function Vt(t){"@babel/helpers - typeof";return Vt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vt(t)}var Gn=Uint8Array,Is=Uint16Array,NC=Int32Array,b0=new Gn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),S0=new Gn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),d2=new Gn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),G6=function(t,e){for(var n=new Is(31),s=0;s<31;++s)n[s]=e+=1<<t[s-1];for(var m=new NC(n[30]),s=1;s<30;++s)for(var w=n[s];w<n[s+1];++w)m[w]=w-n[s]<<5|s;return{b:n,r:m}},Q6=G6(b0,2),j6=Q6.b,A2=Q6.r;j6[28]=258,A2[258]=28;var V6=G6(S0,0),ite=V6.b,z4=V6.r,f2=new Is(32768);for(var pi=0;pi<32768;++pi){var oo=(pi&43690)>>1|(pi&21845)<<1;oo=(oo&52428)>>2|(oo&13107)<<2,oo=(oo&61680)>>4|(oo&3855)<<4,f2[pi]=((oo&65280)>>8|(oo&255)<<8)>>1}var ea=function(t,e,n){for(var s=t.length,m=0,w=new Is(e);m<s;++m)t[m]&&++w[t[m]-1];var r=new Is(e);for(m=1;m<e;++m)r[m]=r[m-1]+w[m-1]<<1;var x;if(n){x=new Is(1<<e);var i=15-e;for(m=0;m<s;++m)if(t[m])for(var a=m<<4|t[m],p=e-t[m],c=r[t[m]-1]++<<p,o=c|(1<<p)-1;c<=o;++c)x[f2[c]>>i]=a}else for(x=new Is(s),m=0;m<s;++m)t[m]&&(x[m]=f2[r[t[m]-1]++]>>15-t[m]);return x},_o=new Gn(288);for(var pi=0;pi<144;++pi)_o[pi]=8;for(var pi=144;pi<256;++pi)_o[pi]=9;for(var pi=256;pi<280;++pi)_o[pi]=7;for(var pi=280;pi<288;++pi)_o[pi]=8;var EA=new Gn(32);for(var pi=0;pi<32;++pi)EA[pi]=5;var nte=ea(_o,9,0),ste=ea(_o,9,1),rte=ea(EA,5,0),ate=ea(EA,5,1),Vy=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},Er=function(t,e,n){var s=e/8|0;return(t[s]|t[s+1]<<8)>>(e&7)&n},zy=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},LC=function(t){return(t+7)/8|0},z6=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new Gn(t.subarray(e,n))},ote=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Mr=function(t,e,n){var s=new Error(e||ote[t]);if(s.code=t,Error.captureStackTrace&&Error.captureStackTrace(s,Mr),!n)throw s;return s},lte=function(t,e,n,s){var m=t.length,w=0;if(!m||e.f&&!e.l)return n||new Gn(0);var r=!n,x=r||e.i!=2,i=e.i;r&&(n=new Gn(m*3));var a=function(te){var se=n.length;if(te>se){var ce=new Gn(Math.max(se*2,te));ce.set(n),n=ce}},p=e.f||0,c=e.p||0,o=e.b||0,u=e.l,l=e.d,d=e.m,f=e.n,h=m*8;do{if(!u){p=Er(t,c,1);var A=Er(t,c+1,3);if(c+=3,A)if(A==1)u=ste,l=ate,d=9,f=5;else if(A==2){var C=Er(t,c,31)+257,b=Er(t,c+10,15)+4,T=C+Er(t,c+5,31)+1;c+=14;for(var S=new Gn(T),F=new Gn(19),B=0;B<b;++B)F[d2[B]]=Er(t,c+B*3,7);c+=b*3;for(var N=Vy(F),L=(1<<N)-1,R=ea(F,N,1),B=0;B<T;){var I=R[Er(t,c,L)];c+=I&15;var g=I>>4;if(g<16)S[B++]=g;else{var M=0,P=0;for(g==16?(P=3+Er(t,c,3),c+=2,M=S[B-1]):g==17?(P=3+Er(t,c,7),c+=3):g==18&&(P=11+Er(t,c,127),c+=7);P--;)S[B++]=M}}var U=S.subarray(0,C),z=S.subarray(C);d=Vy(U),f=Vy(z),u=ea(U,d,1),l=ea(z,f,1)}else Mr(1);else{var g=LC(c)+4,v=t[g-4]|t[g-3]<<8,y=g+v;if(y>m){i&&Mr(0);break}x&&a(o+v),n.set(t.subarray(g,y),o),e.b=o+=v,e.p=c=y*8,e.f=p;continue}if(c>h){i&&Mr(0);break}}x&&a(o+131072);for(var W=(1<<d)-1,Z=(1<<f)-1,j=c;;j=c){var M=u[zy(t,c)&W],H=M>>4;if(c+=M&15,c>h){i&&Mr(0);break}if(M||Mr(2),H<256)n[o++]=H;else if(H==256){j=c,u=null;break}else{var V=H-254;if(H>264){var B=H-257,k=b0[B];V=Er(t,c,(1<<k)-1)+j6[B],c+=k}var X=l[zy(t,c)&Z],Q=X>>4;X||Mr(3),c+=X&15;var z=ite[Q];if(Q>3){var k=S0[Q];z+=zy(t,c)&(1<<k)-1,c+=k}if(c>h){i&&Mr(0);break}x&&a(o+131072);var J=o+V;if(o<z){var $=w-z,_=Math.min(z,J);for($+o<0&&Mr(3);o<_;++o)n[o]=s[$+o]}for(;o<J;++o)n[o]=n[o-z]}}e.l=u,e.p=j,e.b=o,e.f=p,u&&(p=1,e.m=d,e.d=l,e.n=f)}while(!p);return o!=n.length&&r?z6(n,0,o):n.subarray(0,o)},wa=function(t,e,n){n<<=e&7;var s=e/8|0;t[s]|=n,t[s+1]|=n>>8},od=function(t,e,n){n<<=e&7;var s=e/8|0;t[s]|=n,t[s+1]|=n>>8,t[s+2]|=n>>16},Yy=function(t,e){for(var n=[],s=0;s<t.length;++s)t[s]&&n.push({s,f:t[s]});var m=n.length,w=n.slice();if(!m)return{t:X6,l:0};if(m==1){var r=new Gn(n[0].s+1);return r[n[0].s]=1,{t:r,l:1}}n.sort(function(y,C){return y.f-C.f}),n.push({s:-1,f:25001});var x=n[0],i=n[1],a=0,p=1,c=2;for(n[0]={s:-1,f:x.f+i.f,l:x,r:i};p!=m-1;)x=n[n[a].f<n[c].f?a++:c++],i=n[a!=p&&n[a].f<n[c].f?a++:c++],n[p++]={s:-1,f:x.f+i.f,l:x,r:i};for(var o=w[0].s,s=1;s<m;++s)w[s].s>o&&(o=w[s].s);var u=new Is(o+1),l=p2(n[p-1],u,0);if(l>e){var s=0,d=0,f=l-e,h=1<<f;for(w.sort(function(C,b){return u[b.s]-u[C.s]||C.f-b.f});s<m;++s){var A=w[s].s;if(u[A]>e)d+=h-(1<<l-u[A]),u[A]=e;else break}for(d>>=f;d>0;){var g=w[s].s;u[g]<e?d-=1<<e-u[g]++-1:++s}for(;s>=0&&d;--s){var v=w[s].s;u[v]==e&&(--u[v],++d)}l=e}return{t:new Gn(u),l}},p2=function(t,e,n){return t.s==-1?Math.max(p2(t.l,e,n+1),p2(t.r,e,n+1)):e[t.s]=n},Y4=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Is(++e),s=0,m=t[0],w=1,r=function(i){n[s++]=i},x=1;x<=e;++x)if(t[x]==m&&x!=e)++w;else{if(!m&&w>2){for(;w>138;w-=138)r(32754);w>2&&(r(w>10?w-11<<5|28690:w-3<<5|12305),w=0)}else if(w>3){for(r(m),--w;w>6;w-=6)r(8304);w>2&&(r(w-3<<5|8208),w=0)}for(;w--;)r(m);w=1,m=t[x]}return{c:n.subarray(0,s),n:e}},ld=function(t,e){for(var n=0,s=0;s<e.length;++s)n+=t[s]*e[s];return n},Y6=function(t,e,n){var s=n.length,m=LC(e+2);t[m]=s&255,t[m+1]=s>>8,t[m+2]=t[m]^255,t[m+3]=t[m+1]^255;for(var w=0;w<s;++w)t[m+w+4]=n[w];return(m+4+s)*8},X4=function(t,e,n,s,m,w,r,x,i,a,p){wa(e,p++,n),++m[256];for(var c=Yy(m,15),o=c.t,u=c.l,l=Yy(w,15),d=l.t,f=l.l,h=Y4(o),A=h.c,g=h.n,v=Y4(d),y=v.c,C=v.n,b=new Is(19),T=0;T<A.length;++T)++b[A[T]&31];for(var T=0;T<y.length;++T)++b[y[T]&31];for(var S=Yy(b,7),F=S.t,B=S.l,N=19;N>4&&!F[d2[N-1]];--N);var L=a+5<<3,R=ld(m,_o)+ld(w,EA)+r,I=ld(m,o)+ld(w,d)+r+14+3*N+ld(b,F)+2*b[16]+3*b[17]+7*b[18];if(i>=0&&L<=R&&L<=I)return Y6(e,p,t.subarray(i,i+a));var M,P,U,z;if(wa(e,p,1+(I<R)),p+=2,I<R){M=ea(o,u,0),P=o,U=ea(d,f,0),z=d;var W=ea(F,B,0);wa(e,p,g-257),wa(e,p+5,C-1),wa(e,p+10,N-4),p+=14;for(var T=0;T<N;++T)wa(e,p+3*T,F[d2[T]]);p+=3*N;for(var Z=[A,y],j=0;j<2;++j)for(var H=Z[j],T=0;T<H.length;++T){var V=H[T]&31;wa(e,p,W[V]),p+=F[V],V>15&&(wa(e,p,H[T]>>5&127),p+=H[T]>>12)}}else M=nte,P=_o,U=rte,z=EA;for(var T=0;T<x;++T){var k=s[T];if(k>255){var V=k>>18&31;od(e,p,M[V+257]),p+=P[V+257],V>7&&(wa(e,p,k>>23&31),p+=b0[V]);var X=k&31;od(e,p,U[X]),p+=z[X],X>3&&(od(e,p,k>>5&8191),p+=S0[X])}else od(e,p,M[k]),p+=P[k]}return od(e,p,M[256]),p+P[256]},ute=new NC([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),X6=new Gn(0),hte=function(t,e,n,s,m,w){var r=w.z||t.length,x=new Gn(s+r+5*(1+Math.ceil(r/7e3))+m),i=x.subarray(s,x.length-m),a=w.l,p=(w.r||0)&7;if(e){p&&(i[0]=w.r>>3);for(var c=ute[e-1],o=c>>13,u=c&8191,l=(1<<n)-1,d=w.p||new Is(32768),f=w.h||new Is(l+1),h=Math.ceil(n/3),A=2*h,g=function(ge){return(t[ge]^t[ge+1]<<h^t[ge+2]<<A)&l},v=new NC(25e3),y=new Is(288),C=new Is(32),b=0,T=0,S=w.i||0,F=0,B=w.w||0,N=0;S+2<r;++S){var L=g(S),R=S&32767,I=f[L];if(d[R]=I,f[L]=R,B<=S){var M=r-S;if((b>7e3||F>24576)&&(M>423||!a)){p=X4(t,i,0,v,y,C,T,F,N,S-N,p),F=b=T=0,N=S;for(var P=0;P<286;++P)y[P]=0;for(var P=0;P<30;++P)C[P]=0}var U=2,z=0,W=u,Z=R-I&32767;if(M>2&&L==g(S-Z))for(var j=Math.min(o,M)-1,H=Math.min(32767,S),V=Math.min(258,M);Z<=H&&--W&&R!=I;){if(t[S+U]==t[S+U-Z]){for(var k=0;k<V&&t[S+k]==t[S+k-Z];++k);if(k>U){if(U=k,z=Z,k>j)break;for(var X=Math.min(Z,k-2),Q=0,P=0;P<X;++P){var J=S-Z+P&32767,$=d[J],_=J-$&32767;_>Q&&(Q=_,I=J)}}}R=I,I=d[R],Z+=R-I&32767}if(z){v[F++]=268435456|A2[U]<<18|z4[z];var te=A2[U]&31,se=z4[z]&31;T+=b0[te]+S0[se],++y[257+te],++C[se],B=S+U,++b}else v[F++]=t[S],++y[t[S]]}}for(S=Math.max(S,B);S<r;++S)v[F++]=t[S],++y[t[S]];p=X4(t,i,a,v,y,C,T,F,N,S-N,p),a||(w.r=p&7|i[p/8|0]<<3,p-=7,w.h=f,w.p=d,w.i=S,w.w=B)}else{for(var S=w.w||0;S<r+a;S+=65535){var ce=S+65535;ce>=r&&(i[p/8|0]=a,ce=r),p=Y6(i,p+1,t.subarray(S,ce))}w.i=r}return z6(x,0,s+LC(p)+m)},W6=function(){var t=1,e=0;return{p:function(n){for(var s=t,m=e,w=n.length|0,r=0;r!=w;){for(var x=Math.min(r+2655,w);r<x;++r)m+=s+=n[r];s=(s&65535)+15*(s>>16),m=(m&65535)+15*(m>>16)}t=s,e=m},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},cte=function(t,e,n,s,m){if(!m&&(m={l:1},e.dictionary)){var w=e.dictionary.subarray(-32768),r=new Gn(w.length+t.length);r.set(w),r.set(t,w.length),t=r,m.w=w.length}return hte(t,e.level==null?6:e.level,e.mem==null?m.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,s,m)},K6=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},dte=function(t,e){var n=e.level,s=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=s<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var m=W6();m.p(e.dictionary),K6(t,2,m.d())}},Ate=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Mr(6,"invalid zlib data"),(t[1]>>5&1)==1&&Mr(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function g2(t,e){e||(e={});var n=W6();n.p(t);var s=cte(t,e,e.dictionary?6:2,4);return dte(s,e),K6(s,s.length-4,n.d()),s}function fte(t,e){return lte(t.subarray(Ate(t),-4),{i:2},e,e)}var pte=typeof TextDecoder<"u"&&new TextDecoder,gte=0;try{pte.decode(X6,{stream:!0}),gte=1}catch{}var gt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Xy(){gt.console&&typeof gt.console.log=="function"&&gt.console.log.apply(gt.console,arguments)}var ai={log:Xy,warn:function(t){gt.console&&(typeof gt.console.warn=="function"?gt.console.warn.apply(gt.console,arguments):Xy.call(null,arguments))},error:function(t){gt.console&&(typeof gt.console.error=="function"?gt.console.error.apply(gt.console,arguments):Xy(t))}};function Wy(t,e,n){var s=new XMLHttpRequest;s.open("GET",t),s.responseType="blob",s.onload=function(){El(s.response,e,n)},s.onerror=function(){ai.error("could not download file")},s.send()}function W4(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Qp(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var qd,v2,El=gt.saveAs||((typeof window>"u"?"undefined":Vt(window))!=="object"||window!==gt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var s=gt.URL||gt.webkitURL,m=document.createElement("a");e=e||t.name||"download",m.download=e,m.rel="noopener",typeof t=="string"?(m.href=t,m.origin!==location.origin?W4(m.href)?Wy(t,e,n):Qp(m,m.target="_blank"):Qp(m)):(m.href=s.createObjectURL(t),setTimeout(function(){s.revokeObjectURL(m.href)},4e4),setTimeout(function(){Qp(m)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(W4(t))Wy(t,e,n);else{var s=document.createElement("a");s.href=t,s.target="_blank",setTimeout(function(){Qp(s)})}else navigator.msSaveOrOpenBlob(function(m,w){return w===void 0?w={autoBom:!1}:Vt(w)!=="object"&&(ai.warn("Deprecated: Expected third argument to be a object"),w={autoBom:!w}),w.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(m.type)?new Blob(["\uFEFF",m],{type:m.type}):m}(t,n),e)}:function(t,e,n,s){if((s=s||open("","_blank"))&&(s.document.title=s.document.body.innerText="downloading..."),typeof t=="string")return Wy(t,e,n);var m=t.type==="application/octet-stream",w=/constructor/i.test(gt.HTMLElement)||gt.safari,r=/CriOS\/[\d]+/.test(navigator.userAgent);if((r||m&&w)&&(typeof FileReader>"u"?"undefined":Vt(FileReader))==="object"){var x=new FileReader;x.onloadend=function(){var p=x.result;p=r?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=p:location=p,s=null},x.readAsDataURL(t)}else{var i=gt.URL||gt.webkitURL,a=i.createObjectURL(t);s?s.location=a:location.href=a,s=null,setTimeout(function(){i.revokeObjectURL(a)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function J6(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(x){return[parseInt(x[1]),parseInt(x[2]),parseInt(x[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(x){return[parseInt(x[1],16),parseInt(x[2],16),parseInt(x[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(x){return[parseInt(x[1]+x[1],16),parseInt(x[2]+x[2],16),parseInt(x[3]+x[3],16)]}}],s=0;s<n.length;s++){var m=n[s].re,w=n[s].process,r=m.exec(t);r&&(e=w(r),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var x=this.r.toString(16),i=this.g.toString(16),a=this.b.toString(16);return x.length==1&&(x="0"+x),i.length==1&&(i="0"+i),a.length==1&&(a="0"+a),"#"+x+i+a}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Ky(t,e){var n=t[0],s=t[1],m=t[2],w=t[3];n=Rn(n,s,m,w,e[0],7,-680876936),w=Rn(w,n,s,m,e[1],12,-389564586),m=Rn(m,w,n,s,e[2],17,606105819),s=Rn(s,m,w,n,e[3],22,-1044525330),n=Rn(n,s,m,w,e[4],7,-176418897),w=Rn(w,n,s,m,e[5],12,1200080426),m=Rn(m,w,n,s,e[6],17,-1473231341),s=Rn(s,m,w,n,e[7],22,-45705983),n=Rn(n,s,m,w,e[8],7,1770035416),w=Rn(w,n,s,m,e[9],12,-1958414417),m=Rn(m,w,n,s,e[10],17,-42063),s=Rn(s,m,w,n,e[11],22,-1990404162),n=Rn(n,s,m,w,e[12],7,1804603682),w=Rn(w,n,s,m,e[13],12,-40341101),m=Rn(m,w,n,s,e[14],17,-1502002290),n=In(n,s=Rn(s,m,w,n,e[15],22,1236535329),m,w,e[1],5,-165796510),w=In(w,n,s,m,e[6],9,-1069501632),m=In(m,w,n,s,e[11],14,643717713),s=In(s,m,w,n,e[0],20,-373897302),n=In(n,s,m,w,e[5],5,-701558691),w=In(w,n,s,m,e[10],9,38016083),m=In(m,w,n,s,e[15],14,-660478335),s=In(s,m,w,n,e[4],20,-405537848),n=In(n,s,m,w,e[9],5,568446438),w=In(w,n,s,m,e[14],9,-1019803690),m=In(m,w,n,s,e[3],14,-187363961),s=In(s,m,w,n,e[8],20,1163531501),n=In(n,s,m,w,e[13],5,-1444681467),w=In(w,n,s,m,e[2],9,-51403784),m=In(m,w,n,s,e[7],14,1735328473),n=Pn(n,s=In(s,m,w,n,e[12],20,-1926607734),m,w,e[5],4,-378558),w=Pn(w,n,s,m,e[8],11,-2022574463),m=Pn(m,w,n,s,e[11],16,1839030562),s=Pn(s,m,w,n,e[14],23,-35309556),n=Pn(n,s,m,w,e[1],4,-1530992060),w=Pn(w,n,s,m,e[4],11,1272893353),m=Pn(m,w,n,s,e[7],16,-155497632),s=Pn(s,m,w,n,e[10],23,-1094730640),n=Pn(n,s,m,w,e[13],4,681279174),w=Pn(w,n,s,m,e[0],11,-358537222),m=Pn(m,w,n,s,e[3],16,-722521979),s=Pn(s,m,w,n,e[6],23,76029189),n=Pn(n,s,m,w,e[9],4,-640364487),w=Pn(w,n,s,m,e[12],11,-421815835),m=Pn(m,w,n,s,e[15],16,530742520),n=Un(n,s=Pn(s,m,w,n,e[2],23,-995338651),m,w,e[0],6,-198630844),w=Un(w,n,s,m,e[7],10,1126891415),m=Un(m,w,n,s,e[14],15,-1416354905),s=Un(s,m,w,n,e[5],21,-57434055),n=Un(n,s,m,w,e[12],6,1700485571),w=Un(w,n,s,m,e[3],10,-1894986606),m=Un(m,w,n,s,e[10],15,-1051523),s=Un(s,m,w,n,e[1],21,-2054922799),n=Un(n,s,m,w,e[8],6,1873313359),w=Un(w,n,s,m,e[15],10,-30611744),m=Un(m,w,n,s,e[6],15,-1560198380),s=Un(s,m,w,n,e[13],21,1309151649),n=Un(n,s,m,w,e[4],6,-145523070),w=Un(w,n,s,m,e[11],10,-1120210379),m=Un(m,w,n,s,e[2],15,718787259),s=Un(s,m,w,n,e[9],21,-343485551),t[0]=Mo(n,t[0]),t[1]=Mo(s,t[1]),t[2]=Mo(m,t[2]),t[3]=Mo(w,t[3])}function T0(t,e,n,s,m,w){return e=Mo(Mo(e,t),Mo(s,w)),Mo(e<<m|e>>>32-m,n)}function Rn(t,e,n,s,m,w,r){return T0(e&n|~e&s,t,e,m,w,r)}function In(t,e,n,s,m,w,r){return T0(e&s|n&~s,t,e,m,w,r)}function Pn(t,e,n,s,m,w,r){return T0(e^n^s,t,e,m,w,r)}function Un(t,e,n,s,m,w,r){return T0(n^(e|~s),t,e,m,w,r)}function Z6(t){var e,n=t.length,s=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Ky(s,vte(t.substring(e-64,e)));t=t.substring(e-64);var m=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)m[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(m[e>>2]|=128<<(e%4<<3),e>55)for(Ky(s,m),e=0;e<16;e++)m[e]=0;return m[14]=8*n,Ky(s,m),s}function vte(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}qd=gt.atob.bind(gt),v2=gt.btoa.bind(gt);var K4="0123456789abcdef".split("");function mte(t){for(var e="",n=0;n<4;n++)e+=K4[t>>8*n+4&15]+K4[t>>8*n&15];return e}function yte(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function m2(t){return Z6(t).map(yte).join("")}var xte=function(t){for(var e=0;e<t.length;e++)t[e]=mte(t[e]);return t.join("")}(Z6("hello"))!="5d41402abc4b2a76b9719d911017c592";function Mo(t,e){if(xte){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function y2(t,e){var n,s,m,w;if(t!==n){for(var r=(m=t,w=1+(256/t.length>>0),new Array(w+1).join(m)),x=[],i=0;i<256;i++)x[i]=i;var a=0;for(i=0;i<256;i++){var p=x[i];a=(a+p+r.charCodeAt(i))%256,x[i]=x[a],x[a]=p}n=t,s=x}else x=s;var c=e.length,o=0,u=0,l="";for(i=0;i<c;i++)u=(u+(p=x[o=(o+1)%256]))%256,x[o]=x[u],x[u]=p,r=x[(x[o]+x[u])%256],l+=String.fromCharCode(e.charCodeAt(i)^r);return l}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var J4={print:4,modify:8,copy:16,"annot-forms":32};function qu(t,e,n,s){this.v=1,this.r=2;var m=192;t.forEach(function(x){if(J4.perm!==void 0)throw new Error("Invalid permission: "+x);m+=J4[x]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var w=(e+this.padding).substr(0,32),r=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(w,r),this.P=-(1+(255^m)),this.encryptionKey=m2(w+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(s)).substr(0,5),this.U=y2(this.encryptionKey,this.padding)}function _u(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,s=0;s<n;s++){var m=t.charCodeAt(s);m<33||m===35||m===37||m===40||m===41||m===47||m===60||m===62||m===91||m===93||m===123||m===125||m>126?e+="#"+("0"+m.toString(16)).slice(-2):e+=t[s]}return e}function Z4(t){if(Vt(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,s,m){if(m=m||!1,typeof n!="string"||typeof s!="function"||typeof m!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var w=Math.random().toString(35);return e[n][w]=[s,!!m],w},this.unsubscribe=function(n){for(var s in e)if(e[s][n])return delete e[s][n],Object.keys(e[s]).length===0&&delete e[s],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var s=Array.prototype.slice.call(arguments,1),m=[];for(var w in e[n]){var r=e[n][w];try{r[0].apply(t,s)}catch(x){gt.console&&ai.error("jsPDF PubSub Error",x.message,x)}r[1]&&m.push(w)}m.length&&m.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Sv(t){if(!(this instanceof Sv))return new Sv(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function $6(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Fl(t,e,n,s,m){if(!(this instanceof Fl))return new Fl(t,e,n,s,m);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,$6.call(this,s,m)}function xh(t,e,n,s,m){if(!(this instanceof xh))return new xh(t,e,n,s,m);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,$6.call(this,s,m)}function pt(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",s=arguments[1],m=arguments[2],w=arguments[3],r=[],x=1,i=16,a="S",p=null;Vt(t=t||{})==="object"&&(n=t.orientation,s=t.unit||s,m=t.format||m,w=t.compress||t.compressPdf||w,(p=t.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),x=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(i=t.floatPrecision),a=t.defaultPathOperation||"S"),r=t.filters||(w===!0?["FlateEncode"]:r),s=s||"mm",n=(""+(n||"P")).toLowerCase();var c=t.putOnlyUsedFonts||!1,o={},u={internal:{},__private__:{}};u.__private__.PubSub=Z4;var l="1.3",d=u.__private__.getPdfVersion=function(){return l};u.__private__.setPdfVersion=function(K){l=K};var f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};u.__private__.getPageFormats=function(){return f};var h=u.__private__.getPageFormat=function(K){return f[K]};m=m||"a4";var A={COMPAT:"compat",ADVANCED:"advanced"},g=A.COMPAT;function v(){this.saveGraphicsState(),re(new dt(Ve,0,0,-Ve,0,Ka()*Ve).toString()+" cm"),this.setFontSize(this.getFontSize()/Ve),a="n",g=A.ADVANCED}function y(){this.restoreGraphicsState(),a="S",g=A.COMPAT}var C=u.__private__.combineFontStyleAndFontWeight=function(K,ne){if(K=="bold"&&ne=="normal"||K=="bold"&&ne==400||K=="normal"&&ne=="italic"||K=="bold"&&ne=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ne&&(K=ne==400||ne==="normal"?K==="italic"?"italic":"normal":ne!=700&&ne!=="bold"||K!=="normal"?(ne==700?"bold":ne)+""+K:"bold"),K};u.advancedAPI=function(K){var ne=g===A.COMPAT;return ne&&v.call(this),typeof K!="function"||(K(this),ne&&y.call(this)),this},u.compatAPI=function(K){var ne=g===A.ADVANCED;return ne&&y.call(this),typeof K!="function"||(K(this),ne&&v.call(this)),this},u.isAdvancedAPI=function(){return g===A.ADVANCED};var b,T=function(K){if(g!==A.ADVANCED)throw new Error(K+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},S=u.roundToPrecision=u.__private__.roundToPrecision=function(K,ne){var pe=e||ne;if(isNaN(K)||isNaN(pe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return K.toFixed(pe).replace(/0+$/,"")};b=u.hpf=u.__private__.hpf=typeof i=="number"?function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.hpf");return S(K,i)}:i==="smart"?function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.hpf");return S(K,K>-1&&K<1?16:5)}:function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.hpf");return S(K,16)};var F=u.f2=u.__private__.f2=function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.f2");return S(K,2)},B=u.__private__.f3=function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.f3");return S(K,3)},N=u.scale=u.__private__.scale=function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.scale");return g===A.COMPAT?K*Ve:g===A.ADVANCED?K:void 0},L=function(K){return g===A.COMPAT?Ka()-K:g===A.ADVANCED?K:void 0},R=function(K){return N(L(K))};u.__private__.setPrecision=u.setPrecision=function(K){typeof parseInt(K,10)=="number"&&(e=parseInt(K,10))};var I,M="00000000000000000000000000000000",P=u.__private__.getFileId=function(){return M},U=u.__private__.setFileId=function(K){return M=K!==void 0&&/^[a-fA-F0-9]{32}$/.test(K)?K.toUpperCase():M.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(Ln=new qu(p.userPermissions,p.userPassword,p.ownerPassword,M)),M};u.setFileId=function(K){return U(K),this},u.getFileId=function(){return P()};var z=u.__private__.convertDateToPDFDate=function(K){var ne=K.getTimezoneOffset(),pe=ne<0?"+":"-",me=Math.floor(Math.abs(ne/60)),Fe=Math.abs(ne%60),Ue=[pe,V(me),"'",V(Fe),"'"].join("");return["D:",K.getFullYear(),V(K.getMonth()+1),V(K.getDate()),V(K.getHours()),V(K.getMinutes()),V(K.getSeconds()),Ue].join("")},W=u.__private__.convertPDFDateToDate=function(K){var ne=parseInt(K.substr(2,4),10),pe=parseInt(K.substr(6,2),10)-1,me=parseInt(K.substr(8,2),10),Fe=parseInt(K.substr(10,2),10),Ue=parseInt(K.substr(12,2),10),ze=parseInt(K.substr(14,2),10);return new Date(ne,pe,me,Fe,Ue,ze,0)},Z=u.__private__.setCreationDate=function(K){var ne;if(K===void 0&&(K=new Date),K instanceof Date)ne=z(K);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(K))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ne=K}return I=ne},j=u.__private__.getCreationDate=function(K){var ne=I;return K==="jsDate"&&(ne=W(I)),ne};u.setCreationDate=function(K){return Z(K),this},u.getCreationDate=function(K){return j(K)};var H,V=u.__private__.padd2=function(K){return("0"+parseInt(K)).slice(-2)},k=u.__private__.padd2Hex=function(K){return("00"+(K=K.toString())).substr(K.length)},X=0,Q=[],J=[],$=0,_=[],te=[],se=!1,ce=J,ge=function(){X=0,$=0,J=[],Q=[],_=[],vr=bi(),Ae=bi()};u.__private__.setCustomOutputDestination=function(K){se=!0,ce=K};var ue=function(K){se||(ce=K)};u.__private__.resetCustomOutputDestination=function(){se=!1,ce=J};var re=u.__private__.out=function(K){return K=K.toString(),$+=K.length+1,ce.push(K),ce},Ce=u.__private__.write=function(K){return re(arguments.length===1?K.toString():Array.prototype.join.call(arguments," "))},ye=u.__private__.getArrayBuffer=function(K){for(var ne=K.length,pe=new ArrayBuffer(ne),me=new Uint8Array(pe);ne--;)me[ne]=K.charCodeAt(ne);return pe},Ee=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];u.__private__.getStandardFonts=function(){return Ee};var Me=t.fontSize||16;u.__private__.setFontSize=u.setFontSize=function(K){return Me=g===A.ADVANCED?K/Ve:K,this};var Be,ve=u.__private__.getFontSize=u.getFontSize=function(){return g===A.COMPAT?Me:Me*Ve},Re=t.R2L||!1;u.__private__.setR2L=u.setR2L=function(K){return Re=K,this},u.__private__.getR2L=u.getR2L=function(){return Re};var Pe,Ge=u.__private__.setZoomMode=function(K){var ne=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(K))Be=K;else if(isNaN(K)){if(ne.indexOf(K)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+K+'" is not recognized.');Be=K}else Be=parseInt(K,10)};u.__private__.getZoomMode=function(){return Be};var We,at=u.__private__.setPageMode=function(K){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(K)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+K+'" is not recognized.');Pe=K};u.__private__.getPageMode=function(){return Pe};var qe=u.__private__.setLayoutMode=function(K){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(K)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+K+'" is not recognized.');We=K};u.__private__.getLayoutMode=function(){return We},u.__private__.setDisplayMode=u.setDisplayMode=function(K,ne,pe){return Ge(K),qe(ne),at(pe),this};var Ye={title:"",subject:"",author:"",keywords:"",creator:""};u.__private__.getDocumentProperty=function(K){if(Object.keys(Ye).indexOf(K)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ye[K]},u.__private__.getDocumentProperties=function(){return Ye},u.__private__.setDocumentProperties=u.setProperties=u.setDocumentProperties=function(K){for(var ne in Ye)Ye.hasOwnProperty(ne)&&K[ne]&&(Ye[ne]=K[ne]);return this},u.__private__.setDocumentProperty=function(K,ne){if(Object.keys(Ye).indexOf(K)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ye[K]=ne};var tt,Ve,ct,ut,Se,Xe={},rt={},Rt=[],ft={},Ci={},Gt={},Cs={},Gs=null,mi=0,xt=[],Qt=new Z4(u),on=t.hotfixes||[],Kt={},Qs={},js=[],dt=function K(ne,pe,me,Fe,Ue,ze){if(!(this instanceof K))return new K(ne,pe,me,Fe,Ue,ze);isNaN(ne)&&(ne=1),isNaN(pe)&&(pe=0),isNaN(me)&&(me=0),isNaN(Fe)&&(Fe=1),isNaN(Ue)&&(Ue=0),isNaN(ze)&&(ze=0),this._matrix=[ne,pe,me,Fe,Ue,ze]};Object.defineProperty(dt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(K){this._matrix[0]=K}}),Object.defineProperty(dt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(K){this._matrix[1]=K}}),Object.defineProperty(dt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(K){this._matrix[2]=K}}),Object.defineProperty(dt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(K){this._matrix[3]=K}}),Object.defineProperty(dt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(K){this._matrix[4]=K}}),Object.defineProperty(dt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(K){this._matrix[5]=K}}),Object.defineProperty(dt.prototype,"a",{get:function(){return this._matrix[0]},set:function(K){this._matrix[0]=K}}),Object.defineProperty(dt.prototype,"b",{get:function(){return this._matrix[1]},set:function(K){this._matrix[1]=K}}),Object.defineProperty(dt.prototype,"c",{get:function(){return this._matrix[2]},set:function(K){this._matrix[2]=K}}),Object.defineProperty(dt.prototype,"d",{get:function(){return this._matrix[3]},set:function(K){this._matrix[3]=K}}),Object.defineProperty(dt.prototype,"e",{get:function(){return this._matrix[4]},set:function(K){this._matrix[4]=K}}),Object.defineProperty(dt.prototype,"f",{get:function(){return this._matrix[5]},set:function(K){this._matrix[5]=K}}),Object.defineProperty(dt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(dt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(dt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(dt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),dt.prototype.join=function(K){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(b).join(K)},dt.prototype.multiply=function(K){var ne=K.sx*this.sx+K.shy*this.shx,pe=K.sx*this.shy+K.shy*this.sy,me=K.shx*this.sx+K.sy*this.shx,Fe=K.shx*this.shy+K.sy*this.sy,Ue=K.tx*this.sx+K.ty*this.shx+this.tx,ze=K.tx*this.shy+K.ty*this.sy+this.ty;return new dt(ne,pe,me,Fe,Ue,ze)},dt.prototype.decompose=function(){var K=this.sx,ne=this.shy,pe=this.shx,me=this.sy,Fe=this.tx,Ue=this.ty,ze=Math.sqrt(K*K+ne*ne),it=(K/=ze)*pe+(ne/=ze)*me;pe-=K*it,me-=ne*it;var ht=Math.sqrt(pe*pe+me*me);return it/=ht,K*(me/=ht)<ne*(pe/=ht)&&(K=-K,ne=-ne,it=-it,ze=-ze),{scale:new dt(ze,0,0,ht,0,0),translate:new dt(1,0,0,1,Fe,Ue),rotate:new dt(K,ne,-ne,K,0,0),skew:new dt(1,0,it,1,0,0)}},dt.prototype.toString=function(K){return this.join(" ")},dt.prototype.inversed=function(){var K=this.sx,ne=this.shy,pe=this.shx,me=this.sy,Fe=this.tx,Ue=this.ty,ze=1/(K*me-ne*pe),it=me*ze,ht=-ne*ze,Et=-pe*ze,St=K*ze;return new dt(it,ht,Et,St,-it*Fe-Et*Ue,-ht*Fe-St*Ue)},dt.prototype.applyToPoint=function(K){var ne=K.x*this.sx+K.y*this.shx+this.tx,pe=K.x*this.shy+K.y*this.sy+this.ty;return new vu(ne,pe)},dt.prototype.applyToRectangle=function(K){var ne=this.applyToPoint(K),pe=this.applyToPoint(new vu(K.x+K.w,K.y+K.h));return new Bc(ne.x,ne.y,pe.x-ne.x,pe.y-ne.y)},dt.prototype.clone=function(){var K=this.sx,ne=this.shy,pe=this.shx,me=this.sy,Fe=this.tx,Ue=this.ty;return new dt(K,ne,pe,me,Fe,Ue)},u.Matrix=dt;var bs=u.matrixMult=function(K,ne){return ne.multiply(K)},Vs=new dt(1,0,0,1,0,0);u.unitMatrix=u.identityMatrix=Vs;var zi=function(K,ne){if(!Ci[K]){var pe=(ne instanceof Fl?"Sh":"P")+(Object.keys(ft).length+1).toString(10);ne.id=pe,Ci[K]=pe,ft[pe]=ne,Qt.publish("addPattern",ne)}};u.ShadingPattern=Fl,u.TilingPattern=xh,u.addShadingPattern=function(K,ne){return T("addShadingPattern()"),zi(K,ne),this},u.beginTilingPattern=function(K){T("beginTilingPattern()"),mf(K.boundingBox[0],K.boundingBox[1],K.boundingBox[2]-K.boundingBox[0],K.boundingBox[3]-K.boundingBox[1],K.matrix)},u.endTilingPattern=function(K,ne){T("endTilingPattern()"),ne.stream=te[H].join(`
`),zi(K,ne),Qt.publish("endTilingPattern",ne),js.pop().restore()};var Ii=u.__private__.newObject=function(){var K=bi();return zn(K,!0),K},bi=u.__private__.newObjectDeferred=function(){return X++,Q[X]=function(){return $},X},zn=function(K,ne){return ne=typeof ne=="boolean"&&ne,Q[K]=$,ne&&re(K+" 0 obj"),K},Ya=u.__private__.newAdditionalObject=function(){var K={objId:bi(),content:""};return _.push(K),K},vr=bi(),Ae=bi(),Ke=u.__private__.decodeColorString=function(K){var ne=K.split(" ");if(ne.length!==2||ne[1]!=="g"&&ne[1]!=="G")ne.length===5&&(ne[4]==="k"||ne[4]==="K")&&(ne=[(1-ne[0])*(1-ne[3]),(1-ne[1])*(1-ne[3]),(1-ne[2])*(1-ne[3]),"r"]);else{var pe=parseFloat(ne[0]);ne=[pe,pe,pe,"r"]}for(var me="#",Fe=0;Fe<3;Fe++)me+=("0"+Math.floor(255*parseFloat(ne[Fe])).toString(16)).slice(-2);return me},$e=u.__private__.encodeColorString=function(K){var ne;typeof K=="string"&&(K={ch1:K});var pe=K.ch1,me=K.ch2,Fe=K.ch3,Ue=K.ch4,ze=K.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof pe=="string"&&pe.charAt(0)!=="#"){var it=new J6(pe);if(it.ok)pe=it.toHex();else if(!/^\d*\.?\d*$/.test(pe))throw new Error('Invalid color "'+pe+'" passed to jsPDF.encodeColorString.')}if(typeof pe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(pe)&&(pe="#"+pe[1]+pe[1]+pe[2]+pe[2]+pe[3]+pe[3]),typeof pe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(pe)){var ht=parseInt(pe.substr(1),16);pe=ht>>16&255,me=ht>>8&255,Fe=255&ht}if(me===void 0||Ue===void 0&&pe===me&&me===Fe)if(typeof pe=="string")ne=pe+" "+ze[0];else switch(K.precision){case 2:ne=F(pe/255)+" "+ze[0];break;case 3:default:ne=B(pe/255)+" "+ze[0]}else if(Ue===void 0||Vt(Ue)==="object"){if(Ue&&!isNaN(Ue.a)&&Ue.a===0)return ne=["1.","1.","1.",ze[1]].join(" ");if(typeof pe=="string")ne=[pe,me,Fe,ze[1]].join(" ");else switch(K.precision){case 2:ne=[F(pe/255),F(me/255),F(Fe/255),ze[1]].join(" ");break;default:case 3:ne=[B(pe/255),B(me/255),B(Fe/255),ze[1]].join(" ")}}else if(typeof pe=="string")ne=[pe,me,Fe,Ue,ze[2]].join(" ");else switch(K.precision){case 2:ne=[F(pe),F(me),F(Fe),F(Ue),ze[2]].join(" ");break;case 3:default:ne=[B(pe),B(me),B(Fe),B(Ue),ze[2]].join(" ")}return ne},Ft=u.__private__.getFilters=function(){return r},li=u.__private__.putStream=function(K){var ne=(K=K||{}).data||"",pe=K.filters||Ft(),me=K.alreadyAppliedFilters||[],Fe=K.addLength1||!1,Ue=ne.length,ze=K.objectId,it=function(Mn){return Mn};if(p!==null&&ze===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(it=Ln.encryptor(ze,0));var ht={};pe===!0&&(pe=["FlateEncode"]);var Et=K.additionalKeyValues||[],St=(ht=pt.API.processDataByFilters!==void 0?pt.API.processDataByFilters(ne,pe):{data:ne,reverseChain:[]}).reverseChain+(Array.isArray(me)?me.join(" "):me.toString());if(ht.data.length!==0&&(Et.push({key:"Length",value:ht.data.length}),Fe===!0&&Et.push({key:"Length1",value:Ue})),St.length!=0)if(St.split("/").length-1==1)Et.push({key:"Filter",value:St});else{Et.push({key:"Filter",value:"["+St+"]"});for(var Ht=0;Ht<Et.length;Ht+=1)if(Et[Ht].key==="DecodeParms"){for(var Si=[],Ei=0;Ei<ht.reverseChain.split("/").length-1;Ei+=1)Si.push("null");Si.push(Et[Ht].value),Et[Ht].value="["+Si.join(" ")+"]"}}re("<<");for(var Yi=0;Yi<Et.length;Yi++)re("/"+Et[Yi].key+" "+Et[Yi].value);re(">>"),ht.data.length!==0&&(re("stream"),re(it(ht.data)),re("endstream"))},ns=u.__private__.putPage=function(K){var ne=K.number,pe=K.data,me=K.objId,Fe=K.contentsObjId;zn(me,!0),re("<</Type /Page"),re("/Parent "+K.rootDictionaryObjId+" 0 R"),re("/Resources "+K.resourceDictionaryObjId+" 0 R"),re("/MediaBox ["+parseFloat(b(K.mediaBox.bottomLeftX))+" "+parseFloat(b(K.mediaBox.bottomLeftY))+" "+b(K.mediaBox.topRightX)+" "+b(K.mediaBox.topRightY)+"]"),K.cropBox!==null&&re("/CropBox ["+b(K.cropBox.bottomLeftX)+" "+b(K.cropBox.bottomLeftY)+" "+b(K.cropBox.topRightX)+" "+b(K.cropBox.topRightY)+"]"),K.bleedBox!==null&&re("/BleedBox ["+b(K.bleedBox.bottomLeftX)+" "+b(K.bleedBox.bottomLeftY)+" "+b(K.bleedBox.topRightX)+" "+b(K.bleedBox.topRightY)+"]"),K.trimBox!==null&&re("/TrimBox ["+b(K.trimBox.bottomLeftX)+" "+b(K.trimBox.bottomLeftY)+" "+b(K.trimBox.topRightX)+" "+b(K.trimBox.topRightY)+"]"),K.artBox!==null&&re("/ArtBox ["+b(K.artBox.bottomLeftX)+" "+b(K.artBox.bottomLeftY)+" "+b(K.artBox.topRightX)+" "+b(K.artBox.topRightY)+"]"),typeof K.userUnit=="number"&&K.userUnit!==1&&re("/UserUnit "+K.userUnit),Qt.publish("putPage",{objId:me,pageContext:xt[ne],pageNumber:ne,page:pe}),re("/Contents "+Fe+" 0 R"),re(">>"),re("endobj");var Ue=pe.join(`
`);return g===A.ADVANCED&&(Ue+=`
Q`),zn(Fe,!0),li({data:Ue,filters:Ft(),objectId:Fe}),re("endobj"),me},rl=u.__private__.putPages=function(){var K,ne,pe=[];for(K=1;K<=mi;K++)xt[K].objId=bi(),xt[K].contentsObjId=bi();for(K=1;K<=mi;K++)pe.push(ns({number:K,data:te[K],objId:xt[K].objId,contentsObjId:xt[K].contentsObjId,mediaBox:xt[K].mediaBox,cropBox:xt[K].cropBox,bleedBox:xt[K].bleedBox,trimBox:xt[K].trimBox,artBox:xt[K].artBox,userUnit:xt[K].userUnit,rootDictionaryObjId:vr,resourceDictionaryObjId:Ae}));zn(vr,!0),re("<</Type /Pages");var me="/Kids [";for(ne=0;ne<mi;ne++)me+=pe[ne]+" 0 R ";re(me+"]"),re("/Count "+mi),re(">>"),re("endobj"),Qt.publish("postPutPages")},ru=function(K){Qt.publish("putFont",{font:K,out:re,newObject:Ii,putStream:li}),K.isAlreadyPutted!==!0&&(K.objectNumber=Ii(),re("<<"),re("/Type /Font"),re("/BaseFont /"+_u(K.postScriptName)),re("/Subtype /Type1"),typeof K.encoding=="string"&&re("/Encoding /"+K.encoding),re("/FirstChar 32"),re("/LastChar 255"),re(">>"),re("endobj"))},au=function(){for(var K in Xe)Xe.hasOwnProperty(K)&&(c===!1||c===!0&&o.hasOwnProperty(K))&&ru(Xe[K])},ou=function(K){K.objectNumber=Ii();var ne=[];ne.push({key:"Type",value:"/XObject"}),ne.push({key:"Subtype",value:"/Form"}),ne.push({key:"BBox",value:"["+[b(K.x),b(K.y),b(K.x+K.width),b(K.y+K.height)].join(" ")+"]"}),ne.push({key:"Matrix",value:"["+K.matrix.toString()+"]"});var pe=K.pages[1].join(`
`);li({data:pe,additionalKeyValues:ne,objectId:K.objectNumber}),re("endobj")},lu=function(){for(var K in Kt)Kt.hasOwnProperty(K)&&ou(Kt[K])},_A=function(K,ne){var pe,me=[],Fe=1/(ne-1);for(pe=0;pe<1;pe+=Fe)me.push(pe);if(me.push(1),K[0].offset!=0){var Ue={offset:0,color:K[0].color};K.unshift(Ue)}if(K[K.length-1].offset!=1){var ze={offset:1,color:K[K.length-1].color};K.push(ze)}for(var it="",ht=0,Et=0;Et<me.length;Et++){for(pe=me[Et];pe>K[ht+1].offset;)ht++;var St=K[ht].offset,Ht=(pe-St)/(K[ht+1].offset-St),Si=K[ht].color,Ei=K[ht+1].color;it+=k(Math.round((1-Ht)*Si[0]+Ht*Ei[0]).toString(16))+k(Math.round((1-Ht)*Si[1]+Ht*Ei[1]).toString(16))+k(Math.round((1-Ht)*Si[2]+Ht*Ei[2]).toString(16))}return it.trim()},B0=function(K,ne){ne||(ne=21);var pe=Ii(),me=_A(K.colors,ne),Fe=[];Fe.push({key:"FunctionType",value:"0"}),Fe.push({key:"Domain",value:"[0.0 1.0]"}),Fe.push({key:"Size",value:"["+ne+"]"}),Fe.push({key:"BitsPerSample",value:"8"}),Fe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Fe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),li({data:me,additionalKeyValues:Fe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:pe}),re("endobj"),K.objectNumber=Ii(),re("<< /ShadingType "+K.type),re("/ColorSpace /DeviceRGB");var Ue="/Coords ["+b(parseFloat(K.coords[0]))+" "+b(parseFloat(K.coords[1]))+" ";K.type===2?Ue+=b(parseFloat(K.coords[2]))+" "+b(parseFloat(K.coords[3])):Ue+=b(parseFloat(K.coords[2]))+" "+b(parseFloat(K.coords[3]))+" "+b(parseFloat(K.coords[4]))+" "+b(parseFloat(K.coords[5])),re(Ue+="]"),K.matrix&&re("/Matrix ["+K.matrix.toString()+"]"),re("/Function "+pe+" 0 R"),re("/Extend [true true]"),re(">>"),re("endobj")},F0=function(K,ne){var pe=bi(),me=Ii();ne.push({resourcesOid:pe,objectOid:me}),K.objectNumber=me;var Fe=[];Fe.push({key:"Type",value:"/Pattern"}),Fe.push({key:"PatternType",value:"1"}),Fe.push({key:"PaintType",value:"1"}),Fe.push({key:"TilingType",value:"1"}),Fe.push({key:"BBox",value:"["+K.boundingBox.map(b).join(" ")+"]"}),Fe.push({key:"XStep",value:b(K.xStep)}),Fe.push({key:"YStep",value:b(K.yStep)}),Fe.push({key:"Resources",value:pe+" 0 R"}),K.matrix&&Fe.push({key:"Matrix",value:"["+K.matrix.toString()+"]"}),li({data:K.stream,additionalKeyValues:Fe,objectId:K.objectNumber}),re("endobj")},uu=function(K){var ne;for(ne in ft)ft.hasOwnProperty(ne)&&(ft[ne]instanceof Fl?B0(ft[ne]):ft[ne]instanceof xh&&F0(ft[ne],K))},ef=function(K){for(var ne in K.objectNumber=Ii(),re("<<"),K)switch(ne){case"opacity":re("/ca "+F(K[ne]));break;case"stroke-opacity":re("/CA "+F(K[ne]))}re(">>"),re("endobj")},N0=function(){var K;for(K in Gt)Gt.hasOwnProperty(K)&&ef(Gt[K])},vc=function(){for(var K in re("/XObject <<"),Kt)Kt.hasOwnProperty(K)&&Kt[K].objectNumber>=0&&re("/"+K+" "+Kt[K].objectNumber+" 0 R");Qt.publish("putXobjectDict"),re(">>")},L0=function(){Ln.oid=Ii(),re("<<"),re("/Filter /Standard"),re("/V "+Ln.v),re("/R "+Ln.r),re("/U <"+Ln.toHexString(Ln.U)+">"),re("/O <"+Ln.toHexString(Ln.O)+">"),re("/P "+Ln.P),re(">>"),re("endobj")},tf=function(){for(var K in re("/Font <<"),Xe)Xe.hasOwnProperty(K)&&(c===!1||c===!0&&o.hasOwnProperty(K))&&re("/"+K+" "+Xe[K].objectNumber+" 0 R");re(">>")},M0=function(){if(Object.keys(ft).length>0){for(var K in re("/Shading <<"),ft)ft.hasOwnProperty(K)&&ft[K]instanceof Fl&&ft[K].objectNumber>=0&&re("/"+K+" "+ft[K].objectNumber+" 0 R");Qt.publish("putShadingPatternDict"),re(">>")}},hu=function(K){if(Object.keys(ft).length>0){for(var ne in re("/Pattern <<"),ft)ft.hasOwnProperty(ne)&&ft[ne]instanceof u.TilingPattern&&ft[ne].objectNumber>=0&&ft[ne].objectNumber<K&&re("/"+ne+" "+ft[ne].objectNumber+" 0 R");Qt.publish("putTilingPatternDict"),re(">>")}},R0=function(){if(Object.keys(Gt).length>0){var K;for(K in re("/ExtGState <<"),Gt)Gt.hasOwnProperty(K)&&Gt[K].objectNumber>=0&&re("/"+K+" "+Gt[K].objectNumber+" 0 R");Qt.publish("putGStateDict"),re(">>")}},Pi=function(K){zn(K.resourcesOid,!0),re("<<"),re("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),tf(),M0(),hu(K.objectOid),R0(),vc(),re(">>"),re("endobj")},nf=function(){var K=[];au(),N0(),lu(),uu(K),Qt.publish("putResources"),K.forEach(Pi),Pi({resourcesOid:Ae,objectOid:Number.MAX_SAFE_INTEGER}),Qt.publish("postPutResources")},sf=function(){Qt.publish("putAdditionalObjects");for(var K=0;K<_.length;K++){var ne=_[K];zn(ne.objId,!0),re(ne.content),re("endobj")}Qt.publish("postPutAdditionalObjects")},rf=function(K){rt[K.fontName]=rt[K.fontName]||{},rt[K.fontName][K.fontStyle]=K.id},mc=function(K,ne,pe,me,Fe){var Ue={id:"F"+(Object.keys(Xe).length+1).toString(10),postScriptName:K,fontName:ne,fontStyle:pe,encoding:me,isStandardFont:Fe||!1,metadata:{}};return Qt.publish("addFont",{font:Ue,instance:this}),Xe[Ue.id]=Ue,rf(Ue),Ue.id},I0=function(K){for(var ne=0,pe=Ee.length;ne<pe;ne++){var me=mc.call(this,K[ne][0],K[ne][1],K[ne][2],Ee[ne][3],!0);c===!1&&(o[me]=!0);var Fe=K[ne][0].split("-");rf({id:me,fontName:Fe[0],fontStyle:Fe[1]||""})}Qt.publish("addFonts",{fonts:Xe,dictionary:rt})},mr=function(K){return K.foo=function(){try{return K.apply(this,arguments)}catch(me){var ne=me.stack||"";~ne.indexOf(" at ")&&(ne=ne.split(" at ")[1]);var pe="Error in function "+ne.split(`
`)[0].split("<")[0]+": "+me.message;if(!gt.console)throw new Error(pe);gt.console.error(pe,me),gt.alert&&alert(pe)}},K.foo.bar=K,K.foo},cu=function(K,ne){var pe,me,Fe,Ue,ze,it,ht,Et,St;if(Fe=(ne=ne||{}).sourceEncoding||"Unicode",ze=ne.outputEncoding,(ne.autoencode||ze)&&Xe[tt].metadata&&Xe[tt].metadata[Fe]&&Xe[tt].metadata[Fe].encoding&&(Ue=Xe[tt].metadata[Fe].encoding,!ze&&Xe[tt].encoding&&(ze=Xe[tt].encoding),!ze&&Ue.codePages&&(ze=Ue.codePages[0]),typeof ze=="string"&&(ze=Ue[ze]),ze)){for(ht=!1,it=[],pe=0,me=K.length;pe<me;pe++)(Et=ze[K.charCodeAt(pe)])?it.push(String.fromCharCode(Et)):it.push(K[pe]),it[pe].charCodeAt(0)>>8&&(ht=!0);K=it.join("")}for(pe=K.length;ht===void 0&&pe!==0;)K.charCodeAt(pe-1)>>8&&(ht=!0),pe--;if(!ht)return K;for(it=ne.noBOM?[]:[254,255],pe=0,me=K.length;pe<me;pe++){if((St=(Et=K.charCodeAt(pe))>>8)>>8)throw new Error("Character at position "+pe+" of string '"+K+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");it.push(St),it.push(Et-(St<<8))}return String.fromCharCode.apply(void 0,it)},ss=u.__private__.pdfEscape=u.pdfEscape=function(K,ne){return cu(K,ne).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},yc=u.__private__.beginPage=function(K){te[++mi]=[],xt[mi]={objId:0,contentsObjId:0,userUnit:Number(x),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(K[0]),topRightY:Number(K[1])}},of(mi),ue(te[H])},af=function(K,ne){var pe,me,Fe;switch(n=ne||n,typeof K=="string"&&(pe=h(K.toLowerCase()),Array.isArray(pe)&&(me=pe[0],Fe=pe[1])),Array.isArray(K)&&(me=K[0]*Ve,Fe=K[1]*Ve),isNaN(me)&&(me=m[0],Fe=m[1]),(me>14400||Fe>14400)&&(ai.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),me=Math.min(14400,me),Fe=Math.min(14400,Fe)),m=[me,Fe],n.substr(0,1)){case"l":Fe>me&&(m=[Fe,me]);break;case"p":me>Fe&&(m=[Fe,me])}yc(m),Af(bc),re(yr),Tc!==0&&re(Tc+" J"),Ec!==0&&re(Ec+" j"),Qt.publish("addPage",{pageNumber:mi})},P0=function(K){K>0&&K<=mi&&(te.splice(K,1),xt.splice(K,1),mi--,H>mi&&(H=mi),this.setPage(H))},of=function(K){K>0&&K<=mi&&(H=K)},U0=u.__private__.getNumberOfPages=u.getNumberOfPages=function(){return te.length-1},lf=function(K,ne,pe){var me,Fe=void 0;return pe=pe||{},K=K!==void 0?K:Xe[tt].fontName,ne=ne!==void 0?ne:Xe[tt].fontStyle,me=K.toLowerCase(),rt[me]!==void 0&&rt[me][ne]!==void 0?Fe=rt[me][ne]:rt[K]!==void 0&&rt[K][ne]!==void 0?Fe=rt[K][ne]:pe.disableWarning===!1&&ai.warn("Unable to look up font label for font '"+K+"', '"+ne+"'. Refer to getFontList() for available fonts."),Fe||pe.noFallback||(Fe=rt.times[ne])==null&&(Fe=rt.times.normal),Fe},D0=u.__private__.putInfo=function(){var K=Ii(),ne=function(me){return me};for(var pe in p!==null&&(ne=Ln.encryptor(K,0)),re("<<"),re("/Producer ("+ss(ne("jsPDF "+pt.version))+")"),Ye)Ye.hasOwnProperty(pe)&&Ye[pe]&&re("/"+pe.substr(0,1).toUpperCase()+pe.substr(1)+" ("+ss(ne(Ye[pe]))+")");re("/CreationDate ("+ss(ne(I))+")"),re(">>"),re("endobj")},xc=u.__private__.putCatalog=function(K){var ne=(K=K||{}).rootDictionaryObjId||vr;switch(Ii(),re("<<"),re("/Type /Catalog"),re("/Pages "+ne+" 0 R"),Be||(Be="fullwidth"),Be){case"fullwidth":re("/OpenAction [3 0 R /FitH null]");break;case"fullheight":re("/OpenAction [3 0 R /FitV null]");break;case"fullpage":re("/OpenAction [3 0 R /Fit]");break;case"original":re("/OpenAction [3 0 R /XYZ null null 1]");break;default:var pe=""+Be;pe.substr(pe.length-1)==="%"&&(Be=parseInt(Be)/100),typeof Be=="number"&&re("/OpenAction [3 0 R /XYZ null null "+F(Be)+"]")}switch(We||(We="continuous"),We){case"continuous":re("/PageLayout /OneColumn");break;case"single":re("/PageLayout /SinglePage");break;case"two":case"twoleft":re("/PageLayout /TwoColumnLeft");break;case"tworight":re("/PageLayout /TwoColumnRight")}Pe&&re("/PageMode /"+Pe),Qt.publish("putCatalog"),re(">>"),re("endobj")},O0=u.__private__.putTrailer=function(){re("trailer"),re("<<"),re("/Size "+(X+1)),re("/Root "+X+" 0 R"),re("/Info "+(X-1)+" 0 R"),p!==null&&re("/Encrypt "+Ln.oid+" 0 R"),re("/ID [ <"+M+"> <"+M+"> ]"),re(">>")},k0=u.__private__.putHeader=function(){re("%PDF-"+l),re("%")},H0=u.__private__.putXRef=function(){var K="0000000000";re("xref"),re("0 "+(X+1)),re("0000000000 65535 f ");for(var ne=1;ne<=X;ne++)typeof Q[ne]=="function"?re((K+Q[ne]()).slice(-10)+" 00000 n "):Q[ne]!==void 0?re((K+Q[ne]).slice(-10)+" 00000 n "):re("0000000000 00000 n ")},aa=u.__private__.buildDocument=function(){ge(),ue(J),Qt.publish("buildDocument"),k0(),rl(),sf(),nf(),p!==null&&L0(),D0(),xc();var K=$;return H0(),O0(),re("startxref"),re(""+K),re("%%EOF"),ue(te[H]),J.join(`
`)},du=u.__private__.getBlob=function(K){return new Blob([ye(K)],{type:"application/pdf"})},Au=u.output=u.__private__.output=mr(function(K,ne){switch(typeof(ne=ne||{})=="string"?ne={filename:ne}:ne.filename=ne.filename||"generated.pdf",K){case void 0:return aa();case"save":u.save(ne.filename);break;case"arraybuffer":return ye(aa());case"blob":return du(aa());case"bloburi":case"bloburl":if(gt.URL!==void 0&&typeof gt.URL.createObjectURL=="function")return gt.URL&&gt.URL.createObjectURL(du(aa()))||void 0;ai.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var pe="",me=aa();try{pe=v2(me)}catch{pe=v2(unescape(encodeURIComponent(me)))}return"data:application/pdf;filename="+ne.filename+";base64,"+pe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(gt)==="[object Window]"){var Fe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ue=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ne.pdfObjectUrl&&(Fe=ne.pdfObjectUrl,Ue="");var ze='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Fe+'"'+Ue+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ne)+");<\/script></body></html>",it=gt.open();return it!==null&&it.document.write(ze),it}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(gt)==="[object Window]"){var ht='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ne.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ne.filename+'" width="500px" height="400px" /></body></html>',Et=gt.open();if(Et!==null){Et.document.write(ht);var St=this;Et.document.documentElement.querySelector("#pdfViewer").onload=function(){Et.document.title=ne.filename,Et.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(St.output("bloburl"))}}return Et}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(gt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Ht='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ne)+'"></iframe></body></html>',Si=gt.open();if(Si!==null&&(Si.document.write(Ht),Si.document.title=ne.filename),Si||typeof safari>"u")return Si;break;case"datauri":case"dataurl":return gt.document.location.href=this.output("datauristring",ne);default:return null}}),uf=function(K){return Array.isArray(on)===!0&&on.indexOf(K)>-1};switch(s){case"pt":Ve=1;break;case"mm":Ve=72/25.4;break;case"cm":Ve=72/2.54;break;case"in":Ve=72;break;case"px":Ve=uf("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ve=12;break;case"ex":Ve=6;break;default:if(typeof s!="number")throw new Error("Invalid unit: "+s);Ve=s}var Ln=null;Z(),U();var G0=function(K){return p!==null?Ln.encryptor(K,0):function(ne){return ne}},hf=u.__private__.getPageInfo=u.getPageInfo=function(K){if(isNaN(K)||K%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:xt[K].objId,pageNumber:K,pageContext:xt[K]}},wt=u.__private__.getPageInfoByObjId=function(K){if(isNaN(K)||K%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ne in xt)if(xt[ne].objId===K)break;return hf(ne)},Q0=u.__private__.getCurrentPageInfo=u.getCurrentPageInfo=function(){return{objId:xt[H].objId,pageNumber:H,pageContext:xt[H]}};u.addPage=function(){return af.apply(this,arguments),this},u.setPage=function(){return of.apply(this,arguments),ue.call(this,te[H]),this},u.insertPage=function(K){return this.addPage(),this.movePage(H,K),this},u.movePage=function(K,ne){var pe,me;if(K>ne){pe=te[K],me=xt[K];for(var Fe=K;Fe>ne;Fe--)te[Fe]=te[Fe-1],xt[Fe]=xt[Fe-1];te[ne]=pe,xt[ne]=me,this.setPage(ne)}else if(K<ne){pe=te[K],me=xt[K];for(var Ue=K;Ue<ne;Ue++)te[Ue]=te[Ue+1],xt[Ue]=xt[Ue+1];te[ne]=pe,xt[ne]=me,this.setPage(ne)}return this},u.deletePage=function(){return P0.apply(this,arguments),this},u.__private__.text=u.text=function(K,ne,pe,me,Fe){var Ue,ze,it,ht,Et,St,Ht,Si,Ei,Yi=(me=me||{}).scope||this;if(typeof K=="number"&&typeof ne=="number"&&(typeof pe=="string"||Array.isArray(pe))){var Mn=pe;pe=ne,ne=K,K=Mn}if(arguments[3]instanceof dt?(T("The transform parameter of text() with a Matrix value"),Ei=Fe):(it=arguments[4],ht=arguments[5],Vt(Ht=arguments[3])==="object"&&Ht!==null||(typeof it=="string"&&(ht=it,it=null),typeof Ht=="string"&&(ht=Ht,Ht=null),typeof Ht=="number"&&(it=Ht,Ht=null),me={flags:Ht,angle:it,align:ht})),isNaN(ne)||isNaN(pe)||K==null)throw new Error("Invalid arguments passed to jsPDF.text");if(K.length===0)return Yi;var ln="",xr=!1,Ss=typeof me.lineHeightFactor=="number"?me.lineHeightFactor:ol,jr=Yi.internal.scaleFactor;function yf(ui){return ui=ui.split("	").join(Array(me.TabLen||9).join(" ")),ss(ui,Ht)}function Mc(ui){for(var hi,Di=ui.concat(),en=[],ca=Di.length;ca--;)typeof(hi=Di.shift())=="string"?en.push(hi):Array.isArray(ui)&&(hi.length===1||hi[1]===void 0&&hi[2]===void 0)?en.push(hi[0]):en.push([hi[0],hi[1],hi[2]]);return en}function Rc(ui,hi){var Di;if(typeof ui=="string")Di=hi(ui)[0];else if(Array.isArray(ui)){for(var en,ca,Gc=ui.concat(),Fu=[],Sf=Gc.length;Sf--;)typeof(en=Gc.shift())=="string"?Fu.push(hi(en)[0]):Array.isArray(en)&&typeof en[0]=="string"&&(ca=hi(en[0],en[1],en[2]),Fu.push([ca[0],ca[1],ca[2]]));Di=Fu}return Di}var yu=!1,Ic=!0;if(typeof K=="string")yu=!0;else if(Array.isArray(K)){var Pc=K.concat();ze=[];for(var xu,mn=Pc.length;mn--;)(typeof(xu=Pc.shift())!="string"||Array.isArray(xu)&&typeof xu[0]!="string")&&(Ic=!1);yu=Ic}if(yu===!1)throw new Error('Type of text must be string or Array. "'+K+'" is not recognized.');typeof K=="string"&&(K=K.match(/[\r?\n]/)?K.split(/\r\n|\r|\n/g):[K]);var wu=Me/Yi.internal.scaleFactor,Cu=wu*(Ss-1);switch(me.baseline){case"bottom":pe-=Cu;break;case"top":pe+=wu-Cu;break;case"hanging":pe+=wu-2*Cu;break;case"middle":pe+=wu/2-Cu}if((St=me.maxWidth||0)>0&&(typeof K=="string"?K=Yi.splitTextToSize(K,St):Object.prototype.toString.call(K)==="[object Array]"&&(K=K.reduce(function(ui,hi){return ui.concat(Yi.splitTextToSize(hi,St))},[]))),Ue={text:K,x:ne,y:pe,options:me,mutex:{pdfEscape:ss,activeFontKey:tt,fonts:Xe,activeFontSize:Me}},Qt.publish("preProcessText",Ue),K=Ue.text,it=(me=Ue.options).angle,!(Ei instanceof dt)&&it&&typeof it=="number"){it*=Math.PI/180,me.rotationDirection===0&&(it=-it),g===A.ADVANCED&&(it=-it);var bu=Math.cos(it),Uc=Math.sin(it);Ei=new dt(bu,Uc,-Uc,bu,0,0)}else it&&it instanceof dt&&(Ei=it);g!==A.ADVANCED||Ei||(Ei=Vs),(Et=me.charSpace||gu)!==void 0&&(ln+=b(N(Et))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Si=me.horizontalScale)!==void 0&&(ln+=b(100*Si)+` Tz
`),me.lang;var rs=-1,$0=me.renderingMode!==void 0?me.renderingMode:me.stroke,Dc=Yi.internal.getCurrentPageInfo().pageContext;switch($0){case 0:case!1:case"fill":rs=0;break;case 1:case!0:case"stroke":rs=1;break;case 2:case"fillThenStroke":rs=2;break;case 3:case"invisible":rs=3;break;case 4:case"fillAndAddForClipping":rs=4;break;case 5:case"strokeAndAddPathForClipping":rs=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":rs=6;break;case 7:case"addToPathForClipping":rs=7}var xf=Dc.usedRenderingMode!==void 0?Dc.usedRenderingMode:-1;rs!==-1?ln+=rs+` Tr
`:xf!==-1&&(ln+=`0 Tr
`),rs!==-1&&(Dc.usedRenderingMode=rs),ht=me.align||"left";var zs,Su=Me*Ss,wf=Yi.internal.pageSize.getWidth(),Cf=Xe[tt];Et=me.charSpace||gu,St=me.maxWidth||0,Ht=Object.assign({autoencode:!0,noBOM:!0},me.flags);var Ja=[],hl=function(ui){return Yi.getStringUnitWidth(ui,{font:Cf,charSpace:Et,fontSize:Me,doKerning:!1})*Me/jr};if(Object.prototype.toString.call(K)==="[object Array]"){var as;ze=Mc(K),ht!=="left"&&(zs=ze.map(hl));var Yn,Za=0;if(ht==="right"){ne-=zs[0],K=[],mn=ze.length;for(var la=0;la<mn;la++)la===0?(Yn=Qr(ne),as=oa(pe)):(Yn=N(Za-zs[la]),as=-Su),K.push([ze[la],Yn,as]),Za=zs[la]}else if(ht==="center"){ne-=zs[0]/2,K=[],mn=ze.length;for(var ua=0;ua<mn;ua++)ua===0?(Yn=Qr(ne),as=oa(pe)):(Yn=N((Za-zs[ua])/2),as=-Su),K.push([ze[ua],Yn,as]),Za=zs[ua]}else if(ht==="left"){K=[],mn=ze.length;for(var Tu=0;Tu<mn;Tu++)K.push(ze[Tu])}else if(ht==="justify"&&Cf.encoding==="Identity-H"){K=[],mn=ze.length,St=St!==0?St:wf;for(var ha=0,Ui=0;Ui<mn;Ui++)if(as=Ui===0?oa(pe):-Su,Yn=Ui===0?Qr(ne):ha,Ui<mn-1){var Oc=N((St-zs[Ui])/(ze[Ui].split(" ").length-1)),Xn=ze[Ui].split(" ");K.push([Xn[0]+" ",Yn,as]),ha=0;for(var Ys=1;Ys<Xn.length;Ys++){var Eu=(hl(Xn[Ys-1]+" "+Xn[Ys])-hl(Xn[Ys]))*jr+Oc;Ys==Xn.length-1?K.push([Xn[Ys],Eu,0]):K.push([Xn[Ys]+" ",Eu,0]),ha-=Eu}}else K.push([ze[Ui],Yn,as]);K.push(["",ha,0])}else{if(ht!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(K=[],mn=ze.length,St=St!==0?St:wf,Ui=0;Ui<mn;Ui++)as=Ui===0?oa(pe):-Su,Yn=Ui===0?Qr(ne):0,Ui<mn-1?Ja.push(b(N((St-zs[Ui])/(ze[Ui].split(" ").length-1)))):Ja.push(0),K.push([ze[Ui],Yn,as])}}var bf=typeof me.R2L=="boolean"?me.R2L:Re;bf===!0&&(K=Rc(K,function(ui,hi,Di){return[ui.split("").reverse().join(""),hi,Di]})),Ue={text:K,x:ne,y:pe,options:me,mutex:{pdfEscape:ss,activeFontKey:tt,fonts:Xe,activeFontSize:Me}},Qt.publish("postProcessText",Ue),K=Ue.text,xr=Ue.mutex.isHex||!1;var kc=Xe[tt].encoding;kc!=="WinAnsiEncoding"&&kc!=="StandardEncoding"||(K=Rc(K,function(ui,hi,Di){return[yf(ui),hi,Di]})),ze=Mc(K),K=[];for(var cl,dl,$a,Al=0,Bu=1,fl=Array.isArray(ze[0])?Bu:Al,qa="",Hc=function(ui,hi,Di){var en="";return Di instanceof dt?(Di=typeof me.angle=="number"?bs(Di,new dt(1,0,0,1,ui,hi)):bs(new dt(1,0,0,1,ui,hi),Di),g===A.ADVANCED&&(Di=bs(new dt(1,0,0,-1,0,0),Di)),en=Di.join(" ")+` Tm
`):en=b(ui)+" "+b(hi)+` Td
`,en},Xs=0;Xs<ze.length;Xs++){switch(qa="",fl){case Bu:$a=(xr?"<":"(")+ze[Xs][0]+(xr?">":")"),cl=parseFloat(ze[Xs][1]),dl=parseFloat(ze[Xs][2]);break;case Al:$a=(xr?"<":"(")+ze[Xs]+(xr?">":")"),cl=Qr(ne),dl=oa(pe)}Ja!==void 0&&Ja[Xs]!==void 0&&(qa=Ja[Xs]+` Tw
`),Xs===0?K.push(qa+Hc(cl,dl,Ei)+$a):fl===Al?K.push(qa+$a):fl===Bu&&K.push(qa+Hc(cl,dl,Ei)+$a)}K=fl===Al?K.join(` Tj
T* `):K.join(` Tj
`),K+=` Tj
`;var Ws=`BT
/`;return Ws+=tt+" "+Me+` Tf
`,Ws+=b(Me*Ss)+` TL
`,Ws+=ll+`
`,Ws+=ln,Ws+=K,re(Ws+="ET"),o[tt]=!0,Yi};var j0=u.__private__.clip=u.clip=function(K){return re(K==="evenodd"?"W*":"W"),this};u.clipEvenOdd=function(){return j0("evenodd")},u.__private__.discardPath=u.discardPath=function(){return re("n"),this};var Gr=u.__private__.isValidStyle=function(K){var ne=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(K)!==-1&&(ne=!0),ne};u.__private__.setDefaultPathOperation=u.setDefaultPathOperation=function(K){return Gr(K)&&(a=K),this};var cf=u.__private__.getStyle=u.getStyle=function(K){var ne=a;switch(K){case"D":case"S":ne="S";break;case"F":ne="f";break;case"FD":case"DF":ne="B";break;case"f":case"f*":case"B":case"B*":ne=K}return ne},df=u.close=function(){return re("h"),this};u.stroke=function(){return re("S"),this},u.fill=function(K){return fu("f",K),this},u.fillEvenOdd=function(K){return fu("f*",K),this},u.fillStroke=function(K){return fu("B",K),this},u.fillStrokeEvenOdd=function(K){return fu("B*",K),this};var fu=function(K,ne){Vt(ne)==="object"?z0(ne,K):re(K)},wc=function(K){K===null||g===A.ADVANCED&&K===void 0||(K=cf(K),re(K))};function V0(K,ne,pe,me,Fe){var Ue=new xh(ne||this.boundingBox,pe||this.xStep,me||this.yStep,this.gState,Fe||this.matrix);Ue.stream=this.stream;var ze=K+"$$"+this.cloneIndex+++"$$";return zi(ze,Ue),Ue}var z0=function(K,ne){var pe=Ci[K.key],me=ft[pe];if(me instanceof Fl)re("q"),re(Y0(ne)),me.gState&&u.setGState(me.gState),re(K.matrix.toString()+" cm"),re("/"+pe+" sh"),re("Q");else if(me instanceof xh){var Fe=new dt(1,0,0,-1,0,Ka());K.matrix&&(Fe=Fe.multiply(K.matrix||Vs),pe=V0.call(me,K.key,K.boundingBox,K.xStep,K.yStep,Fe).id),re("q"),re("/Pattern cs"),re("/"+pe+" scn"),me.gState&&u.setGState(me.gState),re(ne),re("Q")}},Y0=function(K){switch(K){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Cc=u.moveTo=function(K,ne){return re(b(N(K))+" "+b(R(ne))+" m"),this},al=u.lineTo=function(K,ne){return re(b(N(K))+" "+b(R(ne))+" l"),this},Xa=u.curveTo=function(K,ne,pe,me,Fe,Ue){return re([b(N(K)),b(R(ne)),b(N(pe)),b(R(me)),b(N(Fe)),b(R(Ue)),"c"].join(" ")),this};u.__private__.line=u.line=function(K,ne,pe,me,Fe){if(isNaN(K)||isNaN(ne)||isNaN(pe)||isNaN(me)||!Gr(Fe))throw new Error("Invalid arguments passed to jsPDF.line");return g===A.COMPAT?this.lines([[pe-K,me-ne]],K,ne,[1,1],Fe||"S"):this.lines([[pe-K,me-ne]],K,ne,[1,1]).stroke()},u.__private__.lines=u.lines=function(K,ne,pe,me,Fe,Ue){var ze,it,ht,Et,St,Ht,Si,Ei,Yi,Mn,ln,xr;if(typeof K=="number"&&(xr=pe,pe=ne,ne=K,K=xr),me=me||[1,1],Ue=Ue||!1,isNaN(ne)||isNaN(pe)||!Array.isArray(K)||!Array.isArray(me)||!Gr(Fe)||typeof Ue!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Cc(ne,pe),ze=me[0],it=me[1],Et=K.length,Mn=ne,ln=pe,ht=0;ht<Et;ht++)(St=K[ht]).length===2?(Mn=St[0]*ze+Mn,ln=St[1]*it+ln,al(Mn,ln)):(Ht=St[0]*ze+Mn,Si=St[1]*it+ln,Ei=St[2]*ze+Mn,Yi=St[3]*it+ln,Mn=St[4]*ze+Mn,ln=St[5]*it+ln,Xa(Ht,Si,Ei,Yi,Mn,ln));return Ue&&df(),wc(Fe),this},u.path=function(K){for(var ne=0;ne<K.length;ne++){var pe=K[ne],me=pe.c;switch(pe.op){case"m":Cc(me[0],me[1]);break;case"l":al(me[0],me[1]);break;case"c":Xa.apply(this,me);break;case"h":df()}}return this},u.__private__.rect=u.rect=function(K,ne,pe,me,Fe){if(isNaN(K)||isNaN(ne)||isNaN(pe)||isNaN(me)||!Gr(Fe))throw new Error("Invalid arguments passed to jsPDF.rect");return g===A.COMPAT&&(me=-me),re([b(N(K)),b(R(ne)),b(N(pe)),b(N(me)),"re"].join(" ")),wc(Fe),this},u.__private__.triangle=u.triangle=function(K,ne,pe,me,Fe,Ue,ze){if(isNaN(K)||isNaN(ne)||isNaN(pe)||isNaN(me)||isNaN(Fe)||isNaN(Ue)||!Gr(ze))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[pe-K,me-ne],[Fe-pe,Ue-me],[K-Fe,ne-Ue]],K,ne,[1,1],ze,!0),this},u.__private__.roundedRect=u.roundedRect=function(K,ne,pe,me,Fe,Ue,ze){if(isNaN(K)||isNaN(ne)||isNaN(pe)||isNaN(me)||isNaN(Fe)||isNaN(Ue)||!Gr(ze))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var it=4/3*(Math.SQRT2-1);return Fe=Math.min(Fe,.5*pe),Ue=Math.min(Ue,.5*me),this.lines([[pe-2*Fe,0],[Fe*it,0,Fe,Ue-Ue*it,Fe,Ue],[0,me-2*Ue],[0,Ue*it,-Fe*it,Ue,-Fe,Ue],[2*Fe-pe,0],[-Fe*it,0,-Fe,-Ue*it,-Fe,-Ue],[0,2*Ue-me],[0,-Ue*it,Fe*it,-Ue,Fe,-Ue]],K+Fe,ne,[1,1],ze,!0),this},u.__private__.ellipse=u.ellipse=function(K,ne,pe,me,Fe){if(isNaN(K)||isNaN(ne)||isNaN(pe)||isNaN(me)||!Gr(Fe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ue=4/3*(Math.SQRT2-1)*pe,ze=4/3*(Math.SQRT2-1)*me;return Cc(K+pe,ne),Xa(K+pe,ne-ze,K+Ue,ne-me,K,ne-me),Xa(K-Ue,ne-me,K-pe,ne-ze,K-pe,ne),Xa(K-pe,ne+ze,K-Ue,ne+me,K,ne+me),Xa(K+Ue,ne+me,K+pe,ne+ze,K+pe,ne),wc(Fe),this},u.__private__.circle=u.circle=function(K,ne,pe,me){if(isNaN(K)||isNaN(ne)||isNaN(pe)||!Gr(me))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(K,ne,pe,pe,me)},u.setFont=function(K,ne,pe){return pe&&(ne=C(ne,pe)),tt=lf(K,ne,{disableWarning:!1}),this};var X0=u.__private__.getFont=u.getFont=function(){return Xe[lf.apply(u,arguments)]};u.__private__.getFontList=u.getFontList=function(){var K,ne,pe={};for(K in rt)if(rt.hasOwnProperty(K))for(ne in pe[K]=[],rt[K])rt[K].hasOwnProperty(ne)&&pe[K].push(ne);return pe},u.addFont=function(K,ne,pe,me,Fe){var Ue=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ue.indexOf(arguments[3])!==-1?Fe=arguments[3]:arguments[3]&&Ue.indexOf(arguments[3])==-1&&(pe=C(pe,me)),Fe=Fe||"Identity-H",mc.call(this,K,ne,pe,Fe)};var ol,bc=t.lineWidth||.200025,pu=u.__private__.getLineWidth=u.getLineWidth=function(){return bc},Af=u.__private__.setLineWidth=u.setLineWidth=function(K){return bc=K,re(b(N(K))+" w"),this};u.__private__.setLineDash=pt.API.setLineDash=pt.API.setLineDashPattern=function(K,ne){if(K=K||[],ne=ne||0,isNaN(ne)||!Array.isArray(K))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return K=K.map(function(pe){return b(N(pe))}).join(" "),ne=b(N(ne)),re("["+K+"] "+ne+" d"),this};var ff=u.__private__.getLineHeight=u.getLineHeight=function(){return Me*ol};u.__private__.getLineHeight=u.getLineHeight=function(){return Me*ol};var pf=u.__private__.setLineHeightFactor=u.setLineHeightFactor=function(K){return typeof(K=K||1.15)=="number"&&(ol=K),this},gf=u.__private__.getLineHeightFactor=u.getLineHeightFactor=function(){return ol};pf(t.lineHeight);var Qr=u.__private__.getHorizontalCoordinate=function(K){return N(K)},oa=u.__private__.getVerticalCoordinate=function(K){return g===A.ADVANCED?K:xt[H].mediaBox.topRightY-xt[H].mediaBox.bottomLeftY-N(K)},W0=u.__private__.getHorizontalCoordinateString=u.getHorizontalCoordinateString=function(K){return b(Qr(K))},Wa=u.__private__.getVerticalCoordinateString=u.getVerticalCoordinateString=function(K){return b(oa(K))},yr=t.strokeColor||"0 G";u.__private__.getStrokeColor=u.getDrawColor=function(){return Ke(yr)},u.__private__.setStrokeColor=u.setDrawColor=function(K,ne,pe,me){return yr=$e({ch1:K,ch2:ne,ch3:pe,ch4:me,pdfColorType:"draw",precision:2}),re(yr),this};var Sc=t.fillColor||"0 g";u.__private__.getFillColor=u.getFillColor=function(){return Ke(Sc)},u.__private__.setFillColor=u.setFillColor=function(K,ne,pe,me){return Sc=$e({ch1:K,ch2:ne,ch3:pe,ch4:me,pdfColorType:"fill",precision:2}),re(Sc),this};var ll=t.textColor||"0 g",K0=u.__private__.getTextColor=u.getTextColor=function(){return Ke(ll)};u.__private__.setTextColor=u.setTextColor=function(K,ne,pe,me){return ll=$e({ch1:K,ch2:ne,ch3:pe,ch4:me,pdfColorType:"text",precision:3}),this};var gu=t.charSpace,J0=u.__private__.getCharSpace=u.getCharSpace=function(){return parseFloat(gu||0)};u.__private__.setCharSpace=u.setCharSpace=function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return gu=K,this};var Tc=0;u.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},u.__private__.setLineCap=u.setLineCap=function(K){var ne=u.CapJoinStyles[K];if(ne===void 0)throw new Error("Line cap style of '"+K+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Tc=ne,re(ne+" J"),this};var Ec=0;u.__private__.setLineJoin=u.setLineJoin=function(K){var ne=u.CapJoinStyles[K];if(ne===void 0)throw new Error("Line join style of '"+K+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ec=ne,re(ne+" j"),this},u.__private__.setLineMiterLimit=u.__private__.setMiterLimit=u.setLineMiterLimit=u.setMiterLimit=function(K){if(K=K||0,isNaN(K))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return re(b(N(K))+" M"),this},u.GState=Sv,u.setGState=function(K){(K=typeof K=="string"?Gt[Cs[K]]:vf(null,K)).equals(Gs)||(re("/"+K.id+" gs"),Gs=K)};var vf=function(K,ne){if(!K||!Cs[K]){var pe=!1;for(var me in Gt)if(Gt.hasOwnProperty(me)&&Gt[me].equals(ne)){pe=!0;break}if(pe)ne=Gt[me];else{var Fe="GS"+(Object.keys(Gt).length+1).toString(10);Gt[Fe]=ne,ne.id=Fe}return K&&(Cs[K]=ne.id),Qt.publish("addGState",ne),ne}};u.addGState=function(K,ne){return vf(K,ne),this},u.saveGraphicsState=function(){return re("q"),Rt.push({key:tt,size:Me,color:ll}),this},u.restoreGraphicsState=function(){re("Q");var K=Rt.pop();return tt=K.key,Me=K.size,ll=K.color,Gs=null,this},u.setCurrentTransformationMatrix=function(K){return re(K.toString()+" cm"),this},u.comment=function(K){return re("#"+K),this};var vu=function(K,ne){var pe=K||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return pe},set:function(Ue){isNaN(Ue)||(pe=parseFloat(Ue))}});var me=ne||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return me},set:function(Ue){isNaN(Ue)||(me=parseFloat(Ue))}});var Fe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Fe},set:function(Ue){Fe=Ue.toString()}}),this},Bc=function(K,ne,pe,me){vu.call(this,K,ne),this.type="rect";var Fe=pe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Fe},set:function(ze){isNaN(ze)||(Fe=parseFloat(ze))}});var Ue=me||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ue},set:function(ze){isNaN(ze)||(Ue=parseFloat(ze))}}),this},Fc=function(){this.page=mi,this.currentPage=H,this.pages=te.slice(0),this.pagesContext=xt.slice(0),this.x=ct,this.y=ut,this.matrix=Se,this.width=ul(H),this.height=Ka(H),this.outputDestination=ce,this.id="",this.objectNumber=-1};Fc.prototype.restore=function(){mi=this.page,H=this.currentPage,xt=this.pagesContext,te=this.pages,ct=this.x,ut=this.y,Se=this.matrix,Nc(H,this.width),Lc(H,this.height),ce=this.outputDestination};var mf=function(K,ne,pe,me,Fe){js.push(new Fc),mi=H=0,te=[],ct=K,ut=ne,Se=Fe,yc([pe,me])},Z0=function(K){if(Qs[K])js.pop().restore();else{var ne=new Fc,pe="Xo"+(Object.keys(Kt).length+1).toString(10);ne.id=pe,Qs[K]=pe,Kt[pe]=ne,Qt.publish("addFormObject",ne),js.pop().restore()}};for(var mu in u.beginFormObject=function(K,ne,pe,me,Fe){return mf(K,ne,pe,me,Fe),this},u.endFormObject=function(K){return Z0(K),this},u.doFormObject=function(K,ne){var pe=Kt[Qs[K]];return re("q"),re(ne.toString()+" cm"),re("/"+pe.id+" Do"),re("Q"),this},u.getFormObject=function(K){var ne=Kt[Qs[K]];return{x:ne.x,y:ne.y,width:ne.width,height:ne.height,matrix:ne.matrix}},u.save=function(K,ne){return K=K||"generated.pdf",(ne=ne||{}).returnPromise=ne.returnPromise||!1,ne.returnPromise===!1?(El(du(aa()),K),typeof El.unload=="function"&&gt.setTimeout&&setTimeout(El.unload,911),this):new Promise(function(pe,me){try{var Fe=El(du(aa()),K);typeof El.unload=="function"&&gt.setTimeout&&setTimeout(El.unload,911),pe(Fe)}catch(Ue){me(Ue.message)}})},pt.API)pt.API.hasOwnProperty(mu)&&(mu==="events"&&pt.API.events.length?function(K,ne){var pe,me,Fe;for(Fe=ne.length-1;Fe!==-1;Fe--)pe=ne[Fe][0],me=ne[Fe][1],K.subscribe.apply(K,[pe].concat(typeof me=="function"?[me]:me))}(Qt,pt.API.events):u[mu]=pt.API[mu]);var ul=u.getPageWidth=function(K){return(xt[K=K||H].mediaBox.topRightX-xt[K].mediaBox.bottomLeftX)/Ve},Nc=u.setPageWidth=function(K,ne){xt[K].mediaBox.topRightX=ne*Ve+xt[K].mediaBox.bottomLeftX},Ka=u.getPageHeight=function(K){return(xt[K=K||H].mediaBox.topRightY-xt[K].mediaBox.bottomLeftY)/Ve},Lc=u.setPageHeight=function(K,ne){xt[K].mediaBox.topRightY=ne*Ve+xt[K].mediaBox.bottomLeftY};return u.internal={pdfEscape:ss,getStyle:cf,getFont:X0,getFontSize:ve,getCharSpace:J0,getTextColor:K0,getLineHeight:ff,getLineHeightFactor:gf,getLineWidth:pu,write:Ce,getHorizontalCoordinate:Qr,getVerticalCoordinate:oa,getCoordinateString:W0,getVerticalCoordinateString:Wa,collections:{},newObject:Ii,newAdditionalObject:Ya,newObjectDeferred:bi,newObjectDeferredBegin:zn,getFilters:Ft,putStream:li,events:Qt,scaleFactor:Ve,pageSize:{getWidth:function(){return ul(H)},setWidth:function(K){Nc(H,K)},getHeight:function(){return Ka(H)},setHeight:function(K){Lc(H,K)}},encryptionOptions:p,encryption:Ln,getEncryptor:G0,output:Au,getNumberOfPages:U0,pages:te,out:re,f2:F,f3:B,getPageInfo:hf,getPageInfoByObjId:wt,getCurrentPageInfo:Q0,getPDFVersion:d,Point:vu,Rectangle:Bc,Matrix:dt,hasHotfix:uf},Object.defineProperty(u.internal.pageSize,"width",{get:function(){return ul(H)},set:function(K){Nc(H,K)},enumerable:!0,configurable:!0}),Object.defineProperty(u.internal.pageSize,"height",{get:function(){return Ka(H)},set:function(K){Lc(H,K)},enumerable:!0,configurable:!0}),I0.call(u,Ee),tt="F1",af(m,n),Qt.publish("initialized"),u}qu.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},qu.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},qu.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},qu.prototype.processOwnerPassword=function(t,e){return y2(m2(e).substr(0,5),t)},qu.prototype.encryptor=function(t,e){var n=m2(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(s){return y2(n,s)}},Sv.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||Vt(t)!==Vt(this))return!1;var s=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;s++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&s--;return s===0},pt.API={events:[]},pt.version="2.5.2";var Ni=pt.API,MC=1,su=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Qu=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Tt=function(t){return t.toFixed(2)},lo=function(t){return t.toFixed(5)};Ni.__acroform__={};var ws=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},$4=function(t){return t*MC},Yr=function(t){var e=new _6,n=lt.internal.getHeight(t)||0,s=lt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Tt(s)),Number(Tt(n))],e},wte=Ni.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},Cte=Ni.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},bte=Ni.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Hi=Ni.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return bte(t,e-1)},Gi=Ni.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return wte(t,e-1)},Qi=Ni.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Cte(t,e-1)},Ste=Ni.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,s=e.internal.getVerticalCoordinate,m=t[0],w=t[1],r=t[2],x=t[3],i={};return i.lowerLeft_X=n(m)||0,i.lowerLeft_Y=s(w+x)||0,i.upperRight_X=n(m+r)||0,i.upperRight_Y=s(w)||0,[Number(Tt(i.lowerLeft_X)),Number(Tt(i.lowerLeft_Y)),Number(Tt(i.upperRight_X)),Number(Tt(i.upperRight_Y))]},Tte=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,s=x2(t,n),m=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+m+" "+Tt(s.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(s.text),e.push("ET"),e.push("Q"),e.push("EMC");var w=Yr(t);return w.scope=t.scope,w.stream=e.join(`
`),w}},x2=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,s={text:"",fontSize:""},m=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");m=t.multiline?m.map(function(B){return B.split(`
`)}):m.map(function(B){return[B]});var w=n,r=lt.internal.getHeight(t)||0;r=r<0?-r:r;var x=lt.internal.getWidth(t)||0;x=x<0?-x:x;var i=function(B,N,L){if(B+1<m.length){var R=N+" "+m[B+1][0];return jp(R,t,L).width<=x-4}return!1};w++;e:for(;w>0;){e="",w--;var a,p,c=jp("3",t,w).height,o=t.multiline?r-w:(r-c)/2,u=o+=2,l=0,d=0,f=0;if(w<=0){e=`(...) Tj
`,e+="% Width of Text: "+jp(e,t,w=12).width+", FieldWidth:"+x+`
`;break}for(var h="",A=0,g=0;g<m.length;g++)if(m.hasOwnProperty(g)){var v=!1;if(m[g].length!==1&&f!==m[g].length-1){if((c+2)*(A+2)+2>r)continue e;h+=m[g][f],v=!0,d=g,g--}else{h=(h+=m[g][f]+" ").substr(h.length-1)==" "?h.substr(0,h.length-1):h;var y=parseInt(g),C=i(y,h,w),b=g>=m.length-1;if(C&&!b){h+=" ",f=0;continue}if(C||b){if(b)d=y;else if(t.multiline&&(c+2)*(A+2)+2>r)continue e}else{if(!t.multiline||(c+2)*(A+2)+2>r)continue e;d=y}}for(var T="",S=l;S<=d;S++){var F=m[S];if(t.multiline){if(S===d){T+=F[f]+" ",f=(f+1)%F.length;continue}if(S===l){T+=F[F.length-1]+" ";continue}}T+=F[0]+" "}switch(T=T.substr(T.length-1)==" "?T.substr(0,T.length-1):T,p=jp(T,t,w).width,t.textAlign){case"right":a=x-p-2;break;case"center":a=(x-p)/2;break;case"left":default:a=2}e+=Tt(a)+" "+Tt(u)+` Td
`,e+="("+su(T)+`) Tj
`,e+=-Tt(a)+` 0 Td
`,u=-(w+2),p=0,l=v?d:d+1,A++,h=""}break}return s.text=e,s.fontSize=w,s},jp=function(t,e,n){var s=e.scope.internal.getFont(e.fontName,e.fontStyle),m=e.scope.getStringUnitWidth(t,{font:s,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:s,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:m}},Ete={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Bte=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(s){return s.type===n.type&&s.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},Fte=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var s=n,m=t[n];e.internal.newObjectDeferredBegin(m.objId,!0),Vt(m)==="object"&&typeof m.putStream=="function"&&m.putStream(),delete t[s]}},Nte=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(kr.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(Ete)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");MC=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new eI,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var s=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var m in s)if(s.hasOwnProperty(m)){var w=s[m];w.objId=void 0,w.hasAnnotation&&Bte(w,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(s,m){var w=!s;for(var r in s||(m.internal.newObjectDeferredBegin(m.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),m.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),s=s||m.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(s.hasOwnProperty(r)){var x=s[r],i=[],a=x.Rect;if(x.Rect&&(x.Rect=Ste(x.Rect,m)),m.internal.newObjectDeferredBegin(x.objId,!0),x.DA=lt.createDefaultAppearanceStream(x),Vt(x)==="object"&&typeof x.getKeyValueListForStream=="function"&&(i=x.getKeyValueListForStream()),x.Rect=a,x.hasAppearanceStream&&!x.appearanceStreamContent){var p=Tte(x);i.push({key:"AP",value:"<</N "+p+">>"}),m.internal.acroformPlugin.xForms.push(p)}if(x.appearanceStreamContent){var c="";for(var o in x.appearanceStreamContent)if(x.appearanceStreamContent.hasOwnProperty(o)){var u=x.appearanceStreamContent[o];if(c+="/"+o+" ",c+="<<",Object.keys(u).length>=1||Array.isArray(u)){for(var r in u)if(u.hasOwnProperty(r)){var l=u[r];typeof l=="function"&&(l=l.call(m,x)),c+="/"+r+" "+l+" ",m.internal.acroformPlugin.xForms.indexOf(l)>=0||m.internal.acroformPlugin.xForms.push(l)}}else typeof(l=u)=="function"&&(l=l.call(m,x)),c+="/"+r+" "+l,m.internal.acroformPlugin.xForms.indexOf(l)>=0||m.internal.acroformPlugin.xForms.push(l);c+=">>"}i.push({key:"AP",value:`<<
`+c+">>"})}m.internal.putStream({additionalKeyValues:i,objectId:x.objId}),m.internal.out("endobj")}w&&Fte(m.internal.acroformPlugin.xForms,m)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},q6=Ni.__acroform__.arrayToPdfArray=function(t,e,n){var s=function(r){return r};if(Array.isArray(t)){for(var m="[",w=0;w<t.length;w++)switch(w!==0&&(m+=" "),Vt(t[w])){case"boolean":case"number":case"object":m+=t[w].toString();break;case"string":t[w].substr(0,1)!=="/"?(e!==void 0&&n&&(s=n.internal.getEncryptor(e)),m+="("+su(s(t[w].toString()))+")"):m+=t[w].toString()}return m+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Jy=function(t,e,n){var s=function(m){return m};return e!==void 0&&n&&(s=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+su(s(t))+")"},Jr=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Jr.prototype.toString=function(){return this.objId+" 0 R"},Jr.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Jr.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(w){return w!="content"&&w!="appearanceStreamContent"&&w!="scope"&&w!="objId"&&w.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var s=e[n],m=this[s];m&&(Array.isArray(m)?t.push({key:s,value:q6(m,this.objId,this.scope)}):m instanceof Jr?(m.scope=this.scope,t.push({key:s,value:m.objId+" 0 R"})):typeof m!="function"&&t.push({key:s,value:m}))}return t};var _6=function(){Jr.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};ws(_6,Jr);var eI=function(){Jr.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(s){return s};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+su(n(t))+")"}},set:function(n){t=n}})};ws(eI,Jr);var kr=function t(){Jr.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(h){if(isNaN(h))throw new Error('Invalid value "'+h+'" for attribute F supplied.');e=h}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Hi(e,3)},set:function(h){h?this.F=Gi(e,3):this.F=Qi(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(h){if(isNaN(h))throw new Error('Invalid value "'+h+'" for attribute Ff supplied.');n=h}});var s=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(s.length!==0)return s},set:function(h){s=h!==void 0?h:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[0])?0:s[0]},set:function(h){s[0]=h}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[1])?0:s[1]},set:function(h){s[1]=h}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[2])?0:s[2]},set:function(h){s[2]=h}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[3])?0:s[3]},set:function(h){s[3]=h}});var m="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return m},set:function(h){switch(h){case"/Btn":case"/Tx":case"/Ch":case"/Sig":m=h;break;default:throw new Error('Invalid value "'+h+'" for attribute FT supplied.')}}});var w=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!w||w.length<1){if(this instanceof Tv)return;w="FieldObject"+t.FieldNum++}var h=function(A){return A};return this.scope&&(h=this.scope.internal.getEncryptor(this.objId)),"("+su(h(w))+")"},set:function(h){w=h.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return w},set:function(h){w=h}});var r="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return r},set:function(h){r=h}});var x="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return x},set:function(h){x=h}});var i=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return i},set:function(h){i=h}});var a=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return a===void 0?50/MC:a},set:function(h){a=h}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(h){p=h}});var c="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!c||this instanceof Tv||this instanceof Vl))return Jy(c,this.objId,this.scope)},set:function(h){h=h.toString(),c=h}});var o=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(o)return this instanceof An?o:Jy(o,this.objId,this.scope)},set:function(h){h=h.toString(),o=this instanceof An?h:h.substr(0,1)==="("?Qu(h.substr(1,h.length-2)):Qu(h)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof An?Qu(o.substr(1,o.length-1)):o},set:function(h){h=h.toString(),o=this instanceof An?"/"+h:h}});var u=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(u)return u},set:function(h){this.V=h}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(u)return this instanceof An?u:Jy(u,this.objId,this.scope)},set:function(h){h=h.toString(),u=this instanceof An?h:h.substr(0,1)==="("?Qu(h.substr(1,h.length-2)):Qu(h)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof An?Qu(u.substr(1,u.length-1)):u},set:function(h){h=h.toString(),u=this instanceof An?"/"+h:h}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var l,d=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return d},set:function(h){h=!!h,d=h}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(l)return l},set:function(h){l=h}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,1)},set:function(h){h?this.Ff=Gi(this.Ff,1):this.Ff=Qi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,2)},set:function(h){h?this.Ff=Gi(this.Ff,2):this.Ff=Qi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,3)},set:function(h){h?this.Ff=Gi(this.Ff,3):this.Ff=Qi(this.Ff,3)}});var f=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(f!==null)return f},set:function(h){if([0,1,2].indexOf(h)===-1)throw new Error('Invalid value "'+h+'" for attribute Q supplied.');f=h}}),Object.defineProperty(this,"textAlign",{get:function(){var h;switch(f){case 0:default:h="left";break;case 1:h="center";break;case 2:h="right"}return h},configurable:!0,enumerable:!0,set:function(h){switch(h){case"right":case 2:f=2;break;case"center":case 1:f=1;break;case"left":case 0:default:f=0}}})};ws(kr,Jr);var Rh=function(){kr.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return q6(e,this.objId,this.scope)},set:function(n){var s,m;m=[],typeof(s=n)=="string"&&(m=function(w,r,x){x||(x=1);for(var i,a=[];i=r.exec(w);)a.push(i[x]);return a}(s,/\((.*?)\)/g)),e=m}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,s){for(s=s||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),s!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,18)},set:function(n){n?this.Ff=Gi(this.Ff,18):this.Ff=Qi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Gi(this.Ff,19):this.Ff=Qi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,20)},set:function(n){n?(this.Ff=Gi(this.Ff,20),e.sort()):this.Ff=Qi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,22)},set:function(n){n?this.Ff=Gi(this.Ff,22):this.Ff=Qi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,23)},set:function(n){n?this.Ff=Gi(this.Ff,23):this.Ff=Qi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,27)},set:function(n){n?this.Ff=Gi(this.Ff,27):this.Ff=Qi(this.Ff,27)}}),this.hasAppearanceStream=!1};ws(Rh,kr);var Ih=function(){Rh.call(this),this.fontName="helvetica",this.combo=!1};ws(Ih,Rh);var Ph=function(){Ih.call(this),this.combo=!0};ws(Ph,Ih);var mg=function(){Ph.call(this),this.edit=!0};ws(mg,Ph);var An=function(){kr.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,15)},set:function(n){n?this.Ff=Gi(this.Ff,15):this.Ff=Qi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,16)},set:function(n){n?this.Ff=Gi(this.Ff,16):this.Ff=Qi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,17)},set:function(n){n?this.Ff=Gi(this.Ff,17):this.Ff=Qi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,26)},set:function(n){n?this.Ff=Gi(this.Ff,26):this.Ff=Qi(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(w){return w};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var s,m=[];for(s in m.push("<<"),e)m.push("/"+s+" ("+su(n(e[s]))+")");return m.push(">>"),m.join(`
`)}},set:function(n){Vt(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};ws(An,kr);var yg=function(){An.call(this),this.pushButton=!0};ws(yg,An);var Uh=function(){An.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};ws(Uh,An);var Tv=function(){var t,e;kr.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(m){t=m}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(m){e=m}});var n,s={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var m=function(x){return x};this.scope&&(m=this.scope.internal.getEncryptor(this.objId));var w,r=[];for(w in r.push("<<"),s)r.push("/"+w+" ("+su(m(s[w]))+")");return r.push(">>"),r.join(`
`)},set:function(m){Vt(m)==="object"&&(s=m)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return s.CA||""},set:function(m){typeof m=="string"&&(s.CA=m)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(m){n=m}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(m){n="/"+m}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=lt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ws(Tv,kr),Uh.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Uh.prototype.createOption=function(t){var e=new Tv;return e.Parent=this,e.optionName=t,this.Kids.push(e),Lte.call(this.scope,e),e};var xg=function(){An.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=lt.CheckBox.createAppearanceStream()};ws(xg,An);var Vl=function(){kr.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,13)},set:function(e){e?this.Ff=Gi(this.Ff,13):this.Ff=Qi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,21)},set:function(e){e?this.Ff=Gi(this.Ff,21):this.Ff=Qi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,23)},set:function(e){e?this.Ff=Gi(this.Ff,23):this.Ff=Qi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,24)},set:function(e){e?this.Ff=Gi(this.Ff,24):this.Ff=Qi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,25)},set:function(e){e?this.Ff=Gi(this.Ff,25):this.Ff=Qi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,26)},set:function(e){e?this.Ff=Gi(this.Ff,26):this.Ff=Qi(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ws(Vl,kr);var wg=function(){Vl.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Hi(this.Ff,14)},set:function(t){t?this.Ff=Gi(this.Ff,14):this.Ff=Qi(this.Ff,14)}}),this.password=!0};ws(wg,Vl);var lt={CheckBox:{createAppearanceStream:function(){return{N:{On:lt.CheckBox.YesNormal},D:{On:lt.CheckBox.YesPushDown,Off:lt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Yr(t);e.scope=t.scope;var n=[],s=t.scope.internal.getFont(t.fontName,t.fontStyle).id,m=t.scope.__private__.encodeColorString(t.color),w=x2(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Tt(lt.internal.getWidth(t))+" "+Tt(lt.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+s+" "+Tt(w.fontSize)+" Tf "+m),n.push("BT"),n.push(w.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=Yr(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,s=t.scope.__private__.encodeColorString(t.color),m=[],w=lt.internal.getHeight(t),r=lt.internal.getWidth(t),x=x2(t,t.caption);return m.push("1 g"),m.push("0 0 "+Tt(r)+" "+Tt(w)+" re"),m.push("f"),m.push("q"),m.push("0 0 1 rg"),m.push("0 0 "+Tt(r-1)+" "+Tt(w-1)+" re"),m.push("W"),m.push("n"),m.push("0 g"),m.push("BT"),m.push("/"+n+" "+Tt(x.fontSize)+" Tf "+s),m.push(x.text),m.push("ET"),m.push("Q"),e.stream=m.join(`
`),e},OffPushDown:function(t){var e=Yr(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Tt(lt.internal.getWidth(t))+" "+Tt(lt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:lt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=lt.RadioButton.Circle.YesNormal,e.D[t]=lt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Yr(t);e.scope=t.scope;var n=[],s=lt.internal.getWidth(t)<=lt.internal.getHeight(t)?lt.internal.getWidth(t)/4:lt.internal.getHeight(t)/4;s=Number((.9*s).toFixed(5));var m=lt.internal.Bezier_C,w=Number((s*m).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+lo(lt.internal.getWidth(t)/2)+" "+lo(lt.internal.getHeight(t)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+w+" "+w+" "+s+" 0 "+s+" c"),n.push("-"+w+" "+s+" -"+s+" "+w+" -"+s+" 0 c"),n.push("-"+s+" -"+w+" -"+w+" -"+s+" 0 -"+s+" c"),n.push(w+" -"+s+" "+s+" -"+w+" "+s+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Yr(t);e.scope=t.scope;var n=[],s=lt.internal.getWidth(t)<=lt.internal.getHeight(t)?lt.internal.getWidth(t)/4:lt.internal.getHeight(t)/4;s=Number((.9*s).toFixed(5));var m=Number((2*s).toFixed(5)),w=Number((m*lt.internal.Bezier_C).toFixed(5)),r=Number((s*lt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+lo(lt.internal.getWidth(t)/2)+" "+lo(lt.internal.getHeight(t)/2)+" cm"),n.push(m+" 0 m"),n.push(m+" "+w+" "+w+" "+m+" 0 "+m+" c"),n.push("-"+w+" "+m+" -"+m+" "+w+" -"+m+" 0 c"),n.push("-"+m+" -"+w+" -"+w+" -"+m+" 0 -"+m+" c"),n.push(w+" -"+m+" "+m+" -"+w+" "+m+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+lo(lt.internal.getWidth(t)/2)+" "+lo(lt.internal.getHeight(t)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+r+" "+r+" "+s+" 0 "+s+" c"),n.push("-"+r+" "+s+" -"+s+" "+r+" -"+s+" 0 c"),n.push("-"+s+" -"+r+" -"+r+" -"+s+" 0 -"+s+" c"),n.push(r+" -"+s+" "+s+" -"+r+" "+s+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Yr(t);e.scope=t.scope;var n=[],s=lt.internal.getWidth(t)<=lt.internal.getHeight(t)?lt.internal.getWidth(t)/4:lt.internal.getHeight(t)/4;s=Number((.9*s).toFixed(5));var m=Number((2*s).toFixed(5)),w=Number((m*lt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+lo(lt.internal.getWidth(t)/2)+" "+lo(lt.internal.getHeight(t)/2)+" cm"),n.push(m+" 0 m"),n.push(m+" "+w+" "+w+" "+m+" 0 "+m+" c"),n.push("-"+w+" "+m+" -"+m+" "+w+" -"+m+" 0 c"),n.push("-"+m+" -"+w+" -"+w+" -"+m+" 0 -"+m+" c"),n.push(w+" -"+m+" "+m+" -"+w+" "+m+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:lt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=lt.RadioButton.Cross.YesNormal,e.D[t]=lt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Yr(t);e.scope=t.scope;var n=[],s=lt.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Tt(lt.internal.getWidth(t)-2)+" "+Tt(lt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Tt(s.x1.x)+" "+Tt(s.x1.y)+" m"),n.push(Tt(s.x2.x)+" "+Tt(s.x2.y)+" l"),n.push(Tt(s.x4.x)+" "+Tt(s.x4.y)+" m"),n.push(Tt(s.x3.x)+" "+Tt(s.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Yr(t);e.scope=t.scope;var n=lt.internal.calculateCross(t),s=[];return s.push("0.749023 g"),s.push("0 0 "+Tt(lt.internal.getWidth(t))+" "+Tt(lt.internal.getHeight(t))+" re"),s.push("f"),s.push("q"),s.push("1 1 "+Tt(lt.internal.getWidth(t)-2)+" "+Tt(lt.internal.getHeight(t)-2)+" re"),s.push("W"),s.push("n"),s.push(Tt(n.x1.x)+" "+Tt(n.x1.y)+" m"),s.push(Tt(n.x2.x)+" "+Tt(n.x2.y)+" l"),s.push(Tt(n.x4.x)+" "+Tt(n.x4.y)+" m"),s.push(Tt(n.x3.x)+" "+Tt(n.x3.y)+" l"),s.push("s"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(t){var e=Yr(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Tt(lt.internal.getWidth(t))+" "+Tt(lt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};lt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=lt.internal.getWidth(t),n=lt.internal.getHeight(t),s=Math.min(e,n);return{x1:{x:(e-s)/2,y:(n-s)/2+s},x2:{x:(e-s)/2+s,y:(n-s)/2},x3:{x:(e-s)/2,y:(n-s)/2},x4:{x:(e-s)/2+s,y:(n-s)/2+s}}}},lt.internal.getWidth=function(t){var e=0;return Vt(t)==="object"&&(e=$4(t.Rect[2])),e},lt.internal.getHeight=function(t){var e=0;return Vt(t)==="object"&&(e=$4(t.Rect[3])),e};var Lte=Ni.addField=function(t){if(Nte(this,t),!(t instanceof kr))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Ni.AcroFormChoiceField=Rh,Ni.AcroFormListBox=Ih,Ni.AcroFormComboBox=Ph,Ni.AcroFormEditBox=mg,Ni.AcroFormButton=An,Ni.AcroFormPushButton=yg,Ni.AcroFormRadioButton=Uh,Ni.AcroFormCheckBox=xg,Ni.AcroFormTextField=Vl,Ni.AcroFormPasswordField=wg,Ni.AcroFormAppearance=lt,Ni.AcroForm={ChoiceField:Rh,ListBox:Ih,ComboBox:Ph,EditBox:mg,Button:An,PushButton:yg,RadioButton:Uh,CheckBox:xg,TextField:Vl,PasswordField:wg,Appearance:lt},pt.AcroForm={ChoiceField:Rh,ListBox:Ih,ComboBox:Ph,EditBox:mg,Button:An,PushButton:yg,RadioButton:Uh,CheckBox:xg,TextField:Vl,PasswordField:wg,Appearance:lt};pt.AcroForm;function tI(t){return t.reduce(function(e,n,s){return e[n]=s,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=t.__addimage__.getImageFileTypeByImageData=function(B,N){var L,R,I,M,P,U=e;if((N=N||e)==="RGBA"||B.data!==void 0&&B.data instanceof Uint8ClampedArray&&"height"in B&&"width"in B)return"RGBA";if(C(B))for(P in n)for(I=n[P],L=0;L<I.length;L+=1){for(M=!0,R=0;R<I[L].length;R+=1)if(I[L][R]!==void 0&&I[L][R]!==B[R]){M=!1;break}if(M===!0){U=P;break}}else for(P in n)for(I=n[P],L=0;L<I.length;L+=1){for(M=!0,R=0;R<I[L].length;R+=1)if(I[L][R]!==void 0&&I[L][R]!==B.charCodeAt(R)){M=!1;break}if(M===!0){U=P;break}}return U===e&&N!==e&&(U=N),U},m=function B(N){for(var L=this.internal.write,R=this.internal.putStream,I=(0,this.internal.getFilters)();I.indexOf("FlateEncode")!==-1;)I.splice(I.indexOf("FlateEncode"),1);N.objectId=this.internal.newObject();var M=[];if(M.push({key:"Type",value:"/XObject"}),M.push({key:"Subtype",value:"/Image"}),M.push({key:"Width",value:N.width}),M.push({key:"Height",value:N.height}),N.colorSpace===f.INDEXED?M.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(N.palette.length/3-1)+" "+("sMask"in N&&N.sMask!==void 0?N.objectId+2:N.objectId+1)+" 0 R]"}):(M.push({key:"ColorSpace",value:"/"+N.colorSpace}),N.colorSpace===f.DEVICE_CMYK&&M.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),M.push({key:"BitsPerComponent",value:N.bitsPerComponent}),"decodeParameters"in N&&N.decodeParameters!==void 0&&M.push({key:"DecodeParms",value:"<<"+N.decodeParameters+">>"}),"transparency"in N&&Array.isArray(N.transparency)){for(var P="",U=0,z=N.transparency.length;U<z;U++)P+=N.transparency[U]+" "+N.transparency[U]+" ";M.push({key:"Mask",value:"["+P+"]"})}N.sMask!==void 0&&M.push({key:"SMask",value:N.objectId+1+" 0 R"});var W=N.filter!==void 0?["/"+N.filter]:void 0;if(R({data:N.data,additionalKeyValues:M,alreadyAppliedFilters:W,objectId:N.objectId}),L("endobj"),"sMask"in N&&N.sMask!==void 0){var Z="/Predictor "+N.predictor+" /Colors 1 /BitsPerComponent "+N.bitsPerComponent+" /Columns "+N.width,j={width:N.width,height:N.height,colorSpace:"DeviceGray",bitsPerComponent:N.bitsPerComponent,decodeParameters:Z,data:N.sMask};"filter"in N&&(j.filter=N.filter),B.call(this,j)}if(N.colorSpace===f.INDEXED){var H=this.internal.newObject();R({data:T(new Uint8Array(N.palette)),objectId:H}),L("endobj")}},w=function(){var B=this.internal.collections.addImage_images;for(var N in B)m.call(this,B[N])},r=function(){var B,N=this.internal.collections.addImage_images,L=this.internal.write;for(var R in N)L("/I"+(B=N[R]).index,B.objectId,"0","R")},x=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",w),this.internal.events.subscribe("putXobjectDict",r))},i=function(){var B=this.internal.collections.addImage_images;return x.call(this),B},a=function(){return Object.keys(this.internal.collections.addImage_images).length},p=function(B){return typeof t["process"+B.toUpperCase()]=="function"},c=function(B){return Vt(B)==="object"&&B.nodeType===1},o=function(B,N){if(B.nodeName==="IMG"&&B.hasAttribute("src")){var L=""+B.getAttribute("src");if(L.indexOf("data:image/")===0)return qd(unescape(L).split("base64,").pop());var R=t.loadFile(L,!0);if(R!==void 0)return R}if(B.nodeName==="CANVAS"){if(B.width===0||B.height===0)throw new Error("Given canvas must have data. Canvas width: "+B.width+", height: "+B.height);var I;switch(N){case"PNG":I="image/png";break;case"WEBP":I="image/webp";break;case"JPEG":case"JPG":default:I="image/jpeg"}return qd(B.toDataURL(I,1).split("base64,").pop())}},u=function(B){var N=this.internal.collections.addImage_images;if(N){for(var L in N)if(B===N[L].alias)return N[L]}},l=function(B,N,L){return B||N||(B=-96,N=-96),B<0&&(B=-1*L.width*72/B/this.internal.scaleFactor),N<0&&(N=-1*L.height*72/N/this.internal.scaleFactor),B===0&&(B=N*L.width/L.height),N===0&&(N=B*L.height/L.width),[B,N]},d=function(B,N,L,R,I,M){var P=l.call(this,L,R,I),U=this.internal.getCoordinateString,z=this.internal.getVerticalCoordinateString,W=i.call(this);if(L=P[0],R=P[1],W[I.index]=I,M){M*=Math.PI/180;var Z=Math.cos(M),j=Math.sin(M),H=function(k){return k.toFixed(4)},V=[H(Z),H(j),H(-1*j),H(Z),0,0,"cm"]}this.internal.write("q"),M?(this.internal.write([1,"0","0",1,U(B),z(N+R),"cm"].join(" ")),this.internal.write(V.join(" ")),this.internal.write([U(L),"0","0",U(R),"0","0","cm"].join(" "))):this.internal.write([U(L),"0","0",U(R),U(B),z(N+R),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+I.index+" Do"),this.internal.write("Q")},f=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var h=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},A=t.__addimage__.sHashCode=function(B){var N,L,R=0;if(typeof B=="string")for(L=B.length,N=0;N<L;N++)R=(R<<5)-R+B.charCodeAt(N),R|=0;else if(C(B))for(L=B.byteLength/2,N=0;N<L;N++)R=(R<<5)-R+B[N],R|=0;return R},g=t.__addimage__.validateStringAsBase64=function(B){(B=B||"").toString().trim();var N=!0;return B.length===0&&(N=!1),B.length%4!=0&&(N=!1),/^[A-Za-z0-9+/]+$/.test(B.substr(0,B.length-2))===!1&&(N=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(B.substr(-2))===!1&&(N=!1),N},v=t.__addimage__.extractImageFromDataUrl=function(B){var N=(B=B||"").split("base64,"),L=null;if(N.length===2){var R=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(N[0]);Array.isArray(R)&&(L={mimeType:R[1],charset:R[2],data:N[1]})}return L},y=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(B){return y()&&B instanceof ArrayBuffer};var C=t.__addimage__.isArrayBufferView=function(B){return y()&&typeof Uint32Array<"u"&&(B instanceof Int8Array||B instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&B instanceof Uint8ClampedArray||B instanceof Int16Array||B instanceof Uint16Array||B instanceof Int32Array||B instanceof Uint32Array||B instanceof Float32Array||B instanceof Float64Array)},b=t.__addimage__.binaryStringToUint8Array=function(B){for(var N=B.length,L=new Uint8Array(N),R=0;R<N;R++)L[R]=B.charCodeAt(R);return L},T=t.__addimage__.arrayBufferToBinaryString=function(B){for(var N="",L=C(B)?B:new Uint8Array(B),R=0;R<L.length;R+=8192)N+=String.fromCharCode.apply(null,L.subarray(R,R+8192));return N};t.addImage=function(){var B,N,L,R,I,M,P,U,z;if(typeof arguments[1]=="number"?(N=e,L=arguments[1],R=arguments[2],I=arguments[3],M=arguments[4],P=arguments[5],U=arguments[6],z=arguments[7]):(N=arguments[1],L=arguments[2],R=arguments[3],I=arguments[4],M=arguments[5],P=arguments[6],U=arguments[7],z=arguments[8]),Vt(B=arguments[0])==="object"&&!c(B)&&"imageData"in B){var W=B;B=W.imageData,N=W.format||N||e,L=W.x||L||0,R=W.y||R||0,I=W.w||W.width||I,M=W.h||W.height||M,P=W.alias||P,U=W.compression||U,z=W.rotation||W.angle||z}var Z=this.internal.getFilters();if(U===void 0&&Z.indexOf("FlateEncode")!==-1&&(U="SLOW"),isNaN(L)||isNaN(R))throw new Error("Invalid coordinates passed to jsPDF.addImage");x.call(this);var j=S.call(this,B,N,P,U);return d.call(this,L,R,I,M,j,z),this};var S=function(B,N,L,R){var I,M,P;if(typeof B=="string"&&s(B)===e){B=unescape(B);var U=F(B,!1);(U!==""||(U=t.loadFile(B,!0))!==void 0)&&(B=U)}if(c(B)&&(B=o(B,N)),N=s(B,N),!p(N))throw new Error("addImage does not support files of type '"+N+"', please ensure that a plugin for '"+N+"' support is added.");if(((P=L)==null||P.length===0)&&(L=function(z){return typeof z=="string"||C(z)?A(z):C(z.data)?A(z.data):null}(B)),(I=u.call(this,L))||(y()&&(B instanceof Uint8Array||N==="RGBA"||(M=B,B=b(B))),I=this["process"+N.toUpperCase()](B,a.call(this),L,function(z){return z&&typeof z=="string"&&(z=z.toUpperCase()),z in t.image_compression?z:h.NONE}(R),M)),!I)throw new Error("An unknown error occurred whilst processing the image.");return I},F=t.__addimage__.convertBase64ToBinaryString=function(B,N){var L;N=typeof N!="boolean"||N;var R,I="";if(typeof B=="string"){R=(L=v(B))!==null?L.data:B;try{I=qd(R)}catch(M){if(N)throw g(R)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+M.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return I};t.getImageProperties=function(B){var N,L,R="";if(c(B)&&(B=o(B)),typeof B=="string"&&s(B)===e&&((R=F(B,!1))===""&&(R=t.loadFile(B)||""),B=R),L=s(B),!p(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(!y()||B instanceof Uint8Array||(B=b(B)),!(N=this["process"+L.toUpperCase()](B)))throw new Error("An unknown error occurred whilst processing the image");return N.fileType=L,N}})(pt.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};pt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var s,m,w,r=this.internal.getCoordinateString,x=this.internal.getVerticalCoordinateString,i=this.internal.getPageInfoByObjId(n.objId),a=n.pageContext.annotations,p=!1,c=0;c<a.length&&!p;c++)switch((s=a[c]).type){case"link":(e(s.options.url)||e(s.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var o=0;o<a.length;o++){s=a[o];var u=this.internal.pdfEscape,l=this.internal.getEncryptor(n.objId);switch(s.type){case"reference":this.internal.write(" "+s.object.objId+" 0 R ");break;case"text":var d=this.internal.newAdditionalObject(),f=this.internal.newAdditionalObject(),h=this.internal.getEncryptor(d.objId),A=s.title||"Note";w="<</Type /Annot /Subtype /Text "+(m="/Rect ["+r(s.bounds.x)+" "+x(s.bounds.y+s.bounds.h)+" "+r(s.bounds.x+s.bounds.w)+" "+x(s.bounds.y)+"] ")+"/Contents ("+u(h(s.contents))+")",w+=" /Popup "+f.objId+" 0 R",w+=" /P "+i.objId+" 0 R",w+=" /T ("+u(h(A))+") >>",d.content=w;var g=d.objId+" 0 R";w="<</Type /Annot /Subtype /Popup "+(m="/Rect ["+r(s.bounds.x+30)+" "+x(s.bounds.y+s.bounds.h)+" "+r(s.bounds.x+s.bounds.w+30)+" "+x(s.bounds.y)+"] ")+" /Parent "+g,s.open&&(w+=" /Open true"),w+=" >>",f.content=w,this.internal.write(d.objId,"0 R",f.objId,"0 R");break;case"freetext":m="/Rect ["+r(s.bounds.x)+" "+x(s.bounds.y)+" "+r(s.bounds.x+s.bounds.w)+" "+x(s.bounds.y+s.bounds.h)+"] ";var v=s.color||"#000000";w="<</Type /Annot /Subtype /FreeText "+m+"/Contents ("+u(l(s.contents))+")",w+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+v+")",w+=" /Border [0 0 0]",w+=" >>",this.internal.write(w);break;case"link":if(s.options.name){var y=this.annotations._nameMap[s.options.name];s.options.pageNumber=y.page,s.options.top=y.y}else s.options.top||(s.options.top=0);if(m="/Rect ["+s.finalBounds.x+" "+s.finalBounds.y+" "+s.finalBounds.w+" "+s.finalBounds.h+"] ",w="",s.options.url)w="<</Type /Annot /Subtype /Link "+m+"/Border [0 0 0] /A <</S /URI /URI ("+u(l(s.options.url))+") >>";else if(s.options.pageNumber)switch(w="<</Type /Annot /Subtype /Link "+m+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(s.options.pageNumber).objId+" 0 R",s.options.magFactor=s.options.magFactor||"XYZ",s.options.magFactor){case"Fit":w+=" /Fit]";break;case"FitH":w+=" /FitH "+s.options.top+"]";break;case"FitV":s.options.left=s.options.left||0,w+=" /FitV "+s.options.left+"]";break;case"XYZ":default:var C=x(s.options.top);s.options.left=s.options.left||0,s.options.zoom===void 0&&(s.options.zoom=0),w+=" /XYZ "+s.options.left+" "+C+" "+s.options.zoom+"]"}w!=""&&(w+=" >>",this.internal.write(w))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var s=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":s.pageContext.annotations.push(n)}},t.link=function(n,s,m,w,r){var x=this.internal.getCurrentPageInfo(),i=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString;x.pageContext.annotations.push({finalBounds:{x:i(n),y:a(s),w:i(n+m),h:a(s+w)},options:r,type:"link"})},t.textWithLink=function(n,s,m,w){var r,x,i=this.getTextWidth(n),a=this.internal.getLineHeight()/this.internal.scaleFactor;if(w.maxWidth!==void 0){x=w.maxWidth;var p=this.splitTextToSize(n,x).length;r=Math.ceil(a*p)}else x=i,r=a;return this.text(n,s,m,w),m+=.2*a,w.align==="center"&&(s-=i/2),w.align==="right"&&(s-=i),this.link(s,m-a,x,r,w),i},t.getTextWidth=function(n){var s=this.internal.getFontSize();return this.getStringUnitWidth(n)*s/this.internal.scaleFactor}}(pt.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},s={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},m=[1570,1571,1573,1575];t.__arabicParser__={};var w=t.__arabicParser__.isInArabicSubstitutionA=function(d){return e[d.charCodeAt(0)]!==void 0},r=t.__arabicParser__.isArabicLetter=function(d){return typeof d=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(d)},x=t.__arabicParser__.isArabicEndLetter=function(d){return r(d)&&w(d)&&e[d.charCodeAt(0)].length<=2},i=t.__arabicParser__.isArabicAlfLetter=function(d){return r(d)&&m.indexOf(d.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(d){return r(d)&&w(d)&&e[d.charCodeAt(0)].length>=1};var a=t.__arabicParser__.arabicLetterHasFinalForm=function(d){return r(d)&&w(d)&&e[d.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(d){return r(d)&&w(d)&&e[d.charCodeAt(0)].length>=3};var p=t.__arabicParser__.arabicLetterHasMedialForm=function(d){return r(d)&&w(d)&&e[d.charCodeAt(0)].length==4},c=t.__arabicParser__.resolveLigatures=function(d){var f=0,h=n,A="",g=0;for(f=0;f<d.length;f+=1)h[d.charCodeAt(f)]!==void 0?(g++,typeof(h=h[d.charCodeAt(f)])=="number"&&(A+=String.fromCharCode(h),h=n,g=0),f===d.length-1&&(h=n,A+=d.charAt(f-(g-1)),f-=g-1,g=0)):(h=n,A+=d.charAt(f-g),f-=g,g=0);return A};t.__arabicParser__.isArabicDiacritic=function(d){return d!==void 0&&s[d.charCodeAt(0)]!==void 0};var o=t.__arabicParser__.getCorrectForm=function(d,f,h){return r(d)?w(d)===!1?-1:!a(d)||!r(f)&&!r(h)||!r(h)&&x(f)||x(d)&&!r(f)||x(d)&&i(f)||x(d)&&x(f)?0:p(d)&&r(f)&&!x(f)&&r(h)&&a(h)?3:x(d)||!r(h)?1:2:-1},u=function(d){var f=0,h=0,A=0,g="",v="",y="",C=(d=d||"").split("\\s+"),b=[];for(f=0;f<C.length;f+=1){for(b.push(""),h=0;h<C[f].length;h+=1)g=C[f][h],v=C[f][h-1],y=C[f][h+1],r(g)?(A=o(g,v,y),b[f]+=A!==-1?String.fromCharCode(e[g.charCodeAt(0)][A]):g):b[f]+=g;b[f]=c(b[f])}return b.join(" ")},l=t.__arabicParser__.processArabic=t.processArabic=function(){var d,f=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,h=[];if(Array.isArray(f)){var A=0;for(h=[],A=0;A<f.length;A+=1)Array.isArray(f[A])?h.push([u(f[A][0]),f[A][1],f[A][2]]):h.push([u(f[A])]);d=h}else d=u(f);return typeof arguments[0]=="string"?d:(arguments[0].text=d,arguments[0])};t.events.push(["preProcessText",l])}(pt.API),pt.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(x){n=x}});var s=150;Object.defineProperty(this,"width",{get:function(){return s},set:function(x){s=isNaN(x)||Number.isInteger(x)===!1||x<0?150:x,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=s+1)}});var m=300;Object.defineProperty(this,"height",{get:function(){return m},set:function(x){m=isNaN(x)||Number.isInteger(x)===!1||x<0?300:x,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=m+1)}});var w=[];Object.defineProperty(this,"childNodes",{get:function(){return w},set:function(x){w=x}});var r={};Object.defineProperty(this,"style",{get:function(){return r},set:function(x){r=x}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,s){var m;if((n=n||"2d")!=="2d")return null;for(m in s)this.pdf.context2d.hasOwnProperty(m)&&(this.pdf.context2d[m]=s[m]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(pt.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,s=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),m.call(this))},m=function(){this.internal.__cell__.lastCell=new w,this.internal.__cell__.pages=1},w=function(){var i=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return i},set:function(d){i=d}});var a=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return a},set:function(d){a=d}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(d){p=d}});var c=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return c},set:function(d){c=d}});var o=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return o},set:function(d){o=d}});var u=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return u},set:function(d){u=d}});var l=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return l},set:function(d){l=d}}),this};w.prototype.clone=function(){return new w(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},w.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(i){return s.call(this),this.internal.__cell__.headerFunction=typeof i=="function"?i:void 0,this},t.getTextDimensions=function(i,a){s.call(this);var p=(a=a||{}).fontSize||this.getFontSize(),c=a.font||this.getFont(),o=a.scaleFactor||this.internal.scaleFactor,u=0,l=0,d=0,f=this;if(!Array.isArray(i)&&typeof i!="string"){if(typeof i!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");i=String(i)}var h=a.maxWidth;h>0?typeof i=="string"?i=this.splitTextToSize(i,h):Object.prototype.toString.call(i)==="[object Array]"&&(i=i.reduce(function(g,v){return g.concat(f.splitTextToSize(v,h))},[])):i=Array.isArray(i)?i:[i];for(var A=0;A<i.length;A++)u<(d=this.getStringUnitWidth(i[A],{font:c})*p)&&(u=d);return u!==0&&(l=i.length),{w:u/=o,h:Math.max((l*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/o,0)}},t.cellAddPage=function(){s.call(this),this.addPage();var i=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new w(i.left,i.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var r=t.cell=function(){var i;i=arguments[0]instanceof w?arguments[0]:new w(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),s.call(this);var a=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,c=this.internal.__cell__.margins||e,o=this.internal.__cell__.tableHeaderRow,u=this.internal.__cell__.printHeaders;return a.lineNumber!==void 0&&(a.lineNumber===i.lineNumber?(i.x=(a.x||0)+(a.width||0),i.y=a.y||0):a.y+a.height+i.height+c.bottom>this.getPageHeight()?(this.cellAddPage(),i.y=c.top,u&&o&&(this.printHeaderRow(i.lineNumber,!0),i.y+=o[0].height)):i.y=a.y+a.height||i.y),i.text[0]!==void 0&&(this.rect(i.x,i.y,i.width,i.height,n===!0?"FD":void 0),i.align==="right"?this.text(i.text,i.x+i.width-p,i.y+p,{align:"right",baseline:"top"}):i.align==="center"?this.text(i.text,i.x+i.width/2,i.y+p,{align:"center",baseline:"top",maxWidth:i.width-p-p}):this.text(i.text,i.x+p,i.y+p,{align:"left",baseline:"top",maxWidth:i.width-p-p})),this.internal.__cell__.lastCell=i,this};t.table=function(i,a,p,c,o){if(s.call(this),!p)throw new Error("No data for PDF table.");var u,l,d,f,h=[],A=[],g=[],v={},y={},C=[],b=[],T=(o=o||{}).autoSize||!1,S=o.printHeaders!==!1,F=o.css&&o.css["font-size"]!==void 0?16*o.css["font-size"]:o.fontSize||12,B=o.margins||Object.assign({width:this.getPageWidth()},e),N=typeof o.padding=="number"?o.padding:3,L=o.headerBackgroundColor||"#c8c8c8",R=o.headerTextColor||"#000";if(m.call(this),this.internal.__cell__.printHeaders=S,this.internal.__cell__.margins=B,this.internal.__cell__.table_font_size=F,this.internal.__cell__.padding=N,this.internal.__cell__.headerBackgroundColor=L,this.internal.__cell__.headerTextColor=R,this.setFontSize(F),c==null)A=h=Object.keys(p[0]),g=h.map(function(){return"left"});else if(Array.isArray(c)&&Vt(c[0])==="object")for(h=c.map(function(W){return W.name}),A=c.map(function(W){return W.prompt||W.name||""}),g=c.map(function(W){return W.align||"left"}),u=0;u<c.length;u+=1)y[c[u].name]=c[u].width*(19.049976/25.4);else Array.isArray(c)&&typeof c[0]=="string"&&(A=h=c,g=h.map(function(){return"left"}));if(T||Array.isArray(c)&&typeof c[0]=="string")for(u=0;u<h.length;u+=1){for(v[f=h[u]]=p.map(function(W){return W[f]}),this.setFont(void 0,"bold"),C.push(this.getTextDimensions(A[u],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),l=v[f],this.setFont(void 0,"normal"),d=0;d<l.length;d+=1)C.push(this.getTextDimensions(l[d],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);y[f]=Math.max.apply(null,C)+N+N,C=[]}if(S){var I={};for(u=0;u<h.length;u+=1)I[h[u]]={},I[h[u]].text=A[u],I[h[u]].align=g[u];var M=x.call(this,I,y);b=h.map(function(W){return new w(i,a,y[W],M,I[W].text,void 0,I[W].align)}),this.setTableHeaderRow(b),this.printHeaderRow(1,!1)}var P=c.reduce(function(W,Z){return W[Z.name]=Z.align,W},{});for(u=0;u<p.length;u+=1){"rowStart"in o&&o.rowStart instanceof Function&&o.rowStart({row:u,data:p[u]},this);var U=x.call(this,p[u],y);for(d=0;d<h.length;d+=1){var z=p[u][h[d]];"cellStart"in o&&o.cellStart instanceof Function&&o.cellStart({row:u,col:d,data:z},this),r.call(this,new w(i,a,y[h[d]],U,z,u+2,P[h[d]]))}}return this.internal.__cell__.table_x=i,this.internal.__cell__.table_y=a,this};var x=function(i,a){var p=this.internal.__cell__.padding,c=this.internal.__cell__.table_font_size,o=this.internal.scaleFactor;return Object.keys(i).map(function(u){var l=i[u];return this.splitTextToSize(l.hasOwnProperty("text")?l.text:l,a[u]-p-p)},this).map(function(u){return this.getLineHeightFactor()*u.length*c/o+p+p},this).reduce(function(u,l){return Math.max(u,l)},0)};t.setTableHeaderRow=function(i){s.call(this),this.internal.__cell__.tableHeaderRow=i},t.printHeaderRow=function(i,a){if(s.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var c=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new w(c[0],c[1],c[2],c[3],void 0,-1)}this.setFont(void 0,"bold");for(var o=[],u=0;u<this.internal.__cell__.tableHeaderRow.length;u+=1){p=this.internal.__cell__.tableHeaderRow[u].clone(),a&&(p.y=this.internal.__cell__.margins.top||0,o.push(p)),p.lineNumber=i;var l=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),r.call(this,p),this.setTextColor(l)}o.length>0&&this.setTableHeaderRow(o),this.setFont(void 0,"normal"),n=!1}}(pt.API);var iI={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},nI=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],w2=tI(nI),sI=[100,200,300,400,500,600,700,800,900],Mte=tI(sI);function C2(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(w){return iI[w=w||"normal"]?w:"normal"}(t.style),s=function(w){if(!w)return 400;if(typeof w=="number")return w>=100&&w<=900&&w%100==0?w:400;if(/^\d00$/.test(w))return parseInt(w);switch(w){case"bold":return 700;case"normal":default:return 400}}(t.weight),m=function(w){return typeof w2[w=w||"normal"]=="number"?w:"normal"}(t.stretch);return{family:e,style:n,weight:s,stretch:m,src:t.src||[],ref:t.ref||{name:e,style:[m,n,s].join(" ")}}}function q4(t,e,n,s){var m;for(m=n;m>=0&&m<e.length;m+=s)if(t[e[m]])return t[e[m]];for(m=n;m>=0&&m<e.length;m-=s)if(t[e[m]])return t[e[m]]}var Rte={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},_4={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function eB(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function Ite(t,e,n){for(var s=(n=n||{}).defaultFontFamily||"times",m=Object.assign({},Rte,n.genericFontFamilies||{}),w=null,r=null,x=0;x<e.length;++x)if(m[(w=C2(e[x])).family]&&(w.family=m[w.family]),t.hasOwnProperty(w.family)){r=t[w.family];break}if(!(r=r||t[s]))throw new Error("Could not find a font-family for the rule '"+eB(w)+"' and default family '"+s+"'.");if(r=function(i,a){if(a[i])return a[i];var p=w2[i],c=p<=w2.normal?-1:1,o=q4(a,nI,p,c);if(!o)throw new Error("Could not find a matching font-stretch value for "+i);return o}(w.stretch,r),r=function(i,a){if(a[i])return a[i];for(var p=iI[i],c=0;c<p.length;++c)if(a[p[c]])return a[p[c]];throw new Error("Could not find a matching font-style for "+i)}(w.style,r),!(r=function(i,a){if(a[i])return a[i];if(i===400&&a[500])return a[500];if(i===500&&a[400])return a[400];var p=Mte[i],c=q4(a,sI,p,i<400?-1:1);if(!c)throw new Error("Could not find a matching font-weight for value "+i);return c}(w.weight,r)))throw new Error("Failed to resolve a font for the rule '"+eB(w)+"'.");return r}function tB(t){return t.trimLeft()}function Pte(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function Ute(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Vp,iB,nB,Zy=["times"];(function(t){var e,n,s,m,w,r,x,i,a,p=function(j){return j=j||{},this.isStrokeTransparent=j.isStrokeTransparent||!1,this.strokeOpacity=j.strokeOpacity||1,this.strokeStyle=j.strokeStyle||"#000000",this.fillStyle=j.fillStyle||"#000000",this.isFillTransparent=j.isFillTransparent||!1,this.fillOpacity=j.fillOpacity||1,this.font=j.font||"10px sans-serif",this.textBaseline=j.textBaseline||"alphabetic",this.textAlign=j.textAlign||"left",this.lineWidth=j.lineWidth||1,this.lineJoin=j.lineJoin||"miter",this.lineCap=j.lineCap||"butt",this.path=j.path||[],this.transform=j.transform!==void 0?j.transform.clone():new i,this.globalCompositeOperation=j.globalCompositeOperation||"normal",this.globalAlpha=j.globalAlpha||1,this.clip_path=j.clip_path||[],this.currentPoint=j.currentPoint||new r,this.miterLimit=j.miterLimit||10,this.lastPoint=j.lastPoint||new r,this.lineDashOffset=j.lineDashOffset||0,this.lineDash=j.lineDash||[],this.margin=j.margin||[0,0,0,0],this.prevPageLastElemOffset=j.prevPageLastElemOffset||0,this.ignoreClearRect=typeof j.ignoreClearRect!="boolean"||j.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new c(this),e=this.internal.f2,n=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,m=this.internal.getHorizontalCoordinate,w=this.internal.getVerticalCoordinate,r=this.internal.Point,x=this.internal.Rectangle,i=this.internal.Matrix,a=new p}]);var c=function(j){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var H=j;Object.defineProperty(this,"pdf",{get:function(){return H}});var V=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return V},set:function(ue){V=!!ue}});var k=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return k},set:function(ue){k=!!ue}});var X=0;Object.defineProperty(this,"posX",{get:function(){return X},set:function(ue){isNaN(ue)||(X=ue)}});var Q=0;Object.defineProperty(this,"posY",{get:function(){return Q},set:function(ue){isNaN(ue)||(Q=ue)}}),Object.defineProperty(this,"margin",{get:function(){return a.margin},set:function(ue){var re;typeof ue=="number"?re=[ue,ue,ue,ue]:((re=new Array(4))[0]=ue[0],re[1]=ue.length>=2?ue[1]:re[0],re[2]=ue.length>=3?ue[2]:re[0],re[3]=ue.length>=4?ue[3]:re[1]),a.margin=re}});var J=!1;Object.defineProperty(this,"autoPaging",{get:function(){return J},set:function(ue){J=ue}});var $=0;Object.defineProperty(this,"lastBreak",{get:function(){return $},set:function(ue){$=ue}});var _=[];Object.defineProperty(this,"pageBreaks",{get:function(){return _},set:function(ue){_=ue}}),Object.defineProperty(this,"ctx",{get:function(){return a},set:function(ue){ue instanceof p&&(a=ue)}}),Object.defineProperty(this,"path",{get:function(){return a.path},set:function(ue){a.path=ue}});var te=[];Object.defineProperty(this,"ctxStack",{get:function(){return te},set:function(ue){te=ue}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ue){var re;re=o(ue),this.ctx.fillStyle=re.style,this.ctx.isFillTransparent=re.a===0,this.ctx.fillOpacity=re.a,this.pdf.setFillColor(re.r,re.g,re.b,{a:re.a}),this.pdf.setTextColor(re.r,re.g,re.b,{a:re.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ue){var re=o(ue);this.ctx.strokeStyle=re.style,this.ctx.isStrokeTransparent=re.a===0,this.ctx.strokeOpacity=re.a,re.a===0?this.pdf.setDrawColor(255,255,255):(re.a,this.pdf.setDrawColor(re.r,re.g,re.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ue){["butt","round","square"].indexOf(ue)!==-1&&(this.ctx.lineCap=ue,this.pdf.setLineCap(ue))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ue){isNaN(ue)||(this.ctx.lineWidth=ue,this.pdf.setLineWidth(ue))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ue){["bevel","round","miter"].indexOf(ue)!==-1&&(this.ctx.lineJoin=ue,this.pdf.setLineJoin(ue))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ue){isNaN(ue)||(this.ctx.miterLimit=ue,this.pdf.setMiterLimit(ue))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ue){this.ctx.textBaseline=ue}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ue){["right","end","center","left","start"].indexOf(ue)!==-1&&(this.ctx.textAlign=ue)}});var se=null;function ce(ue,re){if(se===null){var Ce=function(ye){var Ee=[];return Object.keys(ye).forEach(function(Me){ye[Me].forEach(function(Be){var ve=null;switch(Be){case"bold":ve={family:Me,weight:"bold"};break;case"italic":ve={family:Me,style:"italic"};break;case"bolditalic":ve={family:Me,weight:"bold",style:"italic"};break;case"":case"normal":ve={family:Me}}ve!==null&&(ve.ref={name:Me,style:Be},Ee.push(ve))})}),Ee}(ue.getFontList());se=function(ye){for(var Ee={},Me=0;Me<ye.length;++Me){var Be=C2(ye[Me]),ve=Be.family,Re=Be.stretch,Pe=Be.style,Ge=Be.weight;Ee[ve]=Ee[ve]||{},Ee[ve][Re]=Ee[ve][Re]||{},Ee[ve][Re][Pe]=Ee[ve][Re][Pe]||{},Ee[ve][Re][Pe][Ge]=Be}return Ee}(Ce.concat(re))}return se}var ge=null;Object.defineProperty(this,"fontFaces",{get:function(){return ge},set:function(ue){se=null,ge=ue}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ue){var re;if(this.ctx.font=ue,(re=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ue))!==null){var Ce=re[1],ye=(re[2],re[3]),Ee=re[4],Me=(re[5],re[6]),Be=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ee)[2];Ee=Math.floor(Be==="px"?parseFloat(Ee)*this.pdf.internal.scaleFactor:Be==="em"?parseFloat(Ee)*this.pdf.getFontSize():parseFloat(Ee)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ee);var ve=function(Ye){var tt,Ve,ct=[],ut=Ye.trim();if(ut==="")return Zy;if(ut in _4)return[_4[ut]];for(;ut!=="";){switch(Ve=null,tt=(ut=tB(ut)).charAt(0)){case'"':case"'":Ve=Pte(ut.substring(1),tt);break;default:Ve=Ute(ut)}if(Ve===null||(ct.push(Ve[0]),(ut=tB(Ve[1]))!==""&&ut.charAt(0)!==","))return Zy;ut=ut.replace(/^,/,"")}return ct}(Me);if(this.fontFaces){var Re=Ite(ce(this.pdf,this.fontFaces),ve.map(function(Ye){return{family:Ye,stretch:"normal",weight:ye,style:Ce}}));this.pdf.setFont(Re.ref.name,Re.ref.style)}else{var Pe="";(ye==="bold"||parseInt(ye,10)>=700||Ce==="bold")&&(Pe="bold"),Ce==="italic"&&(Pe+="italic"),Pe.length===0&&(Pe="normal");for(var Ge="",We={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},at=0;at<ve.length;at++){if(this.pdf.internal.getFont(ve[at],Pe,{noFallback:!0,disableWarning:!0})!==void 0){Ge=ve[at];break}if(Pe==="bolditalic"&&this.pdf.internal.getFont(ve[at],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ge=ve[at],Pe="bold";else if(this.pdf.internal.getFont(ve[at],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ge=ve[at],Pe="normal";break}}if(Ge===""){for(var qe=0;qe<ve.length;qe++)if(We[ve[qe]]){Ge=We[ve[qe]];break}}Ge=Ge===""?"Times":Ge,this.pdf.setFont(Ge,Pe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ue){this.ctx.globalCompositeOperation=ue}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ue){this.ctx.globalAlpha=ue}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ue){this.ctx.lineDashOffset=ue,Z.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ue){this.ctx.lineDash=ue,Z.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ue){this.ctx.ignoreClearRect=!!ue}})};c.prototype.setLineDash=function(j){this.lineDash=j},c.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},c.prototype.fill=function(){v.call(this,"fill",!1)},c.prototype.stroke=function(){v.call(this,"stroke",!1)},c.prototype.beginPath=function(){this.path=[{type:"begin"}]},c.prototype.moveTo=function(j,H){if(isNaN(j)||isNaN(H))throw ai.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var V=this.ctx.transform.applyToPoint(new r(j,H));this.path.push({type:"mt",x:V.x,y:V.y}),this.ctx.lastPoint=new r(j,H)},c.prototype.closePath=function(){var j=new r(0,0),H=0;for(H=this.path.length-1;H!==-1;H--)if(this.path[H].type==="begin"&&Vt(this.path[H+1])==="object"&&typeof this.path[H+1].x=="number"){j=new r(this.path[H+1].x,this.path[H+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new r(j.x,j.y)},c.prototype.lineTo=function(j,H){if(isNaN(j)||isNaN(H))throw ai.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var V=this.ctx.transform.applyToPoint(new r(j,H));this.path.push({type:"lt",x:V.x,y:V.y}),this.ctx.lastPoint=new r(V.x,V.y)},c.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),v.call(this,null,!0)},c.prototype.quadraticCurveTo=function(j,H,V,k){if(isNaN(V)||isNaN(k)||isNaN(j)||isNaN(H))throw ai.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var X=this.ctx.transform.applyToPoint(new r(V,k)),Q=this.ctx.transform.applyToPoint(new r(j,H));this.path.push({type:"qct",x1:Q.x,y1:Q.y,x:X.x,y:X.y}),this.ctx.lastPoint=new r(X.x,X.y)},c.prototype.bezierCurveTo=function(j,H,V,k,X,Q){if(isNaN(X)||isNaN(Q)||isNaN(j)||isNaN(H)||isNaN(V)||isNaN(k))throw ai.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var J=this.ctx.transform.applyToPoint(new r(X,Q)),$=this.ctx.transform.applyToPoint(new r(j,H)),_=this.ctx.transform.applyToPoint(new r(V,k));this.path.push({type:"bct",x1:$.x,y1:$.y,x2:_.x,y2:_.y,x:J.x,y:J.y}),this.ctx.lastPoint=new r(J.x,J.y)},c.prototype.arc=function(j,H,V,k,X,Q){if(isNaN(j)||isNaN(H)||isNaN(V)||isNaN(k)||isNaN(X))throw ai.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Q=!!Q,!this.ctx.transform.isIdentity){var J=this.ctx.transform.applyToPoint(new r(j,H));j=J.x,H=J.y;var $=this.ctx.transform.applyToPoint(new r(0,V)),_=this.ctx.transform.applyToPoint(new r(0,0));V=Math.sqrt(Math.pow($.x-_.x,2)+Math.pow($.y-_.y,2))}Math.abs(X-k)>=2*Math.PI&&(k=0,X=2*Math.PI),this.path.push({type:"arc",x:j,y:H,radius:V,startAngle:k,endAngle:X,counterclockwise:Q})},c.prototype.arcTo=function(j,H,V,k,X){throw new Error("arcTo not implemented.")},c.prototype.rect=function(j,H,V,k){if(isNaN(j)||isNaN(H)||isNaN(V)||isNaN(k))throw ai.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(j,H),this.lineTo(j+V,H),this.lineTo(j+V,H+k),this.lineTo(j,H+k),this.lineTo(j,H),this.lineTo(j+V,H),this.lineTo(j,H)},c.prototype.fillRect=function(j,H,V,k){if(isNaN(j)||isNaN(H)||isNaN(V)||isNaN(k))throw ai.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!u.call(this)){var X={};this.lineCap!=="butt"&&(X.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(X.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(j,H,V,k),this.fill(),X.hasOwnProperty("lineCap")&&(this.lineCap=X.lineCap),X.hasOwnProperty("lineJoin")&&(this.lineJoin=X.lineJoin)}},c.prototype.strokeRect=function(j,H,V,k){if(isNaN(j)||isNaN(H)||isNaN(V)||isNaN(k))throw ai.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");l.call(this)||(this.beginPath(),this.rect(j,H,V,k),this.stroke())},c.prototype.clearRect=function(j,H,V,k){if(isNaN(j)||isNaN(H)||isNaN(V)||isNaN(k))throw ai.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(j,H,V,k))},c.prototype.save=function(j){j=typeof j!="boolean"||j;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("q");if(this.pdf.setPage(H),j){this.ctx.fontSize=this.pdf.internal.getFontSize();var k=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=k}},c.prototype.restore=function(j){j=typeof j!="boolean"||j;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("Q");this.pdf.setPage(H),j&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},c.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var o=function(j){var H,V,k,X;if(j.isCanvasGradient===!0&&(j=j.getColor()),!j)return{r:0,g:0,b:0,a:0,style:j};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(j))H=0,V=0,k=0,X=0;else{var Q=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(j);if(Q!==null)H=parseInt(Q[1]),V=parseInt(Q[2]),k=parseInt(Q[3]),X=1;else if((Q=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(j))!==null)H=parseInt(Q[1]),V=parseInt(Q[2]),k=parseInt(Q[3]),X=parseFloat(Q[4]);else{if(X=1,typeof j=="string"&&j.charAt(0)!=="#"){var J=new J6(j);j=J.ok?J.toHex():"#000000"}j.length===4?(H=j.substring(1,2),H+=H,V=j.substring(2,3),V+=V,k=j.substring(3,4),k+=k):(H=j.substring(1,3),V=j.substring(3,5),k=j.substring(5,7)),H=parseInt(H,16),V=parseInt(V,16),k=parseInt(k,16)}}return{r:H,g:V,b:k,a:X,style:j}},u=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},l=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};c.prototype.fillText=function(j,H,V,k){if(isNaN(H)||isNaN(V)||typeof j!="string")throw ai.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(k=isNaN(k)?void 0:k,!u.call(this)){var X=U(this.ctx.transform.rotation),Q=this.ctx.transform.scaleX;N.call(this,{text:j,x:H,y:V,scale:Q,angle:X,align:this.textAlign,maxWidth:k})}},c.prototype.strokeText=function(j,H,V,k){if(isNaN(H)||isNaN(V)||typeof j!="string")throw ai.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!l.call(this)){k=isNaN(k)?void 0:k;var X=U(this.ctx.transform.rotation),Q=this.ctx.transform.scaleX;N.call(this,{text:j,x:H,y:V,scale:Q,renderingMode:"stroke",angle:X,align:this.textAlign,maxWidth:k})}},c.prototype.measureText=function(j){if(typeof j!="string")throw ai.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var H=this.pdf,V=this.pdf.internal.scaleFactor,k=H.internal.getFontSize(),X=H.getStringUnitWidth(j)*k/H.internal.scaleFactor,Q=function(J){var $=(J=J||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return $}}),this};return new Q({width:X*=Math.round(96*V/72*1e4)/1e4})},c.prototype.scale=function(j,H){if(isNaN(j)||isNaN(H))throw ai.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var V=new i(j,0,0,H,0,0);this.ctx.transform=this.ctx.transform.multiply(V)},c.prototype.rotate=function(j){if(isNaN(j))throw ai.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var H=new i(Math.cos(j),Math.sin(j),-Math.sin(j),Math.cos(j),0,0);this.ctx.transform=this.ctx.transform.multiply(H)},c.prototype.translate=function(j,H){if(isNaN(j)||isNaN(H))throw ai.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var V=new i(1,0,0,1,j,H);this.ctx.transform=this.ctx.transform.multiply(V)},c.prototype.transform=function(j,H,V,k,X,Q){if(isNaN(j)||isNaN(H)||isNaN(V)||isNaN(k)||isNaN(X)||isNaN(Q))throw ai.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var J=new i(j,H,V,k,X,Q);this.ctx.transform=this.ctx.transform.multiply(J)},c.prototype.setTransform=function(j,H,V,k,X,Q){j=isNaN(j)?1:j,H=isNaN(H)?0:H,V=isNaN(V)?0:V,k=isNaN(k)?1:k,X=isNaN(X)?0:X,Q=isNaN(Q)?0:Q,this.ctx.transform=new i(j,H,V,k,X,Q)};var d=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};c.prototype.drawImage=function(j,H,V,k,X,Q,J,$,_){var te=this.pdf.getImageProperties(j),se=1,ce=1,ge=1,ue=1;k!==void 0&&$!==void 0&&(ge=$/k,ue=_/X,se=te.width/k*$/k,ce=te.height/X*_/X),Q===void 0&&(Q=H,J=V,H=0,V=0),k!==void 0&&$===void 0&&($=k,_=X),k===void 0&&$===void 0&&($=te.width,_=te.height);for(var re,Ce=this.ctx.transform.decompose(),ye=U(Ce.rotate.shx),Ee=new i,Me=(Ee=(Ee=(Ee=Ee.multiply(Ce.translate)).multiply(Ce.skew)).multiply(Ce.scale)).applyToRectangle(new x(Q-H*ge,J-V*ue,k*se,X*ce)),Be=f.call(this,Me),ve=[],Re=0;Re<Be.length;Re+=1)ve.indexOf(Be[Re])===-1&&ve.push(Be[Re]);if(g(ve),this.autoPaging)for(var Pe=ve[0],Ge=ve[ve.length-1],We=Pe;We<Ge+1;We++){this.pdf.setPage(We);var at=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],qe=We===1?this.posY+this.margin[0]:this.margin[0],Ye=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],tt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ve=We===1?0:Ye+(We-2)*tt;if(this.ctx.clip_path.length!==0){var ct=this.path;re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(re,this.posX+this.margin[3],-Ve+qe+this.ctx.prevPageLastElemOffset),y.call(this,"fill",!0),this.path=ct}var ut=JSON.parse(JSON.stringify(Me));ut=A([ut],this.posX+this.margin[3],-Ve+qe+this.ctx.prevPageLastElemOffset)[0];var Se=(We>Pe||We<Ge)&&d.call(this);Se&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],at,tt,null).clip().discardPath()),this.pdf.addImage(j,"JPEG",ut.x,ut.y,ut.w,ut.h,null,null,ye),Se&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(j,"JPEG",Me.x,Me.y,Me.w,Me.h,null,null,ye)};var f=function(j,H,V){var k=[];H=H||this.pdf.internal.pageSize.width,V=V||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var X=this.posY+this.ctx.prevPageLastElemOffset;switch(j.type){default:case"mt":case"lt":k.push(Math.floor((j.y+X)/V)+1);break;case"arc":k.push(Math.floor((j.y+X-j.radius)/V)+1),k.push(Math.floor((j.y+X+j.radius)/V)+1);break;case"qct":var Q=z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x,j.y);k.push(Math.floor((Q.y+X)/V)+1),k.push(Math.floor((Q.y+Q.h+X)/V)+1);break;case"bct":var J=W(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x2,j.y2,j.x,j.y);k.push(Math.floor((J.y+X)/V)+1),k.push(Math.floor((J.y+J.h+X)/V)+1);break;case"rect":k.push(Math.floor((j.y+X)/V)+1),k.push(Math.floor((j.y+j.h+X)/V)+1)}for(var $=0;$<k.length;$+=1)for(;this.pdf.internal.getNumberOfPages()<k[$];)h.call(this);return k},h=function(){var j=this.fillStyle,H=this.strokeStyle,V=this.font,k=this.lineCap,X=this.lineWidth,Q=this.lineJoin;this.pdf.addPage(),this.fillStyle=j,this.strokeStyle=H,this.font=V,this.lineCap=k,this.lineWidth=X,this.lineJoin=Q},A=function(j,H,V){for(var k=0;k<j.length;k++)switch(j[k].type){case"bct":j[k].x2+=H,j[k].y2+=V;case"qct":j[k].x1+=H,j[k].y1+=V;case"mt":case"lt":case"arc":default:j[k].x+=H,j[k].y+=V}return j},g=function(j){return j.sort(function(H,V){return H-V})},v=function(j,H){for(var V,k,X=this.fillStyle,Q=this.strokeStyle,J=this.lineCap,$=this.lineWidth,_=Math.abs($*this.ctx.transform.scaleX),te=this.lineJoin,se=JSON.parse(JSON.stringify(this.path)),ce=JSON.parse(JSON.stringify(this.path)),ge=[],ue=0;ue<ce.length;ue++)if(ce[ue].x!==void 0)for(var re=f.call(this,ce[ue]),Ce=0;Ce<re.length;Ce+=1)ge.indexOf(re[Ce])===-1&&ge.push(re[Ce]);for(var ye=0;ye<ge.length;ye++)for(;this.pdf.internal.getNumberOfPages()<ge[ye];)h.call(this);if(g(ge),this.autoPaging)for(var Ee=ge[0],Me=ge[ge.length-1],Be=Ee;Be<Me+1;Be++){this.pdf.setPage(Be),this.fillStyle=X,this.strokeStyle=Q,this.lineCap=J,this.lineWidth=_,this.lineJoin=te;var ve=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Re=Be===1?this.posY+this.margin[0]:this.margin[0],Pe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ge=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],We=Be===1?0:Pe+(Be-2)*Ge;if(this.ctx.clip_path.length!==0){var at=this.path;V=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(V,this.posX+this.margin[3],-We+Re+this.ctx.prevPageLastElemOffset),y.call(this,j,!0),this.path=at}if(k=JSON.parse(JSON.stringify(se)),this.path=A(k,this.posX+this.margin[3],-We+Re+this.ctx.prevPageLastElemOffset),H===!1||Be===0){var qe=(Be>Ee||Be<Me)&&d.call(this);qe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ve,Ge,null).clip().discardPath()),y.call(this,j,H),qe&&this.pdf.restoreGraphicsState()}this.lineWidth=$}else this.lineWidth=_,y.call(this,j,H),this.lineWidth=$;this.path=se},y=function(j,H){if((j!=="stroke"||H||!l.call(this))&&(j==="stroke"||H||!u.call(this))){for(var V,k,X=[],Q=this.path,J=0;J<Q.length;J++){var $=Q[J];switch($.type){case"begin":X.push({begin:!0});break;case"close":X.push({close:!0});break;case"mt":X.push({start:$,deltas:[],abs:[]});break;case"lt":var _=X.length;if(Q[J-1]&&!isNaN(Q[J-1].x)&&(V=[$.x-Q[J-1].x,$.y-Q[J-1].y],_>0)){for(;_>=0;_--)if(X[_-1].close!==!0&&X[_-1].begin!==!0){X[_-1].deltas.push(V),X[_-1].abs.push($);break}}break;case"bct":V=[$.x1-Q[J-1].x,$.y1-Q[J-1].y,$.x2-Q[J-1].x,$.y2-Q[J-1].y,$.x-Q[J-1].x,$.y-Q[J-1].y],X[X.length-1].deltas.push(V);break;case"qct":var te=Q[J-1].x+2/3*($.x1-Q[J-1].x),se=Q[J-1].y+2/3*($.y1-Q[J-1].y),ce=$.x+2/3*($.x1-$.x),ge=$.y+2/3*($.y1-$.y),ue=$.x,re=$.y;V=[te-Q[J-1].x,se-Q[J-1].y,ce-Q[J-1].x,ge-Q[J-1].y,ue-Q[J-1].x,re-Q[J-1].y],X[X.length-1].deltas.push(V);break;case"arc":X.push({deltas:[],abs:[],arc:!0}),Array.isArray(X[X.length-1].abs)&&X[X.length-1].abs.push($)}}k=H?null:j==="stroke"?"stroke":"fill";for(var Ce=!1,ye=0;ye<X.length;ye++)if(X[ye].arc)for(var Ee=X[ye].abs,Me=0;Me<Ee.length;Me++){var Be=Ee[Me];Be.type==="arc"?T.call(this,Be.x,Be.y,Be.radius,Be.startAngle,Be.endAngle,Be.counterclockwise,void 0,H,!Ce):L.call(this,Be.x,Be.y),Ce=!0}else if(X[ye].close===!0)this.pdf.internal.out("h"),Ce=!1;else if(X[ye].begin!==!0){var ve=X[ye].start.x,Re=X[ye].start.y;R.call(this,X[ye].deltas,ve,Re),Ce=!0}k&&S.call(this,k),H&&F.call(this)}},C=function(j){var H=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,V=H*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return j-V;case"top":return j+H-V;case"hanging":return j+H-2*V;case"middle":return j+H/2-V;case"ideographic":return j;case"alphabetic":default:return j}},b=function(j){return j+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};c.prototype.createLinearGradient=function(){var j=function(){};return j.colorStops=[],j.addColorStop=function(H,V){this.colorStops.push([H,V])},j.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},j.isCanvasGradient=!0,j},c.prototype.createPattern=function(){return this.createLinearGradient()},c.prototype.createRadialGradient=function(){return this.createLinearGradient()};var T=function(j,H,V,k,X,Q,J,$,_){for(var te=M.call(this,V,k,X,Q),se=0;se<te.length;se++){var ce=te[se];se===0&&(_?B.call(this,ce.x1+j,ce.y1+H):L.call(this,ce.x1+j,ce.y1+H)),I.call(this,j,H,ce.x2,ce.y2,ce.x3,ce.y3,ce.x4,ce.y4)}$?F.call(this):S.call(this,J)},S=function(j){switch(j){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},F=function(){this.pdf.clip(),this.pdf.discardPath()},B=function(j,H){this.pdf.internal.out(n(j)+" "+s(H)+" m")},N=function(j){var H;switch(j.align){case"right":case"end":H="right";break;case"center":H="center";break;case"left":case"start":default:H="left"}var V=this.pdf.getTextDimensions(j.text),k=C.call(this,j.y),X=b.call(this,k)-V.h,Q=this.ctx.transform.applyToPoint(new r(j.x,k)),J=this.ctx.transform.decompose(),$=new i;$=($=($=$.multiply(J.translate)).multiply(J.skew)).multiply(J.scale);for(var _,te,se,ce=this.ctx.transform.applyToRectangle(new x(j.x,k,V.w,V.h)),ge=$.applyToRectangle(new x(j.x,X,V.w,V.h)),ue=f.call(this,ge),re=[],Ce=0;Ce<ue.length;Ce+=1)re.indexOf(ue[Ce])===-1&&re.push(ue[Ce]);if(g(re),this.autoPaging)for(var ye=re[0],Ee=re[re.length-1],Me=ye;Me<Ee+1;Me++){this.pdf.setPage(Me);var Be=Me===1?this.posY+this.margin[0]:this.margin[0],ve=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Re=this.pdf.internal.pageSize.height-this.margin[2],Pe=Re-this.margin[0],Ge=this.pdf.internal.pageSize.width-this.margin[1],We=Ge-this.margin[3],at=Me===1?0:ve+(Me-2)*Pe;if(this.ctx.clip_path.length!==0){var qe=this.path;_=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(_,this.posX+this.margin[3],-1*at+Be),y.call(this,"fill",!0),this.path=qe}var Ye=A([JSON.parse(JSON.stringify(ge))],this.posX+this.margin[3],-at+Be+this.ctx.prevPageLastElemOffset)[0];j.scale>=.01&&(te=this.pdf.internal.getFontSize(),this.pdf.setFontSize(te*j.scale),se=this.lineWidth,this.lineWidth=se*j.scale);var tt=this.autoPaging!=="text";if(tt||Ye.y+Ye.h<=Re){if(tt||Ye.y>=Be&&Ye.x<=Ge){var Ve=tt?j.text:this.pdf.splitTextToSize(j.text,j.maxWidth||Ge-Ye.x)[0],ct=A([JSON.parse(JSON.stringify(ce))],this.posX+this.margin[3],-at+Be+this.ctx.prevPageLastElemOffset)[0],ut=tt&&(Me>ye||Me<Ee)&&d.call(this);ut&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],We,Pe,null).clip().discardPath()),this.pdf.text(Ve,ct.x,ct.y,{angle:j.angle,align:H,renderingMode:j.renderingMode}),ut&&this.pdf.restoreGraphicsState()}}else Ye.y<Re&&(this.ctx.prevPageLastElemOffset+=Re-Ye.y);j.scale>=.01&&(this.pdf.setFontSize(te),this.lineWidth=se)}else j.scale>=.01&&(te=this.pdf.internal.getFontSize(),this.pdf.setFontSize(te*j.scale),se=this.lineWidth,this.lineWidth=se*j.scale),this.pdf.text(j.text,Q.x+this.posX,Q.y+this.posY,{angle:j.angle,align:H,renderingMode:j.renderingMode,maxWidth:j.maxWidth}),j.scale>=.01&&(this.pdf.setFontSize(te),this.lineWidth=se)},L=function(j,H,V,k){V=V||0,k=k||0,this.pdf.internal.out(n(j+V)+" "+s(H+k)+" l")},R=function(j,H,V){return this.pdf.lines(j,H,V,null,null)},I=function(j,H,V,k,X,Q,J,$){this.pdf.internal.out([e(m(V+j)),e(w(k+H)),e(m(X+j)),e(w(Q+H)),e(m(J+j)),e(w($+H)),"c"].join(" "))},M=function(j,H,V,k){for(var X=2*Math.PI,Q=Math.PI/2;H>V;)H-=X;var J=Math.abs(V-H);J<X&&k&&(J=X-J);for(var $=[],_=k?-1:1,te=H;J>1e-5;){var se=te+_*Math.min(J,Q);$.push(P.call(this,j,te,se)),J-=Math.abs(se-te),te=se}return $},P=function(j,H,V){var k=(V-H)/2,X=j*Math.cos(k),Q=j*Math.sin(k),J=X,$=-Q,_=J*J+$*$,te=_+J*X+$*Q,se=4/3*(Math.sqrt(2*_*te)-te)/(J*Q-$*X),ce=J-se*$,ge=$+se*J,ue=ce,re=-ge,Ce=k+H,ye=Math.cos(Ce),Ee=Math.sin(Ce);return{x1:j*Math.cos(H),y1:j*Math.sin(H),x2:ce*ye-ge*Ee,y2:ce*Ee+ge*ye,x3:ue*ye-re*Ee,y3:ue*Ee+re*ye,x4:j*Math.cos(V),y4:j*Math.sin(V)}},U=function(j){return 180*j/Math.PI},z=function(j,H,V,k,X,Q){var J=j+.5*(V-j),$=H+.5*(k-H),_=X+.5*(V-X),te=Q+.5*(k-Q),se=Math.min(j,X,J,_),ce=Math.max(j,X,J,_),ge=Math.min(H,Q,$,te),ue=Math.max(H,Q,$,te);return new x(se,ge,ce-se,ue-ge)},W=function(j,H,V,k,X,Q,J,$){var _,te,se,ce,ge,ue,re,Ce,ye,Ee,Me,Be,ve,Re,Pe=V-j,Ge=k-H,We=X-V,at=Q-k,qe=J-X,Ye=$-Q;for(te=0;te<41;te++)ye=(re=(se=j+(_=te/40)*Pe)+_*((ge=V+_*We)-se))+_*(ge+_*(X+_*qe-ge)-re),Ee=(Ce=(ce=H+_*Ge)+_*((ue=k+_*at)-ce))+_*(ue+_*(Q+_*Ye-ue)-Ce),te==0?(Me=ye,Be=Ee,ve=ye,Re=Ee):(Me=Math.min(Me,ye),Be=Math.min(Be,Ee),ve=Math.max(ve,ye),Re=Math.max(Re,Ee));return new x(Math.round(Me),Math.round(Be),Math.round(ve-Me),Math.round(Re-Be))},Z=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var j,H,V=(j=this.ctx.lineDash,H=this.ctx.lineDashOffset,JSON.stringify({lineDash:j,lineDashOffset:H}));this.prevLineDash!==V&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=V)}}})(pt.API),function(t){var e=function(w){var r,x,i,a,p,c,o,u,l,d;for(x=[],i=0,a=(w+=r="\0\0\0\0".slice(w.length%4||4)).length;a>i;i+=4)(p=(w.charCodeAt(i)<<24)+(w.charCodeAt(i+1)<<16)+(w.charCodeAt(i+2)<<8)+w.charCodeAt(i+3))!==0?(c=(p=((p=((p=((p=(p-(d=p%85))/85)-(l=p%85))/85)-(u=p%85))/85)-(o=p%85))/85)%85,x.push(c+33,o+33,u+33,l+33,d+33)):x.push(122);return function(f,h){for(var A=h;A>0;A--)f.pop()}(x,r.length),String.fromCharCode.apply(String,x)+"~>"},n=function(w){var r,x,i,a,p,c=String,o="length",u=255,l="charCodeAt",d="slice",f="replace";for(w[d](-2),w=w[d](0,-2)[f](/\s/g,"")[f]("z","!!!!!"),i=[],a=0,p=(w+=r="uuuuu"[d](w[o]%5||5))[o];p>a;a+=5)x=52200625*(w[l](a)-33)+614125*(w[l](a+1)-33)+7225*(w[l](a+2)-33)+85*(w[l](a+3)-33)+(w[l](a+4)-33),i.push(u&x>>24,u&x>>16,u&x>>8,u&x);return function(h,A){for(var g=A;g>0;g--)h.pop()}(i,r[o]),c.fromCharCode.apply(c,i)},s=function(w){var r=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((w=w.replace(/\s/g,"")).indexOf(">")!==-1&&(w=w.substr(0,w.indexOf(">"))),w.length%2&&(w+="0"),r.test(w)===!1)return"";for(var x="",i=0;i<w.length;i+=2)x+=String.fromCharCode("0x"+(w[i]+w[i+1]));return x},m=function(w){for(var r=new Uint8Array(w.length),x=w.length;x--;)r[x]=w.charCodeAt(x);return w=(r=g2(r)).reduce(function(i,a){return i+String.fromCharCode(a)},"")};t.processDataByFilters=function(w,r){var x=0,i=w||"",a=[];for(typeof(r=r||[])=="string"&&(r=[r]),x=0;x<r.length;x+=1)switch(r[x]){case"ASCII85Decode":case"/ASCII85Decode":i=n(i),a.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":i=e(i),a.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":i=s(i),a.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":i=i.split("").map(function(p){return("0"+p.charCodeAt().toString(16)).slice(-2)}).join("")+">",a.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":i=m(i),a.push("/FlateDecode");break;default:throw new Error('The filter: "'+r[x]+'" is not implemented')}return{data:i,reverseChain:a.reverse().join(" ")}}}(pt.API),function(t){t.loadFile=function(e,n,s){return function(m,w,r){w=w!==!1,r=typeof r=="function"?r:function(){};var x=void 0;try{x=function(i,a,p){var c=new XMLHttpRequest,o=0,u=function(l){var d=l.length,f=[],h=String.fromCharCode;for(o=0;o<d;o+=1)f.push(h(255&l.charCodeAt(o)));return f.join("")};if(c.open("GET",i,!a),c.overrideMimeType("text/plain; charset=x-user-defined"),a===!1&&(c.onload=function(){c.status===200?p(u(this.responseText)):p(void 0)}),c.send(null),a&&c.status===200)return u(c.responseText)}(m,w,r)}catch{}return x}(e,n,s)},t.loadImageFile=t.loadFile}(pt.API),function(t){function e(){return(gt.html2canvas?Promise.resolve(gt.html2canvas):c2(()=>Promise.resolve().then(()=>_ee),void 0)).catch(function(r){return Promise.reject(new Error("Could not load html2canvas: "+r))}).then(function(r){return r.default?r.default:r})}function n(){return(gt.DOMPurify?Promise.resolve(gt.DOMPurify):c2(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load dompurify: "+r))}).then(function(r){return r.default?r.default:r})}var s=function(r){var x=Vt(r);return x==="undefined"?"undefined":x==="string"||r instanceof String?"string":x==="number"||r instanceof Number?"number":x==="function"||r instanceof Function?"function":r&&r.constructor===Array?"array":r&&r.nodeType===1?"element":x==="object"?"object":"unknown"},m=function(r,x){var i=document.createElement(r);for(var a in x.className&&(i.className=x.className),x.innerHTML&&x.dompurify&&(i.innerHTML=x.dompurify.sanitize(x.innerHTML)),x.style)i.style[a]=x.style[a];return i},w=function r(x){var i=Object.assign(r.convert(Promise.resolve()),JSON.parse(JSON.stringify(r.template))),a=r.convert(Promise.resolve(),i);return a=(a=a.setProgress(1,r,1,[r])).set(x)};(w.prototype=Object.create(Promise.prototype)).constructor=w,w.convert=function(r,x){return r.__proto__=x||w.prototype,r},w.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},w.prototype.from=function(r,x){return this.then(function(){switch(x=x||function(i){switch(s(i)){case"string":return"string";case"element":return i.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(r)){case"string":return this.then(n).then(function(i){return this.set({src:m("div",{innerHTML:r,dompurify:i})})});case"element":return this.set({src:r});case"canvas":return this.set({canvas:r});case"img":return this.set({img:r});default:return this.error("Unknown source type.")}})},w.prototype.to=function(r){switch(r){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},w.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var r={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},x=function i(a,p){for(var c=a.nodeType===3?document.createTextNode(a.nodeValue):a.cloneNode(!1),o=a.firstChild;o;o=o.nextSibling)p!==!0&&o.nodeType===1&&o.nodeName==="SCRIPT"||c.appendChild(i(o,p));return a.nodeType===1&&(a.nodeName==="CANVAS"?(c.width=a.width,c.height=a.height,c.getContext("2d").drawImage(a,0,0)):a.nodeName!=="TEXTAREA"&&a.nodeName!=="SELECT"||(c.value=a.value),c.addEventListener("load",function(){c.scrollTop=a.scrollTop,c.scrollLeft=a.scrollLeft},!0)),c}(this.prop.src,this.opt.html2canvas.javascriptEnabled);x.tagName==="BODY"&&(r.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=m("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=m("div",{className:"html2pdf__container",style:r}),this.prop.container.appendChild(x),this.prop.container.firstChild.appendChild(m("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},w.prototype.toCanvas=function(){var r=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(r).then(e).then(function(x){var i=Object.assign({},this.opt.html2canvas);return delete i.onrendered,x(this.prop.container,i)}).then(function(x){(this.opt.html2canvas.onrendered||function(){})(x),this.prop.canvas=x,document.body.removeChild(this.prop.overlay)})},w.prototype.toContext2d=function(){var r=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(r).then(e).then(function(x){var i=this.opt.jsPDF,a=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,c=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete c.onrendered,i.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,i.context2d.posX=this.opt.x,i.context2d.posY=this.opt.y,i.context2d.margin=this.opt.margin,i.context2d.fontFaces=a,a)for(var o=0;o<a.length;++o){var u=a[o],l=u.src.find(function(d){return d.format==="truetype"});l&&i.addFont(l.url,u.ref.name,u.ref.style)}return c.windowHeight=c.windowHeight||0,c.windowHeight=c.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):c.windowHeight,i.context2d.save(!0),x(this.prop.container,c)}).then(function(x){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(x),this.prop.canvas=x,document.body.removeChild(this.prop.overlay)})},w.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var r=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=r})},w.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},w.prototype.output=function(r,x,i){return(i=i||"pdf").toLowerCase()==="img"||i.toLowerCase()==="image"?this.outputImg(r,x):this.outputPdf(r,x)},w.prototype.outputPdf=function(r,x){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(r,x)})},w.prototype.outputImg=function(r){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(r){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+r+'" is not supported.'}})},w.prototype.save=function(r){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(r?{filename:r}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},w.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},w.prototype.set=function(r){if(s(r)!=="object")return this;var x=Object.keys(r||{}).map(function(i){if(i in w.template.prop)return function(){this.prop[i]=r[i]};switch(i){case"margin":return this.setMargin.bind(this,r.margin);case"jsPDF":return function(){return this.opt.jsPDF=r.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,r.pageSize);default:return function(){this.opt[i]=r[i]}}},this);return this.then(function(){return this.thenList(x)})},w.prototype.get=function(r,x){return this.then(function(){var i=r in w.template.prop?this.prop[r]:this.opt[r];return x?x(i):i})},w.prototype.setMargin=function(r){return this.then(function(){switch(s(r)){case"number":r=[r,r,r,r];case"array":if(r.length===2&&(r=[r[0],r[1],r[0],r[1]]),r.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=r}).then(this.setPageSize)},w.prototype.setPageSize=function(r){function x(i,a){return Math.floor(i*a/72*96)}return this.then(function(){(r=r||pt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(r.inner={width:r.width-this.opt.margin[1]-this.opt.margin[3],height:r.height-this.opt.margin[0]-this.opt.margin[2]},r.inner.px={width:x(r.inner.width,r.k),height:x(r.inner.height,r.k)},r.inner.ratio=r.inner.height/r.inner.width),this.prop.pageSize=r})},w.prototype.setProgress=function(r,x,i,a){return r!=null&&(this.progress.val=r),x!=null&&(this.progress.state=x),i!=null&&(this.progress.n=i),a!=null&&(this.progress.stack=a),this.progress.ratio=this.progress.val/this.progress.state,this},w.prototype.updateProgress=function(r,x,i,a){return this.setProgress(r?this.progress.val+r:null,x||null,i?this.progress.n+i:null,a?this.progress.stack.concat(a):null)},w.prototype.then=function(r,x){var i=this;return this.thenCore(r,x,function(a,p){return i.updateProgress(null,null,1,[a]),Promise.prototype.then.call(this,function(c){return i.updateProgress(null,a),c}).then(a,p).then(function(c){return i.updateProgress(1),c})})},w.prototype.thenCore=function(r,x,i){i=i||Promise.prototype.then,r&&(r=r.bind(this)),x&&(x=x.bind(this));var a=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:w.convert(Object.assign({},this),Promise.prototype),p=i.call(a,r,x);return w.convert(p,this.__proto__)},w.prototype.thenExternal=function(r,x){return Promise.prototype.then.call(this,r,x)},w.prototype.thenList=function(r){var x=this;return r.forEach(function(i){x=x.thenCore(i)}),x},w.prototype.catch=function(r){r&&(r=r.bind(this));var x=Promise.prototype.catch.call(this,r);return w.convert(x,this)},w.prototype.catchExternal=function(r){return Promise.prototype.catch.call(this,r)},w.prototype.error=function(r){return this.then(function(){throw new Error(r)})},w.prototype.using=w.prototype.set,w.prototype.saveAs=w.prototype.save,w.prototype.export=w.prototype.output,w.prototype.run=w.prototype.then,pt.getPageSize=function(r,x,i){if(Vt(r)==="object"){var a=r;r=a.orientation,x=a.unit||x,i=a.format||i}x=x||"mm",i=i||"a4",r=(""+(r||"P")).toLowerCase();var p,c=(""+i).toLowerCase(),o={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(x){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+x}var u,l=0,d=0;if(o.hasOwnProperty(c))l=o[c][1]/p,d=o[c][0]/p;else try{l=i[1],d=i[0]}catch{throw new Error("Invalid format: "+i)}if(r==="p"||r==="portrait")r="p",d>l&&(u=d,d=l,l=u);else{if(r!=="l"&&r!=="landscape")throw"Invalid orientation: "+r;r="l",l>d&&(u=d,d=l,l=u)}return{width:d,height:l,unit:x,k:p,orientation:r}},t.html=function(r,x){(x=x||{}).callback=x.callback||function(){},x.html2canvas=x.html2canvas||{},x.html2canvas.canvas=x.html2canvas.canvas||this.canvas,x.jsPDF=x.jsPDF||this,x.fontFaces=x.fontFaces?x.fontFaces.map(C2):null;var i=new w(x);return x.worker?i:i.from(r).doCallback()}}(pt.API),pt.API.addJS=function(t){return nB=t,this.internal.events.subscribe("postPutResources",function(){Vp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Vp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),iB=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+nB+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Vp!==void 0&&iB!==void 0&&this.internal.out("/Names <</JavaScript "+Vp+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,s=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var m=n.outline.render().split(/\r\n/),w=0;w<m.length;w++){var r=m[w],x=s.exec(r);if(x!=null){var i=x[1];n.internal.newObjectDeferredBegin(i,!1)}n.internal.write(r)}if(this.outline.createNamedDestinations){var a=this.internal.pages.length,p=[];for(w=0;w<a;w++){var c=n.internal.newObject();p.push(c);var o=n.internal.getPageInfo(w+1);n.internal.write("<< /D["+o.objId+" 0 R /XYZ null null null]>> endobj")}var u=n.internal.newObject();for(n.internal.write("<< /Names [ "),w=0;w<p.length;w++)n.internal.write("(page_"+(w+1)+")"+p[w]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+u+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(s,m,w){var r={title:m,options:w,children:[]};return s==null&&(s=this.root),s.children.push(r),r},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(s){s.id=n.internal.newObjectDeferred();for(var m=0;m<s.children.length;m++)this.genIds_r(s.children[m])},n.outline.renderRoot=function(s){this.objStart(s),this.line("/Type /Outlines"),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1]))),this.line("/Count "+this.count_r({count:0},s)),this.objEnd()},n.outline.renderItems=function(s){for(var m=this.ctx.pdf.internal.getVerticalCoordinateString,w=0;w<s.children.length;w++){var r=s.children[w];this.objStart(r),this.line("/Title "+this.makeString(r.title)),this.line("/Parent "+this.makeRef(s)),w>0&&this.line("/Prev "+this.makeRef(s.children[w-1])),w<s.children.length-1&&this.line("/Next "+this.makeRef(s.children[w+1])),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1])));var x=this.count=this.count_r({count:0},r);if(x>0&&this.line("/Count "+x),r.options&&r.options.pageNumber){var i=n.internal.getPageInfo(r.options.pageNumber);this.line("/Dest ["+i.objId+" 0 R /XYZ 0 "+m(0)+" 0]")}this.objEnd()}for(var a=0;a<s.children.length;a++)this.renderItems(s.children[a])},n.outline.line=function(s){this.ctx.val+=s+`\r
`},n.outline.makeRef=function(s){return s.id+" 0 R"},n.outline.makeString=function(s){return"("+n.internal.pdfEscape(s)+")"},n.outline.objStart=function(s){this.ctx.val+=`\r
`+s.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(s,m){for(var w=0;w<m.children.length;w++)s.count++,this.count_r(s,m.children[w]);return s.count}}])}(pt.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,s,m,w,r,x){var i,a=this.decode.DCT_DECODE,p=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=r||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(i=function(c){for(var o,u=256*c.charCodeAt(4)+c.charCodeAt(5),l=c.length,d={width:0,height:0,numcomponents:1},f=4;f<l;f+=2){if(f+=u,e.indexOf(c.charCodeAt(f+1))!==-1){o=256*c.charCodeAt(f+5)+c.charCodeAt(f+6),d={width:256*c.charCodeAt(f+7)+c.charCodeAt(f+8),height:o,numcomponents:c.charCodeAt(f+9)};break}u=256*c.charCodeAt(f+2)+c.charCodeAt(f+3)}return d}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:x=this.color_spaces.DEVICE_GRAY;break;case 4:x=this.color_spaces.DEVICE_CMYK;break;case 3:x=this.color_spaces.DEVICE_RGB}p={data:n,width:i.width,height:i.height,colorSpace:x,bitsPerComponent:8,filter:a,index:s,alias:m}}return p}}(pt.API);var ju,zp,sB,rB,aB,Dte=function(){var t,e,n;function s(w){var r,x,i,a,p,c,o,u,l,d,f,h,A,g;for(this.data=w,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},c=null;;){switch(r=this.readUInt32(),l=(function(){var v,y;for(y=[],v=0;v<4;++v)y.push(String.fromCharCode(this.data[this.pos++]));return y}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(r);break;case"fcTL":c&&this.animation.frames.push(c),this.pos+=4,c={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},p=this.readUInt16(),a=this.readUInt16()||100,c.delay=1e3*p/a,c.disposeOp=this.data[this.pos++],c.blendOp=this.data[this.pos++],c.data=[];break;case"IDAT":case"fdAT":for(l==="fdAT"&&(this.pos+=4,r-=4),w=(c!=null?c.data:void 0)||this.imgData,h=0;0<=r?h<r:h>r;0<=r?++h:--h)w.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(i=this.palette.length/3,this.transparency.indexed=this.read(r),this.transparency.indexed.length>i)throw new Error("More transparent colors than palette size");if((d=i-this.transparency.indexed.length)>0)for(A=0;0<=d?A<d:A>d;0<=d?++A:--A)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(r)[0];break;case 2:this.transparency.rgb=this.read(r)}break;case"tEXt":o=(f=this.read(r)).indexOf(0),u=String.fromCharCode.apply(String,f.slice(0,o)),this.text[u]=String.fromCharCode.apply(String,f.slice(o+1));break;case"IEND":return c&&this.animation.frames.push(c),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(g=this.colorType)===4||g===6,x=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*x,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=r}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}s.prototype.read=function(w){var r,x;for(x=[],r=0;0<=w?r<w:r>w;0<=w?++r:--r)x.push(this.data[this.pos++]);return x},s.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},s.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},s.prototype.decodePixels=function(w){var r=this.pixelBitlength/8,x=new Uint8Array(this.width*this.height*r),i=0,a=this;if(w==null&&(w=this.imgData),w.length===0)return new Uint8Array(0);function p(c,o,u,l){var d,f,h,A,g,v,y,C,b,T,S,F,B,N,L,R,I,M,P,U,z,W=Math.ceil((a.width-c)/u),Z=Math.ceil((a.height-o)/l),j=a.width==W&&a.height==Z;for(N=r*W,F=j?x:new Uint8Array(N*Z),v=w.length,B=0,f=0;B<Z&&i<v;){switch(w[i++]){case 0:for(A=I=0;I<N;A=I+=1)F[f++]=w[i++];break;case 1:for(A=M=0;M<N;A=M+=1)d=w[i++],g=A<r?0:F[f-r],F[f++]=(d+g)%256;break;case 2:for(A=P=0;P<N;A=P+=1)d=w[i++],h=(A-A%r)/r,L=B&&F[(B-1)*N+h*r+A%r],F[f++]=(L+d)%256;break;case 3:for(A=U=0;U<N;A=U+=1)d=w[i++],h=(A-A%r)/r,g=A<r?0:F[f-r],L=B&&F[(B-1)*N+h*r+A%r],F[f++]=(d+Math.floor((g+L)/2))%256;break;case 4:for(A=z=0;z<N;A=z+=1)d=w[i++],h=(A-A%r)/r,g=A<r?0:F[f-r],B===0?L=R=0:(L=F[(B-1)*N+h*r+A%r],R=h&&F[(B-1)*N+(h-1)*r+A%r]),y=g+L-R,C=Math.abs(y-g),T=Math.abs(y-L),S=Math.abs(y-R),b=C<=T&&C<=S?g:T<=S?L:R,F[f++]=(d+b)%256;break;default:throw new Error("Invalid filter algorithm: "+w[i-1])}if(!j){var H=((o+B*l)*a.width+c)*r,V=B*N;for(A=0;A<W;A+=1){for(var k=0;k<r;k+=1)x[H++]=F[V++];H+=(u-1)*r}}B++}}return w=fte(w),a.interlaceMethod==1?(p(0,0,8,8),p(4,0,8,8),p(0,4,4,8),p(2,0,4,4),p(0,2,2,4),p(1,0,2,2),p(0,1,1,2)):p(0,0,1,1),x},s.prototype.decodePalette=function(){var w,r,x,i,a,p,c,o,u;for(x=this.palette,p=this.transparency.indexed||[],a=new Uint8Array((p.length||0)+x.length),i=0,w=0,r=c=0,o=x.length;c<o;r=c+=3)a[i++]=x[r],a[i++]=x[r+1],a[i++]=x[r+2],a[i++]=(u=p[w++])!=null?u:255;return a},s.prototype.copyToImageData=function(w,r){var x,i,a,p,c,o,u,l,d,f,h;if(i=this.colors,d=null,x=this.hasAlphaChannel,this.palette.length&&(d=(h=this._decodedPalette)!=null?h:this._decodedPalette=this.decodePalette(),i=4,x=!0),l=(a=w.data||w).length,c=d||r,p=o=0,i===1)for(;p<l;)u=d?4*r[p/4]:o,f=c[u++],a[p++]=f,a[p++]=f,a[p++]=f,a[p++]=x?c[u++]:255,o=u;else for(;p<l;)u=d?4*r[p/4]:o,a[p++]=c[u++],a[p++]=c[u++],a[p++]=c[u++],a[p++]=x?c[u++]:255,o=u},s.prototype.decode=function(){var w;return w=new Uint8Array(this.width*this.height*4),this.copyToImageData(w,this.decodePixels()),w};var m=function(){if(Object.prototype.toString.call(gt)==="[object Window]"){try{e=gt.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return m(),t=function(w){var r;if(m()===!0)return n.width=w.width,n.height=w.height,n.clearRect(0,0,w.width,w.height),n.putImageData(w,0,0),(r=new Image).src=e.toDataURL(),r;throw new Error("This method requires a Browser with Canvas-capability.")},s.prototype.decodeFrames=function(w){var r,x,i,a,p,c,o,u;if(this.animation){for(u=[],x=p=0,c=(o=this.animation.frames).length;p<c;x=++p)r=o[x],i=w.createImageData(r.width,r.height),a=this.decodePixels(new Uint8Array(r.data)),this.copyToImageData(i,a),r.imageData=i,u.push(r.image=t(i));return u}},s.prototype.renderFrame=function(w,r){var x,i,a;return x=(i=this.animation.frames)[r],a=i[r-1],r===0&&w.clearRect(0,0,this.width,this.height),(a!=null?a.disposeOp:void 0)===1?w.clearRect(a.xOffset,a.yOffset,a.width,a.height):(a!=null?a.disposeOp:void 0)===2&&w.putImageData(a.imageData,a.xOffset,a.yOffset),x.blendOp===0&&w.clearRect(x.xOffset,x.yOffset,x.width,x.height),w.drawImage(x.image,x.xOffset,x.yOffset)},s.prototype.animate=function(w){var r,x,i,a,p,c,o=this;return x=0,c=this.animation,a=c.numFrames,i=c.frames,p=c.numPlays,(r=function(){var u,l;if(u=x++%a,l=i[u],o.renderFrame(w,u),a>1&&x/a<p)return o.animation._timeout=setTimeout(r,l.delay)})()},s.prototype.stopAnimation=function(){var w;return clearTimeout((w=this.animation)!=null?w._timeout:void 0)},s.prototype.render=function(w){var r,x;return w._png&&w._png.stopAnimation(),w._png=this,w.width=this.width,w.height=this.height,r=w.getContext("2d"),this.animation?(this.decodeFrames(r),this.animate(r)):(x=r.createImageData(this.width,this.height),this.copyToImageData(x,this.decodePixels()),r.putImageData(x,0,0))},s}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Ote(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,s=t[e++]|t[e++]<<8,m=t[e++],w=m>>7,r=1<<(7&m)+1;t[e++],t[e++];var x=null,i=null;w&&(x=e,i=r,e+=3*r);var a=!0,p=[],c=0,o=null,u=0,l=null;for(this.width=n,this.height=s;a&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,l=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((B=t[e++])>=0))throw Error("Invalid block size");if(B===0)break;e+=B}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var d=t[e++];c=t[e++]|t[e++]<<8,o=t[e++],!(1&d)&&(o=null),u=d>>2&7,e++;break;case 254:for(;;){if(!((B=t[e++])>=0))throw Error("Invalid block size");if(B===0)break;e+=B}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var f=t[e++]|t[e++]<<8,h=t[e++]|t[e++]<<8,A=t[e++]|t[e++]<<8,g=t[e++]|t[e++]<<8,v=t[e++],y=v>>6&1,C=1<<(7&v)+1,b=x,T=i,S=!1;v>>7&&(S=!0,b=e,T=C,e+=3*C);var F=e;for(e++;;){var B;if(!((B=t[e++])>=0))throw Error("Invalid block size");if(B===0)break;e+=B}p.push({x:f,y:h,width:A,height:g,has_local_palette:S,palette_offset:b,palette_size:T,data_offset:F,data_length:e-F,transparent_index:o,interlaced:!!y,delay:c,disposal:u});break;case 59:a=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return l},this.frameInfo=function(N){if(N<0||N>=p.length)throw new Error("Frame index out of range.");return p[N]},this.decodeAndBlitFrameBGRA=function(N,L){var R=this.frameInfo(N),I=R.width*R.height,M=new Uint8Array(I);oB(t,R.data_offset,M,I);var P=R.palette_offset,U=R.transparent_index;U===null&&(U=256);var z=R.width,W=n-z,Z=z,j=4*(R.y*n+R.x),H=4*((R.y+R.height)*n+R.x),V=j,k=4*W;R.interlaced===!0&&(k+=4*n*7);for(var X=8,Q=0,J=M.length;Q<J;++Q){var $=M[Q];if(Z===0&&(Z=z,(V+=k)>=H&&(k=4*W+4*n*(X-1),V=j+(z+W)*(X<<1),X>>=1)),$===U)V+=4;else{var _=t[P+3*$],te=t[P+3*$+1],se=t[P+3*$+2];L[V++]=se,L[V++]=te,L[V++]=_,L[V++]=255}--Z}},this.decodeAndBlitFrameRGBA=function(N,L){var R=this.frameInfo(N),I=R.width*R.height,M=new Uint8Array(I);oB(t,R.data_offset,M,I);var P=R.palette_offset,U=R.transparent_index;U===null&&(U=256);var z=R.width,W=n-z,Z=z,j=4*(R.y*n+R.x),H=4*((R.y+R.height)*n+R.x),V=j,k=4*W;R.interlaced===!0&&(k+=4*n*7);for(var X=8,Q=0,J=M.length;Q<J;++Q){var $=M[Q];if(Z===0&&(Z=z,(V+=k)>=H&&(k=4*W+4*n*(X-1),V=j+(z+W)*(X<<1),X>>=1)),$===U)V+=4;else{var _=t[P+3*$],te=t[P+3*$+1],se=t[P+3*$+2];L[V++]=_,L[V++]=te,L[V++]=se,L[V++]=255}--Z}}}function oB(t,e,n,s){for(var m=t[e++],w=1<<m,r=w+1,x=r+1,i=m+1,a=(1<<i)-1,p=0,c=0,o=0,u=t[e++],l=new Int32Array(4096),d=null;;){for(;p<16&&u!==0;)c|=t[e++]<<p,p+=8,u===1?u=t[e++]:--u;if(p<i)break;var f=c&a;if(c>>=i,p-=i,f!==w){if(f===r)break;for(var h=f<x?f:d,A=0,g=h;g>w;)g=l[g]>>8,++A;var v=g;if(o+A+(h!==f?1:0)>s)return void ai.log("Warning, gif stream longer than expected.");n[o++]=v;var y=o+=A;for(h!==f&&(n[o++]=v),g=h;A--;)g=l[g],n[--y]=255&g,g>>=8;d!==null&&x<4096&&(l[x++]=d<<8|v,x>=a+1&&i<12&&(++i,a=a<<1|1)),d=f}else x=r+1,a=(1<<(i=m+1))-1,d=null}return o!==s&&ai.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function $y(t){var e,n,s,m,w,r=Math.floor,x=new Array(64),i=new Array(64),a=new Array(64),p=new Array(64),c=new Array(65535),o=new Array(65535),u=new Array(64),l=new Array(64),d=[],f=0,h=7,A=new Array(64),g=new Array(64),v=new Array(64),y=new Array(256),C=new Array(2048),b=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],T=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],S=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],B=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],N=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],R=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],I=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function M(j,H){for(var V=0,k=0,X=new Array,Q=1;Q<=16;Q++){for(var J=1;J<=j[Q];J++)X[H[k]]=[],X[H[k]][0]=V,X[H[k]][1]=Q,k++,V++;V*=2}return X}function P(j){for(var H=j[0],V=j[1]-1;V>=0;)H&1<<V&&(f|=1<<h),V--,--h<0&&(f==255?(U(255),U(0)):U(f),h=7,f=0)}function U(j){d.push(j)}function z(j){U(j>>8&255),U(255&j)}function W(j,H,V,k,X){for(var Q,J=X[0],$=X[240],_=function(Ee,Me){var Be,ve,Re,Pe,Ge,We,at,qe,Ye,tt,Ve=0;for(Ye=0;Ye<8;++Ye){Be=Ee[Ve],ve=Ee[Ve+1],Re=Ee[Ve+2],Pe=Ee[Ve+3],Ge=Ee[Ve+4],We=Ee[Ve+5],at=Ee[Ve+6];var ct=Be+(qe=Ee[Ve+7]),ut=Be-qe,Se=ve+at,Xe=ve-at,rt=Re+We,Rt=Re-We,ft=Pe+Ge,Ci=Pe-Ge,Gt=ct+ft,Cs=ct-ft,Gs=Se+rt,mi=Se-rt;Ee[Ve]=Gt+Gs,Ee[Ve+4]=Gt-Gs;var xt=.707106781*(mi+Cs);Ee[Ve+2]=Cs+xt,Ee[Ve+6]=Cs-xt;var Qt=.382683433*((Gt=Ci+Rt)-(mi=Xe+ut)),on=.5411961*Gt+Qt,Kt=1.306562965*mi+Qt,Qs=.707106781*(Gs=Rt+Xe),js=ut+Qs,dt=ut-Qs;Ee[Ve+5]=dt+on,Ee[Ve+3]=dt-on,Ee[Ve+1]=js+Kt,Ee[Ve+7]=js-Kt,Ve+=8}for(Ve=0,Ye=0;Ye<8;++Ye){Be=Ee[Ve],ve=Ee[Ve+8],Re=Ee[Ve+16],Pe=Ee[Ve+24],Ge=Ee[Ve+32],We=Ee[Ve+40],at=Ee[Ve+48];var bs=Be+(qe=Ee[Ve+56]),Vs=Be-qe,zi=ve+at,Ii=ve-at,bi=Re+We,zn=Re-We,Ya=Pe+Ge,vr=Pe-Ge,Ae=bs+Ya,Ke=bs-Ya,$e=zi+bi,Ft=zi-bi;Ee[Ve]=Ae+$e,Ee[Ve+32]=Ae-$e;var li=.707106781*(Ft+Ke);Ee[Ve+16]=Ke+li,Ee[Ve+48]=Ke-li;var ns=.382683433*((Ae=vr+zn)-(Ft=Ii+Vs)),rl=.5411961*Ae+ns,ru=1.306562965*Ft+ns,au=.707106781*($e=zn+Ii),ou=Vs+au,lu=Vs-au;Ee[Ve+40]=lu+rl,Ee[Ve+24]=lu-rl,Ee[Ve+8]=ou+ru,Ee[Ve+56]=ou-ru,Ve++}for(Ye=0;Ye<64;++Ye)tt=Ee[Ye]*Me[Ye],u[Ye]=tt>0?tt+.5|0:tt-.5|0;return u}(j,H),te=0;te<64;++te)l[b[te]]=_[te];var se=l[0]-V;V=l[0],se==0?P(k[0]):(P(k[o[Q=32767+se]]),P(c[Q]));for(var ce=63;ce>0&&l[ce]==0;)ce--;if(ce==0)return P(J),V;for(var ge,ue=1;ue<=ce;){for(var re=ue;l[ue]==0&&ue<=ce;)++ue;var Ce=ue-re;if(Ce>=16){ge=Ce>>4;for(var ye=1;ye<=ge;++ye)P($);Ce&=15}Q=32767+l[ue],P(X[(Ce<<4)+o[Q]]),P(c[Q]),ue++}return ce!=63&&P(J),V}function Z(j){j=Math.min(Math.max(j,1),100),w!=j&&(function(H){for(var V=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],k=0;k<64;k++){var X=r((V[k]*H+50)/100);X=Math.min(Math.max(X,1),255),x[b[k]]=X}for(var Q=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],J=0;J<64;J++){var $=r((Q[J]*H+50)/100);$=Math.min(Math.max($,1),255),i[b[J]]=$}for(var _=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],te=0,se=0;se<8;se++)for(var ce=0;ce<8;ce++)a[te]=1/(x[b[te]]*_[se]*_[ce]*8),p[te]=1/(i[b[te]]*_[se]*_[ce]*8),te++}(j<50?Math.floor(5e3/j):Math.floor(200-2*j)),w=j)}this.encode=function(j,H){H&&Z(H),d=new Array,f=0,h=7,z(65496),z(65504),z(16),U(74),U(70),U(73),U(70),U(0),U(1),U(1),U(0),z(1),z(1),U(0),U(0),function(){z(65499),z(132),U(0);for(var ve=0;ve<64;ve++)U(x[ve]);U(1);for(var Re=0;Re<64;Re++)U(i[Re])}(),function(ve,Re){z(65472),z(17),U(8),z(Re),z(ve),U(3),U(1),U(17),U(0),U(2),U(17),U(1),U(3),U(17),U(1)}(j.width,j.height),function(){z(65476),z(418),U(0);for(var ve=0;ve<16;ve++)U(T[ve+1]);for(var Re=0;Re<=11;Re++)U(S[Re]);U(16);for(var Pe=0;Pe<16;Pe++)U(F[Pe+1]);for(var Ge=0;Ge<=161;Ge++)U(B[Ge]);U(1);for(var We=0;We<16;We++)U(N[We+1]);for(var at=0;at<=11;at++)U(L[at]);U(17);for(var qe=0;qe<16;qe++)U(R[qe+1]);for(var Ye=0;Ye<=161;Ye++)U(I[Ye])}(),z(65498),z(12),U(3),U(1),U(0),U(2),U(17),U(3),U(17),U(0),U(63),U(0);var V=0,k=0,X=0;f=0,h=7,this.encode.displayName="_encode_";for(var Q,J,$,_,te,se,ce,ge,ue,re=j.data,Ce=j.width,ye=j.height,Ee=4*Ce,Me=0;Me<ye;){for(Q=0;Q<Ee;){for(te=Ee*Me+Q,ce=-1,ge=0,ue=0;ue<64;ue++)se=te+(ge=ue>>3)*Ee+(ce=4*(7&ue)),Me+ge>=ye&&(se-=Ee*(Me+1+ge-ye)),Q+ce>=Ee&&(se-=Q+ce-Ee+4),J=re[se++],$=re[se++],_=re[se++],A[ue]=(C[J]+C[$+256>>0]+C[_+512>>0]>>16)-128,g[ue]=(C[J+768>>0]+C[$+1024>>0]+C[_+1280>>0]>>16)-128,v[ue]=(C[J+1280>>0]+C[$+1536>>0]+C[_+1792>>0]>>16)-128;V=W(A,a,V,e,s),k=W(g,p,k,n,m),X=W(v,p,X,n,m),Q+=32}Me+=8}if(h>=0){var Be=[];Be[1]=h+1,Be[0]=(1<<h+1)-1,P(Be)}return z(65497),new Uint8Array(d)},t=t||50,function(){for(var j=String.fromCharCode,H=0;H<256;H++)y[H]=j(H)}(),e=M(T,S),n=M(N,L),s=M(F,B),m=M(R,I),function(){for(var j=1,H=2,V=1;V<=15;V++){for(var k=j;k<H;k++)o[32767+k]=V,c[32767+k]=[],c[32767+k][1]=V,c[32767+k][0]=k;for(var X=-(H-1);X<=-j;X++)o[32767+X]=V,c[32767+X]=[],c[32767+X][1]=V,c[32767+X][0]=H-1+X;j<<=1,H<<=1}}(),function(){for(var j=0;j<256;j++)C[j]=19595*j,C[j+256>>0]=38470*j,C[j+512>>0]=7471*j+32768,C[j+768>>0]=-11059*j,C[j+1024>>0]=-21709*j,C[j+1280>>0]=32768*j+8421375,C[j+1536>>0]=-27439*j,C[j+1792>>0]=-5329*j}(),Z(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Br(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function lB(t){function e(T){if(!T)throw Error("assert :P")}function n(T,S,F){for(var B=0;4>B;B++)if(T[S+B]!=F.charCodeAt(B))return!0;return!1}function s(T,S,F,B,N){for(var L=0;L<N;L++)T[S+L]=F[B+L]}function m(T,S,F,B){for(var N=0;N<B;N++)T[S+N]=F}function w(T){return new Int32Array(T)}function r(T,S){for(var F=[],B=0;B<T;B++)F.push(new S);return F}function x(T,S){var F=[];return function B(N,L,R){for(var I=R[L],M=0;M<I&&(N.push(R.length>L+1?[]:new S),!(R.length<L+1));M++)B(N[M],L+1,R)}(F,0,T),F}var i=function(){var T=this;function S(O,Y){for(var q=1<<Y-1>>>0;O&q;)q>>>=1;return q?(O&q-1)+q:O}function F(O,Y,q,ee,ie){e(!(ee%q));do O[Y+(ee-=q)]=ie;while(0<ee)}function B(O,Y,q,ee,ie){if(e(2328>=ie),512>=ie)var ae=w(512);else if((ae=w(ie))==null)return 0;return function(oe,le,he,fe,xe,Ne){var Le,Te,He=le,Ie=1<<he,we=w(16),be=w(16);for(e(xe!=0),e(fe!=null),e(oe!=null),e(0<he),Te=0;Te<xe;++Te){if(15<fe[Te])return 0;++we[fe[Te]]}if(we[0]==xe)return 0;for(be[1]=0,Le=1;15>Le;++Le){if(we[Le]>1<<Le)return 0;be[Le+1]=be[Le]+we[Le]}for(Te=0;Te<xe;++Te)Le=fe[Te],0<fe[Te]&&(Ne[be[Le]++]=Te);if(be[15]==1)return(fe=new N).g=0,fe.value=Ne[0],F(oe,He,1,Ie,fe),Ie;var De,je=-1,ke=Ie-1,nt=0,Je=1,At=1,Ze=1<<he;for(Te=0,Le=1,xe=2;Le<=he;++Le,xe<<=1){if(Je+=At<<=1,0>(At-=we[Le]))return 0;for(;0<we[Le];--we[Le])(fe=new N).g=Le,fe.value=Ne[Te++],F(oe,He+nt,xe,Ze,fe),nt=S(nt,Le)}for(Le=he+1,xe=2;15>=Le;++Le,xe<<=1){if(Je+=At<<=1,0>(At-=we[Le]))return 0;for(;0<we[Le];--we[Le]){if(fe=new N,(nt&ke)!=je){for(He+=Ze,De=1<<(je=Le)-he;15>je&&!(0>=(De-=we[je]));)++je,De<<=1;Ie+=Ze=1<<(De=je-he),oe[le+(je=nt&ke)].g=De+he,oe[le+je].value=He-le-je}fe.g=Le-he,fe.value=Ne[Te++],F(oe,He+(nt>>he),xe,Ze,fe),nt=S(nt,Le)}}return Je!=2*be[15]-1?0:Ie}(O,Y,q,ee,ie,ae)}function N(){this.value=this.g=0}function L(){this.value=this.g=0}function R(){this.G=r(5,N),this.H=w(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=r(mn,L)}function I(O,Y,q,ee){e(O!=null),e(Y!=null),e(2147483648>ee),O.Ca=254,O.I=0,O.b=-8,O.Ka=0,O.oa=Y,O.pa=q,O.Jd=Y,O.Yc=q+ee,O.Zc=4<=ee?q+ee-4+1:q,Q(O)}function M(O,Y){for(var q=0;0<Y--;)q|=$(O,128)<<Y;return q}function P(O,Y){var q=M(O,Y);return J(O)?-q:q}function U(O,Y,q,ee){var ie,ae=0;for(e(O!=null),e(Y!=null),e(4294967288>ee),O.Sb=ee,O.Ra=0,O.u=0,O.h=0,4<ee&&(ee=4),ie=0;ie<ee;++ie)ae+=Y[q+ie]<<8*ie;O.Ra=ae,O.bb=ee,O.oa=Y,O.pa=q}function z(O){for(;8<=O.u&&O.bb<O.Sb;)O.Ra>>>=8,O.Ra+=O.oa[O.pa+O.bb]<<bu-8>>>0,++O.bb,O.u-=8;V(O)&&(O.h=1,O.u=0)}function W(O,Y){if(e(0<=Y),!O.h&&Y<=Cu){var q=H(O)&wu[Y];return O.u+=Y,z(O),q}return O.h=1,O.u=0}function Z(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function j(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function H(O){return O.Ra>>>(O.u&bu-1)>>>0}function V(O){return e(O.bb<=O.Sb),O.h||O.bb==O.Sb&&O.u>bu}function k(O,Y){O.u=Y,O.h=V(O)}function X(O){O.u>=Uc&&(e(O.u>=Uc),z(O))}function Q(O){e(O!=null&&O.oa!=null),O.pa<O.Zc?(O.I=(O.oa[O.pa++]|O.I<<8)>>>0,O.b+=8):(e(O!=null&&O.oa!=null),O.pa<O.Yc?(O.b+=8,O.I=O.oa[O.pa++]|O.I<<8):O.Ka?O.b=0:(O.I<<=8,O.b+=8,O.Ka=1))}function J(O){return M(O,1)}function $(O,Y){var q=O.Ca;0>O.b&&Q(O);var ee=O.b,ie=q*Y>>>8,ae=(O.I>>>ee>ie)+0;for(ae?(q-=ie,O.I-=ie+1<<ee>>>0):q=ie+1,ee=q,ie=0;256<=ee;)ie+=8,ee>>=8;return ee=7^ie+rs[ee],O.b-=ee,O.Ca=(q<<ee)-1,ae}function _(O,Y,q){O[Y+0]=q>>24&255,O[Y+1]=q>>16&255,O[Y+2]=q>>8&255,O[Y+3]=q>>0&255}function te(O,Y){return O[Y+0]<<0|O[Y+1]<<8}function se(O,Y){return te(O,Y)|O[Y+2]<<16}function ce(O,Y){return te(O,Y)|te(O,Y+2)<<16}function ge(O,Y){var q=1<<Y;return e(O!=null),e(0<Y),O.X=w(q),O.X==null?0:(O.Mb=32-Y,O.Xa=Y,1)}function ue(O,Y){e(O!=null),e(Y!=null),e(O.Xa==Y.Xa),s(Y.X,0,O.X,0,1<<Y.Xa)}function re(){this.X=[],this.Xa=this.Mb=0}function Ce(O,Y,q,ee){e(q!=null),e(ee!=null);var ie=q[0],ae=ee[0];return ie==0&&(ie=(O*ae+Y/2)/Y),ae==0&&(ae=(Y*ie+O/2)/O),0>=ie||0>=ae?0:(q[0]=ie,ee[0]=ae,1)}function ye(O,Y){return O+(1<<Y)-1>>>Y}function Ee(O,Y){return((4278255360&O)+(4278255360&Y)>>>0&4278255360)+((16711935&O)+(16711935&Y)>>>0&16711935)>>>0}function Me(O,Y){T[Y]=function(q,ee,ie,ae,oe,le,he){var fe;for(fe=0;fe<oe;++fe){var xe=T[O](le[he+fe-1],ie,ae+fe);le[he+fe]=Ee(q[ee+fe],xe)}}}function Be(){this.ud=this.hd=this.jd=0}function ve(O,Y){return((4278124286&(O^Y))>>>1)+(O&Y)>>>0}function Re(O){return 0<=O&&256>O?O:0>O?0:255<O?255:void 0}function Pe(O,Y){return Re(O+(O-Y+.5>>1))}function Ge(O,Y,q){return Math.abs(Y-q)-Math.abs(O-q)}function We(O,Y,q,ee,ie,ae,oe){for(ee=ae[oe-1],q=0;q<ie;++q)ae[oe+q]=ee=Ee(O[Y+q],ee)}function at(O,Y,q,ee,ie){var ae;for(ae=0;ae<q;++ae){var oe=O[Y+ae],le=oe>>8&255,he=16711935&(he=(he=16711935&oe)+((le<<16)+le));ee[ie+ae]=(4278255360&oe)+he>>>0}}function qe(O,Y){Y.jd=O>>0&255,Y.hd=O>>8&255,Y.ud=O>>16&255}function Ye(O,Y,q,ee,ie,ae){var oe;for(oe=0;oe<ee;++oe){var le=Y[q+oe],he=le>>>8,fe=le,xe=255&(xe=(xe=le>>>16)+((O.jd<<24>>24)*(he<<24>>24)>>>5));fe=255&(fe=(fe=fe+((O.hd<<24>>24)*(he<<24>>24)>>>5))+((O.ud<<24>>24)*(xe<<24>>24)>>>5)),ie[ae+oe]=(4278255360&le)+(xe<<16)+fe}}function tt(O,Y,q,ee,ie){T[Y]=function(ae,oe,le,he,fe,xe,Ne,Le,Te){for(he=Ne;he<Le;++he)for(Ne=0;Ne<Te;++Ne)fe[xe++]=ie(le[ee(ae[oe++])])},T[O]=function(ae,oe,le,he,fe,xe,Ne){var Le=8>>ae.b,Te=ae.Ea,He=ae.K[0],Ie=ae.w;if(8>Le)for(ae=(1<<ae.b)-1,Ie=(1<<Le)-1;oe<le;++oe){var we,be=0;for(we=0;we<Te;++we)we&ae||(be=ee(he[fe++])),xe[Ne++]=ie(He[be&Ie]),be>>=Le}else T["VP8LMapColor"+q](he,fe,He,Ie,xe,Ne,oe,le,Te)}}function Ve(O,Y,q,ee,ie){for(q=Y+q;Y<q;){var ae=O[Y++];ee[ie++]=ae>>16&255,ee[ie++]=ae>>8&255,ee[ie++]=ae>>0&255}}function ct(O,Y,q,ee,ie){for(q=Y+q;Y<q;){var ae=O[Y++];ee[ie++]=ae>>16&255,ee[ie++]=ae>>8&255,ee[ie++]=ae>>0&255,ee[ie++]=ae>>24&255}}function ut(O,Y,q,ee,ie){for(q=Y+q;Y<q;){var ae=(oe=O[Y++])>>16&240|oe>>12&15,oe=oe>>0&240|oe>>28&15;ee[ie++]=ae,ee[ie++]=oe}}function Se(O,Y,q,ee,ie){for(q=Y+q;Y<q;){var ae=(oe=O[Y++])>>16&248|oe>>13&7,oe=oe>>5&224|oe>>3&31;ee[ie++]=ae,ee[ie++]=oe}}function Xe(O,Y,q,ee,ie){for(q=Y+q;Y<q;){var ae=O[Y++];ee[ie++]=ae>>0&255,ee[ie++]=ae>>8&255,ee[ie++]=ae>>16&255}}function rt(O,Y,q,ee,ie,ae){if(ae==0)for(q=Y+q;Y<q;)_(ee,((ae=O[Y++])[0]>>24|ae[1]>>8&65280|ae[2]<<8&16711680|ae[3]<<24)>>>0),ie+=32;else s(ee,ie,O,Y,q)}function Rt(O,Y){T[Y][0]=T[O+"0"],T[Y][1]=T[O+"1"],T[Y][2]=T[O+"2"],T[Y][3]=T[O+"3"],T[Y][4]=T[O+"4"],T[Y][5]=T[O+"5"],T[Y][6]=T[O+"6"],T[Y][7]=T[O+"7"],T[Y][8]=T[O+"8"],T[Y][9]=T[O+"9"],T[Y][10]=T[O+"10"],T[Y][11]=T[O+"11"],T[Y][12]=T[O+"12"],T[Y][13]=T[O+"13"],T[Y][14]=T[O+"0"],T[Y][15]=T[O+"0"]}function ft(O){return O==em||O==tm||O==Lf||O==im}function Ci(){this.eb=[],this.size=this.A=this.fb=0}function Gt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Cs(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ci,this.f.kb=new Gt,this.sd=null}function Gs(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function mi(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function xt(O){return alert("todo:WebPSamplerProcessPlane"),O.T}function Qt(O,Y){var q=O.T,ee=Y.ba.f.RGBA,ie=ee.eb,ae=ee.fb+O.ka*ee.A,oe=Js[Y.ba.S],le=O.y,he=O.O,fe=O.f,xe=O.N,Ne=O.ea,Le=O.W,Te=Y.cc,He=Y.dc,Ie=Y.Mc,we=Y.Nc,be=O.ka,De=O.ka+O.T,je=O.U,ke=je+1>>1;for(be==0?oe(le,he,null,null,fe,xe,Ne,Le,fe,xe,Ne,Le,ie,ae,null,null,je):(oe(Y.ec,Y.fc,le,he,Te,He,Ie,we,fe,xe,Ne,Le,ie,ae-ee.A,ie,ae,je),++q);be+2<De;be+=2)Te=fe,He=xe,Ie=Ne,we=Le,xe+=O.Rc,Le+=O.Rc,ae+=2*ee.A,oe(le,(he+=2*O.fa)-O.fa,le,he,Te,He,Ie,we,fe,xe,Ne,Le,ie,ae-ee.A,ie,ae,je);return he+=O.fa,O.j+De<O.o?(s(Y.ec,Y.fc,le,he,je),s(Y.cc,Y.dc,fe,xe,ke),s(Y.Mc,Y.Nc,Ne,Le,ke),q--):1&De||oe(le,he,null,null,fe,xe,Ne,Le,fe,xe,Ne,Le,ie,ae+ee.A,null,null,je),q}function on(O,Y,q){var ee=O.F,ie=[O.J];if(ee!=null){var ae=O.U,oe=Y.ba.S,le=oe==Nf||oe==Lf;Y=Y.ba.f.RGBA;var he=[0],fe=O.ka;he[0]=O.T,O.Kb&&(fe==0?--he[0]:(--fe,ie[0]-=O.width),O.j+O.ka+O.T==O.o&&(he[0]=O.o-O.j-fe));var xe=Y.eb;fe=Y.fb+fe*Y.A,O=hi(ee,ie[0],O.width,ae,he,xe,fe+(le?0:3),Y.A),e(q==he),O&&ft(oe)&&Ws(xe,fe,le,ae,he,Y.A)}return 0}function Kt(O){var Y=O.ma,q=Y.ba.S,ee=11>q,ie=q==Bf||q==Ff||q==Nf||q==_0||q==12||ft(q);if(Y.memory=null,Y.Ib=null,Y.Jb=null,Y.Nd=null,!Ic(Y.Oa,O,ie?11:12))return 0;if(ie&&ft(q)&&ze(),O.da)alert("todo:use_scaling");else{if(ee){if(Y.Ib=xt,O.Kb){if(q=O.U+1>>1,Y.memory=w(O.U+2*q),Y.memory==null)return 0;Y.ec=Y.memory,Y.fc=0,Y.cc=Y.ec,Y.dc=Y.fc+O.U,Y.Mc=Y.cc,Y.Nc=Y.dc+q,Y.Ib=Qt,ze()}}else alert("todo:EmitYUV");ie&&(Y.Jb=on,ee&&Fe())}if(ee&&!QC){for(O=0;256>O;++O)UI[O]=89858*(O-128)+Rf>>Mf,kI[O]=-22014*(O-128)+Rf,OI[O]=-45773*(O-128),DI[O]=113618*(O-128)+Rf>>Mf;for(O=jc;O<rm;++O)Y=76283*(O-16)+Rf>>Mf,HI[O-jc]=Ss(Y,255),GI[O-jc]=Ss(Y+8>>4,15);QC=1}return 1}function Qs(O){var Y=O.ma,q=O.U,ee=O.T;return e(!(1&O.ka)),0>=q||0>=ee?0:(q=Y.Ib(O,Y),Y.Jb!=null&&Y.Jb(O,Y,q),Y.Dc+=q,1)}function js(O){O.ma.memory=null}function dt(O,Y,q,ee){return W(O,8)!=47?0:(Y[0]=W(O,14)+1,q[0]=W(O,14)+1,ee[0]=W(O,1),W(O,3)!=0?0:!O.h)}function bs(O,Y){if(4>O)return O+1;var q=O-2>>1;return(2+(1&O)<<q)+W(Y,q)+1}function Vs(O,Y){return 120<Y?Y-120:1<=(q=((q=wI[Y-1])>>4)*O+(8-(15&q)))?q:1;var q}function zi(O,Y,q){var ee=H(q),ie=O[Y+=255&ee].g-8;return 0<ie&&(k(q,q.u+8),ee=H(q),Y+=O[Y].value,Y+=ee&(1<<ie)-1),k(q,q.u+O[Y].g),O[Y].value}function Ii(O,Y,q){return q.g+=O.g,q.value+=O.value<<Y>>>0,e(8>=q.g),O.g}function bi(O,Y,q){var ee=O.xc;return e((Y=ee==0?0:O.vc[O.md*(q>>ee)+(Y>>ee)])<O.Wb),O.Ya[Y]}function zn(O,Y,q,ee){var ie=O.ab,ae=O.c*Y,oe=O.C;Y=oe+Y;var le=q,he=ee;for(ee=O.Ta,q=O.Ua;0<ie--;){var fe=O.gc[ie],xe=oe,Ne=Y,Le=le,Te=he,He=(he=ee,le=q,fe.Ea);switch(e(xe<Ne),e(Ne<=fe.nc),fe.hc){case 2:xf(Le,Te,(Ne-xe)*He,he,le);break;case 0:var Ie=xe,we=Ne,be=he,De=le,je=(Ze=fe).Ea;Ie==0&&($0(Le,Te,null,null,1,be,De),We(Le,Te+1,0,0,je-1,be,De+1),Te+=je,De+=je,++Ie);for(var ke=1<<Ze.b,nt=ke-1,Je=ye(je,Ze.b),At=Ze.K,Ze=Ze.w+(Ie>>Ze.b)*Je;Ie<we;){var Yt=At,$t=Ze,jt=1;for(Dc(Le,Te,be,De-je,1,be,De);jt<je;){var Ut=(jt&~nt)+ke;Ut>je&&(Ut=je),(0,Ja[Yt[$t++]>>8&15])(Le,Te+ +jt,be,De+jt-je,Ut-jt,be,De+jt),jt=Ut}Te+=je,De+=je,++Ie&nt||(Ze+=Je)}Ne!=fe.nc&&s(he,le-He,he,le+(Ne-xe-1)*He,He);break;case 1:for(He=Le,we=Te,je=(Le=fe.Ea)-(De=Le&~(be=(Te=1<<fe.b)-1)),Ie=ye(Le,fe.b),ke=fe.K,fe=fe.w+(xe>>fe.b)*Ie;xe<Ne;){for(nt=ke,Je=fe,At=new Be,Ze=we+De,Yt=we+Le;we<Ze;)qe(nt[Je++],At),hl(At,He,we,Te,he,le),we+=Te,le+=Te;we<Yt&&(qe(nt[Je++],At),hl(At,He,we,je,he,le),we+=je,le+=je),++xe&be||(fe+=Ie)}break;case 3:if(Le==he&&Te==le&&0<fe.b){for(we=he,Le=He=le+(Ne-xe)*He-(De=(Ne-xe)*ye(fe.Ea,fe.b)),Te=he,be=le,Ie=[],De=(je=De)-1;0<=De;--De)Ie[De]=Te[be+De];for(De=je-1;0<=De;--De)we[Le+De]=Ie[De];zs(fe,xe,Ne,he,He,he,le)}else zs(fe,xe,Ne,Le,Te,he,le)}le=ee,he=q}he!=q&&s(ee,q,le,he,ae)}function Ya(O,Y){var q=O.V,ee=O.Ba+O.c*O.C,ie=Y-O.C;if(e(Y<=O.l.o),e(16>=ie),0<ie){var ae=O.l,oe=O.Ta,le=O.Ua,he=ae.width;if(zn(O,ie,q,ee),ie=le=[le],e((q=O.C)<(ee=Y)),e(ae.v<ae.va),ee>ae.o&&(ee=ae.o),q<ae.j){var fe=ae.j-q;q=ae.j,ie[0]+=fe*he}if(q>=ee?q=0:(ie[0]+=4*ae.v,ae.ka=q-ae.j,ae.U=ae.va-ae.v,ae.T=ee-q,q=1),q){if(le=le[0],11>(q=O.ca).S){var xe=q.f.RGBA,Ne=(ee=q.S,ie=ae.U,ae=ae.T,fe=xe.eb,xe.A),Le=ae;for(xe=xe.fb+O.Ma*xe.A;0<Le--;){var Te=oe,He=le,Ie=ie,we=fe,be=xe;switch(ee){case Ef:as(Te,He,Ie,we,be);break;case Bf:Yn(Te,He,Ie,we,be);break;case em:Yn(Te,He,Ie,we,be),Ws(we,be,0,Ie,1,0);break;case RC:ua(Te,He,Ie,we,be);break;case Ff:rt(Te,He,Ie,we,be,1);break;case tm:rt(Te,He,Ie,we,be,1),Ws(we,be,0,Ie,1,0);break;case Nf:rt(Te,He,Ie,we,be,0);break;case Lf:rt(Te,He,Ie,we,be,0),Ws(we,be,1,Ie,1,0);break;case _0:Za(Te,He,Ie,we,be);break;case im:Za(Te,He,Ie,we,be),ui(we,be,Ie,1,0);break;case IC:la(Te,He,Ie,we,be);break;default:e(0)}le+=he,xe+=Ne}O.Ma+=ae}else alert("todo:EmitRescaledRowsYUVA");e(O.Ma<=q.height)}}O.C=Y,e(O.C<=O.i)}function vr(O){var Y;if(0<O.ua)return 0;for(Y=0;Y<O.Wb;++Y){var q=O.Ya[Y].G,ee=O.Ya[Y].H;if(0<q[1][ee[1]+0].g||0<q[2][ee[2]+0].g||0<q[3][ee[3]+0].g)return 0}return 1}function Ae(O,Y,q,ee,ie,ae){if(O.Z!=0){var oe=O.qd,le=O.rd;for(e(eo[O.Z]!=null);Y<q;++Y)eo[O.Z](oe,le,ee,ie,ee,ie,ae),oe=ee,le=ie,ie+=ae;O.qd=oe,O.rd=le}}function Ke(O,Y){var q=O.l.ma,ee=q.Z==0||q.Z==1?O.l.j:O.C;if(ee=O.C<ee?ee:O.C,e(Y<=O.l.o),Y>ee){var ie=O.l.width,ae=q.ca,oe=q.tb+ie*ee,le=O.V,he=O.Ba+O.c*ee,fe=O.gc;e(O.ab==1),e(fe[0].hc==3),wf(fe[0],ee,Y,le,he,ae,oe),Ae(q,ee,Y,ae,oe,ie)}O.C=O.Ma=Y}function $e(O,Y,q,ee,ie,ae,oe){var le=O.$/ee,he=O.$%ee,fe=O.m,xe=O.s,Ne=q+O.$,Le=Ne;ie=q+ee*ie;var Te=q+ee*ae,He=280+xe.ua,Ie=O.Pb?le:16777216,we=0<xe.ua?xe.Wa:null,be=xe.wc,De=Ne<Te?bi(xe,he,le):null;e(O.C<ae),e(Te<=ie);var je=!1;e:for(;;){for(;je||Ne<Te;){var ke=0;if(le>=Ie){var nt=Ne-q;e((Ie=O).Pb),Ie.wd=Ie.m,Ie.xd=nt,0<Ie.s.ua&&ue(Ie.s.Wa,Ie.s.vb),Ie=le+bI}if(he&be||(De=bi(xe,he,le)),e(De!=null),De.Qb&&(Y[Ne]=De.qb,je=!0),!je)if(X(fe),De.jc){ke=fe,nt=Y;var Je=Ne,At=De.pd[H(ke)&mn-1];e(De.jc),256>At.g?(k(ke,ke.u+At.g),nt[Je]=At.value,ke=0):(k(ke,ke.u+At.g-256),e(256<=At.value),ke=At.value),ke==0&&(je=!0)}else ke=zi(De.G[0],De.H[0],fe);if(fe.h)break;if(je||256>ke){if(!je)if(De.nd)Y[Ne]=(De.qb|ke<<8)>>>0;else{if(X(fe),je=zi(De.G[1],De.H[1],fe),X(fe),nt=zi(De.G[2],De.H[2],fe),Je=zi(De.G[3],De.H[3],fe),fe.h)break;Y[Ne]=(Je<<24|je<<16|ke<<8|nt)>>>0}if(je=!1,++Ne,++he>=ee&&(he=0,++le,oe!=null&&le<=ae&&!(le%16)&&oe(O,le),we!=null))for(;Le<Ne;)ke=Y[Le++],we.X[(506832829*ke&4294967295)>>>we.Mb]=ke}else if(280>ke){if(ke=bs(ke-256,fe),nt=zi(De.G[4],De.H[4],fe),X(fe),nt=Vs(ee,nt=bs(nt,fe)),fe.h)break;if(Ne-q<nt||ie-Ne<ke)break e;for(Je=0;Je<ke;++Je)Y[Ne+Je]=Y[Ne+Je-nt];for(Ne+=ke,he+=ke;he>=ee;)he-=ee,++le,oe!=null&&le<=ae&&!(le%16)&&oe(O,le);if(e(Ne<=ie),he&be&&(De=bi(xe,he,le)),we!=null)for(;Le<Ne;)ke=Y[Le++],we.X[(506832829*ke&4294967295)>>>we.Mb]=ke}else{if(!(ke<He))break e;for(je=ke-280,e(we!=null);Le<Ne;)ke=Y[Le++],we.X[(506832829*ke&4294967295)>>>we.Mb]=ke;ke=Ne,e(!(je>>>(nt=we).Xa)),Y[ke]=nt.X[je],je=!0}je||e(fe.h==V(fe))}if(O.Pb&&fe.h&&Ne<ie)e(O.m.h),O.a=5,O.m=O.wd,O.$=O.xd,0<O.s.ua&&ue(O.s.vb,O.s.Wa);else{if(fe.h)break e;oe!=null&&oe(O,le>ae?ae:le),O.a=0,O.$=Ne-q}return 1}return O.a=3,0}function Ft(O){e(O!=null),O.vc=null,O.yc=null,O.Ya=null;var Y=O.Wa;Y!=null&&(Y.X=null),O.vb=null,e(O!=null)}function li(){var O=new Z0;return O==null?null:(O.a=0,O.xb=DC,Rt("Predictor","VP8LPredictors"),Rt("Predictor","VP8LPredictors_C"),Rt("PredictorAdd","VP8LPredictorsAdd"),Rt("PredictorAdd","VP8LPredictorsAdd_C"),xf=at,hl=Ye,as=Ve,Yn=ct,Za=ut,la=Se,ua=Xe,T.VP8LMapColor32b=Su,T.VP8LMapColor8b=Cf,O)}function ns(O,Y,q,ee,ie){var ae=1,oe=[O],le=[Y],he=ee.m,fe=ee.s,xe=null,Ne=0;e:for(;;){if(q)for(;ae&&W(he,1);){var Le=oe,Te=le,He=ee,Ie=1,we=He.m,be=He.gc[He.ab],De=W(we,2);if(He.Oc&1<<De)ae=0;else{switch(He.Oc|=1<<De,be.hc=De,be.Ea=Le[0],be.nc=Te[0],be.K=[null],++He.ab,e(4>=He.ab),De){case 0:case 1:be.b=W(we,3)+2,Ie=ns(ye(be.Ea,be.b),ye(be.nc,be.b),0,He,be.K),be.K=be.K[0];break;case 3:var je,ke=W(we,8)+1,nt=16<ke?0:4<ke?1:2<ke?2:3;if(Le[0]=ye(be.Ea,nt),be.b=nt,je=Ie=ns(ke,1,0,He,be.K)){var Je,At=ke,Ze=be,Yt=1<<(8>>Ze.b),$t=w(Yt);if($t==null)je=0;else{var jt=Ze.K[0],Ut=Ze.w;for($t[0]=Ze.K[0][0],Je=1;Je<1*At;++Je)$t[Je]=Ee(jt[Ut+Je],$t[Je-1]);for(;Je<4*Yt;++Je)$t[Je]=0;Ze.K[0]=null,Ze.K[0]=$t,je=1}}Ie=je;break;case 2:break;default:e(0)}ae=Ie}}if(oe=oe[0],le=le[0],ae&&W(he,1)&&!(ae=1<=(Ne=W(he,4))&&11>=Ne)){ee.a=3;break e}var ri;if(ri=ae)t:{var ti,Nt,Xi,os=ee,Wi=oe,ls=le,qt=Ne,Es=q,Bs=os.m,un=os.s,yn=[null],Wn=1,Zs=0,Vr=CI[qt];i:for(;;){if(Es&&W(Bs,1)){var hn=W(Bs,3)+2,Aa=ye(Wi,hn),pl=ye(ls,hn),Nu=Aa*pl;if(!ns(Aa,pl,0,os,yn))break i;for(yn=yn[0],un.xc=hn,ti=0;ti<Nu;++ti){var to=yn[ti]>>8&65535;yn[ti]=to,to>=Wn&&(Wn=to+1)}}if(Bs.h)break i;for(Nt=0;5>Nt;++Nt){var Bi=PC[Nt];!Nt&&0<qt&&(Bi+=1<<qt),Zs<Bi&&(Zs=Bi)}var am=r(Wn*Vr,N),zC=Wn,YC=r(zC,R);if(YC==null)var Pf=null;else e(65536>=zC),Pf=YC;var Vc=w(Zs);if(Pf==null||Vc==null||am==null){os.a=1;break i}var Uf=am;for(ti=Xi=0;ti<Wn;++ti){var Cr=Pf[ti],Lu=Cr.G,Mu=Cr.H,XC=0,Df=1,WC=0;for(Nt=0;5>Nt;++Nt){Bi=PC[Nt],Lu[Nt]=Uf,Mu[Nt]=Xi,!Nt&&0<qt&&(Bi+=1<<qt);s:{var Of,om=Bi,kf=os,zc=Vc,VI=Uf,zI=Xi,lm=0,io=kf.m,YI=W(io,1);if(m(zc,0,0,om),YI){var XI=W(io,1)+1,WI=W(io,1),KC=W(io,WI==0?1:8);zc[KC]=1,XI==2&&(zc[KC=W(io,8)]=1);var Hf=1}else{var JC=w(19),ZC=W(io,4)+4;if(19<ZC){kf.a=3;var Gf=0;break s}for(Of=0;Of<ZC;++Of)JC[xI[Of]]=W(io,3);var um=void 0,Yc=void 0,$C=kf,KI=JC,Qf=om,qC=zc,hm=0,no=$C.m,_C=8,eb=r(128,N);n:for(;B(eb,0,7,KI,19);){if(W(no,1)){var JI=2+2*W(no,3);if((um=2+W(no,JI))>Qf)break n}else um=Qf;for(Yc=0;Yc<Qf&&um--;){X(no);var tb=eb[0+(127&H(no))];k(no,no.u+tb.g);var Ru=tb.value;if(16>Ru)qC[Yc++]=Ru,Ru!=0&&(_C=Ru);else{var ZI=Ru==16,ib=Ru-16,$I=mI[ib],nb=W(no,vI[ib])+$I;if(Yc+nb>Qf)break n;for(var qI=ZI?_C:0;0<nb--;)qC[Yc++]=qI}}hm=1;break n}hm||($C.a=3),Hf=hm}(Hf=Hf&&!io.h)&&(lm=B(VI,zI,8,zc,om)),Hf&&lm!=0?Gf=lm:(kf.a=3,Gf=0)}if(Gf==0)break i;if(Df&&yI[Nt]==1&&(Df=Uf[Xi].g==0),XC+=Uf[Xi].g,Xi+=Gf,3>=Nt){var Xc,cm=Vc[0];for(Xc=1;Xc<Bi;++Xc)Vc[Xc]>cm&&(cm=Vc[Xc]);WC+=cm}}if(Cr.nd=Df,Cr.Qb=0,Df&&(Cr.qb=(Lu[3][Mu[3]+0].value<<24|Lu[1][Mu[1]+0].value<<16|Lu[2][Mu[2]+0].value)>>>0,XC==0&&256>Lu[0][Mu[0]+0].value&&(Cr.Qb=1,Cr.qb+=Lu[0][Mu[0]+0].value<<8)),Cr.jc=!Cr.Qb&&6>WC,Cr.jc){var jf,fa=Cr;for(jf=0;jf<mn;++jf){var so=jf,ro=fa.pd[so],Vf=fa.G[0][fa.H[0]+so];256<=Vf.value?(ro.g=Vf.g+256,ro.value=Vf.value):(ro.g=0,ro.value=0,so>>=Ii(Vf,8,ro),so>>=Ii(fa.G[1][fa.H[1]+so],16,ro),so>>=Ii(fa.G[2][fa.H[2]+so],0,ro),Ii(fa.G[3][fa.H[3]+so],24,ro))}}}un.vc=yn,un.Wb=Wn,un.Ya=Pf,un.yc=am,ri=1;break t}ri=0}if(!(ae=ri)){ee.a=3;break e}if(0<Ne){if(fe.ua=1<<Ne,!ge(fe.Wa,Ne)){ee.a=1,ae=0;break e}}else fe.ua=0;var dm=ee,sb=oe,_I=le,Am=dm.s,fm=Am.xc;if(dm.c=sb,dm.i=_I,Am.md=ye(sb,fm),Am.wc=fm==0?-1:(1<<fm)-1,q){ee.xb=LI;break e}if((xe=w(oe*le))==null){ee.a=1,ae=0;break e}ae=(ae=$e(ee,xe,0,oe,le,le,null))&&!he.h;break e}return ae?(ie!=null?ie[0]=xe:(e(xe==null),e(q)),ee.$=0,q||Ft(fe)):Ft(fe),ae}function rl(O,Y){var q=O.c*O.i,ee=q+Y+16*Y;return e(O.c<=Y),O.V=w(ee),O.V==null?(O.Ta=null,O.Ua=0,O.a=1,0):(O.Ta=O.V,O.Ua=O.Ba+q+Y,1)}function ru(O,Y){var q=O.C,ee=Y-q,ie=O.V,ae=O.Ba+O.c*q;for(e(Y<=O.l.o);0<ee;){var oe=16<ee?16:ee,le=O.l.ma,he=O.l.width,fe=he*oe,xe=le.ca,Ne=le.tb+he*q,Le=O.Ta,Te=O.Ua;zn(O,oe,ie,ae),Di(Le,Te,xe,Ne,fe),Ae(le,q,q+oe,xe,Ne,he),ee-=oe,ie+=oe*O.c,q+=oe}e(q==Y),O.C=O.Ma=Y}function au(){this.ub=this.yd=this.td=this.Rb=0}function ou(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function lu(){this.Fb=this.Bb=this.Cb=0,this.Zb=w(4),this.Lb=w(4)}function _A(){this.Yb=function(){var O=[];return function Y(q,ee,ie){for(var ae=ie[ee],oe=0;oe<ae&&(q.push(ie.length>ee+1?[]:0),!(ie.length<ee+1));oe++)Y(q[oe],ee+1,ie)}(O,0,[3,11]),O}()}function B0(){this.jb=w(3),this.Wc=x([4,8],_A),this.Xc=x([4,17],_A)}function F0(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new w(4),this.od=new w(4)}function uu(){this.ld=this.La=this.dd=this.tc=0}function ef(){this.Na=this.la=0}function N0(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function vc(){this.ad=w(384),this.Za=0,this.Ob=w(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function L0(){this.uc=this.M=this.Nb=0,this.wa=Array(new uu),this.Y=0,this.ya=Array(new vc),this.aa=0,this.l=new hu}function tf(){this.y=w(16),this.f=w(8),this.ea=w(8)}function M0(){this.cb=this.a=0,this.sc="",this.m=new Z,this.Od=new au,this.Kc=new ou,this.ed=new F0,this.Qa=new lu,this.Ic=this.$c=this.Aa=0,this.D=new L0,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=r(8,Z),this.ia=0,this.pb=r(4,N0),this.Pa=new B0,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new tf),this.Hd=0,this.rb=Array(new ef),this.sb=0,this.wa=Array(new uu),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new vc),this.L=this.aa=0,this.gd=x([4,2],uu),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function hu(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function R0(){var O=new M0;return O!=null&&(O.a=0,O.sc="OK",O.cb=0,O.Xb=0,Qc||(Qc=rf)),O}function Pi(O,Y,q){return O.a==0&&(O.a=Y,O.sc=q,O.cb=0),0}function nf(O,Y,q){return 3<=q&&O[Y+0]==157&&O[Y+1]==1&&O[Y+2]==42}function sf(O,Y){if(O==null)return 0;if(O.a=0,O.sc="OK",Y==null)return Pi(O,2,"null VP8Io passed to VP8GetHeaders()");var q=Y.data,ee=Y.w,ie=Y.ha;if(4>ie)return Pi(O,7,"Truncated header.");var ae=q[ee+0]|q[ee+1]<<8|q[ee+2]<<16,oe=O.Od;if(oe.Rb=!(1&ae),oe.td=ae>>1&7,oe.yd=ae>>4&1,oe.ub=ae>>5,3<oe.td)return Pi(O,3,"Incorrect keyframe parameters.");if(!oe.yd)return Pi(O,4,"Frame not displayable.");ee+=3,ie-=3;var le=O.Kc;if(oe.Rb){if(7>ie)return Pi(O,7,"cannot parse picture header");if(!nf(q,ee,ie))return Pi(O,3,"Bad code word");le.c=16383&(q[ee+4]<<8|q[ee+3]),le.Td=q[ee+4]>>6,le.i=16383&(q[ee+6]<<8|q[ee+5]),le.Ud=q[ee+6]>>6,ee+=7,ie-=7,O.za=le.c+15>>4,O.Ub=le.i+15>>4,Y.width=le.c,Y.height=le.i,Y.Da=0,Y.j=0,Y.v=0,Y.va=Y.width,Y.o=Y.height,Y.da=0,Y.ib=Y.width,Y.hb=Y.height,Y.U=Y.width,Y.T=Y.height,m((ae=O.Pa).jb,0,255,ae.jb.length),e((ae=O.Qa)!=null),ae.Cb=0,ae.Bb=0,ae.Fb=1,m(ae.Zb,0,0,ae.Zb.length),m(ae.Lb,0,0,ae.Lb)}if(oe.ub>ie)return Pi(O,7,"bad partition length");I(ae=O.m,q,ee,oe.ub),ee+=oe.ub,ie-=oe.ub,oe.Rb&&(le.Ld=J(ae),le.Kd=J(ae)),le=O.Qa;var he,fe=O.Pa;if(e(ae!=null),e(le!=null),le.Cb=J(ae),le.Cb){if(le.Bb=J(ae),J(ae)){for(le.Fb=J(ae),he=0;4>he;++he)le.Zb[he]=J(ae)?P(ae,7):0;for(he=0;4>he;++he)le.Lb[he]=J(ae)?P(ae,6):0}if(le.Bb)for(he=0;3>he;++he)fe.jb[he]=J(ae)?M(ae,8):255}else le.Bb=0;if(ae.Ka)return Pi(O,3,"cannot parse segment header");if((le=O.ed).zd=J(ae),le.Tb=M(ae,6),le.wb=M(ae,3),le.Pc=J(ae),le.Pc&&J(ae)){for(fe=0;4>fe;++fe)J(ae)&&(le.vd[fe]=P(ae,6));for(fe=0;4>fe;++fe)J(ae)&&(le.od[fe]=P(ae,6))}if(O.L=le.Tb==0?0:le.zd?1:2,ae.Ka)return Pi(O,3,"cannot parse filter header");var xe=ie;if(ie=he=ee,ee=he+xe,le=xe,O.Xb=(1<<M(O.m,2))-1,xe<3*(fe=O.Xb))q=7;else{for(he+=3*fe,le-=3*fe,xe=0;xe<fe;++xe){var Ne=q[ie+0]|q[ie+1]<<8|q[ie+2]<<16;Ne>le&&(Ne=le),I(O.Jc[+xe],q,he,Ne),he+=Ne,le-=Ne,ie+=3}I(O.Jc[+fe],q,he,le),q=he<ee?0:5}if(q!=0)return Pi(O,q,"cannot parse partitions");for(q=M(he=O.m,7),ie=J(he)?P(he,4):0,ee=J(he)?P(he,4):0,le=J(he)?P(he,4):0,fe=J(he)?P(he,4):0,he=J(he)?P(he,4):0,xe=O.Qa,Ne=0;4>Ne;++Ne){if(xe.Cb){var Le=xe.Zb[Ne];xe.Fb||(Le+=q)}else{if(0<Ne){O.pb[Ne]=O.pb[0];continue}Le=q}var Te=O.pb[Ne];Te.Sc[0]=nm[Ss(Le+ie,127)],Te.Sc[1]=sm[Ss(Le+0,127)],Te.Eb[0]=2*nm[Ss(Le+ee,127)],Te.Eb[1]=101581*sm[Ss(Le+le,127)]>>16,8>Te.Eb[1]&&(Te.Eb[1]=8),Te.Qc[0]=nm[Ss(Le+fe,117)],Te.Qc[1]=sm[Ss(Le+he,127)],Te.lc=Le+he}if(!oe.Rb)return Pi(O,4,"Not a key frame.");for(J(ae),oe=O.Pa,q=0;4>q;++q){for(ie=0;8>ie;++ie)for(ee=0;3>ee;++ee)for(le=0;11>le;++le)fe=$(ae,FI[q][ie][ee][le])?M(ae,8):EI[q][ie][ee][le],oe.Wc[q][ie].Yb[ee][le]=fe;for(ie=0;17>ie;++ie)oe.Xc[q][ie]=oe.Wc[q][NI[ie]]}return O.kc=J(ae),O.kc&&(O.Bd=M(ae,8)),O.cb=1}function rf(O,Y,q,ee,ie,ae,oe){var le=Y[ie].Yb[q];for(q=0;16>ie;++ie){if(!$(O,le[q+0]))return ie;for(;!$(O,le[q+1]);)if(le=Y[++ie].Yb[0],q=0,ie==16)return 16;var he=Y[ie+1].Yb;if($(O,le[q+2])){var fe=O,xe=0;if($(fe,(Le=le)[(Ne=q)+3]))if($(fe,Le[Ne+6])){for(le=0,Ne=2*(xe=$(fe,Le[Ne+8]))+(Le=$(fe,Le[Ne+9+xe])),xe=0,Le=SI[Ne];Le[le];++le)xe+=xe+$(fe,Le[le]);xe+=3+(8<<Ne)}else $(fe,Le[Ne+7])?(xe=7+2*$(fe,165),xe+=$(fe,145)):xe=5+$(fe,159);else xe=$(fe,Le[Ne+4])?3+$(fe,Le[Ne+5]):2;le=he[2]}else xe=1,le=he[1];he=oe+TI[ie],0>(fe=O).b&&Q(fe);var Ne,Le=fe.b,Te=(Ne=fe.Ca>>1)-(fe.I>>Le)>>31;--fe.b,fe.Ca+=Te,fe.Ca|=1,fe.I-=(Ne+1&Te)<<Le,ae[he]=((xe^Te)-Te)*ee[(0<ie)+0]}return 16}function mc(O){var Y=O.rb[O.sb-1];Y.la=0,Y.Na=0,m(O.zc,0,0,O.zc.length),O.ja=0}function I0(O,Y){if(O==null)return 0;if(Y==null)return Pi(O,2,"NULL VP8Io parameter in VP8Decode().");if(!O.cb&&!sf(O,Y))return 0;if(e(O.cb),Y.ac==null||Y.ac(Y)){Y.ob&&(O.L=0);var q=If[O.L];if(O.L==2?(O.yb=0,O.zb=0):(O.yb=Y.v-q>>4,O.zb=Y.j-q>>4,0>O.yb&&(O.yb=0),0>O.zb&&(O.zb=0)),O.Va=Y.o+15+q>>4,O.Hb=Y.va+15+q>>4,O.Hb>O.za&&(O.Hb=O.za),O.Va>O.Ub&&(O.Va=O.Ub),0<O.L){var ee=O.ed;for(q=0;4>q;++q){var ie;if(O.Qa.Cb){var ae=O.Qa.Lb[q];O.Qa.Fb||(ae+=ee.Tb)}else ae=ee.Tb;for(ie=0;1>=ie;++ie){var oe=O.gd[q][ie],le=ae;if(ee.Pc&&(le+=ee.vd[0],ie&&(le+=ee.od[0])),0<(le=0>le?0:63<le?63:le)){var he=le;0<ee.wb&&(he=4<ee.wb?he>>2:he>>1)>9-ee.wb&&(he=9-ee.wb),1>he&&(he=1),oe.dd=he,oe.tc=2*le+he,oe.ld=40<=le?2:15<=le?1:0}else oe.tc=0;oe.La=ie}}}q=0}else Pi(O,6,"Frame setup failed"),q=O.a;if(q=q==0){if(q){O.$c=0,0<O.Aa||(O.Ic=jI);e:{q=O.Ic,ee=4*(he=O.za);var fe=32*he,xe=he+1,Ne=0<O.L?he*(0<O.Aa?2:1):0,Le=(O.Aa==2?2:1)*he;if((oe=ee+832+(ie=3*(16*q+If[O.L])/2*fe)+(ae=O.Fa!=null&&0<O.Fa.length?O.Kc.c*O.Kc.i:0))!=oe)q=0;else{if(oe>O.Vb){if(O.Vb=0,O.Ec=w(oe),O.Fc=0,O.Ec==null){q=Pi(O,1,"no memory during frame initialization.");break e}O.Vb=oe}oe=O.Ec,le=O.Fc,O.Ac=oe,O.Bc=le,le+=ee,O.Gd=r(fe,tf),O.Hd=0,O.rb=r(xe+1,ef),O.sb=1,O.wa=Ne?r(Ne,uu):null,O.Y=0,O.D.Nb=0,O.D.wa=O.wa,O.D.Y=O.Y,0<O.Aa&&(O.D.Y+=he),e(!0),O.oc=oe,O.pc=le,le+=832,O.ya=r(Le,vc),O.aa=0,O.D.ya=O.ya,O.D.aa=O.aa,O.Aa==2&&(O.D.aa+=he),O.R=16*he,O.B=8*he,he=(fe=If[O.L])*O.R,fe=fe/2*O.B,O.sa=oe,O.ta=le+he,O.qa=O.sa,O.ra=O.ta+16*q*O.R+fe,O.Ha=O.qa,O.Ia=O.ra+8*q*O.B+fe,O.$c=0,le+=ie,O.mb=ae?oe:null,O.nb=ae?le:null,e(le+ae<=O.Fc+O.Vb),mc(O),m(O.Ac,O.Bc,0,ee),q=1}}if(q){if(Y.ka=0,Y.y=O.sa,Y.O=O.ta,Y.f=O.qa,Y.N=O.ra,Y.ea=O.Ha,Y.Vd=O.Ia,Y.fa=O.R,Y.Rc=O.B,Y.F=null,Y.J=0,!Sf){for(q=-255;255>=q;++q)en[255+q]=0>q?-q:q;for(q=-1020;1020>=q;++q)ca[1020+q]=-128>q?-128:127<q?127:q;for(q=-112;112>=q;++q)Gc[112+q]=-16>q?-16:15<q?15:q;for(q=-255;510>=q;++q)Fu[255+q]=0>q?0:255<q?255:q;Sf=1}Tu=D0,ha=P0,Oc=of,Xn=U0,Ys=lf,Ui=af,Eu=Sc,bf=ll,kc=J0,cl=Tc,dl=K0,$a=gu,Al=Ec,Bu=vf,fl=gf,qa=Qr,Hc=oa,Xs=W0,wr[0]=Gr,wr[1]=O0,wr[2]=Q0,wr[3]=j0,wr[4]=cf,wr[5]=fu,wr[6]=df,wr[7]=wc,wr[8]=z0,wr[9]=V0,_a[0]=uf,_a[1]=H0,_a[2]=aa,_a[3]=du,_a[4]=Ln,_a[5]=G0,_a[6]=hf,da[0]=Xa,da[1]=k0,da[2]=Y0,da[3]=Cc,da[4]=ol,da[5]=X0,da[6]=bc,q=1}else q=0}q&&(q=function(Te,He){for(Te.M=0;Te.M<Te.Va;++Te.M){var Ie,we=Te.Jc[Te.M&Te.Xb],be=Te.m,De=Te;for(Ie=0;Ie<De.za;++Ie){var je=be,ke=De,nt=ke.Ac,Je=ke.Bc+4*Ie,At=ke.zc,Ze=ke.ya[ke.aa+Ie];if(ke.Qa.Bb?Ze.$b=$(je,ke.Pa.jb[0])?2+$(je,ke.Pa.jb[2]):$(je,ke.Pa.jb[1]):Ze.$b=0,ke.kc&&(Ze.Ad=$(je,ke.Bd)),Ze.Za=!$(je,145)+0,Ze.Za){var Yt=Ze.Ob,$t=0;for(ke=0;4>ke;++ke){var jt,Ut=At[0+ke];for(jt=0;4>jt;++jt){Ut=BI[nt[Je+jt]][Ut];for(var ri=UC[$(je,Ut[0])];0<ri;)ri=UC[2*ri+$(je,Ut[ri])];Ut=-ri,nt[Je+jt]=Ut}s(Yt,$t,nt,Je,4),$t+=4,At[0+ke]=Ut}}else Ut=$(je,156)?$(je,128)?1:3:$(je,163)?2:0,Ze.Ob[0]=Ut,m(nt,Je,Ut,4),m(At,0,Ut,4);Ze.Dd=$(je,142)?$(je,114)?$(je,183)?1:3:2:0}if(De.m.Ka)return Pi(Te,7,"Premature end-of-partition0 encountered.");for(;Te.ja<Te.za;++Te.ja){if(De=we,je=(be=Te).rb[be.sb-1],nt=be.rb[be.sb+be.ja],Ie=be.ya[be.aa+be.ja],Je=be.kc?Ie.Ad:0)je.la=nt.la=0,Ie.Za||(je.Na=nt.Na=0),Ie.Hc=0,Ie.Gc=0,Ie.ia=0;else{var ti,Nt;if(je=nt,nt=De,Je=be.Pa.Xc,At=be.ya[be.aa+be.ja],Ze=be.pb[At.$b],ke=At.ad,Yt=0,$t=be.rb[be.sb-1],Ut=jt=0,m(ke,Yt,0,384),At.Za)var Xi=0,os=Je[3];else{ri=w(16);var Wi=je.Na+$t.Na;if(Wi=Qc(nt,Je[1],Wi,Ze.Eb,0,ri,0),je.Na=$t.Na=(0<Wi)+0,1<Wi)Tu(ri,0,ke,Yt);else{var ls=ri[0]+3>>3;for(ri=0;256>ri;ri+=16)ke[Yt+ri]=ls}Xi=1,os=Je[0]}var qt=15&je.la,Es=15&$t.la;for(ri=0;4>ri;++ri){var Bs=1&Es;for(ls=Nt=0;4>ls;++ls)qt=qt>>1|(Bs=(Wi=Qc(nt,os,Wi=Bs+(1&qt),Ze.Sc,Xi,ke,Yt))>Xi)<<7,Nt=Nt<<2|(3<Wi?3:1<Wi?2:ke[Yt+0]!=0),Yt+=16;qt>>=4,Es=Es>>1|Bs<<7,jt=(jt<<8|Nt)>>>0}for(os=qt,Xi=Es>>4,ti=0;4>ti;ti+=2){for(Nt=0,qt=je.la>>4+ti,Es=$t.la>>4+ti,ri=0;2>ri;++ri){for(Bs=1&Es,ls=0;2>ls;++ls)Wi=Bs+(1&qt),qt=qt>>1|(Bs=0<(Wi=Qc(nt,Je[2],Wi,Ze.Qc,0,ke,Yt)))<<3,Nt=Nt<<2|(3<Wi?3:1<Wi?2:ke[Yt+0]!=0),Yt+=16;qt>>=2,Es=Es>>1|Bs<<5}Ut|=Nt<<4*ti,os|=qt<<4<<ti,Xi|=(240&Es)<<ti}je.la=os,$t.la=Xi,At.Hc=jt,At.Gc=Ut,At.ia=43690&Ut?0:Ze.ia,Je=!(jt|Ut)}if(0<be.L&&(be.wa[be.Y+be.ja]=be.gd[Ie.$b][Ie.Za],be.wa[be.Y+be.ja].La|=!Je),De.Ka)return Pi(Te,7,"Premature end-of-file encountered.")}if(mc(Te),be=He,De=1,Ie=(we=Te).D,je=0<we.L&&we.M>=we.zb&&we.M<=we.Va,we.Aa==0)e:{if(Ie.M=we.M,Ie.uc=je,Rc(we,Ie),De=1,Ie=(Nt=we.D).Nb,je=(Ut=If[we.L])*we.R,nt=Ut/2*we.B,ri=16*Ie*we.R,ls=8*Ie*we.B,Je=we.sa,At=we.ta-je+ri,Ze=we.qa,ke=we.ra-nt+ls,Yt=we.Ha,$t=we.Ia-nt+ls,Es=(qt=Nt.M)==0,jt=qt>=we.Va-1,we.Aa==2&&Rc(we,Nt),Nt.uc)for(Bs=(Wi=we).D.M,e(Wi.D.uc),Nt=Wi.yb;Nt<Wi.Hb;++Nt){Xi=Nt,os=Bs;var un=(yn=(Bi=Wi).D).Nb;ti=Bi.R;var yn=yn.wa[yn.Y+Xi],Wn=Bi.sa,Zs=Bi.ta+16*un*ti+16*Xi,Vr=yn.dd,hn=yn.tc;if(hn!=0)if(e(3<=hn),Bi.L==1)0<Xi&&qa(Wn,Zs,ti,hn+4),yn.La&&Xs(Wn,Zs,ti,hn),0<os&&fl(Wn,Zs,ti,hn+4),yn.La&&Hc(Wn,Zs,ti,hn);else{var Aa=Bi.B,pl=Bi.qa,Nu=Bi.ra+8*un*Aa+8*Xi,to=Bi.Ha,Bi=Bi.Ia+8*un*Aa+8*Xi;un=yn.ld,0<Xi&&(bf(Wn,Zs,ti,hn+4,Vr,un),cl(pl,Nu,to,Bi,Aa,hn+4,Vr,un)),yn.La&&($a(Wn,Zs,ti,hn,Vr,un),Bu(pl,Nu,to,Bi,Aa,hn,Vr,un)),0<os&&(Eu(Wn,Zs,ti,hn+4,Vr,un),kc(pl,Nu,to,Bi,Aa,hn+4,Vr,un)),yn.La&&(dl(Wn,Zs,ti,hn,Vr,un),Al(pl,Nu,to,Bi,Aa,hn,Vr,un))}}if(we.ia&&alert("todo:DitherRow"),be.put!=null){if(Nt=16*qt,qt=16*(qt+1),Es?(be.y=we.sa,be.O=we.ta+ri,be.f=we.qa,be.N=we.ra+ls,be.ea=we.Ha,be.W=we.Ia+ls):(Nt-=Ut,be.y=Je,be.O=At,be.f=Ze,be.N=ke,be.ea=Yt,be.W=$t),jt||(qt-=Ut),qt>be.o&&(qt=be.o),be.F=null,be.J=null,we.Fa!=null&&0<we.Fa.length&&Nt<qt&&(be.J=Lc(we,be,Nt,qt-Nt),be.F=we.mb,be.F==null&&be.F.length==0)){De=Pi(we,3,"Could not decode alpha data.");break e}Nt<be.j&&(Ut=be.j-Nt,Nt=be.j,e(!(1&Ut)),be.O+=we.R*Ut,be.N+=we.B*(Ut>>1),be.W+=we.B*(Ut>>1),be.F!=null&&(be.J+=be.width*Ut)),Nt<qt&&(be.O+=be.v,be.N+=be.v>>1,be.W+=be.v>>1,be.F!=null&&(be.J+=be.v),be.ka=Nt-be.j,be.U=be.va-be.v,be.T=qt-Nt,De=be.put(be))}Ie+1!=we.Ic||jt||(s(we.sa,we.ta-je,Je,At+16*we.R,je),s(we.qa,we.ra-nt,Ze,ke+8*we.B,nt),s(we.Ha,we.Ia-nt,Yt,$t+8*we.B,nt))}if(!De)return Pi(Te,6,"Output aborted.")}return 1}(O,Y)),Y.bc!=null&&Y.bc(Y),q&=1}return q?(O.cb=0,q):0}function mr(O,Y,q,ee,ie){ie=O[Y+q+32*ee]+(ie>>3),O[Y+q+32*ee]=-256&ie?0>ie?0:255:ie}function cu(O,Y,q,ee,ie,ae){mr(O,Y,0,q,ee+ie),mr(O,Y,1,q,ee+ae),mr(O,Y,2,q,ee-ae),mr(O,Y,3,q,ee-ie)}function ss(O){return(20091*O>>16)+O}function yc(O,Y,q,ee){var ie,ae=0,oe=w(16);for(ie=0;4>ie;++ie){var le=O[Y+0]+O[Y+8],he=O[Y+0]-O[Y+8],fe=(35468*O[Y+4]>>16)-ss(O[Y+12]),xe=ss(O[Y+4])+(35468*O[Y+12]>>16);oe[ae+0]=le+xe,oe[ae+1]=he+fe,oe[ae+2]=he-fe,oe[ae+3]=le-xe,ae+=4,Y++}for(ie=ae=0;4>ie;++ie)le=(O=oe[ae+0]+4)+oe[ae+8],he=O-oe[ae+8],fe=(35468*oe[ae+4]>>16)-ss(oe[ae+12]),mr(q,ee,0,0,le+(xe=ss(oe[ae+4])+(35468*oe[ae+12]>>16))),mr(q,ee,1,0,he+fe),mr(q,ee,2,0,he-fe),mr(q,ee,3,0,le-xe),ae++,ee+=32}function af(O,Y,q,ee){var ie=O[Y+0]+4,ae=35468*O[Y+4]>>16,oe=ss(O[Y+4]),le=35468*O[Y+1]>>16;cu(q,ee,0,ie+oe,O=ss(O[Y+1]),le),cu(q,ee,1,ie+ae,O,le),cu(q,ee,2,ie-ae,O,le),cu(q,ee,3,ie-oe,O,le)}function P0(O,Y,q,ee,ie){yc(O,Y,q,ee),ie&&yc(O,Y+16,q,ee+4)}function of(O,Y,q,ee){ha(O,Y+0,q,ee,1),ha(O,Y+32,q,ee+128,1)}function U0(O,Y,q,ee){var ie;for(O=O[Y+0]+4,ie=0;4>ie;++ie)for(Y=0;4>Y;++Y)mr(q,ee,Y,ie,O)}function lf(O,Y,q,ee){O[Y+0]&&Xn(O,Y+0,q,ee),O[Y+16]&&Xn(O,Y+16,q,ee+4),O[Y+32]&&Xn(O,Y+32,q,ee+128),O[Y+48]&&Xn(O,Y+48,q,ee+128+4)}function D0(O,Y,q,ee){var ie,ae=w(16);for(ie=0;4>ie;++ie){var oe=O[Y+0+ie]+O[Y+12+ie],le=O[Y+4+ie]+O[Y+8+ie],he=O[Y+4+ie]-O[Y+8+ie],fe=O[Y+0+ie]-O[Y+12+ie];ae[0+ie]=oe+le,ae[8+ie]=oe-le,ae[4+ie]=fe+he,ae[12+ie]=fe-he}for(ie=0;4>ie;++ie)oe=(O=ae[0+4*ie]+3)+ae[3+4*ie],le=ae[1+4*ie]+ae[2+4*ie],he=ae[1+4*ie]-ae[2+4*ie],fe=O-ae[3+4*ie],q[ee+0]=oe+le>>3,q[ee+16]=fe+he>>3,q[ee+32]=oe-le>>3,q[ee+48]=fe-he>>3,ee+=64}function xc(O,Y,q){var ee,ie=Y-32,ae=Ts,oe=255-O[ie-1];for(ee=0;ee<q;++ee){var le,he=ae,fe=oe+O[Y-1];for(le=0;le<q;++le)O[Y+le]=he[fe+O[ie+le]];Y+=32}}function O0(O,Y){xc(O,Y,4)}function k0(O,Y){xc(O,Y,8)}function H0(O,Y){xc(O,Y,16)}function aa(O,Y){var q;for(q=0;16>q;++q)s(O,Y+32*q,O,Y-32,16)}function du(O,Y){var q;for(q=16;0<q;--q)m(O,Y,O[Y-1],16),Y+=32}function Au(O,Y,q){var ee;for(ee=0;16>ee;++ee)m(Y,q+32*ee,O,16)}function uf(O,Y){var q,ee=16;for(q=0;16>q;++q)ee+=O[Y-1+32*q]+O[Y+q-32];Au(ee>>5,O,Y)}function Ln(O,Y){var q,ee=8;for(q=0;16>q;++q)ee+=O[Y-1+32*q];Au(ee>>4,O,Y)}function G0(O,Y){var q,ee=8;for(q=0;16>q;++q)ee+=O[Y+q-32];Au(ee>>4,O,Y)}function hf(O,Y){Au(128,O,Y)}function wt(O,Y,q){return O+2*Y+q+2>>2}function Q0(O,Y){var q,ee=Y-32;for(ee=new Uint8Array([wt(O[ee-1],O[ee+0],O[ee+1]),wt(O[ee+0],O[ee+1],O[ee+2]),wt(O[ee+1],O[ee+2],O[ee+3]),wt(O[ee+2],O[ee+3],O[ee+4])]),q=0;4>q;++q)s(O,Y+32*q,ee,0,ee.length)}function j0(O,Y){var q=O[Y-1],ee=O[Y-1+32],ie=O[Y-1+64],ae=O[Y-1+96];_(O,Y+0,16843009*wt(O[Y-1-32],q,ee)),_(O,Y+32,16843009*wt(q,ee,ie)),_(O,Y+64,16843009*wt(ee,ie,ae)),_(O,Y+96,16843009*wt(ie,ae,ae))}function Gr(O,Y){var q,ee=4;for(q=0;4>q;++q)ee+=O[Y+q-32]+O[Y-1+32*q];for(ee>>=3,q=0;4>q;++q)m(O,Y+32*q,ee,4)}function cf(O,Y){var q=O[Y-1+0],ee=O[Y-1+32],ie=O[Y-1+64],ae=O[Y-1-32],oe=O[Y+0-32],le=O[Y+1-32],he=O[Y+2-32],fe=O[Y+3-32];O[Y+0+96]=wt(ee,ie,O[Y-1+96]),O[Y+1+96]=O[Y+0+64]=wt(q,ee,ie),O[Y+2+96]=O[Y+1+64]=O[Y+0+32]=wt(ae,q,ee),O[Y+3+96]=O[Y+2+64]=O[Y+1+32]=O[Y+0+0]=wt(oe,ae,q),O[Y+3+64]=O[Y+2+32]=O[Y+1+0]=wt(le,oe,ae),O[Y+3+32]=O[Y+2+0]=wt(he,le,oe),O[Y+3+0]=wt(fe,he,le)}function df(O,Y){var q=O[Y+1-32],ee=O[Y+2-32],ie=O[Y+3-32],ae=O[Y+4-32],oe=O[Y+5-32],le=O[Y+6-32],he=O[Y+7-32];O[Y+0+0]=wt(O[Y+0-32],q,ee),O[Y+1+0]=O[Y+0+32]=wt(q,ee,ie),O[Y+2+0]=O[Y+1+32]=O[Y+0+64]=wt(ee,ie,ae),O[Y+3+0]=O[Y+2+32]=O[Y+1+64]=O[Y+0+96]=wt(ie,ae,oe),O[Y+3+32]=O[Y+2+64]=O[Y+1+96]=wt(ae,oe,le),O[Y+3+64]=O[Y+2+96]=wt(oe,le,he),O[Y+3+96]=wt(le,he,he)}function fu(O,Y){var q=O[Y-1+0],ee=O[Y-1+32],ie=O[Y-1+64],ae=O[Y-1-32],oe=O[Y+0-32],le=O[Y+1-32],he=O[Y+2-32],fe=O[Y+3-32];O[Y+0+0]=O[Y+1+64]=ae+oe+1>>1,O[Y+1+0]=O[Y+2+64]=oe+le+1>>1,O[Y+2+0]=O[Y+3+64]=le+he+1>>1,O[Y+3+0]=he+fe+1>>1,O[Y+0+96]=wt(ie,ee,q),O[Y+0+64]=wt(ee,q,ae),O[Y+0+32]=O[Y+1+96]=wt(q,ae,oe),O[Y+1+32]=O[Y+2+96]=wt(ae,oe,le),O[Y+2+32]=O[Y+3+96]=wt(oe,le,he),O[Y+3+32]=wt(le,he,fe)}function wc(O,Y){var q=O[Y+0-32],ee=O[Y+1-32],ie=O[Y+2-32],ae=O[Y+3-32],oe=O[Y+4-32],le=O[Y+5-32],he=O[Y+6-32],fe=O[Y+7-32];O[Y+0+0]=q+ee+1>>1,O[Y+1+0]=O[Y+0+64]=ee+ie+1>>1,O[Y+2+0]=O[Y+1+64]=ie+ae+1>>1,O[Y+3+0]=O[Y+2+64]=ae+oe+1>>1,O[Y+0+32]=wt(q,ee,ie),O[Y+1+32]=O[Y+0+96]=wt(ee,ie,ae),O[Y+2+32]=O[Y+1+96]=wt(ie,ae,oe),O[Y+3+32]=O[Y+2+96]=wt(ae,oe,le),O[Y+3+64]=wt(oe,le,he),O[Y+3+96]=wt(le,he,fe)}function V0(O,Y){var q=O[Y-1+0],ee=O[Y-1+32],ie=O[Y-1+64],ae=O[Y-1+96];O[Y+0+0]=q+ee+1>>1,O[Y+2+0]=O[Y+0+32]=ee+ie+1>>1,O[Y+2+32]=O[Y+0+64]=ie+ae+1>>1,O[Y+1+0]=wt(q,ee,ie),O[Y+3+0]=O[Y+1+32]=wt(ee,ie,ae),O[Y+3+32]=O[Y+1+64]=wt(ie,ae,ae),O[Y+3+64]=O[Y+2+64]=O[Y+0+96]=O[Y+1+96]=O[Y+2+96]=O[Y+3+96]=ae}function z0(O,Y){var q=O[Y-1+0],ee=O[Y-1+32],ie=O[Y-1+64],ae=O[Y-1+96],oe=O[Y-1-32],le=O[Y+0-32],he=O[Y+1-32],fe=O[Y+2-32];O[Y+0+0]=O[Y+2+32]=q+oe+1>>1,O[Y+0+32]=O[Y+2+64]=ee+q+1>>1,O[Y+0+64]=O[Y+2+96]=ie+ee+1>>1,O[Y+0+96]=ae+ie+1>>1,O[Y+3+0]=wt(le,he,fe),O[Y+2+0]=wt(oe,le,he),O[Y+1+0]=O[Y+3+32]=wt(q,oe,le),O[Y+1+32]=O[Y+3+64]=wt(ee,q,oe),O[Y+1+64]=O[Y+3+96]=wt(ie,ee,q),O[Y+1+96]=wt(ae,ie,ee)}function Y0(O,Y){var q;for(q=0;8>q;++q)s(O,Y+32*q,O,Y-32,8)}function Cc(O,Y){var q;for(q=0;8>q;++q)m(O,Y,O[Y-1],8),Y+=32}function al(O,Y,q){var ee;for(ee=0;8>ee;++ee)m(Y,q+32*ee,O,8)}function Xa(O,Y){var q,ee=8;for(q=0;8>q;++q)ee+=O[Y+q-32]+O[Y-1+32*q];al(ee>>4,O,Y)}function X0(O,Y){var q,ee=4;for(q=0;8>q;++q)ee+=O[Y+q-32];al(ee>>3,O,Y)}function ol(O,Y){var q,ee=4;for(q=0;8>q;++q)ee+=O[Y-1+32*q];al(ee>>3,O,Y)}function bc(O,Y){al(128,O,Y)}function pu(O,Y,q){var ee=O[Y-q],ie=O[Y+0],ae=3*(ie-ee)+q0[1020+O[Y-2*q]-O[Y+q]],oe=Tf[112+(ae+4>>3)];O[Y-q]=Ts[255+ee+Tf[112+(ae+3>>3)]],O[Y+0]=Ts[255+ie-oe]}function Af(O,Y,q,ee){var ie=O[Y+0],ae=O[Y+q];return Ks[255+O[Y-2*q]-O[Y-q]]>ee||Ks[255+ae-ie]>ee}function ff(O,Y,q,ee){return 4*Ks[255+O[Y-q]-O[Y+0]]+Ks[255+O[Y-2*q]-O[Y+q]]<=ee}function pf(O,Y,q,ee,ie){var ae=O[Y-3*q],oe=O[Y-2*q],le=O[Y-q],he=O[Y+0],fe=O[Y+q],xe=O[Y+2*q],Ne=O[Y+3*q];return 4*Ks[255+le-he]+Ks[255+oe-fe]>ee?0:Ks[255+O[Y-4*q]-ae]<=ie&&Ks[255+ae-oe]<=ie&&Ks[255+oe-le]<=ie&&Ks[255+Ne-xe]<=ie&&Ks[255+xe-fe]<=ie&&Ks[255+fe-he]<=ie}function gf(O,Y,q,ee){var ie=2*ee+1;for(ee=0;16>ee;++ee)ff(O,Y+ee,q,ie)&&pu(O,Y+ee,q)}function Qr(O,Y,q,ee){var ie=2*ee+1;for(ee=0;16>ee;++ee)ff(O,Y+ee*q,1,ie)&&pu(O,Y+ee*q,1)}function oa(O,Y,q,ee){var ie;for(ie=3;0<ie;--ie)gf(O,Y+=4*q,q,ee)}function W0(O,Y,q,ee){var ie;for(ie=3;0<ie;--ie)Qr(O,Y+=4,q,ee)}function Wa(O,Y,q,ee,ie,ae,oe,le){for(ae=2*ae+1;0<ie--;){if(pf(O,Y,q,ae,oe))if(Af(O,Y,q,le))pu(O,Y,q);else{var he=O,fe=Y,xe=q,Ne=he[fe-2*xe],Le=he[fe-xe],Te=he[fe+0],He=he[fe+xe],Ie=he[fe+2*xe],we=27*(De=q0[1020+3*(Te-Le)+q0[1020+Ne-He]])+63>>7,be=18*De+63>>7,De=9*De+63>>7;he[fe-3*xe]=Ts[255+he[fe-3*xe]+De],he[fe-2*xe]=Ts[255+Ne+be],he[fe-xe]=Ts[255+Le+we],he[fe+0]=Ts[255+Te-we],he[fe+xe]=Ts[255+He-be],he[fe+2*xe]=Ts[255+Ie-De]}Y+=ee}}function yr(O,Y,q,ee,ie,ae,oe,le){for(ae=2*ae+1;0<ie--;){if(pf(O,Y,q,ae,oe))if(Af(O,Y,q,le))pu(O,Y,q);else{var he=O,fe=Y,xe=q,Ne=he[fe-xe],Le=he[fe+0],Te=he[fe+xe],He=Tf[112+((Ie=3*(Le-Ne))+4>>3)],Ie=Tf[112+(Ie+3>>3)],we=He+1>>1;he[fe-2*xe]=Ts[255+he[fe-2*xe]+we],he[fe-xe]=Ts[255+Ne+Ie],he[fe+0]=Ts[255+Le-He],he[fe+xe]=Ts[255+Te-we]}Y+=ee}}function Sc(O,Y,q,ee,ie,ae){Wa(O,Y,q,1,16,ee,ie,ae)}function ll(O,Y,q,ee,ie,ae){Wa(O,Y,1,q,16,ee,ie,ae)}function K0(O,Y,q,ee,ie,ae){var oe;for(oe=3;0<oe;--oe)yr(O,Y+=4*q,q,1,16,ee,ie,ae)}function gu(O,Y,q,ee,ie,ae){var oe;for(oe=3;0<oe;--oe)yr(O,Y+=4,1,q,16,ee,ie,ae)}function J0(O,Y,q,ee,ie,ae,oe,le){Wa(O,Y,ie,1,8,ae,oe,le),Wa(q,ee,ie,1,8,ae,oe,le)}function Tc(O,Y,q,ee,ie,ae,oe,le){Wa(O,Y,1,ie,8,ae,oe,le),Wa(q,ee,1,ie,8,ae,oe,le)}function Ec(O,Y,q,ee,ie,ae,oe,le){yr(O,Y+4*ie,ie,1,8,ae,oe,le),yr(q,ee+4*ie,ie,1,8,ae,oe,le)}function vf(O,Y,q,ee,ie,ae,oe,le){yr(O,Y+4,1,ie,8,ae,oe,le),yr(q,ee+4,1,ie,8,ae,oe,le)}function vu(){this.ba=new Cs,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new mi,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Bc(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Fc(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function mf(){this.ua=0,this.Wa=new re,this.vb=new re,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new R,this.yc=new N}function Z0(){this.xb=this.a=0,this.l=new hu,this.ca=new Cs,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new j,this.Pb=0,this.wd=new j,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new mf,this.ab=0,this.gc=r(4,Fc),this.Oc=0}function mu(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new hu,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ul(O,Y,q,ee,ie,ae,oe){for(O=O==null?0:O[Y+0],Y=0;Y<oe;++Y)ie[ae+Y]=O+q[ee+Y]&255,O=ie[ae+Y]}function Nc(O,Y,q,ee,ie,ae,oe){var le;if(O==null)ul(null,null,q,ee,ie,ae,oe);else for(le=0;le<oe;++le)ie[ae+le]=O[Y+le]+q[ee+le]&255}function Ka(O,Y,q,ee,ie,ae,oe){if(O==null)ul(null,null,q,ee,ie,ae,oe);else{var le,he=O[Y+0],fe=he,xe=he;for(le=0;le<oe;++le)fe=xe+(he=O[Y+le])-fe,xe=q[ee+le]+(-256&fe?0>fe?0:255:fe)&255,fe=he,ie[ae+le]=xe}}function Lc(O,Y,q,ee){var ie=Y.width,ae=Y.o;if(e(O!=null&&Y!=null),0>q||0>=ee||q+ee>ae)return null;if(!O.Cc){if(O.ga==null){var oe;if(O.ga=new mu,(oe=O.ga==null)||(oe=Y.width*Y.o,e(O.Gb.length==0),O.Gb=w(oe),O.Uc=0,O.Gb==null?oe=0:(O.mb=O.Gb,O.nb=O.Uc,O.rc=null,oe=1),oe=!oe),!oe){oe=O.ga;var le=O.Fa,he=O.P,fe=O.qc,xe=O.mb,Ne=O.nb,Le=he+1,Te=fe-1,He=oe.l;if(e(le!=null&&xe!=null&&Y!=null),eo[0]=null,eo[1]=ul,eo[2]=Nc,eo[3]=Ka,oe.ca=xe,oe.tb=Ne,oe.c=Y.width,oe.i=Y.height,e(0<oe.c&&0<oe.i),1>=fe)Y=0;else if(oe.$a=le[he+0]>>0&3,oe.Z=le[he+0]>>2&3,oe.Lc=le[he+0]>>4&3,he=le[he+0]>>6&3,0>oe.$a||1<oe.$a||4<=oe.Z||1<oe.Lc||he)Y=0;else if(He.put=Qs,He.ac=Kt,He.bc=js,He.ma=oe,He.width=Y.width,He.height=Y.height,He.Da=Y.Da,He.v=Y.v,He.va=Y.va,He.j=Y.j,He.o=Y.o,oe.$a)e:{e(oe.$a==1),Y=li();t:for(;;){if(Y==null){Y=0;break e}if(e(oe!=null),oe.mc=Y,Y.c=oe.c,Y.i=oe.i,Y.l=oe.l,Y.l.ma=oe,Y.l.width=oe.c,Y.l.height=oe.i,Y.a=0,U(Y.m,le,Le,Te),!ns(oe.c,oe.i,1,Y,null)||(Y.ab==1&&Y.gc[0].hc==3&&vr(Y.s)?(oe.ic=1,le=Y.c*Y.i,Y.Ta=null,Y.Ua=0,Y.V=w(le),Y.Ba=0,Y.V==null?(Y.a=1,Y=0):Y=1):(oe.ic=0,Y=rl(Y,oe.c)),!Y))break t;Y=1;break e}oe.mc=null,Y=0}else Y=Te>=oe.c*oe.i;oe=!Y}if(oe)return null;O.ga.Lc!=1?O.Ga=0:ee=ae-q}e(O.ga!=null),e(q+ee<=ae);e:{if(Y=(le=O.ga).c,ae=le.l.o,le.$a==0){if(Le=O.rc,Te=O.Vc,He=O.Fa,he=O.P+1+q*Y,fe=O.mb,xe=O.nb+q*Y,e(he<=O.P+O.qc),le.Z!=0)for(e(eo[le.Z]!=null),oe=0;oe<ee;++oe)eo[le.Z](Le,Te,He,he,fe,xe,Y),Le=fe,Te=xe,xe+=Y,he+=Y;else for(oe=0;oe<ee;++oe)s(fe,xe,He,he,Y),Le=fe,Te=xe,xe+=Y,he+=Y;O.rc=Le,O.Vc=Te}else{if(e(le.mc!=null),Y=q+ee,e((oe=le.mc)!=null),e(Y<=oe.i),oe.C>=Y)Y=1;else if(le.ic||Fe(),le.ic){le=oe.V,Le=oe.Ba,Te=oe.c;var Ie=oe.i,we=(He=1,he=oe.$/Te,fe=oe.$%Te,xe=oe.m,Ne=oe.s,oe.$),be=Te*Ie,De=Te*Y,je=Ne.wc,ke=we<De?bi(Ne,fe,he):null;e(we<=be),e(Y<=Ie),e(vr(Ne));t:for(;;){for(;!xe.h&&we<De;){if(fe&je||(ke=bi(Ne,fe,he)),e(ke!=null),X(xe),256>(Ie=zi(ke.G[0],ke.H[0],xe)))le[Le+we]=Ie,++we,++fe>=Te&&(fe=0,++he<=Y&&!(he%16)&&Ke(oe,he));else{if(!(280>Ie)){He=0;break t}Ie=bs(Ie-256,xe);var nt,Je=zi(ke.G[4],ke.H[4],xe);if(X(xe),!(we>=(Je=Vs(Te,Je=bs(Je,xe)))&&be-we>=Ie)){He=0;break t}for(nt=0;nt<Ie;++nt)le[Le+we+nt]=le[Le+we+nt-Je];for(we+=Ie,fe+=Ie;fe>=Te;)fe-=Te,++he<=Y&&!(he%16)&&Ke(oe,he);we<De&&fe&je&&(ke=bi(Ne,fe,he))}e(xe.h==V(xe))}Ke(oe,he>Y?Y:he);break t}!He||xe.h&&we<be?(He=0,oe.a=xe.h?5:3):oe.$=we,Y=He}else Y=$e(oe,oe.V,oe.Ba,oe.c,oe.i,Y,ru);if(!Y){ee=0;break e}}q+ee>=ae&&(O.Cc=1),ee=1}if(!ee)return null;if(O.Cc&&((ee=O.ga)!=null&&(ee.mc=null),O.ga=null,0<O.Ga))return alert("todo:WebPDequantizeLevels"),null}return O.nb+q*ie}function K(O,Y,q,ee,ie,ae){for(;0<ie--;){var oe,le=O,he=Y+(q?1:0),fe=O,xe=Y+(q?0:3);for(oe=0;oe<ee;++oe){var Ne=fe[xe+4*oe];Ne!=255&&(Ne*=32897,le[he+4*oe+0]=le[he+4*oe+0]*Ne>>23,le[he+4*oe+1]=le[he+4*oe+1]*Ne>>23,le[he+4*oe+2]=le[he+4*oe+2]*Ne>>23)}Y+=ae}}function ne(O,Y,q,ee,ie){for(;0<ee--;){var ae;for(ae=0;ae<q;++ae){var oe=O[Y+2*ae+0],le=15&(fe=O[Y+2*ae+1]),he=4369*le,fe=(240&fe|fe>>4)*he>>16;O[Y+2*ae+0]=(240&oe|oe>>4)*he>>16&240|(15&oe|oe<<4)*he>>16>>4&15,O[Y+2*ae+1]=240&fe|le}Y+=ie}}function pe(O,Y,q,ee,ie,ae,oe,le){var he,fe,xe=255;for(fe=0;fe<ie;++fe){for(he=0;he<ee;++he){var Ne=O[Y+he];ae[oe+4*he]=Ne,xe&=Ne}Y+=q,oe+=le}return xe!=255}function me(O,Y,q,ee,ie){var ae;for(ae=0;ae<ie;++ae)q[ee+ae]=O[Y+ae]>>8}function Fe(){Ws=K,ui=ne,hi=pe,Di=me}function Ue(O,Y,q){T[O]=function(ee,ie,ae,oe,le,he,fe,xe,Ne,Le,Te,He,Ie,we,be,De,je){var ke,nt=je-1>>1,Je=le[he+0]|fe[xe+0]<<16,At=Ne[Le+0]|Te[He+0]<<16;e(ee!=null);var Ze=3*Je+At+131074>>2;for(Y(ee[ie+0],255&Ze,Ze>>16,Ie,we),ae!=null&&(Ze=3*At+Je+131074>>2,Y(ae[oe+0],255&Ze,Ze>>16,be,De)),ke=1;ke<=nt;++ke){var Yt=le[he+ke]|fe[xe+ke]<<16,$t=Ne[Le+ke]|Te[He+ke]<<16,jt=Je+Yt+At+$t+524296,Ut=jt+2*(Yt+At)>>3;Ze=Ut+Je>>1,Je=(jt=jt+2*(Je+$t)>>3)+Yt>>1,Y(ee[ie+2*ke-1],255&Ze,Ze>>16,Ie,we+(2*ke-1)*q),Y(ee[ie+2*ke-0],255&Je,Je>>16,Ie,we+(2*ke-0)*q),ae!=null&&(Ze=jt+At>>1,Je=Ut+$t>>1,Y(ae[oe+2*ke-1],255&Ze,Ze>>16,be,De+(2*ke-1)*q),Y(ae[oe+2*ke+0],255&Je,Je>>16,be,De+(2*ke+0)*q)),Je=Yt,At=$t}1&je||(Ze=3*Je+At+131074>>2,Y(ee[ie+je-1],255&Ze,Ze>>16,Ie,we+(je-1)*q),ae!=null&&(Ze=3*At+Je+131074>>2,Y(ae[oe+je-1],255&Ze,Ze>>16,be,De+(je-1)*q)))}}function ze(){Js[Ef]=MI,Js[Bf]=OC,Js[RC]=RI,Js[Ff]=kC,Js[Nf]=HC,Js[_0]=GC,Js[IC]=II,Js[em]=OC,Js[tm]=kC,Js[Lf]=HC,Js[im]=GC}function it(O){return O&-16384?0>O?0:255:O>>PI}function ht(O,Y){return it((19077*O>>8)+(26149*Y>>8)-14234)}function Et(O,Y,q){return it((19077*O>>8)-(6419*Y>>8)-(13320*q>>8)+8708)}function St(O,Y){return it((19077*O>>8)+(33050*Y>>8)-17685)}function Ht(O,Y,q,ee,ie){ee[ie+0]=ht(O,q),ee[ie+1]=Et(O,Y,q),ee[ie+2]=St(O,Y)}function Si(O,Y,q,ee,ie){ee[ie+0]=St(O,Y),ee[ie+1]=Et(O,Y,q),ee[ie+2]=ht(O,q)}function Ei(O,Y,q,ee,ie){var ae=Et(O,Y,q);Y=ae<<3&224|St(O,Y)>>3,ee[ie+0]=248&ht(O,q)|ae>>5,ee[ie+1]=Y}function Yi(O,Y,q,ee,ie){var ae=240&St(O,Y)|15;ee[ie+0]=240&ht(O,q)|Et(O,Y,q)>>4,ee[ie+1]=ae}function Mn(O,Y,q,ee,ie){ee[ie+0]=255,Ht(O,Y,q,ee,ie+1)}function ln(O,Y,q,ee,ie){Si(O,Y,q,ee,ie),ee[ie+3]=255}function xr(O,Y,q,ee,ie){Ht(O,Y,q,ee,ie),ee[ie+3]=255}function Ss(O,Y){return 0>O?0:O>Y?Y:O}function jr(O,Y,q){T[O]=function(ee,ie,ae,oe,le,he,fe,xe,Ne){for(var Le=xe+(-2&Ne)*q;xe!=Le;)Y(ee[ie+0],ae[oe+0],le[he+0],fe,xe),Y(ee[ie+1],ae[oe+0],le[he+0],fe,xe+q),ie+=2,++oe,++he,xe+=2*q;1&Ne&&Y(ee[ie+0],ae[oe+0],le[he+0],fe,xe)}}function yf(O,Y,q){return q==0?O==0?Y==0?6:5:Y==0?4:0:q}function Mc(O,Y,q,ee,ie){switch(O>>>30){case 3:ha(Y,q,ee,ie,0);break;case 2:Ui(Y,q,ee,ie);break;case 1:Xn(Y,q,ee,ie)}}function Rc(O,Y){var q,ee,ie=Y.M,ae=Y.Nb,oe=O.oc,le=O.pc+40,he=O.oc,fe=O.pc+584,xe=O.oc,Ne=O.pc+600;for(q=0;16>q;++q)oe[le+32*q-1]=129;for(q=0;8>q;++q)he[fe+32*q-1]=129,xe[Ne+32*q-1]=129;for(0<ie?oe[le-1-32]=he[fe-1-32]=xe[Ne-1-32]=129:(m(oe,le-32-1,127,21),m(he,fe-32-1,127,9),m(xe,Ne-32-1,127,9)),ee=0;ee<O.za;++ee){var Le=Y.ya[Y.aa+ee];if(0<ee){for(q=-1;16>q;++q)s(oe,le+32*q-4,oe,le+32*q+12,4);for(q=-1;8>q;++q)s(he,fe+32*q-4,he,fe+32*q+4,4),s(xe,Ne+32*q-4,xe,Ne+32*q+4,4)}var Te=O.Gd,He=O.Hd+ee,Ie=Le.ad,we=Le.Hc;if(0<ie&&(s(oe,le-32,Te[He].y,0,16),s(he,fe-32,Te[He].f,0,8),s(xe,Ne-32,Te[He].ea,0,8)),Le.Za){var be=oe,De=le-32+16;for(0<ie&&(ee>=O.za-1?m(be,De,Te[He].y[15],4):s(be,De,Te[He+1].y,0,4)),q=0;4>q;q++)be[De+128+q]=be[De+256+q]=be[De+384+q]=be[De+0+q];for(q=0;16>q;++q,we<<=2)be=oe,De=le+jC[q],wr[Le.Ob[q]](be,De),Mc(we,Ie,16*+q,be,De)}else if(be=yf(ee,ie,Le.Ob[0]),_a[be](oe,le),we!=0)for(q=0;16>q;++q,we<<=2)Mc(we,Ie,16*+q,oe,le+jC[q]);for(q=Le.Gc,be=yf(ee,ie,Le.Dd),da[be](he,fe),da[be](xe,Ne),we=Ie,be=he,De=fe,255&(Le=q>>0)&&(170&Le?Oc(we,256,be,De):Ys(we,256,be,De)),Le=xe,we=Ne,255&(q>>=8)&&(170&q?Oc(Ie,320,Le,we):Ys(Ie,320,Le,we)),ie<O.Ub-1&&(s(Te[He].y,0,oe,le+480,16),s(Te[He].f,0,he,fe+224,8),s(Te[He].ea,0,xe,Ne+224,8)),q=8*ae*O.B,Te=O.sa,He=O.ta+16*ee+16*ae*O.R,Ie=O.qa,Le=O.ra+8*ee+q,we=O.Ha,be=O.Ia+8*ee+q,q=0;16>q;++q)s(Te,He+q*O.R,oe,le+32*q,16);for(q=0;8>q;++q)s(Ie,Le+q*O.B,he,fe+32*q,8),s(we,be+q*O.B,xe,Ne+32*q,8)}}function yu(O,Y,q,ee,ie,ae,oe,le,he){var fe=[0],xe=[0],Ne=0,Le=he!=null?he.kd:0,Te=he??new Bc;if(O==null||12>q)return 7;Te.data=O,Te.w=Y,Te.ha=q,Y=[Y],q=[q],Te.gb=[Te.gb];e:{var He=Y,Ie=q,we=Te.gb;if(e(O!=null),e(Ie!=null),e(we!=null),we[0]=0,12<=Ie[0]&&!n(O,He[0],"RIFF")){if(n(O,He[0]+8,"WEBP")){we=3;break e}var be=ce(O,He[0]+4);if(12>be||4294967286<be){we=3;break e}if(Le&&be>Ie[0]-8){we=7;break e}we[0]=be,He[0]+=12,Ie[0]-=12}we=0}if(we!=0)return we;for(be=0<Te.gb[0],q=q[0];;){e:{var De=O;Ie=Y,we=q;var je=fe,ke=xe,nt=He=[0];if((Ze=Ne=[Ne])[0]=0,8>we[0])we=7;else{if(!n(De,Ie[0],"VP8X")){if(ce(De,Ie[0]+4)!=10){we=3;break e}if(18>we[0]){we=7;break e}var Je=ce(De,Ie[0]+8),At=1+se(De,Ie[0]+12);if(2147483648<=At*(De=1+se(De,Ie[0]+15))){we=3;break e}nt!=null&&(nt[0]=Je),je!=null&&(je[0]=At),ke!=null&&(ke[0]=De),Ie[0]+=18,we[0]-=18,Ze[0]=1}we=0}}if(Ne=Ne[0],He=He[0],we!=0)return we;if(Ie=!!(2&He),!be&&Ne)return 3;if(ae!=null&&(ae[0]=!!(16&He)),oe!=null&&(oe[0]=Ie),le!=null&&(le[0]=0),oe=fe[0],He=xe[0],Ne&&Ie&&he==null){we=0;break}if(4>q){we=7;break}if(be&&Ne||!be&&!Ne&&!n(O,Y[0],"ALPH")){q=[q],Te.na=[Te.na],Te.P=[Te.P],Te.Sa=[Te.Sa];e:{Je=O,we=Y,be=q;var Ze=Te.gb;je=Te.na,ke=Te.P,nt=Te.Sa,At=22,e(Je!=null),e(be!=null),De=we[0];var Yt=be[0];for(e(je!=null),e(nt!=null),je[0]=null,ke[0]=null,nt[0]=0;;){if(we[0]=De,be[0]=Yt,8>Yt){we=7;break e}var $t=ce(Je,De+4);if(4294967286<$t){we=3;break e}var jt=8+$t+1&-2;if(At+=jt,0<Ze&&At>Ze){we=3;break e}if(!n(Je,De,"VP8 ")||!n(Je,De,"VP8L")){we=0;break e}if(Yt[0]<jt){we=7;break e}n(Je,De,"ALPH")||(je[0]=Je,ke[0]=De+8,nt[0]=$t),De+=jt,Yt-=jt}}if(q=q[0],Te.na=Te.na[0],Te.P=Te.P[0],Te.Sa=Te.Sa[0],we!=0)break}q=[q],Te.Ja=[Te.Ja],Te.xa=[Te.xa];e:if(Ze=O,we=Y,be=q,je=Te.gb[0],ke=Te.Ja,nt=Te.xa,Je=we[0],De=!n(Ze,Je,"VP8 "),At=!n(Ze,Je,"VP8L"),e(Ze!=null),e(be!=null),e(ke!=null),e(nt!=null),8>be[0])we=7;else{if(De||At){if(Ze=ce(Ze,Je+4),12<=je&&Ze>je-12){we=3;break e}if(Le&&Ze>be[0]-8){we=7;break e}ke[0]=Ze,we[0]+=8,be[0]-=8,nt[0]=At}else nt[0]=5<=be[0]&&Ze[Je+0]==47&&!(Ze[Je+4]>>5),ke[0]=be[0];we=0}if(q=q[0],Te.Ja=Te.Ja[0],Te.xa=Te.xa[0],Y=Y[0],we!=0)break;if(4294967286<Te.Ja)return 3;if(le==null||Ie||(le[0]=Te.xa?2:1),oe=[oe],He=[He],Te.xa){if(5>q){we=7;break}le=oe,Le=He,Ie=ae,O==null||5>q?O=0:5<=q&&O[Y+0]==47&&!(O[Y+4]>>5)?(be=[0],Ze=[0],je=[0],U(ke=new j,O,Y,q),dt(ke,be,Ze,je)?(le!=null&&(le[0]=be[0]),Le!=null&&(Le[0]=Ze[0]),Ie!=null&&(Ie[0]=je[0]),O=1):O=0):O=0}else{if(10>q){we=7;break}le=He,O==null||10>q||!nf(O,Y+3,q-3)?O=0:(Le=O[Y+0]|O[Y+1]<<8|O[Y+2]<<16,Ie=16383&(O[Y+7]<<8|O[Y+6]),O=16383&(O[Y+9]<<8|O[Y+8]),1&Le||3<(Le>>1&7)||!(Le>>4&1)||Le>>5>=Te.Ja||!Ie||!O?O=0:(oe&&(oe[0]=Ie),le&&(le[0]=O),O=1))}if(!O||(oe=oe[0],He=He[0],Ne&&(fe[0]!=oe||xe[0]!=He)))return 3;he!=null&&(he[0]=Te,he.offset=Y-he.w,e(4294967286>Y-he.w),e(he.offset==he.ha-q));break}return we==0||we==7&&Ne&&he==null?(ae!=null&&(ae[0]|=Te.na!=null&&0<Te.na.length),ee!=null&&(ee[0]=oe),ie!=null&&(ie[0]=He),0):we}function Ic(O,Y,q){var ee=Y.width,ie=Y.height,ae=0,oe=0,le=ee,he=ie;if(Y.Da=O!=null&&0<O.Da,Y.Da&&(le=O.cd,he=O.bd,ae=O.v,oe=O.j,11>q||(ae&=-2,oe&=-2),0>ae||0>oe||0>=le||0>=he||ae+le>ee||oe+he>ie))return 0;if(Y.v=ae,Y.j=oe,Y.va=ae+le,Y.o=oe+he,Y.U=le,Y.T=he,Y.da=O!=null&&0<O.da,Y.da){if(!Ce(le,he,q=[O.ib],ae=[O.hb]))return 0;Y.ib=q[0],Y.hb=ae[0]}return Y.ob=O!=null&&O.ob,Y.Kb=O==null||!O.Sd,Y.da&&(Y.ob=Y.ib<3*ee/4&&Y.hb<3*ie/4,Y.Kb=0),1}function Pc(O){if(O==null)return 2;if(11>O.S){var Y=O.f.RGBA;Y.fb+=(O.height-1)*Y.A,Y.A=-Y.A}else Y=O.f.kb,O=O.height,Y.O+=(O-1)*Y.fa,Y.fa=-Y.fa,Y.N+=(O-1>>1)*Y.Ab,Y.Ab=-Y.Ab,Y.W+=(O-1>>1)*Y.Db,Y.Db=-Y.Db,Y.F!=null&&(Y.J+=(O-1)*Y.lb,Y.lb=-Y.lb);return 0}function xu(O,Y,q,ee){if(ee==null||0>=O||0>=Y)return 2;if(q!=null){if(q.Da){var ie=q.cd,ae=q.bd,oe=-2&q.v,le=-2&q.j;if(0>oe||0>le||0>=ie||0>=ae||oe+ie>O||le+ae>Y)return 2;O=ie,Y=ae}if(q.da){if(!Ce(O,Y,ie=[q.ib],ae=[q.hb]))return 2;O=ie[0],Y=ae[0]}}ee.width=O,ee.height=Y;e:{var he=ee.width,fe=ee.height;if(O=ee.S,0>=he||0>=fe||!(O>=Ef&&13>O))O=2;else{if(0>=ee.Rd&&ee.sd==null){oe=ae=ie=Y=0;var xe=(le=he*VC[O])*fe;if(11>O||(ae=(fe+1)/2*(Y=(he+1)/2),O==12&&(oe=(ie=he)*fe)),(fe=w(xe+2*ae+oe))==null){O=1;break e}ee.sd=fe,11>O?((he=ee.f.RGBA).eb=fe,he.fb=0,he.A=le,he.size=xe):((he=ee.f.kb).y=fe,he.O=0,he.fa=le,he.Fd=xe,he.f=fe,he.N=0+xe,he.Ab=Y,he.Cd=ae,he.ea=fe,he.W=0+xe+ae,he.Db=Y,he.Ed=ae,O==12&&(he.F=fe,he.J=0+xe+2*ae),he.Tc=oe,he.lb=ie)}if(Y=1,ie=ee.S,ae=ee.width,oe=ee.height,ie>=Ef&&13>ie)if(11>ie)O=ee.f.RGBA,Y&=(le=Math.abs(O.A))*(oe-1)+ae<=O.size,Y&=le>=ae*VC[ie],Y&=O.eb!=null;else{O=ee.f.kb,le=(ae+1)/2,xe=(oe+1)/2,he=Math.abs(O.fa),fe=Math.abs(O.Ab);var Ne=Math.abs(O.Db),Le=Math.abs(O.lb),Te=Le*(oe-1)+ae;Y&=he*(oe-1)+ae<=O.Fd,Y&=fe*(xe-1)+le<=O.Cd,Y=(Y&=Ne*(xe-1)+le<=O.Ed)&he>=ae&fe>=le&Ne>=le,Y&=O.y!=null,Y&=O.f!=null,Y&=O.ea!=null,ie==12&&(Y&=Le>=ae,Y&=Te<=O.Tc,Y&=O.F!=null)}else Y=0;O=Y?0:2}}return O!=0||q!=null&&q.fd&&(O=Pc(ee)),O}var mn=64,wu=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Cu=24,bu=32,Uc=8,rs=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Me("Predictor0","PredictorAdd0"),T.Predictor0=function(){return 4278190080},T.Predictor1=function(O){return O},T.Predictor2=function(O,Y,q){return Y[q+0]},T.Predictor3=function(O,Y,q){return Y[q+1]},T.Predictor4=function(O,Y,q){return Y[q-1]},T.Predictor5=function(O,Y,q){return ve(ve(O,Y[q+1]),Y[q+0])},T.Predictor6=function(O,Y,q){return ve(O,Y[q-1])},T.Predictor7=function(O,Y,q){return ve(O,Y[q+0])},T.Predictor8=function(O,Y,q){return ve(Y[q-1],Y[q+0])},T.Predictor9=function(O,Y,q){return ve(Y[q+0],Y[q+1])},T.Predictor10=function(O,Y,q){return ve(ve(O,Y[q-1]),ve(Y[q+0],Y[q+1]))},T.Predictor11=function(O,Y,q){var ee=Y[q+0];return 0>=Ge(ee>>24&255,O>>24&255,(Y=Y[q-1])>>24&255)+Ge(ee>>16&255,O>>16&255,Y>>16&255)+Ge(ee>>8&255,O>>8&255,Y>>8&255)+Ge(255&ee,255&O,255&Y)?ee:O},T.Predictor12=function(O,Y,q){var ee=Y[q+0];return(Re((O>>24&255)+(ee>>24&255)-((Y=Y[q-1])>>24&255))<<24|Re((O>>16&255)+(ee>>16&255)-(Y>>16&255))<<16|Re((O>>8&255)+(ee>>8&255)-(Y>>8&255))<<8|Re((255&O)+(255&ee)-(255&Y)))>>>0},T.Predictor13=function(O,Y,q){var ee=Y[q-1];return(Pe((O=ve(O,Y[q+0]))>>24&255,ee>>24&255)<<24|Pe(O>>16&255,ee>>16&255)<<16|Pe(O>>8&255,ee>>8&255)<<8|Pe(O>>0&255,ee>>0&255))>>>0};var $0=T.PredictorAdd0;T.PredictorAdd1=We,Me("Predictor2","PredictorAdd2"),Me("Predictor3","PredictorAdd3"),Me("Predictor4","PredictorAdd4"),Me("Predictor5","PredictorAdd5"),Me("Predictor6","PredictorAdd6"),Me("Predictor7","PredictorAdd7"),Me("Predictor8","PredictorAdd8"),Me("Predictor9","PredictorAdd9"),Me("Predictor10","PredictorAdd10"),Me("Predictor11","PredictorAdd11"),Me("Predictor12","PredictorAdd12"),Me("Predictor13","PredictorAdd13");var Dc=T.PredictorAdd2;tt("ColorIndexInverseTransform","MapARGB","32b",function(O){return O>>8&255},function(O){return O}),tt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(O){return O},function(O){return O>>8&255});var xf,zs=T.ColorIndexInverseTransform,Su=T.MapARGB,wf=T.VP8LColorIndexInverseTransformAlpha,Cf=T.MapAlpha,Ja=T.VP8LPredictorsAdd=[];Ja.length=16,(T.VP8LPredictors=[]).length=16,(T.VP8LPredictorsAdd_C=[]).length=16,(T.VP8LPredictors_C=[]).length=16;var hl,as,Yn,Za,la,ua,Tu,ha,Ui,Oc,Xn,Ys,Eu,bf,kc,cl,dl,$a,Al,Bu,fl,qa,Hc,Xs,Ws,ui,hi,Di,en=w(511),ca=w(2041),Gc=w(225),Fu=w(767),Sf=0,q0=ca,Tf=Gc,Ts=Fu,Ks=en,Ef=0,Bf=1,RC=2,Ff=3,Nf=4,_0=5,IC=6,em=7,tm=8,Lf=9,im=10,vI=[2,3,7],mI=[3,3,11],PC=[280,256,256,256,40],yI=[0,1,1,1,0],xI=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],wI=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],CI=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],bI=8,nm=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],sm=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Qc=null,SI=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],TI=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],UC=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],EI=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],BI=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],FI=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],NI=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],_a=[],wr=[],da=[],LI=1,DC=2,eo=[],Js=[];Ue("UpsampleRgbLinePair",Ht,3),Ue("UpsampleBgrLinePair",Si,3),Ue("UpsampleRgbaLinePair",xr,4),Ue("UpsampleBgraLinePair",ln,4),Ue("UpsampleArgbLinePair",Mn,4),Ue("UpsampleRgba4444LinePair",Yi,2),Ue("UpsampleRgb565LinePair",Ei,2);var MI=T.UpsampleRgbLinePair,RI=T.UpsampleBgrLinePair,OC=T.UpsampleRgbaLinePair,kC=T.UpsampleBgraLinePair,HC=T.UpsampleArgbLinePair,GC=T.UpsampleRgba4444LinePair,II=T.UpsampleRgb565LinePair,Mf=16,Rf=1<<Mf-1,jc=-227,rm=482,PI=6,QC=0,UI=w(256),DI=w(256),OI=w(256),kI=w(256),HI=w(rm-jc),GI=w(rm-jc);jr("YuvToRgbRow",Ht,3),jr("YuvToBgrRow",Si,3),jr("YuvToRgbaRow",xr,4),jr("YuvToBgraRow",ln,4),jr("YuvToArgbRow",Mn,4),jr("YuvToRgba4444Row",Yi,2),jr("YuvToRgb565Row",Ei,2);var jC=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],If=[0,2,8],QI=[8,7,6,4,4,2,2,2,1,1,1,1],jI=1;this.WebPDecodeRGBA=function(O,Y,q,ee,ie){var ae=Bf,oe=new vu,le=new Cs;oe.ba=le,le.S=ae,le.width=[le.width],le.height=[le.height];var he=le.width,fe=le.height,xe=new Gs;if(xe==null||O==null)var Ne=2;else e(xe!=null),Ne=yu(O,Y,q,xe.width,xe.height,xe.Pd,xe.Qd,xe.format,null);if(Ne!=0?he=0:(he!=null&&(he[0]=xe.width[0]),fe!=null&&(fe[0]=xe.height[0]),he=1),he){le.width=le.width[0],le.height=le.height[0],ee!=null&&(ee[0]=le.width),ie!=null&&(ie[0]=le.height);e:{if(ee=new hu,(ie=new Bc).data=O,ie.w=Y,ie.ha=q,ie.kd=1,Y=[0],e(ie!=null),((O=yu(ie.data,ie.w,ie.ha,null,null,null,Y,null,ie))==0||O==7)&&Y[0]&&(O=4),(Y=O)==0){if(e(oe!=null),ee.data=ie.data,ee.w=ie.w+ie.offset,ee.ha=ie.ha-ie.offset,ee.put=Qs,ee.ac=Kt,ee.bc=js,ee.ma=oe,ie.xa){if((O=li())==null){oe=1;break e}if(function(Le,Te){var He=[0],Ie=[0],we=[0];t:for(;;){if(Le==null)return 0;if(Te==null)return Le.a=2,0;if(Le.l=Te,Le.a=0,U(Le.m,Te.data,Te.w,Te.ha),!dt(Le.m,He,Ie,we)){Le.a=3;break t}if(Le.xb=DC,Te.width=He[0],Te.height=Ie[0],!ns(He[0],Ie[0],1,Le,null))break t;return 1}return e(Le.a!=0),0}(O,ee)){if(ee=(Y=xu(ee.width,ee.height,oe.Oa,oe.ba))==0){t:{ee=O;i:for(;;){if(ee==null){ee=0;break t}if(e(ee.s.yc!=null),e(ee.s.Ya!=null),e(0<ee.s.Wb),e((q=ee.l)!=null),e((ie=q.ma)!=null),ee.xb!=0){if(ee.ca=ie.ba,ee.tb=ie.tb,e(ee.ca!=null),!Ic(ie.Oa,q,Ff)){ee.a=2;break i}if(!rl(ee,q.width)||q.da)break i;if((q.da||ft(ee.ca.S))&&Fe(),11>ee.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),ee.ca.f.kb.F!=null&&Fe()),ee.Pb&&0<ee.s.ua&&ee.s.vb.X==null&&!ge(ee.s.vb,ee.s.Wa.Xa)){ee.a=1;break i}ee.xb=0}if(!$e(ee,ee.V,ee.Ba,ee.c,ee.i,q.o,Ya))break i;ie.Dc=ee.Ma,ee=1;break t}e(ee.a!=0),ee=0}ee=!ee}ee&&(Y=O.a)}else Y=O.a}else{if((O=new R0)==null){oe=1;break e}if(O.Fa=ie.na,O.P=ie.P,O.qc=ie.Sa,sf(O,ee)){if((Y=xu(ee.width,ee.height,oe.Oa,oe.ba))==0){if(O.Aa=0,q=oe.Oa,e((ie=O)!=null),q!=null){if(0<(he=0>(he=q.Md)?0:100<he?255:255*he/100)){for(fe=xe=0;4>fe;++fe)12>(Ne=ie.pb[fe]).lc&&(Ne.ia=he*QI[0>Ne.lc?0:Ne.lc]>>3),xe|=Ne.ia;xe&&(alert("todo:VP8InitRandom"),ie.ia=1)}ie.Ga=q.Id,100<ie.Ga?ie.Ga=100:0>ie.Ga&&(ie.Ga=0)}I0(O,ee)||(Y=O.a)}}else Y=O.a}Y==0&&oe.Oa!=null&&oe.Oa.fd&&(Y=Pc(oe.ba))}oe=Y}ae=oe!=0?null:11>ae?le.f.RGBA.eb:le.f.kb.y}else ae=null;return ae};var VC=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function a(T,S){for(var F="",B=0;B<4;B++)F+=String.fromCharCode(T[S++]);return F}function p(T,S){return(T[S+0]<<0|T[S+1]<<8|T[S+2]<<16)>>>0}function c(T,S){return(T[S+0]<<0|T[S+1]<<8|T[S+2]<<16|T[S+3]<<24)>>>0}new i;var o=[0],u=[0],l=[],d=new i,f=t,h=function(T,S){var F={},B=0,N=!1,L=0,R=0;if(F.frames=[],!function(H,V,k,X){for(var Q=0;Q<X;Q++)if(H[V+Q]!=k.charCodeAt(Q))return!0;return!1}(T,S,"RIFF",4)){var I,M;for(c(T,S+=4),S+=8;S<T.length;){var P=a(T,S),U=c(T,S+=4);S+=4;var z=U+(1&U);switch(P){case"VP8 ":case"VP8L":F.frames[B]===void 0&&(F.frames[B]={}),(j=F.frames[B]).src_off=N?R:S-8,j.src_size=L+U+8,B++,N&&(N=!1,L=0,R=0);break;case"VP8X":(j=F.header={}).feature_flags=T[S];var W=S+4;j.canvas_width=1+p(T,W),W+=3,j.canvas_height=1+p(T,W),W+=3;break;case"ALPH":N=!0,L=z+8,R=S-8;break;case"ANIM":(j=F.header).bgcolor=c(T,S),W=S+4,j.loop_count=(I=T)[(M=W)+0]<<0|I[M+1]<<8,W+=2;break;case"ANMF":var Z,j;(j=F.frames[B]={}).offset_x=2*p(T,S),S+=3,j.offset_y=2*p(T,S),S+=3,j.width=1+p(T,S),S+=3,j.height=1+p(T,S),S+=3,j.duration=p(T,S),S+=3,Z=T[S++],j.dispose=1&Z,j.blend=Z>>1&1}P!="ANMF"&&(S+=z)}return F}}(f,0);h.response=f,h.rgbaoutput=!0,h.dataurl=!1;var A=h.header?h.header:null,g=h.frames?h.frames:null;if(A){A.loop_counter=A.loop_count,o=[A.canvas_height],u=[A.canvas_width];for(var v=0;v<g.length&&g[v].blend!=0;v++);}var y=g[0],C=d.WebPDecodeRGBA(f,y.src_off,y.src_size,u,o);y.rgba=C,y.imgwidth=u[0],y.imgheight=o[0];for(var b=0;b<u[0]*o[0]*4;b++)l[b]=C[b];return this.width=u,this.height=o,this.data=l,this}(function(t){var e=function(){return typeof g2=="function"},n=function(o,u,l,d){var f=4,h=r;switch(d){case t.image_compression.FAST:f=1,h=w;break;case t.image_compression.MEDIUM:f=6,h=x;break;case t.image_compression.SLOW:f=9,h=i}o=s(o,u,l,h);var A=g2(o,{level:f});return t.__addimage__.arrayBufferToBinaryString(A)},s=function(o,u,l,d){for(var f,h,A,g=o.length/u,v=new Uint8Array(o.length+g),y=p(),C=0;C<g;C+=1){if(A=C*u,f=o.subarray(A,A+u),d)v.set(d(f,l,h),A+C);else{for(var b,T=y.length,S=[];b<T;b+=1)S[b]=y[b](f,l,h);var F=c(S.concat());v.set(S[F],A+C)}h=f}return v},m=function(o){var u=Array.apply([],o);return u.unshift(0),u},w=function(o,u){var l,d=[],f=o.length;d[0]=1;for(var h=0;h<f;h+=1)l=o[h-u]||0,d[h+1]=o[h]-l+256&255;return d},r=function(o,u,l){var d,f=[],h=o.length;f[0]=2;for(var A=0;A<h;A+=1)d=l&&l[A]||0,f[A+1]=o[A]-d+256&255;return f},x=function(o,u,l){var d,f,h=[],A=o.length;h[0]=3;for(var g=0;g<A;g+=1)d=o[g-u]||0,f=l&&l[g]||0,h[g+1]=o[g]+256-(d+f>>>1)&255;return h},i=function(o,u,l){var d,f,h,A,g=[],v=o.length;g[0]=4;for(var y=0;y<v;y+=1)d=o[y-u]||0,f=l&&l[y]||0,h=l&&l[y-u]||0,A=a(d,f,h),g[y+1]=o[y]-A+256&255;return g},a=function(o,u,l){if(o===u&&u===l)return o;var d=Math.abs(u-l),f=Math.abs(o-l),h=Math.abs(o+u-l-l);return d<=f&&d<=h?o:f<=h?u:l},p=function(){return[m,w,r,x,i]},c=function(o){var u=o.map(function(l){return l.reduce(function(d,f){return d+Math.abs(f)},0)});return u.indexOf(Math.min.apply(null,u))};t.processPNG=function(o,u,l,d){var f,h,A,g,v,y,C,b,T,S,F,B,N,L,R,I=this.decode.FLATE_DECODE,M="";if(this.__addimage__.isArrayBuffer(o)&&(o=new Uint8Array(o)),this.__addimage__.isArrayBufferView(o)){if(o=(A=new Dte(o)).imgData,h=A.bits,f=A.colorSpace,v=A.colors,[4,6].indexOf(A.colorType)!==-1){if(A.bits===8){T=(b=A.pixelBitlength==32?new Uint32Array(A.decodePixels().buffer):A.pixelBitlength==16?new Uint16Array(A.decodePixels().buffer):new Uint8Array(A.decodePixels().buffer)).length,F=new Uint8Array(T*A.colors),S=new Uint8Array(T);var P,U=A.pixelBitlength-A.bits;for(L=0,R=0;L<T;L++){for(N=b[L],P=0;P<U;)F[R++]=N>>>P&255,P+=A.bits;S[L]=N>>>P&255}}if(A.bits===16){T=(b=new Uint32Array(A.decodePixels().buffer)).length,F=new Uint8Array(T*(32/A.pixelBitlength)*A.colors),S=new Uint8Array(T*(32/A.pixelBitlength)),B=A.colors>1,L=0,R=0;for(var z=0;L<T;)N=b[L++],F[R++]=N>>>0&255,B&&(F[R++]=N>>>16&255,N=b[L++],F[R++]=N>>>0&255),S[z++]=N>>>16&255;h=8}d!==t.image_compression.NONE&&e()?(o=n(F,A.width*A.colors,A.colors,d),C=n(S,A.width,1,d)):(o=F,C=S,I=void 0)}if(A.colorType===3&&(f=this.color_spaces.INDEXED,y=A.palette,A.transparency.indexed)){var W=A.transparency.indexed,Z=0;for(L=0,T=W.length;L<T;++L)Z+=W[L];if((Z/=255)===T-1&&W.indexOf(0)!==-1)g=[W.indexOf(0)];else if(Z!==T){for(b=A.decodePixels(),S=new Uint8Array(b.length),L=0,T=b.length;L<T;L++)S[L]=W[b[L]];C=n(S,A.width,1)}}var j=function(H){var V;switch(H){case t.image_compression.FAST:V=11;break;case t.image_compression.MEDIUM:V=13;break;case t.image_compression.SLOW:V=14;break;default:V=12}return V}(d);return I===this.decode.FLATE_DECODE&&(M="/Predictor "+j+" "),M+="/Colors "+v+" /BitsPerComponent "+h+" /Columns "+A.width,(this.__addimage__.isArrayBuffer(o)||this.__addimage__.isArrayBufferView(o))&&(o=this.__addimage__.arrayBufferToBinaryString(o)),(C&&this.__addimage__.isArrayBuffer(C)||this.__addimage__.isArrayBufferView(C))&&(C=this.__addimage__.arrayBufferToBinaryString(C)),{alias:l,data:o,index:u,filter:I,decodeParameters:M,transparency:g,palette:y,sMask:C,predictor:j,width:A.width,height:A.height,bitsPerComponent:h,colorSpace:f}}}})(pt.API),function(t){t.processGIF89A=function(e,n,s,m){var w=new Ote(e),r=w.width,x=w.height,i=[];w.decodeAndBlitFrameRGBA(0,i);var a={data:i,width:r,height:x},p=new $y(100).encode(a,100);return t.processJPEG.call(this,p,n,s,m)},t.processGIF87A=t.processGIF89A}(pt.API),Br.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),m=this.datav.getUint8(this.pos++,!0),w=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:m,green:s,blue:n,quad:w}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Br.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){ai.log("bit decode error:"+n)}},Br.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var s=this.bottom_up?t:this.height-1-t,m=0;m<e;m++)for(var w=this.datav.getUint8(this.pos++,!0),r=s*this.width*4+8*m*4,x=0;x<8&&8*m+x<this.width;x++){var i=this.palette[w>>7-x&1];this.data[r+4*x]=i.blue,this.data[r+4*x+1]=i.green,this.data[r+4*x+2]=i.red,this.data[r+4*x+3]=255}n!==0&&(this.pos+=4-n)}},Br.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,m=0;m<t;m++){var w=this.datav.getUint8(this.pos++,!0),r=s*this.width*4+2*m*4,x=w>>4,i=15&w,a=this.palette[x];if(this.data[r]=a.blue,this.data[r+1]=a.green,this.data[r+2]=a.red,this.data[r+3]=255,2*m+1>=this.width)break;a=this.palette[i],this.data[r+4]=a.blue,this.data[r+4+1]=a.green,this.data[r+4+2]=a.red,this.data[r+4+3]=255}e!==0&&(this.pos+=4-e)}},Br.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,s=0;s<this.width;s++){var m=this.datav.getUint8(this.pos++,!0),w=n*this.width*4+4*s;if(m<this.palette.length){var r=this.palette[m];this.data[w]=r.red,this.data[w+1]=r.green,this.data[w+2]=r.blue,this.data[w+3]=255}else this.data[w]=255,this.data[w+1]=255,this.data[w+2]=255,this.data[w+3]=255}t!==0&&(this.pos+=4-t)}},Br.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,m=0;m<this.width;m++){var w=this.datav.getUint16(this.pos,!0);this.pos+=2;var r=(w&e)/e*255|0,x=(w>>5&e)/e*255|0,i=(w>>10&e)/e*255|0,a=w>>15?255:0,p=s*this.width*4+4*m;this.data[p]=i,this.data[p+1]=x,this.data[p+2]=r,this.data[p+3]=a}this.pos+=t}},Br.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),s=this.height-1;s>=0;s--){for(var m=this.bottom_up?s:this.height-1-s,w=0;w<this.width;w++){var r=this.datav.getUint16(this.pos,!0);this.pos+=2;var x=(r&e)/e*255|0,i=(r>>5&n)/n*255|0,a=(r>>11)/e*255|0,p=m*this.width*4+4*w;this.data[p]=a,this.data[p+1]=i,this.data[p+2]=x,this.data[p+3]=255}this.pos+=t}},Br.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),m=this.datav.getUint8(this.pos++,!0),w=this.datav.getUint8(this.pos++,!0),r=e*this.width*4+4*n;this.data[r]=w,this.data[r+1]=m,this.data[r+2]=s,this.data[r+3]=255}this.pos+=this.width%4}},Br.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),m=this.datav.getUint8(this.pos++,!0),w=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),x=e*this.width*4+4*n;this.data[x]=w,this.data[x+1]=m,this.data[x+2]=s,this.data[x+3]=r}},Br.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,s,m){var w=new Br(e,!1),r=w.width,x=w.height,i={data:w.getData(),width:r,height:x},a=new $y(100).encode(i,100);return t.processJPEG.call(this,a,n,s,m)}}(pt.API),lB.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,s,m){var w=new lB(e),r=w.width,x=w.height,i={data:w.getData(),width:r,height:x},a=new $y(100).encode(i,100);return t.processJPEG.call(this,a,n,s,m)}}(pt.API),pt.API.processRGBA=function(t,e,n){for(var s=t.data,m=s.length,w=new Uint8Array(m/4*3),r=new Uint8Array(m/4),x=0,i=0,a=0;a<m;a+=4){var p=s[a],c=s[a+1],o=s[a+2],u=s[a+3];w[x++]=p,w[x++]=c,w[x++]=o,r[i++]=u}var l=this.__addimage__.arrayBufferToBinaryString(w);return{alpha:this.__addimage__.arrayBufferToBinaryString(r),data:l,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},pt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ju=pt.API,zp=ju.getCharWidthsArray=function(t,e){var n,s,m=(e=e||{}).font||this.internal.getFont(),w=e.fontSize||this.internal.getFontSize(),r=e.charSpace||this.internal.getCharSpace(),x=e.widths?e.widths:m.metadata.Unicode.widths,i=x.fof?x.fof:1,a=e.kerning?e.kerning:m.metadata.Unicode.kerning,p=a.fof?a.fof:1,c=e.doKerning!==!1,o=0,u=t.length,l=0,d=x[0]||i,f=[];for(n=0;n<u;n++)s=t.charCodeAt(n),typeof m.metadata.widthOfString=="function"?f.push((m.metadata.widthOfGlyph(m.metadata.characterToGlyph(s))+r*(1e3/w)||0)/1e3):(o=c&&Vt(a[s])==="object"&&!isNaN(parseInt(a[s][l],10))?a[s][l]/p:0,f.push((x[s]||d)/i+o)),l=s;return f},sB=ju.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),s=e.font||this.internal.getFont(),m=e.charSpace||this.internal.getCharSpace();return ju.processArabic&&(t=ju.processArabic(t)),typeof s.metadata.widthOfString=="function"?s.metadata.widthOfString(t,n,m)/n:zp.apply(this,arguments).reduce(function(w,r){return w+r},0)},rB=function(t,e,n,s){for(var m=[],w=0,r=t.length,x=0;w!==r&&x+e[w]<n;)x+=e[w],w++;m.push(t.slice(0,w));var i=w;for(x=0;w!==r;)x+e[w]>s&&(m.push(t.slice(i,w)),x=0,i=w),x+=e[w],w++;return i!==w&&m.push(t.slice(i,w)),m},aB=function(t,e,n){n||(n={});var s,m,w,r,x,i,a,p=[],c=[p],o=n.textIndent||0,u=0,l=0,d=t.split(" "),f=zp.apply(this,[" ",n])[0];if(i=n.lineIndent===-1?d[0].length+2:n.lineIndent||0){var h=Array(i).join(" "),A=[];d.map(function(v){(v=v.split(/\s*\n/)).length>1?A=A.concat(v.map(function(y,C){return(C&&y.length?`
`:"")+y})):A.push(v[0])}),d=A,i=sB.apply(this,[h,n])}for(w=0,r=d.length;w<r;w++){var g=0;if(s=d[w],i&&s[0]==`
`&&(s=s.substr(1),g=1),o+u+(l=(m=zp.apply(this,[s,n])).reduce(function(v,y){return v+y},0))>e||g){if(l>e){for(x=rB.apply(this,[s,m,e-(o+u),e]),p.push(x.shift()),p=[x.pop()];x.length;)c.push([x.shift()]);l=m.slice(s.length-(p[0]?p[0].length:0)).reduce(function(v,y){return v+y},0)}else p=[s];c.push(p),o=l+i,u=f}else p.push(s),o+=u+l,u=f}return a=i?function(v,y){return(y?h:"")+v.join(" ")}:function(v){return v.join(" ")},c.map(a)},ju.splitTextToSize=function(t,e,n){var s,m=(n=n||{}).fontSize||this.internal.getFontSize(),w=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var c=this.internal.getFont(p.fontName,p.fontStyle);return c.metadata.Unicode?{widths:c.metadata.Unicode.widths||{0:1},kerning:c.metadata.Unicode.kerning||{}}:{font:c.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);s=Array.isArray(t)?t:String(t).split(/\r?\n/);var r=1*this.internal.scaleFactor*e/m;w.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/m:0,w.lineIndent=n.lineIndent;var x,i,a=[];for(x=0,i=s.length;x<i;x++)a=a.concat(aB.apply(this,[s[x],r,w]));return a},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},s={},m=0;m<e.length;m++)n[e[m]]="0123456789abcdef"[m],s["0123456789abcdef"[m]]=e[m];var w=function(c){return"0x"+parseInt(c,10).toString(16)},r=t.__fontmetrics__.compress=function(c){var o,u,l,d,f=["{"];for(var h in c){if(o=c[h],isNaN(parseInt(h,10))?u="'"+h+"'":(h=parseInt(h,10),u=(u=w(h).slice(2)).slice(0,-1)+s[u.slice(-1)]),typeof o=="number")o<0?(l=w(o).slice(3),d="-"):(l=w(o).slice(2),d=""),l=d+l.slice(0,-1)+s[l.slice(-1)];else{if(Vt(o)!=="object")throw new Error("Don't know what to do with value type "+Vt(o)+".");l=r(o)}f.push(u+l)}return f.push("}"),f.join("")},x=t.__fontmetrics__.uncompress=function(c){if(typeof c!="string")throw new Error("Invalid argument passed to uncompress.");for(var o,u,l,d,f={},h=1,A=f,g=[],v="",y="",C=c.length-1,b=1;b<C;b+=1)(d=c[b])=="'"?o?(l=o.join(""),o=void 0):o=[]:o?o.push(d):d=="{"?(g.push([A,l]),A={},l=void 0):d=="}"?((u=g.pop())[0][u[1]]=A,l=void 0,A=u[0]):d=="-"?h=-1:l===void 0?n.hasOwnProperty(d)?(v+=n[d],l=parseInt(v,16)*h,h=1,v=""):v+=d:n.hasOwnProperty(d)?(y+=n[d],A[l]=parseInt(y,16)*h,h=1,l=void 0,y=""):y+=d;return f},i={codePages:["WinAnsiEncoding"],WinAnsiEncoding:x("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},a={Unicode:{Courier:i,"Courier-Bold":i,"Courier-BoldOblique":i,"Courier-Oblique":i,Helvetica:i,"Helvetica-Bold":i,"Helvetica-BoldOblique":i,"Helvetica-Oblique":i,"Times-Roman":i,"Times-Bold":i,"Times-BoldItalic":i,"Times-Italic":i}},p={Unicode:{"Courier-Oblique":x("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":x("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":x("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:x("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":x("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":x("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:x("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:x("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":x("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:x("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":x("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":x("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":x("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":x("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(c){var o=c.font,u=p.Unicode[o.postScriptName];u&&(o.metadata.Unicode={},o.metadata.Unicode.widths=u.widths,o.metadata.Unicode.kerning=u.kerning);var l=a.Unicode[o.postScriptName];l&&(o.metadata.Unicode.encoding=l,o.encoding=l.codePages[0])}])}(pt.API),function(t){var e=function(n){for(var s=n.length,m=new Uint8Array(s),w=0;w<s;w++)m[w]=n.charCodeAt(w);return m};t.API.events.push(["addFont",function(n){var s=void 0,m=n.font,w=n.instance;if(!m.isStandardFont){if(w===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+m.postScriptName+"').");if(typeof(s=w.existsFileInVFS(m.postScriptName)===!1?w.loadFile(m.postScriptName):w.getFileFromVFS(m.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+m.postScriptName+"').");(function(r,x){x=/^\x00\x01\x00\x00/.test(x)?e(x):e(qd(x)),r.metadata=t.API.TTFFont.open(x),r.metadata.Unicode=r.metadata.Unicode||{encoding:{},kerning:{},widths:[]},r.metadata.glyIdsUsed=[0]})(m,s)}}])}(pt),function(t){function e(){return(gt.canvg?Promise.resolve(gt.canvg):c2(()=>import("./index.es-B1Zl0DoZ.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}pt.API.addSvgAsImage=function(n,s,m,w,r,x,i,a){if(isNaN(s)||isNaN(m))throw ai.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(w)||isNaN(r))throw ai.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var p=document.createElement("canvas");p.width=w,p.height=r;var c=p.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,p.width,p.height);var o={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},u=this;return e().then(function(l){return l.fromString(c,n,o)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(l){return l.render(o)}).then(function(){u.addImage(p.toDataURL("image/jpeg",1),s,m,w,r,i,a)})}}(),pt.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var s=1;s<=this.internal.getNumberOfPages();s++)for(var m=0;m<this.internal.pages[s].length;m++)this.internal.pages[s][m]=this.internal.pages[s][m].replace(e,n);return this},pt.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var s,m,w,r={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},x=Object.keys(r),i=[],a=0,p=0,c=0;function o(l,d){var f,h=!1;for(f=0;f<l.length;f+=1)l[f]===d&&(h=!0);return h}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(r)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var u=x.length;for(c=0;c<u;c+=1)n[x[c]].value=n[x[c]].defaultValue,n[x[c]].explicitSet=!1}if(Vt(t)==="object"){for(m in t)if(w=t[m],o(x,m)&&w!==void 0){if(n[m].type==="boolean"&&typeof w=="boolean")n[m].value=w;else if(n[m].type==="name"&&o(n[m].valueSet,w))n[m].value=w;else if(n[m].type==="integer"&&Number.isInteger(w))n[m].value=w;else if(n[m].type==="array"){for(a=0;a<w.length;a+=1)if(s=!0,w[a].length===1&&typeof w[a][0]=="number")i.push(String(w[a]-1));else if(w[a].length>1){for(p=0;p<w[a].length;p+=1)typeof w[a][p]!="number"&&(s=!1);s===!0&&i.push([w[a][0]-1,w[a][1]-1].join(" "))}n[m].value="["+i.join(" ")+"]"}else n[m].value=n[m].defaultValue;n[m].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var l,d=[];for(l in n)n[l].explicitSet===!0&&(n[l].type==="name"?d.push("/"+l+" /"+n[l].value):d.push("/"+l+" "+n[l].value));d.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+d.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var s='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',m=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),w=unescape(encodeURIComponent(s)),r=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),x=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),i=unescape(encodeURIComponent("</x:xmpmeta>")),a=w.length+r.length+x.length+m.length+i.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+a+" >>"),this.internal.write("stream"),this.internal.write(m+w+r+x+i),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(s,m){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:s,namespaceuri:m||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(pt.API),function(t){var e=t.API,n=e.pdfEscape16=function(w,r){for(var x,i=r.metadata.Unicode.widths,a=["","0","00","000","0000"],p=[""],c=0,o=w.length;c<o;++c){if(x=r.metadata.characterToGlyph(w.charCodeAt(c)),r.metadata.glyIdsUsed.push(x),r.metadata.toUnicode[x]=w.charCodeAt(c),i.indexOf(x)==-1&&(i.push(x),i.push([parseInt(r.metadata.widthOfGlyph(x),10)])),x=="0")return p.join("");x=x.toString(16),p.push(a[4-x.length],x)}return p.join("")},s=function(w){var r,x,i,a,p,c,o;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,i=[],c=0,o=(x=Object.keys(w).sort(function(u,l){return u-l})).length;c<o;c++)r=x[c],i.length>=100&&(p+=`
`+i.length+` beginbfchar
`+i.join(`
`)+`
endbfchar`,i=[]),w[r]!==void 0&&w[r]!==null&&typeof w[r].toString=="function"&&(a=("0000"+w[r].toString(16)).slice(-4),r=("0000"+(+r).toString(16)).slice(-4),i.push("<"+r+"><"+a+">"));return i.length&&(p+=`
`+i.length+` beginbfchar
`+i.join(`
`)+`
endbfchar
`),p+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(w){(function(r){var x=r.font,i=r.out,a=r.newObject,p=r.putStream;if(x.metadata instanceof t.API.TTFFont&&x.encoding==="Identity-H"){for(var c=x.metadata.Unicode.widths,o=x.metadata.subset.encode(x.metadata.glyIdsUsed,1),u="",l=0;l<o.length;l++)u+=String.fromCharCode(o[l]);var d=a();p({data:u,addLength1:!0,objectId:d}),i("endobj");var f=a();p({data:s(x.metadata.toUnicode),addLength1:!0,objectId:f}),i("endobj");var h=a();i("<<"),i("/Type /FontDescriptor"),i("/FontName /"+_u(x.fontName)),i("/FontFile2 "+d+" 0 R"),i("/FontBBox "+t.API.PDFObject.convert(x.metadata.bbox)),i("/Flags "+x.metadata.flags),i("/StemV "+x.metadata.stemV),i("/ItalicAngle "+x.metadata.italicAngle),i("/Ascent "+x.metadata.ascender),i("/Descent "+x.metadata.decender),i("/CapHeight "+x.metadata.capHeight),i(">>"),i("endobj");var A=a();i("<<"),i("/Type /Font"),i("/BaseFont /"+_u(x.fontName)),i("/FontDescriptor "+h+" 0 R"),i("/W "+t.API.PDFObject.convert(c)),i("/CIDToGIDMap /Identity"),i("/DW 1000"),i("/Subtype /CIDFontType2"),i("/CIDSystemInfo"),i("<<"),i("/Supplement 0"),i("/Registry (Adobe)"),i("/Ordering ("+x.encoding+")"),i(">>"),i(">>"),i("endobj"),x.objectNumber=a(),i("<<"),i("/Type /Font"),i("/Subtype /Type0"),i("/ToUnicode "+f+" 0 R"),i("/BaseFont /"+_u(x.fontName)),i("/Encoding /"+x.encoding),i("/DescendantFonts ["+A+" 0 R]"),i(">>"),i("endobj"),x.isAlreadyPutted=!0}})(w)}]),e.events.push(["putFont",function(w){(function(r){var x=r.font,i=r.out,a=r.newObject,p=r.putStream;if(x.metadata instanceof t.API.TTFFont&&x.encoding==="WinAnsiEncoding"){for(var c=x.metadata.rawData,o="",u=0;u<c.length;u++)o+=String.fromCharCode(c[u]);var l=a();p({data:o,addLength1:!0,objectId:l}),i("endobj");var d=a();p({data:s(x.metadata.toUnicode),addLength1:!0,objectId:d}),i("endobj");var f=a();i("<<"),i("/Descent "+x.metadata.decender),i("/CapHeight "+x.metadata.capHeight),i("/StemV "+x.metadata.stemV),i("/Type /FontDescriptor"),i("/FontFile2 "+l+" 0 R"),i("/Flags 96"),i("/FontBBox "+t.API.PDFObject.convert(x.metadata.bbox)),i("/FontName /"+_u(x.fontName)),i("/ItalicAngle "+x.metadata.italicAngle),i("/Ascent "+x.metadata.ascender),i(">>"),i("endobj"),x.objectNumber=a();for(var h=0;h<x.metadata.hmtx.widths.length;h++)x.metadata.hmtx.widths[h]=parseInt(x.metadata.hmtx.widths[h]*(1e3/x.metadata.head.unitsPerEm));i("<</Subtype/TrueType/Type/Font/ToUnicode "+d+" 0 R/BaseFont/"+_u(x.fontName)+"/FontDescriptor "+f+" 0 R/Encoding/"+x.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(x.metadata.hmtx.widths)+">>"),i("endobj"),x.isAlreadyPutted=!0}})(w)}]);var m=function(w){var r,x=w.text||"",i=w.x,a=w.y,p=w.options||{},c=w.mutex||{},o=c.pdfEscape,u=c.activeFontKey,l=c.fonts,d=u,f="",h=0,A="",g=l[d].encoding;if(l[d].encoding!=="Identity-H")return{text:x,x:i,y:a,options:p,mutex:c};for(A=x,d=u,Array.isArray(x)&&(A=x[0]),h=0;h<A.length;h+=1)l[d].metadata.hasOwnProperty("cmap")&&(r=l[d].metadata.cmap.unicode.codeMap[A[h].charCodeAt(0)]),r||A[h].charCodeAt(0)<256&&l[d].metadata.hasOwnProperty("Unicode")?f+=A[h]:f+="";var v="";return parseInt(d.slice(1))<14||g==="WinAnsiEncoding"?v=o(f,d).split("").map(function(y){return y.charCodeAt(0).toString(16)}).join(""):g==="Identity-H"&&(v=n(f,l[d])),c.isHex=!0,{text:v,x:i,y:a,options:p,mutex:c}};e.events.push(["postProcessText",function(w){var r=w.text||"",x=[],i={text:r,x:w.x,y:w.y,options:w.options,mutex:w.mutex};if(Array.isArray(r)){var a=0;for(a=0;a<r.length;a+=1)Array.isArray(r[a])&&r[a].length===3?x.push([m(Object.assign({},i,{text:r[a][0]})).text,r[a][1],r[a][2]]):x.push(m(Object.assign({},i,{text:r[a]})).text);w.text=x}else w.text=m(Object.assign({},i,{text:r})).text}])}(pt),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,s){return e.call(this),this.internal.vFS[n]=s,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(pt.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(s){var m,w,r,x,i,a,p,c=e,o=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],u=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],l={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},d={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},f=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],h=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),A=!1,g=0;this.__bidiEngine__={};var v=function(B){var N=B.charCodeAt(),L=N>>8,R=d[L];return R!==void 0?c[256*R+(255&N)]:L===252||L===253?"AL":h.test(L)?"L":L===8?"R":"N"},y=function(B){for(var N,L=0;L<B.length;L++){if((N=v(B.charAt(L)))==="L")return!1;if(N==="R")return!0}return!1},C=function(B,N,L,R){var I,M,P,U,z=N[R];switch(z){case"L":case"R":A=!1;break;case"N":case"AN":break;case"EN":A&&(z="AN");break;case"AL":A=!0,z="R";break;case"WS":z="N";break;case"CS":R<1||R+1>=N.length||(I=L[R-1])!=="EN"&&I!=="AN"||(M=N[R+1])!=="EN"&&M!=="AN"?z="N":A&&(M="AN"),z=M===I?M:"N";break;case"ES":z=(I=R>0?L[R-1]:"B")==="EN"&&R+1<N.length&&N[R+1]==="EN"?"EN":"N";break;case"ET":if(R>0&&L[R-1]==="EN"){z="EN";break}if(A){z="N";break}for(P=R+1,U=N.length;P<U&&N[P]==="ET";)P++;z=P<U&&N[P]==="EN"?"EN":"N";break;case"NSM":if(r&&!x){for(U=N.length,P=R+1;P<U&&N[P]==="NSM";)P++;if(P<U){var W=B[R],Z=W>=1425&&W<=2303||W===64286;if(I=N[P],Z&&(I==="R"||I==="AL")){z="R";break}}}z=R<1||(I=N[R-1])==="B"?"N":L[R-1];break;case"B":A=!1,m=!0,z=g;break;case"S":w=!0,z="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":A=!1;break;case"BN":z="N"}return z},b=function(B,N,L){var R=B.split("");return L&&T(R,L,{hiLevel:g}),R.reverse(),N&&N.reverse(),R.join("")},T=function(B,N,L){var R,I,M,P,U,z=-1,W=B.length,Z=0,j=[],H=g?u:o,V=[];for(A=!1,m=!1,w=!1,I=0;I<W;I++)V[I]=v(B[I]);for(M=0;M<W;M++){if(U=Z,j[M]=C(B,V,j,M),R=240&(Z=H[U][l[j[M]]]),Z&=15,N[M]=P=H[Z][5],R>0)if(R===16){for(I=z;I<M;I++)N[I]=1;z=-1}else z=-1;if(H[Z][6])z===-1&&(z=M);else if(z>-1){for(I=z;I<M;I++)N[I]=P;z=-1}V[M]==="B"&&(N[M]=0),L.hiLevel|=P}w&&function(k,X,Q){for(var J=0;J<Q;J++)if(k[J]==="S"){X[J]=g;for(var $=J-1;$>=0&&k[$]==="WS";$--)X[$]=g}}(V,N,W)},S=function(B,N,L,R,I){if(!(I.hiLevel<B)){if(B===1&&g===1&&!m)return N.reverse(),void(L&&L.reverse());for(var M,P,U,z,W=N.length,Z=0;Z<W;){if(R[Z]>=B){for(U=Z+1;U<W&&R[U]>=B;)U++;for(z=Z,P=U-1;z<P;z++,P--)M=N[z],N[z]=N[P],N[P]=M,L&&(M=L[z],L[z]=L[P],L[P]=M);Z=U}Z++}}},F=function(B,N,L){var R=B.split(""),I={hiLevel:g};return L||(L=[]),T(R,L,I),function(M,P,U){if(U.hiLevel!==0&&p)for(var z,W=0;W<M.length;W++)P[W]===1&&(z=f.indexOf(M[W]))>=0&&(M[W]=f[z+1])}(R,L,I),S(2,R,N,L,I),S(1,R,N,L,I),R.join("")};return this.__bidiEngine__.doBidiReorder=function(B,N,L){if(function(I,M){if(M)for(var P=0;P<I.length;P++)M[P]=P;x===void 0&&(x=y(I)),a===void 0&&(a=y(I))}(B,N),r||!i||a)if(r&&i&&x^a)g=x?1:0,B=b(B,N,L);else if(!r&&i&&a)g=x?1:0,B=F(B,N,L),B=b(B,N);else if(!r||x||i||a){if(r&&!i&&x^a)B=b(B,N),x?(g=0,B=F(B,N,L)):(g=1,B=F(B,N,L),B=b(B,N));else if(r&&x&&!i&&a)g=1,B=F(B,N,L),B=b(B,N);else if(!r&&!i&&x^a){var R=p;x?(g=1,B=F(B,N,L),g=0,p=!1,B=F(B,N,L),p=R):(g=0,B=F(B,N,L),B=b(B,N),g=1,p=!1,B=F(B,N,L),p=R,B=b(B,N))}}else g=0,B=F(B,N,L);else g=x?1:0,B=F(B,N,L);return B},this.__bidiEngine__.setOptions=function(B){B&&(r=B.isInputVisual,i=B.isOutputVisual,x=B.isInputRtl,a=B.isOutputRtl,p=B.isSymmetricSwapping)},this.__bidiEngine__.setOptions(s),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(s){var m=s.text,w=(s.x,s.y,s.options||{}),r=(s.mutex,w.lang,[]);if(w.isInputVisual=typeof w.isInputVisual!="boolean"||w.isInputVisual,n.setOptions(w),Object.prototype.toString.call(m)==="[object Array]"){var x=0;for(r=[],x=0;x<m.length;x+=1)Object.prototype.toString.call(m[x])==="[object Array]"?r.push([n.doBidiReorder(m[x][0]),m[x][1],m[x][2]]):r.push([n.doBidiReorder(m[x])]);s.text=r}else s.text=n.doBidiReorder(m);n.setOptions({isInputVisual:!0})}])}(pt),pt.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new el(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new qte(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new kte(this.contents),this.head=new Gte(this),this.name=new Yte(this),this.cmap=new rI(this),this.toUnicode={},this.hhea=new Qte(this),this.maxp=new Xte(this),this.hmtx=new Wte(this),this.post=new Vte(this),this.os2=new jte(this),this.loca=new $te(this),this.glyf=new Kte(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,s,m,w;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var r,x,i,a;for(a=[],r=0,x=(i=this.bbox).length;r<x;r++)e=i[r],a.push(Math.round(e*this.scaleFactor));return a}).call(this),this.stemV=0,this.post.exists?(s=255&(m=this.post.italic_angle),32768&(n=m>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+s)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(w=this.familyClass)===1||w===2||w===3||w===4||w===5||w===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,s){var m,w,r,x;for(r=0,w=0,x=(e=""+e).length;0<=x?w<x:w>x;w=0<=x?++w:--w)m=e.charCodeAt(w),r+=this.widthOfGlyph(this.characterToGlyph(m))+s*(1e3/n)||0;return r*(n/1e3)},t.prototype.lineHeight=function(e,n){var s;return n==null&&(n=!1),s=n?this.lineGap:0,(this.ascender+s-this.decender)/1e3*e},t}();var Hr,el=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,s;for(s=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)s[n]=String.fromCharCode(this.readByte());return s.join("")},t.prototype.writeString=function(e){var n,s,m;for(m=[],n=0,s=e.length;0<=s?n<s:n>s;n=0<=s?++n:--n)m.push(this.writeByte(e.charCodeAt(n)));return m},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,s,m,w,r,x,i;return e=this.readByte(),n=this.readByte(),s=this.readByte(),m=this.readByte(),w=this.readByte(),r=this.readByte(),x=this.readByte(),i=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^s)+4294967296*(255^m)+16777216*(255^w)+65536*(255^r)+256*(255^x)+(255^i)+1):72057594037927940*e+281474976710656*n+1099511627776*s+4294967296*m+16777216*w+65536*r+256*x+i},t.prototype.writeLongLong=function(e){var n,s;return n=Math.floor(e/4294967296),s=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(s>>24&255),this.writeByte(s>>16&255),this.writeByte(s>>8&255),this.writeByte(255&s)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,s;for(n=[],s=0;0<=e?s<e:s>e;s=0<=e?++s:--s)n.push(this.readByte());return n},t.prototype.write=function(e){var n,s,m,w;for(w=[],s=0,m=e.length;s<m;s++)n=e[s],w.push(this.writeByte(n));return w},t}(),kte=function(){var t;function e(n){var s,m,w;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},m=0,w=this.tableCount;0<=w?m<w:m>w;m=0<=w?++m:--m)s={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[s.tag]=s}return e.prototype.encode=function(n){var s,m,w,r,x,i,a,p,c,o,u,l,d;for(d in u=Object.keys(n).length,i=Math.log(2),c=16*Math.floor(Math.log(u)/i),r=Math.floor(c/i),p=16*u-c,(m=new el).writeInt(this.scalarType),m.writeShort(u),m.writeShort(c),m.writeShort(r),m.writeShort(p),w=16*u,a=m.pos+w,x=null,l=[],n)for(o=n[d],m.writeString(d),m.writeInt(t(o)),m.writeInt(a),m.writeInt(o.length),l=l.concat(o),d==="head"&&(x=a),a+=o.length;a%4;)l.push(0),a++;return m.write(l),s=2981146554-t(m.data),m.pos=x+8,m.writeUInt32(s),m.data},t=function(n){var s,m,w,r;for(n=aI.call(n);n.length%4;)n.push(0);for(w=new el(n),m=0,s=0,r=n.length;s<r;s=s+=4)m+=w.readUInt32();return 4294967295&m},e}(),Hte={}.hasOwnProperty,ra=function(t,e){for(var n in e)Hte.call(e,n)&&(t[n]=e[n]);function s(){this.constructor=t}return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t};Hr=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var Gte=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ra(e,Hr),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var s;return(s=new el).writeInt(this.version),s.writeInt(this.revision),s.writeInt(this.checkSumAdjustment),s.writeInt(this.magicNumber),s.writeShort(this.flags),s.writeShort(this.unitsPerEm),s.writeLongLong(this.created),s.writeLongLong(this.modified),s.writeShort(this.xMin),s.writeShort(this.yMin),s.writeShort(this.xMax),s.writeShort(this.yMax),s.writeShort(this.macStyle),s.writeShort(this.lowestRecPPEM),s.writeShort(this.fontDirectionHint),s.writeShort(n),s.writeShort(this.glyphDataFormat),s.data},e}(),uB=function(){function t(e,n){var s,m,w,r,x,i,a,p,c,o,u,l,d,f,h,A,g;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),c=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(i=0;i<256;++i)this.codeMap[i]=e.readByte();break;case 4:for(u=e.readUInt16(),o=u/2,e.pos+=6,w=function(){var v,y;for(y=[],i=v=0;0<=o?v<o:v>o;i=0<=o?++v:--v)y.push(e.readUInt16());return y}(),e.pos+=2,d=function(){var v,y;for(y=[],i=v=0;0<=o?v<o:v>o;i=0<=o?++v:--v)y.push(e.readUInt16());return y}(),a=function(){var v,y;for(y=[],i=v=0;0<=o?v<o:v>o;i=0<=o?++v:--v)y.push(e.readUInt16());return y}(),p=function(){var v,y;for(y=[],i=v=0;0<=o?v<o:v>o;i=0<=o?++v:--v)y.push(e.readUInt16());return y}(),m=(this.length-e.pos+this.offset)/2,x=function(){var v,y;for(y=[],i=v=0;0<=m?v<m:v>m;i=0<=m?++v:--v)y.push(e.readUInt16());return y}(),i=h=0,g=w.length;h<g;i=++h)for(f=w[i],s=A=l=d[i];l<=f?A<=f:A>=f;s=l<=f?++A:--A)p[i]===0?r=s+a[i]:(r=x[p[i]/2+(s-l)-(o-i)]||0)!==0&&(r+=a[i]),this.codeMap[s]=65535&r}e.pos=c}return t.encode=function(e,n){var s,m,w,r,x,i,a,p,c,o,u,l,d,f,h,A,g,v,y,C,b,T,S,F,B,N,L,R,I,M,P,U,z,W,Z,j,H,V,k,X,Q,J,$,_,te,se;switch(R=new el,r=Object.keys(e).sort(function(ce,ge){return ce-ge}),n){case"macroman":for(d=0,f=function(){var ce=[];for(l=0;l<256;++l)ce.push(0);return ce}(),A={0:0},w={},I=0,z=r.length;I<z;I++)A[$=e[m=r[I]]]==null&&(A[$]=++d),w[m]={old:e[m],new:A[e[m]]},f[m]=A[e[m]];return R.writeUInt16(1),R.writeUInt16(0),R.writeUInt32(12),R.writeUInt16(0),R.writeUInt16(262),R.writeUInt16(0),R.write(f),{charMap:w,subtable:R.data,maxGlyphID:d+1};case"unicode":for(N=[],c=[],g=0,A={},s={},h=a=null,M=0,W=r.length;M<W;M++)A[y=e[m=r[M]]]==null&&(A[y]=++g),s[m]={old:y,new:A[y]},x=A[y]-m,h!=null&&x===a||(h&&c.push(h),N.push(m),a=x),h=m;for(h&&c.push(h),c.push(65535),N.push(65535),F=2*(S=N.length),T=2*Math.pow(Math.log(S)/Math.LN2,2),o=Math.log(T/2)/Math.LN2,b=2*S-T,i=[],C=[],u=[],l=P=0,Z=N.length;P<Z;l=++P){if(B=N[l],p=c[l],B===65535){i.push(0),C.push(0);break}if(B-(L=s[B].new)>=32768)for(i.push(0),C.push(2*(u.length+S-l)),m=U=B;B<=p?U<=p:U>=p;m=B<=p?++U:--U)u.push(s[m].new);else i.push(L-B),C.push(0)}for(R.writeUInt16(3),R.writeUInt16(1),R.writeUInt32(12),R.writeUInt16(4),R.writeUInt16(16+8*S+2*u.length),R.writeUInt16(0),R.writeUInt16(F),R.writeUInt16(T),R.writeUInt16(o),R.writeUInt16(b),Q=0,j=c.length;Q<j;Q++)m=c[Q],R.writeUInt16(m);for(R.writeUInt16(0),J=0,H=N.length;J<H;J++)m=N[J],R.writeUInt16(m);for(_=0,V=i.length;_<V;_++)x=i[_],R.writeUInt16(x);for(te=0,k=C.length;te<k;te++)v=C[te],R.writeUInt16(v);for(se=0,X=u.length;se<X;se++)d=u[se],R.writeUInt16(d);return{charMap:s,subtable:R.data,maxGlyphID:g+1}}},t}(),rI=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ra(e,Hr),e.prototype.tag="cmap",e.prototype.parse=function(n){var s,m,w;for(n.pos=this.offset,this.version=n.readUInt16(),w=n.readUInt16(),this.tables=[],this.unicode=null,m=0;0<=w?m<w:m>w;m=0<=w?++m:--m)s=new uB(n,this.offset),this.tables.push(s),s.isUnicode&&this.unicode==null&&(this.unicode=s);return!0},e.encode=function(n,s){var m,w;return s==null&&(s="macroman"),m=uB.encode(n,s),(w=new el).writeUInt16(0),w.writeUInt16(1),m.table=w.data.concat(m.subtable),m},e}(),Qte=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ra(e,Hr),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e}(),jte=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ra(e,Hr),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var s,m;for(m=[],s=0;s<10;++s)m.push(n.readByte());return m}(),this.charRange=function(){var s,m;for(m=[],s=0;s<4;++s)m.push(n.readInt());return m}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var s,m;for(m=[],s=0;s<2;s=++s)m.push(n.readInt());return m}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e}(),Vte=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ra(e,Hr),e.prototype.tag="post",e.prototype.parse=function(n){var s,m,w;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var r;for(m=n.readUInt16(),this.glyphNameIndex=[],r=0;0<=m?r<m:r>m;r=0<=m?++r:--r)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],w=[];n.pos<this.offset+this.length;)s=n.readByte(),w.push(this.names.push(n.readString(s)));return w;case 151552:return m=n.readUInt16(),this.offsets=n.read(m);case 196608:break;case 262144:return this.map=(function(){var x,i,a;for(a=[],r=x=0,i=this.file.maxp.numGlyphs;0<=i?x<i:x>i;r=0<=i?++x:--x)a.push(n.readUInt32());return a}).call(this)}},e}(),zte=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Yte=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ra(e,Hr),e.prototype.tag="name",e.prototype.parse=function(n){var s,m,w,r,x,i,a,p,c,o,u;for(n.pos=this.offset,n.readShort(),s=n.readShort(),i=n.readShort(),m=[],r=0;0<=s?r<s:r>s;r=0<=s?++r:--r)m.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+i+n.readShort()});for(a={},r=c=0,o=m.length;c<o;r=++c)w=m[r],n.pos=w.offset,p=n.readString(w.length),x=new zte(p,w),a[u=w.nameID]==null&&(a[u]=[]),a[w.nameID].push(x);this.strings=a,this.copyright=a[0],this.fontFamily=a[1],this.fontSubfamily=a[2],this.uniqueSubfamily=a[3],this.fontName=a[4],this.version=a[5];try{this.postscriptName=a[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=a[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=a[7],this.manufacturer=a[8],this.designer=a[9],this.description=a[10],this.vendorUrl=a[11],this.designerUrl=a[12],this.license=a[13],this.licenseUrl=a[14],this.preferredFamily=a[15],this.preferredSubfamily=a[17],this.compatibleFull=a[18],this.sampleText=a[19]},e}(),Xte=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ra(e,Hr),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e}(),Wte=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ra(e,Hr),e.prototype.tag="hmtx",e.prototype.parse=function(n){var s,m,w,r,x,i,a;for(n.pos=this.offset,this.metrics=[],s=0,i=this.file.hhea.numberOfMetrics;0<=i?s<i:s>i;s=0<=i?++s:--s)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(w=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var p,c;for(c=[],s=p=0;0<=w?p<w:p>w;s=0<=w?++p:--p)c.push(n.readInt16());return c}(),this.widths=(function(){var p,c,o,u;for(u=[],p=0,c=(o=this.metrics).length;p<c;p++)r=o[p],u.push(r.advance);return u}).call(this),m=this.widths[this.widths.length-1],a=[],s=x=0;0<=w?x<w:x>w;s=0<=w?++x:--x)a.push(this.widths.push(m));return a},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e}(),aI=[].slice,Kte=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ra(e,Hr),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var s,m,w,r,x,i,a,p,c,o;return n in this.cache?this.cache[n]:(r=this.file.loca,s=this.file.contents,m=r.indexOf(n),(w=r.lengthOf(n))===0?this.cache[n]=null:(s.pos=this.offset+m,x=(i=new el(s.read(w))).readShort(),p=i.readShort(),o=i.readShort(),a=i.readShort(),c=i.readShort(),this.cache[n]=x===-1?new Zte(i,p,o,a,c):new Jte(i,x,p,o,a,c),this.cache[n]))},e.prototype.encode=function(n,s,m){var w,r,x,i,a;for(x=[],r=[],i=0,a=s.length;i<a;i++)w=n[s[i]],r.push(x.length),w&&(x=x.concat(w.encode(m)));return r.push(x.length),{table:x,offsets:r}},e}(),Jte=function(){function t(e,n,s,m,w,r){this.raw=e,this.numberOfContours=n,this.xMin=s,this.yMin=m,this.xMax=w,this.yMax=r,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),Zte=function(){function t(e,n,s,m,w){var r,x;for(this.raw=e,this.xMin=n,this.yMin=s,this.xMax=m,this.yMax=w,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],r=this.raw;x=r.readShort(),this.glyphOffsets.push(r.pos),this.glyphIDs.push(r.readUInt16()),32&x;)r.pos+=1&x?4:2,128&x?r.pos+=8:64&x?r.pos+=4:8&x&&(r.pos+=2)}return t.prototype.encode=function(){var e,n,s;for(n=new el(aI.call(this.raw.data)),e=0,s=this.glyphIDs.length;e<s;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),$te=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ra(e,Hr),e.prototype.tag="loca",e.prototype.parse=function(n){var s,m;return n.pos=this.offset,s=this.file.head.indexToLocFormat,this.offsets=s===0?(function(){var w,r;for(r=[],m=0,w=this.length;m<w;m+=2)r.push(2*n.readUInt16());return r}).call(this):(function(){var w,r;for(r=[],m=0,w=this.length;m<w;m+=4)r.push(n.readUInt32());return r}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,s){for(var m=new Uint32Array(this.offsets.length),w=0,r=0,x=0;x<m.length;++x)if(m[x]=w,r<s.length&&s[r]==x){++r,m[x]=w;var i=this.offsets[x],a=this.offsets[x+1]-i;a>0&&(w+=a)}for(var p=new Array(4*m.length),c=0;c<m.length;++c)p[4*c+3]=255&m[c],p[4*c+2]=(65280&m[c])>>8,p[4*c+1]=(16711680&m[c])>>16,p[4*c]=(4278190080&m[c])>>24;return p},e}(),qte=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,s,m,w;for(n in m=this.font.cmap.tables[0].codeMap,e={},w=this.subset)s=w[n],e[n]=m[s];return e},t.prototype.glyphsFor=function(e){var n,s,m,w,r,x,i;for(m={},r=0,x=e.length;r<x;r++)m[w=e[r]]=this.font.glyf.glyphFor(w);for(w in n=[],m)(s=m[w])!=null&&s.compound&&n.push.apply(n,s.glyphIDs);if(n.length>0)for(w in i=this.glyphsFor(n))s=i[w],m[w]=s;return m},t.prototype.encode=function(e,n){var s,m,w,r,x,i,a,p,c,o,u,l,d,f,h;for(m in s=rI.encode(this.generateCmap(),"unicode"),r=this.glyphsFor(e),u={0:0},h=s.charMap)u[(i=h[m]).old]=i.new;for(l in o=s.maxGlyphID,r)l in u||(u[l]=o++);return p=function(A){var g,v;for(g in v={},A)v[A[g]]=g;return v}(u),c=Object.keys(p).sort(function(A,g){return A-g}),d=function(){var A,g,v;for(v=[],A=0,g=c.length;A<g;A++)x=c[A],v.push(p[x]);return v}(),w=this.font.glyf.encode(r,d,u),a=this.font.loca.encode(w.offsets,d),f={cmap:this.font.cmap.raw(),glyf:w.table,loca:a,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(f["OS/2"]=this.font.os2.raw()),this.font.directory.encode(f)},t}();pt.API.PDFObject=function(){var t;function e(){}return t=function(n,s){return(Array(s+1).join("0")+n).slice(-s)},e.convert=function(n){var s,m,w,r;if(Array.isArray(n))return"["+function(){var x,i,a;for(a=[],x=0,i=n.length;x<i;x++)s=n[x],a.push(e.convert(s));return a}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(m in w=["<<"],n)r=n[m],w.push("/"+m+" "+e.convert(r));return w.push(">>"),w.join(`
`)}return""+n},e}();const _te=({moduleTitle:t,lessons:e,totalXp:n,onClose:s})=>{const{user:m}=Mt(),{t:w}=Ri(),r=de.useRef(null),[x,i]=de.useState(!1),a=(m==null?void 0:m.subscriptionTier)==="intern",p=async()=>{if(a){alert("Upgrade to Founder to download your Diploma!");return}if(r.current){i(!0);try{const u=(await H6(r.current,{scale:2,useCORS:!0,logging:!1,backgroundColor:"#ffffff"})).toDataURL("image/png"),l=new pt({orientation:"landscape",unit:"mm",format:"a4"}),d=l.internal.pageSize.getWidth(),f=l.internal.pageSize.getHeight();l.addImage(u,"PNG",0,0,d,f),l.save(`KidCap_Certificate_${t.replace(/\s+/g,"_")}.pdf`)}catch(o){console.error("Certificate generation failed:",o),alert("Oops! Could not generate certificate. Please try again.")}finally{i(!1)}}},c=new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return E.jsxs("div",{className:"flex flex-col h-full bg-gray-50 relative",children:[E.jsx("div",{className:"flex-1 overflow-y-auto p-8 flex items-center justify-center",children:E.jsxs(ot.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"bg-white p-8 rounded-3xl shadow-xl border-4 border-yellow-400 max-w-md w-full text-center relative overflow-hidden",children:[E.jsx("div",{className:"absolute inset-0 opacity-5 pointer-events-none",style:{backgroundImage:"radial-gradient(#F59E0B 2px, transparent 2px)",backgroundSize:"20px 20px"}}),E.jsxs("div",{className:"relative z-10",children:[E.jsx(ot.div,{initial:{y:-20},animate:{y:0},className:"inline-block bg-yellow-100 text-yellow-800 px-4 py-1 rounded-full text-xs font-black uppercase tracking-widest mb-6",children:"Certificate of Completion"}),E.jsx("div",{className:"w-24 h-24 bg-yellow-400 rounded-full flex items-center justify-center mx-auto mb-6 shadow-md border-4 border-white",children:E.jsx(Zl,{size:48,className:"text-yellow-900"})}),E.jsx("h2",{className:"text-3xl font-black text-gray-800 mb-2",children:t}),E.jsxs("p",{className:"text-gray-500 font-bold mb-8",children:["Mastered by ",(m==null?void 0:m.name)||"Future CEO"]}),E.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 mb-8 text-left space-y-3",children:[E.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase",children:"Key Takeaways"}),e.slice(0,3).map((o,u)=>E.jsxs("div",{className:"flex items-start gap-3",children:[E.jsx("div",{className:"mt-1 bg-green-100 text-green-600 rounded-full p-1 min-w-[20px] h-[20px] flex items-center justify-center",children:E.jsx(En,{size:12,strokeWidth:4})}),E.jsx("span",{className:"text-sm font-bold text-gray-700 leading-tight",children:w(`lesson_${o.id}_title`,{defaultValue:o.lesson_payload.headline})})]},o.id))]}),E.jsxs("div",{className:"flex justify-center gap-8 mb-8 border-t border-gray-100 pt-6",children:[E.jsxs("div",{children:[E.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase",children:"Total XP"}),E.jsxs("div",{className:"text-3xl font-black text-blue-600",children:["+",n]})]}),E.jsxs("div",{children:[E.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase",children:"Skill Rating"}),E.jsxs("div",{className:"flex text-yellow-400 gap-1 mt-1",children:[E.jsx(pn,{fill:"currentColor",size:20}),E.jsx(pn,{fill:"currentColor",size:20}),E.jsx(pn,{fill:"currentColor",size:20}),E.jsx(pn,{fill:"currentColor",size:20}),E.jsx(pn,{fill:"currentColor",size:20})]})]})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[E.jsxs("button",{onClick:p,disabled:x,className:`py-3 rounded-xl border-2 border-gray-200 font-bold text-gray-500 flex items-center justify-center gap-2 transition-colors disabled:opacity-50 disabled:cursor-wait
                                ${a?"hover:bg-red-50 hover:text-red-500 hover:border-red-200":"hover:bg-gray-50 hover:text-kid-accent hover:border-kid-accent"}
                            `,children:[x?E.jsx(Jl,{className:"animate-spin",size:18}):a?E.jsx(Nn,{size:18}):E.jsx(b9,{size:18}),x?"Saving...":"Download PDF"]}),E.jsxs("button",{className:"py-3 rounded-xl border-2 border-gray-200 font-bold text-gray-500 flex items-center justify-center gap-2 hover:bg-gray-50 cursor-not-allowed opacity-50",children:[E.jsx(N7,{size:18})," Share"]})]})]})]})}),E.jsx("div",{className:"p-4 bg-white border-t border-gray-200 flex justify-center",children:E.jsxs("button",{onClick:s,className:"bg-kid-secondary text-white px-12 py-4 rounded-2xl font-black shadow-[0_4px_0_0_rgba(21,128,61,1)] btn-juicy flex items-center gap-2 text-xl hover:bg-green-600",children:["Continue Journey ",E.jsx(Qo,{size:24})]})}),E.jsx("div",{style:{position:"fixed",top:0,left:"-9999px",zIndex:-1},children:E.jsxs("div",{ref:r,className:"w-[1123px] h-[794px] bg-white text-gray-900 relative flex flex-col justify-between items-center text-center p-12 box-border",style:{fontFamily:"Georgia, serif",backgroundColor:"#fff"},children:[E.jsx("div",{className:"absolute inset-4 border-[20px] border-double border-yellow-500 pointer-events-none"}),E.jsx("div",{className:"absolute top-8 left-8 w-20 h-20 border-t-8 border-l-8 border-yellow-600"}),E.jsx("div",{className:"absolute top-8 right-8 w-20 h-20 border-t-8 border-r-8 border-yellow-600"}),E.jsx("div",{className:"absolute bottom-8 left-8 w-20 h-20 border-b-8 border-l-8 border-yellow-600"}),E.jsx("div",{className:"absolute bottom-8 right-8 w-20 h-20 border-b-8 border-r-8 border-yellow-600"}),E.jsxs("div",{className:"mt-12 z-10",children:[E.jsxs("div",{className:"flex items-center justify-center gap-4 mb-4",children:[E.jsx("div",{className:"w-16 h-16 bg-green-600 text-white rounded-xl flex items-center justify-center font-black text-4xl shadow-lg font-sans",children:"K"}),E.jsx("h1",{className:"text-4xl font-bold text-gray-500 uppercase tracking-[0.4em] font-sans",children:"KidCap HQ"})]}),E.jsx("div",{className:"w-96 h-1 bg-gradient-to-r from-transparent via-yellow-500 to-transparent mx-auto my-6"}),E.jsx("h2",{className:"text-7xl font-bold text-gray-900 mb-2 uppercase tracking-wide text-shadow-sm",children:"Certificate"}),E.jsx("h3",{className:"text-3xl font-medium text-gray-500 uppercase tracking-widest",children:"Of Completion"})]}),E.jsxs("div",{className:"flex-1 flex flex-col justify-center z-10 w-full max-w-4xl",children:[E.jsx("p",{className:"text-2xl text-gray-500 italic mb-6",children:"This distinctive award is proudly presented to"}),E.jsx("div",{className:"relative mb-8",children:E.jsx("div",{className:"text-7xl font-bold text-blue-900 font-cursive py-4 border-b-4 border-gray-300 w-full",children:(m==null?void 0:m.name)||"Future CEO"})}),E.jsx("p",{className:"text-2xl text-gray-500 italic mb-4",children:"For successfully mastering the business module"}),E.jsx("div",{className:"bg-yellow-50 border-2 border-yellow-100 py-4 px-12 rounded-full inline-block mx-auto mb-6",children:E.jsx("h3",{className:"text-5xl font-bold text-gray-800 uppercase tracking-wide",children:t})}),E.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Demonstrating exceptional initiative, leadership potential, and financial literacy skills at the KidCap Academy."})]}),E.jsxs("div",{className:"w-full flex justify-between items-end px-24 mb-16 z-10",children:[E.jsxs("div",{className:"text-center w-64",children:[E.jsx("div",{className:"font-cursive text-3xl text-blue-600 mb-2",children:"Ollie The Owl"}),E.jsx("div",{className:"border-t-2 border-gray-400 w-full pt-2",children:E.jsx("p",{className:"font-bold text-gray-500 uppercase text-sm tracking-widest font-sans",children:"Chief Education Officer"})})]}),E.jsxs("div",{className:"relative -mb-4",children:[E.jsx("div",{className:"w-40 h-40 bg-yellow-500 rounded-full flex items-center justify-center text-white shadow-xl relative z-10 border-4 border-yellow-300",children:E.jsxs("div",{className:"w-32 h-32 border-2 border-dashed border-white/50 rounded-full flex flex-col items-center justify-center",children:[E.jsx(Zl,{size:48}),E.jsx("span",{className:"text-xs font-black uppercase mt-1 tracking-widest font-sans",children:"Official Seal"})]})}),E.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 translate-y-1/2 w-48 h-16 bg-blue-800 z-0 shadow-lg"}),E.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 translate-y-1/2 w-48 h-16 bg-blue-800 rotate-45 z-0 shadow-lg"})]}),E.jsxs("div",{className:"text-center w-64",children:[E.jsx("div",{className:"text-2xl font-bold text-gray-800 mb-2 font-mono",children:c}),E.jsx("div",{className:"border-t-2 border-gray-400 w-full pt-2",children:E.jsx("p",{className:"font-bold text-gray-500 uppercase text-sm tracking-widest font-sans",children:"Date Awarded"})})]})]})]})})]})},eie=({units:t,onExit:e})=>{var te;const{user:n,completeLesson:s}=Mt(),{t:m}=Ri(),[w,r]=de.useState("ALL"),[x,i]=de.useState(!1),[a,p]=de.useState(null),[c,o]=de.useState(""),[u,l]=de.useState(!1),[d,f]=de.useState(""),[h,A]=de.useState(!1),g=de.useMemo(()=>w==="ALL"?t:t.filter(se=>se.difficulty===w),[t,w]),[v,y]=de.useState(0),[C,b]=de.useState("LEARN");de.useEffect(()=>{y(0),b("LEARN")},[w]),de.useEffect(()=>{p(null),o(""),C==="LEARN"&&(f(""),A(!1))},[v,C]),de.useEffect(()=>{if(w==="ALL"&&n){const se=t.findIndex(ce=>!n.completedLessonIds.includes(ce.id));se!==-1&&y(se)}},[]);const[T,S]=de.useState(0),[F,B]=de.useState(0),[N,L]=de.useState(null),[R,I]=de.useState(!1),M=g[v],P=de.useMemo(()=>M?[M.challenge_payload.correct_answer,...M.challenge_payload.distractors].sort(()=>Math.random()-.5):[],[M]),U=se=>m({"Money Basics":"money_basics",Entrepreneurship:"entrepreneurship","Investing & Wealth":"investing_wealth",Marketing:"marketing",Leadership:"leadership",Economics:"economics",Technology:"technology","Social Responsibility":"social_responsibility","Global Business":"global_business","Financial Smarts":"financial_smarts"}[se]||se),z=()=>{if(C==="LEARN")b("CHALLENGE");else if(C==="FEEDBACK"){if(!R)return;M&&!(n!=null&&n.completedLessonIds.includes(M.id))&&s(M.id,M.game_rewards.base_xp,M.game_rewards.currency_value),v<g.length-1?(y(se=>se+1),b("LEARN"),L(null),I(!1)):b("COMPLETE")}},W=()=>{b("LEARN"),L(null),I(!1)},Z=async se=>{if(C!=="CHALLENGE"||N)return;L(se);const ce=se===M.challenge_payload.correct_answer;if(I(ce),ce)S(ge=>ge+M.game_rewards.currency_value),B(ge=>ge+M.game_rewards.base_xp);else{A(!0);try{const ge=`I answered "${se}" to the question "${M.challenge_payload.question_text}". The correct answer was "${M.challenge_payload.correct_answer}". Explain why I was wrong or help me understand the correct answer in 1-2 simple sentences for a kid.`,ue=await PR([],ge);f(ue)}catch(ge){console.error("AI Feedback Error:",ge),f("Oops! I couldn't load the hint, but try reading the briefing again.")}finally{A(!1)}}setTimeout(()=>{b("FEEDBACK")},1e3)},j=async se=>{if(a===se){p(null);return}p(se),o(""),l(!0);try{const ce=await BJ(se);o(ce)}catch(ce){console.error("AI Error:",ce),o("Ollie is taking a nap. Try again later!")}finally{l(!1)}},H=se=>{switch(se){case 1:return"bg-green-100 text-green-700 border-green-200 dark:bg-green-900/30 dark:text-green-300 dark:border-green-800";case 2:return"bg-yellow-100 text-yellow-700 border-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-300 dark:border-yellow-800";case 3:return"bg-red-100 text-red-700 border-red-200 dark:bg-red-900/30 dark:text-red-300 dark:border-red-800";default:return"bg-gray-100 text-gray-700 border-gray-200 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-600"}},V=se=>{switch(se){case 1:return"Easy";case 2:return"Medium";case 3:return"Hard";default:return""}},k=se=>typeof se=="string"?se:"",X=se=>se.split(/(\*\*.*?\*\*)/g).map((ge,ue)=>{if(ge.startsWith("**")&&ge.endsWith("**")){const re=ge.slice(2,-2);return E.jsxs("span",{className:"relative inline-block whitespace-nowrap mx-1",children:[E.jsxs(ot.button,{whileHover:{scale:1.05,color:"#b45309"},whileTap:{scale:.95},onClick:()=>j(re),className:`font-bold border-b-2 border-dashed border-yellow-400 cursor-pointer transition-colors px-1 rounded
                              ${a===re?"bg-yellow-200 text-yellow-900":"text-gray-800 dark:text-white hover:bg-yellow-50 dark:hover:bg-gray-700"}`,children:[re," ",E.jsx(Q9,{size:10,className:"inline align-top ml-0.5 opacity-50"})]}),E.jsx(an,{children:a===re&&E.jsxs(ot.div,{initial:{opacity:0,y:10,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.9},className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-3 w-64 bg-gray-900 text-white text-sm p-4 rounded-2xl shadow-2xl z-50 text-center border-2 border-yellow-500/30",children:[E.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3 text-yellow-400 font-bold uppercase tracking-widest text-xs border-b border-gray-700 pb-2",children:[E.jsx($v,{size:14})," Ollie's Definition"]}),E.jsx("div",{className:"font-medium leading-relaxed text-gray-200",children:u?E.jsxs("div",{className:"flex flex-col items-center justify-center py-4 gap-3",children:[E.jsx(Jl,{className:"animate-spin text-yellow-400",size:24}),E.jsx("span",{className:"text-gray-400 text-xs font-bold",children:"Asking the owl..."})]}):c||"Click to ask Ollie!"}),E.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 border-8 border-transparent border-t-gray-900"})]})})]},ue)}return E.jsx("span",{children:ge},ue)});if(g.length===0&&C!=="COMPLETE")return E.jsx("div",{className:"fixed inset-0 bg-gray-900/80 backdrop-blur-md flex items-center justify-center z-[100] p-4",children:E.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-8 max-w-md w-full text-center",children:[E.jsx("h3",{className:"text-2xl font-black text-gray-800 dark:text-white mb-2",children:"No Lessons Found"}),E.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"There are no lessons with this difficulty level."}),E.jsxs("div",{className:"flex gap-4 justify-center",children:[E.jsx("button",{onClick:()=>r("ALL"),className:"bg-blue-100 text-blue-700 px-6 py-2 rounded-xl font-bold hover:bg-blue-200",children:"Show All"}),E.jsx("button",{onClick:e,className:"bg-gray-100 text-gray-600 px-6 py-2 rounded-xl font-bold hover:bg-gray-200",children:"Exit"})]})]})});if(!M&&C!=="COMPLETE")return E.jsx("div",{children:"Loading..."});const Q=M?m(`lesson_${M.id}_title`,{defaultValue:M.lesson_payload.headline}):"",J=M?m(`lesson_${M.id}_body`,{defaultValue:M.lesson_payload.body_text}):"",$=M?m(`lesson_${M.id}_question`,{defaultValue:M.challenge_payload.question_text}):"",_=M?m(`lesson_${M.id}_flavor`,{defaultValue:M.flavor_text}):"";return E.jsxs("div",{className:"fixed inset-0 bg-gray-900/80 backdrop-blur-md flex items-center justify-center z-[100] p-4",children:[E.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl w-full max-w-2xl overflow-hidden shadow-2xl flex flex-col max-h-[90vh]",children:[E.jsxs("div",{className:"bg-gray-900 text-white p-4 flex justify-between items-center relative z-20 shadow-lg shrink-0",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("button",{onClick:e,className:"hover:bg-gray-800 p-2 rounded-full transition-colors",children:E.jsx(qn,{size:20})}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("span",{className:"font-bold text-gray-400 text-sm uppercase tracking-widest hidden sm:block",children:M?U(M.topic_tag):"Mission Complete"}),E.jsxs("div",{className:"relative",children:[E.jsxs("button",{onClick:()=>i(!x),className:"flex items-center gap-1 bg-gray-800 hover:bg-gray-700 px-3 py-1 rounded-lg text-xs font-bold transition-colors border border-gray-700",children:[E.jsx(F9,{size:14}),w==="ALL"?"All":`Lvl ${w}`]}),x&&E.jsxs("div",{className:"absolute top-full left-0 mt-2 w-40 bg-white dark:bg-gray-700 rounded-xl shadow-xl z-50 overflow-hidden py-1 border border-gray-100",children:[E.jsx("button",{onClick:()=>{r("ALL"),i(!1)},className:"w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 text-sm font-bold dark:text-white",children:"All Levels"}),E.jsx("button",{onClick:()=>{r(1),i(!1)},className:"w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 text-sm font-bold text-green-600",children:"Easy"}),E.jsx("button",{onClick:()=>{r(2),i(!1)},className:"w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 text-sm font-bold text-yellow-600",children:"Medium"}),E.jsx("button",{onClick:()=>{r(3),i(!1)},className:"w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 text-sm font-bold text-red-600",children:"Hard"})]})]})]})]}),E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("div",{className:"scale-75 origin-right md:scale-100",children:E.jsx(B1,{})}),E.jsxs("div",{className:"hidden sm:flex gap-3",children:[E.jsxs("div",{className:"flex items-center gap-1.5 bg-gray-800 px-3 py-1 rounded-full text-yellow-400 font-mono font-bold border border-gray-700",children:[E.jsx(gA,{size:14})," $",T]}),E.jsxs("div",{className:"flex items-center gap-1.5 bg-gray-800 px-3 py-1 rounded-full text-blue-400 font-mono font-bold border border-gray-700",children:[E.jsx(gs,{size:14})," ",F]})]})]})]}),E.jsx("div",{className:"h-1.5 bg-gray-200 dark:bg-gray-700 w-full",children:E.jsx(ot.div,{className:"h-full bg-kid-secondary",initial:{width:0},animate:{width:`${(v+1)/g.length*100}%`}})}),E.jsx("div",{className:"flex-1 overflow-y-auto p-6 md:p-8 bg-white dark:bg-gray-800 relative",children:E.jsxs(an,{mode:"wait",children:[C==="LEARN"&&E.jsxs(ot.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("span",{className:"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 px-3 py-1 rounded-lg text-xs font-black uppercase tracking-wider",children:"Briefing"}),E.jsxs("div",{className:`flex items-center gap-1 px-3 py-1 rounded-full border ${H(M.difficulty)}`,children:[E.jsx("div",{className:"flex",children:[...Array(M.difficulty)].map((se,ce)=>E.jsx(pn,{size:10,fill:"currentColor"},ce))}),E.jsx("span",{className:"text-xs font-black uppercase ml-1",children:V(M.difficulty)})]})]}),M.lesson_payload.image_url&&E.jsx(ot.img,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},src:M.lesson_payload.image_url,alt:"Visual",className:`w-full rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 object-cover ${M.lesson_payload.image_url.endsWith(".gif")?"h-auto max-h-64 object-contain":"h-48"}`}),E.jsx("h2",{className:"text-3xl font-black text-gray-800 dark:text-white leading-tight",children:Q}),E.jsx("div",{className:"text-lg text-gray-600 dark:text-gray-300 leading-relaxed space-y-4",children:E.jsx("p",{children:X(J)})})]},"learn"),C==="CHALLENGE"&&E.jsxs(ot.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"space-y-8",children:[E.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[E.jsx("div",{className:"w-10 h-10 rounded-full bg-red-100 text-red-500 flex items-center justify-center font-black text-xl",children:"?"}),E.jsx("h3",{className:"text-gray-400 font-bold uppercase text-sm",children:"Decision Required"})]}),E.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:$}),E.jsx("div",{className:"grid grid-cols-1 gap-3",children:P.map((se,ce)=>{const ge=N===se,ue=ge&&!R,re=ge&&R;return E.jsx("button",{onClick:()=>Z(se),disabled:!!N,className:`p-5 rounded-2xl border-2 text-left font-bold text-lg transition-all
                                            ${ue?"bg-red-50 border-red-400 text-red-700 shake-animation dark:bg-red-900/30 dark:text-red-300":re?"bg-green-50 border-green-400 text-green-700 dark:bg-green-900/30 dark:text-green-300":"bg-white border-gray-200 hover:border-blue-400 hover:bg-blue-50 text-gray-700 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-600"}
                                        `,children:k(se)},ce)})})]},"challenge"),C==="FEEDBACK"&&E.jsx(ot.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-8 space-y-6",children:R?E.jsxs(E.Fragment,{children:[E.jsx(ot.div,{initial:{scale:0},animate:{scale:1},className:"w-24 h-24 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-4",children:E.jsx(En,{size:48,strokeWidth:4})}),E.jsx("h2",{className:"text-3xl font-black text-gray-800 dark:text-white",children:"Success!"}),E.jsxs("p",{className:"text-xl text-gray-600 dark:text-gray-300 font-medium px-8",children:['"',_,'"']}),E.jsxs("div",{className:"flex justify-center gap-4 py-4",children:[E.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/30 px-6 py-3 rounded-xl border border-yellow-200 dark:border-yellow-800",children:[E.jsx("span",{className:"text-xs font-bold text-yellow-600 dark:text-yellow-400 uppercase",children:"Earned"}),E.jsxs("div",{className:"text-2xl font-black text-gray-800 dark:text-white",children:["+$",M.game_rewards.currency_value]})]}),E.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/30 px-6 py-3 rounded-xl border border-blue-200 dark:border-blue-800",children:[E.jsx("span",{className:"text-xs font-bold text-blue-600 dark:text-blue-400 uppercase",children:"XP"}),E.jsxs("div",{className:"text-2xl font-black text-gray-800 dark:text-white",children:["+",M.game_rewards.base_xp]})]})]})]}):E.jsxs(E.Fragment,{children:[E.jsx(ot.div,{initial:{scale:0},animate:{scale:1},className:"w-24 h-24 bg-red-100 text-red-500 rounded-full flex items-center justify-center mx-auto mb-4",children:E.jsx(qn,{size:48,strokeWidth:4})}),E.jsx("h2",{className:"text-3xl font-black text-gray-800 dark:text-white",children:"Mission Failed"}),E.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border-2 border-yellow-200 dark:border-yellow-800 p-4 rounded-xl mx-4 text-left flex gap-3 mt-4",children:[E.jsx("div",{className:"text-3xl",children:""}),E.jsxs("div",{children:[E.jsx("div",{className:"text-xs font-bold text-yellow-600 dark:text-yellow-400 uppercase mb-1",children:"Ollie's Tip"}),E.jsx("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:h?"Analyzing...":d||"Check the briefing again!"})]})]})]})},"feedback"),C==="COMPLETE"&&E.jsx(_te,{moduleTitle:((te=t[0])==null?void 0:te.topic_tag)||"Module",lessons:g,totalXp:F,onClose:e})]})}),E.jsxs("div",{className:"p-4 border-t border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 flex justify-end shrink-0",children:[C==="LEARN"&&E.jsxs("button",{onClick:z,className:"flex items-center gap-2 bg-kid-accent text-white px-8 py-3 rounded-2xl font-black shadow-[0_4px_0_0_rgba(30,58,138,1)] btn-juicy",children:["Start Challenge ",E.jsx(Qo,{size:20})]}),C==="FEEDBACK"&&(R?E.jsxs("button",{onClick:z,className:"flex items-center gap-2 bg-kid-secondary text-white px-8 py-3 rounded-2xl font-black shadow-[0_4px_0_0_rgba(21,128,61,1)] btn-juicy",children:["Next Unit ",E.jsx(Qo,{size:20})]}):E.jsxs("button",{onClick:W,className:"flex items-center gap-2 bg-orange-500 text-white px-8 py-3 rounded-2xl font-black shadow-[0_4px_0_0_rgba(194,65,12,1)] btn-juicy",children:[E.jsx(jA,{size:20})," Retry"]}))]})]}),E.jsx("style",{children:`
        .shake-animation { animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both; }
        @keyframes shake {
            10%, 90% { transform: translate3d(-1px, 0, 0); }
            20%, 80% { transform: translate3d(2px, 0, 0); }
            30%, 50%, 70% { transform: translate3d(-4px, 0, 0); }
            40%, 60% { transform: translate3d(4px, 0, 0); }
        }
      `})]})},qA=({onStart:t,title:e,description:n,instructions:s,icon:m="",color:w="bg-blue-600"})=>{const r=x=>typeof x=="string"?x:typeof x=="number"?String(x):"";return E.jsx("div",{className:"fixed inset-0 z-[120] flex items-center justify-center p-4 bg-gray-900/80 backdrop-blur-md",children:E.jsxs(ot.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},className:"bg-white rounded-3xl max-w-md w-full shadow-2xl overflow-hidden relative",children:[E.jsxs("div",{className:`${w} p-6 text-white text-center relative overflow-hidden`,children:[E.jsx("div",{className:"absolute inset-0 bg-black/10",style:{backgroundImage:"radial-gradient(circle at 10px 10px, rgba(255,255,255,0.2) 2px, transparent 0)",backgroundSize:"20px 20px"}}),E.jsxs("div",{className:"relative z-10",children:[E.jsx("div",{className:"text-6xl mb-4 drop-shadow-md animate-bounce",children:r(m)}),E.jsx("h2",{className:"text-3xl font-black uppercase tracking-tight",children:r(e)})]})]}),E.jsxs("div",{className:"p-8",children:[E.jsx("div",{className:"text-center mb-8",children:E.jsx("p",{className:"text-gray-600 font-medium text-lg leading-relaxed",children:r(n)})}),E.jsxs("div",{className:"bg-gray-50 rounded-2xl p-6 mb-8 border border-gray-100",children:[E.jsxs("h3",{className:"text-xs font-black text-gray-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[E.jsx(s9,{size:14})," How to Play"]}),E.jsx("ul",{className:"space-y-3",children:s.map((x,i)=>E.jsxs("li",{className:"flex items-start gap-3 text-gray-700 font-bold text-sm",children:[E.jsx(zN,{className:"text-green-500 shrink-0 mt-0.5",size:18}),r(x)]},i))})]}),E.jsxs("button",{onClick:t,className:`w-full py-4 rounded-xl font-black text-white text-xl shadow-lg btn-juicy flex items-center justify-center gap-3 transition-all hover:brightness-110 ${w}`,children:[E.jsx(QA,{fill:"currentColor"})," Start Game"]})]})]})})},tie=({onBack:t})=>{const{lemonadeState:e,updateLemonadeState:n,getSkillModifiers:s}=Mt();s0();const[m,w]=de.useState("PREP"),[r,x]=de.useState("Sunny"),[i,a]=de.useState(0),[p,c]=de.useState({sold:0,profit:0,revenue:0,cost:0,feedback:"",skillBonus:0}),[o,u]=de.useState(!0),[l,d]=de.useState(!1),{t:f}=Ri(),h=s(),A=2.5,g=2,v=2,y=A*h.costMultiplier,C=g*h.costMultiplier,b=v*h.costMultiplier,T=()=>{const B=Math.random();return B>.7?"Rainy":B>.4?"Cloudy":"Sunny"};de.useEffect(()=>{x(T())},[e.day]);const S=(B,N,L)=>{e.funds>=L&&n({funds:e.funds-L,inventory:{...e.inventory,[B]:e.inventory[B]+N}})},F=async()=>{const{user:B,consumeEnergy:N}=Mt.getState();if(!N()){alert("Out of Energy! Wait for refill or Upgrade to Founder.");return}w("SIMULATION"),a(0);const R=r==="Sunny"?30:r==="Cloudy"?15:5,I=Math.max(.1,2-e.recipe.pricePerCup),M=Math.floor(R*(1+I)),P=e.inventory.lemons*5,U=e.inventory.sugar,z=e.inventory.cups,W=Math.min(M,P,U,z),Z=W*e.recipe.pricePerCup,j=Z*h.priceMultiplier,H=j-Z,V=j,k=Math.ceil(W/5),X=await FJ(r,e.recipe.pricePerCup,e.recipe.sugarPerCup,W),Q=setInterval(()=>{a(J=>J>=100?(clearInterval(Q),c({sold:W,revenue:j,cost:0,profit:V,feedback:X,skillBonus:H}),n({funds:e.funds+j,day:e.day+1,inventory:{lemons:e.inventory.lemons-k,sugar:e.inventory.sugar-W,cups:e.inventory.cups-W},history:[...e.history,{day:e.day,weather:r,cupsSold:W,profit:V,feedback:X}]}),w("RESULT"),100):J+2)},50)};return E.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-xl overflow-hidden border border-gray-200 dark:border-gray-700 relative h-[calc(100vh-140px)] md:h-[calc(100vh-100px)] flex flex-col",children:[E.jsx(iu,{isOpen:l,onClose:()=>d(!1)}),o&&E.jsx(qA,{onStart:()=>u(!1),title:f("lemonade.title"),description:"Run your own lemonade stand! Manage inventory, set prices, and react to the weather.",icon:"",color:"bg-yellow-500",instructions:["Check the weather forecast.","Buy Lemons, Sugar, and Cups.","Set a price (Too high? No sales!)","Start the day and make profit!"]}),E.jsxs("div",{className:"bg-kid-primary p-4 md:p-6 text-indigo-900 flex justify-between items-center shrink-0 z-10",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-full transition-colors text-indigo-900",title:"Back",children:E.jsx(ja,{size:28,strokeWidth:3,className:"rtl:rotate-180"})}),E.jsxs("div",{children:[E.jsx("h2",{className:"text-xl md:text-3xl font-black text-indigo-900 leading-none",children:f("lemonade.title")}),E.jsxs("div",{className:"text-xs md:text-sm font-bold opacity-80 text-indigo-800 mt-1",children:[f("lemonade.day")," ",e.day,"  ",f("lemonade.forecast"),": ",r]})]})]}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("button",{onClick:()=>u(!0),className:"bg-white/20 hover:bg-white/40 px-3 py-1 rounded-lg font-bold text-xs md:text-sm hidden sm:block",children:f("lemonade.help")}),E.jsxs("div",{className:"bg-white/30 px-3 py-1 md:px-4 md:py-2 rounded-xl backdrop-blur-sm font-black text-lg md:text-xl flex items-center gap-1 md:gap-2",children:[E.jsx(KN,{size:16,className:"md:w-5 md:h-5"}),e.funds.toFixed(2)]})]})]}),E.jsxs("div",{className:"p-4 md:p-8 flex-1 overflow-y-auto bg-white dark:bg-gray-900",children:[m==="PREP"&&E.jsxs("div",{className:"space-y-6 md:space-y-8 max-w-4xl mx-auto",children:[(h.costMultiplier<1||h.priceMultiplier>1)&&E.jsxs("div",{className:"flex flex-wrap gap-2 md:gap-4 justify-center",children:[h.costMultiplier<1&&E.jsxs("div",{className:"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 px-3 py-1 md:px-4 md:py-2 rounded-full text-[10px] md:text-xs font-black flex items-center gap-2",children:[E.jsx(gs,{size:12})," ",f("lemonade.skill_efficiency")]}),h.priceMultiplier>1&&E.jsxs("div",{className:"bg-pink-100 dark:bg-pink-900/30 text-pink-700 dark:text-pink-300 px-3 py-1 md:px-4 md:py-2 rounded-full text-[10px] md:text-xs font-black flex items-center gap-2",children:[E.jsx(gs,{size:12})," ",f("lemonade.skill_charisma")]})]}),E.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 md:gap-6",children:[E.jsx(qy,{icon:"",name:f("lemonade.item_lemons"),count:e.inventory.lemons,subtext:f("lemonade.subtext_lemons"),onBuy:()=>S("lemons",5,y),price:`$${y.toFixed(2)} / 5`,btnText:f("lemonade.buy"),originalPrice:h.costMultiplier<1?A:void 0}),E.jsx(qy,{icon:"",name:f("lemonade.item_sugar"),count:e.inventory.sugar,subtext:f("lemonade.subtext_sugar"),onBuy:()=>S("sugar",10,C),price:`$${C.toFixed(2)} / 10`,btnText:f("lemonade.buy"),originalPrice:h.costMultiplier<1?g:void 0}),E.jsx(qy,{icon:"",name:f("lemonade.item_cups"),count:e.inventory.cups,subtext:f("lemonade.subtext_cups"),onBuy:()=>S("cups",20,b),price:`$${b.toFixed(2)} / 20`,btnText:f("lemonade.buy"),originalPrice:h.costMultiplier<1?v:void 0})]}),E.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 md:p-6 rounded-2xl border-2 border-gray-100 dark:border-gray-700",children:[E.jsxs("h3",{className:"font-bold text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2 text-sm md:text-base",children:[E.jsx(zA,{size:20})," ",f("lemonade.set_price")]}),E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsxs("span",{className:"text-2xl font-black text-gray-800 dark:text-white",children:["$",e.recipe.pricePerCup.toFixed(2)]}),E.jsx("input",{type:"range",min:"0.10",max:"3.00",step:"0.10",value:e.recipe.pricePerCup,onChange:B=>n({recipe:{...e.recipe,pricePerCup:parseFloat(B.target.value)}}),className:"w-full h-4 bg-gray-200 dark:bg-gray-600 rounded-lg appearance-none cursor-pointer accent-kid-accent"})]})]}),E.jsxs("button",{onClick:F,className:"w-full py-4 bg-kid-secondary hover:bg-green-600 text-white font-black text-xl md:text-2xl rounded-2xl shadow-[0_6px_0_0_rgba(21,128,61,1)] btn-juicy transition-all flex items-center justify-center gap-3 mb-8",children:[E.jsx(QA,{fill:"currentColor",size:24}),f("lemonade.start_day"),E.jsxs("span",{className:"text-sm bg-black/20 px-2 py-1 rounded ml-2 flex items-center gap-1",children:[E.jsx(gs,{size:12,className:"fill-current"})," -1 Energy"]})]})]}),m==="SIMULATION"&&E.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center py-12",children:[E.jsx("h3",{className:"text-2xl font-bold text-gray-600 dark:text-gray-300 mb-8",children:f("lemonade.selling")}),E.jsxs("div",{className:"w-full max-w-md bg-gray-200 dark:bg-gray-700 rounded-full h-8 overflow-hidden mb-8 relative",children:[E.jsx("div",{className:"h-full bg-kid-primary transition-all duration-100",style:{width:`${i}%`}}),E.jsxs("div",{className:"absolute inset-0 flex items-center justify-center font-bold text-gray-600 dark:text-gray-300 text-sm",children:[i,"%"]})]}),E.jsx(ot.div,{animate:{rotate:[0,10,-10,0]},transition:{repeat:1/0,duration:2},className:"text-6xl inline-block",children:""})]}),m==="RESULT"&&E.jsxs("div",{className:"text-center space-y-6 max-w-2xl mx-auto py-8",children:[E.jsx("h3",{className:"text-3xl font-black text-gray-800 dark:text-white",children:f("lemonade.complete")}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/30 p-4 rounded-xl border border-blue-100 dark:border-blue-800",children:[E.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 font-bold",children:f("lemonade.sold")}),E.jsx("div",{className:"text-2xl md:text-3xl font-black text-blue-600 dark:text-blue-400",children:p.sold})]}),E.jsxs("div",{className:"bg-green-50 dark:bg-green-900/30 p-4 rounded-xl border border-green-100 dark:border-green-800",children:[E.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 font-bold",children:f("lemonade.profit")}),E.jsxs("div",{className:"text-2xl md:text-3xl font-black text-green-600 dark:text-green-400",children:["+$",p.profit.toFixed(2)]}),p.skillBonus>0&&E.jsxs("div",{className:"text-xs font-bold text-green-500 mt-1 flex items-center justify-center gap-1",children:[E.jsx(gs,{size:10})," +$",p.skillBonus.toFixed(2)," ",f("lemonade.skill_bonus")]})]})]}),E.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-6 rounded-xl border border-yellow-100 dark:border-yellow-800 text-left rtl:text-right flex gap-4",children:[E.jsx("div",{className:"text-4xl",children:""}),E.jsxs("div",{children:[E.jsx("div",{className:"font-bold text-yellow-800 dark:text-yellow-400 text-sm uppercase tracking-wide mb-1",children:f("lemonade.ollie_says")}),E.jsxs("p",{className:"text-gray-800 dark:text-gray-200 font-medium italic text-sm md:text-base",children:['"',p.feedback,'"']})]})]}),E.jsxs("button",{onClick:()=>w("PREP"),className:"px-8 py-3 bg-kid-accent text-white font-black rounded-xl shadow-[0_4px_0_0_rgba(30,58,138,1)] btn-juicy flex items-center gap-2 mx-auto text-lg",children:[E.jsx(Lw,{size:20})," ",f("lemonade.next_day")]})]})]})]})},qy=({icon:t,name:e,count:n,subtext:s,onBuy:m,price:w,originalPrice:r,btnText:x})=>E.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-2xl border-2 border-gray-100 dark:border-gray-700 flex flex-col items-center text-center",children:[E.jsx("div",{className:"text-3xl md:text-4xl mb-2",children:t}),E.jsx("div",{className:"font-bold text-gray-800 dark:text-white text-base md:text-lg",children:e}),E.jsx("div",{className:"text-xl md:text-2xl font-black text-gray-900 dark:text-gray-100 my-1",children:n}),E.jsx("div",{className:"text-[10px] md:text-xs text-gray-400 dark:text-gray-400 font-bold mb-4",children:s}),E.jsxs("button",{onClick:m,className:"w-full py-2 bg-white dark:bg-gray-700 border-2 border-kid-secondary text-kid-secondary dark:text-kid-secondary font-bold rounded-xl hover:bg-kid-secondary hover:text-white dark:hover:text-white transition-colors relative text-sm",children:[x," ",w,r&&E.jsxs("span",{className:"absolute -top-3 -right-2 bg-red-500 text-white text-[10px] px-1.5 py-0.5 rounded-full line-through opacity-80",children:["$",r.toFixed(2)]})]})]}),hB=["#FFC800","#F59E0B","#58CC02","#10B981","#2B70C9","#3B82F6","#6366F1","#EF4444","#EC4899","#8B5CF6","#14B8A6","#64748B","#000000","#FFFFFF"],cB=[{id:"rocket",icon:Jo,label:"Rocket"},{id:"pizza",icon:iL,label:"Pizza"},{id:"star",icon:pn,label:"Star"},{id:"smile",icon:Mw,label:"Happy"},{id:"bulb",icon:_N,label:"Idea"},{id:"coffee",icon:XN,label:"Cafe"},{id:"music",icon:Fw,label:"Music"},{id:"camera",icon:jN,label:"Media"},{id:"globe",icon:Bw,label:"Global"},{id:"anchor",icon:QN,label:"Marine"},{id:"cpu",icon:WN,label:"Tech"},{id:"car",icon:VN,label:"Auto"},{id:"zap",icon:gs,label:"Energy"}],iie=({onBack:t})=>{var c;const{user:e,updateBusinessLogo:n,completeGame:s}=Mt(),{t:m}=Ri(),[w,r]=de.useState((e==null?void 0:e.businessLogo)||{companyName:"My Business",backgroundColor:"#FFC800",icon:"rocket",iconColor:"#FFFFFF",shape:"circle"}),[x,i]=de.useState(!1),a=()=>{n(w),s(100,25),i(!0),setTimeout(()=>{i(!1),t()},1500)},p=((c=cB.find(o=>o.id===w.icon))==null?void 0:c.icon)||Jo;return E.jsxs("div",{className:"bg-white rounded-3xl shadow-xl overflow-hidden border border-gray-200 flex flex-col md:flex-row h-[calc(100vh-140px)] md:h-[calc(100vh-100px)]",children:[E.jsxs("div",{className:"w-full md:w-1/3 bg-gray-50 p-4 md:p-6 border-b md:border-b-0 md:border-r border-gray-200 overflow-y-auto custom-scrollbar shrink-0",children:[E.jsxs("div",{className:"flex items-center gap-2 mb-4 md:mb-6",children:[E.jsxs("button",{onClick:t,className:"text-gray-400 font-bold hover:text-gray-600 flex items-center gap-1 rtl:flex-row-reverse",children:[E.jsx("span",{className:"rtl:rotate-180",children:""})," ",m("common.back")]}),E.jsx("h2",{className:"text-xl md:text-2xl font-black text-gray-800",children:m("brand.title")})]}),E.jsxs("div",{className:"space-y-4 md:space-y-6",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs md:text-sm font-bold text-gray-500 mb-2 uppercase",children:m("brand.label_name")}),E.jsx("input",{type:"text",maxLength:15,value:w.companyName,onChange:o=>r({...w,companyName:o.target.value}),className:"w-full p-3 rounded-xl border-2 border-gray-200 font-bold text-gray-800 focus:border-kid-accent outline-none",placeholder:"Kid Inc."})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs md:text-sm font-bold text-gray-500 mb-2 uppercase",children:m("brand.label_shape")}),E.jsxs("div",{className:"flex gap-4 bg-white p-2 rounded-xl border border-gray-200",children:[E.jsx("button",{onClick:()=>r({...w,shape:"circle"}),className:`flex-1 p-2 rounded-lg flex justify-center ${w.shape==="circle"?"bg-kid-primary text-yellow-900":"text-gray-400"}`,children:E.jsx(a9,{size:24,fill:w.shape==="circle"?"currentColor":"none"})}),E.jsx("button",{onClick:()=>r({...w,shape:"rounded"}),className:`flex-1 p-2 rounded-lg flex justify-center ${w.shape==="rounded"?"bg-kid-primary text-yellow-900":"text-gray-400"}`,children:E.jsx(TD,{size:24,fill:w.shape==="rounded"?"currentColor":"none"})}),E.jsx("button",{onClick:()=>r({...w,shape:"square"}),className:`flex-1 p-2 rounded-lg flex justify-center ${w.shape==="square"?"bg-kid-primary text-yellow-900":"text-gray-400"}`,children:E.jsx(X7,{size:24,fill:w.shape==="square"?"currentColor":"none"})})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs md:text-sm font-bold text-gray-500 mb-2 uppercase",children:m("brand.label_bg")}),E.jsx("div",{className:"flex flex-wrap gap-2",children:hB.map(o=>E.jsx("button",{onClick:()=>r({...w,backgroundColor:o}),className:`w-8 h-8 rounded-full border-4 transition-transform hover:scale-110 ${w.backgroundColor===o?"border-gray-800 scale-110":"border-white shadow-sm"}`,style:{backgroundColor:o}},o))})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs md:text-sm font-bold text-gray-500 mb-2 uppercase",children:m("brand.label_icon")}),E.jsx("div",{className:"grid grid-cols-4 gap-2 bg-white p-2 rounded-xl border border-gray-200 h-32 md:h-48 overflow-y-auto custom-scrollbar",children:cB.map(o=>E.jsx("button",{onClick:()=>r({...w,icon:o.id}),className:`flex flex-col items-center justify-center p-2 rounded-xl border-2 transition-all
                                ${w.icon===o.id?"bg-blue-50 border-kid-accent text-kid-accent shadow-sm":"bg-white border-transparent hover:bg-gray-50 text-gray-500"}
                            `,children:E.jsx(o.icon,{size:24})},o.id))})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs md:text-sm font-bold text-gray-500 mb-2 uppercase",children:m("brand.label_color")}),E.jsx("div",{className:"flex flex-wrap gap-2",children:hB.map(o=>E.jsx("button",{onClick:()=>r({...w,iconColor:o}),className:`w-8 h-8 rounded-full border-4 transition-transform hover:scale-110 ${w.iconColor===o?"border-gray-800 scale-110":"border-white shadow-sm"}`,style:{backgroundColor:o}},o))})]}),E.jsx("button",{onClick:a,disabled:x,className:`w-full py-4 rounded-xl font-black text-lg flex items-center justify-center gap-2 btn-juicy transition-all mt-4 mb-8 md:mb-0
                    ${x?"bg-green-500 text-white":"bg-kid-primary text-yellow-900 shadow-[0_4px_0_0_rgba(202,138,4,1)] hover:bg-yellow-400"}
                `,children:x?m("brand.saved"):E.jsxs(E.Fragment,{children:[E.jsx(Zv,{size:20})," ",m("brand.save")]})})]})]}),E.jsxs("div",{className:"flex-1 flex items-center justify-center bg-gray-100 p-8 relative",children:[E.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"radial-gradient(#cbd5e1 1px, transparent 1px)",backgroundSize:"20px 20px"}}),E.jsxs("div",{className:"relative text-center",children:[E.jsx("div",{className:`w-48 h-48 md:w-64 md:h-64 flex items-center justify-center shadow-2xl mb-8 mx-auto transition-all duration-300 border-4 border-white
                    ${w.shape==="circle"?"rounded-full":w.shape==="rounded"?"rounded-3xl":"rounded-none"}
                `,style:{backgroundColor:w.backgroundColor},children:E.jsx(p,{size:100,color:w.iconColor,strokeWidth:2.5,className:"drop-shadow-md md:w-[120px] md:h-[120px]"})}),E.jsx("h1",{className:"text-4xl md:text-5xl font-black text-gray-800 tracking-tight drop-shadow-sm",children:w.companyName}),E.jsxs("p",{className:"text-gray-500 font-bold mt-3 uppercase tracking-widest text-xs md:text-sm flex items-center justify-center gap-2",children:[E.jsx("span",{className:"w-8 h-[2px] bg-gray-300"})," ",m("brand.est")," ",E.jsx("span",{className:"w-8 h-[2px] bg-gray-300"})]})]})]})]})};var oI={exports:{}};(function(t,e){(function(s,m){t.exports=m()})(i8,()=>(()=>{var n={50792:r=>{var x=Object.prototype.hasOwnProperty,i="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(i=!1));function p(l,d,f){this.fn=l,this.context=d,this.once=f||!1}function c(l,d,f,h,A){if(typeof f!="function")throw new TypeError("The listener must be a function");var g=new p(f,h||l,A),v=i?i+d:d;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],g]:l._events[v].push(g):(l._events[v]=g,l._eventsCount++),l}function o(l,d){--l._eventsCount===0?l._events=new a:delete l._events[d]}function u(){this._events=new a,this._eventsCount=0}u.prototype.eventNames=function(){var d=[],f,h;if(this._eventsCount===0)return d;for(h in f=this._events)x.call(f,h)&&d.push(i?h.slice(1):h);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},u.prototype.listeners=function(d){var f=i?i+d:d,h=this._events[f];if(!h)return[];if(h.fn)return[h.fn];for(var A=0,g=h.length,v=new Array(g);A<g;A++)v[A]=h[A].fn;return v},u.prototype.listenerCount=function(d){var f=i?i+d:d,h=this._events[f];return h?h.fn?1:h.length:0},u.prototype.emit=function(d,f,h,A,g,v){var y=i?i+d:d;if(!this._events[y])return!1;var C=this._events[y],b=arguments.length,T,S;if(C.fn){switch(C.once&&this.removeListener(d,C.fn,void 0,!0),b){case 1:return C.fn.call(C.context),!0;case 2:return C.fn.call(C.context,f),!0;case 3:return C.fn.call(C.context,f,h),!0;case 4:return C.fn.call(C.context,f,h,A),!0;case 5:return C.fn.call(C.context,f,h,A,g),!0;case 6:return C.fn.call(C.context,f,h,A,g,v),!0}for(S=1,T=new Array(b-1);S<b;S++)T[S-1]=arguments[S];C.fn.apply(C.context,T)}else{var F=C.length,B;for(S=0;S<F;S++)switch(C[S].once&&this.removeListener(d,C[S].fn,void 0,!0),b){case 1:C[S].fn.call(C[S].context);break;case 2:C[S].fn.call(C[S].context,f);break;case 3:C[S].fn.call(C[S].context,f,h);break;case 4:C[S].fn.call(C[S].context,f,h,A);break;default:if(!T)for(B=1,T=new Array(b-1);B<b;B++)T[B-1]=arguments[B];C[S].fn.apply(C[S].context,T)}}return!0},u.prototype.on=function(d,f,h){return c(this,d,f,h,!1)},u.prototype.once=function(d,f,h){return c(this,d,f,h,!0)},u.prototype.removeListener=function(d,f,h,A){var g=i?i+d:d;if(!this._events[g])return this;if(!f)return o(this,g),this;var v=this._events[g];if(v.fn)v.fn===f&&(!A||v.once)&&(!h||v.context===h)&&o(this,g);else{for(var y=0,C=[],b=v.length;y<b;y++)(v[y].fn!==f||A&&!v[y].once||h&&v[y].context!==h)&&C.push(v[y]);C.length?this._events[g]=C.length===1?C[0]:C:o(this,g)}return this},u.prototype.removeAllListeners=function(d){var f;return d?(f=i?i+d:d,this._events[f]&&o(this,f)):(this._events=new a,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=i,u.EventEmitter=u,r.exports=u},11517:(r,x,i)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(38829),p=function(c,o,u,l){for(var d=c[0],f=1;f<c.length;f++){var h=c[f];a(h,d,o,u,l),d=h}return c};r.exports=p},80318:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(66979),p=function(c,o,u,l,d){return a(c,"angle",o,u,l,d)};r.exports=p},60757:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p){for(var c=0;c<i.length;c++){var o=i[c];a.call(p,o)}return i};r.exports=x},69927:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p){p===void 0&&(p=0);for(var c=p;c<i.length;c++){var o=i[c],u=!0;for(var l in a)o[l]!==a[l]&&(u=!1);if(u)return o}return null};r.exports=x},32265:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p){p===void 0&&(p=0);for(var c=i.length-1;c>=p;c--){var o=i[c],u=!0;for(var l in a)o[l]!==a[l]&&(u=!1);if(u)return o}return null};r.exports=x},94420:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(11879),p=i(60461),c=i(95540),o=i(29747),u=i(41481),l=new u({sys:{queueDepthSort:o,events:{once:o}}},0,0,1,1).setOrigin(0,0),d=function(f,h){h===void 0&&(h={});var A=h.hasOwnProperty("width"),g=h.hasOwnProperty("height"),v=c(h,"width",-1),y=c(h,"height",-1),C=c(h,"cellWidth",1),b=c(h,"cellHeight",C),T=c(h,"position",p.TOP_LEFT),S=c(h,"x",0),F=c(h,"y",0),B=0,N=0,L=v*C,R=y*b;l.setPosition(S,F),l.setSize(C,b);for(var I=0;I<f.length;I++)if(a(f[I],l,T),A&&v===-1)l.x+=C;else if(g&&y===-1)l.y+=b;else if(g&&!A){if(N+=b,l.y+=b,N===R&&(N=0,B+=C,l.y=F,l.x+=C,B===L))break}else if(B+=C,l.x+=C,B===L&&(B=0,N+=b,l.x=S,l.y+=b,N===R))break;return f};r.exports=d},41721:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(66979),p=function(c,o,u,l,d){return a(c,"alpha",o,u,l,d)};r.exports=p},67285:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(66979),p=function(c,o,u,l,d){return a(c,"x",o,u,l,d)};r.exports=p},9074:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(66979),p=function(c,o,u,l,d,f,h){return u==null&&(u=o),a(c,"x",o,l,f,h),a(c,"y",u,d,f,h)};r.exports=p},75222:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(66979),p=function(c,o,u,l,d){return a(c,"y",o,u,l,d)};r.exports=p},22983:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p,c){p===void 0&&(p=0),c===void 0&&(c=6.28);for(var o=p,u=(c-p)/i.length,l=a.x,d=a.y,f=a.radius,h=0;h<i.length;h++)i[h].x=l+f*Math.cos(o),i[h].y=d+f*Math.sin(o),o+=u;return i};r.exports=x},95253:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p,c){p===void 0&&(p=0),c===void 0&&(c=6.28);for(var o=p,u=(c-p)/i.length,l=a.width/2,d=a.height/2,f=0;f<i.length;f++)i[f].x=a.x+l*Math.cos(o),i[f].y=a.y+d*Math.sin(o),o+=u;return i};r.exports=x},88505:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(15258),p=i(26708),c=function(o,u,l){var d;l?d=p(u,l,o.length):d=a(u,o.length);for(var f=0;f<o.length;f++){var h=o[f],A=d[f];h.x=A.x,h.y=A.y}return o};r.exports=c},41346:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(14649),p=i(86003),c=i(49498),o=function(u,l,d){d===void 0&&(d=0);var f=a(l,!1,u.length);d>0?p(f,d):d<0&&c(f,Math.abs(d));for(var h=0;h<u.length;h++)u[h].x=f[h].x,u[h].y=f[h].y;return u};r.exports=o},11575:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(84993),p=function(c,o,u){var l=a({x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2},u),d=a({x1:o.x2,y1:o.y2,x2:o.x3,y2:o.y3},u),f=a({x1:o.x3,y1:o.y3,x2:o.x1,y2:o.y1},u);l.pop(),d.pop(),f.pop(),l=l.concat(d,f);for(var h=l.length/c.length,A=0,g=0;g<c.length;g++){var v=c[g],y=l[Math.floor(A)];v.x=y.x,v.y=y.y,A+=h}return c};r.exports=p},29953:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p){for(var c=0;c<i.length;c++){var o=i[c];o.anims&&o.anims.play(a,p)}return i};r.exports=x},66979:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p,c,o,u){c===void 0&&(c=0),o===void 0&&(o=0),u===void 0&&(u=1);var l,d=0,f=i.length;if(u===1)for(l=o;l<f;l++)i[l][a]+=p+d*c,d++;else for(l=o;l>=0;l--)i[l][a]+=p+d*c,d++;return i};r.exports=x},43967:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p,c,o,u){c===void 0&&(c=0),o===void 0&&(o=0),u===void 0&&(u=1);var l,d=0,f=i.length;if(u===1)for(l=o;l<f;l++)i[l][a]=p+d*c,d++;else for(l=o;l>=0;l--)i[l][a]=p+d*c,d++;return i};r.exports=x},88926:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(28176),p=function(c,o){for(var u=0;u<c.length;u++)a(o,c[u]);return c};r.exports=p},33286:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(24820),p=function(c,o){for(var u=0;u<c.length;u++)a(o,c[u]);return c};r.exports=p},96e3:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(65822),p=function(c,o){for(var u=0;u<c.length;u++)a(o,c[u]);return c};r.exports=p},28789:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(26597),p=function(c,o){for(var u=0;u<c.length;u++)a(o,c[u]);return c};r.exports=p},97154:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(90260),p=function(c,o){for(var u=0;u<c.length;u++)a(o,c[u]);return c};r.exports=p},20510:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(66979),p=function(c,o,u,l,d){return a(c,"rotation",o,u,l,d)};r.exports=p},91051:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(1163),p=i(20339),c=function(o,u,l){for(var d=u.x,f=u.y,h=0;h<o.length;h++){var A=o[h];a(A,d,f,l,Math.max(1,p(A.x,A.y,d,f)))}return o};r.exports=c},76332:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(1163),p=function(c,o,u,l){var d=o.x,f=o.y;if(l===0)return c;for(var h=0;h<c.length;h++)a(c[h],d,f,u,l);return c};r.exports=p},61619:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(66979),p=function(c,o,u,l,d){return a(c,"scaleX",o,u,l,d)};r.exports=p},94868:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(66979),p=function(c,o,u,l,d,f,h){return u==null&&(u=o),a(c,"scaleX",o,l,f,h),a(c,"scaleY",u,d,f,h)};r.exports=p},95532:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(66979),p=function(c,o,u,l,d){return a(c,"scaleY",o,u,l,d)};r.exports=p},8689:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(43967),p=function(c,o,u,l,d){return a(c,"alpha",o,u,l,d)};r.exports=p},2645:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(43967),p=function(c,o,u,l){return a(c,"blendMode",o,0,u,l)};r.exports=p},32372:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(43967),p=function(c,o,u,l,d){return a(c,"depth",o,u,l,d)};r.exports=p},85373:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p){for(var c=0;c<i.length;c++)i[c].setInteractive(a,p);return i};r.exports=x},81583:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(43967),p=function(c,o,u,l,d,f,h){return u==null&&(u=o),a(c,"originX",o,l,f,h),a(c,"originY",u,d,f,h),c.forEach(function(A){A.updateDisplayOrigin()}),c};r.exports=p},79939:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(43967),p=function(c,o,u,l,d){return a(c,"rotation",o,u,l,d)};r.exports=p},2699:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(43967),p=function(c,o,u,l,d,f,h){return u==null&&(u=o),a(c,"scaleX",o,l,f,h),a(c,"scaleY",u,d,f,h)};r.exports=p},98739:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(43967),p=function(c,o,u,l,d){return a(c,"scaleX",o,u,l,d)};r.exports=p},98476:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(43967),p=function(c,o,u,l,d){return a(c,"scaleY",o,u,l,d)};r.exports=p},6207:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(43967),p=function(c,o,u,l,d,f,h){return u==null&&(u=o),a(c,"scrollFactorX",o,l,f,h),a(c,"scrollFactorY",u,d,f,h)};r.exports=p},6607:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(43967),p=function(c,o,u,l,d){return a(c,"scrollFactorX",o,u,l,d)};r.exports=p},72248:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(43967),p=function(c,o,u,l,d){return a(c,"scrollFactorY",o,u,l,d)};r.exports=p},14036:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p,c,o){for(var u=0;u<i.length;u++)i[u].setTint(a,p,c,o);return i};r.exports=x},50159:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(43967),p=function(c,o,u,l){return a(c,"visible",o,0,u,l)};r.exports=p},77597:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(43967),p=function(c,o,u,l,d){return a(c,"x",o,u,l,d)};r.exports=p},83194:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(43967),p=function(c,o,u,l,d,f,h){return u==null&&(u=o),a(c,"x",o,l,f,h),a(c,"y",u,d,f,h)};r.exports=p},67678:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(43967),p=function(c,o,u,l,d){return a(c,"y",o,u,l,d)};r.exports=p},35850:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(26099),p=function(c,o,u,l,d){l===void 0&&(l=0),d===void 0&&(d=new a);var f,h,A=c.length;if(A===1)f=c[0].x,h=c[0].y,c[0].x=o,c[0].y=u;else{var g=1,v=0;l===0&&(v=A-1,g=A-2),f=c[v].x,h=c[v].y,c[v].x=o,c[v].y=u;for(var y=0;y<A;y++)if(!(g>=A||g===-1)){var C=c[g],b=C.x,T=C.y;C.x=f,C.y=h,f=b,h=T,l===0?g--:g++}}return d.x=f,d.y=h,d};r.exports=p},8628:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(33680),p=function(c){return a(c)};r.exports=p},21837:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(7602),p=function(c,o,u,l,d){d===void 0&&(d=!1);var f=Math.abs(l-u)/c.length,h;if(d)for(h=0;h<c.length;h++)c[h][o]+=a(h*f,u,l);else for(h=0;h<c.length;h++)c[h][o]=a(h*f,u,l);return c};r.exports=p},21910:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(54261),p=function(c,o,u,l,d){d===void 0&&(d=!1);var f=Math.abs(l-u)/c.length,h;if(d)for(h=0;h<c.length;h++)c[h][o]+=a(h*f,u,l);else for(h=0;h<c.length;h++)c[h][o]=a(h*f,u,l);return c};r.exports=p},62054:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p,c,o){if(o===void 0&&(o=!1),i.length===0)return i;if(i.length===1)return o?i[0][a]+=(c+p)/2:i[0][a]=(c+p)/2,i;var u=Math.abs(c-p)/(i.length-1),l;if(o)for(l=0;l<i.length;l++)i[l][a]+=l*u+p;else for(l=0;l<i.length;l++)i[l][a]=l*u+p;return i};r.exports=x},79815:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){for(var a=0;a<i.length;a++)i[a].visible=!i[a].visible;return i};r.exports=x},39665:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       samme <samme.npm@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(15994),p=function(c,o,u){u===void 0&&(u=0);for(var l=0;l<c.length;l++){var d=c[l];d.x=a(d.x,o.left-u,o.right+u),d.y=a(d.y,o.top-u,o.bottom+u)}return c};r.exports=p},61061:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={AlignTo:i(11517),Angle:i(80318),Call:i(60757),GetFirst:i(69927),GetLast:i(32265),GridAlign:i(94420),IncAlpha:i(41721),IncX:i(67285),IncXY:i(9074),IncY:i(75222),PlaceOnCircle:i(22983),PlaceOnEllipse:i(95253),PlaceOnLine:i(88505),PlaceOnRectangle:i(41346),PlaceOnTriangle:i(11575),PlayAnimation:i(29953),PropertyValueInc:i(66979),PropertyValueSet:i(43967),RandomCircle:i(88926),RandomEllipse:i(33286),RandomLine:i(96e3),RandomRectangle:i(28789),RandomTriangle:i(97154),Rotate:i(20510),RotateAround:i(91051),RotateAroundDistance:i(76332),ScaleX:i(61619),ScaleXY:i(94868),ScaleY:i(95532),SetAlpha:i(8689),SetBlendMode:i(2645),SetDepth:i(32372),SetHitArea:i(85373),SetOrigin:i(81583),SetRotation:i(79939),SetScale:i(2699),SetScaleX:i(98739),SetScaleY:i(98476),SetScrollFactor:i(6207),SetScrollFactorX:i(6607),SetScrollFactorY:i(72248),SetTint:i(14036),SetVisible:i(50159),SetX:i(77597),SetXY:i(83194),SetY:i(67678),ShiftPosition:i(35850),Shuffle:i(8628),SmootherStep:i(21910),SmoothStep:i(21837),Spread:i(62054),ToggleVisible:i(79815),WrapInRectangle:i(39665)}},42099:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(45319),p=i(83419),c=i(74943),o=i(81957),u=i(41138),l=i(35154),d=i(90126),f=new p({initialize:function(A,g,v){this.manager=A,this.key=g,this.type="frame",this.frames=this.getFrames(A.textureManager,l(v,"frames",[]),l(v,"defaultTextureKey",null),l(v,"sortFrames",!0)),this.frameRate=l(v,"frameRate",null),this.duration=l(v,"duration",null),this.msPerFrame,this.skipMissedFrames=l(v,"skipMissedFrames",!0),this.delay=l(v,"delay",0),this.repeat=l(v,"repeat",0),this.repeatDelay=l(v,"repeatDelay",0),this.yoyo=l(v,"yoyo",!1),this.showBeforeDelay=l(v,"showBeforeDelay",!1),this.showOnStart=l(v,"showOnStart",!1),this.hideOnComplete=l(v,"hideOnComplete",!1),this.randomFrame=l(v,"randomFrame",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(c.PAUSE_ALL,this.pause,this),this.manager.on(c.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(h,A,g,v){g===null&&v===null?(h.frameRate=24,h.duration=24/A*1e3):g&&v===null?(h.duration=g,h.frameRate=A/(g/1e3)):(h.frameRate=v,h.duration=A/v*1e3),h.msPerFrame=1e3/h.frameRate},addFrame:function(h){return this.addFrameAt(this.frames.length,h)},addFrameAt:function(h,A){var g=this.getFrames(this.manager.textureManager,A);if(g.length>0){if(h===0)this.frames=g.concat(this.frames);else if(h===this.frames.length)this.frames=this.frames.concat(g);else{var v=this.frames.slice(0,h),y=this.frames.slice(h);this.frames=v.concat(g,y)}this.updateFrameSequence()}return this},checkFrame:function(h){return h>=0&&h<this.frames.length},getFirstTick:function(h){h.accumulator=0,h.nextTick=h.frameRate===h.currentAnim.frameRate&&h.currentFrame.duration||h.msPerFrame},getFrameAt:function(h){return this.frames[h]},getFrames:function(h,A,g,v){v===void 0&&(v=!0);var y=[],C,b,T=1,S,F;if(typeof A=="string"){if(F=A,!h.exists(F))return console.warn('Texture "%s" not found',F),y;var B=h.get(F),N=B.getFrameNames();v&&d(N),A=[],N.forEach(function(U){A.push({key:F,frame:U})})}if(!Array.isArray(A)||A.length===0)return y;for(S=0;S<A.length;S++){var L=A[S],R=l(L,"key",g);if(R){var I=l(L,"frame",0),M=h.getFrame(R,I);if(!M){console.warn('Texture "%s" not found',R);continue}b=new u(R,I,T,M),b.duration=l(L,"duration",0),b.isFirst=!C,C&&(C.nextFrame=b,b.prevFrame=C),y.push(b),C=b,T++}}if(y.length>0){b.isLast=!0,b.nextFrame=y[0],y[0].prevFrame=b;var P=1/(y.length-1);for(S=0;S<y.length;S++)y[S].progress=S*P}return y},getNextTick:function(h){h.accumulator-=h.nextTick,h.nextTick=h.frameRate===h.currentAnim.frameRate&&h.currentFrame.duration||h.msPerFrame},getFrameByProgress:function(h){return h=a(h,0,1),o(h,this.frames,"progress")},nextFrame:function(h){var A=h.currentFrame;A.isLast?h.yoyo?this.handleYoyoFrame(h,!1):h.repeatCounter>0?h.inReverse&&h.forward?h.forward=!1:this.repeatAnimation(h):h.complete():this.updateAndGetNextTick(h,A.nextFrame)},handleYoyoFrame:function(h,A){if(A||(A=!1),h.inReverse===!A&&h.repeatCounter>0){(h.repeatDelay===0||h.pendingRepeat)&&(h.forward=A),this.repeatAnimation(h);return}if(h.inReverse!==A&&h.repeatCounter===0){h.complete();return}h.forward=A;var g=A?h.currentFrame.nextFrame:h.currentFrame.prevFrame;this.updateAndGetNextTick(h,g)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(h){var A=h.currentFrame;A.isFirst?h.yoyo?this.handleYoyoFrame(h,!0):h.repeatCounter>0?h.inReverse&&!h.forward?this.repeatAnimation(h):(h.forward=!0,this.repeatAnimation(h)):h.complete():this.updateAndGetNextTick(h,A.prevFrame)},updateAndGetNextTick:function(h,A){h.setCurrentFrame(A),this.getNextTick(h)},removeFrame:function(h){var A=this.frames.indexOf(h);return A!==-1&&this.removeFrameAt(A),this},removeFrameAt:function(h){return this.frames.splice(h,1),this.updateFrameSequence(),this},repeatAnimation:function(h){if(h._pendingStop===2){if(h._pendingStopValue===0)return h.stop();h._pendingStopValue--}h.repeatDelay>0&&!h.pendingRepeat?(h.pendingRepeat=!0,h.accumulator-=h.nextTick,h.nextTick+=h.repeatDelay):(h.repeatCounter--,h.forward?h.setCurrentFrame(h.currentFrame.nextFrame):h.setCurrentFrame(h.currentFrame.prevFrame),h.isPlaying&&(this.getNextTick(h),h.handleRepeat()))},toJSON:function(){var h={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,randomFrame:this.randomFrame,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(A){h.frames.push(A.toJSON())}),h},updateFrameSequence:function(){for(var h=this.frames.length,A=1/(h-1),g,v=0;v<h;v++)g=this.frames[v],g.index=v+1,g.isFirst=!1,g.isLast=!1,g.progress=v*A,v===0?(g.isFirst=!0,h===1?(g.isLast=!0,g.nextFrame=g,g.prevFrame=g):(g.isLast=!1,g.prevFrame=this.frames[h-1],g.nextFrame=this.frames[v+1])):v===h-1&&h>1?(g.isLast=!0,g.prevFrame=this.frames[h-2],g.nextFrame=this.frames[0]):h>1&&(g.prevFrame=this.frames[v-1],g.nextFrame=this.frames[v+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(c.PAUSE_ALL,this.pause,this),this.manager.off(c.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var h=0;h<this.frames.length;h++)this.frames[h].destroy();this.frames=[],this.manager=null}});r.exports=f},41138:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=new a({initialize:function(o,u,l,d,f){f===void 0&&(f=!1),this.textureKey=o,this.textureFrame=u,this.index=l,this.frame=d,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=f},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});r.exports=p},60848:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(42099),p=i(83419),c=i(90330),o=i(50792),u=i(74943),l=i(8443),d=i(95540),f=i(35154),h=i(36383),A=i(20283),g=i(41836),v=new p({Extends:o,initialize:function(C){o.call(this),this.game=C,this.textureManager=null,this.globalTimeScale=1,this.anims=new c,this.mixes=new c,this.paused=!1,this.name="AnimationManager",C.events.once(l.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(l.DESTROY,this.destroy,this)},addMix:function(y,C,b){var T=this.anims,S=this.mixes,F=typeof y=="string"?y:y.key,B=typeof C=="string"?C:C.key;if(T.has(F)&&T.has(B)){var N=S.get(F);N||(N={}),N[B]=b,S.set(F,N)}return this},removeMix:function(y,C){var b=this.mixes,T=typeof y=="string"?y:y.key,S=b.get(T);if(S)if(C){var F=typeof C=="string"?C:C.key;S.hasOwnProperty(F)&&delete S[F]}else C||b.delete(T);return this},getMix:function(y,C){var b=this.mixes,T=typeof y=="string"?y:y.key,S=typeof C=="string"?C:C.key,F=b.get(T);return F&&F.hasOwnProperty(S)?F[S]:0},add:function(y,C){return this.anims.has(y)?(console.warn("Animation key exists: "+y),this):(C.key=y,this.anims.set(y,C),this.emit(u.ADD_ANIMATION,y,C),this)},exists:function(y){return this.anims.has(y)},createFromAseprite:function(y,C,b){var T=[],S=this.game.cache.json.get(y);if(!S)return console.warn("No Aseprite data found for: "+y),T;var F=this,B=f(S,"meta",null),N=f(S,"frames",null);if(B&&N){var L=f(B,"frameTags",[]);L.forEach(function(R){var I=[],M=d(R,"name",null),P=d(R,"from",0),U=d(R,"to",0),z=d(R,"direction","forward");if(M&&(!C||C&&C.indexOf(M)>-1)){for(var W=0,Z=P;Z<=U;Z++){var j=Z.toString(),H=N[j];if(H){var V=d(H,"duration",h.MAX_SAFE_INTEGER);I.push({key:y,frame:j,duration:V}),W+=V}}z==="reverse"&&(I=I.reverse());var k={key:M,frames:I,duration:W,yoyo:z==="pingpong"},X;b?b.anims&&(X=b.anims.create(k)):X=F.create(k),X&&T.push(X)}})}return T},create:function(y){var C=y.key,b=!1;return C&&(b=this.get(C),b?console.warn("AnimationManager key already exists: "+C):(b=new a(this,C,y),this.anims.set(C,b),this.emit(u.ADD_ANIMATION,C,b))),b},fromJSON:function(y,C){C===void 0&&(C=!1),C&&this.anims.clear(),typeof y=="string"&&(y=JSON.parse(y));var b=[];if(y.hasOwnProperty("anims")&&Array.isArray(y.anims)){for(var T=0;T<y.anims.length;T++)b.push(this.create(y.anims[T]));y.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=y.globalTimeScale)}else y.hasOwnProperty("key")&&y.type==="frame"&&b.push(this.create(y));return b},generateFrameNames:function(y,C){var b=f(C,"prefix",""),T=f(C,"start",0),S=f(C,"end",0),F=f(C,"suffix",""),B=f(C,"zeroPad",0),N=f(C,"outputArray",[]),L=f(C,"frames",!1);if(!this.textureManager.exists(y))return console.warn('Texture "%s" not found',y),N;var R=this.textureManager.get(y);if(!R)return N;var I;if(C)for(L||(L=A(T,S)),I=0;I<L.length;I++){var M=b+g(L[I],B,"0",1)+F;R.has(M)?N.push({key:y,frame:M}):console.warn('Frame "%s" not found in texture "%s"',M,y)}else for(L=R.getFrameNames(),I=0;I<L.length;I++)N.push({key:y,frame:L[I]});return N},generateFrameNumbers:function(y,C){var b=f(C,"start",0),T=f(C,"end",-1),S=f(C,"first",!1),F=f(C,"outputArray",[]),B=f(C,"frames",!1);if(!this.textureManager.exists(y))return console.warn('Texture "%s" not found',y),F;var N=this.textureManager.get(y);if(!N)return F;S&&N.has(S)&&F.push({key:y,frame:S}),B||(T===-1&&(T=N.frameTotal-2),B=A(b,T));for(var L=0;L<B.length;L++){var R=B[L];N.has(R)?F.push({key:y,frame:R}):console.warn('Frame "%s" not found in texture "%s"',R,y)}return F},get:function(y){return this.anims.get(y)},getAnimsFromTexture:function(y){for(var C=this.textureManager.get(y),b=C.key,T=this.anims.getArray(),S=[],F=0;F<T.length;F++)for(var B=T[F],N=B.frames,L=0;L<N.length;L++)if(N[L].textureKey===b){S.push(B.key);break}return S},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(u.PAUSE_ALL)),this},play:function(y,C){Array.isArray(C)||(C=[C]);for(var b=0;b<C.length;b++)C[b].anims.play(y);return this},staggerPlay:function(y,C,b,T){b===void 0&&(b=0),T===void 0&&(T=!0),Array.isArray(C)||(C=[C]);var S=C.length;T||S--;for(var F=0;F<C.length;F++){var B=b<0?Math.abs(b)*(S-F):b*F;C[F].anims.playAfterDelay(y,B)}return this},remove:function(y){var C=this.get(y);return C&&(this.emit(u.REMOVE_ANIMATION,y,C),this.anims.delete(y),this.removeMix(y)),C},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(u.RESUME_ALL)),this},toJSON:function(y){var C={anims:[],globalTimeScale:this.globalTimeScale};return y!==void 0&&y!==""?C.anims.push(this.anims.get(y).toJSON()):this.anims.each(function(b,T){C.anims.push(T.toJSON())}),C},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});r.exports=v},9674:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(42099),p=i(30976),c=i(83419),o=i(90330),u=i(74943),l=i(95540),d=new c({initialize:function(h){this.parent=h,this.animationManager=h.scene.sys.anims,this.animationManager.on(u.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.randomFrame=!1,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(f){var h=this.parent;if(f===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,h;Array.isArray(f)||(f=[f]);for(var A=0;A<f.length;A++){var g=f[A];this.nextAnim?this.nextAnimsQueue.push(g):this.nextAnim=g}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(f){this.isPlaying&&this.stop();var h=this.animationManager,A=typeof f=="string"?f:l(f,"key",null),g=this.exists(A)?this.get(A):h.get(A);if(!g)console.warn("Missing animation: "+A);else{this.currentAnim=g;var v=g.getTotalFrames(),y=l(f,"frameRate",g.frameRate),C=l(f,"duration",g.duration);g.calculateDuration(this,v,C,y),this.delay=l(f,"delay",g.delay),this.repeat=l(f,"repeat",g.repeat),this.repeatDelay=l(f,"repeatDelay",g.repeatDelay),this.yoyo=l(f,"yoyo",g.yoyo),this.showBeforeDelay=l(f,"showBeforeDelay",g.showBeforeDelay),this.showOnStart=l(f,"showOnStart",g.showOnStart),this.hideOnComplete=l(f,"hideOnComplete",g.hideOnComplete),this.skipMissedFrames=l(f,"skipMissedFrames",g.skipMissedFrames),this.randomFrame=l(f,"randomFrame",g.randomFrame),this.timeScale=l(f,"timeScale",this.timeScale);var b=l(f,"startFrame",0);b>v&&(b=0),this.randomFrame&&(b=p(0,v-1));var T=g.frames[b];b===0&&!this.forward&&(T=g.getLastFrame()),this.currentFrame=T}return this.parent},pause:function(f){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),f!==void 0&&this.setCurrentFrame(f),this.parent},resume:function(f){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),f!==void 0&&this.setCurrentFrame(f),this.parent},playAfterDelay:function(f,h){if(!this.isPlaying)this.delayCounter=h,this.play(f,!0);else{var A=this.nextAnim,g=this.nextAnimsQueue;A&&g.unshift(A),this.nextAnim=f,this._pendingStop=1,this._pendingStopValue=h}return this.parent},playAfterRepeat:function(f,h){if(h===void 0&&(h=1),!this.isPlaying)this.play(f);else{var A=this.nextAnim,g=this.nextAnimsQueue;A&&g.unshift(A),this.repeatCounter!==-1&&h>this.repeatCounter&&(h=this.repeatCounter),this.nextAnim=f,this._pendingStop=2,this._pendingStopValue=h}return this.parent},play:function(f,h){h===void 0&&(h=!1);var A=this.currentAnim,g=this.parent,v=typeof f=="string"?f:f.key;if(h&&this.isPlaying&&A.key===v)return g;if(A&&this.isPlaying){var y=this.animationManager.getMix(A.key,f);if(y>0)return this.playAfterDelay(f,y)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(f)},playReverse:function(f,h){h===void 0&&(h=!1);var A=typeof f=="string"?f:f.key;return h&&this.isPlaying&&this.currentAnim.key===A?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(f))},startAnimation:function(f){this.load(f);var h=this.currentAnim,A=this.parent;return h&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,h.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),A},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(u.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(u.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(u.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(u.ANIMATION_COMPLETE,u.ANIMATION_COMPLETE_KEY)},emitEvents:function(f,h){var A=this.currentAnim;if(A){var g=this.currentFrame,v=this.parent,y=g.textureFrame;v.emit(f,A,g,v,y),h&&v.emit(h+A.key,A,g,v,y)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var f=this.currentFrame;if(!f)return 0;var h=f.progress;return this.inReverse&&(h*=-1),h},setProgress:function(f){return this.forward||(f=1-f),this.setCurrentFrame(this.currentAnim.getFrameByProgress(f)),this.parent},setRepeat:function(f){return this.repeatCounter=f===-1?Number.MAX_VALUE:f,this.parent},globalRemove:function(f,h){h===void 0&&(h=this.currentAnim),this.isPlaying&&h.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(f,h){f===void 0&&(f=!1),h===void 0&&(h=!1);var A=this.currentAnim,g=this.parent;return A?(h&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),A.getFirstTick(this),this.emitEvents(u.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!f,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(A.frames[0]),this.parent):g},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var f=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(f)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var f=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(f)}return this.parent},stopAfterDelay:function(f){return this._pendingStop=1,this._pendingStopValue=f,this.parent},stopAfterRepeat:function(f){return f===void 0&&(f=1),this.repeatCounter!==-1&&f>this.repeatCounter&&(f=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=f,this.parent},stopOnFrame:function(f){return this._pendingStop=3,this._pendingStopValue=f,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(f,h){var A=this.currentAnim;if(!(!this.isPlaying||!A||A.paused)){if(this.accumulator+=h*this.timeScale*this.animationManager.globalTimeScale,this._pendingStop===1&&(this._pendingStopValue-=h,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?A.nextFrame(this):A.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var g=0;do this.forward?A.nextFrame(this):A.previousFrame(this),g++;while(this.isPlaying&&this.accumulator>this.nextTick&&g<60)}}},setCurrentFrame:function(f){var h=this.parent;return this.currentFrame=f,h.texture=f.frame.texture,h.frame=f.frame,h.isCropped&&h.frame.updateCropUVs(h._crop,h.flipX,h.flipY),f.setAlpha&&(h.alpha=f.alpha),h.setSizeToFrame(),h._originComponent&&(f.frame.customPivot?h.setOrigin(f.frame.pivotX,f.frame.pivotY):h.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(u.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===f&&this.stop()),h},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(f){return this.anims?this.anims.get(f):null},exists:function(f){return this.anims?this.anims.has(f):!1},create:function(f){var h=f.key,A=!1;return h&&(A=this.get(h),A?console.warn("Animation key already exists: "+h):(A=new a(this,h,f),this.anims||(this.anims=new o),this.anims.set(h,A))),A},createFromAseprite:function(f,h){return this.animationManager.createFromAseprite(f,h,this.parent)},generateFrameNames:function(f,h){return this.animationManager.generateFrameNames(f,h)},generateFrameNumbers:function(f,h){return this.animationManager.generateFrameNumbers(f,h)},remove:function(f){var h=this.get(f);return h&&(this.currentAnim===h&&this.stop(),this.anims.delete(f)),h},destroy:function(){this.animationManager.off(u.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});r.exports=d},57090:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="add"},25312:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="animationcomplete"},89580:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="animationcomplete-"},52860:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="animationrepeat"},63850:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="animationrestart"},99085:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="animationstart"},28087:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="animationstop"},1794:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="animationupdate"},52562:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pauseall"},57953:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="remove"},68339:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="resumeall"},74943:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ADD_ANIMATION:i(57090),ANIMATION_COMPLETE:i(25312),ANIMATION_COMPLETE_KEY:i(89580),ANIMATION_REPEAT:i(52860),ANIMATION_RESTART:i(63850),ANIMATION_START:i(99085),ANIMATION_STOP:i(28087),ANIMATION_UPDATE:i(1794),PAUSE_ALL:i(52562),REMOVE_ANIMATION:i(57953),RESUME_ALL:i(68339)}},60421:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Animation:i(42099),AnimationFrame:i(41138),AnimationManager:i(60848),AnimationState:i(9674),Events:i(74943)}},2161:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(90330),c=i(50792),o=i(24736),u=new a({initialize:function(){this.entries=new p,this.events=new c},add:function(l,d){return this.entries.set(l,d),this.events.emit(o.ADD,this,l,d),this},has:function(l){return this.entries.has(l)},exists:function(l){return this.entries.has(l)},get:function(l){return this.entries.get(l)},remove:function(l){var d=this.get(l);return d&&(this.entries.delete(l),this.events.emit(o.REMOVE,this,l,d.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});r.exports=u},24047:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(2161),p=i(83419),c=i(8443),o=new p({initialize:function(l){this.game=l,this.binary=new a,this.bitmapFont=new a,this.json=new a,this.physics=new a,this.shader=new a,this.audio=new a,this.video=new a,this.text=new a,this.html=new a,this.obj=new a,this.tilemap=new a,this.xml=new a,this.custom={},this.game.events.once(c.DESTROY,this.destroy,this)},addCustom:function(u){return this.custom.hasOwnProperty(u)||(this.custom[u]=new a),this.custom[u]},destroy:function(){for(var u=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],l=0;l<u.length;l++)this[u[l]].destroy(),this[u[l]]=null;for(var d in this.custom)this.custom[d].destroy();this.custom=null,this.game=null}});r.exports=o},51464:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="add"},59261:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="remove"},24736:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ADD:i(51464),REMOVE:i(59261)}},83388:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={BaseCache:i(2161),CacheManager:i(24047),Events:i(24736)}},71911:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(31401),c=i(39506),o=i(50792),u=i(19715),l=i(87841),d=i(61340),f=i(80333),h=i(26099),A=new a({Extends:o,Mixins:[p.AlphaSingle,p.Visible],initialize:function(v,y,C,b){v===void 0&&(v=0),y===void 0&&(y=0),C===void 0&&(C=0),b===void 0&&(b=0),o.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new l,this.dirty=!0,this._x=v,this._y=y,this._width=C,this._height=b,this._bounds=new l,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new d,this.transparent=!0,this.backgroundColor=f("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new h(C/2,b/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0,this.renderRoundPixels=!0},addToRenderList:function(g){this.renderList.push(g)},setOrigin:function(g,v){return g===void 0&&(g=.5),v===void 0&&(v=g),this.originX=g,this.originY=v,this},getScroll:function(g,v,y){y===void 0&&(y=new h);var C=this.width*.5,b=this.height*.5;return y.x=g-C,y.y=v-b,this.useBounds&&(y.x=this.clampX(y.x),y.y=this.clampY(y.y)),y},centerOnX:function(g){var v=this.width*.5;return this.midPoint.x=g,this.scrollX=g-v,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(g){var v=this.height*.5;return this.midPoint.y=g,this.scrollY=g-v,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(g,v){return this.centerOnX(g),this.centerOnY(v),this},centerToBounds:function(){if(this.useBounds){var g=this._bounds,v=this.width*.5,y=this.height*.5;this.midPoint.set(g.centerX,g.centerY),this.scrollX=g.centerX-v,this.scrollY=g.centerY-y}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(g){if(this.disableCull)return g;var v=this.matrix.matrix,y=v[0],C=v[1],b=v[2],T=v[3],S=y*T-C*b;if(!S)return g;var F=v[4],B=v[5],N=this.scrollX,L=this.scrollY,R=this.width,I=this.height,M=this.y,P=M+I,U=this.x,z=U+R,W=this.culledObjects,Z=g.length;S=1/S,W.length=0;for(var j=0;j<Z;++j){var H=g[j];if(!H.hasOwnProperty("width")||H.parentContainer){W.push(H);continue}var V=H.width,k=H.height,X=H.x-N*H.scrollFactorX-V*H.originX,Q=H.y-L*H.scrollFactorY-k*H.originY,J=X*y+Q*b+F,$=X*C+Q*T+B,_=(X+V)*y+(Q+k)*b+F,te=(X+V)*C+(Q+k)*T+B;_>U&&J<z&&te>M&&$<P&&W.push(H)}return W},getWorldPoint:function(g,v,y){y===void 0&&(y=new h);var C=this.matrix.matrix,b=C[0],T=C[1],S=C[2],F=C[3],B=C[4],N=C[5],L=b*F-T*S;if(!L)return y.x=g,y.y=v,y;L=1/L;var R=F*L,I=-T*L,M=-S*L,P=b*L,U=(S*N-F*B)*L,z=(T*B-b*N)*L,W=Math.cos(this.rotation),Z=Math.sin(this.rotation),j=this.zoomX,H=this.zoomY,V=this.scrollX,k=this.scrollY,X=g+(V*W-k*Z)*j,Q=v+(V*Z+k*W)*H;return y.x=X*R+Q*M+U,y.y=X*I+Q*P+z,y},ignore:function(g){var v=this.id;Array.isArray(g)||(g=[g]);for(var y=0;y<g.length;y++){var C=g[y];Array.isArray(C)?this.ignore(C):C.isParent?this.ignore(C.getChildren()):C.cameraFilter|=v}return this},clampX:function(g){var v=this._bounds,y=this.displayWidth,C=v.x+(y-this.width)/2,b=Math.max(C,C+v.width-y);return g<C?g=C:g>b&&(g=b),g},clampY:function(g){var v=this._bounds,y=this.displayHeight,C=v.y+(y-this.height)/2,b=Math.max(C,C+v.height-y);return g<C?g=C:g>b&&(g=b),g},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(g){return g===void 0&&(g=0),this.rotation=c(g),this},setBackgroundColor:function(g){return g===void 0&&(g="rgba(0,0,0,0)"),this.backgroundColor=f(g),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(g,v,y,C,b){return b===void 0&&(b=!1),this._bounds.setTo(g,v,y,C),this.dirty=!0,this.useBounds=!0,b?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(g){g===void 0&&(g=new l);var v=this._bounds;return g.setTo(v.x,v.y,v.width,v.height),g},setName:function(g){return g===void 0&&(g=""),this.name=g,this},setPosition:function(g,v){return v===void 0&&(v=g),this.x=g,this.y=v,this},setRotation:function(g){return g===void 0&&(g=0),this.rotation=g,this},setRoundPixels:function(g){return this.roundPixels=g,this},setScene:function(g,v){v===void 0&&(v=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=g,this.isSceneCamera=v;var y=g.sys;return this.sceneManager=y.game.scene,this.scaleManager=y.scale,this.cameraManager=y.cameras,this.updateSystem(),this},setScroll:function(g,v){return v===void 0&&(v=g),this.scrollX=g,this.scrollY=v,this},setSize:function(g,v){return v===void 0&&(v=g),this.width=g,this.height=v,this},setViewport:function(g,v,y,C){return this.x=g,this.y=v,this.width=y,this.height=C,this},setZoom:function(g,v){return g===void 0&&(g=1),v===void 0&&(v=g),g===0&&(g=.001),v===0&&(v=.001),this.zoomX=g,this.zoomY=v,this},setMask:function(g,v){return v===void 0&&(v=!0),this.mask=g,this._maskCamera=v?this.cameraManager.default:this,this},clearMask:function(g){return g===void 0&&(g=!1),g&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var g={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(g.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),g},update:function(){},setIsSceneCamera:function(g){return this.isSceneCamera=g,this},updateSystem:function(){if(!(!this.scaleManager||!this.isSceneCamera)){var g=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,v=this.sceneManager;g&&!this._customViewport?v.customViewports++:!g&&this._customViewport&&v.customViewports--,this.dirty=!0,this._customViewport=g}},destroy:function(){this.emit(u.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(g){this._x=g,this.updateSystem()}},y:{get:function(){return this._y},set:function(g){this._y=g,this.updateSystem()}},width:{get:function(){return this._width},set:function(g){this._width=g,this.updateSystem()}},height:{get:function(){return this._height},set:function(g){this._height=g,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(g){g!==this._scrollX&&(this._scrollX=g,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(g){g!==this._scrollY&&(this._scrollY=g,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(g){this._zoomX=g,this._zoomY=g,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(g){this._zoomX=g,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(g){this._zoomY=g,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(g){this._rotation=g,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});r.exports=A},38058:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(71911),p=i(67502),c=i(45319),o=i(83419),u=i(31401),l=i(20052),d=i(19715),f=i(28915),h=i(87841),A=i(26099),g=new o({Extends:a,Mixins:[u.PostPipeline],initialize:function(y,C,b,T){a.call(this,y,C,b,T),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new l.Fade(this),this.flashEffect=new l.Flash(this),this.shakeEffect=new l.Shake(this),this.panEffect=new l.Pan(this),this.rotateToEffect=new l.RotateTo(this),this.zoomEffect=new l.Zoom(this),this.lerp=new A(1,1),this.followOffset=new A,this.deadzone=null,this._follow=null},setDeadzone:function(v,y){if(v===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=v,this.deadzone.height=y):this.deadzone=new h(0,0,v,y),this._follow){var C=this.width/2,b=this.height/2,T=this._follow.x-this.followOffset.x,S=this._follow.y-this.followOffset.y;this.midPoint.set(T,S),this.scrollX=T-C,this.scrollY=S-b}p(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(v,y,C,b,T,S){return this.fadeEffect.start(!1,v,y,C,b,!0,T,S)},fadeOut:function(v,y,C,b,T,S){return this.fadeEffect.start(!0,v,y,C,b,!0,T,S)},fadeFrom:function(v,y,C,b,T,S,F){return this.fadeEffect.start(!1,v,y,C,b,T,S,F)},fade:function(v,y,C,b,T,S,F){return this.fadeEffect.start(!0,v,y,C,b,T,S,F)},flash:function(v,y,C,b,T,S,F){return this.flashEffect.start(v,y,C,b,T,S,F)},shake:function(v,y,C,b,T){return this.shakeEffect.start(v,y,C,b,T)},pan:function(v,y,C,b,T,S,F){return this.panEffect.start(v,y,C,b,T,S,F)},rotateTo:function(v,y,C,b,T,S,F){return this.rotateToEffect.start(v,y,C,b,T,S,F)},zoomTo:function(v,y,C,b,T,S){return this.zoomEffect.start(v,y,C,b,T,S)},preRender:function(){this.renderList.length=0;var v=this.width,y=this.height,C=v*.5,b=y*.5,T=this.zoomX,S=this.zoomY,F=this.matrix;this.renderRoundPixels=this.roundPixels&&Number.isInteger(T)&&Number.isInteger(S);var B=v*this.originX,N=y*this.originY,L=this._follow,R=this.deadzone,I=this.scrollX,M=this.scrollY;R&&p(R,this.midPoint.x,this.midPoint.y);var P=!1;if(L&&!this.panEffect.isRunning){var U=this.lerp,z=L.x-this.followOffset.x,W=L.y-this.followOffset.y;R?(z<R.x?I=f(I,I-(R.x-z),U.x):z>R.right&&(I=f(I,I+(z-R.right),U.x)),W<R.y?M=f(M,M-(R.y-W),U.y):W>R.bottom&&(M=f(M,M+(W-R.bottom),U.y))):(I=f(I,z-B,U.x),M=f(M,W-N,U.y)),P=!0}this.roundPixels&&(I=Math.floor(I),M=Math.floor(M)),this.useBounds&&(I=this.clampX(I),M=this.clampY(M)),this.scrollX=I,this.scrollY=M;var Z=I+C,j=M+b;this.midPoint.set(Z,j);var H=Math.floor(v/T+.5),V=Math.floor(y/S+.5),k=Math.floor(Z-H/2+.5),X=Math.floor(j-V/2+.5);this.worldView.setTo(k,X,H,V),F.applyITRS(Math.floor(this.x+B+.5),Math.floor(this.y+N+.5),this.rotation,T,S),F.translate(-B,-N),this.shakeEffect.preRender(),P&&this.emit(d.FOLLOW_UPDATE,this,L)},setLerp:function(v,y){return v===void 0&&(v=1),y===void 0&&(y=v),this.lerp.set(v,y),this},setFollowOffset:function(v,y){return v===void 0&&(v=0),y===void 0&&(y=0),this.followOffset.set(v,y),this},startFollow:function(v,y,C,b,T,S){y===void 0&&(y=!1),C===void 0&&(C=1),b===void 0&&(b=C),T===void 0&&(T=0),S===void 0&&(S=T),this._follow=v,this.roundPixels=y,C=c(C,0,1),b=c(b,0,1),this.lerp.set(C,b),this.followOffset.set(T,S);var F=this.width/2,B=this.height/2,N=v.x-T,L=v.y-S;return this.midPoint.set(N,L),this.scrollX=N-F,this.scrollY=L-B,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(v,y){this.visible&&(this.rotateToEffect.update(v,y),this.panEffect.update(v,y),this.zoomEffect.update(v,y),this.shakeEffect.update(v,y),this.flashEffect.update(v,y),this.fadeEffect.update(v,y))},destroy:function(){this.resetFX(),a.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});r.exports=g},32743:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(38058),p=i(83419),c=i(95540),o=i(37277),u=i(37303),l=i(97480),d=i(44594),f=new p({initialize:function(A){this.scene=A,this.systems=A.sys,this.roundPixels=A.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,A.sys.events.once(d.BOOT,this.boot,this),A.sys.events.on(d.START,this.start,this)},boot:function(){var h=this.systems;h.settings.cameras?this.fromJSON(h.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new a(0,0,h.scale.width,h.scale.height).setScene(this.scene),h.game.scale.on(l.RESIZE,this.onResize,this),this.systems.events.once(d.DESTROY,this.destroy,this)},start:function(){if(!this.main){var h=this.systems;h.settings.cameras?this.fromJSON(h.settings.cameras):this.add(),this.main=this.cameras[0]}var A=this.systems.events;A.on(d.UPDATE,this.update,this),A.once(d.SHUTDOWN,this.shutdown,this)},add:function(h,A,g,v,y,C){h===void 0&&(h=0),A===void 0&&(A=0),g===void 0&&(g=this.scene.sys.scale.width),v===void 0&&(v=this.scene.sys.scale.height),y===void 0&&(y=!1),C===void 0&&(C="");var b=new a(h,A,g,v);return b.setName(C),b.setScene(this.scene),b.setRoundPixels(this.roundPixels),b.id=this.getNextID(),this.cameras.push(b),y&&(this.main=b),b},addExisting:function(h,A){A===void 0&&(A=!1);var g=this.cameras.indexOf(h);return g===-1?(h.id=this.getNextID(),h.setRoundPixels(this.roundPixels),this.cameras.push(h),A&&(this.main=h),h):null},getNextID:function(){for(var h=this.cameras,A=1,g=0;g<32;g++){for(var v=!1,y=0;y<h.length;y++){var C=h[y];if(C&&C.id===A){v=!0;continue}}if(v)A=A<<1;else return A}return 0},getTotal:function(h){h===void 0&&(h=!1);for(var A=0,g=this.cameras,v=0;v<g.length;v++){var y=g[v];(!h||h&&y.visible)&&A++}return A},fromJSON:function(h){Array.isArray(h)||(h=[h]);for(var A=this.scene.sys.scale.width,g=this.scene.sys.scale.height,v=0;v<h.length;v++){var y=h[v],C=c(y,"x",0),b=c(y,"y",0),T=c(y,"width",A),S=c(y,"height",g),F=this.add(C,b,T,S);F.name=c(y,"name",""),F.zoom=c(y,"zoom",1),F.rotation=c(y,"rotation",0),F.scrollX=c(y,"scrollX",0),F.scrollY=c(y,"scrollY",0),F.roundPixels=c(y,"roundPixels",!1),F.visible=c(y,"visible",!0);var B=c(y,"backgroundColor",!1);B&&F.setBackgroundColor(B);var N=c(y,"bounds",null);if(N){var L=c(N,"x",0),R=c(N,"y",0),I=c(N,"width",A),M=c(N,"height",g);F.setBounds(L,R,I,M)}}return this},getCamera:function(h){for(var A=this.cameras,g=0;g<A.length;g++)if(A[g].name===h)return A[g];return null},getCamerasBelowPointer:function(h){for(var A=this.cameras,g=h.x,v=h.y,y=[],C=0;C<A.length;C++){var b=A[C];b.visible&&b.inputEnabled&&u(b,g,v)&&y.unshift(b)}return y},remove:function(h,A){A===void 0&&(A=!0),Array.isArray(h)||(h=[h]);for(var g=0,v=this.cameras,y=0;y<h.length;y++){var C=v.indexOf(h[y]);C!==-1&&(A?v[C].destroy():v[C].renderList=[],v.splice(C,1),g++)}return!this.main&&v[0]&&(this.main=v[0]),g},render:function(h,A){for(var g=this.scene,v=this.cameras,y=0;y<v.length;y++){var C=v[y];if(C.visible&&C.alpha>0){C.preRender();var b=this.getVisibleChildren(A.getChildren(),C);h.render(g,b,C)}}},getVisibleChildren:function(h,A){return h.filter(function(g){return g.willRender(A)})},resetAll:function(){for(var h=0;h<this.cameras.length;h++)this.cameras[h].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(h,A){for(var g=0;g<this.cameras.length;g++)this.cameras[g].update(h,A)},onResize:function(h,A,g,v,y){for(var C=0;C<this.cameras.length;C++){var b=this.cameras[C];b._x===0&&b._y===0&&b._width===v&&b._height===y&&b.setSize(A.width,A.height)}},resize:function(h,A){for(var g=0;g<this.cameras.length;g++)this.cameras[g].setSize(h,A)},shutdown:function(){this.main=void 0;for(var h=0;h<this.cameras.length;h++)this.cameras[h].destroy();this.cameras=[];var A=this.systems.events;A.off(d.UPDATE,this.update,this),A.off(d.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(d.START,this.start,this),this.systems.events.off(d.DESTROY,this.destroy,this),this.systems.game.scale.off(l.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});o.register("CameraManager",f,"cameras"),r.exports=f},5020:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(45319),p=i(83419),c=i(19715),o=new p({initialize:function(l){this.camera=l,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(u,l,d,f,h,A,g,v){if(u===void 0&&(u=!0),l===void 0&&(l=1e3),d===void 0&&(d=0),f===void 0&&(f=0),h===void 0&&(h=0),A===void 0&&(A=!1),g===void 0&&(g=null),v===void 0&&(v=this.camera.scene),!A&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=l,this.direction=u,this.progress=0,this.red=d,this.green=f,this.blue=h,this.alpha=u?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=g,this._onUpdateScope=v;var y=u?c.FADE_OUT_START:c.FADE_IN_START;return this.camera.emit(y,this.camera,this,l,d,f,h),this.camera},update:function(u,l){this.isRunning&&(this._elapsed+=l,this.progress=a(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(u){if(!this.isRunning&&!this.isComplete)return!1;var l=this.camera;return u.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",u.fillRect(l.x,l.y,l.width,l.height),!0},postRenderWebGL:function(u,l){if(!this.isRunning&&!this.isComplete)return!1;var d=this.camera,f=this.red/255,h=this.green/255,A=this.blue/255;return u.drawFillRect(d.x,d.y,d.width,d.height,l(A,h,f,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var u=this.direction?c.FADE_OUT_COMPLETE:c.FADE_IN_COMPLETE;this.camera.emit(u,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});r.exports=o},10662:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(45319),p=i(83419),c=i(19715),o=new p({initialize:function(l){this.camera=l,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},start:function(u,l,d,f,h,A,g){return u===void 0&&(u=250),l===void 0&&(l=255),d===void 0&&(d=255),f===void 0&&(f=255),h===void 0&&(h=!1),A===void 0&&(A=null),g===void 0&&(g=this.camera.scene),!h&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=u,this.progress=0,this.red=l,this.green=d,this.blue=f,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=A,this._onUpdateScope=g,this.camera.emit(c.FLASH_START,this.camera,this,u,l,d,f),this.camera)},update:function(u,l){this.isRunning&&(this._elapsed+=l,this.progress=a(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(u){if(!this.isRunning)return!1;var l=this.camera;return u.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",u.fillRect(l.x,l.y,l.width,l.height),!0},postRenderWebGL:function(u,l){if(!this.isRunning)return!1;var d=this.camera,f=this.red/255,h=this.green/255,A=this.blue/255;return u.drawFillRect(d.x,d.y,d.width,d.height,l(A,h,f,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(c.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});r.exports=o},20359:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(45319),p=i(83419),c=i(62640),o=i(19715),u=i(26099),l=new p({initialize:function(f){this.camera=f,this.isRunning=!1,this.duration=0,this.source=new u,this.current=new u,this.destination=new u,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(d,f,h,A,g,v,y){h===void 0&&(h=1e3),A===void 0&&(A=c.Linear),g===void 0&&(g=!1),v===void 0&&(v=null),y===void 0&&(y=this.camera.scene);var C=this.camera;return!g&&this.isRunning||(this.isRunning=!0,this.duration=h,this.progress=0,this.source.set(C.scrollX,C.scrollY),this.destination.set(d,f),C.getScroll(d,f,this.current),typeof A=="string"&&c.hasOwnProperty(A)?this.ease=c[A]:typeof A=="function"&&(this.ease=A),this._elapsed=0,this._onUpdate=v,this._onUpdateScope=y,this.camera.emit(o.PAN_START,this.camera,this,h,d,f)),C},update:function(d,f){if(this.isRunning){this._elapsed+=f;var h=a(this._elapsed/this.duration,0,1);this.progress=h;var A=this.camera;if(this._elapsed<this.duration){var g=this.ease(h);A.getScroll(this.destination.x,this.destination.y,this.current);var v=this.source.x+(this.current.x-this.source.x)*g,y=this.source.y+(this.current.y-this.source.y)*g;A.setScroll(v,y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,A,h,v,y)}else A.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,A,h,A.scrollX,A.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(o.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});r.exports=l},34208:(r,x,i)=>{/**
 * @author       Jason Nicholls <nicholls.jason@gmail.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var a=i(45319),p=i(83419),c=i(19715),o=i(62640),u=new p({initialize:function(d){this.camera=d,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(l,d,f,h,A,g,v){f===void 0&&(f=1e3),h===void 0&&(h=o.Linear),A===void 0&&(A=!1),g===void 0&&(g=null),v===void 0&&(v=this.camera.scene),d===void 0&&(d=!1),this.shortestPath=d;var y=l;l<0?(y=-1*l,this.clockwise=!1):this.clockwise=!0;var C=360*Math.PI/180;y=y-Math.floor(y/C)*C;var b=this.camera;if(!A&&this.isRunning)return b;if(this.isRunning=!0,this.duration=f,this.progress=0,this.source=b.rotation,this.destination=y,typeof h=="string"&&o.hasOwnProperty(h)?this.ease=o[h]:typeof h=="function"&&(this.ease=h),this._elapsed=0,this._onUpdate=g,this._onUpdateScope=v,this.shortestPath){var T=0,S=0;this.destination>this.source?T=Math.abs(this.destination-this.source):T=Math.abs(this.destination+C)-this.source,this.source>this.destination?S=Math.abs(this.source-this.destination):S=Math.abs(this.source+C)-this.destination,T<S?this.clockwise=!0:T>S&&(this.clockwise=!1)}return this.camera.emit(c.ROTATE_START,this.camera,this,f,y),b},update:function(l,d){if(this.isRunning){this._elapsed+=d;var f=a(this._elapsed/this.duration,0,1);this.progress=f;var h=this.camera;if(this._elapsed<this.duration){var A=this.ease(f);this.current=h.rotation;var g=0,v=360*Math.PI/180,y=this.destination,C=this.current;this.clockwise===!1&&(y=this.current,C=this.destination),y>=C?g=Math.abs(y-C):g=Math.abs(y+v)-C;var b=0;this.clockwise?b=h.rotation+g*A:b=h.rotation-g*A,h.rotation=b,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,h,f,b)}else h.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,h,f,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(c.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});r.exports=u},30330:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(45319),p=i(83419),c=i(19715),o=i(26099),u=new p({initialize:function(d){this.camera=d,this.isRunning=!1,this.duration=0,this.intensity=new o,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(l,d,f,h,A){return l===void 0&&(l=100),d===void 0&&(d=.05),f===void 0&&(f=!1),h===void 0&&(h=null),A===void 0&&(A=this.camera.scene),!f&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=l,this.progress=0,typeof d=="number"?this.intensity.set(d):this.intensity.set(d.x,d.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=h,this._onUpdateScope=A,this.camera.emit(c.SHAKE_START,this.camera,this,l,d),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(l,d){if(this.isRunning)if(this._elapsed+=d,this.progress=a(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var f=this.intensity,h=this.camera.width,A=this.camera.height,g=this.camera.zoom;this._offsetX=(Math.random()*f.x*h*2-f.x*h)*g,this._offsetY=(Math.random()*f.y*A*2-f.y*A)*g,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(c.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});r.exports=u},45641:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(45319),p=i(83419),c=i(62640),o=i(19715),u=new p({initialize:function(d){this.camera=d,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(l,d,f,h,A,g){d===void 0&&(d=1e3),f===void 0&&(f=c.Linear),h===void 0&&(h=!1),A===void 0&&(A=null),g===void 0&&(g=this.camera.scene);var v=this.camera;return!h&&this.isRunning||(this.isRunning=!0,this.duration=d,this.progress=0,this.source=v.zoom,this.destination=l,typeof f=="string"&&c.hasOwnProperty(f)?this.ease=c[f]:typeof f=="function"&&(this.ease=f),this._elapsed=0,this._onUpdate=A,this._onUpdateScope=g,this.camera.emit(o.ZOOM_START,this.camera,this,d,l)),v},update:function(l,d){this.isRunning&&(this._elapsed+=d,this.progress=a(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(o.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});r.exports=u},20052:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Fade:i(5020),Flash:i(10662),Pan:i(20359),Shake:i(30330),RotateTo:i(34208),Zoom:i(45641)}},16438:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="cameradestroy"},32726:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerafadeincomplete"},87807:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerafadeinstart"},45917:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerafadeoutcomplete"},95666:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerafadeoutstart"},47056:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="cameraflashcomplete"},91261:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="cameraflashstart"},45047:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="followupdate"},81927:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerapancomplete"},74264:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerapanstart"},54419:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="postrender"},79330:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="prerender"},93183:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerarotatecomplete"},80112:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerarotatestart"},62252:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerashakecomplete"},86017:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerashakestart"},539:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerazoomcomplete"},51892:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerazoomstart"},19715:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={DESTROY:i(16438),FADE_IN_COMPLETE:i(32726),FADE_IN_START:i(87807),FADE_OUT_COMPLETE:i(45917),FADE_OUT_START:i(95666),FLASH_COMPLETE:i(47056),FLASH_START:i(91261),FOLLOW_UPDATE:i(45047),PAN_COMPLETE:i(81927),PAN_START:i(74264),POST_RENDER:i(54419),PRE_RENDER:i(79330),ROTATE_COMPLETE:i(93183),ROTATE_START:i(80112),SHAKE_COMPLETE:i(62252),SHAKE_START:i(86017),ZOOM_COMPLETE:i(539),ZOOM_START:i(51892)}},87969:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Camera:i(38058),BaseCamera:i(71911),CameraManager:i(32743),Effects:i(20052),Events:i(19715)}},63091:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(35154),c=new a({initialize:function(u){this.camera=p(u,"camera",null),this.left=p(u,"left",null),this.right=p(u,"right",null),this.up=p(u,"up",null),this.down=p(u,"down",null),this.zoomIn=p(u,"zoomIn",null),this.zoomOut=p(u,"zoomOut",null),this.zoomSpeed=p(u,"zoomSpeed",.01),this.minZoom=p(u,"minZoom",.001),this.maxZoom=p(u,"maxZoom",1e3),this.speedX=0,this.speedY=0;var l=p(u,"speed",null);typeof l=="number"?(this.speedX=l,this.speedY=l):(this.speedX=p(u,"speed.x",0),this.speedY=p(u,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(o){return this.camera=o,this},update:function(o){if(this.active){o===void 0&&(o=1);var u=this.camera;this.up&&this.up.isDown?u.scrollY-=this.speedY*o|0:this.down&&this.down.isDown&&(u.scrollY+=this.speedY*o|0),this.left&&this.left.isDown?u.scrollX-=this.speedX*o|0:this.right&&this.right.isDown&&(u.scrollX+=this.speedX*o|0),this.zoomIn&&this.zoomIn.isDown?(u.zoom-=this.zoomSpeed,u.zoom<this.minZoom&&(u.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(u.zoom+=this.zoomSpeed,u.zoom>this.maxZoom&&(u.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});r.exports=c},58818:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(35154),c=new a({initialize:function(u){this.camera=p(u,"camera",null),this.left=p(u,"left",null),this.right=p(u,"right",null),this.up=p(u,"up",null),this.down=p(u,"down",null),this.zoomIn=p(u,"zoomIn",null),this.zoomOut=p(u,"zoomOut",null),this.zoomSpeed=p(u,"zoomSpeed",.01),this.minZoom=p(u,"minZoom",.001),this.maxZoom=p(u,"maxZoom",1e3),this.accelX=0,this.accelY=0;var l=p(u,"acceleration",null);typeof l=="number"?(this.accelX=l,this.accelY=l):(this.accelX=p(u,"acceleration.x",0),this.accelY=p(u,"acceleration.y",0)),this.dragX=0,this.dragY=0;var d=p(u,"drag",null);typeof d=="number"?(this.dragX=d,this.dragY=d):(this.dragX=p(u,"drag.x",0),this.dragY=p(u,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var f=p(u,"maxSpeed",null);typeof f=="number"?(this.maxSpeedX=f,this.maxSpeedY=f):(this.maxSpeedX=p(u,"maxSpeed.x",0),this.maxSpeedY=p(u,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(o){return this.camera=o,this},update:function(o){if(this.active){o===void 0&&(o=1);var u=this.camera;this._speedX>0?(this._speedX-=this.dragX*o,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*o,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*o,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*o,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(u.scrollX-=this._speedX*o|0),this._speedY!==0&&(u.scrollY-=this._speedY*o|0),this._zoom!==0&&(u.zoom+=this._zoom,u.zoom<this.minZoom?u.zoom=this.minZoom:u.zoom>this.maxZoom&&(u.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});r.exports=c},38865:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={FixedKeyControl:i(63091),SmoothedKeyControl:i(58818)}},26638:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Controls:i(38865),Scene2D:i(87969)}},8054:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={VERSION:"3.90.0",LOG_VERSION:"v390",BlendModes:i(10312),ScaleModes:i(29795),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};r.exports=a},69547:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(8054),c=i(42363),o=i(82264),u=i(95540),l=i(35154),d=i(41212),f=i(29747),h=i(75508),A=i(36060),g=i(80333),v=new a({initialize:function(C){C===void 0&&(C={});var b=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],T="#ffffff",S=l(C,"scale",null);this.width=l(S,"width",1024,C),this.height=l(S,"height",768,C),this.zoom=l(S,"zoom",1,C),this.parent=l(S,"parent",void 0,C),this.scaleMode=l(S,S?"mode":"scaleMode",0,C),this.expandParent=l(S,"expandParent",!0,C),this.autoRound=l(S,"autoRound",!1,C),this.autoCenter=l(S,"autoCenter",0,C),this.resizeInterval=l(S,"resizeInterval",500,C),this.fullscreenTarget=l(S,"fullscreenTarget",null,C),this.minWidth=l(S,"min.width",0,C),this.maxWidth=l(S,"max.width",0,C),this.minHeight=l(S,"min.height",0,C),this.maxHeight=l(S,"max.height",0,C),this.snapWidth=l(S,"snap.width",0,C),this.snapHeight=l(S,"snap.height",0,C),this.renderType=l(C,"type",p.AUTO),this.canvas=l(C,"canvas",null),this.context=l(C,"context",null),this.canvasStyle=l(C,"canvasStyle",null),this.customEnvironment=l(C,"customEnvironment",!1),this.sceneConfig=l(C,"scene",null),this.seed=l(C,"seed",[(Date.now()*Math.random()).toString()]),h.RND=new h.RandomDataGenerator(this.seed),this.gameTitle=l(C,"title",""),this.gameURL=l(C,"url","https://phaser.io/"+p.LOG_VERSION),this.gameVersion=l(C,"version",""),this.autoFocus=l(C,"autoFocus",!0),this.stableSort=l(C,"stableSort",-1),this.stableSort===-1&&(this.stableSort=o.browser.es2019?1:0),o.features.stableSort=this.stableSort,this.domCreateContainer=l(C,"dom.createContainer",!1),this.domPointerEvents=l(C,"dom.pointerEvents","none"),this.inputKeyboard=l(C,"input.keyboard",!0),this.inputKeyboardEventTarget=l(C,"input.keyboard.target",window),this.inputKeyboardCapture=l(C,"input.keyboard.capture",[]),this.inputMouse=l(C,"input.mouse",!0),this.inputMouseEventTarget=l(C,"input.mouse.target",null),this.inputMousePreventDefaultDown=l(C,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=l(C,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=l(C,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=l(C,"input.mouse.preventDefaultWheel",!0),this.inputTouch=l(C,"input.touch",o.input.touch),this.inputTouchEventTarget=l(C,"input.touch.target",null),this.inputTouchCapture=l(C,"input.touch.capture",!0),this.inputActivePointers=l(C,"input.activePointers",1),this.inputSmoothFactor=l(C,"input.smoothFactor",0),this.inputWindowEvents=l(C,"input.windowEvents",!0),this.inputGamepad=l(C,"input.gamepad",!1),this.inputGamepadEventTarget=l(C,"input.gamepad.target",window),this.disableContextMenu=l(C,"disableContextMenu",!1),this.audio=l(C,"audio",{}),this.hideBanner=l(C,"banner",null)===!1,this.hidePhaser=l(C,"banner.hidePhaser",!1),this.bannerTextColor=l(C,"banner.text",T),this.bannerBackgroundColor=l(C,"banner.background",b),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=l(C,"fps",null),this.disablePreFX=l(C,"disablePreFX",!1),this.disablePostFX=l(C,"disablePostFX",!1);var F=l(C,"render",null);this.pipeline=l(F,"pipeline",null,C),this.autoMobilePipeline=l(F,"autoMobilePipeline",!0,C),this.defaultPipeline=l(F,"defaultPipeline",A.MULTI_PIPELINE,C),this.antialias=l(F,"antialias",!0,C),this.antialiasGL=l(F,"antialiasGL",!0,C),this.mipmapFilter=l(F,"mipmapFilter","",C),this.desynchronized=l(F,"desynchronized",!1,C),this.roundPixels=l(F,"roundPixels",!1,C),this.pixelArt=l(F,"pixelArt",this.zoom!==1,C),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=l(F,"transparent",!1,C),this.clearBeforeRender=l(F,"clearBeforeRender",!0,C),this.preserveDrawingBuffer=l(F,"preserveDrawingBuffer",!1,C),this.premultipliedAlpha=l(F,"premultipliedAlpha",!0,C),this.failIfMajorPerformanceCaveat=l(F,"failIfMajorPerformanceCaveat",!1,C),this.powerPreference=l(F,"powerPreference","default",C),this.batchSize=l(F,"batchSize",4096,C),this.maxTextures=l(F,"maxTextures",-1,C),this.maxLights=l(F,"maxLights",10,C);var B=l(C,"backgroundColor",0);this.backgroundColor=g(B),this.transparent&&(this.backgroundColor=g(0),this.backgroundColor.alpha=0),this.preBoot=l(C,"callbacks.preBoot",f),this.postBoot=l(C,"callbacks.postBoot",f),this.physics=l(C,"physics",{}),this.defaultPhysicsSystem=l(this.physics,"default",!1),this.loaderBaseURL=l(C,"loader.baseURL",""),this.loaderPath=l(C,"loader.path",""),this.loaderMaxParallelDownloads=l(C,"loader.maxParallelDownloads",o.os.android?6:32),this.loaderCrossOrigin=l(C,"loader.crossOrigin",void 0),this.loaderResponseType=l(C,"loader.responseType",""),this.loaderAsync=l(C,"loader.async",!0),this.loaderUser=l(C,"loader.user",""),this.loaderPassword=l(C,"loader.password",""),this.loaderTimeout=l(C,"loader.timeout",0),this.loaderMaxRetries=l(C,"loader.maxRetries",2),this.loaderWithCredentials=l(C,"loader.withCredentials",!1),this.loaderImageLoadType=l(C,"loader.imageLoadType","XHR"),this.loaderLocalScheme=l(C,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=l(C,"fx.glow.quality",.1),this.glowFXDistance=l(C,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var N=l(C,"plugins",null),L=c.DefaultScene;N&&(Array.isArray(N)?this.defaultPlugins=N:d(N)&&(this.installGlobalPlugins=u(N,"global",[]),this.installScenePlugins=u(N,"scene",[]),Array.isArray(N.default)?L=N.default:Array.isArray(N.defaultMerge)&&(L=L.concat(N.defaultMerge)))),this.defaultPlugins=L;var R="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=l(C,"images.default",R+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=l(C,"images.missing",R+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=l(C,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=p.WEBGL:window.FORCE_CANVAS&&(this.renderType=p.CANVAS))}});r.exports=v},86054:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(20623),p=i(27919),c=i(8054),o=i(89357),u=function(l){var d=l.config;if((d.customEnvironment||d.canvas)&&d.renderType===c.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!d.customEnvironment&&!d.canvas&&d.renderType!==c.HEADLESS)if(d.renderType===c.AUTO&&(d.renderType=o.webGL?c.WEBGL:c.CANVAS),d.renderType===c.WEBGL){if(!o.webGL)throw new Error("Cannot create WebGL context, aborting.")}else if(d.renderType===c.CANVAS){if(!o.canvas)throw new Error("Cannot create Canvas context, aborting.")}else throw new Error("Unknown value for renderer type: "+d.renderType);d.antialias||p.disableSmoothing();var f=l.scale.baseSize,h=f.width,A=f.height;if(d.canvas?(l.canvas=d.canvas,l.canvas.width=h,l.canvas.height=A):l.canvas=p.create(l,h,A,d.renderType),d.canvasStyle&&(l.canvas.style=d.canvasStyle),d.antialias||a.setCrisp(l.canvas),d.renderType!==c.HEADLESS){var g,v;g=i(68627),v=i(74797),d.renderType===c.WEBGL?l.renderer=new v(l):(l.renderer=new g(l),l.context=l.renderer.gameContext)}};r.exports=u},96391:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(8054),p=function(c){var o=c.config;if(!o.hideBanner){var u="WebGL";o.renderType===a.CANVAS?u="Canvas":o.renderType===a.HEADLESS&&(u="Headless");var l=o.audio,d=c.device.audio,f;if(d.webAudio&&!l.disableWebAudio?f="Web Audio":l.noAudio||!d.webAudio&&!d.audioData?f="No Audio":f="HTML5 Audio",c.device.browser.ie)window.console&&console.log("Phaser v"+a.VERSION+" / https://phaser.io");else{var h="",A=[h];if(Array.isArray(o.bannerBackgroundColor)){var g;o.bannerBackgroundColor.forEach(function(y){h=h.concat("%c "),A.push("background: "+y),g=y}),A[A.length-1]="color: "+o.bannerTextColor+"; background: "+g}else h=h.concat("%c "),A.push("color: "+o.bannerTextColor+"; background: "+o.bannerBackgroundColor);A.push("background: transparent"),o.gameTitle&&(h=h.concat(o.gameTitle),o.gameVersion&&(h=h.concat(" v"+o.gameVersion)),o.hidePhaser||(h=h.concat(" / ")));var v="";o.hidePhaser||(h=h.concat("Phaser v"+a.VERSION+v+" ("+u+" | "+f+")")),h=h.concat(" %c "+o.gameURL),A[0]=h,console.log.apply(console,A)}}};r.exports=p},50127:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(40366),p=i(60848),c=i(24047),o=i(27919),u=i(83419),l=i(69547),d=i(83719),f=i(86054),h=i(45893),A=i(96391),g=i(82264),v=i(57264),y=i(50792),C=i(8443),b=i(7003),T=i(37277),S=i(77332),F=i(76531),B=i(60903),N=i(69442),L=i(17130),R=i(65898),I=i(51085),M=i(14747),P=new u({initialize:function(z){this.config=new l(z),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new y,this.anims=new p(this),this.textures=new L(this),this.cache=new c(this),this.registry=new h(this,new y),this.input=new b(this,this.config),this.scene=new B(this,this.config.sceneConfig),this.device=g,this.scale=new F(this,this.config),this.sound=null,this.sound=M.create(this),this.loop=new R(this,this.config.fps),this.plugins=new S(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,v(this.boot.bind(this))},boot:function(){if(!T.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),f(this),d(this),A(this),a(this.canvas,this.config.parent),this.textures.once(N.READY,this.texturesReady,this),this.events.emit(C.BOOT)},texturesReady:function(){this.events.emit(C.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),I(this);var U=this.events;U.on(C.HIDDEN,this.onHidden,this),U.on(C.VISIBLE,this.onVisible,this),U.on(C.BLUR,this.onBlur,this),U.on(C.FOCUS,this.onFocus,this)},step:function(U,z){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var W=this.events;W.emit(C.PRE_STEP,U,z),W.emit(C.STEP,U,z),this.scene.update(U,z),W.emit(C.POST_STEP,U,z);var Z=this.renderer;Z.preRender(),W.emit(C.PRE_RENDER,Z,U,z),this.scene.render(Z),Z.postRender(),W.emit(C.POST_RENDER,Z,U,z)}},headlessStep:function(U,z){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var W=this.events;W.emit(C.PRE_STEP,U,z),W.emit(C.STEP,U,z),this.scene.update(U,z),W.emit(C.POST_STEP,U,z),this.scene.isProcessing=!1,W.emit(C.PRE_RENDER,null,U,z),W.emit(C.POST_RENDER,null,U,z)}},onHidden:function(){this.loop.pause(),this.events.emit(C.PAUSE)},pause:function(){var U=this.isPaused;this.isPaused=!0,U||this.events.emit(C.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(C.RESUME,this.loop.pauseDuration)},resume:function(){var U=this.isPaused;this.isPaused=!1,U&&this.events.emit(C.RESUME,0)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(U,z){z===void 0&&(z=!1),this.pendingDestroy=!0,this.removeCanvas=U,this.noReturn=z},runDestroy:function(){this.scene.destroy(),this.events.emit(C.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(o.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});r.exports=P},65898:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(35154),c=i(29747),o=i(43092),u=new a({initialize:function(d,f){this.game=d,this.raf=new o,this.started=!1,this.running=!1,this.minFps=p(f,"min",5),this.targetFps=p(f,"target",60),this.fpsLimit=p(f,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=c,this.forceSetTimeOut=p(f,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this.pauseDuration=0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=p(f,"deltaHistory",10),this.panicMax=p(f,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=p(f,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.pauseDuration=this.time-this._pauseTime,this.startTime+=this.pauseDuration},resetDelta:function(){var l=window.performance.now();this.time=l,this.lastTime=l,this.nextFpsUpdate=l+1e3,this.framesThisSecond=0;for(var d=0;d<this.deltaSmoothingMax;d++)this.deltaHistory[d]=Math.min(this._target,this.deltaHistory[d]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(l){if(this.started)return this;this.started=!0,this.running=!0;for(var d=0;d<this.deltaSmoothingMax;d++)this.deltaHistory[d]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=l;var f=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(f,this.forceSetTimeOut,this._target)},smoothDelta:function(l){var d=this.deltaIndex,f=this.deltaHistory,h=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,l=Math.min(l,this._target)),l>this._min&&(l=f[d],l=Math.min(l,this._min)),f[d]=l,this.deltaIndex++,this.deltaIndex>=h&&(this.deltaIndex=0);for(var A=0,g=0;g<h;g++)A+=f[g];return A/=h,A},updateFPS:function(l){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=l+1e3,this.framesThisSecond=0},stepLimitFPS:function(l){this.now=l;var d=Math.max(0,l-this.lastTime);this.rawDelta=d,this.time+=this.rawDelta,this.smoothStep&&(d=this.smoothDelta(d)),this.delta+=d,l>=this.nextFpsUpdate&&this.updateFPS(l),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(l,this.delta),this.delta=0),this.lastTime=l,this.frame++},step:function(l){this.now=l;var d=Math.max(0,l-this.lastTime);this.rawDelta=d,this.time+=this.rawDelta,this.smoothStep&&(d=this.smoothDelta(d)),this.delta=d,l>=this.nextFpsUpdate&&this.updateFPS(l),this.framesThisSecond++,this.callback(l,d),this.lastTime=l,this.frame++},tick:function(){var l=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(l):this.step(l)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(l){l===void 0&&(l=!1);var d=window.performance.now();if(!this.running){l&&(this.startTime+=-this.lastTime+(this.lastTime+d));var f=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(f,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=d+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});r.exports=u},51085:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(8443),p=function(c){var o,u=c.events;if(document.hidden!==void 0)o="visibilitychange";else{var l=["webkit","moz","ms"];l.forEach(function(f){document[f+"Hidden"]!==void 0&&(document.hidden=function(){return document[f+"Hidden"]},o=f+"visibilitychange")})}var d=function(f){document.hidden||f.type==="pause"?u.emit(a.HIDDEN):u.emit(a.VISIBLE)};o&&document.addEventListener(o,d,!1),window.onblur=function(){u.emit(a.BLUR)},window.onfocus=function(){u.emit(a.FOCUS)},window.focus&&c.config.autoFocus&&window.focus()};r.exports=p},97217:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="blur"},47548:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="boot"},19814:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="contextlost"},68446:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="destroy"},41700:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="focus"},25432:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="hidden"},65942:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pause"},59211:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="postrender"},47789:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="poststep"},39066:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="prerender"},460:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="prestep"},16175:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="ready"},42331:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="resume"},11966:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="step"},32969:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="systemready"},94830:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="visible"},8443:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={BLUR:i(97217),BOOT:i(47548),CONTEXT_LOST:i(19814),DESTROY:i(68446),FOCUS:i(41700),HIDDEN:i(25432),PAUSE:i(65942),POST_RENDER:i(59211),POST_STEP:i(47789),PRE_RENDER:i(39066),PRE_STEP:i(460),READY:i(16175),RESUME:i(42331),STEP:i(11966),SYSTEM_READY:i(32969),VISIBLE:i(94830)}},42857:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Config:i(69547),CreateRenderer:i(86054),DebugHeader:i(96391),Events:i(8443),TimeStep:i(65898),VisibilityHandler:i(51085)}},99584:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(5290),p=i(27919),c=i(35154),o=function(u){var l=c(u,"data",[]),d=c(u,"canvas",null),f=c(u,"palette",a),h=c(u,"pixelWidth",1),A=c(u,"pixelHeight",h),g=c(u,"resizeCanvas",!0),v=c(u,"clearCanvas",!0),y=c(u,"preRender",null),C=c(u,"postRender",null),b=Math.floor(Math.abs(l[0].length*h)),T=Math.floor(Math.abs(l.length*A));d||(d=p.create2D(this,b,T),g=!1,v=!1),g&&(d.width=b,d.height=T);var S=d.getContext("2d",{willReadFrequently:!0});v&&S.clearRect(0,0,b,T),y&&y(d,S);for(var F=0;F<l.length;F++)for(var B=l[F],N=0;N<B.length;N++){var L=B[N];L!=="."&&L!==" "&&(S.fillStyle=f[L],S.fillRect(N*h,F*A,h,A))}return C&&C(d,S),d};r.exports=o},15822:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={GenerateTexture:i(99584),Palettes:i(57763)}},5290:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},23816:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},9866:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},77552:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},92259:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},57763:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ARNE16:i(5290),C64:i(23816),CGA:i(9866),JMP:i(77552),MSX:i(92259)}},46728:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(36316),c=i(80021),o=i(26099),u=new a({Extends:c,initialize:function(d,f,h,A){c.call(this,"CubicBezierCurve"),Array.isArray(d)&&(A=new o(d[6],d[7]),h=new o(d[4],d[5]),f=new o(d[2],d[3]),d=new o(d[0],d[1])),this.p0=d,this.p1=f,this.p2=h,this.p3=A},getStartPoint:function(l){return l===void 0&&(l=new o),l.copy(this.p0)},getResolution:function(l){return l},getPoint:function(l,d){d===void 0&&(d=new o);var f=this.p0,h=this.p1,A=this.p2,g=this.p3;return d.set(p(l,f.x,h.x,A.x,g.x),p(l,f.y,h.y,A.y,g.y))},draw:function(l,d){d===void 0&&(d=32);var f=this.getPoints(d);l.beginPath(),l.moveTo(this.p0.x,this.p0.y);for(var h=1;h<f.length;h++)l.lineTo(f[h].x,f[h].y);return l.strokePath(),l},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});u.fromJSON=function(l){var d=l.points,f=new o(d[0],d[1]),h=new o(d[2],d[3]),A=new o(d[4],d[5]),g=new o(d[6],d[7]);return new u(f,h,A,g)},r.exports=u},80021:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(19217),c=i(87841),o=i(26099),u=new a({initialize:function(d){this.type=d,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new o,this._tmpVec2B=new o},draw:function(l,d){return d===void 0&&(d=32),l.strokePoints(this.getPoints(d))},getBounds:function(l,d){l||(l=new c),d===void 0&&(d=16);var f=this.getLength();d>f&&(d=f/2);var h=Math.max(1,Math.round(f/d));return p(this.getSpacedPoints(h),l)},getDistancePoints:function(l){var d=this.getLength(),f=Math.max(1,d/l);return this.getSpacedPoints(f)},getEndPoint:function(l){return l===void 0&&(l=new o),this.getPointAt(1,l)},getLength:function(){var l=this.getLengths();return l[l.length-1]},getLengths:function(l){if(l===void 0&&(l=this.arcLengthDivisions),this.cacheArcLengths.length===l+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var d=[],f,h=this.getPoint(0,this._tmpVec2A),A=0;d.push(0);for(var g=1;g<=l;g++)f=this.getPoint(g/l,this._tmpVec2B),A+=f.distance(h),d.push(A),h.copy(f);return this.cacheArcLengths=d,d},getPointAt:function(l,d){var f=this.getUtoTmapping(l);return this.getPoint(f,d)},getPoints:function(l,d,f){f===void 0&&(f=[]),l||(d?l=this.getLength()/d:l=this.defaultDivisions);for(var h=0;h<=l;h++)f.push(this.getPoint(h/l));return f},getRandomPoint:function(l){return l===void 0&&(l=new o),this.getPoint(Math.random(),l)},getSpacedPoints:function(l,d,f){f===void 0&&(f=[]),l||(d?l=this.getLength()/d:l=this.defaultDivisions);for(var h=0;h<=l;h++){var A=this.getUtoTmapping(h/l,null,l);f.push(this.getPoint(A))}return f},getStartPoint:function(l){return l===void 0&&(l=new o),this.getPointAt(0,l)},getTangent:function(l,d){d===void 0&&(d=new o);var f=1e-4,h=l-f,A=l+f;return h<0&&(h=0),A>1&&(A=1),this.getPoint(h,this._tmpVec2A),this.getPoint(A,d),d.subtract(this._tmpVec2A).normalize()},getTangentAt:function(l,d){var f=this.getUtoTmapping(l);return this.getTangent(f,d)},getTFromDistance:function(l,d){return l<=0?0:this.getUtoTmapping(0,l,d)},getUtoTmapping:function(l,d,f){var h=this.getLengths(f),A=0,g=h.length,v;d?v=Math.min(d,h[g-1]):v=l*h[g-1];for(var y=0,C=g-1,b;y<=C;)if(A=Math.floor(y+(C-y)/2),b=h[A]-v,b<0)y=A+1;else if(b>0)C=A-1;else{C=A;break}if(A=C,h[A]===v)return A/(g-1);var T=h[A],S=h[A+1],F=S-T,B=(v-T)/F;return(A+B)/(g-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});r.exports=u},73825:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(80021),c=i(39506),o=i(35154),u=i(43396),l=i(26099),d=new a({Extends:p,initialize:function(h,A,g,v,y,C,b,T){if(typeof h=="object"){var S=h;h=o(S,"x",0),A=o(S,"y",0),g=o(S,"xRadius",0),v=o(S,"yRadius",g),y=o(S,"startAngle",0),C=o(S,"endAngle",360),b=o(S,"clockwise",!1),T=o(S,"rotation",0)}else v===void 0&&(v=g),y===void 0&&(y=0),C===void 0&&(C=360),b===void 0&&(b=!1),T===void 0&&(T=0);p.call(this,"EllipseCurve"),this.p0=new l(h,A),this._xRadius=g,this._yRadius=v,this._startAngle=c(y),this._endAngle=c(C),this._clockwise=b,this._rotation=c(T)},getStartPoint:function(f){return f===void 0&&(f=new l),this.getPoint(0,f)},getResolution:function(f){return f*2},getPoint:function(f,h){h===void 0&&(h=new l);for(var A=Math.PI*2,g=this._endAngle-this._startAngle,v=Math.abs(g)<Number.EPSILON;g<0;)g+=A;for(;g>A;)g-=A;g<Number.EPSILON&&(v?g=0:g=A),this._clockwise&&!v&&(g===A?g=-A:g=g-A);var y=this._startAngle+f*g,C=this.p0.x+this._xRadius*Math.cos(y),b=this.p0.y+this._yRadius*Math.sin(y);if(this._rotation!==0){var T=Math.cos(this._rotation),S=Math.sin(this._rotation),F=C-this.p0.x,B=b-this.p0.y;C=F*T-B*S+this.p0.x,b=F*S+B*T+this.p0.y}return h.set(C,b)},setXRadius:function(f){return this.xRadius=f,this},setYRadius:function(f){return this.yRadius=f,this},setWidth:function(f){return this.xRadius=f/2,this},setHeight:function(f){return this.yRadius=f/2,this},setStartAngle:function(f){return this.startAngle=f,this},setEndAngle:function(f){return this.endAngle=f,this},setClockwise:function(f){return this.clockwise=f,this},setRotation:function(f){return this.rotation=f,this},x:{get:function(){return this.p0.x},set:function(f){this.p0.x=f}},y:{get:function(){return this.p0.y},set:function(f){this.p0.y=f}},xRadius:{get:function(){return this._xRadius},set:function(f){this._xRadius=f}},yRadius:{get:function(){return this._yRadius},set:function(f){this._yRadius=f}},startAngle:{get:function(){return u(this._startAngle)},set:function(f){this._startAngle=c(f)}},endAngle:{get:function(){return u(this._endAngle)},set:function(f){this._endAngle=c(f)}},clockwise:{get:function(){return this._clockwise},set:function(f){this._clockwise=f}},angle:{get:function(){return u(this._rotation)},set:function(f){this._rotation=c(f)}},rotation:{get:function(){return this._rotation},set:function(f){this._rotation=f}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:u(this._startAngle),endAngle:u(this._endAngle),clockwise:this._clockwise,rotation:u(this._rotation)}}});d.fromJSON=function(f){return new d(f)},r.exports=d},33951:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(80021),c=i(19217),o=i(87841),u=i(26099),l=new a({Extends:p,initialize:function(f,h){p.call(this,"LineCurve"),Array.isArray(f)&&(h=new u(f[2],f[3]),f=new u(f[0],f[1])),this.p0=f,this.p1=h,this.arcLengthDivisions=1},getBounds:function(d){return d===void 0&&(d=new o),c([this.p0,this.p1],d)},getStartPoint:function(d){return d===void 0&&(d=new u),d.copy(this.p0)},getResolution:function(d){return d===void 0&&(d=1),d},getPoint:function(d,f){return f===void 0&&(f=new u),d===1?f.copy(this.p1):(f.copy(this.p1).subtract(this.p0).scale(d).add(this.p0),f)},getPointAt:function(d,f){return this.getPoint(d,f)},getTangent:function(d,f){return f===void 0&&(f=new u),f.copy(this.p1).subtract(this.p0).normalize(),f},getUtoTmapping:function(d,f,h){var A;if(f){var g=this.getLengths(h),v=g[g.length-1],y=Math.min(f,v);A=y/v}else A=d;return A},draw:function(d){return d.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),d},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});l.fromJSON=function(d){var f=d.points,h=new u(f[0],f[1]),A=new u(f[2],f[3]);return new l(h,A)},r.exports=l},14744:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(80021),c=i(32112),o=i(26099),u=new a({Extends:p,initialize:function(d,f,h){p.call(this,"QuadraticBezierCurve"),Array.isArray(d)&&(h=new o(d[4],d[5]),f=new o(d[2],d[3]),d=new o(d[0],d[1])),this.p0=d,this.p1=f,this.p2=h},getStartPoint:function(l){return l===void 0&&(l=new o),l.copy(this.p0)},getResolution:function(l){return l},getPoint:function(l,d){d===void 0&&(d=new o);var f=this.p0,h=this.p1,A=this.p2;return d.set(c(l,f.x,h.x,A.x),c(l,f.y,h.y,A.y))},draw:function(l,d){d===void 0&&(d=32);var f=this.getPoints(d);l.beginPath(),l.moveTo(this.p0.x,this.p0.y);for(var h=1;h<f.length;h++)l.lineTo(f[h].x,f[h].y);return l.strokePath(),l},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});u.fromJSON=function(l){var d=l.points,f=new o(d[0],d[1]),h=new o(d[2],d[3]),A=new o(d[4],d[5]);return new u(f,h,A)},r.exports=u},42534:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(87842),p=i(83419),c=i(80021),o=i(26099),u=new p({Extends:c,initialize:function(d){d===void 0&&(d=[]),c.call(this,"SplineCurve"),this.points=[],this.addPoints(d)},addPoints:function(l){for(var d=0;d<l.length;d++){var f=new o;typeof l[d]=="number"?(f.x=l[d],f.y=l[d+1],d++):Array.isArray(l[d])?(f.x=l[d][0],f.y=l[d][1]):(f.x=l[d].x,f.y=l[d].y),this.points.push(f)}return this},addPoint:function(l,d){var f=new o(l,d);return this.points.push(f),f},getStartPoint:function(l){return l===void 0&&(l=new o),l.copy(this.points[0])},getResolution:function(l){return l*this.points.length},getPoint:function(l,d){d===void 0&&(d=new o);var f=this.points,h=(f.length-1)*l,A=Math.floor(h),g=h-A,v=f[A===0?A:A-1],y=f[A],C=f[A>f.length-2?f.length-1:A+1],b=f[A>f.length-3?f.length-1:A+2];return d.set(a(g,v.x,y.x,C.x,b.x),a(g,v.y,y.y,C.y,b.y))},toJSON:function(){for(var l=[],d=0;d<this.points.length;d++)l.push(this.points[d].x),l.push(this.points[d].y);return{type:this.type,points:l}}});u.fromJSON=function(l){return new u(l.points)},r.exports=u},25410:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Path:i(46669),MoveTo:i(68618),CubicBezier:i(46728),Curve:i(80021),Ellipse:i(73825),Line:i(33951),QuadraticBezier:i(14744),Spline:i(42534)}},68618:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(26099),c=new a({initialize:function(u,l){this.active=!1,this.p0=new p(u,l)},getPoint:function(o,u){return u===void 0&&(u=new p),u.copy(this.p0)},getPointAt:function(o,u){return this.getPoint(o,u)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});r.exports=c},46669:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(46728),c=i(73825),o=i(39429),u=i(33951),l=i(68618),d=i(14744),f=i(87841),h=i(42534),A=i(26099),g=i(36383),v=new a({initialize:function(C,b){C===void 0&&(C=0),b===void 0&&(b=0),this.name="",this.defaultDivisions=12,this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new A,this._tmpVec2A=new A,this._tmpVec2B=new A,typeof C=="object"?this.fromJSON(C):this.startPoint.set(C,b)},add:function(y){return this.curves.push(y),this},circleTo:function(y,C,b){return C===void 0&&(C=!1),this.ellipseTo(y,y,0,360,C,b)},closePath:function(){var y=this.curves[0].getPoint(0),C=this.curves[this.curves.length-1].getPoint(1);return y.equals(C)||this.curves.push(new u(C,y)),this},cubicBezierTo:function(y,C,b,T,S,F){var B=this.getEndPoint(),N,L,R;return y instanceof A?(N=y,L=C,R=b):(N=new A(b,T),L=new A(S,F),R=new A(y,C)),this.add(new p(B,N,L,R))},quadraticBezierTo:function(y,C,b,T){var S=this.getEndPoint(),F,B;return y instanceof A?(F=y,B=C):(F=new A(b,T),B=new A(y,C)),this.add(new d(S,F,B))},draw:function(y,C){for(var b=0;b<this.curves.length;b++){var T=this.curves[b];T.active&&T.draw(y,C)}return y},ellipseTo:function(y,C,b,T,S,F){var B=new c(0,0,y,C,b,T,S,F),N=this.getEndPoint(this._tmpVec2A),L=B.getStartPoint(this._tmpVec2B);return N.subtract(L),B.x=N.x,B.y=N.y,this.add(B)},fromJSON:function(y){this.curves=[],this.cacheLengths=[],this.startPoint.set(y.x,y.y),this.autoClose=y.autoClose;for(var C=0;C<y.curves.length;C++){var b=y.curves[C];switch(b.type){case"LineCurve":this.add(u.fromJSON(b));break;case"EllipseCurve":this.add(c.fromJSON(b));break;case"SplineCurve":this.add(h.fromJSON(b));break;case"CubicBezierCurve":this.add(p.fromJSON(b));break;case"QuadraticBezierCurve":this.add(d.fromJSON(b));break}}return this},getBounds:function(y,C){y===void 0&&(y=new f),C===void 0&&(C=16),y.x=Number.MAX_VALUE,y.y=Number.MAX_VALUE;for(var b=new f,T=g.MIN_SAFE_INTEGER,S=g.MIN_SAFE_INTEGER,F=0;F<this.curves.length;F++){var B=this.curves[F];B.active&&(B.getBounds(b,C),y.x=Math.min(y.x,b.x),y.y=Math.min(y.y,b.y),T=Math.max(T,b.right),S=Math.max(S,b.bottom))}return y.right=T,y.bottom=S,y},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var y=[],C=0,b=0;b<this.curves.length;b++)C+=this.curves[b].getLength(),y.push(C);return this.cacheLengths=y,y},getCurveAt:function(y){for(var C=y*this.getLength(),b=this.getCurveLengths(),T=0;T<b.length;){if(b[T]>=C)return this.curves[T];T++}return null},getEndPoint:function(y){return y===void 0&&(y=new A),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,y):y.copy(this.startPoint),y},getLength:function(){var y=this.getCurveLengths();return y[y.length-1]},getPoint:function(y,C){C===void 0&&(C=new A);for(var b=y*this.getLength(),T=this.getCurveLengths(),S=0;S<T.length;){if(T[S]>=b){var F=T[S]-b,B=this.curves[S],N=B.getLength(),L=N===0?0:1-F/N;return B.getPointAt(L,C)}S++}return null},getPoints:function(y,C){!y&&!C&&(y=this.defaultDivisions);for(var b=[],T,S=0;S<this.curves.length;S++){var F=this.curves[S];if(F.active)for(var B=F.getResolution(y),N=F.getPoints(B,C),L=0;L<N.length;L++){var R=N[L];T&&T.equals(R)||(b.push(R),T=R)}}return this.autoClose&&b.length>1&&!b[b.length-1].equals(b[0])&&b.push(b[0]),b},getRandomPoint:function(y){return y===void 0&&(y=new A),this.getPoint(Math.random(),y)},getSpacedPoints:function(y){y===void 0&&(y=40);for(var C=[],b=0;b<=y;b++)C.push(this.getPoint(b/y));return this.autoClose&&C.push(C[0]),C},getStartPoint:function(y){return y===void 0&&(y=new A),y.copy(this.startPoint)},getTangent:function(y,C){C===void 0&&(C=new A);for(var b=y*this.getLength(),T=this.getCurveLengths(),S=0;S<T.length;){if(T[S]>=b){var F=T[S]-b,B=this.curves[S],N=B.getLength(),L=N===0?0:1-F/N;return B.getTangentAt(L,C)}S++}return null},lineTo:function(y,C){y instanceof A?this._tmpVec2B.copy(y):typeof y=="object"?this._tmpVec2B.setFromObject(y):this._tmpVec2B.set(y,C);var b=this.getEndPoint(this._tmpVec2A);return this.add(new u([b.x,b.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(y){return y.unshift(this.getEndPoint()),this.add(new h(y))},moveTo:function(y,C){return y instanceof A?this.add(new l(y.x,y.y)):this.add(new l(y,C))},toJSON:function(){for(var y=[],C=0;C<this.curves.length;C++)y.push(this.curves[C].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:y}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});o.register("path",function(y,C){return new v(y,C)}),r.exports=v},45893:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(24882),c=new a({initialize:function(u,l){this.parent=u,this.events=l,l||(this.events=u.events?u.events:u),this.list={},this.values={},this._frozen=!1,!u.hasOwnProperty("sys")&&this.events&&this.events.once(p.DESTROY,this.destroy,this)},get:function(o){var u=this.list;if(Array.isArray(o)){for(var l=[],d=0;d<o.length;d++)l.push(u[o[d]]);return l}else return u[o]},getAll:function(){var o={};for(var u in this.list)this.list.hasOwnProperty(u)&&(o[u]=this.list[u]);return o},query:function(o){var u={};for(var l in this.list)this.list.hasOwnProperty(l)&&l.match(o)&&(u[l]=this.list[l]);return u},set:function(o,u){if(this._frozen)return this;if(typeof o=="string")return this.setValue(o,u);for(var l in o)this.setValue(l,o[l]);return this},inc:function(o,u){if(this._frozen)return this;u===void 0&&(u=1);var l=this.get(o);return l===void 0&&(l=0),this.set(o,l+u),this},toggle:function(o){return this._frozen?this:(this.set(o,!this.get(o)),this)},setValue:function(o,u){if(this._frozen)return this;if(this.has(o))this.values[o]=u;else{var l=this,d=this.list,f=this.events,h=this.parent;Object.defineProperty(this.values,o,{enumerable:!0,configurable:!0,get:function(){return d[o]},set:function(A){if(!l._frozen){var g=d[o];d[o]=A,f.emit(p.CHANGE_DATA,h,o,A,g),f.emit(p.CHANGE_DATA_KEY+o,h,A,g)}}}),d[o]=u,f.emit(p.SET_DATA,h,o,u)}return this},each:function(o,u){for(var l=[this.parent,null,void 0],d=1;d<arguments.length;d++)l.push(arguments[d]);for(var f in this.list)l[1]=f,l[2]=this.list[f],o.apply(u,l);return this},merge:function(o,u){u===void 0&&(u=!0);for(var l in o)o.hasOwnProperty(l)&&(u||!u&&!this.has(l))&&this.setValue(l,o[l]);return this},remove:function(o){if(this._frozen)return this;if(Array.isArray(o))for(var u=0;u<o.length;u++)this.removeValue(o[u]);else return this.removeValue(o);return this},removeValue:function(o){if(this.has(o)){var u=this.list[o];delete this.list[o],delete this.values[o],this.events.emit(p.REMOVE_DATA,this.parent,o,u)}return this},pop:function(o){var u=void 0;return!this._frozen&&this.has(o)&&(u=this.list[o],delete this.list[o],delete this.values[o],this.events.emit(p.REMOVE_DATA,this.parent,o,u)),u},has:function(o){return this.list.hasOwnProperty(o)},setFreeze:function(o){return this._frozen=o,this},reset:function(){for(var o in this.list)delete this.list[o],delete this.values[o];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(p.CHANGE_DATA),this.events.off(p.SET_DATA),this.events.off(p.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(o){this._frozen=!!o}},count:{get:function(){var o=0;for(var u in this.list)this.list[u]!==void 0&&o++;return o}}});r.exports=c},63646:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(45893),c=i(37277),o=i(44594),u=new a({Extends:p,initialize:function(d){p.call(this,d,d.sys.events),this.scene=d,this.systems=d.sys,d.sys.events.once(o.BOOT,this.boot,this),d.sys.events.on(o.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(o.DESTROY,this.destroy,this)},start:function(){this.events.once(o.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){p.prototype.destroy.call(this),this.events.off(o.START,this.start,this),this.scene=null,this.systems=null}});c.register("DataManagerPlugin",u,"data"),r.exports=u},10700:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="changedata"},93608:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="changedata-"},60883:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="destroy"},69780:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="removedata"},22166:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="setdata"},24882:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={CHANGE_DATA:i(10700),CHANGE_DATA_KEY:i(93608),DESTROY:i(60883),REMOVE_DATA:i(69780),SET_DATA:i(22166)}},44965:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={DataManager:i(45893),DataManagerPlugin:i(63646),Events:i(24882)}},7098:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(84148),p={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function c(){if(typeof importScripts=="function")return p;p.audioData=!!window.Audio,p.webAudio=!!(window.AudioContext||window.webkitAudioContext);var o=document.createElement("audio"),u=!!o.canPlayType;try{if(u){var l=function(h,A){var g=o.canPlayType("audio/"+h).replace(/^no$/,"");return A?!!(g||o.canPlayType("audio/"+A).replace(/^no$/,"")):!!g};if(p.ogg=l('ogg; codecs="vorbis"'),p.opus=l('ogg; codecs="opus"',"opus"),p.mp3=l("mpeg"),p.wav=l("wav"),p.m4a=l("x-m4a"),p.aac=l("aac"),p.flac=l("flac","x-flac"),p.webm=l('webm; codecs="vorbis"'),o.canPlayType('audio/mp4; codecs="ec-3"')!==""){if(a.edge)p.dolby=!0;else if(a.safari&&a.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var d=parseInt(RegExp.$1,10),f=parseInt(RegExp.$2,10);(d===10&&f>=11||d>10)&&(p.dolby=!0)}}}}catch{}return p}r.exports=c()},84148:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(25892),p={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};function c(){var o=navigator.userAgent;return/Edg\/\d+/.test(o)?(p.edge=!0,p.es2019=!0):/OPR/.test(o)?(p.opera=!0,p.es2019=!0):/Chrome\/(\d+)/.test(o)&&!a.windowsPhone?(p.chrome=!0,p.chromeVersion=parseInt(RegExp.$1,10),p.es2019=p.chromeVersion>69):/Firefox\D+(\d+)/.test(o)?(p.firefox=!0,p.firefoxVersion=parseInt(RegExp.$1,10),p.es2019=p.firefoxVersion>10):/AppleWebKit\/(?!.*CriOS)/.test(o)&&a.iOS?(p.mobileSafari=!0,p.es2019=!0):/MSIE (\d+\.\d+);/.test(o)?(p.ie=!0,p.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+(\.\d+)?) Safari/.test(o)&&!a.windowsPhone?(p.safari=!0,p.safariVersion=parseInt(RegExp.$1,10),p.es2019=p.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(o)&&(p.ie=!0,p.trident=!0,p.tridentVersion=parseInt(RegExp.$1,10),p.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(o)&&(p.silk=!0),p}r.exports=c()},89289:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(27919),p={supportInverseAlpha:!1,supportNewBlendModes:!1};function c(){var l="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",d="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",f=new Image;return f.onload=function(){var h=new Image;h.onload=function(){var A=a.create2D(h,6),g=A.getContext("2d",{willReadFrequently:!0});if(g.globalCompositeOperation="multiply",g.drawImage(f,0,0),g.drawImage(h,2,0),!g.getImageData(2,0,1,1))return!1;var v=g.getImageData(2,0,1,1).data;a.remove(h),p.supportNewBlendModes=v[0]===255&&v[1]===0&&v[2]===0},h.src=l+"/wCKxvRF"+d},f.src=l+"AP804Oa6"+d,!1}function o(){var l=a.create2D(this,2),d=l.getContext("2d",{willReadFrequently:!0});d.fillStyle="rgba(10, 20, 30, 0.5)",d.fillRect(0,0,1,1);var f=d.getImageData(0,0,1,1);if(f===null)return!1;d.putImageData(f,1,0);var h=d.getImageData(1,0,1,1),A=h.data[0]===f.data[0]&&h.data[1]===f.data[1]&&h.data[2]===f.data[2]&&h.data[3]===f.data[3];return a.remove(this),A}function u(){return typeof importScripts!="function"&&document!==void 0&&(p.supportNewBlendModes=c(),p.supportInverseAlpha=o()),p}r.exports=u()},89357:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(25892),p=i(84148),c=i(27919),o={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function u(){var d=new ArrayBuffer(4),f=new Uint8Array(d),h=new Uint32Array(d);return f[0]=161,f[1]=178,f[2]=195,f[3]=212,h[0]===3569595041?!0:h[0]===2712847316?!1:null}function l(){if(typeof importScripts=="function")return o;o.canvas=!!window.CanvasRenderingContext2D;try{o.localStorage=!!localStorage.getItem}catch{o.localStorage=!1}o.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,o.fileSystem=!!window.requestFileSystem;var d=!1,f=function(){if(window.WebGLRenderingContext)try{var h=c.createWebGL(this),A=h.getContext("webgl")||h.getContext("experimental-webgl"),g=c.create2D(this),v=g.getContext("2d",{willReadFrequently:!0}),y=v.createImageData(1,1);return d=y.data instanceof Uint8ClampedArray,c.remove(h),c.remove(g),!!A}catch{return!1}return!1};return o.webGL=f(),o.worker=!!window.Worker,o.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,o.getUserMedia=o.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,p.firefox&&p.firefoxVersion<21&&(o.getUserMedia=!1),!a.iOS&&(p.ie||p.firefox||p.chrome)&&(o.canvasBitBltShift=!0),(p.safari||p.mobileSafari)&&(o.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(o.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(o.littleEndian=u()),o.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&o.littleEndian!==null&&d,o}r.exports=l()},91639:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={available:!1,cancel:"",keyboard:!1,request:""};function i(){if(typeof importScripts=="function")return x;var a,p="Fullscreen",c="FullScreen",o=["request"+p,"request"+c,"webkitRequest"+p,"webkitRequest"+c,"msRequest"+p,"msRequest"+c,"mozRequest"+c,"mozRequest"+p];for(a=0;a<o.length;a++)if(document.documentElement[o[a]]){x.available=!0,x.request=o[a];break}var u=["cancel"+c,"exit"+p,"webkitCancel"+c,"webkitExit"+p,"msCancel"+c,"msExit"+p,"mozCancel"+c,"mozExit"+p];if(x.available){for(a=0;a<u.length;a++)if(document[u[a]]){x.cancel=u[a];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(x.keyboard=!0),Object.defineProperty(x,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),x}r.exports=i()},31784:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(84148),p={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function c(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(p.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(p.mspointer=!0),navigator.getGamepads&&(p.gamepads=!0),"onwheel"in window||a.ie&&"WheelEvent"in window?p.wheelEvent="wheel":"onmousewheel"in window?p.wheelEvent="mousewheel":a.firefox&&"MouseScrollEvent"in window&&(p.wheelEvent="DOMMouseScroll")),p}r.exports=c()},25892:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function i(){if(typeof importScripts=="function")return x;var a=navigator.userAgent;/Windows/.test(a)?x.windows=!0:/Mac OS/.test(a)&&!/like Mac OS/.test(a)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(x.iOS=!0,x.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),x.iOSVersion=parseInt(RegExp.$1,10)):x.macOS=!0:/Android/.test(a)?x.android=!0:/Linux/.test(a)?x.linux=!0:/iP[ao]d|iPhone/i.test(a)?(x.iOS=!0,navigator.appVersion.match(/OS (\d+)/),x.iOSVersion=parseInt(RegExp.$1,10),x.iPhone=a.toLowerCase().indexOf("iphone")!==-1,x.iPad=a.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(a)||/\bKF[A-Z][A-Z]+/.test(a)||/Silk.*Mobile Safari/.test(a)?x.kindle=!0:/CrOS/.test(a)&&(x.chromeOS=!0),(/Windows Phone/i.test(a)||/IEMobile/i.test(a))&&(x.android=!1,x.iOS=!1,x.macOS=!1,x.windows=!0,x.windowsPhone=!0);var p=/Silk/.test(a);return(x.windows||x.macOS||x.linux&&!p||x.chromeOS)&&(x.desktop=!0),(x.windowsPhone||/Windows NT/i.test(a)&&/Touch/i.test(a))&&(x.desktop=!1),navigator.standalone&&(x.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(x.cordova=!0),window.ejecta!==void 0&&(x.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&(x.node=!0),x.node&&typeof process.versions=="object"&&(x.nodeWebkit=!!process.versions["node-webkit"],x.electron=!!process.versions.electron),/Crosswalk/.test(a)&&(x.crosswalk=!0),x.pixelRatio=window.devicePixelRatio||1,x}r.exports=i()},43267:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(95540),p={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};function c(){if(typeof importScripts=="function")return p;var o=document.createElement("video"),u=!!o.canPlayType,l=/^no$/;try{u&&(o.canPlayType('video/ogg; codecs="theora"').replace(l,"")&&(p.ogg=!0),o.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(l,"")&&(p.h264=!0,p.mp4=!0),o.canPlayType("video/x-m4v").replace(l,"")&&(p.m4v=!0),o.canPlayType('video/webm; codecs="vp8, vorbis"').replace(l,"")&&(p.webm=!0),o.canPlayType('video/webm; codecs="vp9"').replace(l,"")&&(p.vp9=!0),o.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(l,"")&&(p.hls=!0))}catch{}return o.parentNode&&o.parentNode.removeChild(o),p.getVideoURL=function(d){Array.isArray(d)||(d=[d]);for(var f=0;f<d.length;f++){var h=a(d[f],"url",d[f]);if(h.indexOf("blob:")===0)return{url:h,type:""};var A;if(h.indexOf("data:")===0?A=h.split(",")[0].match(/\/(.*?);/):A=h.match(/\.([a-zA-Z0-9]+)($|\?)/),A=a(d[f],"type",A?A[1]:"").toLowerCase(),p[A])return{url:h,type:A}}return null},p}r.exports=c()},82264:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={os:i(25892),browser:i(84148),features:i(89357),input:i(31784),audio:i(7098),video:i(43267),fullscreen:i(91639),canvasFeatures:i(89289)}},89422:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=new Float32Array(20),c=new a({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(o){return this._matrix.set(o),this._dirty=!0,this},reset:function(){var o=this._matrix;return o.fill(0),o[0]=1,o[6]=1,o[12]=1,o[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var o=this._data;return this._dirty&&(o.set(this._matrix),o[4]/=255,o[9]/=255,o[14]/=255,o[19]/=255,this._dirty=!1),o},brightness:function(o,u){o===void 0&&(o=0),u===void 0&&(u=!1);var l=o;return this.multiply([l,0,0,0,0,0,l,0,0,0,0,0,l,0,0,0,0,0,1,0],u)},saturate:function(o,u){o===void 0&&(o=0),u===void 0&&(u=!1);var l=o*2/3+1,d=(l-1)*-.5;return this.multiply([l,d,d,0,0,d,l,d,0,0,d,d,l,0,0,0,0,0,1,0],u)},desaturate:function(o){return o===void 0&&(o=!1),this.saturate(-1,o)},hue:function(o,u){o===void 0&&(o=0),u===void 0&&(u=!1),o=o/180*Math.PI;var l=Math.cos(o),d=Math.sin(o),f=.213,h=.715,A=.072;return this.multiply([f+l*(1-f)+d*-f,h+l*-h+d*-h,A+l*-A+d*(1-A),0,0,f+l*-f+d*.143,h+l*(1-h)+d*.14,A+l*-A+d*-.283,0,0,f+l*-f+d*-.787,h+l*-h+d*h,A+l*(1-A)+d*A,0,0,0,0,0,1,0],u)},grayscale:function(o,u){return o===void 0&&(o=1),u===void 0&&(u=!1),this.saturate(-o,u)},blackWhite:function(o){return o===void 0&&(o=!1),this.multiply(c.BLACK_WHITE,o)},contrast:function(o,u){o===void 0&&(o=0),u===void 0&&(u=!1);var l=o+1,d=-.5*(l-1);return this.multiply([l,0,0,0,d,0,l,0,0,d,0,0,l,0,d,0,0,0,1,0],u)},negative:function(o){return o===void 0&&(o=!1),this.multiply(c.NEGATIVE,o)},desaturateLuminance:function(o){return o===void 0&&(o=!1),this.multiply(c.DESATURATE_LUMINANCE,o)},sepia:function(o){return o===void 0&&(o=!1),this.multiply(c.SEPIA,o)},night:function(o,u){return o===void 0&&(o=.1),u===void 0&&(u=!1),this.multiply([o*-2,-o,0,0,0,-o,0,o,0,0,0,o,o*2,0,0,0,0,0,1,0],u)},lsd:function(o){return o===void 0&&(o=!1),this.multiply(c.LSD,o)},brown:function(o){return o===void 0&&(o=!1),this.multiply(c.BROWN,o)},vintagePinhole:function(o){return o===void 0&&(o=!1),this.multiply(c.VINTAGE,o)},kodachrome:function(o){return o===void 0&&(o=!1),this.multiply(c.KODACHROME,o)},technicolor:function(o){return o===void 0&&(o=!1),this.multiply(c.TECHNICOLOR,o)},polaroid:function(o){return o===void 0&&(o=!1),this.multiply(c.POLAROID,o)},shiftToBGR:function(o){return o===void 0&&(o=!1),this.multiply(c.SHIFT_BGR,o)},multiply:function(o,u){u===void 0&&(u=!1),u||this.reset();var l=this._matrix,d=p;return d.set(l),l.set([d[0]*o[0]+d[1]*o[5]+d[2]*o[10]+d[3]*o[15],d[0]*o[1]+d[1]*o[6]+d[2]*o[11]+d[3]*o[16],d[0]*o[2]+d[1]*o[7]+d[2]*o[12]+d[3]*o[17],d[0]*o[3]+d[1]*o[8]+d[2]*o[13]+d[3]*o[18],d[0]*o[4]+d[1]*o[9]+d[2]*o[14]+d[3]*o[19]+d[4],d[5]*o[0]+d[6]*o[5]+d[7]*o[10]+d[8]*o[15],d[5]*o[1]+d[6]*o[6]+d[7]*o[11]+d[8]*o[16],d[5]*o[2]+d[6]*o[7]+d[7]*o[12]+d[8]*o[17],d[5]*o[3]+d[6]*o[8]+d[7]*o[13]+d[8]*o[18],d[5]*o[4]+d[6]*o[9]+d[7]*o[14]+d[8]*o[19]+d[9],d[10]*o[0]+d[11]*o[5]+d[12]*o[10]+d[13]*o[15],d[10]*o[1]+d[11]*o[6]+d[12]*o[11]+d[13]*o[16],d[10]*o[2]+d[11]*o[7]+d[12]*o[12]+d[13]*o[17],d[10]*o[3]+d[11]*o[8]+d[12]*o[13]+d[13]*o[18],d[10]*o[4]+d[11]*o[9]+d[12]*o[14]+d[13]*o[19]+d[14],d[15]*o[0]+d[16]*o[5]+d[17]*o[10]+d[18]*o[15],d[15]*o[1]+d[16]*o[6]+d[17]*o[11]+d[18]*o[16],d[15]*o[2]+d[16]*o[7]+d[17]*o[12]+d[18]*o[17],d[15]*o[3]+d[16]*o[8]+d[17]*o[13]+d[18]*o[18],d[15]*o[4]+d[16]*o[9]+d[17]*o[14]+d[18]*o[19]+d[19]]),this._dirty=!0,this}});c.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],c.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],c.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],c.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],c.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],c.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],c.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],c.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],c.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],c.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],c.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],r.exports=c},51767:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(29747),c=new a({initialize:function(u,l,d){this._rgb=[0,0,0],this.onChangeCallback=p,this.dirty=!1,this.set(u,l,d)},set:function(o,u,l){return o===void 0&&(o=0),u===void 0&&(u=0),l===void 0&&(l=0),this._rgb=[o,u,l],this.onChange(),this},equals:function(o,u,l){var d=this._rgb;return d[0]===o&&d[1]===u&&d[2]===l},onChange:function(){this.dirty=!0;var o=this._rgb;this.onChangeCallback.call(this,o[0],o[1],o[2])},r:{get:function(){return this._rgb[0]},set:function(o){this._rgb[0]=o,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(o){this._rgb[1]=o,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(o){this._rgb[2]=o,this.onChange()}},destroy:function(){this.onChangeCallback=null}});r.exports=c},60461:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};r.exports=x},54312:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(62235),p=i(35893),c=i(86327),o=i(88417),u=function(l,d,f,h){return f===void 0&&(f=0),h===void 0&&(h=0),o(l,p(d)+f),c(l,a(d)+h),l};r.exports=u},46768:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(62235),p=i(26541),c=i(86327),o=i(385),u=function(l,d,f,h){return f===void 0&&(f=0),h===void 0&&(h=0),o(l,p(d)-f),c(l,a(d)+h),l};r.exports=u},35827:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(62235),p=i(54380),c=i(86327),o=i(40136),u=function(l,d,f,h){return f===void 0&&(f=0),h===void 0&&(h=0),o(l,p(d)+f),c(l,a(d)+h),l};r.exports=u},46871:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(66786),p=i(35893),c=i(7702),o=function(u,l,d,f){return d===void 0&&(d=0),f===void 0&&(f=0),a(u,p(l)+d,c(l)+f),u};r.exports=o},5198:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(7702),p=i(26541),c=i(20786),o=i(385),u=function(l,d,f,h){return f===void 0&&(f=0),h===void 0&&(h=0),o(l,p(d)-f),c(l,a(d)+h),l};r.exports=u},11879:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(60461),p=[];p[a.BOTTOM_CENTER]=i(54312),p[a.BOTTOM_LEFT]=i(46768),p[a.BOTTOM_RIGHT]=i(35827),p[a.CENTER]=i(46871),p[a.LEFT_CENTER]=i(5198),p[a.RIGHT_CENTER]=i(80503),p[a.TOP_CENTER]=i(89698),p[a.TOP_LEFT]=i(922),p[a.TOP_RIGHT]=i(21373),p[a.LEFT_BOTTOM]=p[a.BOTTOM_LEFT],p[a.LEFT_TOP]=p[a.TOP_LEFT],p[a.RIGHT_BOTTOM]=p[a.BOTTOM_RIGHT],p[a.RIGHT_TOP]=p[a.TOP_RIGHT];var c=function(o,u,l,d,f){return p[l](o,u,d,f)};r.exports=c},80503:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(7702),p=i(54380),c=i(20786),o=i(40136),u=function(l,d,f,h){return f===void 0&&(f=0),h===void 0&&(h=0),o(l,p(d)+f),c(l,a(d)+h),l};r.exports=u},89698:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(35893),p=i(17717),c=i(88417),o=i(66737),u=function(l,d,f,h){return f===void 0&&(f=0),h===void 0&&(h=0),c(l,a(d)+f),o(l,p(d)-h),l};r.exports=u},922:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(26541),p=i(17717),c=i(385),o=i(66737),u=function(l,d,f,h){return f===void 0&&(f=0),h===void 0&&(h=0),c(l,a(d)-f),o(l,p(d)-h),l};r.exports=u},21373:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(54380),p=i(17717),c=i(40136),o=i(66737),u=function(l,d,f,h){return f===void 0&&(f=0),h===void 0&&(h=0),c(l,a(d)+f),o(l,p(d)-h),l};r.exports=u},91660:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={BottomCenter:i(54312),BottomLeft:i(46768),BottomRight:i(35827),Center:i(46871),LeftCenter:i(5198),QuickSet:i(11879),RightCenter:i(80503),TopCenter:i(89698),TopLeft:i(922),TopRight:i(21373)}},71926:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(60461),p=i(79291),c={In:i(91660),To:i(16694)};c=p(!1,c,a),r.exports=c},21578:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(62235),p=i(35893),c=i(88417),o=i(66737),u=function(l,d,f,h){return f===void 0&&(f=0),h===void 0&&(h=0),c(l,p(d)+f),o(l,a(d)+h),l};r.exports=u},10210:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(62235),p=i(26541),c=i(385),o=i(66737),u=function(l,d,f,h){return f===void 0&&(f=0),h===void 0&&(h=0),c(l,p(d)-f),o(l,a(d)+h),l};r.exports=u},82341:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(62235),p=i(54380),c=i(40136),o=i(66737),u=function(l,d,f,h){return f===void 0&&(f=0),h===void 0&&(h=0),c(l,p(d)+f),o(l,a(d)+h),l};r.exports=u},87958:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(62235),p=i(26541),c=i(86327),o=i(40136),u=function(l,d,f,h){return f===void 0&&(f=0),h===void 0&&(h=0),o(l,p(d)-f),c(l,a(d)+h),l};r.exports=u},40080:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(7702),p=i(26541),c=i(20786),o=i(40136),u=function(l,d,f,h){return f===void 0&&(f=0),h===void 0&&(h=0),o(l,p(d)-f),c(l,a(d)+h),l};r.exports=u},88466:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(26541),p=i(17717),c=i(40136),o=i(66737),u=function(l,d,f,h){return f===void 0&&(f=0),h===void 0&&(h=0),c(l,a(d)-f),o(l,p(d)-h),l};r.exports=u},38829:(r,x,i)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(60461),p=[];p[a.BOTTOM_CENTER]=i(21578),p[a.BOTTOM_LEFT]=i(10210),p[a.BOTTOM_RIGHT]=i(82341),p[a.LEFT_BOTTOM]=i(87958),p[a.LEFT_CENTER]=i(40080),p[a.LEFT_TOP]=i(88466),p[a.RIGHT_BOTTOM]=i(19211),p[a.RIGHT_CENTER]=i(34609),p[a.RIGHT_TOP]=i(48741),p[a.TOP_CENTER]=i(49440),p[a.TOP_LEFT]=i(81288),p[a.TOP_RIGHT]=i(61323);var c=function(o,u,l,d,f){return p[l](o,u,d,f)};r.exports=c},19211:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(62235),p=i(54380),c=i(86327),o=i(385),u=function(l,d,f,h){return f===void 0&&(f=0),h===void 0&&(h=0),o(l,p(d)+f),c(l,a(d)+h),l};r.exports=u},34609:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(7702),p=i(54380),c=i(20786),o=i(385),u=function(l,d,f,h){return f===void 0&&(f=0),h===void 0&&(h=0),o(l,p(d)+f),c(l,a(d)+h),l};r.exports=u},48741:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(54380),p=i(17717),c=i(385),o=i(66737),u=function(l,d,f,h){return f===void 0&&(f=0),h===void 0&&(h=0),c(l,a(d)+f),o(l,p(d)-h),l};r.exports=u},49440:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(35893),p=i(17717),c=i(86327),o=i(88417),u=function(l,d,f,h){return f===void 0&&(f=0),h===void 0&&(h=0),o(l,a(d)+f),c(l,p(d)-h),l};r.exports=u},81288:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(26541),p=i(17717),c=i(86327),o=i(385),u=function(l,d,f,h){return f===void 0&&(f=0),h===void 0&&(h=0),o(l,a(d)-f),c(l,p(d)-h),l};r.exports=u},61323:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(54380),p=i(17717),c=i(86327),o=i(40136),u=function(l,d,f,h){return f===void 0&&(f=0),h===void 0&&(h=0),o(l,a(d)+f),c(l,p(d)-h),l};r.exports=u},16694:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={BottomCenter:i(21578),BottomLeft:i(10210),BottomRight:i(82341),LeftBottom:i(87958),LeftCenter:i(40080),LeftTop:i(88466),QuickSet:i(38829),RightBottom:i(19211),RightCenter:i(34609),RightTop:i(48741),TopCenter:i(49440),TopLeft:i(81288),TopRight:i(61323)}},66786:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(88417),p=i(20786),c=function(o,u,l){return a(o,u),p(o,l)};r.exports=c},62235:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){return i.y+i.height-i.height*i.originY};r.exports=x},72873:(r,x,i)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(62235),p=i(26541),c=i(54380),o=i(17717),u=i(87841),l=function(d,f){f===void 0&&(f=new u);var h=p(d),A=o(d);return f.x=h,f.y=A,f.width=c(d)-h,f.height=a(d)-A,f};r.exports=l},35893:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){return i.x-i.width*i.originX+i.width*.5};r.exports=x},7702:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){return i.y-i.height*i.originY+i.height*.5};r.exports=x},26541:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){return i.x-i.width*i.originX};r.exports=x},87431:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){return i.width*i.originX};r.exports=x},46928:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){return i.height*i.originY};r.exports=x},54380:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){return i.x+i.width-i.width*i.originX};r.exports=x},17717:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){return i.y-i.height*i.originY};r.exports=x},86327:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){return i.y=a-i.height+i.height*i.originY,i};r.exports=x},88417:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){var p=i.width*i.originX;return i.x=a+p-i.width*.5,i};r.exports=x},20786:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){var p=i.height*i.originY;return i.y=a+p-i.height*.5,i};r.exports=x},385:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){return i.x=a+i.width*i.originX,i};r.exports=x},40136:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){return i.x=a-i.width+i.width*i.originX,i};r.exports=x},66737:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){return i.y=a+i.height*i.originY,i};r.exports=x},58724:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={CenterOn:i(66786),GetBottom:i(62235),GetBounds:i(72873),GetCenterX:i(35893),GetCenterY:i(7702),GetLeft:i(26541),GetOffsetX:i(87431),GetOffsetY:i(46928),GetRight:i(54380),GetTop:i(17717),SetBottom:i(86327),SetCenterX:i(88417),SetCenterY:i(20786),SetLeft:i(385),SetRight:i(40136),SetTop:i(66737)}},20623:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setCrisp:function(i){var a=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return a.forEach(function(p){i.style["image-rendering"]=p}),i.style.msInterpolationMode="nearest-neighbor",i},setBicubic:function(i){return i.style["image-rendering"]="auto",i.style.msInterpolationMode="bicubic",i}};r.exports=x},27919:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(8054),p=i(68703),c=[],o=!1,u=function(){var l=function(b,T,S,F,B){T===void 0&&(T=1),S===void 0&&(S=1),F===void 0&&(F=a.CANVAS),B===void 0&&(B=!1);var N,L=h(F);return L===null?(L={parent:b,canvas:document.createElement("canvas"),type:F},F===a.CANVAS&&c.push(L),N=L.canvas):(L.parent=b,N=L.canvas),B&&(L.parent=N),N.width=T,N.height=S,o&&F===a.CANVAS&&p.disable(N.getContext("2d",{willReadFrequently:!1})),N},d=function(b,T,S){return l(b,T,S,a.CANVAS)},f=function(b,T,S){return l(b,T,S,a.WEBGL)},h=function(b){if(b===void 0&&(b=a.CANVAS),b===a.WEBGL)return null;for(var T=0;T<c.length;T++){var S=c[T];if(!S.parent&&S.type===b)return S}return null},A=function(b){var T=b instanceof HTMLCanvasElement;c.forEach(function(S){(T&&S.canvas===b||!T&&S.parent===b)&&(S.parent=null,S.canvas.width=1,S.canvas.height=1)})},g=function(){var b=0;return c.forEach(function(T){T.parent&&b++}),b},v=function(){return c.length-g()},y=function(){o=!0},C=function(){o=!1};return{create2D:d,create:l,createWebGL:f,disableSmoothing:y,enableSmoothing:C,first:h,free:v,pool:c,remove:A,total:g}};r.exports=u()},68703:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x="",i=function(){var a=function(u){for(var l=["i","webkitI","msI","mozI","oI"],d=0;d<l.length;d++){var f=l[d]+"mageSmoothingEnabled";if(f in u)return f}return null},p=function(u){return x===""&&(x=a(u)),x&&(u[x]=!0),u},c=function(u){return x===""&&(x=a(u)),x&&(u[x]=!1),u},o=function(u){return x!==null?u[x]:null};return{disable:c,enable:p,getPrefix:a,isEnabled:o}};r.exports=i()},65208:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){return a===void 0&&(a="none"),i.style.msTouchAction=a,i.style["ms-touch-action"]=a,i.style["touch-action"]=a,i};r.exports=x},91610:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){a===void 0&&(a="none");var p=["-webkit-","-khtml-","-moz-","-ms-",""];return p.forEach(function(c){i.style[c+"user-select"]=a}),i.style["-webkit-touch-callout"]=a,i.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",i};r.exports=x},26253:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={CanvasInterpolation:i(20623),CanvasPool:i(27919),Smoothing:i(68703),TouchAction:i(65208),UserSelect:i(91610)}},40987:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(37589),c=i(1e3),o=i(7537),u=i(87837),l=new a({initialize:function(f,h,A,g){f===void 0&&(f=0),h===void 0&&(h=0),A===void 0&&(A=0),g===void 0&&(g=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(f,h,A,g)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(d,f,h,A,g){return A===void 0&&(A=255),g===void 0&&(g=!0),this._locked=!0,this.red=d,this.green=f,this.blue=h,this.alpha=A,this._locked=!1,this.update(g)},setGLTo:function(d,f,h,A){return A===void 0&&(A=1),this._locked=!0,this.redGL=d,this.greenGL=f,this.blueGL=h,this.alphaGL=A,this._locked=!1,this.update(!0)},setFromRGB:function(d){return this._locked=!0,this.red=d.r,this.green=d.g,this.blue=d.b,d.hasOwnProperty("a")&&(this.alpha=d.a),this._locked=!1,this.update(!0)},setFromHSV:function(d,f,h){return o(d,f,h,this)},update:function(d){if(d===void 0&&(d=!1),this._locked)return this;var f=this.r,h=this.g,A=this.b,g=this.a;return this._color=p(f,h,A),this._color32=c(f,h,A,g),this._rgba="rgba("+f+","+h+","+A+","+g/255+")",d&&u(f,h,A,this),this},updateHSV:function(){var d=this.r,f=this.g,h=this.b;return u(d,f,h,this),this},clone:function(){return new l(this.r,this.g,this.b,this.a)},gray:function(d){return this.setTo(d,d,d)},random:function(d,f){d===void 0&&(d=0),f===void 0&&(f=255);var h=Math.floor(d+Math.random()*(f-d)),A=Math.floor(d+Math.random()*(f-d)),g=Math.floor(d+Math.random()*(f-d));return this.setTo(h,A,g)},randomGray:function(d,f){d===void 0&&(d=0),f===void 0&&(f=255);var h=Math.floor(d+Math.random()*(f-d));return this.setTo(h,h,h)},saturate:function(d){return this.s+=d/100,this},desaturate:function(d){return this.s-=d/100,this},lighten:function(d){return this.v+=d/100,this},darken:function(d){return this.v-=d/100,this},brighten:function(d){var f=this.r,h=this.g,A=this.b;return f=Math.max(0,Math.min(255,f-Math.round(255*-(d/100)))),h=Math.max(0,Math.min(255,h-Math.round(255*-(d/100)))),A=Math.max(0,Math.min(255,A-Math.round(255*-(d/100)))),this.setTo(f,h,A)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(d){this.gl[0]=Math.min(Math.abs(d),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(d){this.gl[1]=Math.min(Math.abs(d),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(d){this.gl[2]=Math.min(Math.abs(d),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(d){this.gl[3]=Math.min(Math.abs(d),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(d){d=Math.floor(Math.abs(d)),this.r=Math.min(d,255),this.gl[0]=d/255,this.update(!0)}},green:{get:function(){return this.g},set:function(d){d=Math.floor(Math.abs(d)),this.g=Math.min(d,255),this.gl[1]=d/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(d){d=Math.floor(Math.abs(d)),this.b=Math.min(d,255),this.gl[2]=d/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(d){d=Math.floor(Math.abs(d)),this.a=Math.min(d,255),this.gl[3]=d/255,this.update()}},h:{get:function(){return this._h},set:function(d){this._h=d,o(d,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(d){this._s=d,o(this._h,d,this._v,this)}},v:{get:function(){return this._v},set:function(d){this._v=d,o(this._h,this._s,d,this)}}});r.exports=l},92728:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(37589),p=function(c){c===void 0&&(c=1024);var o=[],u=255,l,d=255,f=0,h=0;for(l=0;l<=u;l++)o.push({r:d,g:l,b:h,color:a(d,l,h)});for(f=255,l=u;l>=0;l--)o.push({r:l,g:f,b:h,color:a(l,f,h)});for(d=0,l=0;l<=u;l++,f--)o.push({r:d,g:f,b:l,color:a(d,f,l)});for(f=0,h=255,l=0;l<=u;l++,h--,d++)o.push({r:d,g:f,b:h,color:a(d,f,h)});if(c===1024)return o;var A=[],g=0,v=1024/c;for(l=0;l<c;l++)A.push(o[Math.floor(g)]),g+=v;return A};r.exports=p},91588:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){var a={r:i>>16&255,g:i>>8&255,b:i&255,a:255};return i>16777215&&(a.a=i>>>24),a};r.exports=x},62957:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){var a=i.toString(16);return a.length===1?"0"+a:a};r.exports=x},37589:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p){return i<<16|a<<8|p};r.exports=x},1e3:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p,c){return c<<24|i<<16|a<<8|p};r.exports=x},62183:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(40987),p=i(89528),c=function(o,u,l){var d=l,f=l,h=l;if(u!==0){var A=l<.5?l*(1+u):l+u-l*u,g=2*l-A;d=p(g,A,o+1/3),f=p(g,A,o),h=p(g,A,o-1/3)}var v=new a;return v.setGLTo(d,f,h,1)};r.exports=c},27939:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(7537),p=function(c,o){c===void 0&&(c=1),o===void 0&&(o=1);for(var u=[],l=0;l<=359;l++)u.push(a(l/359,c,o));return u};r.exports=p},7537:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(37589);function p(o,u,l,d){var f=(o+u*6)%6,h=Math.min(f,4-f,1);return Math.round(255*(d-d*l*Math.max(0,h)))}var c=function(o,u,l,d){u===void 0&&(u=1),l===void 0&&(l=1);var f=p(5,o,u,l),h=p(3,o,u,l),A=p(1,o,u,l);return d?d.setTo?d.setTo(f,h,A,d.alpha,!0):(d.r=f,d.g=h,d.b=A,d.color=a(f,h,A),d):{r:f,g:h,b:A,color:a(f,h,A)}};r.exports=c},70238:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(40987),p=function(c){var o=new a;c=c.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(h,A,g,v){return A+A+g+g+v+v});var u=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(c);if(u){var l=parseInt(u[1],16),d=parseInt(u[2],16),f=parseInt(u[3],16);o.setTo(l,d,f)}return o};r.exports=p},89528:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p){return p<0&&(p+=1),p>1&&(p-=1),p<.16666666666666666?i+(a-i)*6*p:p<.5?a:p<.6666666666666666?i+(a-i)*(.6666666666666666-p)*6:i};r.exports=x},30100:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(40987),p=i(90664),c=function(o){var u=p(o);return new a(u.r,u.g,u.b,u.a)};r.exports=c},90664:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){return i>16777215?{a:i>>>24,r:i>>16&255,g:i>>8&255,b:i&255}:{a:255,r:i>>16&255,g:i>>8&255,b:i&255}};r.exports=x},13699:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(28915),p=i(37589),c=function(l,d,f,h,A,g,v,y){v===void 0&&(v=100),y===void 0&&(y=0);var C=y/v,b=a(l,h,C),T=a(d,A,C),S=a(f,g,C);return{r:b,g:T,b:S,a:255,color:p(b,T,S)}},o=function(l,d,f,h){return f===void 0&&(f=100),h===void 0&&(h=0),c(l.r,l.g,l.b,d.r,d.g,d.b,f,h)},u=function(l,d,f,h,A,g){return A===void 0&&(A=100),g===void 0&&(g=0),c(l.r,l.g,l.b,d,f,h,A,g)};r.exports={RGBWithRGB:c,ColorWithRGB:u,ColorWithColor:o}},68957:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(40987),p=function(c){return new a(c.r,c.g,c.b,c.a)};r.exports=p},87388:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(40987),p=function(c){var o=new a,u=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(c.toLowerCase());if(u){var l=parseInt(u[1],10),d=parseInt(u[2],10),f=parseInt(u[3],10),h=u[4]!==void 0?parseFloat(u[4]):1;o.setTo(l,d,f,h*255)}return o};r.exports=p},87837:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p,c){c===void 0&&(c={h:0,s:0,v:0}),i/=255,a/=255,p/=255;var o=Math.min(i,a,p),u=Math.max(i,a,p),l=u-o,d=0,f=u===0?0:l/u,h=u;return u!==o&&(u===i?d=(a-p)/l+(a<p?6:0):u===a?d=(p-i)/l+2:u===p&&(d=(i-a)/l+4),d/=6),c.hasOwnProperty("_h")?(c._h=d,c._s=f,c._v=h):(c.h=d,c.s=f,c.v=h),c};r.exports=x},75723:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(62957),p=function(c,o,u,l,d){return l===void 0&&(l=255),d===void 0&&(d="#"),d==="#"?"#"+((1<<24)+(c<<16)+(o<<8)+u).toString(16).slice(1,7):"0x"+a(l)+a(c)+a(o)+a(u)};r.exports=p},85386:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(30976),p=i(40987),c=function(o,u){return o===void 0&&(o=0),u===void 0&&(u=255),new p(a(o,u),a(o,u),a(o,u))};r.exports=c},80333:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(70238),p=i(30100),c=i(68957),o=i(87388),u=function(l){var d=typeof l;switch(d){case"string":return l.substr(0,3).toLowerCase()==="rgb"?o(l):a(l);case"number":return p(l);case"object":return c(l)}};r.exports=u},3956:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(40987);a.ColorSpectrum=i(92728),a.ColorToRGBA=i(91588),a.ComponentToHex=i(62957),a.GetColor=i(37589),a.GetColor32=i(1e3),a.HexStringToColor=i(70238),a.HSLToColor=i(62183),a.HSVColorWheel=i(27939),a.HSVToRGB=i(7537),a.HueToComponent=i(89528),a.IntegerToColor=i(30100),a.IntegerToRGB=i(90664),a.Interpolate=i(13699),a.ObjectToColor=i(68957),a.RandomRGB=i(85386),a.RGBStringToColor=i(87388),a.RGBToHSV=i(87837),a.RGBToString=i(75723),a.ValueToColor=i(80333),r.exports=a},27460:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Align:i(71926),BaseShader:i(73894),Bounds:i(58724),Canvas:i(26253),Color:i(3956),ColorMatrix:i(89422),Masks:i(69781),RGB:i(51767)}},6858:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(39429),c=new a({initialize:function(u,l,d,f,h,A){l||(l=u.sys.make.image({x:d,y:f,key:h,frame:A,add:!1})),this.bitmapMask=l,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(o){this.bitmapMask=o},preRenderWebGL:function(o,u,l){o.pipelines.BITMAPMASK_PIPELINE.beginMask(this,u,l)},postRenderWebGL:function(o,u,l){o.pipelines.BITMAPMASK_PIPELINE.endMask(this,u,l)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});p.register("bitmapMask",function(o,u,l,d,f){return new c(this.scene,o,u,l,d,f)}),r.exports=c},80661:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=new a({initialize:function(o,u){this.geometryMask=u,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(c){return this.geometryMask=c,this},setInvertAlpha:function(c){return c===void 0&&(c=!0),this.invertAlpha=c,this},preRenderWebGL:function(c,o,u){var l=c.gl;c.flush(),c.maskStack.length===0&&(l.enable(l.STENCIL_TEST),l.clear(l.STENCIL_BUFFER_BIT),c.maskCount=0),c.currentCameraMask.mask!==this&&(c.currentMask.mask=this),c.maskStack.push({mask:this,camera:u}),this.applyStencil(c,u,!0),c.maskCount++},applyStencil:function(c,o,u){var l=c.gl,d=this.geometryMask,f=c.maskCount,h=255;l.colorMask(!1,!1,!1,!1),u?(l.stencilFunc(l.EQUAL,f,h),l.stencilOp(l.KEEP,l.KEEP,l.INCR),f++):(l.stencilFunc(l.EQUAL,f+1,h),l.stencilOp(l.KEEP,l.KEEP,l.DECR)),this.level=f,d.renderWebGL(c,d,o),c.flush(),l.colorMask(!0,!0,!0,!0),l.stencilOp(l.KEEP,l.KEEP,l.KEEP),this.invertAlpha?l.stencilFunc(l.NOTEQUAL,f,h):l.stencilFunc(l.EQUAL,f,h)},postRenderWebGL:function(c){var o=c.gl;c.maskStack.pop(),c.maskCount--,c.flush();var u=c.currentMask;if(c.maskStack.length===0)u.mask=null,o.disable(o.STENCIL_TEST);else{var l=c.maskStack[c.maskStack.length-1];l.mask.applyStencil(c,l.camera,!1),c.currentCameraMask.mask!==l.mask?(u.mask=l.mask,u.camera=l.camera):u.mask=null}},preRenderCanvas:function(c,o,u){var l=this.geometryMask;c.currentContext.save(),l.renderCanvas(c,l,u,null,null,!0),c.currentContext.clip()},postRenderCanvas:function(c){c.currentContext.restore()},destroy:function(){this.geometryMask=null}});r.exports=p},69781:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={BitmapMask:i(6858),GeometryMask:i(80661)}},73894:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=new a({initialize:function(o,u,l,d){(!u||u==="")&&(u=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!l||l==="")&&(l=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),d===void 0&&(d=null),this.key=o,this.fragmentSrc=u,this.vertexSrc=l,this.uniforms=d}});r.exports=p},40366:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){var p;if(a)typeof a=="string"?p=document.getElementById(a):typeof a=="object"&&a.nodeType===1&&(p=a);else if(i.parentElement||a===null)return i;return p||(p=document.body),p.appendChild(i),i};r.exports=x},83719:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(40366),p=function(c){var o=c.config;if(!(!o.parent||!o.domCreateContainer)){var u=document.createElement("div");u.style.cssText=["display: block;","width: "+c.scale.width+"px;","height: "+c.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+o.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),c.domContainer=u,a(u,o.parent)}};r.exports=p},57264:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(25892),p=function(c){if(document.readyState==="complete"||document.readyState==="interactive"){c();return}var o=function(){document.removeEventListener("deviceready",o,!0),document.removeEventListener("DOMContentLoaded",o,!0),window.removeEventListener("load",o,!0),c()};document.body?a.cordova?document.addEventListener("deviceready",o,!1):(document.addEventListener("DOMContentLoaded",o,!0),window.addEventListener("load",o,!0)):window.setTimeout(o,20)};r.exports=p},57811:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){if(!i)return window.innerHeight;var a=Math.abs(window.orientation),p={w:0,h:0},c=document.createElement("div");return c.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(c),p.w=a===90?c.offsetHeight:window.innerWidth,p.h=a===90?window.innerWidth:c.offsetHeight,document.documentElement.removeChild(c),c=null,Math.abs(window.orientation)!==90?p.h:p.w};r.exports=x},45818:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(13560),p=function(c,o){var u=window.screen,l=u?u.orientation||u.mozOrientation||u.msOrientation:!1;if(l&&typeof l.type=="string")return l.type;if(typeof l=="string")return l;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?a.ORIENTATION.PORTRAIT:a.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return a.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return a.ORIENTATION.LANDSCAPE}else return o>c?a.ORIENTATION.PORTRAIT:a.ORIENTATION.LANDSCAPE};r.exports=p},74403:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){var a;return i!==""&&(typeof i=="string"?a=document.getElementById(i):i&&i.nodeType===1&&(a=i)),a||(a=document.body),a};r.exports=x},56836:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){var a="";try{if(window.DOMParser){var p=new DOMParser;a=p.parseFromString(i,"text/xml")}else a=new ActiveXObject("Microsoft.XMLDOM"),a.loadXML(i)}catch{a=null}return!a||!a.documentElement||a.getElementsByTagName("parsererror").length?null:a};r.exports=x},35846:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){i.parentNode&&i.parentNode.removeChild(i)};r.exports=x},43092:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(29747),c=new a({initialize:function(){this.isRunning=!1,this.callback=p,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var u=this;this.step=function l(d){u.callback(d),u.isRunning&&(u.timeOutID=window.requestAnimationFrame(l))},this.stepTimeout=function l(){u.isRunning&&(u.timeOutID=window.setTimeout(l,u.delay)),u.callback(window.performance.now())}},start:function(o,u,l){this.isRunning||(this.callback=o,this.isSetTimeOut=u,this.delay=l,this.isRunning=!0,this.timeOutID=u?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=p}});r.exports=c},84902:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={AddToDOM:i(40366),DOMContentLoaded:i(57264),GetInnerHeight:i(57811),GetScreenOrientation:i(45818),GetTarget:i(74403),ParseXML:i(56836),RemoveFromDOM:i(35846),RequestAnimationFrame:i(43092)};r.exports=a},47565:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(50792),c=i(37277),o=new a({Extends:p,initialize:function(){p.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});c.register("EventEmitter",o,"events"),r.exports=o},93055:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={EventEmitter:i(47565)}},20122:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(72898),c=i(14811),o=new a({Extends:p,initialize:function(l,d){d===void 0&&(d=1),p.call(this,c.BARREL,l),this.amount=d}});r.exports=o},32251:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(72898),c=i(14811),o=new a({Extends:p,initialize:function(l,d,f,h,A,g,v){f===void 0&&(f=1),h===void 0&&(h=1),A===void 0&&(A=1),g===void 0&&(g=1),v===void 0&&(v=4),p.call(this,c.BLOOM,l),this.steps=v,this.offsetX=f,this.offsetY=h,this.blurStrength=A,this.strength=g,this.glcolor=[1,1,1],d!=null&&(this.color=d)},color:{get:function(){var u=this.glcolor;return(u[0]*255<<16)+(u[1]*255<<8)+(u[2]*255|0)},set:function(u){var l=this.glcolor;l[0]=(u>>16&255)/255,l[1]=(u>>8&255)/255,l[2]=(u&255)/255}}});r.exports=o},9047:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(72898),c=i(14811),o=new a({Extends:p,initialize:function(l,d,f,h,A,g,v){d===void 0&&(d=0),f===void 0&&(f=2),h===void 0&&(h=2),A===void 0&&(A=1),v===void 0&&(v=4),p.call(this,c.BLUR,l),this.quality=d,this.x=f,this.y=h,this.steps=v,this.strength=A,this.glcolor=[1,1,1],g!=null&&(this.color=g)},color:{get:function(){var u=this.glcolor;return(u[0]*255<<16)+(u[1]*255<<8)+(u[2]*255|0)},set:function(u){var l=this.glcolor;l[0]=(u>>16&255)/255,l[1]=(u>>8&255)/255,l[2]=(u&255)/255}}});r.exports=o},27885:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(72898),c=i(14811),o=new a({Extends:p,initialize:function(l,d,f,h,A,g,v,y){d===void 0&&(d=.5),f===void 0&&(f=1),h===void 0&&(h=.2),A===void 0&&(A=!1),g===void 0&&(g=1),v===void 0&&(v=1),y===void 0&&(y=1),p.call(this,c.BOKEH,l),this.radius=d,this.amount=f,this.contrast=h,this.isTiltShift=A,this.strength=y,this.blurX=g,this.blurY=v}});r.exports=o},12578:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(72898),c=i(14811),o=new a({Extends:p,initialize:function(l,d,f,h,A,g){d===void 0&&(d=8),A===void 0&&(A=1),g===void 0&&(g=.005),p.call(this,c.CIRCLE,l),this.scale=A,this.feather=g,this.thickness=d,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],f!=null&&(this.color=f),h!=null&&(this.backgroundColor=h)},color:{get:function(){var u=this.glcolor;return(u[0]*255<<16)+(u[1]*255<<8)+(u[2]*255|0)},set:function(u){var l=this.glcolor;l[0]=(u>>16&255)/255,l[1]=(u>>8&255)/255,l[2]=(u&255)/255}},backgroundColor:{get:function(){var u=this.glcolor2;return(u[0]*255<<16)+(u[1]*255<<8)+(u[2]*255|0)},set:function(u){var l=this.glcolor2;l[0]=(u>>16&255)/255,l[1]=(u>>8&255)/255,l[2]=(u&255)/255}},backgroundAlpha:{get:function(){return this.glcolor2[3]},set:function(u){this.glcolor2[3]=u}}});r.exports=o},15802:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(89422),c=i(14811),o=new a({Extends:p,initialize:function(l){p.call(this),this.type=c.COLOR_MATRIX,this.gameObject=l,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});r.exports=o},72898:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=new a({initialize:function(o,u){this.type=o,this.gameObject=u,this.active=!0},setActive:function(c){return this.active=c,this},destroy:function(){this.gameObject=null,this.active=!1}});r.exports=p},44553:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(72898),c=i(14811),o=new a({Extends:p,initialize:function(l,d,f,h){d===void 0&&(d="__WHITE"),f===void 0&&(f=.005),h===void 0&&(h=.005),p.call(this,c.DISPLACEMENT,l),this.x=f,this.y=h,this.glTexture,this.setTexture(d)},setTexture:function(u){var l=this.gameObject.scene.sys.textures.getFrame(u);return l&&(this.glTexture=l.glTexture),this}});r.exports=o},68531:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(72898),c=i(14811),o=new a({Extends:p,initialize:function(l,d,f,h,A){f===void 0&&(f=4),h===void 0&&(h=0),A===void 0&&(A=!1),p.call(this,c.GLOW,l),this.outerStrength=f,this.innerStrength=h,this.knockout=A,this.glcolor=[1,1,1,1],d!==void 0&&(this.color=d)},color:{get:function(){var u=this.glcolor;return(u[0]*255<<16)+(u[1]*255<<8)+(u[2]*255|0)},set:function(u){var l=this.glcolor;l[0]=(u>>16&255)/255,l[1]=(u>>8&255)/255,l[2]=(u&255)/255}}});r.exports=o},37102:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(72898),c=i(14811),o=new a({Extends:p,initialize:function(l,d,f,h,A,g,v,y,C){h===void 0&&(h=.2),A===void 0&&(A=0),g===void 0&&(g=0),v===void 0&&(v=0),y===void 0&&(y=1),C===void 0&&(C=0),p.call(this,c.GRADIENT,l),this.alpha=h,this.size=C,this.fromX=A,this.fromY=g,this.toX=v,this.toY=y,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],d!=null&&(this.color1=d),f!=null&&(this.color2=f)},color1:{get:function(){var u=this.glcolor1;return(u[0]<<16)+(u[1]<<8)+(u[2]|0)},set:function(u){var l=this.glcolor1;l[0]=u>>16&255,l[1]=u>>8&255,l[2]=u&255}},color2:{get:function(){var u=this.glcolor2;return(u[0]<<16)+(u[1]<<8)+(u[2]|0)},set:function(u){var l=this.glcolor2;l[0]=u>>16&255,l[1]=u>>8&255,l[2]=u&255}}});r.exports=o},86886:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(72898),c=i(14811),o=new a({Extends:p,initialize:function(l,d){d===void 0&&(d=1),p.call(this,c.PIXELATE,l),this.amount=d}});r.exports=o},92322:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(72898),c=i(14811),o=new a({Extends:p,initialize:function(l,d,f,h,A,g,v,y){d===void 0&&(d=0),f===void 0&&(f=0),h===void 0&&(h=.1),A===void 0&&(A=1),v===void 0&&(v=6),y===void 0&&(y=1),p.call(this,c.SHADOW,l),this.x=d,this.y=f,this.decay=h,this.power=A,this.glcolor=[0,0,0,1],this.samples=v,this.intensity=y,g!==void 0&&(this.color=g)},color:{get:function(){var u=this.glcolor;return(u[0]*255<<16)+(u[1]*255<<8)+(u[2]*255|0)},set:function(u){var l=this.glcolor;l[0]=(u>>16&255)/255,l[1]=(u>>8&255)/255,l[2]=(u&255)/255}}});r.exports=o},39563:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(72898),c=i(14811),o=new a({Extends:p,initialize:function(l,d,f,h,A){d===void 0&&(d=.5),f===void 0&&(f=.5),h===void 0&&(h=3),A===void 0&&(A=!1),p.call(this,c.SHINE,l),this.speed=d,this.lineWidth=f,this.gradient=h,this.reveal=A}});r.exports=o},56448:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(72898),c=i(14811),o=new a({Extends:p,initialize:function(l,d,f,h,A){d===void 0&&(d=.5),f===void 0&&(f=.5),h===void 0&&(h=.5),A===void 0&&(A=.5),p.call(this,c.VIGNETTE,l),this.x=d,this.y=f,this.radius=h,this.strength=A}});r.exports=o},38433:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(72898),c=i(14811),o=new a({Extends:p,initialize:function(l,d,f,h,A){d===void 0&&(d=.1),f===void 0&&(f=0),h===void 0&&(h=0),A===void 0&&(A=!1),p.call(this,c.WIPE,l),this.progress=0,this.wipeWidth=d,this.direction=f,this.axis=h,this.reveal=A}});r.exports=o},14811:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19};r.exports=x},66064:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(79291),p=i(14811),c={Barrel:i(20122),Controller:i(72898),Bloom:i(32251),Blur:i(9047),Bokeh:i(27885),Circle:i(12578),ColorMatrix:i(15802),Displacement:i(44553),Glow:i(68531),Gradient:i(37102),Pixelate:i(86886),Shadow:i(92322),Shine:i(39563),Vignette:i(56448),Wipe:i(38433)};c=a(!1,c,p),r.exports=c},25305:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(10312),p=i(23568),c=function(o,u,l){u.x=p(l,"x",0),u.y=p(l,"y",0),u.depth=p(l,"depth",0),u.flipX=p(l,"flipX",!1),u.flipY=p(l,"flipY",!1);var d=p(l,"scale",null);typeof d=="number"?u.setScale(d):d!==null&&(u.scaleX=p(d,"x",1),u.scaleY=p(d,"y",1));var f=p(l,"scrollFactor",null);typeof f=="number"?u.setScrollFactor(f):f!==null&&(u.scrollFactorX=p(f,"x",1),u.scrollFactorY=p(f,"y",1)),u.rotation=p(l,"rotation",0);var h=p(l,"angle",null);h!==null&&(u.angle=h),u.alpha=p(l,"alpha",1);var A=p(l,"origin",null);if(typeof A=="number")u.setOrigin(A);else if(A!==null){var g=p(A,"x",.5),v=p(A,"y",.5);u.setOrigin(g,v)}u.blendMode=p(l,"blendMode",a.NORMAL),u.visible=p(l,"visible",!0);var y=p(l,"add",!0);return y&&o.sys.displayList.add(u),u.preUpdate&&o.sys.updateList.add(u),u};r.exports=c},13059:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(23568),p=function(c,o){var u=a(o,"anims",null);if(u===null)return c;if(typeof u=="string")c.anims.play(u);else if(typeof u=="object"){var l=c.anims,d=a(u,"key",void 0);if(d){var f=a(u,"startFrame",void 0),h=a(u,"delay",0),A=a(u,"repeat",0),g=a(u,"repeatDelay",0),v=a(u,"yoyo",!1),y=a(u,"play",!1),C=a(u,"delayedPlay",0),b={key:d,delay:h,repeat:A,repeatDelay:g,yoyo:v,startFrame:f};y?l.play(b):C>0?l.playAfterDelay(b,C):l.load(b)}}return c};r.exports=p},8050:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(73162),c=i(37277),o=i(51708),u=i(44594),l=i(19186),d=new a({Extends:p,initialize:function(h){p.call(this,h),this.sortChildrenFlag=!1,this.scene=h,this.systems=h.sys,this.events=h.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(u.BOOT,this.boot,this),this.events.on(u.START,this.start,this)},boot:function(){this.events.once(u.DESTROY,this.destroy,this)},addChildCallback:function(f){f.displayList&&f.displayList!==this&&f.removeFromDisplayList(),f.parentContainer&&f.parentContainer.remove(f),f.displayList||(this.queueDepthSort(),f.displayList=this,f.emit(o.ADDED_TO_SCENE,f,this.scene),this.events.emit(u.ADDED_TO_SCENE,f,this.scene))},removeChildCallback:function(f){this.queueDepthSort(),f.displayList=null,f.emit(o.REMOVED_FROM_SCENE,f,this.scene),this.events.emit(u.REMOVED_FROM_SCENE,f,this.scene)},start:function(){this.events.once(u.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(l(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(f,h){return f._depth-h._depth},getChildren:function(){return this.list},shutdown:function(){for(var f=this.list,h=f.length;h--;)f[h]&&f[h].destroy(!0);f.length=0,this.events.off(u.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(u.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});c.register("DisplayList",d,"displayList"),r.exports=d},95643:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(53774),c=i(45893),o=i(50792),u=i(51708),l=i(44594),d=new a({Extends:o,initialize:function(h,A){o.call(this),this.scene=h,this.displayList=null,this.type=A,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(u.ADDED_TO_SCENE,this.addedToScene,this),this.on(u.REMOVED_FROM_SCENE,this.removedFromScene,this),h.sys.queueDepthSort()},setActive:function(f){return this.active=f,this},setName:function(f){return this.name=f,this},setState:function(f){return this.state=f,this},setDataEnabled:function(){return this.data||(this.data=new c(this)),this},setData:function(f,h){return this.data||(this.data=new c(this)),this.data.set(f,h),this},incData:function(f,h){return this.data||(this.data=new c(this)),this.data.inc(f,h),this},toggleData:function(f){return this.data||(this.data=new c(this)),this.data.toggle(f),this},getData:function(f){return this.data||(this.data=new c(this)),this.data.get(f)},setInteractive:function(f,h,A){return this.scene.sys.input.enable(this,f,h,A),this},disableInteractive:function(f){return f===void 0&&(f=!1),this.scene.sys.input.disable(this,f),this},removeInteractive:function(f){return f===void 0&&(f=!1),this.scene.sys.input.clear(this),f&&this.scene.sys.input.resetCursor(),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return p(this)},willRender:function(f){var h=this.displayList&&this.displayList.active?this.displayList.willRender(f):!0;return!(!h||d.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&f.id)},getIndexList:function(){for(var f=this,h=this.parentContainer,A=[];h&&(A.unshift(h.getIndex(f)),f=h,h.parentContainer);)h=h.parentContainer;return this.displayList?A.unshift(this.displayList.getIndex(f)):A.unshift(this.scene.sys.displayList.getIndex(f)),A},addToDisplayList:function(f){return f===void 0&&(f=this.scene.sys.displayList),this.displayList&&this.displayList!==f&&this.removeFromDisplayList(),f.exists(this)||(this.displayList=f,f.add(this,!0),f.queueDepthSort(),this.emit(u.ADDED_TO_SCENE,this,this.scene),f.events.emit(l.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var f=this.displayList||this.scene.sys.displayList;return f&&f.exists(this)&&(f.remove(this,!0),f.queueDepthSort(),this.displayList=null,this.emit(u.REMOVED_FROM_SCENE,this,this.scene),f.events.emit(l.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},getDisplayList:function(){var f=null;return this.parentContainer?f=this.parentContainer.list:this.displayList&&(f=this.displayList.list),f},destroy:function(f){!this.scene||this.ignoreDestroy||(f===void 0&&(f=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(u.DESTROY,this,f),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});d.RENDER_MASK=15,r.exports=d},44603:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(37277),c=i(44594),o=new a({initialize:function(l){this.scene=l,this.systems=l.sys,this.events=l.sys.events,this.displayList,this.updateList,this.events.once(c.BOOT,this.boot,this),this.events.on(c.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(c.DESTROY,this.destroy,this)},start:function(){this.events.once(c.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(c.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(c.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});o.register=function(u,l){o.prototype.hasOwnProperty(u)||(o.prototype[u]=l)},o.remove=function(u){o.prototype.hasOwnProperty(u)&&delete o.prototype[u]},p.register("GameObjectCreator",o,"make"),r.exports=o},39429:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(37277),c=i(44594),o=new a({initialize:function(l){this.scene=l,this.systems=l.sys,this.events=l.sys.events,this.displayList,this.updateList,this.events.once(c.BOOT,this.boot,this),this.events.on(c.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(c.DESTROY,this.destroy,this)},start:function(){this.events.once(c.SHUTDOWN,this.shutdown,this)},existing:function(u){return(u.renderCanvas||u.renderWebGL)&&this.displayList.add(u),u.preUpdate&&this.updateList.add(u),u},shutdown:function(){this.events.off(c.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(c.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});o.register=function(u,l){o.prototype.hasOwnProperty(u)||(o.prototype[u]=l)},o.remove=function(u){o.prototype.hasOwnProperty(u)&&delete o.prototype[u]},p.register("GameObjectFactory",o,"add"),r.exports=o},91296:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(61340),p=new a,c=new a,o=new a,u={camera:p,sprite:c,calc:o},l=function(d,f,h){var A=p,g=c,v=o;return g.applyITRS(d.x,d.y,d.rotation,d.scaleX,d.scaleY),A.copyFrom(f.matrix),h?(A.multiplyWithOffset(h,-f.scrollX*d.scrollFactorX,-f.scrollY*d.scrollFactorY),g.e=d.x,g.f=d.y):(g.e-=f.scrollX*d.scrollFactorX,g.f-=f.scrollY*d.scrollFactorY),A.multiply(g,v),u};r.exports=l},45027:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(25774),c=i(37277),o=i(44594),u=new a({Extends:p,initialize:function(d){p.call(this),this.checkQueue=!0,this.scene=d,this.systems=d.sys,d.sys.events.once(o.BOOT,this.boot,this),d.sys.events.on(o.START,this.start,this)},boot:function(){this.systems.events.once(o.DESTROY,this.destroy,this)},start:function(){var l=this.systems.events;l.on(o.PRE_UPDATE,this.update,this),l.on(o.UPDATE,this.sceneUpdate,this),l.once(o.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(l,d){for(var f=this._active,h=f.length,A=0;A<h;A++){var g=f[A];g.active&&g.preUpdate.call(g,l,d)}},shutdown:function(){for(var l=this._active.length;l--;)this._active[l].destroy(!0);for(l=this._pending.length;l--;)this._pending[l].destroy(!0);for(l=this._destroy.length;l--;)this._destroy[l].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var d=this.systems.events;d.off(o.PRE_UPDATE,this.update,this),d.off(o.UPDATE,this.sceneUpdate,this),d.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(o.START,this.start,this),this.scene=null,this.systems=null}});c.register("UpdateList",u,"updateList"),r.exports=u},3217:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p,c,o,u,l,d,f,h,A,g,v,y,C){var b=p.x-a.displayOriginX+o,T=p.y-a.displayOriginY+u,S=b+p.w,F=T+p.h,B=l.a,N=l.b,L=l.c,R=l.d,I=l.e,M=l.f,P=b*B+T*L+I,U=b*N+T*R+M,z=b*B+F*L+I,W=b*N+F*R+M,Z=S*B+F*L+I,j=S*N+F*R+M,H=S*B+T*L+I,V=S*N+T*R+M;d&&(P=Math.round(P),U=Math.round(U),z=Math.round(z),W=Math.round(W),Z=Math.round(Z),j=Math.round(j),H=Math.round(H),V=Math.round(V)),i.batchQuad(a,P,U,z,W,Z,j,H,V,c.u0,c.v0,c.u1,c.v1,f,h,A,g,v,y,C)};r.exports=x},53048:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p,c){if(p===void 0&&(p=!1),c===void 0)return c={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},c;var o=i.text,u=o.length,l=i.maxWidth,d=i.wordWrapCharCode,f=Number.MAX_VALUE,h=Number.MAX_VALUE,A=0,g=0,v=i.fontData.chars,y=i.fontData.lineHeight,C=i.letterSpacing,b=i.lineSpacing,T=0,S=0,F=0,B=null,N=i._align,L=0,R=0,I=i.fontSize/i.fontData.size,M=I*i.scaleX,P=I*i.scaleY,U=null,z=0,W=[],Z=Number.MAX_VALUE,j=0,H=0,V=0,k,X,Q,J=[],$=[],_=null,te=function(tt,Ve){for(var ct=0,ut=0;ut<tt.length;ut++){var Se=tt.charCodeAt(ut),Xe=Ve.chars[Se];Xe&&(ct+=Xe.xAdvance)}return ct*M};if(l>0){Q=o.split(`
`);var se=[];for(k=0;k<Q.length;k++){var ce=Q[k],ge="",ue="",re="",Ce="";for(X=0;X<ce.length;X++)if(F=ce.charCodeAt(X),ge+=ce[X],F===d||X===ce.length-1){Ce=re+ge;var ye=te(Ce,i.fontData);ye<=l?re=Ce:(ue=ue.slice(0,-1),ue+=(ue?`
`:"")+re,re=ge),ge=""}ue=ue.slice(0,-1),ue+=(ue?`
`:"")+re,se.push(ue)}o=se.join(`
`),c.wrappedText=o,u=o.length}var Ee=0;for(k=0;k<u;k++){if(F=o.charCodeAt(k),F===10){_!==null&&(J.push({word:_.word,i:_.i,x:_.x*M,y:_.y*P,w:_.w*M,h:_.h*P}),_=null),U=null,W[H]=V,V>j&&(j=V),V<Z&&(Z=V),H++,V=0,T=0,S=(y+b)*H;continue}if(B=v[F],!!B){if(L=T,R=S,U!==null){var Me=B.kerning[z];L+=Me!==void 0?Me:0}f>L&&(f=L),h>R&&(h=R);var Be=L+B.xAdvance,ve=R+y;A<Be&&(A=Be),g<ve&&(g=ve);var Re=B.xOffset+B.xAdvance+(Me!==void 0?Me:0);F===d?_!==null&&(J.push({word:_.word,i:_.i,x:_.x*M,y:_.y*P,w:_.w*M,h:_.h*P}),_=null):(_===null&&(_={word:"",i:Ee,x:T,y:S,w:0,h:y}),_.word=_.word.concat(o[k]),_.w+=Re),$.push({i:Ee,idx:k,char:o[k],code:F,x:(B.xOffset+L)*I,y:(B.yOffset+S)*I,w:B.width*I,h:B.height*I,t:S*I,r:Be*I,b:y*I,line:H,glyph:B}),T+=B.xAdvance+C+(Me!==void 0?Me:0),U=B,z=F,V=Be*I,Ee++}}if(_!==null&&J.push({word:_.word,i:_.i,x:_.x*M,y:_.y*P,w:_.w*M,h:_.h*P}),W[H]=V,V>j&&(j=V),V<Z&&(Z=V),N>0)for(var Pe=0;Pe<$.length;Pe++){var Ge=$[Pe];if(N===1){var We=(j-W[Ge.line])/2;Ge.x+=We,Ge.r+=We}else if(N===2){var at=j-W[Ge.line];Ge.x+=at,Ge.r+=at}}var qe=c.local,Ye=c.global;return Q=c.lines,qe.x=f*I,qe.y=h*I,qe.width=A*I,qe.height=g*I,Ye.x=i.x-i._displayOriginX+f*M,Ye.y=i.y-i._displayOriginY+h*P,Ye.width=A*M,Ye.height=g*P,Q.shortest=Z,Q.longest=j,Q.lengths=W,a&&(qe.x=Math.ceil(qe.x),qe.y=Math.ceil(qe.y),qe.width=Math.ceil(qe.width),qe.height=Math.ceil(qe.height),Ye.x=Math.ceil(Ye.x),Ye.y=Math.ceil(Ye.y),Ye.width=Math.ceil(Ye.width),Ye.height=Math.ceil(Ye.height),Q.shortest=Math.ceil(Z),Q.longest=Math.ceil(j)),p&&(i._displayOriginX=i.originX*qe.width,i._displayOriginY=i.originY*qe.height,Ye.x=i.x-i._displayOriginX*i.scaleX,Ye.y=i.y-i._displayOriginY*i.scaleY,a&&(Ye.x=Math.ceil(Ye.x),Ye.y=Math.ceil(Ye.y))),c.words=J,c.characters=$,c.lines.height=y,c.scale=I,c.scaleX=i.scaleX,c.scaleY=i.scaleY,c};r.exports=x},61327:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(21859),p=function(c,o,u,l,d,f,h){var A=c.sys.textures.get(u),g=A.get(l),v=c.sys.cache.xml.get(d);if(g&&v){var y=a(v,g,f,h,A);return c.sys.cache.bitmapFont.add(o,{data:y,texture:u,frame:l,fromAtlas:!0}),!0}else return!1};r.exports=p},6925:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(35154),p=function(c,o){var u=o.width,l=o.height,d=Math.floor(u/2),f=Math.floor(l/2),h=a(o,"chars","");if(h!==""){var A=a(o,"image",""),g=c.sys.textures.getFrame(A),v=g.cutX,y=g.cutY,C=g.source.width,b=g.source.height,T=a(o,"offset.x",0),S=a(o,"offset.y",0),F=a(o,"spacing.x",0),B=a(o,"spacing.y",0),N=a(o,"lineSpacing",0),L=a(o,"charsPerRow",null);L===null&&(L=C/u,L>h.length&&(L=h.length));for(var R=T,I=S,M={retroFont:!0,font:A,size:u,lineHeight:l+N,chars:{}},P=0,U=0;U<h.length;U++){var z=h.charCodeAt(U),W=(v+R)/C,Z=(y+I)/b,j=(v+R+u)/C,H=(y+I+l)/b;M.chars[z]={x:R,y:I,width:u,height:l,centerX:d,centerY:f,xOffset:0,yOffset:0,xAdvance:u,data:{},kerning:{},u0:W,v0:Z,u1:j,v1:H},P++,P===L?(P=0,R=T,I+=l+B):R+=u+F}var V={data:M,frame:null,texture:A};return V}};r.exports=p},21859:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function x(a,p){return parseInt(a.getAttribute(p),10)}var i=function(a,p,c,o,u){c===void 0&&(c=0),o===void 0&&(o=0);var l=p.cutX,d=p.cutY,f=p.source.width,h=p.source.height,A=p.sourceIndex,g={},v=a.getElementsByTagName("info")[0],y=a.getElementsByTagName("common")[0];g.font=v.getAttribute("face"),g.size=x(v,"size"),g.lineHeight=x(y,"lineHeight")+o,g.chars={};var C=a.getElementsByTagName("char"),b=p!==void 0&&p.trimmed;if(b)var T=p.height,S=p.width;for(var F=0;F<C.length;F++){var B=C[F],N=x(B,"id"),L=String.fromCharCode(N),R=x(B,"x"),I=x(B,"y"),M=x(B,"width"),P=x(B,"height");b&&(R<S&&(S=R),I<T&&(T=I)),b&&T!==0&&S!==0&&(R-=p.x,I-=p.y);var U=(l+R)/f,z=(d+I)/h,W=(l+R+M)/f,Z=(d+I+P)/h;if(g.chars[N]={x:R,y:I,width:M,height:P,centerX:Math.floor(M/2),centerY:Math.floor(P/2),xOffset:x(B,"xoffset"),yOffset:x(B,"yoffset"),xAdvance:x(B,"xadvance")+c,data:{},kerning:{},u0:U,v0:z,u1:W,v1:Z},u&&M!==0&&P!==0){var j=u.add(L,A,R,I,M,P);j&&j.setUVs(M,P,U,z,W,Z)}}var H=a.getElementsByTagName("kerning");for(F=0;F<H.length;F++){var V=H[F],k=x(V,"first"),X=x(V,"second"),Q=x(V,"amount");g.chars[X].kerning[k]=Q}return g};r.exports=i},196:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(87662),p=i(79291),c={Parse:i(6925)};c=p(!1,c,a),r.exports=c},87662:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};r.exports=x},2638:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(22186),p=i(83419),c=i(12310),o=new p({Extends:a,Mixins:[c],initialize:function(l,d,f,h,A,g,v){a.call(this,l,d,f,h,A,g,v),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(u,l){return this.cropWidth=u,this.cropHeight=l,this},setDisplayCallback:function(u){return this.displayCallback=u,this},setScrollX:function(u){return this.scrollX=u,this},setScrollY:function(u){return this.scrollY=u,this}});r.exports=o},86741:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(20926),p=function(c,o,u,l){var d=o._text,f=d.length,h=c.currentContext;if(!(f===0||!a(c,h,o,u,l))){u.addToRenderList(o);var A=o.fromAtlas?o.frame:o.texture.frames.__BASE,g=o.displayCallback,v=o.callbackData,y=o.fontData.chars,C=o.fontData.lineHeight,b=o._letterSpacing,T=0,S=0,F=0,B=null,N=0,L=0,R=0,I=0,M=0,P=0,U=null,z=0,W=o.frame.source.image,Z=A.cutX,j=A.cutY,H=0,V=0,k=o._fontSize/o.fontData.size,X=o._align,Q=0,J=0;o.getTextBounds(!1);var $=o._bounds.lines;X===1?J=($.longest-$.lengths[0])/2:X===2&&(J=$.longest-$.lengths[0]),h.translate(-o.displayOriginX,-o.displayOriginY);var _=u.roundPixels;o.cropWidth>0&&o.cropHeight>0&&(h.beginPath(),h.rect(0,0,o.cropWidth,o.cropHeight),h.clip());for(var te=0;te<f;te++){if(V=k,H=0,F=d.charCodeAt(te),F===10){Q++,X===1?J=($.longest-$.lengths[Q])/2:X===2&&(J=$.longest-$.lengths[Q]),T=0,S+=C,U=null;continue}if(B=y[F],!!B){if(N=Z+B.x,L=j+B.y,R=B.width,I=B.height,M=B.xOffset+T-o.scrollX,P=B.yOffset+S-o.scrollY,U!==null){var se=B.kerning[z];M+=se!==void 0?se:0}if(g){v.index=te,v.charCode=F,v.x=M,v.y=P,v.scale=V,v.rotation=H,v.data=B.data;var ce=g(v);M=ce.x,P=ce.y,V=ce.scale,H=ce.rotation}M*=V,P*=V,M+=J,T+=B.xAdvance+b+(se!==void 0?se:0),U=B,z=F,!(R===0||I===0||F===32)&&(_&&(M=Math.round(M),P=Math.round(P)),h.save(),h.translate(M,P),h.rotate(H),h.scale(V,V),h.drawImage(W,N,L,R,I,0,0,R,I),h.restore())}}h.restore()}};r.exports=p},11164:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(2638),p=i(25305),c=i(44603),o=i(23568);c.register("dynamicBitmapText",function(u,l){u===void 0&&(u={});var d=o(u,"font",""),f=o(u,"text",""),h=o(u,"size",!1),A=new a(this.scene,0,0,d,f,h);return l!==void 0&&(u.add=l),p(this.scene,A,u),A})},72566:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(2638),p=i(39429);p.register("dynamicBitmapText",function(c,o,u,l,d){return this.displayList.add(new a(this.scene,c,o,u,l,d))})},12310:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(29747),p=a,c=a;p=i(73482),c=i(86741),r.exports={renderWebGL:p,renderCanvas:c}},73482:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(91296),p=i(61340),c=i(70554),o=new p,u=function(l,d,f,h){var A=d.text,g=A.length;if(g!==0){f.addToRenderList(d);var v=l.pipelines.set(d.pipeline,d),y=a(d,f,h);l.pipelines.preBatch(d);var C=y.sprite,b=y.calc,T=o,S=d.cropWidth>0||d.cropHeight>0;S&&(v.flush(),l.pushScissor(b.tx,b.ty,d.cropWidth*b.scaleX,d.cropHeight*b.scaleY));var F=d.frame,B=F.glTexture,N=d.tintFill,L=c.getTintAppendFloatAlpha(d.tintTopLeft,f.alpha*d._alphaTL),R=c.getTintAppendFloatAlpha(d.tintTopRight,f.alpha*d._alphaTR),I=c.getTintAppendFloatAlpha(d.tintBottomLeft,f.alpha*d._alphaBL),M=c.getTintAppendFloatAlpha(d.tintBottomRight,f.alpha*d._alphaBR),P=v.setGameObject(d),U=0,z=0,W=0,Z=0,j=d.letterSpacing,H,V=0,k=0,X,Q=d.scrollX,J=d.scrollY,$=d.fontData,_=$.chars,te=$.lineHeight,se=d.fontSize/$.size,ce=0,ge=d._align,ue=0,re=0,Ce=d.getTextBounds(!1);d.maxWidth>0&&(A=Ce.wrappedText,g=A.length);var ye=d._bounds.lines;ge===1?re=(ye.longest-ye.lengths[0])/2:ge===2&&(re=ye.longest-ye.lengths[0]);for(var Ee=f.roundPixels,Me=d.displayCallback,Be=d.callbackData,ve=0;ve<g;ve++){if(W=A.charCodeAt(ve),W===10){ue++,ge===1?re=(ye.longest-ye.lengths[ue])/2:ge===2&&(re=ye.longest-ye.lengths[ue]),U=0,z+=te,X=null;continue}if(H=_[W],!!H){V=H.width,k=H.height;var Re=H.xOffset+U-Q,Pe=H.yOffset+z-J;if(X!==null){var Ge=H.kerning[Z]||0;Re+=Ge,U+=Ge}if(U+=H.xAdvance+j,X=H,Z=W,!(V===0||k===0||W===32)){if(se=d.fontSize/d.fontData.size,ce=0,Me){Be.color=0,Be.tint.topLeft=L,Be.tint.topRight=R,Be.tint.bottomLeft=I,Be.tint.bottomRight=M,Be.index=ve,Be.charCode=W,Be.x=Re,Be.y=Pe,Be.scale=se,Be.rotation=ce,Be.data=H.data;var We=Me(Be);Re=We.x,Pe=We.y,se=We.scale,ce=We.rotation,We.color?(L=We.color,R=We.color,I=We.color,M=We.color):(L=We.tint.topLeft,R=We.tint.topRight,I=We.tint.bottomLeft,M=We.tint.bottomRight),L=c.getTintAppendFloatAlpha(L,f.alpha*d._alphaTL),R=c.getTintAppendFloatAlpha(R,f.alpha*d._alphaTR),I=c.getTintAppendFloatAlpha(I,f.alpha*d._alphaBL),M=c.getTintAppendFloatAlpha(M,f.alpha*d._alphaBR)}Re*=se,Pe*=se,Re-=d.displayOriginX,Pe-=d.displayOriginY,Re+=re,T.applyITRS(Re,Pe,ce,se,se),b.multiply(T,C);var at=H.u0,qe=H.v0,Ye=H.u1,tt=H.v1,Ve=V,ct=k,ut=C.e,Se=C.f,Xe=ct*C.c+C.e,rt=ct*C.d+C.f,Rt=Ve*C.a+ct*C.c+C.e,ft=Ve*C.b+ct*C.d+C.f,Ci=Ve*C.a+C.e,Gt=Ve*C.b+C.f;Ee&&(ut=Math.round(ut),Se=Math.round(Se),Xe=Math.round(Xe),rt=Math.round(rt),Rt=Math.round(Rt),ft=Math.round(ft),Ci=Math.round(Ci),Gt=Math.round(Gt)),v.shouldFlush(6)&&(v.flush(),P=v.setGameObject(d)),v.batchQuad(d,ut,Se,Xe,rt,Rt,ft,Ci,Gt,at,qe,Ye,tt,L,R,I,M,N,B,P)}}}S&&(v.flush(),l.popScissor()),l.pipelines.postBatch(d)}};r.exports=u},22186:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(45319),c=i(31401),o=i(95643),u=i(53048),l=i(61327),d=i(21859),f=i(87841),h=i(18658),A=new a({Extends:o,Mixins:[c.Alpha,c.BlendMode,c.Depth,c.GetBounds,c.Mask,c.Origin,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.Texture,c.Tint,c.Transform,c.Visible,h],initialize:function(v,y,C,b,T,S,F){T===void 0&&(T=""),F===void 0&&(F=0),o.call(this,v,"BitmapText"),this.font=b;var B=this.scene.sys.cache.bitmapFont.get(b);if(!B)throw new Error("Invalid BitmapText key: "+b);this.fontData=B.data,this._text="",this._fontSize=S||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=F,this._bounds=u(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=B.fromAtlas,this.setTexture(B.texture,B.frame),this.setPosition(y,C),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(T)},setLeftAlign:function(){return this._align=A.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=A.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=A.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(g){return this._fontSize=g,this._dirty=!0,this},setLetterSpacing:function(g){return g===void 0&&(g=0),this._letterSpacing=g,this._dirty=!0,this},setLineSpacing:function(g){return g===void 0&&(g=0),this.lineSpacing=g,this},setText:function(g){return!g&&g!==0&&(g=""),Array.isArray(g)&&(g=g.join(`
`)),g!==this.text&&(this._text=g.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(g,v,y,C){return g===void 0&&(g=0),v===void 0&&(v=0),y===void 0&&(y=0),C===void 0&&(C=.5),this.dropShadowX=g,this.dropShadowY=v,this.dropShadowColor=y,this.dropShadowAlpha=C,this},setCharacterTint:function(g,v,y,C,b,T,S){g===void 0&&(g=0),v===void 0&&(v=1),y===void 0&&(y=!1),C===void 0&&(C=-1),b===void 0&&(b=C,T=C,S=C);var F=this.text.length;v===-1&&(v=F),g<0&&(g=F+g),g=p(g,0,F-1);for(var B=p(g+v,g,F),N=this.charColors,L=g;L<B;L++){var R=N[L];if(C===-1)N[L]=null;else{var I=y?1:0;R?(R.tintEffect=I,R.tintTL=C,R.tintTR=b,R.tintBL=T,R.tintBR=S):N[L]={tintEffect:I,tintTL:C,tintTR:b,tintBL:T,tintBR:S}}}return this},setWordTint:function(g,v,y,C,b,T,S){v===void 0&&(v=1);for(var F=this.getTextBounds(),B=F.words,N=typeof g=="number",L=0,R=0;R<B.length;R++){var I=B[R];if((N&&R===g||!N&&I.word===g)&&(this.setCharacterTint(I.i,I.word.length,y,C,b,T,S),L++,L===v))return this}return this},getTextBounds:function(g){var v=this._bounds;return(this._dirty||g||this.scaleX!==v.scaleX||this.scaleY!==v.scaleY)&&(u(this,g,!0,v),this._dirty=!1),v},getCharacterAt:function(g,v,y){for(var C=this.getLocalPoint(g,v,null,y),b=this.getTextBounds(),T=b.characters,S=new f,F=0;F<T.length;F++){var B=T[F];if(S.setTo(B.x,B.t,B.r-B.x,B.b),S.contains(C.x,C.y))return B}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(g,v,y){v===void 0&&(v=this._fontSize),y===void 0&&(y=this._align);var C=this.scene.sys.cache.bitmapFont.get(g);return C&&(this.font=g,this.fontData=C.data,this._fontSize=v,this._align=y,this.fromAtlas=C.fromAtlas===!0,this.setTexture(C.texture,C.frame),u(this,!1,!0,this._bounds)),this},setMaxWidth:function(g,v){return this._maxWidth=g,this._dirty=!0,v!==void 0&&(this.wordWrapCharCode=v),this},setDisplaySize:function(g,v){this.setScale(1,1),this.getTextBounds(!1);var y=g/this.width,C=v/this.height;return this.setScale(y,C),this},align:{set:function(g){this._align=g,this._dirty=!0},get:function(){return this._align}},text:{set:function(g){this.setText(g)},get:function(){return this._text}},fontSize:{set:function(g){this._fontSize=g,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(g){this._letterSpacing=g,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(g){this._lineSpacing=g,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(g){this._maxWidth=g,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{set:function(g){this.setScaleX(1),this.getTextBounds(!1);var v=g/this.width;this.setScaleX(v)},get:function(){return this.width}},displayHeight:{set:function(g){this.setScaleY(1),this.getTextBounds(!1);var v=g/this.height;this.setScaleY(v)},get:function(){return this.height}},toJSON:function(){var g=c.ToJSON(this),v={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return g.data=v,g},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});A.ALIGN_LEFT=0,A.ALIGN_CENTER=1,A.ALIGN_RIGHT=2,A.ParseFromAtlas=l,A.ParseXMLBitmapFont=d,r.exports=A},37289:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(20926),p=function(c,o,u,l){var d=o._text,f=d.length,h=c.currentContext;if(!(f===0||!a(c,h,o,u,l))){u.addToRenderList(o);var A=o.fromAtlas?o.frame:o.texture.frames.__BASE,g=o.fontData.chars,v=o.fontData.lineHeight,y=o._letterSpacing,C=o._lineSpacing,b=0,T=0,S=0,F=null,B=0,N=0,L=0,R=0,I=0,M=0,P=null,U=0,z=A.source.image,W=A.cutX,Z=A.cutY,j=o._fontSize/o.fontData.size,H=o._align,V=0,k=0,X=o.getTextBounds(!1);o.maxWidth>0&&(d=X.wrappedText,f=d.length);var Q=o._bounds.lines;H===1?k=(Q.longest-Q.lengths[0])/2:H===2&&(k=Q.longest-Q.lengths[0]),h.translate(-o.displayOriginX,-o.displayOriginY);for(var J=u.roundPixels,$=0;$<f;$++){if(S=d.charCodeAt($),S===10){V++,H===1?k=(Q.longest-Q.lengths[V])/2:H===2&&(k=Q.longest-Q.lengths[V]),b=0,T+=v+C,P=null;continue}if(F=g[S],!!F){if(B=W+F.x,N=Z+F.y,L=F.width,R=F.height,I=F.xOffset+b,M=F.yOffset+T,P!==null){var _=F.kerning[U];I+=_!==void 0?_:0}I*=j,M*=j,I+=k,b+=F.xAdvance+y+(_!==void 0?_:0),P=F,U=S,!(L===0||R===0||S===32)&&(J&&(I=Math.round(I),M=Math.round(M)),h.save(),h.translate(I,M),h.scale(j,j),h.drawImage(z,B,N,L,R,0,0,L,R),h.restore())}}h.restore()}};r.exports=p},57336:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(22186),p=i(25305),c=i(44603),o=i(23568),u=i(35154);c.register("bitmapText",function(l,d){l===void 0&&(l={});var f=u(l,"font",""),h=o(l,"text",""),A=o(l,"size",!1),g=u(l,"align",0),v=new a(this.scene,0,0,f,h,A,g);return d!==void 0&&(l.add=d),p(this.scene,v,l),v})},34914:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(22186),p=i(39429);p.register("bitmapText",function(c,o,u,l,d,f){return this.displayList.add(new a(this.scene,c,o,u,l,d,f))})},18658:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(29747),p=a,c=a;p=i(33590),c=i(37289),r.exports={renderWebGL:p,renderCanvas:c}},33590:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(3217),p=i(91296),c=i(70554),o=function(u,l,d,f){var h=l._text,A=h.length;if(A!==0){d.addToRenderList(l);var g=u.pipelines.set(l.pipeline,l),v=p(l,d,f).calc;u.pipelines.preBatch(l);var y=d.roundPixels,C=d.alpha,b=l.charColors,T=l.tintFill,S=c.getTintAppendFloatAlpha,F=S(l.tintTopLeft,C*l._alphaTL),B=S(l.tintTopRight,C*l._alphaTR),N=S(l.tintBottomLeft,C*l._alphaBL),L=S(l.tintBottomRight,C*l._alphaBR),R=l.frame.glTexture,I=g.setGameObject(l),M=l.getTextBounds(!1),P,U,z,W=M.characters,Z=l.dropShadowX,j=l.dropShadowY,H=Z!==0||j!==0;if(H){var V=l.dropShadowColor,k=l.dropShadowAlpha,X=S(V,C*k*l._alphaTL),Q=S(V,C*k*l._alphaTR),J=S(V,C*k*l._alphaBL),$=S(V,C*k*l._alphaBR);for(P=0;P<W.length;P++)U=W[P],z=U.glyph,!(U.code===32||z.width===0||z.height===0)&&a(g,l,U,z,Z,j,v,y,X,Q,J,$,1,R,I)}for(P=0;P<W.length;P++)if(U=W[P],z=U.glyph,!(U.code===32||z.width===0||z.height===0))if(g.shouldFlush(6)&&(g.flush(),I=g.setGameObject(l)),b[U.i]){var _=b[U.i],te=_.tintEffect,se=S(_.tintTL,C*l._alphaTL),ce=S(_.tintTR,C*l._alphaTR),ge=S(_.tintBL,C*l._alphaBL),ue=S(_.tintBR,C*l._alphaBR);a(g,l,U,z,0,0,v,y,se,ce,ge,ue,te,R,I)}else a(g,l,U,z,0,0,v,y,F,B,N,L,T,R,I);u.pipelines.postBatch(l)}};r.exports=o},6107:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(48011),p=i(46590),c=i(83419),o=i(31401),u=i(4327),l=i(95643),d=i(73162),f=new c({Extends:l,Mixins:[o.Alpha,o.BlendMode,o.Depth,o.Mask,o.Pipeline,o.PostPipeline,o.ScrollFactor,o.Size,o.Texture,o.Transform,o.Visible,a],initialize:function(A,g,v,y,C){l.call(this,A,"Blitter"),this.setTexture(y,C),this.setPosition(g,v),this.initPipeline(),this.initPostPipeline(),this.children=new d,this.renderList=[],this.dirty=!1},create:function(h,A,g,v,y){v===void 0&&(v=!0),y===void 0&&(y=this.children.length),g===void 0?g=this.frame:g instanceof u||(g=this.texture.get(g));var C=new p(this,h,A,g,v);return this.children.addAt(C,y,!1),this.dirty=!0,C},createFromCallback:function(h,A,g,v){for(var y=this.createMultiple(A,g,v),C=0;C<y.length;C++){var b=y[C];h.call(this,b,C)}return y},createMultiple:function(h,A,g){A===void 0&&(A=this.frame.name),g===void 0&&(g=!0),Array.isArray(A)||(A=[A]);var v=[],y=this;return A.forEach(function(C){for(var b=0;b<h;b++)v.push(y.create(0,0,C,g))}),v},childCanRender:function(h){return h.visible&&h.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});r.exports=f},72396:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p,c){var o=a.getRenderList();if(o.length!==0){var u=i.currentContext,l=p.alpha*a.alpha;if(l!==0){p.addToRenderList(a),u.globalCompositeOperation=i.blendModes[a.blendMode],u.imageSmoothingEnabled=!a.frame.source.scaleMode;var d=a.x-p.scrollX*a.scrollFactorX,f=a.y-p.scrollY*a.scrollFactorY;u.save(),c&&c.copyToContext(u);for(var h=p.roundPixels,A=0;A<o.length;A++){var g=o[A],v=g.flipX||g.flipY,y=g.frame,C=y.canvasData,b=y.x,T=y.y,S=1,F=1,B=g.alpha*l;B!==0&&(u.globalAlpha=B,v?(g.flipX&&(S=-1,b-=C.width),g.flipY&&(F=-1,T-=C.height),C.width>0&&C.height>0&&(u.save(),u.translate(g.x+d,g.y+f),u.scale(S,F),u.drawImage(y.source.image,C.x,C.y,C.width,C.height,b,T,C.width,C.height),u.restore())):(h&&(b=Math.round(b),T=Math.round(T)),C.width>0&&C.height>0&&u.drawImage(y.source.image,C.x,C.y,C.width,C.height,b+g.x+d,T+g.y+f,C.width,C.height)))}u.restore()}}};r.exports=x},9403:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(6107),p=i(25305),c=i(44603),o=i(23568);c.register("blitter",function(u,l){u===void 0&&(u={});var d=o(u,"key",null),f=o(u,"frame",null),h=new a(this.scene,0,0,d,f);return l!==void 0&&(u.add=l),p(this.scene,h,u),h})},12709:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(6107),p=i(39429);p.register("blitter",function(c,o,u,l){return this.displayList.add(new a(this.scene,c,o,u,l))})},48011:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(29747),p=a,c=a;p=i(99485),c=i(72396),r.exports={renderWebGL:p,renderCanvas:c}},99485:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(61340),p=i(70554),c=new a,o=function(u,l,d,f){var h=l.getRenderList(),A=d.alpha*l.alpha;if(!(h.length===0||A===0)){d.addToRenderList(l);var g=u.pipelines.set(this.pipeline,l),v=d.scrollX*l.scrollFactorX,y=d.scrollY*l.scrollFactorY,C=c.copyFrom(d.matrix);f&&(C.multiplyWithOffset(f,-v,-y),v=0,y=0);var b=l.x-v,T=l.y-y,S=-1,F=!1,B=d.roundPixels;u.pipelines.preBatch(l);for(var N=0;N<h.length;N++){var L=h[N],R=L.frame,I=L.alpha*A;if(I!==0){var M=R.width,P=R.height,U=b+L.x+R.x,z=T+L.y+R.y;L.flipX&&(M*=-1,U+=R.width),L.flipY&&(P*=-1,z+=R.height);var W=C.setQuad(U,z,U+M,z+P,B),Z=p.getTintAppendFloatAlpha(L.tint,I);if(R.sourceIndex!==S){var j=g.setGameObject(l,R);S=R.sourceIndex}g.batchQuad(l,W[0],W[1],W[2],W[3],W[4],W[5],W[6],W[7],R.u0,R.v0,R.u1,R.v1,Z,Z,Z,Z,F,R.glTexture,j)&&(S=-1)}}u.pipelines.postBatch(l)}};r.exports=o},46590:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(4327),c=new a({initialize:function(u,l,d,f,h){this.parent=u,this.x=l,this.y=d,this.frame=f,this.data={},this.tint=16777215,this._visible=h,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(o){return o===void 0?this.frame=this.parent.frame:o instanceof p&&o.texture===this.parent.texture?this.frame=o:this.frame=this.parent.texture.get(o),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(o,u,l){return this.x=o,this.y=u,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,l&&this.setFrame(l),this},setPosition:function(o,u){return this.x=o,this.y=u,this},setFlipX:function(o){return this.flipX=o,this},setFlipY:function(o){return this.flipY=o,this},setFlip:function(o,u){return this.flipX=o,this.flipY=u,this},setVisible:function(o){return this.visible=o,this},setAlpha:function(o){return this.alpha=o,this},setTint:function(o){return this.tint=o,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(o){this.parent.dirty|=this._visible!==o,this._visible=o}},alpha:{get:function(){return this._alpha},set:function(o){this.parent.dirty|=this._alpha>0!=o>0,this._alpha=o}}});r.exports=c},16005:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(45319),p=2,c={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(o,u,l,d){return o===void 0&&(o=1),u===void 0?this.alpha=o:(this._alphaTL=a(o,0,1),this._alphaTR=a(u,0,1),this._alphaBL=a(l,0,1),this._alphaBR=a(d,0,1)),this},alpha:{get:function(){return this._alpha},set:function(o){var u=a(o,0,1);this._alpha=u,this._alphaTL=u,this._alphaTR=u,this._alphaBL=u,this._alphaBR=u,u===0?this.renderFlags&=~p:this.renderFlags|=p}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(o){var u=a(o,0,1);this._alphaTL=u,u!==0&&(this.renderFlags|=p)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(o){var u=a(o,0,1);this._alphaTR=u,u!==0&&(this.renderFlags|=p)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(o){var u=a(o,0,1);this._alphaBL=u,u!==0&&(this.renderFlags|=p)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(o){var u=a(o,0,1);this._alphaBR=u,u!==0&&(this.renderFlags|=p)}}};r.exports=c},88509:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(45319),p=2,c={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(o){return o===void 0&&(o=1),this.alpha=o,this},alpha:{get:function(){return this._alpha},set:function(o){var u=a(o,0,1);this._alpha=u,u===0?this.renderFlags&=~p:this.renderFlags|=p}}};r.exports=c},90065:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(10312),p={_blendMode:a.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(c){typeof c=="string"&&(c=a[c]),c|=0,c>=-1&&(this._blendMode=c)}},setBlendMode:function(c){return this.blendMode=c,this}};r.exports=p},94215:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(i){this.scaleX=i/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(i){this.scaleY=i/this.height}},setSize:function(i,a){return this.width=i,this.height=a,this},setDisplaySize:function(i,a){return this.displayWidth=i,this.displayHeight=a,this}};r.exports=x},61683:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={texture:null,frame:null,isCropped:!1,setCrop:function(i,a,p,c){if(i===void 0)this.isCropped=!1;else if(this.frame){if(typeof i=="number")this.frame.setCropUVs(this._crop,i,a,p,c,this.flipX,this.flipY);else{var o=i;this.frame.setCropUVs(this._crop,o.x,o.y,o.width,o.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};r.exports=x},89272:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(37105),p={_depth:0,depth:{get:function(){return this._depth},set:function(c){this.displayList&&this.displayList.queueDepthSort(),this._depth=c}},setDepth:function(c){return c===void 0&&(c=0),this.depth=c,this},setToTop:function(){var c=this.getDisplayList();return c&&a.BringToTop(c,this),this},setToBack:function(){var c=this.getDisplayList();return c&&a.SendToBack(c,this),this},setAbove:function(c){var o=this.getDisplayList();return o&&c&&a.MoveAbove(o,this,c),this},setBelow:function(c){var o=this.getDisplayList();return o&&c&&a.MoveBelow(o,this,c),this}};r.exports=p},47059:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(66064),c=i(19133),o=new a({initialize:function(l,d){this.gameObject=l,this.isPost=d,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(u){return u===void 0&&(u=0),this.padding=u,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(u){if(!this.isPost){var l=this.gameObject.scene.sys.renderer;l&&l.pipelines?(this.gameObject.pipeline=l.pipelines.FX_PIPELINE,u!==void 0&&(this.padding=u),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var u=this.list,l=0;l<u.length;l++)u[l].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(u){var l;if(this.isPost){var d=this.gameObject.getPostPipeline(String(u.type));for(Array.isArray(d)||(d=[d]),l=0;l<d.length;l++){var f=d[l];if(f.controller===u){this.gameObject.removePostPipeline(f),u.destroy();break}}}else{var h=this.list;for(l=0;l<h.length;l++)h[l]===u&&(c(h,l),u.destroy())}return this.gameObject},disable:function(u){return u===void 0&&(u=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,u&&this.clear(),this.gameObject},add:function(u,l){if(this.isPost){var d=String(u.type);this.gameObject.setPostPipeline(d,l);var f=this.gameObject.getPostPipeline(d);if(f)return Array.isArray(f)&&(f=f.pop()),f&&(f.controller=u),u}else return this.enabled||this.enable(),this.list.push(u),u},addGlow:function(u,l,d,f,h,A){return this.add(new p.Glow(this.gameObject,u,l,d,f),{quality:h,distance:A})},addShadow:function(u,l,d,f,h,A,g){return this.add(new p.Shadow(this.gameObject,u,l,d,f,h,A,g))},addPixelate:function(u){return this.add(new p.Pixelate(this.gameObject,u))},addVignette:function(u,l,d,f){return this.add(new p.Vignette(this.gameObject,u,l,d,f))},addShine:function(u,l,d,f){return this.add(new p.Shine(this.gameObject,u,l,d,f))},addBlur:function(u,l,d,f,h,A){return this.add(new p.Blur(this.gameObject,u,l,d,f,h,A))},addGradient:function(u,l,d,f,h,A,g,v){return this.add(new p.Gradient(this.gameObject,u,l,d,f,h,A,g,v))},addBloom:function(u,l,d,f,h,A){return this.add(new p.Bloom(this.gameObject,u,l,d,f,h,A))},addColorMatrix:function(){return this.add(new p.ColorMatrix(this.gameObject))},addCircle:function(u,l,d,f,h){return this.add(new p.Circle(this.gameObject,u,l,d,f,h))},addBarrel:function(u){return this.add(new p.Barrel(this.gameObject,u))},addDisplacement:function(u,l,d){return this.add(new p.Displacement(this.gameObject,u,l,d))},addWipe:function(u,l,d){return this.add(new p.Wipe(this.gameObject,u,l,d))},addReveal:function(u,l,d){return this.add(new p.Wipe(this.gameObject,u,l,d,!0))},addBokeh:function(u,l,d){return this.add(new p.Bokeh(this.gameObject,u,l,d))},addTiltShift:function(u,l,d,f,h,A){return this.add(new p.Bokeh(this.gameObject,u,l,d,!0,f,h,A))},destroy:function(){this.clear(),this.gameObject=null}});r.exports=o},54434:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(i){return this.flipX=i,this},setFlipY:function(i){return this.flipY=i,this},setFlip:function(i,a){return this.flipX=i,this.flipY=a,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};r.exports=x},8004:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(87841),p=i(11520),c=i(26099),o={prepareBoundsOutput:function(u,l){if(l===void 0&&(l=!1),this.rotation!==0&&p(u,this.x,this.y,this.rotation),l&&this.parentContainer){var d=this.parentContainer.getBoundsTransformMatrix();d.transformPoint(u.x,u.y,u)}return u},getCenter:function(u,l){return u===void 0&&(u=new c),u.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,u.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(u,l)},getTopLeft:function(u,l){return u||(u=new c),u.x=this.x-this.displayWidth*this.originX,u.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(u,l)},getTopCenter:function(u,l){return u||(u=new c),u.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,u.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(u,l)},getTopRight:function(u,l){return u||(u=new c),u.x=this.x-this.displayWidth*this.originX+this.displayWidth,u.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(u,l)},getLeftCenter:function(u,l){return u||(u=new c),u.x=this.x-this.displayWidth*this.originX,u.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(u,l)},getRightCenter:function(u,l){return u||(u=new c),u.x=this.x-this.displayWidth*this.originX+this.displayWidth,u.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(u,l)},getBottomLeft:function(u,l){return u||(u=new c),u.x=this.x-this.displayWidth*this.originX,u.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(u,l)},getBottomCenter:function(u,l){return u||(u=new c),u.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,u.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(u,l)},getBottomRight:function(u,l){return u||(u=new c),u.x=this.x-this.displayWidth*this.originX+this.displayWidth,u.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(u,l)},getBounds:function(u){u===void 0&&(u=new a);var l,d,f,h,A,g,v,y;if(this.parentContainer){var C=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(u),C.transformPoint(u.x,u.y,u),l=u.x,d=u.y,this.getTopRight(u),C.transformPoint(u.x,u.y,u),f=u.x,h=u.y,this.getBottomLeft(u),C.transformPoint(u.x,u.y,u),A=u.x,g=u.y,this.getBottomRight(u),C.transformPoint(u.x,u.y,u),v=u.x,y=u.y}else this.getTopLeft(u),l=u.x,d=u.y,this.getTopRight(u),f=u.x,h=u.y,this.getBottomLeft(u),A=u.x,g=u.y,this.getBottomRight(u),v=u.x,y=u.y;return u.x=Math.min(l,f,A,v),u.y=Math.min(d,h,g,y),u.width=Math.max(l,f,A,v)-u.x,u.height=Math.max(d,h,g,y)-u.y,u}};r.exports=o},8573:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(6858),p=i(80661),c={mask:null,setMask:function(o){return this.mask=o,this},clearMask:function(o){return o===void 0&&(o=!1),o&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(o,u,l,d,f){return o===void 0&&(this.texture||this.shader||this.geom)&&(o=this),new a(this.scene,o,u,l,d,f)},createGeometryMask:function(o){return o===void 0&&(this.type==="Graphics"||this.geom)&&(o=this),new p(this.scene,o)}};r.exports=c},27387:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(i){this._displayOriginX=i,this.originX=i/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(i){this._displayOriginY=i,this.originY=i/this.height}},setOrigin:function(i,a){return i===void 0&&(i=.5),a===void 0&&(a=i),this.originX=i,this.originY=a,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(i,a){return i===void 0&&(i=0),a===void 0&&(a=i),this.displayOriginX=i,this.displayOriginY=a,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};r.exports=x},37640:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(39506),p=i(57355),c=i(35154),o=i(86353),u=i(26099),l={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:o.PLAYING_FORWARD,setPath:function(d,f){f===void 0&&(f=this.pathConfig);var h=this.pathTween;return h&&h.isPlaying()&&h.stop(),this.path=d,f&&this.startFollow(f),this},setRotateToPath:function(d,f){return f===void 0&&(f=0),this.rotateToPath=d,this.pathRotationOffset=f,this},isFollowing:function(){var d=this.pathTween;return d&&d.isPlaying()},startFollow:function(d,f){d===void 0&&(d={}),f===void 0&&(f=0);var h=this.pathTween;h&&h.isPlaying()&&h.stop(),typeof d=="number"&&(d={duration:d}),d.from=c(d,"from",0),d.to=c(d,"to",1);var A=p(d,"positionOnPath",!1);this.rotateToPath=p(d,"rotateToPath",!1),this.pathRotationOffset=c(d,"rotationOffset",0);var g=c(d,"startAt",f);if(g&&(d.onStart=function(y){var C=y.data[0];C.progress=g,C.elapsed=C.duration*g;var b=C.ease(C.progress);C.current=C.start+(C.end-C.start)*b,C.setTargetValue()}),this.pathOffset||(this.pathOffset=new u(this.x,this.y)),this.pathVector||(this.pathVector=new u),this.pathDelta||(this.pathDelta=new u),this.pathDelta.reset(),d.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(d),this.path.getStartPoint(this.pathOffset),A&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=o.PLAYING_FORWARD,this.rotateToPath){var v=this.path.getPoint(.1);this.rotation=Math.atan2(v.y-this.y,v.x-this.x)+a(this.pathRotationOffset)}return this.pathConfig=d,this},pauseFollow:function(){var d=this.pathTween;return d&&d.isPlaying()&&d.pause(),this},resumeFollow:function(){var d=this.pathTween;return d&&d.isPaused()&&d.resume(),this},stopFollow:function(){var d=this.pathTween;return d&&d.isPlaying()&&d.stop(),this},pathUpdate:function(){var d=this.pathTween;if(d&&d.data){var f=d.data[0],h=this.pathDelta,A=this.pathVector;if(h.copy(A).negate(),f.state===o.COMPLETE){this.path.getPoint(f.end,A),h.add(A),A.add(this.pathOffset),this.setPosition(A.x,A.y);return}else if(f.state!==o.PLAYING_FORWARD&&f.state!==o.PLAYING_BACKWARD)return;this.path.getPoint(d.getValue(),A),h.add(A),A.add(this.pathOffset);var g=this.x,v=this.y;this.setPosition(A.x,A.y);var y=this.x-g,C=this.y-v;if(y===0&&C===0)return;if(f.state!==this._prevDirection){this._prevDirection=f.state;return}this.rotateToPath&&(this.rotation=Math.atan2(C,y)+a(this.pathRotationOffset))}}};r.exports=l},72699:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(62644),p={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(c){this.pipelineData={};var o=this.scene.sys.renderer;if(!o)return!1;var u=o.pipelines;if(u){c===void 0&&(c=u.default);var l=u.get(c);if(l)return this.defaultPipeline=l,this.pipeline=l,!0}return!1},setPipeline:function(c,o,u){var l=this.scene.sys.renderer;if(!l)return this;var d=l.pipelines;if(d){var f=d.get(c);f&&(this.pipeline=f),o&&(this.pipelineData=u?a(o):o)}return this},setPipelineData:function(c,o){var u=this.pipelineData;return o===void 0?delete u[c]:u[c]=o,this},resetPipeline:function(c){return c===void 0&&(c=!1),this.pipeline=this.defaultPipeline,c&&(this.pipelineData={}),this.pipeline!==null},getPipelineName:function(){return this.pipeline===null?null:this.pipeline.name}};r.exports=p},17581:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(62644),p=i(47059),c=i(19133),o={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(u){this.postPipelines=[],this.postPipelineData={},this.postFX=new p(this,!0),u&&(this.preFX=new p(this,!1))},setPostPipeline:function(u,l,d){var f=this.scene.sys.renderer;if(!f)return this;var h=f.pipelines;if(h){Array.isArray(u)||(u=[u]);for(var A=0;A<u.length;A++){var g=h.getPostPipeline(u[A],this,l);g&&this.postPipelines.push(g)}l&&(this.postPipelineData=d?a(l):l)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(u,l){var d=this.postPipelineData;return l===void 0?delete d[u]:d[u]=l,this},getPostPipeline:function(u){for(var l=typeof u=="string",d=this.postPipelines,f=[],h=0;h<d.length;h++){var A=d[h];(l&&A.name===u||!l&&A instanceof u)&&f.push(A)}return f.length===1?f[0]:f},resetPostPipeline:function(u){u===void 0&&(u=!1);for(var l=this.postPipelines,d=0;d<l.length;d++)l[d].destroy();this.postPipelines=[],this.hasPostPipeline=!1,u&&(this.postPipelineData={})},removePostPipeline:function(u){for(var l=typeof u=="string",d=this.postPipelines,f=d.length-1;f>=0;f--){var h=d[f];(l&&h.name===u||!l&&h===u)&&(h.destroy(),c(d,f))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}};r.exports=o},80227:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(i,a){return a===void 0&&(a=i),this.scrollFactorX=i,this.scrollFactorY=a,this}};r.exports=x},16736:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(i){this.scaleX=i/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(i){this.scaleY=i/this.frame.realHeight}},setSizeToFrame:function(i){i||(i=this.frame),this.width=i.realWidth,this.height=i.realHeight;var a=this.input;return a&&!a.customHitArea&&(a.hitArea.width=this.width,a.hitArea.height=this.height),this},setSize:function(i,a){return this.width=i,this.height=a,this},setDisplaySize:function(i,a){return this.displayWidth=i,this.displayHeight=a,this}};r.exports=x},37726:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(4327),p=8,c={texture:null,frame:null,isCropped:!1,setTexture:function(o,u,l,d){return this.texture=this.scene.sys.textures.get(o),this.setFrame(u,l,d)},setFrame:function(o,u,l){return u===void 0&&(u=!0),l===void 0&&(l=!0),o instanceof a?(this.texture=this.scene.sys.textures.get(o.texture.key),this.frame=o):this.frame=this.texture.get(o),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~p:this.renderFlags|=p,this._sizeComponent&&u&&this.setSizeToFrame(),this._originComponent&&l&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};r.exports=c},79812:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(4327),p=8,c={texture:null,frame:null,isCropped:!1,setCrop:function(o,u,l,d){if(o===void 0)this.isCropped=!1;else if(this.frame){if(typeof o=="number")this.frame.setCropUVs(this._crop,o,u,l,d,this.flipX,this.flipY);else{var f=o;this.frame.setCropUVs(this._crop,f.x,f.y,f.width,f.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(o,u){return this.texture=this.scene.sys.textures.get(o),this.setFrame(u)},setFrame:function(o,u,l){return u===void 0&&(u=!0),l===void 0&&(l=!0),o instanceof a?(this.texture=this.scene.sys.textures.get(o.texture.key),this.frame=o):this.frame=this.texture.get(o),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~p:this.renderFlags|=p,this._sizeComponent&&u&&this.setSizeToFrame(),this._originComponent&&l&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};r.exports=c},27472:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(i,a,p,c){return i===void 0&&(i=16777215),a===void 0&&(a=i,p=i,c=i),this.tintTopLeft=i,this.tintTopRight=a,this.tintBottomLeft=p,this.tintBottomRight=c,this.tintFill=!1,this},setTintFill:function(i,a,p,c){return this.setTint(i,a,p,c),this.tintFill=!0,this},tint:{get:function(){return this.tintTopLeft},set:function(i){this.setTint(i,i,i,i)}},isTinted:{get:function(){var i=16777215;return this.tintFill||this.tintTopLeft!==i||this.tintTopRight!==i||this.tintBottomLeft!==i||this.tintBottomRight!==i}}};r.exports=x},53774:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){var a={name:i.name,type:i.type,x:i.x,y:i.y,depth:i.depth,scale:{x:i.scaleX,y:i.scaleY},origin:{x:i.originX,y:i.originY},flipX:i.flipX,flipY:i.flipY,rotation:i.rotation,alpha:i.alpha,visible:i.visible,blendMode:i.blendMode,textureKey:"",frameKey:"",data:{}};return i.texture&&(a.textureKey=i.texture.key,a.frameKey=i.frame.name),a};r.exports=x},16901:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(36383),p=i(61340),c=i(85955),o=i(86554),u=i(30954),l=i(26099),d=4,f={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(h){this._scaleX=h,this._scaleY=h,h===0?this.renderFlags&=~d:this.renderFlags|=d}},scaleX:{get:function(){return this._scaleX},set:function(h){this._scaleX=h,h===0?this.renderFlags&=~d:this._scaleY!==0&&(this.renderFlags|=d)}},scaleY:{get:function(){return this._scaleY},set:function(h){this._scaleY=h,h===0?this.renderFlags&=~d:this._scaleX!==0&&(this.renderFlags|=d)}},angle:{get:function(){return u(this._rotation*a.RAD_TO_DEG)},set:function(h){this.rotation=u(h)*a.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(h){this._rotation=o(h)}},setPosition:function(h,A,g,v){return h===void 0&&(h=0),A===void 0&&(A=h),g===void 0&&(g=0),v===void 0&&(v=0),this.x=h,this.y=A,this.z=g,this.w=v,this},copyPosition:function(h){return h.x!==void 0&&(this.x=h.x),h.y!==void 0&&(this.y=h.y),h.z!==void 0&&(this.z=h.z),h.w!==void 0&&(this.w=h.w),this},setRandomPosition:function(h,A,g,v){return h===void 0&&(h=0),A===void 0&&(A=0),g===void 0&&(g=this.scene.sys.scale.width),v===void 0&&(v=this.scene.sys.scale.height),this.x=h+Math.random()*g,this.y=A+Math.random()*v,this},setRotation:function(h){return h===void 0&&(h=0),this.rotation=h,this},setAngle:function(h){return h===void 0&&(h=0),this.angle=h,this},setScale:function(h,A){return h===void 0&&(h=1),A===void 0&&(A=h),this.scaleX=h,this.scaleY=A,this},setX:function(h){return h===void 0&&(h=0),this.x=h,this},setY:function(h){return h===void 0&&(h=0),this.y=h,this},setZ:function(h){return h===void 0&&(h=0),this.z=h,this},setW:function(h){return h===void 0&&(h=0),this.w=h,this},getLocalTransformMatrix:function(h){return h===void 0&&(h=new p),h.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(h,A){h===void 0&&(h=new p);var g=this.parentContainer;if(!g)return this.getLocalTransformMatrix(h);var v=!1;for(A||(A=new p,v=!0),h.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);g;)A.applyITRS(g.x,g.y,g._rotation,g._scaleX,g._scaleY),A.multiply(h,h),g=g.parentContainer;return v&&A.destroy(),h},getLocalPoint:function(h,A,g,v){g||(g=new l),v||(v=this.scene.sys.cameras.main);var y=v.scrollX,C=v.scrollY,b=h+y*this.scrollFactorX-y,T=A+C*this.scrollFactorY-C;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(b,T,g):c(b,T,this.x,this.y,this.rotation,this.scaleX,this.scaleY,g),this._originComponent&&(g.x+=this._displayOriginX,g.y+=this._displayOriginY),g},getWorldPoint:function(h,A,g){h===void 0&&(h=new l);var v=this.parentContainer;if(!v)return h.x=this.x,h.y=this.y,h;var y=this.getWorldTransformMatrix(A,g);return h.x=y.tx,h.y=y.ty,h},getParentRotation:function(){for(var h=0,A=this.parentContainer;A;)h+=A.rotation,A=A.parentContainer;return h}};r.exports=f},61340:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(36383),c=i(26099),o=new a({initialize:function(l,d,f,h,A,g){l===void 0&&(l=1),d===void 0&&(d=0),f===void 0&&(f=0),h===void 0&&(h=1),A===void 0&&(A=0),g===void 0&&(g=0),this.matrix=new Float32Array([l,d,f,h,A,g,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(u){this.matrix[0]=u}},b:{get:function(){return this.matrix[1]},set:function(u){this.matrix[1]=u}},c:{get:function(){return this.matrix[2]},set:function(u){this.matrix[2]=u}},d:{get:function(){return this.matrix[3]},set:function(u){this.matrix[3]=u}},e:{get:function(){return this.matrix[4]},set:function(u){this.matrix[4]=u}},f:{get:function(){return this.matrix[5]},set:function(u){this.matrix[5]=u}},tx:{get:function(){return this.matrix[4]},set:function(u){this.matrix[4]=u}},ty:{get:function(){return this.matrix[5]},set:function(u){this.matrix[5]=u}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var u=this.matrix,l=u[0],d=u[1],f=u[2],h=u[3];return l||d?d>0?Math.acos(l/this.scaleX):-Math.acos(l/this.scaleX):f||h?p.TAU-(h>0?Math.acos(-f/this.scaleY):-Math.acos(f/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var u=this.matrix;return u[0]=1,u[1]=0,u[2]=0,u[3]=1,u[4]=0,u[5]=0,this},translate:function(u,l){var d=this.matrix;return d[4]=d[0]*u+d[2]*l+d[4],d[5]=d[1]*u+d[3]*l+d[5],this},scale:function(u,l){var d=this.matrix;return d[0]*=u,d[1]*=u,d[2]*=l,d[3]*=l,this},rotate:function(u){var l=Math.sin(u),d=Math.cos(u),f=this.matrix,h=f[0],A=f[1],g=f[2],v=f[3];return f[0]=h*d+g*l,f[1]=A*d+v*l,f[2]=h*-l+g*d,f[3]=A*-l+v*d,this},multiply:function(u,l){var d=this.matrix,f=u.matrix,h=d[0],A=d[1],g=d[2],v=d[3],y=d[4],C=d[5],b=f[0],T=f[1],S=f[2],F=f[3],B=f[4],N=f[5],L=l===void 0?d:l.matrix;return L[0]=b*h+T*g,L[1]=b*A+T*v,L[2]=S*h+F*g,L[3]=S*A+F*v,L[4]=B*h+N*g+y,L[5]=B*A+N*v+C,L},multiplyWithOffset:function(u,l,d){var f=this.matrix,h=u.matrix,A=f[0],g=f[1],v=f[2],y=f[3],C=f[4],b=f[5],T=l*A+d*v+C,S=l*g+d*y+b,F=h[0],B=h[1],N=h[2],L=h[3],R=h[4],I=h[5];return f[0]=F*A+B*v,f[1]=F*g+B*y,f[2]=N*A+L*v,f[3]=N*g+L*y,f[4]=R*A+I*v+T,f[5]=R*g+I*y+S,this},transform:function(u,l,d,f,h,A){var g=this.matrix,v=g[0],y=g[1],C=g[2],b=g[3],T=g[4],S=g[5];return g[0]=u*v+l*C,g[1]=u*y+l*b,g[2]=d*v+f*C,g[3]=d*y+f*b,g[4]=h*v+A*C+T,g[5]=h*y+A*b+S,this},transformPoint:function(u,l,d){d===void 0&&(d={x:0,y:0});var f=this.matrix,h=f[0],A=f[1],g=f[2],v=f[3],y=f[4],C=f[5];return d.x=u*h+l*g+y,d.y=u*A+l*v+C,d},invert:function(){var u=this.matrix,l=u[0],d=u[1],f=u[2],h=u[3],A=u[4],g=u[5],v=l*h-d*f;return u[0]=h/v,u[1]=-d/v,u[2]=-f/v,u[3]=l/v,u[4]=(f*g-h*A)/v,u[5]=-(l*g-d*A)/v,this},copyFrom:function(u){var l=this.matrix;return l[0]=u.a,l[1]=u.b,l[2]=u.c,l[3]=u.d,l[4]=u.e,l[5]=u.f,this},copyFromArray:function(u){var l=this.matrix;return l[0]=u[0],l[1]=u[1],l[2]=u[2],l[3]=u[3],l[4]=u[4],l[5]=u[5],this},copyToContext:function(u){var l=this.matrix;return u.transform(l[0],l[1],l[2],l[3],l[4],l[5]),u},setToContext:function(u){return u.setTransform(this.a,this.b,this.c,this.d,this.e,this.f),u},copyToArray:function(u){var l=this.matrix;return u===void 0?u=[l[0],l[1],l[2],l[3],l[4],l[5]]:(u[0]=l[0],u[1]=l[1],u[2]=l[2],u[3]=l[3],u[4]=l[4],u[5]=l[5]),u},setTransform:function(u,l,d,f,h,A){var g=this.matrix;return g[0]=u,g[1]=l,g[2]=d,g[3]=f,g[4]=h,g[5]=A,this},decomposeMatrix:function(){var u=this.decomposedMatrix,l=this.matrix,d=l[0],f=l[1],h=l[2],A=l[3],g=d*A-f*h;if(u.translateX=l[4],u.translateY=l[5],d||f){var v=Math.sqrt(d*d+f*f);u.rotation=f>0?Math.acos(d/v):-Math.acos(d/v),u.scaleX=v,u.scaleY=g/v}else if(h||A){var y=Math.sqrt(h*h+A*A);u.rotation=Math.PI*.5-(A>0?Math.acos(-h/y):-Math.acos(h/y)),u.scaleX=g/y,u.scaleY=y}else u.rotation=0,u.scaleX=0,u.scaleY=0;return u},applyITRS:function(u,l,d,f,h){var A=this.matrix,g=Math.sin(d),v=Math.cos(d);return A[4]=u,A[5]=l,A[0]=v*f,A[1]=g*f,A[2]=-g*h,A[3]=v*h,this},applyInverse:function(u,l,d){d===void 0&&(d=new c);var f=this.matrix,h=f[0],A=f[1],g=f[2],v=f[3],y=f[4],C=f[5],b=1/(h*v+g*-A);return d.x=v*b*u+-g*b*l+(C*g-y*v)*b,d.y=h*b*l+-A*b*u+(-C*h+y*A)*b,d},setQuad:function(u,l,d,f,h,A){h===void 0&&(h=!1),A===void 0&&(A=this.quad);var g=this.matrix,v=g[0],y=g[1],C=g[2],b=g[3],T=g[4],S=g[5],F=u*v+l*C+T,B=u*y+l*b+S,N=u*v+f*C+T,L=u*y+f*b+S,R=d*v+f*C+T,I=d*y+f*b+S,M=d*v+l*C+T,P=d*y+l*b+S;if(h){var U=Math.floor(F+.5),z=Math.floor(B+.5),W=U-F,Z=z-B;A[0]=U,A[1]=z,A[2]=N+W,A[3]=L+Z,A[4]=R+W,A[5]=I+Z,A[6]=M+W,A[7]=P+Z}else A[0]=F,A[1]=B,A[2]=N,A[3]=L,A[4]=R,A[5]=I,A[6]=M,A[7]=P;return A},getX:function(u,l){return u*this.a+l*this.c+this.e},getY:function(u,l){return u*this.b+l*this.d+this.f},getXRound:function(u,l,d){var f=this.getX(u,l);return d&&(f=Math.floor(f+.5)),f},getYRound:function(u,l,d){var f=this.getY(u,l);return d&&(f=Math.floor(f+.5)),f},getCSSMatrix:function(){var u=this.matrix;return"matrix("+u[0]+","+u[1]+","+u[2]+","+u[3]+","+u[4]+","+u[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});r.exports=o},59715:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=1,i={_visible:!0,visible:{get:function(){return this._visible},set:function(a){a?(this._visible=!0,this.renderFlags|=x):(this._visible=!1,this.renderFlags&=~x)}},setVisible:function(a){return this.visible=a,this}};r.exports=i},31401:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Alpha:i(16005),AlphaSingle:i(88509),BlendMode:i(90065),ComputedSize:i(94215),Crop:i(61683),Depth:i(89272),Flip:i(54434),FX:i(47059),GetBounds:i(8004),Mask:i(8573),Origin:i(27387),PathFollower:i(37640),Pipeline:i(72699),PostPipeline:i(17581),ScrollFactor:i(80227),Size:i(16736),Texture:i(37726),TextureCrop:i(79812),Tint:i(27472),ToJSON:i(53774),Transform:i(16901),TransformMatrix:i(61340),Visible:i(59715)}},31559:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(37105),p=i(10312),c=i(83419),o=i(31401),u=i(51708),l=i(95643),d=i(87841),f=i(29959),h=i(36899),A=i(26099),g=new o.TransformMatrix,v=new c({Extends:l,Mixins:[o.AlphaSingle,o.BlendMode,o.ComputedSize,o.Depth,o.Mask,o.PostPipeline,o.Transform,o.Visible,f],initialize:function(C,b,T,S){l.call(this,C,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new o.TransformMatrix,this._sortKey="",this._sysEvents=C.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(b,T),this.setBlendMode(p.SKIP_CHECK),S&&this.add(S)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(y){return y===void 0&&(y=!0),this.exclusive=y,this},getBounds:function(y){if(y===void 0&&(y=new d),y.setTo(this.x,this.y,0,0),this.parentContainer){var C=this.parentContainer.getBoundsTransformMatrix(),b=C.transformPoint(this.x,this.y);y.setTo(b.x,b.y,0,0)}if(this.list.length>0){var T=this.list,S=new d,F=!1;y.setEmpty();for(var B=0;B<T.length;B++){var N=T[B];N.getBounds&&(N.getBounds(S),F?h(S,y,y):(y.setTo(S.x,S.y,S.width,S.height),F=!0))}}return y},addHandler:function(y){y.once(u.DESTROY,this.onChildDestroyed,this),this.exclusive&&(y.parentContainer&&y.parentContainer.remove(y),y.parentContainer=this,y.removeFromDisplayList(),y.addedToScene())},removeHandler:function(y){y.off(u.DESTROY,this.remove,this),this.exclusive&&(y.parentContainer=null,y.removedFromScene(),y.addToDisplayList())},pointToContainer:function(y,C){C===void 0&&(C=new A),this.parentContainer?this.parentContainer.pointToContainer(y,C):(C.x=y.x,C.y=y.y);var b=g;return b.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),b.invert(),b.transformPoint(y.x,y.y,C),C},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(g,this.localTransform)},add:function(y){return a.Add(this.list,y,this.maxSize,this.addHandler,this),this},addAt:function(y,C){return a.AddAt(this.list,y,C,this.maxSize,this.addHandler,this),this},getAt:function(y){return this.list[y]},getIndex:function(y){return this.list.indexOf(y)},sort:function(y,C){return y?(C===void 0&&(C=function(b,T){return b[y]-T[y]}),a.StableSort(this.list,C),this):this},getByName:function(y){return a.GetFirst(this.list,"name",y)},getRandom:function(y,C){return a.GetRandom(this.list,y,C)},getFirst:function(y,C,b,T){return a.GetFirst(this.list,y,C,b,T)},getAll:function(y,C,b,T){return a.GetAll(this.list,y,C,b,T)},count:function(y,C,b,T){return a.CountAllMatching(this.list,y,C,b,T)},swap:function(y,C){return a.Swap(this.list,y,C),this},moveTo:function(y,C){return a.MoveTo(this.list,y,C),this},moveAbove:function(y,C){return a.MoveAbove(this.list,y,C),this},moveBelow:function(y,C){return a.MoveBelow(this.list,y,C),this},remove:function(y,C){var b=a.Remove(this.list,y,this.removeHandler,this);if(C&&b){Array.isArray(b)||(b=[b]);for(var T=0;T<b.length;T++)b[T].destroy()}return this},removeAt:function(y,C){var b=a.RemoveAt(this.list,y,this.removeHandler,this);return C&&b&&b.destroy(),this},removeBetween:function(y,C,b){var T=a.RemoveBetween(this.list,y,C,this.removeHandler,this);if(b)for(var S=0;S<T.length;S++)T[S].destroy();return this},removeAll:function(y){var C=this.list;if(y){for(var b=0;b<C.length;b++)C[b]&&C[b].scene&&(C[b].off(u.DESTROY,this.onChildDestroyed,this),C[b].destroy());this.list=[]}else a.RemoveBetween(C,0,C.length,this.removeHandler,this);return this},bringToTop:function(y){return a.BringToTop(this.list,y),this},sendToBack:function(y){return a.SendToBack(this.list,y),this},moveUp:function(y){return a.MoveUp(this.list,y),this},moveDown:function(y){return a.MoveDown(this.list,y),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return a.Shuffle(this.list),this},replace:function(y,C,b){var T=a.Replace(this.list,y,C);return T&&(this.addHandler(C),this.removeHandler(y),b&&y.destroy()),this},exists:function(y){return this.list.indexOf(y)>-1},setAll:function(y,C,b,T){return a.SetAll(this.list,y,C,b,T),this},each:function(y,C){var b=[null],T,S=this.list.slice(),F=S.length;for(T=2;T<arguments.length;T++)b.push(arguments[T]);for(T=0;T<F;T++)b[0]=S[T],y.apply(C,b);return this},iterate:function(y,C){var b=[null],T;for(T=2;T<arguments.length;T++)b.push(arguments[T]);for(T=0;T<this.list.length;T++)b[0]=this.list[T],y.apply(C,b);return this},setScrollFactor:function(y,C,b){return C===void 0&&(C=y),b===void 0&&(b=!1),this.scrollFactorX=y,this.scrollFactorY=C,b&&(a.SetAll(this.list,"scrollFactorX",y),a.SetAll(this.list,"scrollFactorY",C)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.list=[]},onChildDestroyed:function(y){a.Remove(this.list,y),this.exclusive&&(y.parentContainer=null,y.removedFromScene())}});r.exports=v},53584:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p,c){p.addToRenderList(a);var o=a.list;if(o.length!==0){var u=a.localTransform;c?(u.loadIdentity(),u.multiply(c),u.translate(a.x,a.y),u.rotate(a.rotation),u.scale(a.scaleX,a.scaleY)):u.applyITRS(a.x,a.y,a.rotation,a.scaleX,a.scaleY);var l=a.blendMode!==-1;l||i.setBlendMode(0);var d=a._alpha,f=a.scrollFactorX,h=a.scrollFactorY;a.mask&&a.mask.preRenderCanvas(i,null,p);for(var A=0;A<o.length;A++){var g=o[A];if(g.willRender(p)){var v=g.alpha,y=g.scrollFactorX,C=g.scrollFactorY;!l&&g.blendMode!==i.currentBlendMode&&i.setBlendMode(g.blendMode),g.setScrollFactor(y*f,C*h),g.setAlpha(v*d),g.renderCanvas(i,g,p,u),g.setAlpha(v),g.setScrollFactor(y,C)}}a.mask&&a.mask.postRenderCanvas(i)}};r.exports=x},77143:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(25305),p=i(31559),c=i(44603),o=i(23568),u=i(95540);c.register("container",function(l,d){l===void 0&&(l={});var f=o(l,"x",0),h=o(l,"y",0),A=u(l,"children",null),g=new p(this.scene,f,h,A);return d!==void 0&&(l.add=d),a(this.scene,g,l),g})},24961:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(31559),p=i(39429);p.register("container",function(c,o,u){return this.displayList.add(new a(this.scene,c,o,u))})},29959:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(29747),p=a,c=a;p=i(72249),c=i(53584),r.exports={renderWebGL:p,renderCanvas:c}},72249:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p,c){p.addToRenderList(a);var o=a.list,u=o.length;if(u!==0){var l=a.localTransform;c?(l.loadIdentity(),l.multiply(c),l.translate(a.x,a.y),l.rotate(a.rotation),l.scale(a.scaleX,a.scaleY)):l.applyITRS(a.x,a.y,a.rotation,a.scaleX,a.scaleY),i.pipelines.preBatch(a);var d=a.blendMode!==-1;d||i.setBlendMode(0);for(var f=a.alpha,h=a.scrollFactorX,A=a.scrollFactorY,g=0;g<u;g++){var v=o[g];if(v.willRender(p)){var y,C,b,T;if(v.alphaTopLeft!==void 0)y=v.alphaTopLeft,C=v.alphaTopRight,b=v.alphaBottomLeft,T=v.alphaBottomRight;else{var S=v.alpha;y=S,C=S,b=S,T=S}var F=v.scrollFactorX,B=v.scrollFactorY;!d&&v.blendMode!==i.currentBlendMode&&i.setBlendMode(v.blendMode);var N=v.mask;N&&N.preRenderWebGL(i,v,p);var L=v.type;L!==i.currentType&&(i.newType=!0,i.currentType=L),i.nextTypeMatch=g<u-1?o[g+1].type===i.currentType:!1,v.setScrollFactor(F*h,B*A),v.setAlpha(y*f,C*f,b*f,T*f),v.renderWebGL(i,v,p,l,a),v.setAlpha(y,C,b,T),v.setScrollFactor(F,B),N&&N.postRenderWebGL(i,p),i.newType=!1}}i.pipelines.postBatch(a)}};r.exports=x},47407:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},3069:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(31401),c=i(441),o=i(95643),u=i(41212),l=i(35846),d=i(44594),f=i(61369),h=new a({Extends:o,Mixins:[p.AlphaSingle,p.BlendMode,p.Depth,p.Origin,p.ScrollFactor,p.Transform,p.Visible,c],initialize:function(g,v,y,C,b,T){if(o.call(this,g,"DOMElement"),this.parent=g.sys.game.domContainer,!this.parent)throw new Error("No DOM Container set in game config");this.cache=g.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new f,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(v,y),typeof C=="string"?C[0]==="#"?this.setElement(C.substr(1),b,T):this.createElement(C,b,T):C&&this.setElement(C,b,T),g.sys.events.on(d.SLEEP,this.handleSceneEvent,this),g.sys.events.on(d.WAKE,this.handleSceneEvent,this),g.sys.events.on(d.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(A){var g=this.node,v=g.style;g&&(v.display=A.settings.visible?"block":"none")},setSkew:function(A,g){return A===void 0&&(A=0),g===void 0&&(g=A),this.skewX=A,this.skewY=g,this},setPerspective:function(A){return this.parent.style.perspective=A+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(A){this.parent.style.perspective=A+"px"}},addListener:function(A){if(this.node){A=A.split(" ");for(var g=0;g<A.length;g++)this.node.addEventListener(A[g],this.handler,!1)}return this},removeListener:function(A){if(this.node){A=A.split(" ");for(var g=0;g<A.length;g++)this.node.removeEventListener(A[g],this.handler)}return this},dispatchNativeEvent:function(A){this.emit(A.type,A)},createElement:function(A,g,v){return this.setElement(document.createElement(A),g,v)},setElement:function(A,g,v){this.removeElement();var y;if(typeof A=="string"?(A[0]==="#"&&(A=A.substr(1)),y=document.getElementById(A)):typeof A=="object"&&A.nodeType===1&&(y=A),!y)return this;if(this.node=y,g&&u(g))for(var C in g)y.style[C]=g[C];else typeof g=="string"&&(y.style=g);return y.style.zIndex="0",y.style.display="inline",y.style.position="absolute",y.phaser=this,this.parent.appendChild(y),v&&(y.innerText=v),this.updateSize()},createFromCache:function(A,g){var v=this.cache.get(A);return v&&this.createFromHTML(v,g),this},createFromHTML:function(A,g){g===void 0&&(g="div"),this.removeElement();var v=document.createElement(g);return this.node=v,v.style.zIndex="0",v.style.display="inline",v.style.position="absolute",v.phaser=this,this.parent.appendChild(v),v.innerHTML=A,this.updateSize()},removeElement:function(){return this.node&&(l(this.node),this.node=null),this},updateSize:function(){var A=this.node;return this.width=A.clientWidth,this.height=A.clientHeight,this.displayWidth=this.width*this.scaleX,this.displayHeight=this.height*this.scaleY,this},getChildByProperty:function(A,g){if(this.node){for(var v=this.node.querySelectorAll("*"),y=0;y<v.length;y++)if(v[y][A]===g)return v[y]}return null},getChildByID:function(A){return this.getChildByProperty("id",A)},getChildByName:function(A){return this.getChildByProperty("name",A)},setClassName:function(A){return this.node&&(this.node.className=A,this.updateSize()),this},setText:function(A){return this.node&&(this.node.innerText=A,this.updateSize()),this},setHTML:function(A){return this.node&&(this.node.innerHTML=A,this.updateSize()),this},preRender:function(){var A=this.parentContainer,g=this.node;g&&A&&!A.willRender()&&(g.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(d.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(d.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(d.PRE_RENDER,this.preRender,this)}});r.exports=h},49381:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(47407),p=i(95643),c=i(61340),o=new c,u=new c,l=new c,d=function(f,h,A,g){if(h.node){var v=h.node.style,y=h.scene.sys.settings;if(!v||!y.visible||p.RENDER_MASK!==h.renderFlags||h.cameraFilter!==0&&h.cameraFilter&A.id||h.parentContainer&&!h.parentContainer.willRender()){v.display="none";return}var C=h.parentContainer,b=A.alpha*h.alpha;C&&(b*=C.alpha);var T=o,S=u,F=l,B=0,N=0,L="0%",R="0%";g?(B=h.width*h.scaleX*h.originX,N=h.height*h.scaleY*h.originY,S.applyITRS(h.x-B,h.y-N,h.rotation,h.scaleX,h.scaleY),T.copyFrom(A.matrix),T.multiplyWithOffset(g,-A.scrollX*h.scrollFactorX,-A.scrollY*h.scrollFactorY),S.e=h.x-B,S.f=h.y-N,T.multiply(S,F)):(B=h.width*h.originX,N=h.height*h.originY,S.applyITRS(h.x,h.y,h.rotation,h.scaleX,h.scaleY),T.copyFrom(A.matrix),L=100*h.originX+"%",R=100*h.originY+"%",S.e-=A.scrollX*h.scrollFactorX,S.f-=A.scrollY*h.scrollFactorY,T.multiply(S,F),F.e-=B,F.f-=N),h.transformOnly||(v.display="block",v.opacity=b,v.zIndex=h._depth,v.pointerEvents=h.pointerEvents,v.mixBlendMode=a[h._blendMode]),v.transform=F.getCSSMatrix()+" skew("+h.skewX+"rad, "+h.skewY+"rad) rotate3d("+h.rotate3d.x+","+h.rotate3d.y+","+h.rotate3d.z+","+h.rotate3d.w+h.rotate3dAngle+")",v.transformOrigin=L+" "+R}};r.exports=d},2611:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(3069),p=i(39429);p.register("dom",function(c,o,u,l,d){var f=new a(this.scene,c,o,u,l,d);return this.displayList.add(f),f})},441:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(29747),p=a,c=a;p=i(49381),c=i(49381),r.exports={renderWebGL:p,renderCanvas:c}},62980:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="addedtoscene"},41337:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="destroy"},44947:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="removedfromscene"},49358:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="complete"},35163:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="created"},97249:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="error"},19483:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="locked"},56059:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="loop"},26772:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="metadata"},64437:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="playing"},83411:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="play"},75780:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="seeked"},67799:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="seeking"},63500:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="stalled"},55541:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="stop"},53208:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="textureready"},4992:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="unlocked"},12:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="unsupported"},51708:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ADDED_TO_SCENE:i(62980),DESTROY:i(41337),REMOVED_FROM_SCENE:i(44947),VIDEO_COMPLETE:i(49358),VIDEO_CREATED:i(35163),VIDEO_ERROR:i(97249),VIDEO_LOCKED:i(19483),VIDEO_LOOP:i(56059),VIDEO_METADATA:i(26772),VIDEO_PLAY:i(83411),VIDEO_PLAYING:i(64437),VIDEO_SEEKED:i(75780),VIDEO_SEEKING:i(67799),VIDEO_STALLED:i(63500),VIDEO_STOP:i(55541),VIDEO_TEXTURE:i(53208),VIDEO_UNLOCKED:i(4992),VIDEO_UNSUPPORTED:i(12)}},42421:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(31401),c=i(95643),o=i(64993),u=new a({Extends:c,Mixins:[p.Alpha,p.BlendMode,p.Depth,p.Flip,p.Origin,p.ScrollFactor,p.Size,p.Texture,p.Tint,p.Transform,p.Visible,o],initialize:function(d){c.call(this,d,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});r.exports=u},70217:()=>{},56315:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(42421),p=i(39429);p.register("extern",function(){var c=new a(this.scene);return this.displayList.add(c),c})},64993:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(29747),p=a,c=a;p=i(80287),c=i(70217),r.exports={renderWebGL:p,renderCanvas:c}},80287:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(91296),p=function(c,o,u,l){c.pipelines.clear();var d=a(o,u,l).calc;o.render.call(o,c,u,d),c.pipelines.rebind()};r.exports=p},85592:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},43831:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(71911),p=i(83419),c=i(85592),o=i(31401),u=i(8497),l=i(95643),d=i(95540),f=i(35154),h=i(36383),A=i(84503),g=new p({Extends:l,Mixins:[o.AlphaSingle,o.BlendMode,o.Depth,o.Mask,o.Pipeline,o.PostPipeline,o.Transform,o.Visible,o.ScrollFactor,A],initialize:function(y,C){var b=f(C,"x",0),T=f(C,"y",0);l.call(this,y,"Graphics"),this.setPosition(b,T),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.lineStyle(1,0,0),this.fillStyle(0,0),this.setDefaultStyles(C)},setDefaultStyles:function(v){return f(v,"lineStyle",null)&&(this.defaultStrokeWidth=f(v,"lineStyle.width",1),this.defaultStrokeColor=f(v,"lineStyle.color",16777215),this.defaultStrokeAlpha=f(v,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),f(v,"fillStyle",null)&&(this.defaultFillColor=f(v,"fillStyle.color",16777215),this.defaultFillAlpha=f(v,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(v,y,C){return C===void 0&&(C=1),this.commandBuffer.push(c.LINE_STYLE,v,y,C),this._lineWidth=v,this},fillStyle:function(v,y){return y===void 0&&(y=1),this.commandBuffer.push(c.FILL_STYLE,v,y),this},fillGradientStyle:function(v,y,C,b,T,S,F,B){return T===void 0&&(T=1),S===void 0&&(S=T),F===void 0&&(F=T),B===void 0&&(B=T),this.commandBuffer.push(c.GRADIENT_FILL_STYLE,T,S,F,B,v,y,C,b),this},lineGradientStyle:function(v,y,C,b,T,S){return S===void 0&&(S=1),this.commandBuffer.push(c.GRADIENT_LINE_STYLE,v,S,y,C,b,T),this},beginPath:function(){return this.commandBuffer.push(c.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(c.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(c.FILL_PATH),this},fill:function(){return this.commandBuffer.push(c.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(c.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(c.STROKE_PATH),this},fillCircleShape:function(v){return this.fillCircle(v.x,v.y,v.radius)},strokeCircleShape:function(v){return this.strokeCircle(v.x,v.y,v.radius)},fillCircle:function(v,y,C){return this.beginPath(),this.arc(v,y,C,0,h.PI2),this.fillPath(),this},strokeCircle:function(v,y,C){return this.beginPath(),this.arc(v,y,C,0,h.PI2),this.strokePath(),this},fillRectShape:function(v){return this.fillRect(v.x,v.y,v.width,v.height)},strokeRectShape:function(v){return this.strokeRect(v.x,v.y,v.width,v.height)},fillRect:function(v,y,C,b){return this.commandBuffer.push(c.FILL_RECT,v,y,C,b),this},strokeRect:function(v,y,C,b){var T=this._lineWidth/2,S=v-T,F=v+T;return this.beginPath(),this.moveTo(v,y),this.lineTo(v,y+b),this.strokePath(),this.beginPath(),this.moveTo(v+C,y),this.lineTo(v+C,y+b),this.strokePath(),this.beginPath(),this.moveTo(S,y),this.lineTo(F+C,y),this.strokePath(),this.beginPath(),this.moveTo(S,y+b),this.lineTo(F+C,y+b),this.strokePath(),this},fillRoundedRect:function(v,y,C,b,T){T===void 0&&(T=20);var S=T,F=T,B=T,N=T;typeof T!="number"&&(S=d(T,"tl",20),F=d(T,"tr",20),B=d(T,"bl",20),N=d(T,"br",20));var L=S>=0,R=F>=0,I=B>=0,M=N>=0;return S=Math.abs(S),F=Math.abs(F),B=Math.abs(B),N=Math.abs(N),this.beginPath(),this.moveTo(v+S,y),this.lineTo(v+C-F,y),R?this.arc(v+C-F,y+F,F,-h.TAU,0):this.arc(v+C,y,F,Math.PI,h.TAU,!0),this.lineTo(v+C,y+b-N),M?this.arc(v+C-N,y+b-N,N,0,h.TAU):this.arc(v+C,y+b,N,-h.TAU,Math.PI,!0),this.lineTo(v+B,y+b),I?this.arc(v+B,y+b-B,B,h.TAU,Math.PI):this.arc(v,y+b,B,0,-h.TAU,!0),this.lineTo(v,y+S),L?this.arc(v+S,y+S,S,-Math.PI,-h.TAU):this.arc(v,y,S,h.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(v,y,C,b,T){T===void 0&&(T=20);var S=T,F=T,B=T,N=T,L=Math.min(C,b)/2;typeof T!="number"&&(S=d(T,"tl",20),F=d(T,"tr",20),B=d(T,"bl",20),N=d(T,"br",20));var R=S>=0,I=F>=0,M=B>=0,P=N>=0;return S=Math.min(Math.abs(S),L),F=Math.min(Math.abs(F),L),B=Math.min(Math.abs(B),L),N=Math.min(Math.abs(N),L),this.beginPath(),this.moveTo(v+S,y),this.lineTo(v+C-F,y),this.moveTo(v+C-F,y),I?this.arc(v+C-F,y+F,F,-h.TAU,0):this.arc(v+C,y,F,Math.PI,h.TAU,!0),this.lineTo(v+C,y+b-N),this.moveTo(v+C,y+b-N),P?this.arc(v+C-N,y+b-N,N,0,h.TAU):this.arc(v+C,y+b,N,-h.TAU,Math.PI,!0),this.lineTo(v+B,y+b),this.moveTo(v+B,y+b),M?this.arc(v+B,y+b-B,B,h.TAU,Math.PI):this.arc(v,y+b,B,0,-h.TAU,!0),this.lineTo(v,y+S),this.moveTo(v,y+S),R?this.arc(v+S,y+S,S,-Math.PI,-h.TAU):this.arc(v,y,S,h.TAU,0,!0),this.strokePath(),this},fillPointShape:function(v,y){return this.fillPoint(v.x,v.y,y)},fillPoint:function(v,y,C){return!C||C<1?C=1:(v-=C/2,y-=C/2),this.commandBuffer.push(c.FILL_RECT,v,y,C,C),this},fillTriangleShape:function(v){return this.fillTriangle(v.x1,v.y1,v.x2,v.y2,v.x3,v.y3)},strokeTriangleShape:function(v){return this.strokeTriangle(v.x1,v.y1,v.x2,v.y2,v.x3,v.y3)},fillTriangle:function(v,y,C,b,T,S){return this.commandBuffer.push(c.FILL_TRIANGLE,v,y,C,b,T,S),this},strokeTriangle:function(v,y,C,b,T,S){return this.commandBuffer.push(c.STROKE_TRIANGLE,v,y,C,b,T,S),this},strokeLineShape:function(v){return this.lineBetween(v.x1,v.y1,v.x2,v.y2)},lineBetween:function(v,y,C,b){return this.beginPath(),this.moveTo(v,y),this.lineTo(C,b),this.strokePath(),this},lineTo:function(v,y){return this.commandBuffer.push(c.LINE_TO,v,y),this},moveTo:function(v,y){return this.commandBuffer.push(c.MOVE_TO,v,y),this},strokePoints:function(v,y,C,b){y===void 0&&(y=!1),C===void 0&&(C=!1),b===void 0&&(b=v.length),this.beginPath(),this.moveTo(v[0].x,v[0].y);for(var T=1;T<b;T++)this.lineTo(v[T].x,v[T].y);return y&&this.lineTo(v[0].x,v[0].y),C&&this.closePath(),this.strokePath(),this},fillPoints:function(v,y,C,b){y===void 0&&(y=!1),C===void 0&&(C=!1),b===void 0&&(b=v.length),this.beginPath(),this.moveTo(v[0].x,v[0].y);for(var T=1;T<b;T++)this.lineTo(v[T].x,v[T].y);return y&&this.lineTo(v[0].x,v[0].y),C&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(v,y){y===void 0&&(y=32);var C=v.getPoints(y);return this.strokePoints(C,!0)},strokeEllipse:function(v,y,C,b,T){T===void 0&&(T=32);var S=new u(v,y,C,b),F=S.getPoints(T);return this.strokePoints(F,!0)},fillEllipseShape:function(v,y){y===void 0&&(y=32);var C=v.getPoints(y);return this.fillPoints(C,!0)},fillEllipse:function(v,y,C,b,T){T===void 0&&(T=32);var S=new u(v,y,C,b),F=S.getPoints(T);return this.fillPoints(F,!0)},arc:function(v,y,C,b,T,S,F){return S===void 0&&(S=!1),F===void 0&&(F=0),this.commandBuffer.push(c.ARC,v,y,C,b,T,S,F),this},slice:function(v,y,C,b,T,S,F){return S===void 0&&(S=!1),F===void 0&&(F=0),this.commandBuffer.push(c.BEGIN_PATH),this.commandBuffer.push(c.MOVE_TO,v,y),this.commandBuffer.push(c.ARC,v,y,C,b,T,S,F),this.commandBuffer.push(c.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(c.SAVE),this},restore:function(){return this.commandBuffer.push(c.RESTORE),this},translateCanvas:function(v,y){return this.commandBuffer.push(c.TRANSLATE,v,y),this},scaleCanvas:function(v,y){return this.commandBuffer.push(c.SCALE,v,y),this},rotateCanvas:function(v){return this.commandBuffer.push(c.ROTATE,v),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(v,y,C){var b=this.scene.sys,T=b.game.renderer;y===void 0&&(y=b.scale.width),C===void 0&&(C=b.scale.height),g.TargetCamera.setScene(this.scene),g.TargetCamera.setViewport(0,0,y,C),g.TargetCamera.scrollX=this.x,g.TargetCamera.scrollY=this.y;var S,F,B={willReadFrequently:!0};if(typeof v=="string")if(b.textures.exists(v)){S=b.textures.get(v);var N=S.getSourceImage();N instanceof HTMLCanvasElement&&(F=N.getContext("2d",B))}else S=b.textures.createCanvas(v,y,C),F=S.getSourceImage().getContext("2d",B);else v instanceof HTMLCanvasElement&&(F=v.getContext("2d",B));return F&&(this.renderCanvas(T,this,g.TargetCamera,null,F,!1),S&&S.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});g.TargetCamera=new a,r.exports=g},32768:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(85592),p=i(20926),c=function(o,u,l,d,f,h){var A=u.commandBuffer,g=A.length,v=f||o.currentContext;if(!(g===0||!p(o,v,u,l,d))){l.addToRenderList(u);var y=1,C=1,b=0,T=0,S=1,F=0,B=0,N=0;v.beginPath();for(var L=0;L<g;++L){var R=A[L];switch(R){case a.ARC:v.arc(A[L+1],A[L+2],A[L+3],A[L+4],A[L+5],A[L+6]),L+=7;break;case a.LINE_STYLE:S=A[L+1],b=A[L+2],y=A[L+3],F=(b&16711680)>>>16,B=(b&65280)>>>8,N=b&255,v.strokeStyle="rgba("+F+","+B+","+N+","+y+")",v.lineWidth=S,L+=3;break;case a.FILL_STYLE:T=A[L+1],C=A[L+2],F=(T&16711680)>>>16,B=(T&65280)>>>8,N=T&255,v.fillStyle="rgba("+F+","+B+","+N+","+C+")",L+=2;break;case a.BEGIN_PATH:v.beginPath();break;case a.CLOSE_PATH:v.closePath();break;case a.FILL_PATH:h||v.fill();break;case a.STROKE_PATH:h||v.stroke();break;case a.FILL_RECT:h?v.rect(A[L+1],A[L+2],A[L+3],A[L+4]):v.fillRect(A[L+1],A[L+2],A[L+3],A[L+4]),L+=4;break;case a.FILL_TRIANGLE:v.beginPath(),v.moveTo(A[L+1],A[L+2]),v.lineTo(A[L+3],A[L+4]),v.lineTo(A[L+5],A[L+6]),v.closePath(),h||v.fill(),L+=6;break;case a.STROKE_TRIANGLE:v.beginPath(),v.moveTo(A[L+1],A[L+2]),v.lineTo(A[L+3],A[L+4]),v.lineTo(A[L+5],A[L+6]),v.closePath(),h||v.stroke(),L+=6;break;case a.LINE_TO:v.lineTo(A[L+1],A[L+2]),L+=2;break;case a.MOVE_TO:v.moveTo(A[L+1],A[L+2]),L+=2;break;case a.LINE_FX_TO:v.lineTo(A[L+1],A[L+2]),L+=5;break;case a.MOVE_FX_TO:v.moveTo(A[L+1],A[L+2]),L+=5;break;case a.SAVE:v.save();break;case a.RESTORE:v.restore();break;case a.TRANSLATE:v.translate(A[L+1],A[L+2]),L+=2;break;case a.SCALE:v.scale(A[L+1],A[L+2]),L+=2;break;case a.ROTATE:v.rotate(A[L+1]),L+=1;break;case a.GRADIENT_FILL_STYLE:L+=5;break;case a.GRADIENT_LINE_STYLE:L+=6;break}}v.restore()}};r.exports=c},87079:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(44603),p=i(43831);a.register("graphics",function(c,o){c===void 0&&(c={}),o!==void 0&&(c.add=o);var u=new p(this.scene,c);return c.add&&this.scene.sys.displayList.add(u),u})},1201:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(43831),p=i(39429);p.register("graphics",function(c){return this.displayList.add(new a(this.scene,c))})},84503:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(29747),p=a,c=a;p=i(77545),c=i(32768),c=i(32768),r.exports={renderWebGL:p,renderCanvas:c}},77545:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(85592),p=i(91296),c=i(61340),o=i(70554),u=function(A,g,v){this.x=A,this.y=g,this.width=v},l=function(A,g,v){this.points=[],this.pointsLength=1,this.points[0]=new u(A,g,v)},d=[],f=new c,h=function(A,g,v,y){if(g.commandBuffer.length!==0){v.addToRenderList(g);var C=A.pipelines.set(g.pipeline,g);A.pipelines.preBatch(g);for(var b=p(g,v,y).calc,T=f.loadIdentity(),S=g.commandBuffer,F=v.alpha*g.alpha,B=1,N=C.fillTint,L=C.strokeTint,R=0,I=0,M=0,P=.01,U=Math.PI*2,z,W=[],Z=0,j=!0,H=null,V=o.getTintAppendFloatAlpha,k=0;k<S.length;k++)switch(z=S[k],z){case a.BEGIN_PATH:{W.length=0,H=null,j=!0;break}case a.CLOSE_PATH:{j=!1,H&&H.points.length&&H.points.push(H.points[0]);break}case a.FILL_PATH:{for(Z=0;Z<W.length;Z++)C.batchFillPath(W[Z].points,T,b);break}case a.STROKE_PATH:{for(Z=0;Z<W.length;Z++)C.batchStrokePath(W[Z].points,B,j,T,b);break}case a.LINE_STYLE:{B=S[++k];var X=S[++k],Q=S[++k]*F,J=V(X,Q);L.TL=J,L.TR=J,L.BL=J,L.BR=J;break}case a.FILL_STYLE:{var $=S[++k],_=S[++k]*F,te=V($,_);N.TL=te,N.TR=te,N.BL=te,N.BR=te;break}case a.GRADIENT_FILL_STYLE:{var se=S[++k]*F,ce=S[++k]*F,ge=S[++k]*F,ue=S[++k]*F;N.TL=V(S[++k],se),N.TR=V(S[++k],ce),N.BL=V(S[++k],ge),N.BR=V(S[++k],ue);break}case a.GRADIENT_LINE_STYLE:{B=S[++k];var re=S[++k]*F;L.TL=V(S[++k],re),L.TR=V(S[++k],re),L.BL=V(S[++k],re),L.BR=V(S[++k],re);break}case a.ARC:{var Ce=0,ye=S[++k],Ee=S[++k],Me=S[++k],Be=S[++k],ve=S[++k],Re=S[++k],Pe=S[++k];for(ve-=Be,Re?ve<-U?ve=-U:ve>0&&(ve=-U+ve%U):ve>U?ve=U:ve<0&&(ve=U+ve%U),H===null&&(H=new l(ye+Math.cos(Be)*Me,Ee+Math.sin(Be)*Me,B),W.push(H),Ce+=P);Ce<1+Pe;)M=ve*Ce+Be,R=ye+Math.cos(M)*Me,I=Ee+Math.sin(M)*Me,H.points.push(new u(R,I,B)),Ce+=P;M=ve+Be,R=ye+Math.cos(M)*Me,I=Ee+Math.sin(M)*Me,H.points.push(new u(R,I,B));break}case a.FILL_RECT:{C.batchFillRect(S[++k],S[++k],S[++k],S[++k],T,b);break}case a.FILL_TRIANGLE:{C.batchFillTriangle(S[++k],S[++k],S[++k],S[++k],S[++k],S[++k],T,b);break}case a.STROKE_TRIANGLE:{C.batchStrokeTriangle(S[++k],S[++k],S[++k],S[++k],S[++k],S[++k],B,T,b);break}case a.LINE_TO:{H!==null?H.points.push(new u(S[++k],S[++k],B)):(H=new l(S[++k],S[++k],B),W.push(H));break}case a.MOVE_TO:{H=new l(S[++k],S[++k],B),W.push(H);break}case a.SAVE:{d.push(T.copyToArray());break}case a.RESTORE:{T.copyFromArray(d.pop());break}case a.TRANSLATE:{ye=S[++k],Ee=S[++k],T.translate(ye,Ee);break}case a.SCALE:{ye=S[++k],Ee=S[++k],T.scale(ye,Ee);break}case a.ROTATE:{T.rotate(S[++k]);break}}A.pipelines.postBatch(g)}};r.exports=h},26479:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(61061),p=i(83419),c=i(51708),o=i(50792),u=i(46710),l=i(95540),d=i(35154),f=i(97022),h=i(41212),A=i(88492),g=i(35072),v=i(68287),y=new p({Extends:o,initialize:function(b,T,S){o.call(this),S?T&&!Array.isArray(T)&&(T=[T]):Array.isArray(T)?h(T[0])&&(S=T,T=null):h(T)&&(S=T,T=null),this.scene=b,this.children=new g,this.isParent=!0,this.type="Group",this.classType=l(S,"classType",v),this.name=l(S,"name",""),this.active=l(S,"active",!0),this.maxSize=l(S,"maxSize",-1),this.defaultKey=l(S,"defaultKey",null),this.defaultFrame=l(S,"defaultFrame",null),this.runChildUpdate=l(S,"runChildUpdate",!1),this.createCallback=l(S,"createCallback",null),this.removeCallback=l(S,"removeCallback",null),this.createMultipleCallback=l(S,"createMultipleCallback",null),this.internalCreateCallback=l(S,"internalCreateCallback",null),this.internalRemoveCallback=l(S,"internalRemoveCallback",null),T&&this.addMultiple(T),S&&this.createMultiple(S),this.on(c.ADDED_TO_SCENE,this.addedToScene,this),this.on(c.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(C,b,T,S,F,B){if(C===void 0&&(C=0),b===void 0&&(b=0),T===void 0&&(T=this.defaultKey),S===void 0&&(S=this.defaultFrame),F===void 0&&(F=!0),B===void 0&&(B=!0),this.isFull())return null;var N=new this.classType(this.scene,C,b,T,S);return N.addToDisplayList(this.scene.sys.displayList),N.addToUpdateList(),N.visible=F,N.setActive(B),this.add(N),N},createMultiple:function(C){if(this.isFull())return[];Array.isArray(C)||(C=[C]);var b=[];if(C[0].key)for(var T=0;T<C.length;T++){var S=this.createFromConfig(C[T]);b=b.concat(S)}return b},createFromConfig:function(C){if(this.isFull())return[];this.classType=l(C,"classType",this.classType);var b=l(C,"key",void 0),T=l(C,"frame",null),S=l(C,"visible",!0),F=l(C,"active",!0),B=[];if(b===void 0)return B;Array.isArray(b)||(b=[b]),Array.isArray(T)||(T=[T]);var N=l(C,"repeat",0),L=l(C,"randomKey",!1),R=l(C,"randomFrame",!1),I=l(C,"yoyo",!1),M=l(C,"quantity",!1),P=l(C,"frameQuantity",1),U=l(C,"max",0),z=A(b,T,{max:U,qty:M||P,random:L,randomB:R,repeat:N,yoyo:I});C.createCallback&&(this.createCallback=C.createCallback),C.removeCallback&&(this.removeCallback=C.removeCallback),C.internalCreateCallback&&(this.internalCreateCallback=C.internalCreateCallback),C.internalRemoveCallback&&(this.internalRemoveCallback=C.internalRemoveCallback);for(var W=0;W<z.length;W++){var Z=this.create(0,0,z[W].a,z[W].b,S,F);if(!Z)break;B.push(Z)}if(f(C,"setXY")){var j=d(C,"setXY.x",0),H=d(C,"setXY.y",0),V=d(C,"setXY.stepX",0),k=d(C,"setXY.stepY",0);a.SetXY(B,j,H,V,k)}if(f(C,"setRotation")){var X=d(C,"setRotation.value",0),Q=d(C,"setRotation.step",0);a.SetRotation(B,X,Q)}if(f(C,"setScale")){var J=d(C,"setScale.x",1),$=d(C,"setScale.y",J),_=d(C,"setScale.stepX",0),te=d(C,"setScale.stepY",0);a.SetScale(B,J,$,_,te)}if(f(C,"setOrigin")){var se=d(C,"setOrigin.x",.5),ce=d(C,"setOrigin.y",se),ge=d(C,"setOrigin.stepX",0),ue=d(C,"setOrigin.stepY",0);a.SetOrigin(B,se,ce,ge,ue)}if(f(C,"setAlpha")){var re=d(C,"setAlpha.value",1),Ce=d(C,"setAlpha.step",0);a.SetAlpha(B,re,Ce)}if(f(C,"setDepth")){var ye=d(C,"setDepth.value",0),Ee=d(C,"setDepth.step",0);a.SetDepth(B,ye,Ee)}if(f(C,"setScrollFactor")){var Me=d(C,"setScrollFactor.x",1),Be=d(C,"setScrollFactor.y",Me),ve=d(C,"setScrollFactor.stepX",0),Re=d(C,"setScrollFactor.stepY",0);a.SetScrollFactor(B,Me,Be,ve,Re)}var Pe=l(C,"hitArea",null),Ge=l(C,"hitAreaCallback",null);Pe&&a.SetHitArea(B,Pe,Ge);var We=l(C,"gridAlign",!1);return We&&a.GridAlign(B,We),this.createMultipleCallback&&this.createMultipleCallback.call(this,B),B},preUpdate:function(C,b){if(!(!this.runChildUpdate||this.children.size===0))for(var T=this.children.entries.slice(),S=0;S<T.length;S++){var F=T[S];F.active&&F.update(C,b)}},add:function(C,b){return b===void 0&&(b=!1),this.isFull()?this:(this.children.set(C),this.internalCreateCallback&&this.internalCreateCallback.call(this,C),this.createCallback&&this.createCallback.call(this,C),b&&(C.addToDisplayList(this.scene.sys.displayList),C.addToUpdateList()),C.on(c.DESTROY,this.remove,this),this)},addMultiple:function(C,b){if(b===void 0&&(b=!1),Array.isArray(C))for(var T=0;T<C.length;T++)this.add(C[T],b);return this},remove:function(C,b,T){return b===void 0&&(b=!1),T===void 0&&(T=!1),this.children.contains(C)?(this.children.delete(C),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,C),this.removeCallback&&this.removeCallback.call(this,C),C.off(c.DESTROY,this.remove,this),T?C.destroy():b&&(C.removeFromDisplayList(),C.removeFromUpdateList()),this):this},clear:function(C,b){C===void 0&&(C=!1),b===void 0&&(b=!1);for(var T=this.children,S=0;S<T.size;S++){var F=T.entries[S];F.off(c.DESTROY,this.remove,this),b?F.destroy():C&&(F.removeFromDisplayList(),F.removeFromUpdateList())}return this.children.clear(),this},contains:function(C){return this.children.contains(C)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(C,b,T,S){return u(this.children.entries,C,b,T,S)},getFirst:function(C,b,T,S,F,B,N){return this.getHandler(!0,1,C,b,T,S,F,B,N)},getFirstNth:function(C,b,T,S,F,B,N,L){return this.getHandler(!0,C,b,T,S,F,B,N,L)},getLast:function(C,b,T,S,F,B,N){return this.getHandler(!1,1,C,b,T,S,F,B,N)},getLastNth:function(C,b,T,S,F,B,N,L){return this.getHandler(!1,C,b,T,S,F,B,N,L)},getHandler:function(C,b,T,S,F,B,N,L,R){T===void 0&&(T=!1),S===void 0&&(S=!1);var I,M,P=0,U=this.children.entries;if(C)for(M=0;M<U.length;M++)if(I=U[M],I.active===T){if(P++,P===b)break}else I=null;else for(M=U.length-1;M>=0;M--)if(I=U[M],I.active===T){if(P++,P===b)break}else I=null;return I?(typeof F=="number"&&(I.x=F),typeof B=="number"&&(I.y=B),I):S?this.create(F,B,N,L,R):null},get:function(C,b,T,S,F){return this.getFirst(!1,!0,C,b,T,S,F)},getFirstAlive:function(C,b,T,S,F,B){return this.getFirst(!0,C,b,T,S,F,B)},getFirstDead:function(C,b,T,S,F,B){return this.getFirst(!1,C,b,T,S,F,B)},playAnimation:function(C,b){return a.PlayAnimation(this.children.entries,C,b),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(C){C===void 0&&(C=!0);for(var b=0,T=0;T<this.children.size;T++)this.children.entries[T].active===C&&b++;return b},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var C=this.getTotalUsed(),b=this.maxSize===-1?999999999999:this.maxSize;return b-C},setActive:function(C){return this.active=C,this},setName:function(C){return this.name=C,this},propertyValueSet:function(C,b,T,S,F){return a.PropertyValueSet(this.children.entries,C,b,T,S,F),this},propertyValueInc:function(C,b,T,S,F){return a.PropertyValueInc(this.children.entries,C,b,T,S,F),this},setX:function(C,b){return a.SetX(this.children.entries,C,b),this},setY:function(C,b){return a.SetY(this.children.entries,C,b),this},setXY:function(C,b,T,S){return a.SetXY(this.children.entries,C,b,T,S),this},incX:function(C,b){return a.IncX(this.children.entries,C,b),this},incY:function(C,b){return a.IncY(this.children.entries,C,b),this},incXY:function(C,b,T,S){return a.IncXY(this.children.entries,C,b,T,S),this},shiftPosition:function(C,b,T){return a.ShiftPosition(this.children.entries,C,b,T),this},angle:function(C,b){return a.Angle(this.children.entries,C,b),this},rotate:function(C,b){return a.Rotate(this.children.entries,C,b),this},rotateAround:function(C,b){return a.RotateAround(this.children.entries,C,b),this},rotateAroundDistance:function(C,b,T){return a.RotateAroundDistance(this.children.entries,C,b,T),this},setAlpha:function(C,b){return a.SetAlpha(this.children.entries,C,b),this},setTint:function(C,b,T,S){return a.SetTint(this.children.entries,C,b,T,S),this},setOrigin:function(C,b,T,S){return a.SetOrigin(this.children.entries,C,b,T,S),this},scaleX:function(C,b){return a.ScaleX(this.children.entries,C,b),this},scaleY:function(C,b){return a.ScaleY(this.children.entries,C,b),this},scaleXY:function(C,b,T,S){return a.ScaleXY(this.children.entries,C,b,T,S),this},setDepth:function(C,b){return a.SetDepth(this.children.entries,C,b),this},setBlendMode:function(C){return a.SetBlendMode(this.children.entries,C),this},setHitArea:function(C,b){return a.SetHitArea(this.children.entries,C,b),this},shuffle:function(){return a.Shuffle(this.children.entries),this},kill:function(C){this.children.contains(C)&&C.setActive(!1)},killAndHide:function(C){this.children.contains(C)&&(C.setActive(!1),C.setVisible(!1))},setVisible:function(C,b,T){return a.SetVisible(this.children.entries,C,b,T),this},toggleVisible:function(){return a.ToggleVisible(this.children.entries),this},destroy:function(C,b){C===void 0&&(C=!1),b===void 0&&(b=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(c.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(b,C),this.scene=void 0,this.children=void 0)}});r.exports=y},94975:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(44603),p=i(26479);a.register("group",function(c){return new p(this.scene,null,c)})},3385:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(26479),p=i(39429);p.register("group",function(c,o){return this.updateList.add(new a(this.scene,c,o))})},88571:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(31401),c=i(95643),o=i(59819),u=new a({Extends:c,Mixins:[p.Alpha,p.BlendMode,p.Depth,p.Flip,p.GetBounds,p.Mask,p.Origin,p.Pipeline,p.PostPipeline,p.ScrollFactor,p.Size,p.TextureCrop,p.Tint,p.Transform,p.Visible,o],initialize:function(d,f,h,A,g){c.call(this,d,"Image"),this._crop=this.resetCropObject(),this.setTexture(A,g),this.setPosition(f,h),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});r.exports=u},40652:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p,c){p.addToRenderList(a),i.batchSprite(a,a.frame,p,c)};r.exports=x},82459:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(25305),p=i(44603),c=i(23568),o=i(88571);p.register("image",function(u,l){u===void 0&&(u={});var d=c(u,"key",null),f=c(u,"frame",null),h=new o(this.scene,0,0,d,f);return l!==void 0&&(u.add=l),a(this.scene,h,u),h})},2117:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(88571),p=i(39429);p.register("image",function(c,o,u,l){return this.displayList.add(new a(this.scene,c,o,u,l))})},59819:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(29747),p=a,c=a;p=i(99517),c=i(40652),r.exports={renderWebGL:p,renderCanvas:c}},99517:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p,c){p.addToRenderList(a),this.pipeline.batchSprite(a,p,c)};r.exports=x},77856:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={Events:i(51708),DisplayList:i(8050),GameObjectCreator:i(44603),GameObjectFactory:i(39429),UpdateList:i(45027),Components:i(31401),GetCalcMatrix:i(91296),BuildGameObject:i(25305),BuildGameObjectAnimation:i(13059),GameObject:i(95643),BitmapText:i(22186),Blitter:i(6107),Bob:i(46590),Container:i(31559),DOMElement:i(3069),DynamicBitmapText:i(2638),Extern:i(42421),Graphics:i(43831),Group:i(26479),Image:i(88571),Layer:i(93595),Particles:i(18404),PathFollower:i(1159),RenderTexture:i(591),RetroFont:i(196),Rope:i(77757),Sprite:i(68287),Text:i(50171),GetTextSize:i(14220),MeasureText:i(79557),TextStyle:i(35762),TileSprite:i(20839),Zone:i(41481),Video:i(18471),Shape:i(17803),Arc:i(23629),Curve:i(89),Ellipse:i(19921),Grid:i(30479),IsoBox:i(61475),IsoTriangle:i(16933),Line:i(57847),Polygon:i(24949),Rectangle:i(74561),Star:i(55911),Triangle:i(36931),Factories:{Blitter:i(12709),Container:i(24961),DOMElement:i(2611),DynamicBitmapText:i(72566),Extern:i(56315),Graphics:i(1201),Group:i(3385),Image:i(2117),Layer:i(20005),Particles:i(676),PathFollower:i(90145),RenderTexture:i(60505),Rope:i(96819),Sprite:i(46409),StaticBitmapText:i(34914),Text:i(68005),TileSprite:i(91681),Zone:i(84175),Video:i(89025),Arc:i(42563),Curve:i(40511),Ellipse:i(1543),Grid:i(34137),IsoBox:i(3933),IsoTriangle:i(49803),Line:i(2481),Polygon:i(64827),Rectangle:i(87959),Star:i(93697),Triangle:i(45245)},Creators:{Blitter:i(9403),Container:i(77143),DynamicBitmapText:i(11164),Graphics:i(87079),Group:i(94975),Image:i(82459),Layer:i(25179),Particles:i(92730),RenderTexture:i(34495),Rope:i(26209),Sprite:i(15567),StaticBitmapText:i(57336),Text:i(71259),TileSprite:i(14167),Zone:i(95261),Video:i(11511)}};a.Shader=i(20071),a.Mesh=i(4703),a.NineSlice=i(28103),a.PointLight=i(80321),a.Plane=i(33663),a.Factories.Shader=i(74177),a.Factories.Mesh=i(9225),a.Factories.NineSlice=i(47521),a.Factories.PointLight=i(71255),a.Factories.Plane=i(30985),a.Creators.Shader=i(54935),a.Creators.Mesh=i(20527),a.Creators.NineSlice=i(28279),a.Creators.PointLight=i(39829),a.Creators.Plane=i(56015),a.Light=i(41432),a.LightsManager=i(61356),a.LightsPlugin=i(88992),r.exports=a},93595:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(10312),p=i(83419),c=i(31401),o=i(53774),u=i(45893),l=i(50792),d=i(51708),f=i(73162),h=i(33963),A=i(44594),g=i(19186),v=new p({Extends:f,Mixins:[c.AlphaSingle,c.BlendMode,c.Depth,c.Mask,c.PostPipeline,c.Visible,l,h],initialize:function(C,b){f.call(this,C),l.call(this),this.scene=C,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=C.sys,this.events=C.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(a.SKIP_CHECK),b&&this.add(b),C.sys.queueDepthSort()},setActive:function(y){return this.active=y,this},setName:function(y){return this.name=y,this},setState:function(y){return this.state=y,this},setDataEnabled:function(){return this.data||(this.data=new u(this)),this},setData:function(y,C){return this.data||(this.data=new u(this)),this.data.set(y,C),this},incData:function(y,C){return this.data||(this.data=new u(this)),this.data.inc(y,C),this},toggleData:function(y){return this.data||(this.data=new u(this)),this.data.toggle(y),this},getData:function(y){return this.data||(this.data=new u(this)),this.data.get(y)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return o(this)},willRender:function(y){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&y.id)},getIndexList:function(){for(var y=this,C=this.parentContainer,b=[];C&&(b.unshift(C.getIndex(y)),y=C,C.parentContainer);)C=C.parentContainer;return b.unshift(this.displayList.getIndex(y)),b},addChildCallback:function(y){var C=y.displayList;C&&C!==this&&y.removeFromDisplayList(),y.displayList||(this.queueDepthSort(),y.displayList=this,y.emit(d.ADDED_TO_SCENE,y,this.scene),this.events.emit(A.ADDED_TO_SCENE,y,this.scene))},removeChildCallback:function(y){this.queueDepthSort(),y.displayList=null,y.emit(d.REMOVED_FROM_SCENE,y,this.scene),this.events.emit(A.REMOVED_FROM_SCENE,y,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(g(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(y,C){return y._depth-C._depth},getChildren:function(){return this.list},addToDisplayList:function(y){return y===void 0&&(y=this.scene.sys.displayList),this.displayList&&this.displayList!==y&&this.removeFromDisplayList(),y.exists(this)||(this.displayList=y,y.add(this,!0),y.queueDepthSort(),this.emit(d.ADDED_TO_SCENE,this,this.scene),y.events.emit(A.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var y=this.displayList||this.scene.sys.displayList;return y.exists(this)&&(y.remove(this,!0),y.queueDepthSort(),this.displayList=null,this.emit(d.REMOVED_FROM_SCENE,this,this.scene),y.events.emit(A.REMOVED_FROM_SCENE,this,this.scene)),this},getDisplayList:function(){var y=null;return this.parentContainer?y=this.parentContainer.list:this.displayList&&(y=this.displayList.list),y},destroy:function(y){if(!(!this.scene||this.ignoreDestroy)){this.emit(d.DESTROY,this);for(var C=this.list;C.length;)C[0].destroy(y);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0,!1),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});r.exports=v},2956:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p){var c=a.list;if(c.length!==0){a.depthSort();var o=a.blendMode!==-1;o||i.setBlendMode(0);var u=a._alpha;a.mask&&a.mask.preRenderCanvas(i,null,p);for(var l=0;l<c.length;l++){var d=c[l];if(d.willRender(p)){var f=d.alpha;!o&&d.blendMode!==i.currentBlendMode&&i.setBlendMode(d.blendMode),d.setAlpha(f*u),d.renderCanvas(i,d,p),d.setAlpha(f)}}a.mask&&a.mask.postRenderCanvas(i)}};r.exports=x},25179:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(25305),p=i(93595),c=i(44603),o=i(23568);c.register("layer",function(u,l){u===void 0&&(u={});var d=o(u,"children",null),f=new p(this.scene,d);return l!==void 0&&(u.add=l),a(this.scene,f,u),f})},20005:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(93595),p=i(39429);p.register("layer",function(c){return this.displayList.add(new a(this.scene,c))})},33963:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(29747),p=a,c=a;p=i(15869),c=i(2956),r.exports={renderWebGL:p,renderCanvas:c}},15869:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p){var c=a.list,o=c.length;if(o!==0){a.depthSort(),i.pipelines.preBatch(a);var u=a.blendMode!==-1;u||i.setBlendMode(0);for(var l=a.alpha,d=0;d<o;d++){var f=c[d];if(f.willRender(p)){var h,A,g,v;if(f.alphaTopLeft!==void 0)h=f.alphaTopLeft,A=f.alphaTopRight,g=f.alphaBottomLeft,v=f.alphaBottomRight;else{var y=f.alpha;h=y,A=y,g=y,v=y}!u&&f.blendMode!==i.currentBlendMode&&i.setBlendMode(f.blendMode);var C=f.mask;C&&C.preRenderWebGL(i,f,p);var b=f.type;b!==i.currentType&&(i.newType=!0,i.currentType=b),i.nextTypeMatch=d<o-1?c[d+1].type===i.currentType:!1,f.setAlpha(h*l,A*l,g*l,v*l),f.renderWebGL(i,f,p),f.setAlpha(h,A,g,v),C&&C.postRenderWebGL(i,p),i.newType=!1}}i.pipelines.postBatch(a)}};r.exports=x},41432:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(96503),p=i(83419),c=i(31401),o=i(51767),u=i(70554),l=new p({Extends:a,Mixins:[c.Origin,c.ScrollFactor,c.Visible],initialize:function(f,h,A,g,v,y,C){a.call(this,f,h,A),this.color=new o(g,v,y),this.intensity=C,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(A)},displayWidth:{get:function(){return this.diameter},set:function(d){this.diameter=d}},displayHeight:{get:function(){return this.diameter},set:function(d){this.diameter=d}},width:{get:function(){return this.diameter},set:function(d){this.diameter=d}},height:{get:function(){return this.diameter},set:function(d){this.diameter=d}},willRender:function(d){return!(l.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&d.id)},setColor:function(d){var f=u.getFloatsFromUintRGB(d);return this.color.set(f[0],f[1],f[2]),this},setIntensity:function(d){return this.intensity=d,this},setRadius:function(d){return this.radius=d,this}});l.RENDER_MASK=15,r.exports=l},61356:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(81491),p=i(83419),c=i(20339),o=i(41432),u=i(80321),l=i(51767),d=i(19133),f=i(19186),h=i(70554),A=new p({initialize:function(){this.lights=[],this.ambientColor=new l(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(g,v,y,C,b,T){return this.systems.displayList.add(new u(this.scene,g,v,y,C,b,T))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(g){for(var v=this.lights,y=g.worldView,C=[],b=0;b<v.length;b++){var T=v[b];T.willRender(g)&&a(T,y)&&C.push({light:T,distance:c(T.x,T.y,y.centerX,y.centerY)})}return C.length>this.maxLights&&(f(C,this.sortByDistance),C=C.slice(0,this.maxLights)),this.visibleLights=C.length,C},sortByDistance:function(g,v){return g.distance>=v.distance},setAmbientColor:function(g){var v=h.getFloatsFromUintRGB(g);return this.ambientColor.set(v[0],v[1],v[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(g,v,y,C,b){g===void 0&&(g=0),v===void 0&&(v=0),y===void 0&&(y=128),C===void 0&&(C=16777215),b===void 0&&(b=1);var T=h.getFloatsFromUintRGB(C),S=new o(g,v,y,T[0],T[1],T[2],b);return this.lights.push(S),S},removeLight:function(g){var v=this.lights.indexOf(g);return v>=0&&d(this.lights,v),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});r.exports=A},88992:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(61356),c=i(37277),o=i(44594),u=new a({Extends:p,initialize:function(d){this.scene=d,this.systems=d.sys,d.sys.settings.isBooted||d.sys.events.once(o.BOOT,this.boot,this),p.call(this)},boot:function(){var l=this.systems.events;l.on(o.SHUTDOWN,this.shutdown,this),l.on(o.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});c.register("LightsPlugin",u,"lights"),r.exports=u},4703:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(31401),c=i(39506),o=i(83997),u=i(95643),l=i(34684),d=i(92515),f=i(91296),h=i(37867),A=i(29807),g=i(43396),v=i(19186),y=i(25836),C=i(39318),b=new a({Extends:u,Mixins:[p.AlphaSingle,p.BlendMode,p.Depth,p.Mask,p.Pipeline,p.PostPipeline,p.ScrollFactor,p.Size,p.Texture,p.Transform,p.Visible,A],initialize:function(S,F,B,N,L,R,I,M,P,U,z,W){F===void 0&&(F=0),B===void 0&&(B=0),N===void 0&&(N="__WHITE"),u.call(this,S,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new y,this.modelScale=new y(1,1,1),this.modelRotation=new y,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new h,this.viewPosition=new y,this.viewMatrix=new h,this.projectionMatrix=new h,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.fov,this.displayOriginX=0,this.displayOriginY=0;var Z=S.sys.renderer;this.setPosition(F,B),this.setTexture(N,L),this.setSize(Z.width,Z.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective(Z.width,Z.height),R&&this.addVertices(R,I,M,P,U,z,W)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(T){return this.viewPosition.addScale(y.LEFT,T),this.dirtyCache[10]=1,this},panY:function(T){return this.viewPosition.y+=y.DOWN.y*T,this.dirtyCache[10]=1,this},panZ:function(T){return this.viewPosition.z+=T,this.dirtyCache[10]=1,this},setPerspective:function(T,S,F,B,N){return F===void 0&&(F=45),B===void 0&&(B=.01),N===void 0&&(N=1e3),this.fov=F,this.projectionMatrix.perspective(c(F),T/S,B,N),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(T,S,F,B){return T===void 0&&(T=this.scene.sys.renderer.getAspectRatio()),S===void 0&&(S=1),F===void 0&&(F=-1e3),B===void 0&&(B=1e3),this.fov=0,this.projectionMatrix.ortho(-T,T,-S,S,F,B),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(T){T.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(T,S,F,B,N,L,R,I,M){var P=this.scene.sys.cache.obj.get(T),U;return P&&(U=l(P,this,S,F,B,N,L,R,I,M)),(!U||U.verts.length===0)&&console.warn("Mesh.addVerticesFromObj data empty:",T),this},sortByDepth:function(T,S){return T.depth-S.depth},depthSort:function(){return v(this.faces,this.sortByDepth),this},addVertex:function(T,S,F,B,N,L,R){var I=new C(T,S,F,B,N,L,R);return this.vertices.push(I),I},addFace:function(T,S,F){var B=new o(T,S,F);return this.faces.push(B),this.dirtyCache[9]=-1,B},addVertices:function(T,S,F,B,N,L,R){var I=d(T,S,F,B,N,L,R);return I?(this.faces=this.faces.concat(I.faces),this.vertices=this.vertices.concat(I.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(T){return this.faces[T]},hasFaceAt:function(T,S,F){F===void 0&&(F=this.scene.sys.cameras.main);for(var B=f(this,F).calc,N=this.faces,L=0;L<N.length;L++){var R=N[L];if(R.contains(T,S,B))return!0}return!1},getFaceAt:function(T,S,F){F===void 0&&(F=this.scene.sys.cameras.main);for(var B=f(this,F).calc,N=this.faces,L=[],R=0;R<N.length;R++){var I=N[R];I.contains(T,S,B)&&L.push(I)}return v(L,this.sortByDepth)},setDebug:function(T,S){return this.debugGraphic=T,!T&&!S?this.debugCallback=null:S?this.debugCallback=S:this.debugCallback=this.renderDebug,this},isDirty:function(){var T=this.modelPosition,S=this.modelRotation,F=this.modelScale,B=this.dirtyCache,N=T.x,L=T.y,R=T.z,I=S.x,M=S.y,P=S.z,U=F.x,z=F.y,W=F.z,Z=this.getFaceCount(),j=B[0],H=B[1],V=B[2],k=B[3],X=B[4],Q=B[5],J=B[6],$=B[7],_=B[8],te=B[9];return B[0]=N,B[1]=L,B[2]=R,B[3]=I,B[4]=M,B[5]=P,B[6]=U,B[7]=z,B[8]=W,B[9]=Z,j!==N||H!==L||V!==R||k!==I||X!==M||Q!==P||J!==U||$!==z||_!==W||te!==Z},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var T=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!T[10]&&!this.isDirty())){var S=this.width,F=this.height,B=this.viewMatrix,N=this.viewPosition;T[10]&&(B.identity(),B.translate(N),B.invert(),T[10]=0);var L=this.transformMatrix;L.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var R=N.z,I=this.faces,M=0;M<I.length;M++)I[M].transformCoordinatesLocal(L,S,F,R);this.depthSort()}},renderDebug:function(T,S){for(var F=T.debugGraphic,B=0;B<S.length;B++){var N=S[B],L=N.vertex1.tx,R=N.vertex1.ty,I=N.vertex2.tx,M=N.vertex2.ty,P=N.vertex3.tx,U=N.vertex3.ty;F.strokeTriangle(L,R,I,M,P,U)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(T){T===void 0&&(T={});var S=(function(F,B,N){for(var L=this.faces,R=0;R<L.length;R++){var I=L[R];if(I.contains(B,N))return!0}return!1}).bind(this);return this.scene.sys.input.enable(this,T,S),this},setTint:function(T){T===void 0&&(T=16777215);for(var S=this.vertices,F=0;F<S.length;F++)S[F].color=T;return this},uvScroll:function(T,S){for(var F=this.faces,B=0;B<F.length;B++)F[B].scrollUV(T,S);return this},uvScale:function(T,S){for(var F=this.faces,B=0;B<F.length;B++)F[B].scaleUV(T,S);return this},tint:{set:function(T){this.setTint(T)}},rotateX:{get:function(){return g(this.modelRotation.x)},set:function(T){this.modelRotation.x=c(T)}},rotateY:{get:function(){return g(this.modelRotation.y)},set:function(T){this.modelRotation.y=c(T)}},rotateZ:{get:function(){return g(this.modelRotation.z)},set:function(T){this.modelRotation.z=c(T)}}});r.exports=b},36488:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(){};r.exports=x},20527:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(25305),p=i(44603),c=i(23568),o=i(35154),u=i(4703);p.register("mesh",function(l,d){l===void 0&&(l={});var f=c(l,"key",null),h=c(l,"frame",null),A=o(l,"vertices",[]),g=o(l,"uvs",[]),v=o(l,"indicies",[]),y=o(l,"containsZ",!1),C=o(l,"normals",[]),b=o(l,"colors",16777215),T=o(l,"alphas",1),S=new u(this.scene,0,0,f,h,A,g,v,y,C,b,T);return d!==void 0&&(l.add=d),a(this.scene,S,l),S})},9225:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(4703),p=i(39429);p.register("mesh",function(c,o,u,l,d,f,h,A,g,v,y){return this.displayList.add(new a(this.scene,c,o,u,l,d,f,h,A,g,v,y))})},29807:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(29747),p=a,c=a;p=i(48833),c=i(36488),r.exports={renderWebGL:p,renderCanvas:c}},48833:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(91296),p=function(c,o,u,l){var d=o.faces,f=d.length;if(f!==0){u.addToRenderList(o);var h=c.pipelines.set(o.pipeline,o),A=a(o,u,l).calc;c.pipelines.preBatch(o);for(var g=h.setGameObject(o),v=h.vertexViewF32,y=h.vertexViewU32,C=h.vertexCount*h.currentShader.vertexComponentCount-1,b=o.tintFill,T=[],S=o.debugCallback,F=A.a,B=A.b,N=A.c,L=A.d,R=A.e,I=A.f,M=o.viewPosition.z,P=o.hideCCW,U=u.roundPixels,z=u.alpha*o.alpha,W=0,Z=0;Z<f;Z++){var j=d[Z];j.isInView(u,P,M,z,F,B,N,L,R,I,U)&&(h.shouldFlush(3)&&(h.flush(),g=h.setGameObject(o),C=h.vertexCount*h.currentShader.vertexComponentCount-1),C=j.load(v,y,C,g,b),W++,h.vertexCount+=3,h.currentBatch.count=h.vertexCount-h.currentBatch.start,S&&T.push(j))}o.totalFrame+=W,S&&S.call(o,o,T),c.pipelines.postBatch(o)}};r.exports=p},28103:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(31401),c=i(95643),o=i(78023),u=i(39318),l=new a({Extends:c,Mixins:[p.AlphaSingle,p.BlendMode,p.Depth,p.GetBounds,p.Mask,p.Origin,p.Pipeline,p.PostPipeline,p.ScrollFactor,p.Texture,p.Transform,p.Visible,o],initialize:function(f,h,A,g,v,y,C,b,T,S,F){c.call(this,f,"NineSlice"),this._width,this._height,this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.leftWidth,this.rightWidth,this.topHeight,this.bottomHeight,this.tint=16777215,this.tintFill=!1;var B=f.textures.getFrame(g,v);this.is3Slice=!S&&!F,B&&B.scale9&&(this.is3Slice=B.is3Slice);for(var N=this.is3Slice?18:54,L=0;L<N;L++)this.vertices.push(new u);this.setPosition(h,A),this.setTexture(g,v),this.setSlices(y,C,b,T,S,F,!1),this.updateDisplayOrigin(),this.initPipeline(),this.initPostPipeline()},setSlices:function(d,f,h,A,g,v,y){h===void 0&&(h=10),A===void 0&&(A=10),g===void 0&&(g=0),v===void 0&&(v=0),y===void 0&&(y=!1);var C=this.frame,b=!1;if(this.is3Slice&&y&&g!==0&&v!==0&&(b=!0),b)console.warn("Cannot change 9 slice to 3 slice");else{if(C&&C.scale9&&!y){var T=C.data.scale9Borders,S=T.x,F=T.y;h=S,A=C.width-T.w-S,g=F,v=C.height-T.h-F,d===void 0&&(d=C.width),f===void 0&&(f=C.height)}else d===void 0&&(d=256),f===void 0&&(f=256);this._width=d,this._height=f,this.leftWidth=h,this.rightWidth=A,this.topHeight=g,this.bottomHeight=v,this.is3Slice&&(f=C.height,this._height=f,this.topHeight=f,this.bottomHeight=0),this.updateVertices(),this.updateUVs()}return this},updateUVs:function(){var d=this.leftWidth,f=this.rightWidth,h=this.topHeight,A=this.bottomHeight,g=this.frame.width,v=this.frame.height;this.updateQuadUVs(0,0,0,d/g,h/v),this.updateQuadUVs(6,d/g,0,1-f/g,h/v),this.updateQuadUVs(12,1-f/g,0,1,h/v),this.is3Slice||(this.updateQuadUVs(18,0,h/v,d/g,1-A/v),this.updateQuadUVs(24,d/g,h/v,1-f/g,1-A/v),this.updateQuadUVs(30,1-f/g,h/v,1,1-A/v),this.updateQuadUVs(36,0,1-A/v,d/g,1),this.updateQuadUVs(42,d/g,1-A/v,1-f/g,1),this.updateQuadUVs(48,1-f/g,1-A/v,1,1))},updateVertices:function(){var d=this.leftWidth,f=this.rightWidth,h=this.topHeight,A=this.bottomHeight,g=this.width,v=this.height;this.updateQuad(0,-.5,.5,-.5+d/g,.5-h/v),this.updateQuad(6,-.5+d/g,.5,.5-f/g,.5-h/v),this.updateQuad(12,.5-f/g,.5,.5,.5-h/v),this.is3Slice||(this.updateQuad(18,-.5,.5-h/v,-.5+d/g,-.5+A/v),this.updateQuad(24,-.5+d/g,.5-h/v,.5-f/g,-.5+A/v),this.updateQuad(30,.5-f/g,.5-h/v,.5,-.5+A/v),this.updateQuad(36,-.5,-.5+A/v,-.5+d/g,-.5),this.updateQuad(42,-.5+d/g,-.5+A/v,.5-f/g,-.5),this.updateQuad(48,.5-f/g,-.5+A/v,.5,-.5))},updateQuad:function(d,f,h,A,g){var v=this.width,y=this.height,C=this.originX,b=this.originY,T=this.vertices;T[d+0].resize(f,h,v,y,C,b),T[d+1].resize(f,g,v,y,C,b),T[d+2].resize(A,h,v,y,C,b),T[d+3].resize(f,g,v,y,C,b),T[d+4].resize(A,g,v,y,C,b),T[d+5].resize(A,h,v,y,C,b)},updateQuadUVs:function(d,f,h,A,g){var v=this.vertices,y=this.frame,C=y.u0,b=y.v0,T=y.u1,S=y.v1;if(C!==0||T!==1){var F=T-C;f=C+f*F,A=C+A*F}if(b!==0||S!==1){var B=S-b;h=b+h*B,g=b+g*B}v[d+0].setUVs(f,h),v[d+1].setUVs(f,g),v[d+2].setUVs(A,h),v[d+3].setUVs(f,g),v[d+4].setUVs(A,g),v[d+5].setUVs(A,h)},clearTint:function(){return this.setTint(16777215),this},setTint:function(d){return d===void 0&&(d=16777215),this.tint=d,this.tintFill=!1,this},setTintFill:function(d){return this.setTint(d),this.tintFill=!0,this},isTinted:{get:function(){return this.tint!==16777215}},width:{get:function(){return this._width},set:function(d){this._width=Math.max(d,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(d){this.is3Slice||(this._height=Math.max(d,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(d){this.scaleX=d/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(d){this.scaleY=d/this.height}},setSize:function(d,f){this.width=d,this.height=f,this.updateDisplayOrigin();var h=this.input;return h&&!h.customHitArea&&(h.hitArea.width=this.width,h.hitArea.height=this.height),this},setDisplaySize:function(d,f){return this.displayWidth=d,this.displayHeight=f,this},originX:{get:function(){return this._originX},set:function(d){this._originX=d,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(d){this._originY=d,this.updateVertices()}},setOrigin:function(d,f){return d===void 0&&(d=.5),f===void 0&&(f=d),this._originX=d,this._originY=f,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var d=this.frame.height;this._height=d,this.topHeight=d,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});r.exports=l},28279:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(25305),p=i(44603),c=i(23568),o=i(35154),u=i(28103);p.register("nineslice",function(l,d){l===void 0&&(l={});var f=c(l,"key",null),h=c(l,"frame",null),A=o(l,"width",256),g=o(l,"height",256),v=o(l,"leftWidth",10),y=o(l,"rightWidth",10),C=o(l,"topHeight",0),b=o(l,"bottomHeight",0),T=new u(this.scene,0,0,f,h,A,g,v,y,C,b);return d!==void 0&&(l.add=d),a(this.scene,T,l),T})},47521:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(28103),p=i(39429);p.register("nineslice",function(c,o,u,l,d,f,h,A,g,v){return this.displayList.add(new a(this.scene,c,o,u,l,d,f,h,A,g,v))})},78023:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(29747),p=a,c=a;p=i(52230),r.exports={renderWebGL:p,renderCanvas:c}},52230:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(91296),p=i(70554),c=function(o,u,l,d){var f=u.vertices,h=f.length;if(h!==0){l.addToRenderList(u);var A=o.pipelines.set(u.pipeline,u),g=a(u,l,d,!1).calc;o.pipelines.preBatch(u);var v=A.setGameObject(u),y=A.vertexViewF32,C=A.vertexViewU32,b=A.vertexCount*A.currentShader.vertexComponentCount-1,T=l.roundPixels,S=u.tintFill,F=l.alpha*u.alpha,B=p.getTintAppendFloatAlpha(u.tint,F),N=A.vertexAvailable(),L=-1;N<h&&(L=N);for(var R=0;R<h;R++){var I=f[R];R===L&&(A.flush(),v=A.setGameObject(u),b=0),y[++b]=g.getXRound(I.vx,I.vy,T),y[++b]=g.getYRound(I.vx,I.vy,T),y[++b]=I.u,y[++b]=I.v,y[++b]=v,y[++b]=S,C[++b]=B,A.vertexCount++,A.currentBatch.count=A.vertexCount-A.currentBatch.start}o.pipelines.postBatch(u)}};r.exports=c},76472:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(44777),c=i(37589),o=i(6113),u=i(91389),l=i(90664),d=new a({Extends:p,initialize:function(h){p.call(this,h,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return this.propertyValue===null?0:9},setMethods:function(){var f=this.propertyValue,h=f,A=this.defaultEmit,g=this.defaultUpdate;if(this.method===9){this.start=f[0],this.ease=o("Linear"),this.interpolation=u("linear"),A=this.easedValueEmit,g=this.easeValueUpdate,h=f[0],this.active=!0,this.r.length=0,this.g.length=0,this.b.length=0;for(var v=0;v<f.length;v++){var y=l(f[v]);this.r.push(y.r),this.g.push(y.g),this.b.push(y.b)}}return this.onEmit=A,this.onUpdate=g,this.current=h,this},setEase:function(f){this.easeName=f,this.ease=o(f)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(f,h,A){var g=this.ease(A),v=this.interpolation(this.r,g),y=this.interpolation(this.g,g),C=this.interpolation(this.b,g),b=c(v,y,C);return this.current=b,b}});r.exports=d},44777:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(30976),p=i(45319),c=i(83419),o=i(99472),u=i(6113),l=i(95540),d=i(91389),f=i(77720),h=i(15994),A=new c({initialize:function(v,y,C){C===void 0&&(C=!1),this.propertyKey=v,this.propertyValue=y,this.defaultValue=y,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=C,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0,this._onEmit,this._onUpdate},loadConfig:function(g,v){g===void 0&&(g={}),v&&(this.propertyKey=v),this.propertyValue=l(g,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(g){var v;switch(this.method){case 1:case 3:case 8:v=g;break;case 2:this.propertyValue.indexOf(g)>=0&&(v=g);break;case 4:var y=(this.end-this.start)/this.steps;v=f(g,y),this.counter=v;break;case 5:case 6:case 7:v=p(g,this.start,this.end);break;case 9:v=this.start[0];break}return this.current=v,this},getMethod:function(){var g=this.propertyValue;if(g===null)return 0;var v=typeof g;if(v==="number")return 1;if(Array.isArray(g))return 2;if(v==="function")return 3;if(v==="object"){if(this.hasBoth(g,"start","end"))return this.has(g,"steps")?4:5;if(this.hasBoth(g,"min","max"))return 6;if(this.has(g,"random"))return 7;if(this.hasEither(g,"onEmit","onUpdate"))return 8;if(this.hasEither(g,"values","interpolation"))return 9}return 0},setMethods:function(){var g=this.propertyValue,v=g,y=this.defaultEmit,C=this.defaultUpdate;switch(this.method){case 1:y=this.staticValueEmit;break;case 2:y=this.randomStaticValueEmit,v=g[0];break;case 3:this._onEmit=g,y=this.proxyEmit,v=this.defaultValue;break;case 4:this.start=g.start,this.end=g.end,this.steps=g.steps,this.counter=this.start,this.yoyo=this.has(g,"yoyo")?g.yoyo:!1,this.direction=0,y=this.steppedEmit,v=this.start;break;case 5:this.start=g.start,this.end=g.end;var b=this.has(g,"ease")?g.ease:"Linear";this.ease=u(b,g.easeParams),y=this.has(g,"random")&&g.random?this.randomRangedValueEmit:this.easedValueEmit,C=this.easeValueUpdate,v=this.start;break;case 6:this.start=g.min,this.end=g.max,y=this.has(g,"int")&&g.int?this.randomRangedIntEmit:this.randomRangedValueEmit,v=this.start;break;case 7:var T=g.random;Array.isArray(T)&&(this.start=T[0],this.end=T[1]),y=this.randomRangedIntEmit,v=this.start;break;case 8:this._onEmit=this.has(g,"onEmit")?g.onEmit:this.defaultEmit,this._onUpdate=this.has(g,"onUpdate")?g.onUpdate:this.defaultUpdate,y=this.proxyEmit,C=this.proxyUpdate,v=this.defaultValue;break;case 9:this.start=g.values;var S=this.has(g,"ease")?g.ease:"Linear";this.ease=u(S,g.easeParams),this.interpolation=d(g.interpolation),y=this.easedValueEmit,C=this.easeValueUpdate,v=this.start[0];break}return this.onEmit=y,this.onUpdate=C,this.current=v,this},has:function(g,v){return g.hasOwnProperty(v)},hasBoth:function(g,v,y){return g.hasOwnProperty(v)&&g.hasOwnProperty(y)},hasEither:function(g,v,y){return g.hasOwnProperty(v)||g.hasOwnProperty(y)},defaultEmit:function(){return this.defaultValue},defaultUpdate:function(g,v,y,C){return C},proxyEmit:function(g,v,y){var C=this._onEmit(g,v,y);return this.current=C,C},proxyUpdate:function(g,v,y,C){var b=this._onUpdate(g,v,y,C);return this.current=b,b},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var g=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[g],this.current},randomRangedValueEmit:function(g,v){var y=o(this.start,this.end);return g&&g.data[v]&&(g.data[v].min=y,g.data[v].max=this.end),this.current=y,y},randomRangedIntEmit:function(g,v){var y=a(this.start,this.end);return g&&g.data[v]&&(g.data[v].min=y,g.data[v].max=this.end),this.current=y,y},steppedEmit:function(){var g=this.counter,v=g,y=(this.end-this.start)/this.steps;if(this.yoyo){var C;this.direction===0?(v+=y,v>=this.end&&(C=v-this.end,v=this.end-C,this.direction=1)):(v-=y,v<=this.start&&(C=this.start-v,v=this.start+C,this.direction=0)),this.counter=v}else this.counter=h(v+y,this.start,this.end);return this.current=g,g},easedValueEmit:function(g,v){if(g&&g.data[v]){var y=g.data[v];y.min=this.start,y.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(g,v,y){var C=g.data[v],b,T=this.ease(y);return this.interpolation?b=this.interpolation(this.start,T):b=(C.max-C.min)*T+C.min,this.current=b,b},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});r.exports=A},24502:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(95540),c=i(20286),o=new a({Extends:c,initialize:function(l,d,f,h,A){if(typeof l=="object"){var g=l;l=p(g,"x",0),d=p(g,"y",0),f=p(g,"power",0),h=p(g,"epsilon",100),A=p(g,"gravity",50)}else l===void 0&&(l=0),d===void 0&&(d=0),f===void 0&&(f=0),h===void 0&&(h=100),A===void 0&&(A=50);c.call(this,l,d,!0),this._gravity=A,this._power=f*A,this._epsilon=h*h},update:function(u,l){var d=this.x-u.x,f=this.y-u.y,h=d*d+f*f;if(h!==0){var A=Math.sqrt(h);h<this._epsilon&&(h=this._epsilon);var g=this._power*l/(h*A)*100;u.velocityX+=d*g,u.velocityY+=f*g}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(u){this._epsilon=u*u}},power:{get:function(){return this._power/this._gravity},set:function(u){this._power=u*this._gravity}},gravity:{get:function(){return this._gravity},set:function(u){var l=this.power;this._gravity=u,this.power=l}}});r.exports=o},56480:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(9674),p=i(45319),c=i(83419),o=i(39506),u=i(87841),l=i(11520),d=i(26099),f=new c({initialize:function(A){this.emitter=A,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new d,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=A.scene,this.anims=null,this.emitter.anims.length>0&&(this.anims=new a(this)),this.bounds=new u},emit:function(h,A,g,v,y,C){return this.emitter.emit(h,A,g,v,y,C)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(h,A){h===void 0&&(h=0),A===void 0&&(A=0),this.x=h,this.y=A},fire:function(h,A){var g=this.emitter,v=g.ops,y=g.getAnim();if(y?this.anims.play(y):(this.frame=g.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(g.getEmitZone(this),h===void 0?this.x+=v.x.onEmit(this,"x"):v.x.steps>0?this.x+=h+v.x.onEmit(this,"x"):this.x+=h,A===void 0?this.y+=v.y.onEmit(this,"y"):v.y.steps>0?this.y+=A+v.y.onEmit(this,"y"):this.y+=A,this.life=v.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=v.delay.onEmit(this,"delay"),this.holdCurrent=v.hold.onEmit(this,"hold"),this.scaleX=v.scaleX.onEmit(this,"scaleX"),this.scaleY=v.scaleY.active?v.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=v.rotate.onEmit(this,"rotate"),this.rotation=o(this.angle),g.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),this.delayCurrent===0&&g.getDeathZone(this))return this.lifeCurrent=0,!1;var C=v.speedX.onEmit(this,"speedX"),b=v.speedY.active?v.speedY.onEmit(this,"speedY"):C;if(g.radial){var T=o(v.angle.onEmit(this,"angle"));this.velocityX=Math.cos(T)*Math.abs(C),this.velocityY=Math.sin(T)*Math.abs(b)}else if(g.moveTo){var S=v.moveToX.onEmit(this,"moveToX"),F=v.moveToY.onEmit(this,"moveToY"),B=this.life/1e3;this.velocityX=(S-this.x)/B,this.velocityY=(F-this.y)/B}else this.velocityX=C,this.velocityY=b;return g.acceleration&&(this.accelerationX=v.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=v.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=v.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=v.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=v.bounce.onEmit(this,"bounce"),this.alpha=v.alpha.onEmit(this,"alpha"),v.color.active?this.tint=v.color.onEmit(this,"tint"):this.tint=v.tint.onEmit(this,"tint"),!0},update:function(h,A,g){if(this.lifeCurrent<=0)return this.holdCurrent>0?(this.holdCurrent-=h,this.holdCurrent<=0):!0;if(this.delayCurrent>0)return this.delayCurrent-=h,!1;this.anims&&this.anims.update(0,h);var v=this.emitter,y=v.ops,C=1-this.lifeCurrent/this.life;if(this.lifeT=C,this.x=y.x.onUpdate(this,"x",C,this.x),this.y=y.y.onUpdate(this,"y",C,this.y),v.moveTo){var b=y.moveToX.onUpdate(this,"moveToX",C,v.moveToX),T=y.moveToY.onUpdate(this,"moveToY",C,v.moveToY),S=this.lifeCurrent/1e3;this.velocityX=(b-this.x)/S,this.velocityY=(T-this.y)/S}return this.computeVelocity(v,h,A,g,C),this.scaleX=y.scaleX.onUpdate(this,"scaleX",C,this.scaleX),y.scaleY.active?this.scaleY=y.scaleY.onUpdate(this,"scaleY",C,this.scaleY):this.scaleY=this.scaleX,this.angle=y.rotate.onUpdate(this,"rotate",C,this.angle),this.rotation=o(this.angle),v.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=p(y.alpha.onUpdate(this,"alpha",C,this.alpha),0,1),y.color.active?this.tint=y.color.onUpdate(this,"color",C,this.tint):this.tint=y.tint.onUpdate(this,"tint",C,this.tint),this.lifeCurrent-=h,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(h,A,g,v,y){var C=h.ops,b=this.velocityX,T=this.velocityY,S=C.accelerationX.onUpdate(this,"accelerationX",y,this.accelerationX),F=C.accelerationY.onUpdate(this,"accelerationY",y,this.accelerationY),B=C.maxVelocityX.onUpdate(this,"maxVelocityX",y,this.maxVelocityX),N=C.maxVelocityY.onUpdate(this,"maxVelocityY",y,this.maxVelocityY);this.bounce=C.bounce.onUpdate(this,"bounce",y,this.bounce),b+=h.gravityX*g+S*g,T+=h.gravityY*g+F*g,b=p(b,-B,B),T=p(T,-N,N),this.velocityX=b,this.velocityY=T,this.x+=b*g,this.y+=T*g,h.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var L=0;L<v.length;L++){var R=v[L];R.active&&R.update(this,A,g,y)}},setSizeToFrame:function(){},getBounds:function(h){h===void 0&&(h=this.emitter.getWorldTransformMatrix());var A=Math.abs(h.scaleX)*this.scaleX,g=Math.abs(h.scaleY)*this.scaleY,v=this.x,y=this.y,C=this.rotation,b=this.frame.width*A/2,T=this.frame.height*g/2,S=this.bounds,F=new d(v-b,y-T),B=new d(v+b,y-T),N=new d(v-b,y+T),L=new d(v+b,y+T);return C!==0&&(l(F,v,y,C),l(B,v,y,C),l(N,v,y,C),l(L,v,y,C)),h.transformPoint(F.x,F.y,F),h.transformPoint(B.x,B.y,B),h.transformPoint(N.x,N.y,N),h.transformPoint(L.x,L.y,L),S.x=Math.min(F.x,B.x,N.x,L.x),S.y=Math.min(F.y,B.y,N.y,L.y),S.width=Math.max(F.x,B.x,N.x,L.x)-S.x,S.height=Math.max(F.y,B.y,N.y,L.y)-S.y,S},destroy:function(){this.anims&&this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});r.exports=f},69601:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(20286),c=i(87841),o=new a({Extends:p,initialize:function(l,d,f,h,A,g,v,y){A===void 0&&(A=!0),g===void 0&&(g=!0),v===void 0&&(v=!0),y===void 0&&(y=!0),p.call(this,l,d,!0),this.bounds=new c(l,d,f,h),this.collideLeft=A,this.collideRight=g,this.collideTop=v,this.collideBottom=y},update:function(u){var l=this.bounds,d=-u.bounce,f=u.worldPosition;f.x<l.x&&this.collideLeft?(u.x+=l.x-f.x,u.velocityX*=d):f.x>l.right&&this.collideRight&&(u.x-=f.x-l.right,u.velocityX*=d),f.y<l.y&&this.collideTop?(u.y+=l.y-f.y,u.velocityY*=d):f.y>l.bottom&&this.collideBottom&&(u.y-=f.y-l.bottom,u.velocityY*=d)}});r.exports=o},31600:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(31401),c=i(53774),o=i(43459),u=i(26388),l=i(19909),d=i(76472),f=i(44777),h=i(20696),A=i(95643),g=i(95540),v=i(26546),y=i(24502),C=i(69036),b=i(1985),T=i(97022),S=i(86091),F=i(73162),B=i(20074),N=i(269),L=i(56480),R=i(69601),I=i(68875),M=i(87841),P=i(59996),U=i(72905),z=i(90668),W=i(19186),Z=i(61340),j=i(26099),H=i(15994),V=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],k=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],X=new a({Extends:A,Mixins:[p.AlphaSingle,p.BlendMode,p.Depth,p.Mask,p.Pipeline,p.PostPipeline,p.ScrollFactor,p.Texture,p.Transform,p.Visible,z],initialize:function(J,$,_,te,se){A.call(this,J,"ParticleEmitter"),this.particleClass=L,this.config=null,this.ops={accelerationX:new f("accelerationX",0),accelerationY:new f("accelerationY",0),alpha:new f("alpha",1),angle:new f("angle",{min:0,max:360},!0),bounce:new f("bounce",0),color:new d("color"),delay:new f("delay",0,!0),hold:new f("hold",0,!0),lifespan:new f("lifespan",1e3,!0),maxVelocityX:new f("maxVelocityX",1e4),maxVelocityY:new f("maxVelocityY",1e4),moveToX:new f("moveToX",0),moveToY:new f("moveToY",0),quantity:new f("quantity",1,!0),rotate:new f("rotate",0),scaleX:new f("scaleX",1),scaleY:new f("scaleY",1),speedX:new f("speedX",0,!0),speedY:new f("speedY",0,!0),tint:new f("tint",16777215),x:new f("x",0),y:new f("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new j,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new Z,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new F(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition($,_),this.setTexture(te),se&&this.setConfig(se)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(Q){if(!Q)return this;this.config=Q;var J=0,$="",_=this.ops;for(J=0;J<k.length;J++)$=k[J],_[$].loadConfig(Q);for(J=0;J<V.length;J++)$=V[J],T(Q,$)&&(this[$]=g(Q,$));if(this.acceleration=this.accelerationX!==0||this.accelerationY!==0,this.moveTo=C(Q,["moveToX","moveToY"]),T(Q,"speed")&&(_.speedX.loadConfig(Q,"speed"),_.speedY.active=!1),(b(Q,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),T(Q,"scale")&&(_.scaleX.loadConfig(Q,"scale"),_.scaleY.active=!1),T(Q,"callbackScope")){var te=g(Q,"callbackScope",null);this.emitCallbackScope=te,this.deathCallbackScope=te}if(T(Q,"emitZone")&&this.addEmitZone(Q.emitZone),T(Q,"deathZone")&&this.addDeathZone(Q.deathZone),T(Q,"bounds")){var se=this.addParticleBounds(Q.bounds);se.collideLeft=g(Q,"collideLeft",!0),se.collideRight=g(Q,"collideRight",!0),se.collideTop=g(Q,"collideTop",!0),se.collideBottom=g(Q,"collideBottom",!0)}return T(Q,"followOffset")&&this.followOffset.setFromObject(g(Q,"followOffset",0)),T(Q,"texture")&&this.setTexture(Q.texture),T(Q,"frame")?this.setEmitterFrame(Q.frame):T(Q,"anim")&&this.setAnim(Q.anim),T(Q,"reserve")&&this.reserve(Q.reserve),T(Q,"advance")&&this.fastForward(Q.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(h.START,this),this},updateConfig:function(Q){return Q&&(this.config?this.setConfig(N(this.config,Q)):this.setConfig(Q)),this},toJSON:function(){var Q=c(this),J=0,$="";for(J=0;J<V.length;J++)$=V[J],Q[$]=this[$];var _=this.ops;for(J=0;J<k.length;J++)$=k[J],_[$]&&(Q[$]=_[$].toJSON());return _.speedY.active||(delete Q.speedX,Q.speed=_.speedX.toJSON()),this.scaleX===this.scaleY&&(delete Q.scaleX,delete Q.scaleY,Q.scale=_.scaleX.toJSON()),Q},resetCounters:function(Q,J){var $=this.counters;$.fill(0),$[0]=Q,J&&($[5]=1)},startFollow:function(Q,J,$,_){return J===void 0&&(J=0),$===void 0&&($=0),_===void 0&&(_=!1),this.follow=Q,this.followOffset.set(J,$),this.trackVisible=_,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var Q=this.frames,J=Q.length,$;return J===1?$=Q[0]:this.randomFrame?$=v(Q):($=Q[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===J&&(this.currentFrame=0))),this.texture.get($)},setEmitterFrame:function(Q,J,$){J===void 0&&(J=!0),$===void 0&&($=1),this.randomFrame=J,this.frameQuantity=$,this.currentFrame=0;var _=typeof Q;if(this.frames.length=0,Array.isArray(Q))this.frames=this.frames.concat(Q);else if(_==="string"||_==="number")this.frames.push(Q);else if(_==="object"){var te=Q;Q=g(te,"frames",null),Q&&(this.frames=this.frames.concat(Q));var se=g(te,"cycle",!1);this.randomFrame=!se,this.frameQuantity=g(te,"quantity",$)}return this.frames.length===1&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var Q=this.anims,J=Q.length;if(J===0)return null;if(J===1)return Q[0];if(this.randomAnim)return v(Q);var $=Q[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=H(this.currentAnim+1,0,J)),$},setAnim:function(Q,J,$){J===void 0&&(J=!0),$===void 0&&($=1),this.randomAnim=J,this.animQuantity=$,this.currentAnim=0;var _=typeof Q;if(this.anims.length=0,Array.isArray(Q))this.anims=this.anims.concat(Q);else if(_==="string")this.anims.push(Q);else if(_==="object"){var te=Q;Q=g(te,"anims",null),Q&&(this.anims=this.anims.concat(Q));var se=g(te,"cycle",!1);this.randomAnim=!se,this.animQuantity=g(te,"quantity",$)}return this.anims.length===1&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(Q){return Q===void 0&&(Q=!0),this.radial=Q,this},addParticleBounds:function(Q,J,$,_,te,se,ce,ge){if(typeof Q=="object"){var ue=Q;Q=ue.x,J=ue.y,$=T(ue,"w")?ue.w:ue.width,_=T(ue,"h")?ue.h:ue.height}return this.addParticleProcessor(new R(Q,J,$,_,te,se,ce,ge))},setParticleSpeed:function(Q,J){return J===void 0&&(J=Q),this.ops.speedX.onChange(Q),Q===J?this.ops.speedY.active=!1:this.ops.speedY.onChange(J),this.radial=!0,this},setParticleScale:function(Q,J){return Q===void 0&&(Q=1),J===void 0&&(J=Q),this.ops.scaleX.onChange(Q),this.ops.scaleY.onChange(J),this},setParticleGravity:function(Q,J){return this.gravityX=Q,this.gravityY=J,this},setParticleAlpha:function(Q){return this.ops.alpha.onChange(Q),this},setParticleTint:function(Q){return this.ops.tint.onChange(Q),this},setEmitterAngle:function(Q){return this.ops.angle.onChange(Q),this},setParticleLifespan:function(Q){return this.ops.lifespan.onChange(Q),this},setQuantity:function(Q){return this.quantity=Q,this},setFrequency:function(Q,J){return this.frequency=Q,this.flowCounter=Q>0?Q:0,J&&(this.quantity=J),this},addDeathZone:function(Q){Array.isArray(Q)||(Q=[Q]);for(var J,$=[],_=0;_<Q.length;_++)if(J=Q[_],J instanceof u)$.push(J);else if(typeof J.contains=="function")J=new u(J,!0),$.push(J);else{var te=g(J,"type","onEnter"),se=g(J,"source",null);if(se&&typeof se.contains=="function"){var ce=te==="onEnter";J=new u(se,ce),$.push(J)}}return this.deathZones=this.deathZones.concat($),$},removeDeathZone:function(Q){return U(this.deathZones,Q),this},clearDeathZones:function(){return this.deathZones.length=0,this},addEmitZone:function(Q){Array.isArray(Q)||(Q=[Q]);for(var J,$=[],_=0;_<Q.length;_++)if(J=Q[_],J instanceof I||J instanceof l)$.push(J);else{var te=g(J,"source",null);if(te){var se=g(J,"type","random");if(se==="random"&&typeof te.getRandomPoint=="function")J=new I(te),$.push(J);else if(se==="edge"&&typeof te.getPoints=="function"){var ce=g(J,"quantity",1),ge=g(J,"stepRate",0),ue=g(J,"yoyo",!1),re=g(J,"seamless",!0),Ce=g(J,"total",-1);J=new l(te,ce,ge,ue,re,Ce),$.push(J)}}}return this.emitZones=this.emitZones.concat($),$},removeEmitZone:function(Q){return U(this.emitZones,Q),this.zoneIndex=0,this},clearEmitZones:function(){return this.emitZones.length=0,this.zoneIndex=0,this},getEmitZone:function(Q){var J=this.emitZones,$=J.length;if($!==0){var _=J[this.zoneIndex];_.getPoint(Q),_.total>-1&&(this.zoneTotal++,this.zoneTotal===_.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===$&&(this.zoneIndex=0)))}},getDeathZone:function(Q){for(var J=this.deathZones,$=0;$<J.length;$++){var _=J[$];if(_.willKill(Q))return this.emit(h.DEATH_ZONE,this,Q,_),!0}return!1},setEmitZone:function(Q){var J;return isFinite(Q)?J=Q:J=this.emitZones.indexOf(Q),J>=0&&(this.zoneIndex=J),this},addParticleProcessor:function(Q){return this.processors.exists(Q)||(Q.emitter&&Q.emitter.removeParticleProcessor(Q),this.processors.add(Q),Q.emitter=this),Q},removeParticleProcessor:function(Q){return this.processors.exists(Q)&&(this.processors.remove(Q,!0),Q.emitter=null),Q},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(Q){return this.addParticleProcessor(new y(Q))},reserve:function(Q){var J=this.dead;if(this.maxParticles>0){var $=this.getParticleCount();$+Q>this.maxParticles&&(Q=this.maxParticles-($+Q))}for(var _=0;_<Q;_++)J.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles?!0:this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(Q,J){return Q===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof Q=="function"&&(this.emitCallback=Q,J&&(this.emitCallbackScope=J)),this},onParticleDeath:function(Q,J){return Q===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof Q=="function"&&(this.deathCallback=Q,J&&(this.deathCallbackScope=J)),this},killAll:function(){for(var Q=this.dead,J=this.alive;J.length>0;)Q.push(J.pop());return this},forEachAlive:function(Q,J){for(var $=this.alive,_=$.length,te=0;te<_;te++)Q.call(J,$[te],this);return this},forEachDead:function(Q,J){for(var $=this.dead,_=$.length,te=0;te<_;te++)Q.call(J,$[te],this);return this},start:function(Q,J){return Q===void 0&&(Q=0),this.emitting||(Q>0&&this.fastForward(Q),this.emitting=!0,this.resetCounters(this.frequency,!0),J!==void 0&&(this.duration=Math.abs(J)),this.emit(h.START,this)),this},stop:function(Q){return Q===void 0&&(Q=!1),this.emitting&&(this.emitting=!1,Q&&this.killAll(),this.emit(h.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(Q,J){return Q===void 0&&(Q=""),J===void 0&&(J=this.true),this.sortProperty=Q,this.sortOrderAsc=J,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(Q){return this.sortProperty!==""?Q=this.depthSortCallback:Q=null,this.sortCallback=Q,this},depthSort:function(){return W(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(Q,J){var $=this.sortProperty;return this.sortOrderAsc?Q[$]-J[$]:J[$]-Q[$]},flow:function(Q,J,$){return J===void 0&&(J=1),this.emitting=!1,this.frequency=Q,this.quantity=J,$!==void 0&&(this.stopAfter=$),this.start()},explode:function(Q,J,$){this.frequency=-1,this.resetCounters(-1,!0);var _=this.emitParticle(Q,J,$);return this.emit(h.EXPLODE,this,_),_},emitParticleAt:function(Q,J,$){return this.emitParticle($,Q,J)},emitParticle:function(Q,J,$){if(!this.atLimit()){Q===void 0&&(Q=this.ops.quantity.onEmit());for(var _=this.dead,te=this.stopAfter,se=this.follow?this.follow.x+this.followOffset.x:J,ce=this.follow?this.follow.y+this.followOffset.y:$,ge=0;ge<Q;ge++){var ue=_.pop();if(ue||(ue=new this.particleClass(this)),ue.fire(se,ce)?(this.particleBringToTop?this.alive.push(ue):this.alive.unshift(ue),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,ue,this)):this.dead.push(ue),te>0&&(this.stopCounter++,this.stopCounter>=te)||this.atLimit())break}return ue}},fastForward:function(Q,J){J===void 0&&(J=1e3/60);var $=0;for(this.skipping=!0;$<Math.abs(Q);)this.preUpdate(0,J),$+=J;return this.skipping=!1,this},preUpdate:function(Q,J){J*=this.timeScale;var $=J/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var _=this.getProcessors(),te=this.alive,se=this.dead,ce=0,ge=[],ue=te.length;for(ce=0;ce<ue;ce++){var re=te[ce];re.update(J,$,_)&&ge.push({index:ce,particle:re})}if(ue=ge.length,ue>0){var Ce=this.deathCallback,ye=this.deathCallbackScope;for(ce=ue-1;ce>=0;ce--){var Ee=ge[ce];te.splice(Ee.index,1),se.push(Ee.particle),Ce&&Ce.call(ye,Ee.particle),Ee.particle.setPosition()}}if(!this.emitting&&!this.skipping){this.completeFlag===1&&te.length===0&&(this.completeFlag=0,this.emit(h.COMPLETE,this));return}if(this.frequency===0)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=J;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=J,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())},overlap:function(Q){for(var J=this.getWorldTransformMatrix(),$=this.alive,_=$.length,te=[],se=0;se<_;se++){var ce=$[se];P(Q,ce.getBounds(J))&&te.push(ce)}return te},getBounds:function(Q,J,$,_){Q===void 0&&(Q=0),J===void 0&&(J=0),$===void 0&&($=1e3/60),_===void 0&&(_=new M);var te=this.getWorldTransformMatrix(),se,ce,ge=this.alive,ue=!1;if(_.setTo(0,0,0,0),J>0){var re=0;for(this.skipping=!0;re<Math.abs(J);){for(this.preUpdate(0,$),se=0;se<ge.length;se++)ce=ge[se].getBounds(te),ue?B(_,ce):(ue=!0,o(ce,_));re+=$}this.skipping=!1}else for(se=0;se<ge.length;se++)ce=ge[se].getBounds(te),ue?B(_,ce):(ue=!0,o(ce,_));return Q>0&&S(_,Q,Q),_},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(Q){this.ops.x.onChange(Q)}},particleY:{get:function(){return this.ops.y.current},set:function(Q){this.ops.y.onChange(Q)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(Q){this.ops.accelerationX.onChange(Q)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(Q){this.ops.accelerationY.onChange(Q)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(Q){this.ops.maxVelocityX.onChange(Q)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(Q){this.ops.maxVelocityY.onChange(Q)}},speed:{get:function(){return this.ops.speedX.current},set:function(Q){this.ops.speedX.onChange(Q),this.ops.speedY.onChange(Q)}},speedX:{get:function(){return this.ops.speedX.current},set:function(Q){this.ops.speedX.onChange(Q)}},speedY:{get:function(){return this.ops.speedY.current},set:function(Q){this.ops.speedY.onChange(Q)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(Q){this.ops.moveToX.onChange(Q)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(Q){this.ops.moveToY.onChange(Q)}},bounce:{get:function(){return this.ops.bounce.current},set:function(Q){this.ops.bounce.onChange(Q)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(Q){this.ops.scaleX.onChange(Q)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(Q){this.ops.scaleY.onChange(Q)}},particleColor:{get:function(){return this.ops.color.current},set:function(Q){this.ops.color.onChange(Q)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(Q){this.ops.color.setEase(Q)}},particleTint:{get:function(){return this.ops.tint.current},set:function(Q){this.ops.tint.onChange(Q)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(Q){this.ops.alpha.onChange(Q)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(Q){this.ops.lifespan.onChange(Q)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(Q){this.ops.angle.onChange(Q)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(Q){this.ops.rotate.onChange(Q)}},quantity:{get:function(){return this.ops.quantity.current},set:function(Q){this.ops.quantity.onChange(Q)}},delay:{get:function(){return this.ops.delay.current},set:function(Q){this.ops.delay.onChange(Q)}},hold:{get:function(){return this.ops.hold.current},set:function(Q){this.ops.hold.onChange(Q)}},flowCounter:{get:function(){return this.counters[0]},set:function(Q){this.counters[0]=Q}},frameCounter:{get:function(){return this.counters[1]},set:function(Q){this.counters[1]=Q}},animCounter:{get:function(){return this.counters[2]},set:function(Q){this.counters[2]=Q}},elapsed:{get:function(){return this.counters[3]},set:function(Q){this.counters[3]=Q}},stopCounter:{get:function(){return this.counters[4]},set:function(Q){this.counters[4]=Q}},completeFlag:{get:function(){return this.counters[5]},set:function(Q){this.counters[5]=Q}},zoneIndex:{get:function(){return this.counters[6]},set:function(Q){this.counters[6]=Q}},zoneTotal:{get:function(){return this.counters[7]},set:function(Q){this.counters[7]=Q}},currentFrame:{get:function(){return this.counters[8]},set:function(Q){this.counters[8]=Q}},currentAnim:{get:function(){return this.counters[9]},set:function(Q){this.counters[9]=Q}},preDestroy:function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var Q,J=this.ops;for(Q=0;Q<k.length;Q++){var $=k[Q];J[$].destroy()}for(Q=0;Q<this.alive.length;Q++)this.alive[Q].destroy();for(Q=0;Q<this.dead.length;Q++)this.dead[Q].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});r.exports=X},9871:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(59996),p=i(61340),c=new p,o=new p,u=new p,l=new p,d=function(f,h,A,g){var v=c,y=o,C=u,b=l;g?(b.loadIdentity(),b.multiply(g),b.translate(h.x,h.y),b.rotate(h.rotation),b.scale(h.scaleX,h.scaleY)):b.applyITRS(h.x,h.y,h.rotation,h.scaleX,h.scaleY);var T=f.currentContext,S=A.roundPixels,F=A.alpha,B=h.alpha,N=h.alive,L=N.length,R=h.viewBounds;if(!(!h.visible||L===0||R&&!a(R,A.worldView))){h.sortCallback&&h.depthSort(),A.addToRenderList(h);var I=h.scrollFactorX,M=h.scrollFactorY;T.save(),T.globalCompositeOperation=f.blendModes[h.blendMode];for(var P=0;P<L;P++){var U=N[P],z=U.alpha*B*F;if(!(z<=0||U.scaleX===0||U.scaleY===0)){C.applyITRS(U.x,U.y,U.rotation,U.scaleX,U.scaleY),v.copyFrom(A.matrix),v.multiplyWithOffset(b,-A.scrollX*I,-A.scrollY*M),C.e=U.x,C.f=U.y,v.multiply(C,y);var W=U.frame,Z=W.canvasData;if(Z.width>0&&Z.height>0){var j=-W.halfWidth,H=-W.halfHeight;T.globalAlpha=z,T.save(),y.setToContext(T),S&&(j=Math.round(j),H=Math.round(H)),T.imageSmoothingEnabled=!W.source.scaleMode,T.drawImage(W.source.image,Z.x,Z.y,Z.width,Z.height,j,H,Z.width,Z.height),T.restore()}}}T.restore()}};r.exports=d},92730:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(25305),p=i(44603),c=i(23568),o=i(95540),u=i(31600);p.register("particles",function(l,d){l===void 0&&(l={});var f=c(l,"key",null),h=o(l,"config",null),A=new u(this.scene,0,0,f);return d!==void 0&&(l.add=d),a(this.scene,A,l),h&&A.setConfig(h),A})},676:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(39429),p=i(31600);a.register("particles",function(c,o,u,l){return c!==void 0&&typeof c=="string"&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new p(this.scene,c,o,u,l))})},90668:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(29747),p=a,c=a;p=i(21188),c=i(9871),r.exports={renderWebGL:p,renderCanvas:c}},21188:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(59996),p=i(61340),c=i(70554),o=new p,u=new p,l=new p,d=new p,f=function(h,A,g,v){var y=h.pipelines.set(A.pipeline),C=o,b=u,T=l,S=d;v?(S.loadIdentity(),S.multiply(v),S.translate(A.x,A.y),S.rotate(A.rotation),S.scale(A.scaleX,A.scaleY)):S.applyITRS(A.x,A.y,A.rotation,A.scaleX,A.scaleY);var F=c.getTintAppendFloatAlpha,B=g.alpha,N=A.alpha;h.pipelines.preBatch(A);var L=A.alive,R=L.length,I=A.viewBounds;if(!(R===0||I&&!a(I,g.worldView))){A.sortCallback&&A.depthSort(),g.addToRenderList(A),C.copyFrom(g.matrix),C.multiplyWithOffset(S,-g.scrollX*A.scrollFactorX,-g.scrollY*A.scrollFactorY),h.setBlendMode(A.blendMode),A.mask&&(A.mask.preRenderWebGL(h,A,g),h.pipelines.set(A.pipeline));for(var M=A.tintFill,P,U,z=0;z<R;z++){var W=L[z],Z=W.alpha*N*B;if(!(Z<=0||W.scaleX===0||W.scaleY===0)){T.applyITRS(W.x,W.y,W.rotation,W.scaleX,W.scaleY),T.e=W.x,T.f=W.y,C.multiply(T,b);var j=W.frame;j.glTexture!==U&&(U=j.glTexture,P=y.setGameObject(A,j));var H=-j.halfWidth,V=-j.halfHeight,k=b.setQuad(H,V,H+j.width,V+j.height),X=F(W.tint,Z);y.shouldFlush(6)&&(y.flush(),P=y.setGameObject(A,j)),y.batchQuad(A,k[0],k[1],k[2],k[3],k[4],k[5],k[6],k[7],j.u0,j.v0,j.u1,j.v1,X,X,X,X,M,U,P)}}A.mask&&A.mask.postRenderWebGL(h,g),h.pipelines.postBatch(A)}};r.exports=f},20286:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=new a({initialize:function(o,u,l){o===void 0&&(o=0),u===void 0&&(u=0),l===void 0&&(l=!0),this.emitter,this.x=o,this.y=u,this.active=l},update:function(){},destroy:function(){this.emitter=null}});r.exports=p},9774:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="complete"},812:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="deathzone"},30522:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="explode"},96695:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="start"},18677:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="stop"},20696:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={COMPLETE:i(9774),DEATH_ZONE:i(812),EXPLODE:i(30522),START:i(96695),STOP:i(18677)}},18404:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={EmitterColorOp:i(76472),EmitterOp:i(44777),Events:i(20696),GravityWell:i(24502),Particle:i(56480),ParticleBounds:i(69601),ParticleEmitter:i(31600),ParticleProcessor:i(20286),Zones:i(21024)}},26388:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=new a({initialize:function(o,u){this.source=o,this.killOnEnter=u},willKill:function(c){var o=c.worldPosition,u=this.source.contains(o.x,o.y);return u&&this.killOnEnter||!u&&!this.killOnEnter}});r.exports=p},19909:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=new a({initialize:function(o,u,l,d,f,h){d===void 0&&(d=!1),f===void 0&&(f=!0),h===void 0&&(h=-1),this.source=o,this.points=[],this.quantity=u,this.stepRate=l,this.yoyo=d,this.counter=-1,this.seamless=f,this._length=0,this._direction=0,this.total=h,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var c=this.points[0],o=this.points[this.points.length-1];c.x===o.x&&c.y===o.y&&this.points.pop()}var u=this._length;return this._length=this.points.length,this._length<u&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(c){return this.source=c,this.updateSource()},getPoint:function(c){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var o=this.points[this.counter];o&&(c.x=o.x,c.y=o.y)}});r.exports=p},68875:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(26099),c=new a({initialize:function(u){this.source=u,this._tempVec=new p,this.total=-1},getPoint:function(o){var u=this._tempVec;this.source.getRandomPoint(u),o.x=u.x,o.y=u.y}});r.exports=c},21024:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={DeathZone:i(26388),EdgeZone:i(19909),RandomZone:i(68875)}},1159:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(31401),c=i(68287),o=new a({Extends:c,Mixins:[p.PathFollower],initialize:function(l,d,f,h,A,g){c.call(this,l,f,h,A,g),this.path=d},preUpdate:function(u,l){this.anims.update(u,l),this.pathUpdate(u)}});r.exports=o},90145:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(39429),p=i(1159);a.register("follower",function(c,o,u,l,d){var f=new p(this.scene,c,o,u,l,d);return this.displayList.add(f),this.updateList.add(f),f})},33663:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(9674),p=i(83419),c=i(48803),o=i(90664),u=i(4703),l=i(45650),d=new p({Extends:u,initialize:function(h,A,g,v,y,C,b,T){v||(v="__DEFAULT"),u.call(this,h,A,g,v,y),this.type="Plane",this.anims=new a(this),this.gridWidth,this.gridHeight,this.isTiled,this._checkerboard=null,this.hideCCW=!1,this.setGridSize(C,b,T),this.setSizeToFrame(!1),this.setViewHeight()},originX:{get:function(){return .5}},originY:{get:function(){return .5}},setGridSize:function(f,h,A){f===void 0&&(f=8),h===void 0&&(h=8),A===void 0&&(A=!1);var g=!1;return A&&(g=!0),this.gridWidth=f,this.gridHeight=h,this.isTiled=A,this.clear(),c({mesh:this,widthSegments:f,heightSegments:h,isOrtho:!1,tile:A,flipY:g}),this},setSizeToFrame:function(f){f===void 0&&(f=!0);var h=this.frame;if(this.setPerspective(this.width/h.width,this.height/h.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!f)return this;var A=this.gridWidth,g=this.gridHeight,v=this.vertices,y=h.u0,C=h.u1,b=h.v0,T=h.v1,S,F,B=0;if(this.isTiled)for(b=h.v1,T=h.v0,F=0;F<g;F++)for(S=0;S<A;S++)v[B++].setUVs(y,T),v[B++].setUVs(y,b),v[B++].setUVs(C,T),v[B++].setUVs(y,b),v[B++].setUVs(C,b),v[B++].setUVs(C,T);else{var N=A+1,L=g+1,R=C-y,I=T-b,M=[];for(F=0;F<L;F++)for(S=0;S<N;S++){var P=y+R*(S/A),U=b+I*(F/g);M.push(P,U)}for(F=0;F<g;F++)for(S=0;S<A;S++){var z=(S+N*F)*2,W=(S+N*(F+1))*2,Z=(S+1+N*(F+1))*2,j=(S+1+N*F)*2;v[B++].setUVs(M[z],M[z+1]),v[B++].setUVs(M[W],M[W+1]),v[B++].setUVs(M[j],M[j+1]),v[B++].setUVs(M[W],M[W+1]),v[B++].setUVs(M[Z],M[Z+1]),v[B++].setUVs(M[j],M[j+1])}}return this},setViewHeight:function(f){f===void 0&&(f=this.frame.height);var h=this.fov*(Math.PI/180);this.viewPosition.z=this.height/f/Math.tan(h/2),this.dirtyCache[10]=1},createCheckerboard:function(f,h,A,g,v){f===void 0&&(f=16777215),h===void 0&&(h=255),A===void 0&&(A=255),g===void 0&&(g=255),v===void 0&&(v=128);for(var y=o(f),C=o(h),b=[],T=0;T<16;T++)for(var S=0;S<16;S++)T<8&&S<8||T>7&&S>7?b.push(y.r,y.g,y.b,A):b.push(C.r,C.g,C.b,g);var F=this.scene.sys.textures.addUint8Array(l(),new Uint8Array(b),16,16);return this.removeCheckerboard(),this.setTexture(F),this.setSizeToFrame(),this.setViewHeight(v),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(f,h){return this.anims.play(f,h)},playReverse:function(f,h){return this.anims.playReverse(f,h)},playAfterDelay:function(f,h){return this.anims.playAfterDelay(f,h)},playAfterRepeat:function(f,h){return this.anims.playAfterRepeat(f,h)},stop:function(){return this.anims.stop()},stopAfterDelay:function(f){return this.anims.stopAfterDelay(f)},stopAfterRepeat:function(f){return this.anims.stopAfterRepeat(f)},stopOnFrame:function(f){return this.anims.stopOnFrame(f)},preUpdate:function(f,h){u.prototype.preUpdate.call(this,f,h),this.anims.update(f,h)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});r.exports=d},56015:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(25305),p=i(13059),c=i(44603),o=i(23568),u=i(35154),l=i(33663);c.register("plane",function(d,f){d===void 0&&(d={});var h=o(d,"key",null),A=o(d,"frame",null),g=u(d,"width",8),v=u(d,"height",8),y=u(d,"tile",!1),C=new l(this.scene,0,0,h,A,g,v,y);f!==void 0&&(d.add=f);var b=u(d,"checkerboard",null);if(b){var T=u(b,"color1",16777215),S=u(b,"color2",255),F=u(b,"alpha1",255),B=u(b,"alpha2",255),N=u(b,"height",128);C.createCheckerboard(T,S,F,B,N)}return a(this.scene,C,d),p(C,d),C})},30985:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(33663),p=i(39429);p.register("plane",function(c,o,u,l,d,f,h){return this.displayList.add(new a(this.scene,c,o,u,l,d,f,h))})},80321:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(31401),c=i(95643),o=i(30100),u=i(36060),l=i(67277),d=new a({Extends:c,Mixins:[p.AlphaSingle,p.BlendMode,p.Depth,p.Mask,p.Pipeline,p.PostPipeline,p.ScrollFactor,p.Transform,p.Visible,l],initialize:function(h,A,g,v,y,C,b){v===void 0&&(v=16777215),y===void 0&&(y=128),C===void 0&&(C=1),b===void 0&&(b=.1),c.call(this,h,"PointLight"),this.initPipeline(u.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(A,g),this.color=o(v),this.intensity=C,this.attenuation=b,this.width=y*2,this.height=y*2,this._radius=y},radius:{get:function(){return this._radius},set:function(f){this._radius=f,this.width=f*2,this.height=f*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});r.exports=d},39829:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(25305),p=i(44603),c=i(23568),o=i(80321);p.register("pointlight",function(u,l){u===void 0&&(u={});var d=c(u,"color",16777215),f=c(u,"radius",128),h=c(u,"intensity",1),A=c(u,"attenuation",.1),g=new o(this.scene,0,0,d,f,h,A);return l!==void 0&&(u.add=l),a(this.scene,g,u),g})},71255:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(39429),p=i(80321);a.register("pointlight",function(c,o,u,l,d,f){return this.displayList.add(new p(this.scene,c,o,u,l,d,f))})},67277:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(29747),p=a,c=a;p=i(57787),r.exports={renderWebGL:p,renderCanvas:c}},57787:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(91296),p=function(c,o,u,l){u.addToRenderList(o);var d=c.pipelines.set(o.pipeline),f=a(o,u,l).calc,h=o.width,A=o.height,g=-o._radius,v=-o._radius,y=g+h,C=v+A,b=f.getX(0,0),T=f.getY(0,0),S=f.getX(g,v),F=f.getY(g,v),B=f.getX(g,C),N=f.getY(g,C),L=f.getX(y,C),R=f.getY(y,C),I=f.getX(y,v),M=f.getY(y,v);c.pipelines.preBatch(o),d.batchPointLight(o,u,S,F,B,N,L,R,I,M,b,T),c.pipelines.postBatch(o)};r.exports=p},591:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(81320),c=i(88571),o=new a({Extends:c,initialize:function(l,d,f,h,A,g){d===void 0&&(d=0),f===void 0&&(f=0),h===void 0&&(h=32),A===void 0&&(A=32),g===void 0&&(g=!0);var v=new p(l.sys.textures,"",h,A,g);c.call(this,l,d,f,v),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(u,l){this.width=u,this.height=l,this.updateDisplayOrigin();var d=this.input;return d&&!d.customHitArea&&(d.hitArea.width=u,d.hitArea.height=l),this},resize:function(u,l,d){return this.texture.setSize(u,l,d),this.setSize(this.texture.width,this.texture.height),this},saveTexture:function(u){var l=this.texture;return l.key=u,l.manager.addDynamicTexture(l)&&(this._saved=!0),l},fill:function(u,l,d,f,h,A){return this.texture.fill(u,l,d,f,h,A),this},clear:function(){return this.texture.clear(),this},stamp:function(u,l,d,f,h){return this.texture.stamp(u,l,d,f,h),this},erase:function(u,l,d){return this.texture.erase(u,l,d),this},draw:function(u,l,d,f,h){return this.texture.draw(u,l,d,f,h),this},drawFrame:function(u,l,d,f,h,A){return this.texture.drawFrame(u,l,d,f,h,A),this},repeat:function(u,l,d,f,h,A,g,v,y){return this.texture.repeat(u,l,d,f,h,A,g,v,y),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(u,l,d,f,h){return this.texture.batchDraw(u,l,d,f,h),this},batchDrawFrame:function(u,l,d,f,h,A){return this.texture.batchDrawFrame(u,l,d,f,h,A),this},endDraw:function(u){return this.texture.endDraw(u),this},snapshotArea:function(u,l,d,f,h,A,g){return this.texture.snapshotArea(u,l,d,f,h,A,g),this},snapshot:function(u,l,d){return this.snapshotArea(0,0,this.width,this.height,u,l,d)},snapshotPixel:function(u,l,d){return this.snapshotArea(u,l,1,1,d,"pixel")},preDestroy:function(){this.camera=null,this._saved||this.texture.destroy()}});r.exports=o},34495:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(25305),p=i(44603),c=i(23568),o=i(591);p.register("renderTexture",function(u,l){u===void 0&&(u={});var d=c(u,"x",0),f=c(u,"y",0),h=c(u,"width",32),A=c(u,"height",32),g=new o(this.scene,d,f,h,A);return l!==void 0&&(u.add=l),a(this.scene,g,u),g})},60505:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(39429),p=i(591);a.register("renderTexture",function(c,o,u,l){return this.displayList.add(new p(this.scene,c,o,u,l))})},77757:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(9674),p=i(83419),c=i(31401),o=i(95643),u=i(36060),l=i(38745),d=i(26099),f=new p({Extends:o,Mixins:[c.AlphaSingle,c.BlendMode,c.Depth,c.Flip,c.Mask,c.Pipeline,c.PostPipeline,c.Size,c.Texture,c.Transform,c.Visible,c.ScrollFactor,l],initialize:function(A,g,v,y,C,b,T,S,F){y===void 0&&(y="__DEFAULT"),b===void 0&&(b=2),T===void 0&&(T=!0),o.call(this,A,"Rope"),this.anims=new a(this),this.points=b,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=y==="__DEFAULT",this.dirty=!1,this.horizontal=T,this._flipX=!1,this._flipY=!1,this._perp=new d,this.debugCallback=null,this.debugGraphic=null,this.setTexture(y,C),this.setPosition(g,v),this.setSizeToFrame(),this.initPipeline(u.ROPE_PIPELINE),this.initPostPipeline(),Array.isArray(b)&&this.resizeArrays(b.length),this.setPoints(b,S,F),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(h,A){var g=this.anims.currentFrame;this.anims.update(h,A),this.anims.currentFrame!==g&&(this.updateUVs(),this.updateVertices())},play:function(h,A,g){return this.anims.play(h,A,g),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(h,A,g){return h===void 0&&(h=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(h,A,g))},setVertical:function(h,A,g){return h===void 0&&(h=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(h,A,g)):this},setTintFill:function(h){return h===void 0&&(h=!1),this.tintFill=h,this},setAlphas:function(h,A){var g=this.points.length;if(g<1)return this;var v=this.alphas;h===void 0?h=[1]:!Array.isArray(h)&&A===void 0&&(h=[h]);var y,C=0;if(A!==void 0)for(y=0;y<g;y++)C=y*2,v[C]=h,v[C+1]=A;else if(h.length===g)for(y=0;y<g;y++)C=y*2,v[C]=h[y],v[C+1]=h[y];else{var b=h[0];for(y=0;y<g;y++)C=y*2,h.length>C&&(b=h[C]),v[C]=b,h.length>C+1&&(b=h[C+1]),v[C+1]=b}return this},setColors:function(h){var A=this.points.length;if(A<1)return this;var g=this.colors;h===void 0?h=[16777215]:Array.isArray(h)||(h=[h]);var v,y=0;if(h.length===A)for(v=0;v<A;v++)y=v*2,g[y]=h[v],g[y+1]=h[v];else{var C=h[0];for(v=0;v<A;v++)y=v*2,h.length>y&&(C=h[y]),g[y]=C,h.length>y+1&&(C=h[y+1]),g[y+1]=C}return this},setPoints:function(h,A,g){if(h===void 0&&(h=2),typeof h=="number"){var v=h;v<2&&(v=2),h=[];var y,C,b;if(this.horizontal)for(b=-this.frame.halfWidth,C=this.frame.width/(v-1),y=0;y<v;y++)h.push({x:b+y*C,y:0});else for(b=-this.frame.halfHeight,C=this.frame.height/(v-1),y=0;y<v;y++)h.push({x:0,y:b+y*C})}var T=h.length,S=this.points.length;return T<1?(console.warn("Rope: Not enough points given"),this):(T===1&&(h.unshift({x:0,y:0}),T++),S!==T&&this.resizeArrays(T),this.dirty=!0,this.points=h,this.updateUVs(),A!=null&&this.setColors(A),g!=null&&this.setAlphas(g),this)},updateUVs:function(){for(var h=this.uv,A=this.points.length,g=this.frame.u0,v=this.frame.v0,y=this.frame.u1,C=this.frame.v1,b=(y-g)/(A-1),T=(C-v)/(A-1),S=0;S<A;S++){var F=S*4,B,N,L,R;this.horizontal?(this._flipX?(B=y-S*b,L=y-S*b):(B=g+S*b,L=g+S*b),this._flipY?(N=C,R=v):(N=v,R=C)):(this._flipX?(B=g,L=y):(B=y,L=g),this._flipY?(N=C-S*T,R=C-S*T):(N=v+S*T,R=v+S*T)),h[F+0]=B,h[F+1]=N,h[F+2]=L,h[F+3]=R}return this},resizeArrays:function(h){var A=this.colors,g=this.alphas;this.vertices=new Float32Array(h*4),this.uv=new Float32Array(h*4),A=new Uint32Array(h*2),g=new Float32Array(h*2);for(var v=0;v<h*2;v++)A[v]=16777215,g[v]=1;return this.colors=A,this.alphas=g,this.dirty=!0,this},updateVertices:function(){var h=this._perp,A=this.points,g=this.vertices,v=A.length;if(this.dirty=!1,!(v<1)){for(var y,C=A[0],b=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,T=0;T<v;T++){var S=A[T],F=T*4;T<v-1?y=A[T+1]:y=S,h.x=y.y-C.y,h.y=-(y.x-C.x);var B=h.length();h.x/=B,h.y/=B,h.x*=b,h.y*=b,g[F]=S.x+h.x,g[F+1]=S.y+h.y,g[F+2]=S.x-h.x,g[F+3]=S.y-h.y,C=S}return this}},setDebug:function(h,A){return this.debugGraphic=h,!h&&!A?this.debugCallback=null:A?this.debugCallback=A:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(h,A,g){var v=h.debugGraphic,y=g[0],C=g[1],b=g[2],T=g[3];v.lineBetween(y,C,b,T);for(var S=4;S<A;S+=4){var F=g[S+0],B=g[S+1],N=g[S+2],L=g[S+3];v.lineBetween(y,C,F,B),v.lineBetween(b,T,N,L),v.lineBetween(b,T,F,B),v.lineBetween(F,B,N,L),y=F,C=B,b=N,T=L}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(h){return this._flipX=h,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(h){return this._flipY=h,this.updateUVs()}}});r.exports=f},95262:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(){};r.exports=x},26209:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(25305),p=i(44603),c=i(23568),o=i(35154),u=i(77757);p.register("rope",function(l,d){l===void 0&&(l={});var f=c(l,"key",null),h=c(l,"frame",null),A=c(l,"horizontal",!0),g=o(l,"points",void 0),v=o(l,"colors",void 0),y=o(l,"alphas",void 0),C=new u(this.scene,0,0,f,h,g,A,v,y);return d!==void 0&&(l.add=d),a(this.scene,C,l),C})},96819:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(77757),p=i(39429);p.register("rope",function(c,o,u,l,d,f,h,A){return this.displayList.add(new a(this.scene,c,o,u,l,d,f,h,A))})},38745:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(29747),p=a,c=a;p=i(20439),c=i(95262),r.exports={renderWebGL:p,renderCanvas:c}},20439:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(91296),p=i(70554),c=function(o,u,l,d){l.addToRenderList(u);var f=o.pipelines.set(u.pipeline,u),h=a(u,l,d).calc,A=u.vertices,g=u.uv,v=u.colors,y=u.alphas,C=u.alpha,b=p.getTintAppendFloatAlpha,T=l.roundPixels,S=A.length,F=Math.floor(S*.5);f.flush(),o.pipelines.preBatch(u);var B=f.setGameObject(u),N=f.vertexViewF32,L=f.vertexViewU32,R=f.vertexCount*f.currentShader.vertexComponentCount-1,I=0,M=u.tintFill;u.dirty&&u.updateVertices();for(var P=u.debugCallback,U=[],z=0;z<S;z+=2){var W=A[z+0],Z=A[z+1],j=W*h.a+Z*h.c+h.e,H=W*h.b+Z*h.d+h.f;T&&(j=Math.round(j),H=Math.round(H)),N[++R]=j,N[++R]=H,N[++R]=g[z+0],N[++R]=g[z+1],N[++R]=B,N[++R]=M,L[++R]=b(v[I],l.alpha*(y[I]*C)),I++,P&&(U[z+0]=j,U[z+1]=H)}P&&P.call(u,u,S,U),f.vertexCount+=F,f.currentBatch.count=f.vertexCount-f.currentBatch.start,o.pipelines.postBatch(u)};r.exports=c},20071:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(31401),c=i(95643),o=i(95540),u=i(79291),l=i(61622),d=i(25479),f=i(61340),h=i(95428),A=i(92503),g=new a({Extends:c,Mixins:[p.ComputedSize,p.Depth,p.GetBounds,p.Mask,p.Origin,p.ScrollFactor,p.Transform,p.Visible,d],initialize:function(y,C,b,T,S,F,B,N){b===void 0&&(b=0),T===void 0&&(T=0),S===void 0&&(S=128),F===void 0&&(F=128),c.call(this,y,"Shader"),this.blendMode=-1,this.shader;var L=y.sys.renderer;this.renderer=L,this.gl=L.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=L.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this._deferSetShader=null,this._deferProjOrtho=null,this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new f,this._tempMatrix2=new f,this._tempMatrix3=new f,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=L.width,this._rendererHeight=L.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(b,T),this.setSize(S,F),this.setOrigin(.5,.5),this.setShader(C,B,N),this.renderer.on(A.RESTORE_WEBGL,this.onContextRestored,this)},willRender:function(v){return this.renderToTexture?!0:!(c.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&v.id)},setRenderToTexture:function(v,y){if(!this.renderToTexture){var C=this.width,b=this.height,T=this.renderer;this.glTexture=T.createTextureFromSource(null,C,b,0),this.framebuffer=T.createFramebuffer(C,b,this.glTexture,!1),this._rendererWidth=C,this._rendererHeight=b,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),v&&(this.texture=this.scene.sys.textures.addGLTexture(v,this.glTexture))}return this.shader&&(T.pipelines.clear(),this.load(),this.flush(),T.pipelines.rebind()),this},setShader:function(v,y,C){if(this.renderer.contextLost)return this._deferSetShader={key:v,textures:y,textureData:C},this;if(y===void 0&&(y=[]),typeof v=="string"){var b=this.scene.sys.cache.shader;if(!b.has(v))return console.warn("Shader missing: "+v),this;this.shader=b.get(v)}else this.shader=v;var T=this.gl,S=this.renderer;this.program&&S.deleteProgram(this.program);var F=S.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);T.uniformMatrix4fv(T.getUniformLocation(F.webGLProgram,"uViewMatrix"),!1,this.viewMatrix),T.uniformMatrix4fv(T.getUniformLocation(F.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),T.uniform2f(T.getUniformLocation(F.webGLProgram,"uResolution"),this.width,this.height),this.program=F;var B=new Date,N={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[B.getFullYear(),B.getMonth(),B.getDate(),B.getHours()*60*60+B.getMinutes()*60+B.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=u(!0,{},this.shader.uniforms,N):this.uniforms=N;for(var L=0;L<4;L++)y[L]&&this.setSampler2D("iChannel"+L,y[L],L,C);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(v){return this.pointer=v,this},projOrtho:function(v,y,C,b){if(this.renderer.contextLost){this._deferProjOrtho={left:v,right:y,bottom:C,top:b};return}var T=-1e3,S=1e3,F=1/(v-y),B=1/(C-b),N=1/(T-S),L=this.projectionMatrix;L[0]=-2*F,L[5]=-2*B,L[10]=2*N,L[12]=(v+y)*F,L[13]=(b+C)*B,L[14]=(S+T)*N;var R=this.program,I=this.gl,M=this.renderer;M.setProgram(R),I.uniformMatrix4fv(I.getUniformLocation(R.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=y,this._rendererHeight=C},initUniforms:function(){var v=this.renderer.glFuncMap,y=this.program;this._textureCount=0;for(var C in this.uniforms){var b=this.uniforms[C],T=b.type,S=v[T];b.uniformLocation=this.renderer.createUniformLocation(y,C),T!=="sampler2D"&&(b.glMatrix=S.matrix,b.glValueLength=S.length,b.glFunc=S.func)}},setSampler2DBuffer:function(v,y,C,b,T,S){T===void 0&&(T=0),S===void 0&&(S={});var F=this.uniforms[v];return F.value=y,S.width=C,S.height=b,F.textureData=S,this._textureCount=T,this.initSampler2D(F),this},setSampler2D:function(v,y,C,b){C===void 0&&(C=0);var T=this.scene.sys.textures;if(T.exists(y)){var S=T.getFrame(y);if(S.glTexture&&S.glTexture.isRenderTexture)return this.setSampler2DBuffer(v,S.glTexture,S.width,S.height,C,b);var F=this.uniforms[v],B=S.source;F.textureKey=y,F.source=B.image,F.value=S.glTexture,B.isGLTexture&&(b||(b={}),b.width=B.width,b.height=B.height),b&&(F.textureData=b),this._textureCount=C,this.initSampler2D(F)}return this},setUniform:function(v,y){return l(this.uniforms,v,y),this},getUniform:function(v){return o(this.uniforms,v,null)},setChannel0:function(v,y){return this.setSampler2D("iChannel0",v,0,y)},setChannel1:function(v,y){return this.setSampler2D("iChannel1",v,1,y)},setChannel2:function(v,y){return this.setSampler2D("iChannel2",v,2,y)},setChannel3:function(v,y){return this.setSampler2D("iChannel3",v,3,y)},initSampler2D:function(v){if(v.value){var y=v.textureData;if(y&&!v.value.isRenderTexture){var C=this.gl,b=v.value,T=C[o(y,"magFilter","linear").toUpperCase()],S=C[o(y,"minFilter","linear").toUpperCase()],F=C[o(y,"wrapS","repeat").toUpperCase()],B=C[o(y,"wrapT","repeat").toUpperCase()],N=C[o(y,"format","rgba").toUpperCase()],L=o(y,"flipY",!1),R=o(y,"width",b.width),I=o(y,"height",b.height),M=o(y,"source",b.pixels);y.repeat&&(F=C.REPEAT,B=C.REPEAT),y.width&&(M=null),b.update(M,R,I,L,F,B,S,T,N)}this.renderer.setProgram(this.program),this._textureCount++}},syncUniforms:function(){var v=this.gl,y=this.uniforms,C,b,T,S,F,B=0;for(var N in y)C=y[N],T=C.glFunc,b=C.glValueLength,S=C.uniformLocation,F=C.value,F!==null&&(b===1?C.glMatrix?T.call(v,S.webGLUniformLocation,C.transpose,F):T.call(v,S.webGLUniformLocation,F):b===2?T.call(v,S.webGLUniformLocation,F.x,F.y):b===3?T.call(v,S.webGLUniformLocation,F.x,F.y,F.z):b===4?T.call(v,S.webGLUniformLocation,F.x,F.y,F.z,F.w):C.type==="sampler2D"&&(v.activeTexture(v.TEXTURE0+B),v.bindTexture(v.TEXTURE_2D,F.webGLTexture),v.uniform1i(S.webGLUniformLocation,B),B++))},load:function(v){var y=this.gl,C=this.width,b=this.height,T=this.renderer,S=this.program,F=this.viewMatrix;if(!this.renderToTexture){var B=-this._displayOriginX,N=-this._displayOriginY;F[0]=v[0],F[1]=v[1],F[4]=v[2],F[5]=v[3],F[8]=v[4],F[9]=v[5],F[12]=F[0]*B+F[4]*N,F[13]=F[1]*B+F[5]*N}y.useProgram(S.webGLProgram),y.uniformMatrix4fv(y.getUniformLocation(S.webGLProgram,"uViewMatrix"),!1,F),y.uniformMatrix4fv(y.getUniformLocation(S.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),y.uniform2f(y.getUniformLocation(S.webGLProgram,"uResolution"),this.width,this.height);var L=this.uniforms,R=L.resolution;R.value.x=C,R.value.y=b,L.time.value=T.game.loop.getDuration();var I=this.pointer;if(I){var M=L.mouse,P=I.x/C,U=1-I.y/b;M.value.x=P.toFixed(2),M.value.y=U.toFixed(2)}this.syncUniforms()},flush:function(){var v=this.width,y=this.height,C=this.program,b=this.gl,T=this.vertexBuffer,S=this.renderer,F=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(S.setFramebuffer(this.framebuffer),b.clearColor(0,0,0,0),b.clear(b.COLOR_BUFFER_BIT)),b.bindBuffer(b.ARRAY_BUFFER,T.webGLBuffer);var B=b.getAttribLocation(C.webGLProgram,"inPosition");B!==-1&&(b.enableVertexAttribArray(B),b.vertexAttribPointer(B,2,b.FLOAT,!1,F,0));var N=this.vertexViewF32;N[3]=y,N[4]=v,N[5]=y,N[8]=v,N[9]=y,N[10]=v;var L=6;b.bufferSubData(b.ARRAY_BUFFER,0,this.bytes.subarray(0,L*F)),b.drawArrays(b.TRIANGLES,0,L),this.renderToTexture&&S.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},onContextRestored:function(){if(this._deferSetShader!==null){var v=this._deferSetShader.key,y=this._deferSetShader.textures,C=this._deferSetShader.textureData;this._deferSetShader=null,this.setShader(v,y,C)}if(this._deferProjOrtho!==null){var b=this._deferProjOrtho.left,T=this._deferProjOrtho.right,S=this._deferProjOrtho.bottom,F=this._deferProjOrtho.top;this._deferProjOrtho=null,this.projOrtho(b,T,S,F)}},preDestroy:function(){var v=this.renderer;v.off(A.RESTORE_WEBGL,this.onContextRestored,this),v.deleteProgram(this.program),v.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(v.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null),h(this.uniforms,function(y){v.deleteUniformLocation(y.uniformLocation),y.uniformLocation=null})}});r.exports=g},80464:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(){};r.exports=x},54935:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(25305),p=i(44603),c=i(23568),o=i(20071);p.register("shader",function(u,l){u===void 0&&(u={});var d=c(u,"key",null),f=c(u,"x",0),h=c(u,"y",0),A=c(u,"width",128),g=c(u,"height",128),v=new o(this.scene,d,f,h,A,g);return l!==void 0&&(u.add=l),a(this.scene,v,u),v})},74177:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(20071),p=i(39429);p.register("shader",function(c,o,u,l,d,f,h){return this.displayList.add(new a(this.scene,c,o,u,l,d,f,h))})},25479:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(29747),p=a,c=a;p=i(19257),c=i(80464),r.exports={renderWebGL:p,renderCanvas:c}},19257:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(91296),p=function(c,o,u,l){if(o.shader){if(u.addToRenderList(o),c.pipelines.clear(),o.renderToTexture)o.load(),o.flush();else{var d=a(o,u,l).calc;(c.width!==o._rendererWidth||c.height!==o._rendererHeight)&&o.projOrtho(0,c.width,c.height,0),o.load(d.matrix),o.flush()}c.pipelines.rebind()}};r.exports=p},10441:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(70554),p=function(c,o,u,l,d,f){for(var h=a.getTintAppendFloatAlpha(u.fillColor,u.fillAlpha*l),A=u.pathData,g=u.pathIndexes,v=0;v<g.length;v+=3){var y=g[v]*2,C=g[v+1]*2,b=g[v+2]*2,T=A[y+0]-d,S=A[y+1]-f,F=A[C+0]-d,B=A[C+1]-f,N=A[b+0]-d,L=A[b+1]-f,R=o.getX(T,S),I=o.getY(T,S),M=o.getX(F,B),P=o.getY(F,B),U=o.getX(N,L),z=o.getY(N,L);c.batchTri(u,R,I,M,P,U,z,0,0,1,1,h,h,h,2)}};r.exports=p},65960:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p,c){var o=p||a.fillColor,u=c||a.fillAlpha,l=(o&16711680)>>>16,d=(o&65280)>>>8,f=o&255;i.fillStyle="rgba("+l+","+d+","+f+","+u+")"};r.exports=x},75177:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p,c){var o=p||a.strokeColor,u=c||a.strokeAlpha,l=(o&16711680)>>>16,d=(o&65280)>>>8,f=o&255;i.strokeStyle="rgba("+l+","+d+","+f+","+u+")",i.lineWidth=a.lineWidth};r.exports=x},17803:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(31401),c=i(95643),o=i(23031),u=new a({Extends:c,Mixins:[p.AlphaSingle,p.BlendMode,p.Depth,p.GetBounds,p.Mask,p.Origin,p.Pipeline,p.PostPipeline,p.ScrollFactor,p.Transform,p.Visible],initialize:function(d,f,h){f===void 0&&(f="Shape"),c.call(this,d,f),this.geom=h,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new o,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(l,d){return d===void 0&&(d=1),l===void 0?this.isFilled=!1:(this.fillColor=l,this.fillAlpha=d,this.isFilled=!0),this},setStrokeStyle:function(l,d,f){return f===void 0&&(f=1),l===void 0?this.isStroked=!1:(this.lineWidth=l,this.strokeColor=d,this.strokeAlpha=f,this.isStroked=!0),this},setClosePath:function(l){return this.closePath=l,this},setSize:function(l,d){return this.width=l,this.height=d,this},setDisplaySize:function(l,d){return this.displayWidth=l,this.displayHeight=d,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(l){this.scaleX=l/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(l){this.scaleY=l/this.height}}});r.exports=u},34682:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(70554),p=function(c,o,u,l,d){var f=c.strokeTint,h=a.getTintAppendFloatAlpha(o.strokeColor,o.strokeAlpha*u);f.TL=h,f.TR=h,f.BL=h,f.BR=h;var A=o.pathData,g=A.length-1,v=o.lineWidth,y=v/2,C=A[0]-l,b=A[1]-d;o.closePath||(g-=2);for(var T=2;T<g;T+=2){var S=A[T]-l,F=A[T+1]-d;c.batchLine(C,b,S,F,y,y,v,T-2,o.closePath?T===g-1:!1),C=S,b=F}};r.exports=p},23629:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(13609),p=i(83419),c=i(39506),o=i(94811),u=i(96503),l=i(36383),d=i(17803),f=new p({Extends:d,Mixins:[a],initialize:function(A,g,v,y,C,b,T,S,F){g===void 0&&(g=0),v===void 0&&(v=0),y===void 0&&(y=128),C===void 0&&(C=0),b===void 0&&(b=360),T===void 0&&(T=!1),d.call(this,A,"Arc",new u(0,0,y)),this._startAngle=C,this._endAngle=b,this._anticlockwise=T,this._iterations=.01,this.setPosition(g,v);var B=this.geom.radius*2;this.setSize(B,B),S!==void 0&&this.setFillStyle(S,F),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(h){this._iterations=h,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(h){this.geom.radius=h;var A=h*2;this.setSize(A,A),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(h){this._startAngle=h,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(h){this._endAngle=h,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(h){this._anticlockwise=h,this.updateData()}},setRadius:function(h){return this.radius=h,this},setIterations:function(h){return h===void 0&&(h=.01),this.iterations=h,this},setStartAngle:function(h,A){return this._startAngle=h,A!==void 0&&(this._anticlockwise=A),this.updateData()},setEndAngle:function(h,A){return this._endAngle=h,A!==void 0&&(this._anticlockwise=A),this.updateData()},updateData:function(){var h=this._iterations,A=h,g=this.geom.radius,v=c(this._startAngle),y=c(this._endAngle),C=this._anticlockwise,b=g,T=g;y-=v,C?y<-l.PI2?y=-l.PI2:y>0&&(y=-l.PI2+y%l.PI2):y>l.PI2?y=l.PI2:y<0&&(y=l.PI2+y%l.PI2);for(var S=[b+Math.cos(v)*g,T+Math.sin(v)*g],F;A<1;)F=y*A+v,S.push(b+Math.cos(F)*g,T+Math.sin(F)*g),A+=h;return F=y+v,S.push(b+Math.cos(F)*g,T+Math.sin(F)*g),S.push(b+Math.cos(v)*g,T+Math.sin(v)*g),this.pathIndexes=o(S),this.pathData=S,this}});r.exports=f},42542:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(39506),p=i(65960),c=i(75177),o=i(20926),u=function(l,d,f,h){f.addToRenderList(d);var A=l.currentContext;if(o(l,A,d,f,h)){var g=d.radius;A.beginPath(),A.arc(g-d.originX*(g*2),g-d.originY*(g*2),g,a(d._startAngle),a(d._endAngle),d.anticlockwise),d.closePath&&A.closePath(),d.isFilled&&(p(A,d),A.fill()),d.isStroked&&(c(A,d),A.stroke()),A.restore()}};r.exports=u},42563:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(23629),p=i(39429);p.register("arc",function(c,o,u,l,d,f,h,A){return this.displayList.add(new a(this.scene,c,o,u,l,d,f,h,A))}),p.register("circle",function(c,o,u,l,d){return this.displayList.add(new a(this.scene,c,o,u,0,360,!1,l,d))})},13609:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(29747),p=a,c=a;p=i(41447),c=i(42542),r.exports={renderWebGL:p,renderCanvas:c}},41447:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(91296),p=i(10441),c=i(34682),o=function(u,l,d,f){d.addToRenderList(l);var h=u.pipelines.set(l.pipeline),A=a(l,d,f),g=h.calcMatrix.copyFrom(A.calc),v=l._displayOriginX,y=l._displayOriginY,C=d.alpha*l.alpha;u.pipelines.preBatch(l),l.isFilled&&p(h,g,l,C,v,y),l.isStroked&&c(h,l,C,v,y),u.pipelines.postBatch(l)};r.exports=o},89:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(33141),c=i(94811),o=i(87841),u=i(17803),l=new a({Extends:u,Mixins:[p],initialize:function(f,h,A,g,v,y){h===void 0&&(h=0),A===void 0&&(A=0),u.call(this,f,"Curve",g),this._smoothness=32,this._curveBounds=new o,this.closePath=!1,this.setPosition(h,A),v!==void 0&&this.setFillStyle(v,y),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(d){this._smoothness=d,this.updateData()}},setSmoothness:function(d){return this._smoothness=d,this.updateData()},updateData:function(){var d=this._curveBounds,f=this._smoothness;this.geom.getBounds(d,f),this.setSize(d.width,d.height),this.updateDisplayOrigin();for(var h=[],A=this.geom.getPoints(f),g=0;g<A.length;g++)h.push(A[g].x,A[g].y);return h.push(A[0].x,A[0].y),this.pathIndexes=c(h),this.pathData=h,this}});r.exports=l},3170:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(65960),p=i(75177),c=i(20926),o=function(u,l,d,f){d.addToRenderList(l);var h=u.currentContext;if(c(u,h,l,d,f)){var A=l._displayOriginX+l._curveBounds.x,g=l._displayOriginY+l._curveBounds.y,v=l.pathData,y=v.length-1,C=v[0]-A,b=v[1]-g;h.beginPath(),h.moveTo(C,b),l.closePath||(y-=2);for(var T=2;T<y;T+=2){var S=v[T]-A,F=v[T+1]-g;h.lineTo(S,F)}l.closePath&&h.closePath(),l.isFilled&&(a(h,l),h.fill()),l.isStroked&&(p(h,l),h.stroke()),h.restore()}};r.exports=o},40511:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(39429),p=i(89);a.register("curve",function(c,o,u,l,d){return this.displayList.add(new p(this.scene,c,o,u,l,d))})},33141:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(29747),p=a,c=a;p=i(53987),c=i(3170),r.exports={renderWebGL:p,renderCanvas:c}},53987:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(10441),p=i(91296),c=i(34682),o=function(u,l,d,f){d.addToRenderList(l);var h=u.pipelines.set(l.pipeline),A=p(l,d,f),g=h.calcMatrix.copyFrom(A.calc),v=l._displayOriginX+l._curveBounds.x,y=l._displayOriginY+l._curveBounds.y,C=d.alpha*l.alpha;u.pipelines.preBatch(l),l.isFilled&&a(h,g,l,C,v,y),l.isStroked&&c(h,l,C,v,y),u.pipelines.postBatch(l)};r.exports=o},19921:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(94811),c=i(54205),o=i(8497),u=i(17803),l=new a({Extends:u,Mixins:[c],initialize:function(f,h,A,g,v,y,C){h===void 0&&(h=0),A===void 0&&(A=0),g===void 0&&(g=128),v===void 0&&(v=128),u.call(this,f,"Ellipse",new o(g/2,v/2,g,v)),this._smoothness=64,this.setPosition(h,A),this.width=g,this.height=v,y!==void 0&&this.setFillStyle(y,C),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(d){this._smoothness=d,this.updateData()}},setSize:function(d,f){return this.width=d,this.height=f,this.geom.setPosition(d/2,f/2),this.geom.setSize(d,f),this.updateDisplayOrigin(),this.updateData()},setSmoothness:function(d){return this._smoothness=d,this.updateData()},updateData:function(){for(var d=[],f=this.geom.getPoints(this._smoothness),h=0;h<f.length;h++)d.push(f[h].x,f[h].y);return d.push(f[0].x,f[0].y),this.pathIndexes=p(d),this.pathData=d,this}});r.exports=l},7930:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(65960),p=i(75177),c=i(20926),o=function(u,l,d,f){d.addToRenderList(l);var h=u.currentContext;if(c(u,h,l,d,f)){var A=l._displayOriginX,g=l._displayOriginY,v=l.pathData,y=v.length-1,C=v[0]-A,b=v[1]-g;h.beginPath(),h.moveTo(C,b),l.closePath||(y-=2);for(var T=2;T<y;T+=2){var S=v[T]-A,F=v[T+1]-g;h.lineTo(S,F)}h.closePath(),l.isFilled&&(a(h,l),h.fill()),l.isStroked&&(p(h,l),h.stroke()),h.restore()}};r.exports=o},1543:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(19921),p=i(39429);p.register("ellipse",function(c,o,u,l,d,f){return this.displayList.add(new a(this.scene,c,o,u,l,d,f))})},54205:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(29747),p=a,c=a;p=i(19467),c=i(7930),r.exports={renderWebGL:p,renderCanvas:c}},19467:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(10441),p=i(91296),c=i(34682),o=function(u,l,d,f){d.addToRenderList(l);var h=u.pipelines.set(l.pipeline),A=p(l,d,f),g=h.calcMatrix.copyFrom(A.calc),v=l._displayOriginX,y=l._displayOriginY,C=d.alpha*l.alpha;u.pipelines.preBatch(l),l.isFilled&&a(h,g,l,C,v,y),l.isStroked&&c(h,l,C,v,y),u.pipelines.postBatch(l)};r.exports=o},30479:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(17803),c=i(26015),o=new a({Extends:p,Mixins:[c],initialize:function(l,d,f,h,A,g,v,y,C,b,T){d===void 0&&(d=0),f===void 0&&(f=0),h===void 0&&(h=128),A===void 0&&(A=128),g===void 0&&(g=32),v===void 0&&(v=32),p.call(this,l,"Grid",null),this.cellWidth=g,this.cellHeight=v,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(d,f),this.setSize(h,A),this.setFillStyle(y,C),b!==void 0&&this.setOutlineStyle(b,T),this.updateDisplayOrigin()},setFillStyle:function(u,l){return l===void 0&&(l=1),u===void 0?this.showCells=!1:(this.fillColor=u,this.fillAlpha=l,this.showCells=!0),this},setAltFillStyle:function(u,l){return l===void 0&&(l=1),u===void 0?this.showAltCells=!1:(this.altFillColor=u,this.altFillAlpha=l,this.showAltCells=!0),this},setOutlineStyle:function(u,l){return l===void 0&&(l=1),u===void 0?this.showOutline=!1:(this.outlineFillColor=u,this.outlineFillAlpha=l,this.showOutline=!0),this}});r.exports=o},49912:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(65960),p=i(75177),c=i(20926),o=function(u,l,d,f){d.addToRenderList(l);var h=u.currentContext;if(c(u,h,l,d,f)){var A=-l._displayOriginX,g=-l._displayOriginY,v=d.alpha*l.alpha,y=l.width,C=l.height,b=l.cellWidth,T=l.cellHeight,S=Math.ceil(y/b),F=Math.ceil(C/T),B=b,N=T,L=b-(S*b-y),R=T-(F*T-C),I=l.showCells,M=l.showAltCells,P=l.showOutline,U=0,z=0,W=0,Z=0,j=0;if(P&&(B--,N--,L===b&&L--,R===T&&R--),I&&l.fillAlpha>0)for(a(h,l),z=0;z<F;z++)for(M&&(W=z%2),U=0;U<S;U++){if(M&&W){W=0;continue}W++,Z=U<S-1?B:L,j=z<F-1?N:R,h.fillRect(A+U*b,g+z*T,Z,j)}if(M&&l.altFillAlpha>0)for(a(h,l,l.altFillColor,l.altFillAlpha*v),z=0;z<F;z++)for(M&&(W=z%2),U=0;U<S;U++){if(M&&!W){W=1;continue}W=0,Z=U<S-1?B:L,j=z<F-1?N:R,h.fillRect(A+U*b,g+z*T,Z,j)}if(P&&l.outlineFillAlpha>0){for(p(h,l,l.outlineFillColor,l.outlineFillAlpha*v),U=1;U<S;U++){var H=U*b;h.beginPath(),h.moveTo(H+A,g),h.lineTo(H+A,C+g),h.stroke()}for(z=1;z<F;z++){var V=z*T;h.beginPath(),h.moveTo(A,V+g),h.lineTo(A+y,V+g),h.stroke()}}h.restore()}};r.exports=o},34137:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(39429),p=i(30479);a.register("grid",function(c,o,u,l,d,f,h,A,g,v){return this.displayList.add(new p(this.scene,c,o,u,l,d,f,h,A,g,v))})},26015:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(29747),p=a,c=a;p=i(46161),c=i(49912),r.exports={renderWebGL:p,renderCanvas:c}},46161:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(91296),p=i(70554),c=function(o,u,l,d){l.addToRenderList(u);var f=o.pipelines.set(u.pipeline),h=a(u,l,d),A=f.calcMatrix.copyFrom(h.calc);A.translate(-u._displayOriginX,-u._displayOriginY);var g=l.alpha*u.alpha,v=u.width,y=u.height,C=u.cellWidth,b=u.cellHeight,T=Math.ceil(v/C),S=Math.ceil(y/b),F=C,B=b,N=C-(T*C-v),L=b-(S*b-y),R,I,M=u.showCells,P=u.showAltCells,U=u.showOutline,z=0,W=0,Z=0,j=0,H=0;if(U&&(F--,B--,N===C&&N--,L===b&&L--),o.pipelines.preBatch(u),M&&u.fillAlpha>0)for(R=f.fillTint,I=p.getTintAppendFloatAlpha(u.fillColor,u.fillAlpha*g),R.TL=I,R.TR=I,R.BL=I,R.BR=I,W=0;W<S;W++)for(P&&(Z=W%2),z=0;z<T;z++){if(P&&Z){Z=0;continue}Z++,j=z<T-1?F:N,H=W<S-1?B:L,f.batchFillRect(z*C,W*b,j,H)}if(P&&u.altFillAlpha>0)for(R=f.fillTint,I=p.getTintAppendFloatAlpha(u.altFillColor,u.altFillAlpha*g),R.TL=I,R.TR=I,R.BL=I,R.BR=I,W=0;W<S;W++)for(P&&(Z=W%2),z=0;z<T;z++){if(P&&!Z){Z=1;continue}Z=0,j=z<T-1?F:N,H=W<S-1?B:L,f.batchFillRect(z*C,W*b,j,H)}if(U&&u.outlineFillAlpha>0){var V=f.strokeTint,k=p.getTintAppendFloatAlpha(u.outlineFillColor,u.outlineFillAlpha*g);for(V.TL=k,V.TR=k,V.BL=k,V.BR=k,z=1;z<T;z++){var X=z*C;f.batchLine(X,0,X,y,u.lineWidth,u.lineWidth,1,0,!1)}for(W=1;W<S;W++){var Q=W*b;f.batchLine(0,Q,v,Q,u.lineWidth,u.lineWidth,1,0,!1)}}o.pipelines.postBatch(u)};r.exports=c},61475:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(99651),p=i(83419),c=i(17803),o=new p({Extends:c,Mixins:[a],initialize:function(l,d,f,h,A,g,v,y){d===void 0&&(d=0),f===void 0&&(f=0),h===void 0&&(h=48),A===void 0&&(A=32),g===void 0&&(g=15658734),v===void 0&&(v=10066329),y===void 0&&(y=13421772),c.call(this,l,"IsoBox",null),this.projection=4,this.fillTop=g,this.fillLeft=v,this.fillRight=y,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(d,f),this.setSize(h,A),this.updateDisplayOrigin()},setProjection:function(u){return this.projection=u,this},setFaces:function(u,l,d){return u===void 0&&(u=!0),l===void 0&&(l=!0),d===void 0&&(d=!0),this.showTop=u,this.showLeft=l,this.showRight=d,this},setFillStyle:function(u,l,d){return this.fillTop=u,this.fillLeft=l,this.fillRight=d,this.isFilled=!0,this}});r.exports=o},11508:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(65960),p=i(20926),c=function(o,u,l,d){l.addToRenderList(u);var f=o.currentContext;if(p(o,f,u,l,d)&&u.isFilled){var h=u.width,A=u.height,g=h/2,v=h/u.projection;u.showTop&&(a(f,u,u.fillTop),f.beginPath(),f.moveTo(-g,-A),f.lineTo(0,-v-A),f.lineTo(g,-A),f.lineTo(g,-1),f.lineTo(0,v-1),f.lineTo(-g,-1),f.lineTo(-g,-A),f.fill()),u.showLeft&&(a(f,u,u.fillLeft),f.beginPath(),f.moveTo(-g,0),f.lineTo(0,v),f.lineTo(0,v-A),f.lineTo(-g,-A),f.lineTo(-g,0),f.fill()),u.showRight&&(a(f,u,u.fillRight),f.beginPath(),f.moveTo(g,0),f.lineTo(0,v),f.lineTo(0,v-A),f.lineTo(g,-A),f.lineTo(g,0),f.fill()),f.restore()}};r.exports=c},3933:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(39429),p=i(61475);a.register("isobox",function(c,o,u,l,d,f,h){return this.displayList.add(new p(this.scene,c,o,u,l,d,f,h))})},99651:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(29747),p=a,c=a;p=i(68149),c=i(11508),r.exports={renderWebGL:p,renderCanvas:c}},68149:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(91296),p=i(70554),c=function(o,u,l,d){l.addToRenderList(u);var f=o.pipelines.set(u.pipeline),h=a(u,l,d),A=f.calcMatrix.copyFrom(h.calc),g=u.width,v=u.height,y=g/2,C=g/u.projection,b=l.alpha*u.alpha;if(u.isFilled){var T,S,F,B,N,L,R,I,M;o.pipelines.preBatch(u),u.showTop&&(T=p.getTintAppendFloatAlpha(u.fillTop,b),S=A.getX(-y,-v),F=A.getY(-y,-v),B=A.getX(0,-C-v),N=A.getY(0,-C-v),L=A.getX(y,-v),R=A.getY(y,-v),I=A.getX(0,C-v),M=A.getY(0,C-v),f.batchQuad(u,S,F,B,N,L,R,I,M,0,0,1,1,T,T,T,T,2)),u.showLeft&&(T=p.getTintAppendFloatAlpha(u.fillLeft,b),S=A.getX(-y,0),F=A.getY(-y,0),B=A.getX(0,C),N=A.getY(0,C),L=A.getX(0,C-v),R=A.getY(0,C-v),I=A.getX(-y,-v),M=A.getY(-y,-v),f.batchQuad(u,S,F,B,N,L,R,I,M,0,0,1,1,T,T,T,T,2)),u.showRight&&(T=p.getTintAppendFloatAlpha(u.fillRight,b),S=A.getX(y,0),F=A.getY(y,0),B=A.getX(0,C),N=A.getY(0,C),L=A.getX(0,C-v),R=A.getY(0,C-v),I=A.getX(y,-v),M=A.getY(y,-v),f.batchQuad(u,S,F,B,N,L,R,I,M,0,0,1,1,T,T,T,T,2)),o.pipelines.postBatch(u)}};r.exports=c},16933:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(60561),c=i(17803),o=new a({Extends:c,Mixins:[p],initialize:function(l,d,f,h,A,g,v,y,C){d===void 0&&(d=0),f===void 0&&(f=0),h===void 0&&(h=48),A===void 0&&(A=32),g===void 0&&(g=!1),v===void 0&&(v=15658734),y===void 0&&(y=10066329),C===void 0&&(C=13421772),c.call(this,l,"IsoTriangle",null),this.projection=4,this.fillTop=v,this.fillLeft=y,this.fillRight=C,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=g,this.isFilled=!0,this.setPosition(d,f),this.setSize(h,A),this.updateDisplayOrigin()},setProjection:function(u){return this.projection=u,this},setReversed:function(u){return this.isReversed=u,this},setFaces:function(u,l,d){return u===void 0&&(u=!0),l===void 0&&(l=!0),d===void 0&&(d=!0),this.showTop=u,this.showLeft=l,this.showRight=d,this},setFillStyle:function(u,l,d){return this.fillTop=u,this.fillLeft=l,this.fillRight=d,this.isFilled=!0,this}});r.exports=o},79590:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(65960),p=i(20926),c=function(o,u,l,d){l.addToRenderList(u);var f=o.currentContext;if(p(o,f,u,l,d)&&u.isFilled){var h=u.width,A=u.height,g=h/2,v=h/u.projection,y=u.isReversed;u.showTop&&y&&(a(f,u,u.fillTop),f.beginPath(),f.moveTo(-g,-A),f.lineTo(0,-v-A),f.lineTo(g,-A),f.lineTo(0,v-A),f.fill()),u.showLeft&&(a(f,u,u.fillLeft),f.beginPath(),y?(f.moveTo(-g,-A),f.lineTo(0,v),f.lineTo(0,v-A)):(f.moveTo(-g,0),f.lineTo(0,v),f.lineTo(0,v-A)),f.fill()),u.showRight&&(a(f,u,u.fillRight),f.beginPath(),y?(f.moveTo(g,-A),f.lineTo(0,v),f.lineTo(0,v-A)):(f.moveTo(g,0),f.lineTo(0,v),f.lineTo(0,v-A)),f.fill()),f.restore()}};r.exports=c},49803:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(39429),p=i(16933);a.register("isotriangle",function(c,o,u,l,d,f,h,A){return this.displayList.add(new p(this.scene,c,o,u,l,d,f,h,A))})},60561:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(29747),p=a,c=a;p=i(51503),c=i(79590),r.exports={renderWebGL:p,renderCanvas:c}},51503:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(91296),p=i(70554),c=function(o,u,l,d){l.addToRenderList(u);var f=o.pipelines.set(u.pipeline),h=a(u,l,d),A=f.calcMatrix.copyFrom(h.calc),g=u.width,v=u.height,y=g/2,C=g/u.projection,b=u.isReversed,T=l.alpha*u.alpha;if(u.isFilled){o.pipelines.preBatch(u);var S,F,B,N,L,R,I;if(u.showTop&&b){S=p.getTintAppendFloatAlpha(u.fillTop,T),F=A.getX(-y,-v),B=A.getY(-y,-v),N=A.getX(0,-C-v),L=A.getY(0,-C-v),R=A.getX(y,-v),I=A.getY(y,-v);var M=A.getX(0,C-v),P=A.getY(0,C-v);f.batchQuad(u,F,B,N,L,R,I,M,P,0,0,1,1,S,S,S,S,2)}u.showLeft&&(S=p.getTintAppendFloatAlpha(u.fillLeft,T),b?(F=A.getX(-y,-v),B=A.getY(-y,-v),N=A.getX(0,C),L=A.getY(0,C),R=A.getX(0,C-v),I=A.getY(0,C-v)):(F=A.getX(-y,0),B=A.getY(-y,0),N=A.getX(0,C),L=A.getY(0,C),R=A.getX(0,C-v),I=A.getY(0,C-v)),f.batchTri(u,F,B,N,L,R,I,0,0,1,1,S,S,S,2)),u.showRight&&(S=p.getTintAppendFloatAlpha(u.fillRight,T),b?(F=A.getX(y,-v),B=A.getY(y,-v),N=A.getX(0,C),L=A.getY(0,C),R=A.getX(0,C-v),I=A.getY(0,C-v)):(F=A.getX(y,0),B=A.getY(y,0),N=A.getX(0,C),L=A.getY(0,C),R=A.getX(0,C-v),I=A.getY(0,C-v)),f.batchTri(u,F,B,N,L,R,I,0,0,1,1,S,S,S,2)),o.pipelines.postBatch(u)}};r.exports=c},57847:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(17803),c=i(23031),o=i(36823),u=new a({Extends:p,Mixins:[o],initialize:function(d,f,h,A,g,v,y,C,b){f===void 0&&(f=0),h===void 0&&(h=0),A===void 0&&(A=0),g===void 0&&(g=0),v===void 0&&(v=128),y===void 0&&(y=0),p.call(this,d,"Line",new c(A,g,v,y));var T=Math.max(1,this.geom.right-this.geom.left),S=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(f,h),this.setSize(T,S),C!==void 0&&this.setStrokeStyle(1,C,b),this.updateDisplayOrigin()},setLineWidth:function(l,d){return d===void 0&&(d=l),this._startWidth=l,this._endWidth=d,this.lineWidth=l,this},setTo:function(l,d,f,h){return this.geom.setTo(l,d,f,h),this}});r.exports=u},17440:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(75177),p=i(20926),c=function(o,u,l,d){l.addToRenderList(u);var f=o.currentContext;if(p(o,f,u,l,d)){var h=u._displayOriginX,A=u._displayOriginY;u.isStroked&&(a(f,u),f.beginPath(),f.moveTo(u.geom.x1-h,u.geom.y1-A),f.lineTo(u.geom.x2-h,u.geom.y2-A),f.stroke()),f.restore()}};r.exports=c},2481:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(39429),p=i(57847);a.register("line",function(c,o,u,l,d,f,h,A){return this.displayList.add(new p(this.scene,c,o,u,l,d,f,h,A))})},36823:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(29747),p=a,c=a;p=i(77385),c=i(17440),r.exports={renderWebGL:p,renderCanvas:c}},77385:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(91296),p=i(70554),c=function(o,u,l,d){l.addToRenderList(u);var f=o.pipelines.set(u.pipeline),h=a(u,l,d);f.calcMatrix.copyFrom(h.calc);var A=u._displayOriginX,g=u._displayOriginY,v=l.alpha*u.alpha;if(o.pipelines.preBatch(u),u.isStroked){var y=f.strokeTint,C=p.getTintAppendFloatAlpha(u.strokeColor,u.strokeAlpha*v);y.TL=C,y.TR=C,y.BL=C,y.BR=C,f.batchLine(u.geom.x1-A,u.geom.y1-g,u.geom.x2-A,u.geom.y2-g,u._startWidth/2,u._endWidth/2,1,0,!1,h.sprite,h.camera)}o.pipelines.postBatch(u)};r.exports=c},24949:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(90273),p=i(83419),c=i(94811),o=i(13829),u=i(25717),l=i(17803),d=i(5469),f=new p({Extends:l,Mixins:[a],initialize:function(A,g,v,y,C,b){g===void 0&&(g=0),v===void 0&&(v=0),l.call(this,A,"Polygon",new u(y));var T=o(this.geom);this.setPosition(g,v),this.setSize(T.width,T.height),C!==void 0&&this.setFillStyle(C,b),this.updateDisplayOrigin(),this.updateData()},smooth:function(h){h===void 0&&(h=1);for(var A=0;A<h;A++)d(this.geom);return this.updateData()},setTo:function(h){this.geom.setTo(h);var A=o(this.geom);return this.setSize(A.width,A.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var h=[],A=this.geom.points,g=0;g<A.length;g++)h.push(A[g].x,A[g].y);return h.push(A[0].x,A[0].y),this.pathIndexes=c(h),this.pathData=h,this}});r.exports=f},38710:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(65960),p=i(75177),c=i(20926),o=function(u,l,d,f){d.addToRenderList(l);var h=u.currentContext;if(c(u,h,l,d,f)){var A=l._displayOriginX,g=l._displayOriginY,v=l.pathData,y=v.length-1,C=v[0]-A,b=v[1]-g;h.beginPath(),h.moveTo(C,b),l.closePath||(y-=2);for(var T=2;T<y;T+=2){var S=v[T]-A,F=v[T+1]-g;h.lineTo(S,F)}l.closePath&&h.closePath(),l.isFilled&&(a(h,l),h.fill()),l.isStroked&&(p(h,l),h.stroke()),h.restore()}};r.exports=o},64827:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(39429),p=i(24949);a.register("polygon",function(c,o,u,l,d){return this.displayList.add(new p(this.scene,c,o,u,l,d))})},90273:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(29747),p=a,c=a;p=i(73695),c=i(38710),r.exports={renderWebGL:p,renderCanvas:c}},73695:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(10441),p=i(91296),c=i(34682),o=function(u,l,d,f){d.addToRenderList(l);var h=u.pipelines.set(l.pipeline),A=p(l,d,f),g=h.calcMatrix.copyFrom(A.calc),v=l._displayOriginX,y=l._displayOriginY,C=d.alpha*l.alpha;u.pipelines.preBatch(l),l.isFilled&&a(h,g,l,C,v,y),l.isStroked&&c(h,l,C,v,y),u.pipelines.postBatch(l)};r.exports=o},74561:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(94811),c=i(87841),o=i(17803),u=i(95597),l=new a({Extends:o,Mixins:[u],initialize:function(f,h,A,g,v,y,C){h===void 0&&(h=0),A===void 0&&(A=0),g===void 0&&(g=128),v===void 0&&(v=128),o.call(this,f,"Rectangle",new c(0,0,g,v)),this.radius=20,this.isRounded=!1,this.setPosition(h,A),this.setSize(g,v),y!==void 0&&this.setFillStyle(y,C),this.updateDisplayOrigin(),this.updateData()},setRounded:function(d){return d===void 0&&(d=16),this.radius=d,this.isRounded=d>0,this.updateRoundedData()},setSize:function(d,f){this.width=d,this.height=f,this.geom.setSize(d,f),this.updateData(),this.updateDisplayOrigin();var h=this.input;return h&&!h.customHitArea&&(h.hitArea.width=d,h.hitArea.height=f),this},updateData:function(){if(this.isRounded)return this.updateRoundedData();var d=[],f=this.geom,h=this._tempLine;return f.getLineA(h),d.push(h.x1,h.y1,h.x2,h.y2),f.getLineB(h),d.push(h.x2,h.y2),f.getLineC(h),d.push(h.x2,h.y2),f.getLineD(h),d.push(h.x2,h.y2),this.pathData=d,this},updateRoundedData:function(){var d=[],f=this.width/2,h=this.height/2,A=Math.min(f,h),g=Math.min(this.radius,A),v=f,y=h,C=Math.max(1,Math.floor(g/5));return this.arcTo(d,v-f+g,y-h+g,g,Math.PI,Math.PI*1.5,C),d.push(v+f-g,y-h),this.arcTo(d,v+f-g,y-h+g,g,Math.PI*1.5,Math.PI*2,C),d.push(v+f,y+h-g),this.arcTo(d,v+f-g,y+h-g,g,0,Math.PI*.5,C),d.push(v-f+g,y+h),this.arcTo(d,v-f+g,y+h-g,g,Math.PI*.5,Math.PI,C),d.push(v-f,y-h+g),this.pathIndexes=p(d),this.pathData=d,this},arcTo:function(d,f,h,A,g,v,y){for(var C=(v-g)/y,b=0;b<=y;b++){var T=g+C*b;d.push(f+Math.cos(T)*A,h+Math.sin(T)*A)}}});r.exports=l},48682:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(65960),p=i(75177),c=i(20926),o=function(l,d,f,h,A,g){var v=Math.min(h/2,A/2),y=Math.min(g,v);if(y===0){l.rect(d,f,h,A);return}l.moveTo(d+y,f),l.lineTo(d+h-y,f),l.arcTo(d+h,f,d+h,f+y,y),l.lineTo(d+h,f+A-y),l.arcTo(d+h,f+A,d+h-y,f+A,y),l.lineTo(d+y,f+A),l.arcTo(d,f+A,d,f+A-y,y),l.lineTo(d,f+y),l.arcTo(d,f,d+y,f,y),l.closePath()},u=function(l,d,f,h){f.addToRenderList(d);var A=l.currentContext;if(c(l,A,d,f,h)){var g=d._displayOriginX,v=d._displayOriginY;d.isFilled&&(a(A,d),d.isRounded?(A.beginPath(),o(A,-g,-v,d.width,d.height,d.radius),A.fill()):A.fillRect(-g,-v,d.width,d.height)),d.isStroked&&(p(A,d),A.beginPath(),d.isRounded?o(A,-g,-v,d.width,d.height,d.radius):A.rect(-g,-v,d.width,d.height),A.stroke()),A.restore()}};r.exports=u},87959:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(39429),p=i(74561);a.register("rectangle",function(c,o,u,l,d,f){return this.displayList.add(new p(this.scene,c,o,u,l,d,f))})},95597:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(29747),p=a,c=a;p=i(52059),c=i(48682),r.exports={renderWebGL:p,renderCanvas:c}},52059:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(10441),p=i(91296),c=i(34682),o=i(70554),u=function(l,d,f,h){f.addToRenderList(d);var A=l.pipelines.set(d.pipeline),g=p(d,f,h);A.calcMatrix.copyFrom(g.calc);var v=d._displayOriginX,y=d._displayOriginY,C=f.alpha*d.alpha;if(l.pipelines.preBatch(d),d.isRounded&&d.isFilled)a(A,g.calc,d,C,v,y);else if(d.isFilled){var b=A.fillTint,T=o.getTintAppendFloatAlpha(d.fillColor,d.fillAlpha*C);b.TL=T,b.TR=T,b.BL=T,b.BR=T,A.batchFillRect(-v,-y,d.width,d.height)}d.isStroked&&c(A,d,C,v,y),l.pipelines.postBatch(d)};r.exports=u},55911:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(81991),p=i(83419),c=i(94811),o=i(17803),u=new p({Extends:o,Mixins:[a],initialize:function(d,f,h,A,g,v,y,C){f===void 0&&(f=0),h===void 0&&(h=0),A===void 0&&(A=5),g===void 0&&(g=32),v===void 0&&(v=64),o.call(this,d,"Star",null),this._points=A,this._innerRadius=g,this._outerRadius=v,this.setPosition(f,h),this.setSize(v*2,v*2),y!==void 0&&this.setFillStyle(y,C),this.updateDisplayOrigin(),this.updateData()},setPoints:function(l){return this._points=l,this.updateData()},setInnerRadius:function(l){return this._innerRadius=l,this.updateData()},setOuterRadius:function(l){return this._outerRadius=l,this.updateData()},points:{get:function(){return this._points},set:function(l){this._points=l,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(l){this._innerRadius=l,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(l){this._outerRadius=l,this.updateData()}},updateData:function(){var l=[],d=this._points,f=this._innerRadius,h=this._outerRadius,A=Math.PI/2*3,g=Math.PI/d,v=h,y=h;l.push(v,y+-h);for(var C=0;C<d;C++)l.push(v+Math.cos(A)*h,y+Math.sin(A)*h),A+=g,l.push(v+Math.cos(A)*f,y+Math.sin(A)*f),A+=g;return l.push(v,y+-h),this.pathIndexes=c(l),this.pathData=l,this}});r.exports=u},64272:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(65960),p=i(75177),c=i(20926),o=function(u,l,d,f){d.addToRenderList(l);var h=u.currentContext;if(c(u,h,l,d,f)){var A=l._displayOriginX,g=l._displayOriginY,v=l.pathData,y=v.length-1,C=v[0]-A,b=v[1]-g;h.beginPath(),h.moveTo(C,b),l.closePath||(y-=2);for(var T=2;T<y;T+=2){var S=v[T]-A,F=v[T+1]-g;h.lineTo(S,F)}h.closePath(),l.isFilled&&(a(h,l),h.fill()),l.isStroked&&(p(h,l),h.stroke()),h.restore()}};r.exports=o},93697:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(55911),p=i(39429);p.register("star",function(c,o,u,l,d,f,h){return this.displayList.add(new a(this.scene,c,o,u,l,d,f,h))})},81991:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(29747),p=a,c=a;p=i(57017),c=i(64272),r.exports={renderWebGL:p,renderCanvas:c}},57017:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(10441),p=i(91296),c=i(34682),o=function(u,l,d,f){d.addToRenderList(l);var h=u.pipelines.set(l.pipeline),A=p(l,d,f),g=h.calcMatrix.copyFrom(A.calc),v=l._displayOriginX,y=l._displayOriginY,C=d.alpha*l.alpha;u.pipelines.preBatch(l),l.isFilled&&a(h,g,l,C,v,y),l.isStroked&&c(h,l,C,v,y),u.pipelines.postBatch(l)};r.exports=o},36931:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(17803),c=i(16483),o=i(96195),u=new a({Extends:p,Mixins:[o],initialize:function(d,f,h,A,g,v,y,C,b,T,S){f===void 0&&(f=0),h===void 0&&(h=0),A===void 0&&(A=0),g===void 0&&(g=128),v===void 0&&(v=64),y===void 0&&(y=0),C===void 0&&(C=128),b===void 0&&(b=128),p.call(this,d,"Triangle",new c(A,g,v,y,C,b));var F=this.geom.right-this.geom.left,B=this.geom.bottom-this.geom.top;this.setPosition(f,h),this.setSize(F,B),T!==void 0&&this.setFillStyle(T,S),this.updateDisplayOrigin(),this.updateData()},setTo:function(l,d,f,h,A,g){return this.geom.setTo(l,d,f,h,A,g),this.updateData()},updateData:function(){var l=[],d=this.geom,f=this._tempLine;return d.getLineA(f),l.push(f.x1,f.y1,f.x2,f.y2),d.getLineB(f),l.push(f.x2,f.y2),d.getLineC(f),l.push(f.x2,f.y2),this.pathData=l,this}});r.exports=u},85172:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(65960),p=i(75177),c=i(20926),o=function(u,l,d,f){d.addToRenderList(l);var h=u.currentContext;if(c(u,h,l,d,f)){var A=l._displayOriginX,g=l._displayOriginY,v=l.geom.x1-A,y=l.geom.y1-g,C=l.geom.x2-A,b=l.geom.y2-g,T=l.geom.x3-A,S=l.geom.y3-g;h.beginPath(),h.moveTo(v,y),h.lineTo(C,b),h.lineTo(T,S),h.closePath(),l.isFilled&&(a(h,l),h.fill()),l.isStroked&&(p(h,l),h.stroke()),h.restore()}};r.exports=o},45245:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(39429),p=i(36931);a.register("triangle",function(c,o,u,l,d,f,h,A,g,v){return this.displayList.add(new p(this.scene,c,o,u,l,d,f,h,A,g,v))})},96195:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(29747),p=a,c=a;p=i(83253),c=i(85172),r.exports={renderWebGL:p,renderCanvas:c}},83253:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(91296),p=i(34682),c=i(70554),o=function(u,l,d,f){d.addToRenderList(l);var h=u.pipelines.set(l.pipeline),A=a(l,d,f);h.calcMatrix.copyFrom(A.calc);var g=l._displayOriginX,v=l._displayOriginY,y=d.alpha*l.alpha;if(u.pipelines.preBatch(l),l.isFilled){var C=h.fillTint,b=c.getTintAppendFloatAlpha(l.fillColor,l.fillAlpha*y);C.TL=b,C.TR=b,C.BL=b,C.BR=b;var T=l.geom.x1-g,S=l.geom.y1-v,F=l.geom.x2-g,B=l.geom.y2-v,N=l.geom.x3-g,L=l.geom.y3-v;h.batchFillTriangle(T,S,F,B,N,L,A.sprite,A.camera)}l.isStroked&&p(h,l,y,g,v),u.pipelines.postBatch(l)};r.exports=o},68287:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(9674),p=i(83419),c=i(31401),o=i(95643),u=i(92751),l=new p({Extends:o,Mixins:[c.Alpha,c.BlendMode,c.Depth,c.Flip,c.GetBounds,c.Mask,c.Origin,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.Size,c.TextureCrop,c.Tint,c.Transform,c.Visible,u],initialize:function(f,h,A,g,v){o.call(this,f,"Sprite"),this._crop=this.resetCropObject(),this.anims=new a(this),this.setTexture(g,v),this.setPosition(h,A),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(d,f){this.anims.update(d,f)},play:function(d,f){return this.anims.play(d,f)},playReverse:function(d,f){return this.anims.playReverse(d,f)},playAfterDelay:function(d,f){return this.anims.playAfterDelay(d,f)},playAfterRepeat:function(d,f){return this.anims.playAfterRepeat(d,f)},chain:function(d){return this.anims.chain(d)},stop:function(){return this.anims.stop()},stopAfterDelay:function(d){return this.anims.stopAfterDelay(d)},stopAfterRepeat:function(d){return this.anims.stopAfterRepeat(d)},stopOnFrame:function(d){return this.anims.stopOnFrame(d)},toJSON:function(){return c.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});r.exports=l},76552:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p,c){p.addToRenderList(a),i.batchSprite(a,a.frame,p,c)};r.exports=x},15567:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(25305),p=i(13059),c=i(44603),o=i(23568),u=i(68287);c.register("sprite",function(l,d){l===void 0&&(l={});var f=o(l,"key",null),h=o(l,"frame",null),A=new u(this.scene,0,0,f,h);return d!==void 0&&(l.add=d),a(this.scene,A,l),p(A,l),A})},46409:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(39429),p=i(68287);a.register("sprite",function(c,o,u,l){return this.displayList.add(new p(this.scene,c,o,u,l))})},92751:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(29747),p=a,c=a;p=i(9409),c=i(76552),r.exports={renderWebGL:p,renderCanvas:c}},9409:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p,c){p.addToRenderList(a),a.pipeline.batchSprite(a,p,c)};r.exports=x},14220:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p){var c=i.canvas,o=i.context,u=i.style,l=[],d=0,f=p.length;u.maxLines>0&&u.maxLines<p.length&&(f=u.maxLines),u.syncFont(c,o);for(var h=i.letterSpacing,A=0;A<f;A++){var g=u.strokeThickness;if(h===0)g+=o.measureText(p[A]).width;else{for(var v=p[A],y=0;y<v.length;y++)g+=o.measureText(v[y]).width;v.length>1&&(g+=h*(v.length-1))}u.wordWrap&&(g-=o.measureText(" ").width),l[A]=Math.ceil(g),d=Math.max(d,l[A])}var C=a.fontSize+u.strokeThickness,b=C*f,T=i.lineSpacing;return f>1&&(b+=T*(f-1)),{width:d,height:b,lines:f,lineWidths:l,lineSpacing:T,lineHeight:C}};r.exports=x},79557:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(27919),p=function(c){var o=a.create(this),u=o.getContext("2d",{willReadFrequently:!0});c.syncFont(o,u);var l=u.measureText(c.testString);if("actualBoundingBoxAscent"in l){var d=l.actualBoundingBoxAscent,f=l.actualBoundingBoxDescent;return a.remove(o),{ascent:d,descent:f,fontSize:d+f}}var h=Math.ceil(l.width*c.baselineX),A=h,g=2*A;A=A*c.baselineY|0,o.width=h,o.height=g,u.fillStyle="#f00",u.fillRect(0,0,h,g),u.font=c._font,u.textBaseline="alphabetic",u.fillStyle="#000",u.fillText(c.testString,0,A);var v={ascent:0,descent:0,fontSize:0},y=u.getImageData(0,0,h,g);if(!y)return v.ascent=A,v.descent=A+6,v.fontSize=v.ascent+v.descent,a.remove(o),v;var C=y.data,b=C.length,T=h*4,S,F,B=0,N=!1;for(S=0;S<A;S++){for(F=0;F<T;F+=4)if(C[B+F]!==255){N=!0;break}if(!N)B+=T;else break}for(v.ascent=A-S,B=b-T,N=!1,S=g;S>A;S--){for(F=0;F<T;F+=4)if(C[B+F]!==255){N=!0;break}if(!N)B-=T;else break}return v.descent=S-A,v.fontSize=v.ascent+v.descent,a.remove(o),v};r.exports=p},50171:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(40366),p=i(27919),c=i(83419),o=i(31401),u=i(95643),l=i(14220),d=i(35154),f=i(35846),h=i(61771),A=i(35762),g=i(45650),v=new c({Extends:u,Mixins:[o.Alpha,o.BlendMode,o.ComputedSize,o.Crop,o.Depth,o.Flip,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.PostPipeline,o.ScrollFactor,o.Tint,o.Transform,o.Visible,h],initialize:function(C,b,T,S,F){b===void 0&&(b=0),T===void 0&&(T=0),u.call(this,C,"Text"),this.renderer=C.sys.renderer,this.setPosition(b,T),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=p.create(this),this.context,this.style=new A(this,F),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.letterSpacing=0,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=g(),this.texture=C.sys.textures.addCanvas(this._textureKey,this.canvas),this.context=this.texture.context,this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(S),F&&F.padding&&this.setPadding(F.padding),F&&F.lineSpacing&&this.setLineSpacing(F.lineSpacing),F&&F.letterSpacing&&this.setLetterSpacing(F.letterSpacing)},initRTL:function(){if(!this.style.rtl){this.canvas.dir="ltr",this.context.direction="ltr";return}this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",a(this.canvas,this.scene.sys.canvas),this.originX=1},runWordWrap:function(y){var C=this.style;if(C.wordWrapCallback){var b=C.wordWrapCallback.call(C.wordWrapCallbackScope,y,this);return Array.isArray(b)&&(b=b.join(`
`)),b}else return C.wordWrapWidth?C.wordWrapUseAdvanced?this.advancedWordWrap(y,this.context,this.style.wordWrapWidth):this.basicWordWrap(y,this.context,this.style.wordWrapWidth):y},advancedWordWrap:function(y,C,b){for(var T="",S=y.replace(/ +/gi," ").split(this.splitRegExp),F=S.length,B=0;B<F;B++){var N=S[B],L="";N=N.replace(/^ *|\s*$/gi,"");var R=N.length*this.letterSpacing,I=C.measureText(N).width+R;if(I<b){T+=N+`
`;continue}for(var M=b,P=N.split(" "),U=0;U<P.length;U++){var z=P[U],W=z+" ",Z=W.length*this.letterSpacing,j=C.measureText(W).width+Z;if(j>M){if(U===0){for(var H=W;H.length;){H=H.slice(0,-1);var V=H.length*this.letterSpacing;if(j=C.measureText(H).width+V,j<=M)break}if(!H.length)throw new Error("wordWrapWidth < a single character");var k=z.substr(H.length);P[U]=k,L+=H}var X=P[U].length?U:U+1,Q=P.slice(X).join(" ").replace(/[ \n]*$/gi,"");S.splice(B+1,0,Q),F=S.length;break}else L+=W,M-=j}T+=L.replace(/[ \n]*$/gi,"")+`
`}return T=T.replace(/[\s|\n]*$/gi,""),T},basicWordWrap:function(y,C,b){for(var T="",S=y.split(this.splitRegExp),F=S.length-1,B=C.measureText(" ").width,N=0;N<=F;N++){for(var L=b,R=S[N].split(" "),I=R.length-1,M=0;M<=I;M++){var P=R[M],U=P.length*this.letterSpacing,z=C.measureText(P).width+U,W=z;M<I&&(W+=B),W>L&&M>0&&(T+=`
`,L=b),T+=P,M<I?(T+=" ",L-=W):L-=z}N<F&&(T+=`
`)}return T},getWrappedText:function(y){y===void 0&&(y=this._text),this.style.syncFont(this.canvas,this.context);var C=this.runWordWrap(y);return C.split(this.splitRegExp)},setText:function(y){return!y&&y!==0&&(y=""),Array.isArray(y)&&(y=y.join(`
`)),y!==this._text&&(this._text=y.toString(),this.updateText()),this},appendText:function(y,C){C===void 0&&(C=!0),!y&&y!==0&&(y=""),Array.isArray(y)&&(y=y.join(`
`)),y=y.toString();var b=this._text.concat(C?`
`+y:y);return b!==this._text&&(this._text=b,this.updateText()),this},setStyle:function(y){return this.style.setStyle(y)},setFont:function(y){return this.style.setFont(y)},setFontFamily:function(y){return this.style.setFontFamily(y)},setFontSize:function(y){return this.style.setFontSize(y)},setFontStyle:function(y){return this.style.setFontStyle(y)},setFixedSize:function(y,C){return this.style.setFixedSize(y,C)},setBackgroundColor:function(y){return this.style.setBackgroundColor(y)},setFill:function(y){return this.style.setFill(y)},setColor:function(y){return this.style.setColor(y)},setStroke:function(y,C){return this.style.setStroke(y,C)},setShadow:function(y,C,b,T,S,F){return this.style.setShadow(y,C,b,T,S,F)},setShadowOffset:function(y,C){return this.style.setShadowOffset(y,C)},setShadowColor:function(y){return this.style.setShadowColor(y)},setShadowBlur:function(y){return this.style.setShadowBlur(y)},setShadowStroke:function(y){return this.style.setShadowStroke(y)},setShadowFill:function(y){return this.style.setShadowFill(y)},setWordWrapWidth:function(y,C){return this.style.setWordWrapWidth(y,C)},setWordWrapCallback:function(y,C){return this.style.setWordWrapCallback(y,C)},setAlign:function(y){return this.style.setAlign(y)},setResolution:function(y){return this.style.setResolution(y)},setLineSpacing:function(y){return this.lineSpacing=y,this.updateText()},setLetterSpacing:function(y){return this.letterSpacing=y,this.updateText()},setPadding:function(y,C,b,T){if(typeof y=="object"){var S=y,F=d(S,"x",null);F!==null?(y=F,b=F):(y=d(S,"left",0),b=d(S,"right",y));var B=d(S,"y",null);B!==null?(C=B,T=B):(C=d(S,"top",0),T=d(S,"bottom",C))}else y===void 0&&(y=0),C===void 0&&(C=y),b===void 0&&(b=y),T===void 0&&(T=C);return this.padding.left=y,this.padding.top=C,this.padding.right=b,this.padding.bottom=T,this.updateText()},setMaxLines:function(y){return this.style.setMaxLines(y)},setRTL:function(y){y===void 0&&(y=!0);var C=this.style;return C.rtl===y?this:(C.rtl=y,y?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",a(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),C.align==="left"?C.align="right":C.align==="right"&&(C.align="left"),this)},updateText:function(){var y=this.canvas,C=this.context,b=this.style,T=b.resolution,S=b.metrics;b.syncFont(y,C);var F=this._text;(b.wordWrapWidth||b.wordWrapCallback)&&(F=this.runWordWrap(this._text));var B=F.split(this.splitRegExp),N=l(this,S,B),L=this.padding,R;b.fixedWidth===0?(this.width=N.width+L.left+L.right,R=N.width):(this.width=b.fixedWidth,R=this.width-L.left-L.right,R<N.width&&(R=N.width)),b.fixedHeight===0?this.height=N.height+L.top+L.bottom:this.height=b.fixedHeight;var I=this.width,M=this.height;this.updateDisplayOrigin(),I*=T,M*=T,I=Math.max(I,1),M=Math.max(M,1),y.width!==I||y.height!==M?(y.width=I,y.height=M,this.frame.setSize(I,M),b.syncFont(y,C),b.rtl&&(C.direction="rtl")):C.clearRect(0,0,I,M),C.save(),C.scale(T,T),b.backgroundColor&&(C.fillStyle=b.backgroundColor,C.fillRect(0,0,I,M)),b.syncStyle(y,C),C.translate(L.left,L.top);for(var P,U,z=0;z<N.lines;z++){if(P=b.strokeThickness/2,U=b.strokeThickness/2+z*N.lineHeight+S.ascent,z>0&&(U+=N.lineSpacing*z),b.rtl)P=I-P-L.left-L.right;else if(b.align==="right")P+=R-N.lineWidths[z];else if(b.align==="center")P+=(R-N.lineWidths[z])/2;else if(b.align==="justify"){var W=.85;if(N.lineWidths[z]/N.width>=W){var Z=N.width-N.lineWidths[z],j=C.measureText(" ").width,H=B[z].trim(),V=H.split(" ");Z+=(B[z].length-H.length)*j;for(var k=Math.floor(Z/j),X=0;k>0;)V[X]+=" ",X=(X+1)%(V.length-1||1),--k;B[z]=V.join(" ")}}this.autoRound&&(P=Math.round(P),U=Math.round(U));var Q=this.letterSpacing;if(b.strokeThickness&&Q===0&&(b.syncShadow(C,b.shadowStroke),C.strokeText(B[z],P,U)),b.color)if(b.syncShadow(C,b.shadowFill),Q!==0)for(var J=0,$=B[z].split(""),_=0;_<$.length;_++)b.strokeThickness&&(b.syncShadow(C,b.shadowStroke),C.strokeText($[_],P+J,U),b.syncShadow(C,b.shadowFill)),C.fillText($[_],P+J,U),J+=C.measureText($[_]).width+Q;else C.fillText(B[z],P,U)}C.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(y,this.frame.source.glTexture,!0));var te=this.input;return te&&!te.customHitArea&&(te.hitArea.width=this.width,te.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(y){this.setText(y)}},toJSON:function(){var y=o.ToJSON(this),C={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return y.data=C,y},preDestroy:function(){f(this.canvas),p.remove(this.canvas);var y=this.texture;y&&y.destroy()}});r.exports=v},79724:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p,c){a.width===0||a.height===0||(p.addToRenderList(a),i.batchSprite(a,a.frame,p,c))};r.exports=x},71259:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(25305),p=i(44603),c=i(23568),o=i(50171);p.register("text",function(u,l){u===void 0&&(u={});var d=c(u,"text",""),f=c(u,"style",null),h=c(u,"padding",null);h!==null&&(f.padding=h);var A=new o(this.scene,0,0,d,f);return l!==void 0&&(u.add=l),a(this.scene,A,u),A.autoRound=c(u,"autoRound",!0),A.resolution=c(u,"resolution",1),A})},68005:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(50171),p=i(39429);p.register("text",function(c,o,u,l){return this.displayList.add(new a(this.scene,c,o,u,l))})},61771:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(29747),p=a,c=a;p=i(34397),c=i(79724),r.exports={renderWebGL:p,renderCanvas:c}},35762:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(23568),c=i(35154),o=i(79557),u={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|Mqgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},l=new a({initialize:function(f,h){this.parent=f,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(h,!1,!0)},setStyle:function(d,f,h){f===void 0&&(f=!0),h===void 0&&(h=!1);for(var A in u){var g=h?u[A][1]:this[A];A==="wordWrapCallback"||A==="wordWrapCallbackScope"?this[A]=c(d,u[A][0],g):d&&A==="fontSize"&&typeof d.fontSize=="number"?this[A]=d.fontSize.toString()+"px":this[A]=p(d,u[A][0],g)}var v=c(d,"font",null);v!==null&&this.setFont(v,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var y=c(d,"fill",null);y!==null&&(this.color=y);var C=c(d,"metrics",!1);return C?this.metrics={ascent:c(C,"ascent",0),descent:c(C,"descent",0),fontSize:c(C,"fontSize",0)}:(f||!this.metrics)&&(this.metrics=o(this)),f?this.parent.updateText():this.parent},syncFont:function(d,f){f.font=this._font},syncStyle:function(d,f){f.textBaseline="alphabetic",f.fillStyle=this.color,f.strokeStyle=this.stroke,f.lineWidth=this.strokeThickness,f.lineCap="round",f.lineJoin="round"},syncShadow:function(d,f){f?(d.shadowOffsetX=this.shadowOffsetX,d.shadowOffsetY=this.shadowOffsetY,d.shadowColor=this.shadowColor,d.shadowBlur=this.shadowBlur):(d.shadowOffsetX=0,d.shadowOffsetY=0,d.shadowColor=0,d.shadowBlur=0)},update:function(d){return d&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=o(this)),this.parent.updateText()},setFont:function(d,f){f===void 0&&(f=!0);var h=d,A="",g="";if(typeof d!="string")h=c(d,"fontFamily","Courier"),A=c(d,"fontSize","16px"),g=c(d,"fontStyle","");else{var v=d.split(" "),y=0;g=v.length>2?v[y++]:"",A=v[y++]||"16px",h=v[y++]||"Courier"}return(h!==this.fontFamily||A!==this.fontSize||g!==this.fontStyle)&&(this.fontFamily=h,this.fontSize=A,this.fontStyle=g,f&&this.update(!0)),this.parent},setFontFamily:function(d){return this.fontFamily!==d&&(this.fontFamily=d,this.update(!0)),this.parent},setFontStyle:function(d){return this.fontStyle!==d&&(this.fontStyle=d,this.update(!0)),this.parent},setFontSize:function(d){return typeof d=="number"&&(d=d.toString()+"px"),this.fontSize!==d&&(this.fontSize=d,this.update(!0)),this.parent},setTestString:function(d){return this.testString=d,this.update(!0)},setFixedSize:function(d,f){return this.fixedWidth=d,this.fixedHeight=f,d&&(this.parent.width=d),f&&(this.parent.height=f),this.update(!1)},setBackgroundColor:function(d){return this.backgroundColor=d,this.update(!1)},setFill:function(d){return this.color=d,this.update(!1)},setColor:function(d){return this.color=d,this.update(!1)},setResolution:function(d){return this.resolution=d,this.update(!1)},setStroke:function(d,f){return f===void 0&&(f=this.strokeThickness),d===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==d||this.strokeThickness!==f)&&(this.stroke=d,this.strokeThickness=f,this.update(!0)),this.parent},setShadow:function(d,f,h,A,g,v){return d===void 0&&(d=0),f===void 0&&(f=0),h===void 0&&(h="#000"),A===void 0&&(A=0),g===void 0&&(g=!1),v===void 0&&(v=!0),this.shadowOffsetX=d,this.shadowOffsetY=f,this.shadowColor=h,this.shadowBlur=A,this.shadowStroke=g,this.shadowFill=v,this.update(!1)},setShadowOffset:function(d,f){return d===void 0&&(d=0),f===void 0&&(f=d),this.shadowOffsetX=d,this.shadowOffsetY=f,this.update(!1)},setShadowColor:function(d){return d===void 0&&(d="#000"),this.shadowColor=d,this.update(!1)},setShadowBlur:function(d){return d===void 0&&(d=0),this.shadowBlur=d,this.update(!1)},setShadowStroke:function(d){return this.shadowStroke=d,this.update(!1)},setShadowFill:function(d){return this.shadowFill=d,this.update(!1)},setWordWrapWidth:function(d,f){return f===void 0&&(f=!1),this.wordWrapWidth=d,this.wordWrapUseAdvanced=f,this.update(!1)},setWordWrapCallback:function(d,f){return f===void 0&&(f=null),this.wordWrapCallback=d,this.wordWrapCallbackScope=f,this.update(!1)},setAlign:function(d){return d===void 0&&(d="left"),this.align=d,this.update(!1)},setMaxLines:function(d){return d===void 0&&(d=0),this.maxLines=d,this.update(!1)},getTextMetrics:function(){var d=this.metrics;return{ascent:d.ascent,descent:d.descent,fontSize:d.fontSize}},toJSON:function(){var d={};for(var f in u)d[f]=this[f];return d.metrics=this.getTextMetrics(),d},destroy:function(){this.parent=void 0}});r.exports=l},34397:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(70554),p=function(c,o,u,l){if(!(o.width===0||o.height===0)){u.addToRenderList(o);var d=o.frame,f=d.width,h=d.height,A=a.getTintAppendFloatAlpha,g=c.pipelines.set(o.pipeline,o),v=g.setTexture2D(d.glTexture,o);g.batchTexture(o,d.glTexture,f,h,o.x,o.y,f/o.style.resolution,h/o.style.resolution,o.scaleX,o.scaleY,o.rotation,o.flipX,o.flipY,o.scrollFactorX,o.scrollFactorY,o.displayOriginX,o.displayOriginY,0,0,f,h,A(o.tintTopLeft,u.alpha*o._alphaTL),A(o.tintTopRight,u.alpha*o._alphaTR),A(o.tintBottomLeft,u.alpha*o._alphaBL),A(o.tintBottomRight,u.alpha*o._alphaBR),o.tintFill,0,0,u,l,!1,v)}};r.exports=p},20839:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(27919),p=i(83419),c=i(31401),o=i(95643),u=i(98439),l=i(68703),d=i(56295),f=i(45650),h=i(26099),A=8,g=new p({Extends:o,Mixins:[c.Alpha,c.BlendMode,c.ComputedSize,c.Crop,c.Depth,c.Flip,c.GetBounds,c.Mask,c.Origin,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.Tint,c.Transform,c.Visible,d],initialize:function(y,C,b,T,S,F,B){var N=y.sys.renderer;o.call(this,y,"TileSprite");var L=y.sys.textures.get(F),R=L.get(B);R.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),L=y.sys.textures.get("__MISSING"),R=L.get()),L.type==="DynamicTexture"&&(console.warn("TileSprite cannot use Dynamic Texture"),L=y.sys.textures.get("__MISSING"),R=L.get()),!T||!S?(T=T||R.width,S=S||R.height):(T=Math.floor(T),S=Math.floor(S)),this._tilePosition=new h,this._tileScale=new h(1,1),this.dirty=!1,this.renderer=N,this.canvas=a.create(this,T,S),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=L,this.displayFrame=R,this._crop=this.resetCropObject(),this._textureKey=f(),this.texture=y.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.potWidth=u(R.width),this.potHeight=u(R.height),this.fillCanvas=a.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(C,b),this.setSize(T,S),this.setFrame(B),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(v,y){return this.displayTexture=this.scene.sys.textures.get(v),this.setFrame(y)},setFrame:function(v){var y=this.displayTexture.get(v);return this.potWidth=u(y.width),this.potHeight=u(y.height),this.canvas.width=0,!y.cutWidth||!y.cutHeight?this.renderFlags&=~A:this.renderFlags|=A,this.displayFrame=y,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(v,y){return v!==void 0&&(this.tilePositionX=v),y!==void 0&&(this.tilePositionY=y),this},setTileScale:function(v,y){return v===void 0&&(v=this.tileScaleX),y===void 0&&(y=v),this.tileScaleX=v,this.tileScaleY=y,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var v=this.displayFrame;if(v.source.isRenderTexture||v.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var y=this.fillContext,C=this.fillCanvas,b=this.potWidth,T=this.potHeight;(!this.renderer||!this.renderer.gl)&&(b=v.cutWidth,T=v.cutHeight),y.clearRect(0,0,b,T),C.width=b,C.height=T,y.drawImage(v.source.image,v.cutX,v.cutY,v.cutWidth,v.cutHeight,0,0,b,T),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(C,this.fillPattern):this.fillPattern=y.createPattern(C,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var v=this.canvas;if((v.width!==this.width||v.height!==this.height)&&(v.width=this.width,v.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var y=this.context;this.scene.sys.game.config.antialias||l.disable(y);var C=this._tileScale.x,b=this._tileScale.y,T=this._tilePosition.x,S=this._tilePosition.y;y.clearRect(0,0,this.width,this.height),y.save(),y.scale(C,b),y.translate(-T,-S),y.fillStyle=this.fillPattern,y.fillRect(T,S,this.width/C,this.height/b),y.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),a.remove(this.canvas),a.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null;var v=this.texture;v&&v.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(v){this._tilePosition.x=v,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(v){this._tilePosition.y=v,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(v){this._tileScale.x=v,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(v){this._tileScale.y=v,this.dirty=!0}}});r.exports=g},46992:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p,c){a.updateCanvas(),p.addToRenderList(a),i.batchSprite(a,a.frame,p,c)};r.exports=x},14167:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(25305),p=i(44603),c=i(23568),o=i(20839);p.register("tileSprite",function(u,l){u===void 0&&(u={});var d=c(u,"x",0),f=c(u,"y",0),h=c(u,"width",512),A=c(u,"height",512),g=c(u,"key",""),v=c(u,"frame",""),y=new o(this.scene,d,f,h,A,g,v);return l!==void 0&&(u.add=l),a(this.scene,y,u),y})},91681:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(20839),p=i(39429);p.register("tileSprite",function(c,o,u,l,d,f){return this.displayList.add(new a(this.scene,c,o,u,l,d,f))})},56295:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(29747),p=a,c=a;p=i(18553),c=i(46992),r.exports={renderWebGL:p,renderCanvas:c}},18553:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(70554),p=function(c,o,u,l){o.updateCanvas();var d=o.width,f=o.height;if(!(d===0||f===0)){u.addToRenderList(o);var h=a.getTintAppendFloatAlpha,A=c.pipelines.set(o.pipeline,o),g=A.setTexture2D(o.fillPattern,o);A.batchTexture(o,o.fillPattern,o.displayFrame.width*o.tileScaleX,o.displayFrame.height*o.tileScaleY,o.x,o.y,d,f,o.scaleX,o.scaleY,o.rotation,o.flipX,o.flipY,o.scrollFactorX,o.scrollFactorY,o.originX*d,o.originY*f,0,0,d,f,h(o.tintTopLeft,u.alpha*o._alphaTL),h(o.tintTopRight,u.alpha*o._alphaTR),h(o.tintBottomLeft,u.alpha*o._alphaBL),h(o.tintBottomRight,u.alpha*o._alphaBR),o.tintFill,o.tilePositionX%o.displayFrame.width/o.displayFrame.width,o.tilePositionY%o.displayFrame.height/o.displayFrame.height,u,l,!1,g)}};r.exports=p},18471:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(45319),p=i(83419),c=i(31401),o=i(51708),u=i(8443),l=i(95643),d=i(36383),f=i(14463),h=i(45650),A=i(10247),g=new p({Extends:l,Mixins:[c.Alpha,c.BlendMode,c.ComputedSize,c.Depth,c.Flip,c.GetBounds,c.Mask,c.Origin,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.TextureCrop,c.Tint,c.Transform,c.Visible,A],initialize:function(y,C,b,T){l.call(this,y,"Video"),this.video,this.videoTexture,this.videoTextureSource,this.snapshotTexture,this.flipY=!1,this._key=h(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.metadata,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._metadataCallbackHandler=this.metadataHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._getFrame=!1,this._rfvCallbackId=0;var S=y.sys.game;this._device=S.device.video,this.setPosition(C,b),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),S.events.on(u.PAUSE,this.globalPause,this),S.events.on(u.RESUME,this.globalResume,this);var F=y.sys.sound;F&&F.on(f.GLOBAL_MUTE,this.globalMute,this),T&&this.load(T)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(v){var y=this.scene.sys.cache.video.get(v);return y?(this.cacheKey=v,this.loadHandler(y.url,y.noAudio,y.crossOrigin)):console.warn("No video in cache for key: "+v),this},changeSource:function(v,y,C,b,T){y===void 0&&(y=!0),C===void 0&&(C=!1),this.cacheKey!==v&&(this.load(v),y&&this.play(C,b,T))},getVideoKey:function(){return this.cacheKey},loadURL:function(v,y,C){y===void 0&&(y=!1);var b=this._device.getVideoURL(v);return b?(this.cacheKey="",this.loadHandler(b.url,y,C)):console.warn("No supported video format found for "+v),this},loadMediaStream:function(v,y,C){return this.loadHandler(null,y,C,v)},loadHandler:function(v,y,C,b){y||(y=!1);var T=this.video;if(T?(this.removeLoadEventHandlers(),this.stop()):(T=document.createElement("video"),T.controls=!1,T.setAttribute("playsinline","playsinline"),T.setAttribute("preload","auto"),T.setAttribute("disablePictureInPicture","true")),y?(T.muted=!0,T.defaultMuted=!0,T.setAttribute("autoplay","autoplay")):(T.muted=!1,T.defaultMuted=!1,T.removeAttribute("autoplay")),C?T.setAttribute("crossorigin",C):T.removeAttribute("crossorigin"),b)if("srcObject"in T)try{T.srcObject=b}catch(F){if(F.name!=="TypeError")throw F;T.src=URL.createObjectURL(b)}else T.src=URL.createObjectURL(b);else T.src=v;this.retry=0,this.video=T,this._playCalled=!1,T.load(),this.addLoadEventHandlers();var S=this.scene.sys.textures.get(this._key);return this.setTexture(S),this},requestVideoFrame:function(v,y){var C=this.video;if(C){var b=y.width,T=y.height,S=this.videoTexture,F=this.videoTextureSource,B=!S||F.source!==C;B?(this._codePaused=C.paused,this._codeMuted=C.muted,S?(F.source=C,F.width=b,F.height=T,S.get().setSize(b,T)):(S=this.scene.sys.textures.create(this._key,C,b,T),S.add("__BASE",0,0,0,b,T),this.setTexture(S),this.videoTexture=S,this.videoTextureSource=S.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(o.VIDEO_TEXTURE,this,S)),this.setSizeToFrame(),this.updateDisplayOrigin()):F.update(),this.isStalled=!1,this.metadata=y;var N=y.mediaTime;B&&(this._lastUpdate=N,this.emit(o.VIDEO_CREATED,this,b,T),this.frameReady||(this.frameReady=!0,this.emit(o.VIDEO_PLAY,this))),this._playingMarker?N>=this._markerOut&&(C.loop?(C.currentTime=this._markerIn,this.emit(o.VIDEO_LOOP,this)):(this.stop(!1),this.emit(o.VIDEO_COMPLETE,this))):N<this._lastUpdate&&this.emit(o.VIDEO_LOOP,this),this._lastUpdate=N,this._getFrame?(this.removeEventHandlers(),C.pause(),this._getFrame=!1):this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(v,y,C){y===void 0&&(y=-1),C===void 0&&(C=d.MAX_SAFE_INTEGER);var b=this.video;return!b||this.isPlaying()?(b||console.warn("Video not loaded"),this):(v===void 0&&(v=b.loop),b.loop=v,this._markerIn=y,this._markerOut=C,this._playingMarker=y>-1&&C>y&&C<d.MAX_SAFE_INTEGER,this._playCalled||(this._getFrame=!1,this._rfvCallbackId=b.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},getFirstFrame:function(){var v=this.video;return!v||this.isPlaying()?(v||console.warn("Video not loaded"),this):(this._playCalled||(this._getFrame=!0,this._rfvCallbackId=v.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this.createPlayPromise()),this)},addLoadEventHandlers:function(){var v=this.video;v&&(v.addEventListener("error",this._loadCallbackHandler),v.addEventListener("abort",this._loadCallbackHandler),v.addEventListener("loadedmetadata",this._metadataCallbackHandler))},removeLoadEventHandlers:function(){var v=this.video;v&&(v.removeEventListener("error",this._loadCallbackHandler),v.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var v=this.video;if(v){var y=this._callbacks;for(var C in y)v.addEventListener(C,y[C])}},removeEventHandlers:function(){var v=this.video;if(v){var y=this._callbacks;for(var C in y)v.removeEventListener(C,y[C])}},createPlayPromise:function(v){v===void 0&&(v=!0);var y=this.video,C=y.play();if(C!==void 0){var b=this.playSuccess.bind(this),T=this.playError.bind(this);if(!v){var S=this;T=function(){S.failedPlayAttempts++}}C.then(b).catch(T)}else y.addEventListener("playing",this._callbacks.legacy),v||this.failedPlayAttempts++},addMarker:function(v,y,C){return!isNaN(y)&&y>=0&&!isNaN(C)&&C>y&&(this.markers[v]=[y,C]),this},playMarker:function(v,y){var C=this.markers[v];return C&&this.play(y,C[0],C[1]),this},removeMarker:function(v){return delete this.markers[v],this},snapshot:function(v,y){return v===void 0&&(v=this.width),y===void 0&&(y=this.height),this.snapshotArea(0,0,this.width,this.height,v,y)},snapshotArea:function(v,y,C,b,T,S){v===void 0&&(v=0),y===void 0&&(y=0),C===void 0&&(C=this.width),b===void 0&&(b=this.height),T===void 0&&(T=C),S===void 0&&(S=b);var F=this.video,B=this.snapshotTexture;return B?(B.setSize(T,S),F&&B.context.drawImage(F,v,y,C,b,0,0,T,S)):(B=this.scene.sys.textures.createCanvas(h(),T,S),this.snapshotTexture=B,F&&B.context.drawImage(F,v,y,C,b,0,0,T,S)),B.update()},saveSnapshotTexture:function(v){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,v):this.snapshotTexture=this.scene.sys.textures.createCanvas(v,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(o.VIDEO_UNLOCKED,this));var v=this.scene.sys.sound;v&&v.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(v){var y=v.name;y==="NotAllowedError"?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(o.VIDEO_LOCKED,this)):y==="NotSupportedError"?(this.stop(!1),this.emit(o.VIDEO_UNSUPPORTED,this,v)):(this.stop(!1),this.emit(o.VIDEO_ERROR,this,v))},legacyPlayHandler:function(){var v=this.video;v&&(this.playSuccess(),v.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(o.VIDEO_PLAYING,this)},loadErrorHandler:function(v){this.stop(!1),this.emit(o.VIDEO_ERROR,this,v)},metadataHandler:function(v){this.emit(o.VIDEO_METADATA,this,v)},setSizeToFrame:function(v){v||(v=this.frame),this.width=v.realWidth,this.height=v.realHeight,this.scaleX!==1&&(this.scaleX=this.displayWidth/this.width),this.scaleY!==1&&(this.scaleY=this.displayHeight/this.height);var y=this.input;return y&&!y.customHitArea&&(y.hitArea.width=this.width,y.hitArea.height=this.height),this},stalledHandler:function(v){this.isStalled=!0,this.emit(o.VIDEO_STALLED,this,v)},completeHandler:function(){this._playCalled=!1,this.emit(o.VIDEO_COMPLETE,this)},preUpdate:function(v,y){var C=this.video;!C||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=y,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(v){var y=this.video;if(y){var C=y.duration;if(C!==1/0&&!isNaN(C)){var b=C*v;this.setCurrentTime(b)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(v){var y=this.video;if(y){if(typeof v=="string"){var C=v[0],b=parseFloat(v.substr(1));C==="+"?v=y.currentTime+b:C==="-"&&(v=y.currentTime-b)}y.currentTime=v}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(o.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(o.VIDEO_SEEKED,this)},getProgress:function(){var v=this.video;if(v){var y=v.duration;if(y!==1/0&&!isNaN(y))return v.currentTime/y}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(v){v===void 0&&(v=!0),this._codeMuted=v;var y=this.video;return y&&(y.muted=this._systemMuted?!0:v),this},isMuted:function(){return this._codeMuted},globalMute:function(v,y){this._systemMuted=y;var C=this.video;C&&(C.muted=this._codeMuted?!0:y)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},setPaused:function(v){v===void 0&&(v=!0);var y=this.video;return this._codePaused=v,y&&!y.ended&&(v?y.paused||(this.removeEventHandlers(),y.pause()):v||(this._playCalled?y.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(v){return v===void 0&&(v=1),this.video&&(this.video.volume=a(v,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(v){return this.video&&(this.video.playbackRate=v),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(v){return v===void 0&&(v=!0),this.video&&(this.video.loop=v),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(v,y){return y===void 0&&(y=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,v),this.videoTextureSource.setFlipY(y)),this._key=v,this.flipY=y,!!this.videoTexture},stop:function(v){v===void 0&&(v=!0);var y=this.video;return y&&(this.removeEventHandlers(),y.cancelVideoFrameCallback(this._rfvCallbackId),y.pause()),this.retry=0,this._playCalled=!1,v&&this.emit(o.VIDEO_STOP,this),this},removeVideoElement:function(){var v=this.video;if(v){for(v.parentNode&&v.parentNode.removeChild(v);v.hasChildNodes();)v.removeChild(v.firstChild);v.removeAttribute("autoplay"),v.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var v=this.scene.sys.game.events;v.off(u.PAUSE,this.globalPause,this),v.off(u.RESUME,this.globalResume,this);var y=this.scene.sys.sound;y&&y.off(f.GLOBAL_MUTE,this.globalMute,this)}});r.exports=g},58352:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p,c){a.videoTexture&&(p.addToRenderList(a),i.batchSprite(a,a.frame,p,c))};r.exports=x},11511:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(25305),p=i(44603),c=i(23568),o=i(18471);p.register("video",function(u,l){u===void 0&&(u={});var d=c(u,"key",null),f=new o(this.scene,0,0,d);return l!==void 0&&(u.add=l),a(this.scene,f,u),f})},89025:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(18471),p=i(39429);p.register("video",function(c,o,u){return this.displayList.add(new a(this.scene,c,o,u))})},10247:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(29747),p=a,c=a;p=i(29849),c=i(58352),r.exports={renderWebGL:p,renderCanvas:c}},29849:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p,c){a.videoTexture&&(p.addToRenderList(a),a.pipeline.batchSprite(a,p,c))};r.exports=x},41481:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(10312),p=i(96503),c=i(87902),o=i(83419),u=i(31401),l=i(95643),d=i(87841),f=i(37303),h=new o({Extends:l,Mixins:[u.Depth,u.GetBounds,u.Origin,u.Transform,u.ScrollFactor,u.Visible],initialize:function(g,v,y,C,b){C===void 0&&(C=1),b===void 0&&(b=C),l.call(this,g,"Zone"),this.setPosition(v,y),this.width=C,this.height=b,this.blendMode=a.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(A){this.scaleX=A/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(A){this.scaleY=A/this.height}},setSize:function(A,g,v){v===void 0&&(v=!0),this.width=A,this.height=g,this.updateDisplayOrigin();var y=this.input;return v&&y&&!y.customHitArea&&(y.hitArea.width=A,y.hitArea.height=g),this},setDisplaySize:function(A,g){return this.displayWidth=A,this.displayHeight=g,this},setCircleDropZone:function(A){return this.setDropZone(new p(0,0,A),c)},setRectangleDropZone:function(A,g){return this.setDropZone(new d(0,0,A,g),f)},setDropZone:function(A,g){return this.input||this.setInteractive(A,g,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(A,g,v){v.addToRenderList(g)},renderWebGL:function(A,g,v){v.addToRenderList(g)}});r.exports=h},95261:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(44603),p=i(23568),c=i(41481);a.register("zone",function(o){var u=p(o,"x",0),l=p(o,"y",0),d=p(o,"width",1),f=p(o,"height",d);return new c(this.scene,u,l,d,f)})},84175:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(41481),p=i(39429);p.register("zone",function(c,o,u,l){return this.displayList.add(new a(this.scene,c,o,u,l))})},95166:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){return i.radius>0?Math.PI*i.radius*i.radius:0};r.exports=x},96503:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(87902),c=i(26241),o=i(79124),u=i(23777),l=i(28176),d=new a({initialize:function(h,A,g){h===void 0&&(h=0),A===void 0&&(A=0),g===void 0&&(g=0),this.type=u.CIRCLE,this.x=h,this.y=A,this._radius=g,this._diameter=g*2},contains:function(f,h){return p(this,f,h)},getPoint:function(f,h){return c(this,f,h)},getPoints:function(f,h,A){return o(this,f,h,A)},getRandomPoint:function(f){return l(this,f)},setTo:function(f,h,A){return this.x=f,this.y=h,this._radius=A,this._diameter=A*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(f,h){return h===void 0&&(h=f),this.x=f,this.y=h,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(f){this._radius=f,this._diameter=f*2}},diameter:{get:function(){return this._diameter},set:function(f){this._diameter=f,this._radius=f*.5}},left:{get:function(){return this.x-this._radius},set:function(f){this.x=f+this._radius}},right:{get:function(){return this.x+this._radius},set:function(f){this.x=f-this._radius}},top:{get:function(){return this.y-this._radius},set:function(f){this.y=f+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(f){this.y=f-this._radius}}});r.exports=d},71562:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){return 2*(Math.PI*i.radius)};r.exports=x},92110:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(2141),p=function(c,o,u){return u===void 0&&(u=new a),u.x=c.x+c.radius*Math.cos(o),u.y=c.y+c.radius*Math.sin(o),u};r.exports=p},42250:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(96503),p=function(c){return new a(c.x,c.y,c.radius)};r.exports=p},87902:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p){if(i.radius>0&&a>=i.left&&a<=i.right&&p>=i.top&&p<=i.bottom){var c=(i.x-a)*(i.x-a),o=(i.y-p)*(i.y-p);return c+o<=i.radius*i.radius}else return!1};r.exports=x},5698:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(87902),p=function(c,o){return a(c,o.x,o.y)};r.exports=p},70588:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(87902),p=function(c,o){return a(c,o.x,o.y)&&a(c,o.right,o.y)&&a(c,o.x,o.bottom)&&a(c,o.right,o.bottom)};r.exports=p},26394:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){return a.setTo(i.x,i.y,i.radius)};r.exports=x},76278:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){return i.x===a.x&&i.y===a.y&&i.radius===a.radius};r.exports=x},2074:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(87841),p=function(c,o){return o===void 0&&(o=new a),o.x=c.left,o.y=c.top,o.width=c.diameter,o.height=c.diameter,o};r.exports=p},26241:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(92110),p=i(62945),c=i(36383),o=i(2141),u=function(l,d,f){f===void 0&&(f=new o);var h=p(d,0,c.PI2);return a(l,h,f)};r.exports=u},79124:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(71562),p=i(92110),c=i(62945),o=i(36383),u=function(l,d,f,h){h===void 0&&(h=[]),!d&&f>0&&(d=a(l)/f);for(var A=0;A<d;A++){var g=c(A/d,0,o.PI2);h.push(p(l,g))}return h};r.exports=u},50884:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p){return i.x+=a,i.y+=p,i};r.exports=x},39212:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){return i.x+=a.x,i.y+=a.y,i};r.exports=x},28176:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(2141),p=function(c,o){o===void 0&&(o=new a);var u=2*Math.PI*Math.random(),l=Math.random()+Math.random(),d=l>1?2-l:l,f=d*Math.cos(u),h=d*Math.sin(u);return o.x=c.x+f*c.radius,o.y=c.y+h*c.radius,o};r.exports=p},88911:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(96503);a.Area=i(95166),a.Circumference=i(71562),a.CircumferencePoint=i(92110),a.Clone=i(42250),a.Contains=i(87902),a.ContainsPoint=i(5698),a.ContainsRect=i(70588),a.CopyFrom=i(26394),a.Equals=i(76278),a.GetBounds=i(2074),a.GetPoint=i(26241),a.GetPoints=i(79124),a.Offset=i(50884),a.OffsetPoint=i(39212),a.Random=i(28176),r.exports=a},23777:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};r.exports=x},78874:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){return i.isEmpty()?0:i.getMajorRadius()*i.getMinorRadius()*Math.PI};r.exports=x},92990:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){var a=i.width/2,p=i.height/2,c=Math.pow(a-p,2)/Math.pow(a+p,2);return Math.PI*(a+p)*(1+3*c/(10+Math.sqrt(4-3*c)))};r.exports=x},79522:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(2141),p=function(c,o,u){u===void 0&&(u=new a);var l=c.width/2,d=c.height/2;return u.x=c.x+l*Math.cos(o),u.y=c.y+d*Math.sin(o),u};r.exports=p},58102:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(8497),p=function(c){return new a(c.x,c.y,c.width,c.height)};r.exports=p},81154:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p){if(i.width<=0||i.height<=0)return!1;var c=(a-i.x)/i.width,o=(p-i.y)/i.height;return c*=c,o*=o,c+o<.25};r.exports=x},46662:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(81154),p=function(c,o){return a(c,o.x,o.y)};r.exports=p},1632:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(81154),p=function(c,o){return a(c,o.x,o.y)&&a(c,o.right,o.y)&&a(c,o.x,o.bottom)&&a(c,o.right,o.bottom)};r.exports=p},65534:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){return a.setTo(i.x,i.y,i.width,i.height)};r.exports=x},8497:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(81154),c=i(90549),o=i(48320),u=i(23777),l=i(24820),d=new a({initialize:function(h,A,g,v){h===void 0&&(h=0),A===void 0&&(A=0),g===void 0&&(g=0),v===void 0&&(v=0),this.type=u.ELLIPSE,this.x=h,this.y=A,this.width=g,this.height=v},contains:function(f,h){return p(this,f,h)},getPoint:function(f,h){return c(this,f,h)},getPoints:function(f,h,A){return o(this,f,h,A)},getRandomPoint:function(f){return l(this,f)},setTo:function(f,h,A,g){return this.x=f,this.y=h,this.width=A,this.height=g,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(f,h){return h===void 0&&(h=f),this.x=f,this.y=h,this},setSize:function(f,h){return h===void 0&&(h=f),this.width=f,this.height=h,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(f){this.x=f+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(f){this.x=f-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(f){this.y=f+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(f){this.y=f-this.height/2}}});r.exports=d},36146:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){return i.x===a.x&&i.y===a.y&&i.width===a.width&&i.height===a.height};r.exports=x},23694:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(87841),p=function(c,o){return o===void 0&&(o=new a),o.x=c.left,o.y=c.top,o.width=c.width,o.height=c.height,o};r.exports=p},90549:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(79522),p=i(62945),c=i(36383),o=i(2141),u=function(l,d,f){f===void 0&&(f=new o);var h=p(d,0,c.PI2);return a(l,h,f)};r.exports=u},48320:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(92990),p=i(79522),c=i(62945),o=i(36383),u=function(l,d,f,h){h===void 0&&(h=[]),!d&&f>0&&(d=a(l)/f);for(var A=0;A<d;A++){var g=c(A/d,0,o.PI2);h.push(p(l,g))}return h};r.exports=u},73424:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p){return i.x+=a,i.y+=p,i};r.exports=x},44808:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){return i.x+=a.x,i.y+=a.y,i};r.exports=x},24820:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(2141),p=function(c,o){o===void 0&&(o=new a);var u=Math.random()*Math.PI*2,l=Math.sqrt(Math.random());return o.x=c.x+l*Math.cos(u)*c.width/2,o.y=c.y+l*Math.sin(u)*c.height/2,o};r.exports=p},49203:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(8497);a.Area=i(78874),a.Circumference=i(92990),a.CircumferencePoint=i(79522),a.Clone=i(58102),a.Contains=i(81154),a.ContainsPoint=i(46662),a.ContainsRect=i(1632),a.CopyFrom=i(65534),a.Equals=i(36146),a.GetBounds=i(23694),a.GetPoint=i(90549),a.GetPoints=i(48320),a.Offset=i(73424),a.OffsetPoint=i(44808),a.Random=i(24820),r.exports=a},55738:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(23777),p=i(79291),c={Circle:i(88911),Ellipse:i(49203),Intersects:i(91865),Line:i(2529),Mesh:i(73090),Point:i(43711),Polygon:i(58423),Rectangle:i(93232),Triangle:i(84435)};c=p(!1,c,a),r.exports=c},2044:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(20339),p=function(c,o){return a(c.x,c.y,o.x,o.y)<=c.radius+o.radius};r.exports=p},81491:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){var p=a.width/2,c=a.height/2,o=Math.abs(i.x-a.x-p),u=Math.abs(i.y-a.y-c),l=p+i.radius,d=c+i.radius;if(o>l||u>d)return!1;if(o<=p||u<=c)return!0;var f=o-p,h=u-c,A=f*f,g=h*h,v=i.radius*i.radius;return A+g<=v};r.exports=x},63376:(r,x,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(2141),p=i(2044),c=function(o,u,l){if(l===void 0&&(l=[]),p(o,u)){var d=o.x,f=o.y,h=o.radius,A=u.x,g=u.y,v=u.radius,y,C,b,T,S;if(f===g)S=(v*v-h*h-A*A+d*d)/(2*(d-A)),y=1,C=-2*g,b=A*A+S*S-2*A*S+g*g-v*v,T=C*C-4*y*b,T===0?l.push(new a(S,-C/(2*y))):T>0&&(l.push(new a(S,(-C+Math.sqrt(T))/(2*y))),l.push(new a(S,(-C-Math.sqrt(T))/(2*y))));else{var F=(d-A)/(f-g),B=(v*v-h*h-A*A+d*d-g*g+f*f)/(2*(f-g));y=F*F+1,C=2*f*F-2*B*F-2*d,b=d*d+f*f+B*B-h*h-2*f*B,T=C*C-4*y*b,T===0?(S=-C/(2*y),l.push(new a(S,B-S*F))):T>0&&(S=(-C+Math.sqrt(T))/(2*y),l.push(new a(S,B-S*F)),S=(-C-Math.sqrt(T))/(2*y),l.push(new a(S,B-S*F)))}}return l};r.exports=c},97439:(r,x,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(4042),p=i(81491),c=function(o,u,l){if(l===void 0&&(l=[]),p(o,u)){var d=u.getLineA(),f=u.getLineB(),h=u.getLineC(),A=u.getLineD();a(d,o,l),a(f,o,l),a(h,o,l),a(A,o,l)}return l};r.exports=c},4042:(r,x,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(2141),p=i(80462),c=function(o,u,l){if(l===void 0&&(l=[]),p(o,u)){var d=o.x1,f=o.y1,h=o.x2,A=o.y2,g=u.x,v=u.y,y=u.radius,C=h-d,b=A-f,T=d-g,S=f-v,F=C*C+b*b,B=2*(C*T+b*S),N=T*T+S*S-y*y,L=B*B-4*F*N,R,I;if(L===0){var M=-B/(2*F);R=d+M*C,I=f+M*b,M>=0&&M<=1&&l.push(new a(R,I))}else if(L>0){var P=(-B-Math.sqrt(L))/(2*F);R=d+P*C,I=f+P*b,P>=0&&P<=1&&l.push(new a(R,I));var U=(-B+Math.sqrt(L))/(2*F);R=d+U*C,I=f+U*b,U>=0&&U<=1&&l.push(new a(R,I))}}return l};r.exports=c},36100:(r,x,i)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(25836),p=function(c,o,u,l){u===void 0&&(u=!1);var d=c.x1,f=c.y1,h=c.x2,A=c.y2,g=o.x1,v=o.y1,y=o.x2,C=o.y2,b=h-d,T=A-f,S=y-g,F=C-v,B=b*F-T*S;if(B===0)return null;var N,L,R;if(u){if(N=(b*(v-f)+T*(d-g))/(S*T-F*b),b!==0)L=(g+S*N-d)/b;else if(T!==0)L=(v+F*N-f)/T;else return null;if(L<0||N<0||N>1)return null;R=L}else{if(N=((g-d)*F-(v-f)*S)/B,L=((f-v)*b-(d-g)*T)/B,N<0||N>1||L<0||L>1)return null;R=N}return l===void 0&&(l=new a),l.set(d+b*R,f+T*R,R)};r.exports=p},3073:(r,x,i)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(36100),p=i(23031),c=i(25836),o=new p,u=new c,l=function(d,f,h,A){h===void 0&&(h=!1),A===void 0&&(A=new c);var g=!1;A.set(),u.set();for(var v=f[f.length-1],y=0;y<f.length;y++){var C=f[y];o.setTo(v.x,v.y,C.x,C.y),v=C,a(d,o,h,u)&&(!g||u.z<A.z)&&(A.copy(u),g=!0)}return g?A:null};r.exports=l},56362:(r,x,i)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(25836),p=i(61369),c=i(3073),o=new a,u=function(l,d,f,h){h===void 0&&(h=new p),Array.isArray(d)||(d=[d]);var A=!1;h.set(),o.set();for(var g=0;g<d.length;g++)c(l,d[g].points,f,o)&&(!A||o.z<h.z)&&(h.set(o.x,o.y,o.z,g),A=!0);return A?h:null};r.exports=u},60646:(r,x,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(2141),p=i(76112),c=i(92773),o=function(u,l,d){if(d===void 0&&(d=[]),c(u,l))for(var f=l.getLineA(),h=l.getLineB(),A=l.getLineC(),g=l.getLineD(),v=[new a,new a,new a,new a],y=[p(f,u,v[0]),p(h,u,v[1]),p(A,u,v[2]),p(g,u,v[3])],C=0;C<4;C++)y[C]&&d.push(v[C]);return d};r.exports=o},71147:(r,x,i)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(61369),p=i(56362),c=i(23031),o=new c;function u(f,h,A,g,v){var y=Math.cos(f),C=Math.sin(f);o.setTo(h,A,h+y,A+C);var b=p(o,g,!0);b&&v.push(new a(b.x,b.y,f,b.w))}function l(f,h){return f.z-h.z}var d=function(f,h,A){Array.isArray(A)||(A=[A]);for(var g=[],v=[],y=0;y<A.length;y++)for(var C=A[y].points,b=0;b<C.length;b++){var T=Math.atan2(C[b].y-h,C[b].x-f);v.indexOf(T)===-1&&(u(T,f,h,A,g),u(T-1e-5,f,h,A,g),u(T+1e-5,f,h,A,g),v.push(T))}return g.sort(l)};r.exports=d},68389:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(87841),p=i(59996),c=function(o,u,l){return l===void 0&&(l=new a),p(o,u)&&(l.x=Math.max(o.x,u.x),l.y=Math.max(o.y,u.y),l.width=Math.min(o.right,u.right)-l.x,l.height=Math.min(o.bottom,u.bottom)-l.y),l};r.exports=c},52784:(r,x,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(60646),p=i(59996),c=function(o,u,l){if(l===void 0&&(l=[]),p(o,u)){var d=o.getLineA(),f=o.getLineB(),h=o.getLineC(),A=o.getLineD();a(d,u,l),a(f,u,l),a(h,u,l),a(A,u,l)}return l};r.exports=c},26341:(r,x,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(89265),p=i(60646),c=function(o,u,l){if(l===void 0&&(l=[]),a(o,u)){var d=u.getLineA(),f=u.getLineB(),h=u.getLineC();p(d,o,l),p(f,o,l),p(h,o,l)}return l};r.exports=c},38720:(r,x,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(4042),p=i(67636),c=function(o,u,l){if(l===void 0&&(l=[]),p(o,u)){var d=o.getLineA(),f=o.getLineB(),h=o.getLineC();a(d,u,l),a(f,u,l),a(h,u,l)}return l};r.exports=c},13882:(r,x,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(2141),p=i(2822),c=i(76112),o=function(u,l,d){if(d===void 0&&(d=[]),p(u,l))for(var f=u.getLineA(),h=u.getLineB(),A=u.getLineC(),g=[new a,new a,new a],v=[c(f,l,g[0]),c(h,l,g[1]),c(A,l,g[2])],y=0;y<3;y++)v[y]&&d.push(g[y]);return d};r.exports=o},75636:(r,x,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(82944),p=i(13882),c=function(o,u,l){if(l===void 0&&(l=[]),a(o,u)){var d=u.getLineA(),f=u.getLineB(),h=u.getLineC();p(o,d,l),p(o,f,l),p(o,h,l)}return l};r.exports=c},80462:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(87902),p=i(2141),c=new p,o=function(u,l,d){if(d===void 0&&(d=c),a(l,u.x1,u.y1))return d.x=u.x1,d.y=u.y1,!0;if(a(l,u.x2,u.y2))return d.x=u.x2,d.y=u.y2,!0;var f=u.x2-u.x1,h=u.y2-u.y1,A=l.x-u.x1,g=l.y-u.y1,v=f*f+h*h,y=f,C=h;if(v>0){var b=(A*f+g*h)/v;y*=b,C*=b}d.x=u.x1+y,d.y=u.y1+C;var T=y*y+C*C;return T<=v&&y*f+C*h>=0&&a(l,d.x,d.y)};r.exports=o},76112:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p){var c=i.x1,o=i.y1,u=i.x2,l=i.y2,d=a.x1,f=a.y1,h=a.x2,A=a.y2;if(c===u&&o===l||d===h&&f===A)return!1;var g=(A-f)*(u-c)-(h-d)*(l-o);if(g===0)return!1;var v=((h-d)*(o-f)-(A-f)*(c-d))/g,y=((u-c)*(o-f)-(l-o)*(c-d))/g;return v<0||v>1||y<0||y>1?!1:(p&&(p.x=c+v*(u-c),p.y=o+v*(l-o)),!0)};r.exports=x},92773:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){var p=i.x1,c=i.y1,o=i.x2,u=i.y2,l=a.x,d=a.y,f=a.right,h=a.bottom,A=0;if(p>=l&&p<=f&&c>=d&&c<=h||o>=l&&o<=f&&u>=d&&u<=h)return!0;if(p<l&&o>=l){if(A=c+(u-c)*(l-p)/(o-p),A>d&&A<=h)return!0}else if(p>f&&o<=f&&(A=c+(u-c)*(f-p)/(o-p),A>=d&&A<=h))return!0;if(c<d&&u>=d){if(A=p+(o-p)*(d-c)/(u-c),A>=l&&A<=f)return!0}else if(c>h&&u<=h&&(A=p+(o-p)*(h-c)/(u-c),A>=l&&A<=f))return!0;return!1};r.exports=x},16204:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p){p===void 0&&(p=1);var c=a.x1,o=a.y1,u=a.x2,l=a.y2,d=i.x,f=i.y,h=(u-c)*(u-c)+(l-o)*(l-o);if(h===0)return!1;var A=((d-c)*(u-c)+(f-o)*(l-o))/h;if(A<0)return Math.sqrt((c-d)*(c-d)+(o-f)*(o-f))<=p;if(A>=0&&A<=1){var g=((o-f)*(u-c)-(c-d)*(l-o))/h;return Math.abs(g)*Math.sqrt(h)<=p}else return Math.sqrt((u-d)*(u-d)+(l-f)*(l-f))<=p};r.exports=x},14199:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(16204),p=function(c,o){if(!a(c,o))return!1;var u=Math.min(o.x1,o.x2),l=Math.max(o.x1,o.x2),d=Math.min(o.y1,o.y2),f=Math.max(o.y1,o.y2);return c.x>=u&&c.x<=l&&c.y>=d&&c.y<=f};r.exports=p},59996:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){return i.width<=0||i.height<=0||a.width<=0||a.height<=0?!1:!(i.right<a.x||i.bottom<a.y||i.x>a.right||i.y>a.bottom)};r.exports=x},89265:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(76112),p=i(37303),c=i(48653),o=i(77493),u=function(l,d){if(d.left>l.right||d.right<l.left||d.top>l.bottom||d.bottom<l.top)return!1;var f=d.getLineA(),h=d.getLineB(),A=d.getLineC();if(p(l,f.x1,f.y1)||p(l,f.x2,f.y2)||p(l,h.x1,h.y1)||p(l,h.x2,h.y2)||p(l,A.x1,A.y1)||p(l,A.x2,A.y2))return!0;var g=l.getLineA(),v=l.getLineB(),y=l.getLineC(),C=l.getLineD();if(a(f,g)||a(f,v)||a(f,y)||a(f,C)||a(h,g)||a(h,v)||a(h,y)||a(h,C)||a(A,g)||a(A,v)||a(A,y)||a(A,C))return!0;var b=o(l),T=c(d,b,!0);return T.length>0};r.exports=u},84411:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p,c,o,u){return u===void 0&&(u=0),!(a>i.right+u||p<i.left-u||c>i.bottom+u||o<i.top-u)};r.exports=x},67636:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(80462),p=i(10690),c=function(o,u){return o.left>u.right||o.right<u.left||o.top>u.bottom||o.bottom<u.top?!1:!!(p(o,u.x,u.y)||a(o.getLineA(),u)||a(o.getLineB(),u)||a(o.getLineC(),u))};r.exports=c},2822:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(76112),p=function(c,o){return!!(c.contains(o.x1,o.y1)||c.contains(o.x2,o.y2)||a(c.getLineA(),o)||a(c.getLineB(),o)||a(c.getLineC(),o))};r.exports=p},82944:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(48653),p=i(71694),c=i(76112),o=function(u,l){if(u.left>l.right||u.right<l.left||u.top>l.bottom||u.bottom<l.top)return!1;var d=u.getLineA(),f=u.getLineB(),h=u.getLineC(),A=l.getLineA(),g=l.getLineB(),v=l.getLineC();if(c(d,A)||c(d,g)||c(d,v)||c(f,A)||c(f,g)||c(f,v)||c(h,A)||c(h,g)||c(h,v))return!0;var y=p(u),C=a(l,y,!0);return C.length>0||(y=p(l),C=a(u,y,!0),C.length>0)};r.exports=o},91865:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={CircleToCircle:i(2044),CircleToRectangle:i(81491),GetCircleToCircle:i(63376),GetCircleToRectangle:i(97439),GetLineToCircle:i(4042),GetLineToLine:i(36100),GetLineToPoints:i(3073),GetLineToPolygon:i(56362),GetLineToRectangle:i(60646),GetRaysFromPointToPolygon:i(71147),GetRectangleIntersection:i(68389),GetRectangleToRectangle:i(52784),GetRectangleToTriangle:i(26341),GetTriangleToCircle:i(38720),GetTriangleToLine:i(13882),GetTriangleToTriangle:i(75636),LineToCircle:i(80462),LineToLine:i(76112),LineToRectangle:i(92773),PointToLine:i(16204),PointToLineSegment:i(14199),RectangleToRectangle:i(59996),RectangleToTriangle:i(89265),RectangleToValues:i(84411),TriangleToCircle:i(67636),TriangleToLine:i(2822),TriangleToTriangle:i(82944)}},91938:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){return Math.atan2(i.y2-i.y1,i.x2-i.x1)};r.exports=x},84993:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p){a===void 0&&(a=1),p===void 0&&(p=[]);var c=Math.round(i.x1),o=Math.round(i.y1),u=Math.round(i.x2),l=Math.round(i.y2),d=Math.abs(u-c),f=Math.abs(l-o),h=c<u?1:-1,A=o<l?1:-1,g=d-f;p.push({x:c,y:o});for(var v=1;!(c===u&&o===l);){var y=g<<1;y>-f&&(g-=f,c+=h),y<d&&(g+=d,o+=A),v%a===0&&p.push({x:c,y:o}),v++}return p};r.exports=x},36469:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p){var c=a-(i.x1+i.x2)/2,o=p-(i.y1+i.y2)/2;return i.x1+=c,i.y1+=o,i.x2+=c,i.y2+=o,i};r.exports=x},31116:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(23031),p=function(c){return new a(c.x1,c.y1,c.x2,c.y2)};r.exports=p},59944:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){return a.setTo(i.x1,i.y1,i.x2,i.y2)};r.exports=x},59220:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){return i.x1===a.x1&&i.y1===a.y1&&i.x2===a.x2&&i.y2===a.y2};r.exports=x},78177:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(35001),p=function(c,o,u){u===void 0&&(u=o);var l=a(c),d=c.x2-c.x1,f=c.y2-c.y1;return o&&(c.x1=c.x1-d/l*o,c.y1=c.y1-f/l*o),u&&(c.x2=c.x2+d/l*u,c.y2=c.y2+f/l*u),c};r.exports=p},26708:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(52816),p=i(6113),c=i(2141),o=function(u,l,d,f,h){f===void 0&&(f=0),h===void 0&&(h=[]);var A=[],g=u.x1,v=u.y1,y=u.x2-g,C=u.y2-v,b=p(l,h),T,S,F=d-1;for(T=0;T<F;T++)S=b(T/F),A.push(new c(g+y*S,v+C*S));if(S=b(1),A.push(new c(g+y*S,v+C*S)),f>0){var B=A[0],N=[B];for(T=1;T<A.length-1;T++){var L=A[T];a(B,L)>=f&&(N.push(L),B=L)}var R=A[A.length-1];return a(B,R)<f&&N.pop(),N.push(R),N}else return A};r.exports=o},32125:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(2141),p=function(c,o){return o===void 0&&(o=new a),o.x=(c.x1+c.x2)/2,o.y=(c.y1+c.y2)/2,o};r.exports=p},99569:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(2141),p=function(c,o,u){u===void 0&&(u=new a);var l=c.x1,d=c.y1,f=c.x2,h=c.y2,A=(f-l)*(f-l)+(h-d)*(h-d);if(A===0)return u;var g=((o.x-l)*(f-l)+(o.y-d)*(h-d))/A;return u.x=l+g*(f-l),u.y=d+g*(h-d),u};r.exports=p},34638:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(36383),p=i(91938),c=i(2141),o=function(u,l){l===void 0&&(l=new c);var d=p(u)-a.TAU;return l.x=Math.cos(d),l.y=Math.sin(d),l};r.exports=o},13151:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(2141),p=function(c,o,u){return u===void 0&&(u=new a),u.x=c.x1+(c.x2-c.x1)*o,u.y=c.y1+(c.y2-c.y1)*o,u};r.exports=p},15258:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(35001),p=i(2141),c=function(o,u,l,d){d===void 0&&(d=[]),!u&&l>0&&(u=a(o)/l);for(var f=o.x1,h=o.y1,A=o.x2,g=o.y2,v=0;v<u;v++){var y=v/u,C=f+(A-f)*y,b=h+(g-h)*y;d.push(new p(C,b))}return d};r.exports=c},26408:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){var p=i.x1,c=i.y1,o=i.x2,u=i.y2,l=(o-p)*(o-p)+(u-c)*(u-c);if(l===0)return!1;var d=((c-a.y)*(o-p)-(p-a.x)*(u-c))/l;return Math.abs(d)*Math.sqrt(l)};r.exports=x},98770:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){return Math.abs(i.y1-i.y2)};r.exports=x},35001:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){return Math.sqrt((i.x2-i.x1)*(i.x2-i.x1)+(i.y2-i.y1)*(i.y2-i.y1))};r.exports=x},23031:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(13151),c=i(15258),o=i(23777),u=i(65822),l=i(26099),d=new a({initialize:function(h,A,g,v){h===void 0&&(h=0),A===void 0&&(A=0),g===void 0&&(g=0),v===void 0&&(v=0),this.type=o.LINE,this.x1=h,this.y1=A,this.x2=g,this.y2=v},getPoint:function(f,h){return p(this,f,h)},getPoints:function(f,h,A){return c(this,f,h,A)},getRandomPoint:function(f){return u(this,f)},setTo:function(f,h,A,g){return f===void 0&&(f=0),h===void 0&&(h=0),A===void 0&&(A=0),g===void 0&&(g=0),this.x1=f,this.y1=h,this.x2=A,this.y2=g,this},setFromObjects:function(f,h){return this.x1=f.x,this.y1=f.y,this.x2=h.x,this.y2=h.y,this},getPointA:function(f){return f===void 0&&(f=new l),f.set(this.x1,this.y1),f},getPointB:function(f){return f===void 0&&(f=new l),f.set(this.x2,this.y2),f},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(f){this.x1<=this.x2?this.x1=f:this.x2=f}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(f){this.x1>this.x2?this.x1=f:this.x2=f}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(f){this.y1<=this.y2?this.y1=f:this.y2=f}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(f){this.y1>this.y2?this.y1=f:this.y2=f}}});r.exports=d},64795:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(36383),p=i(15994),c=i(91938),o=function(u){var l=c(u)-a.TAU;return p(l,-Math.PI,Math.PI)};r.exports=o},52616:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(36383),p=i(91938),c=function(o){return Math.cos(p(o)-a.TAU)};r.exports=c},87231:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(36383),p=i(91938),c=function(o){return Math.sin(p(o)-a.TAU)};r.exports=c},89662:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p){return i.x1+=a,i.y1+=p,i.x2+=a,i.y2+=p,i};r.exports=x},71165:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){return-((i.x2-i.x1)/(i.y2-i.y1))};r.exports=x},65822:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(2141),p=function(c,o){o===void 0&&(o=new a);var u=Math.random();return o.x=c.x1+u*(c.x2-c.x1),o.y=c.y1+u*(c.y2-c.y1),o};r.exports=p},69777:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(91938),p=i(64795),c=function(o,u){return 2*p(u)-Math.PI-a(o)};r.exports=c},39706:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(64400),p=function(c,o){var u=(c.x1+c.x2)/2,l=(c.y1+c.y2)/2;return a(c,u,l,o)};r.exports=p},82585:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(64400),p=function(c,o,u){return a(c,o.x,o.y,u)};r.exports=p},64400:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p,c){var o=Math.cos(c),u=Math.sin(c),l=i.x1-a,d=i.y1-p;return i.x1=l*o-d*u+a,i.y1=l*u+d*o+p,l=i.x2-a,d=i.y2-p,i.x2=l*o-d*u+a,i.y2=l*u+d*o+p,i};r.exports=x},62377:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p,c,o){return i.x1=a,i.y1=p,i.x2=a+Math.cos(c)*o,i.y2=p+Math.sin(c)*o,i};r.exports=x},71366:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){return(i.y2-i.y1)/(i.x2-i.x1)};r.exports=x},10809:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){return Math.abs(i.x1-i.x2)};r.exports=x},2529:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(23031);a.Angle=i(91938),a.BresenhamPoints=i(84993),a.CenterOn=i(36469),a.Clone=i(31116),a.CopyFrom=i(59944),a.Equals=i(59220),a.Extend=i(78177),a.GetEasedPoints=i(26708),a.GetMidPoint=i(32125),a.GetNearestPoint=i(99569),a.GetNormal=i(34638),a.GetPoint=i(13151),a.GetPoints=i(15258),a.GetShortestDistance=i(26408),a.Height=i(98770),a.Length=i(35001),a.NormalAngle=i(64795),a.NormalX=i(52616),a.NormalY=i(87231),a.Offset=i(89662),a.PerpSlope=i(71165),a.Random=i(65822),a.ReflectAngle=i(69777),a.Rotate=i(39706),a.RotateAroundPoint=i(82585),a.RotateAroundXY=i(64400),a.SetToAngle=i(62377),a.Slope=i(71366),a.Width=i(10809),r.exports=a},83997:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(87841),c=i(26099);function o(l,d,f,h){var A=l-f,g=d-h,v=A*A+g*g;return Math.sqrt(v)}var u=new a({initialize:function(d,f,h){this.vertex1=d,this.vertex2=f,this.vertex3=h,this.bounds=new p,this._inCenter=new c},getInCenter:function(l){l===void 0&&(l=!0);var d=this.vertex1,f=this.vertex2,h=this.vertex3,A,g,v,y,C,b;l?(A=d.x,g=d.y,v=f.x,y=f.y,C=h.x,b=h.y):(A=d.vx,g=d.vy,v=f.vx,y=f.vy,C=h.vx,b=h.vy);var T=o(C,b,v,y),S=o(A,g,C,b),F=o(v,y,A,g),B=T+S+F;return this._inCenter.set((A*T+v*S+C*F)/B,(g*T+y*S+b*F)/B)},contains:function(l,d,f){var h=this.vertex1,A=this.vertex2,g=this.vertex3,v=h.vx,y=h.vy,C=A.vx,b=A.vy,T=g.vx,S=g.vy;if(f){var F=f.a,B=f.b,N=f.c,L=f.d,R=f.e,I=f.f;v=h.vx*F+h.vy*N+R,y=h.vx*B+h.vy*L+I,C=A.vx*F+A.vy*N+R,b=A.vx*B+A.vy*L+I,T=g.vx*F+g.vy*N+R,S=g.vx*B+g.vy*L+I}var M=T-v,P=S-y,U=C-v,z=b-y,W=l-v,Z=d-y,j=M*M+P*P,H=M*U+P*z,V=M*W+P*Z,k=U*U+z*z,X=U*W+z*Z,Q=j*k-H*H,J=Q===0?0:1/Q,$=(k*V-H*X)*J,_=(j*X-H*V)*J;return $>=0&&_>=0&&$+_<1},isCounterClockwise:function(l){var d=this.vertex1,f=this.vertex2,h=this.vertex3,A=(f.vx-d.vx)*(h.vy-d.vy)-(f.vy-d.vy)*(h.vx-d.vx);return l<=0?A>=0:A<0},load:function(l,d,f,h,A){return f=this.vertex1.load(l,d,f,h,A),f=this.vertex2.load(l,d,f,h,A),f=this.vertex3.load(l,d,f,h,A),f},transformCoordinatesLocal:function(l,d,f,h){return this.vertex1.transformCoordinatesLocal(l,d,f,h),this.vertex2.transformCoordinatesLocal(l,d,f,h),this.vertex3.transformCoordinatesLocal(l,d,f,h),this},updateBounds:function(){var l=this.vertex1,d=this.vertex2,f=this.vertex3,h=this.bounds;return h.x=Math.min(l.vx,d.vx,f.vx),h.y=Math.min(l.vy,d.vy,f.vy),h.width=Math.max(l.vx,d.vx,f.vx)-h.x,h.height=Math.max(l.vy,d.vy,f.vy)-h.y,this},isInView:function(l,d,f,h,A,g,v,y,C,b,T){this.update(h,A,g,v,y,C,b,T);var S=this.vertex1,F=this.vertex2,B=this.vertex3;if(S.ta<=0&&F.ta<=0&&B.ta<=0||d&&!this.isCounterClockwise(f))return!1;var N=this.bounds;N.x=Math.min(S.tx,F.tx,B.tx),N.y=Math.min(S.ty,F.ty,B.ty),N.width=Math.max(S.tx,F.tx,B.tx)-N.x,N.height=Math.max(S.ty,F.ty,B.ty)-N.y;var L=l.x+l.width,R=l.y+l.height;return N.width<=0||N.height<=0||l.width<=0||l.height<=0?!1:!(N.right<l.x||N.bottom<l.y||N.x>L||N.y>R)},scrollUV:function(l,d){return this.vertex1.scrollUV(l,d),this.vertex2.scrollUV(l,d),this.vertex3.scrollUV(l,d),this},scaleUV:function(l,d){return this.vertex1.scaleUV(l,d),this.vertex2.scaleUV(l,d),this.vertex3.scaleUV(l,d),this},setColor:function(l){return this.vertex1.color=l,this.vertex2.color=l,this.vertex3.color=l,this},update:function(l,d,f,h,A,g,v,y){return this.vertex1.update(d,f,h,A,g,v,y,l),this.vertex2.update(d,f,h,A,g,v,y,l),this.vertex3.update(d,f,h,A,g,v,y,l),this},translate:function(l,d){d===void 0&&(d=0);var f=this.vertex1,h=this.vertex2,A=this.vertex3;return f.x+=l,f.y+=d,h.x+=l,h.y+=d,A.x+=l,A.y+=d,this},x:{get:function(){return this.getInCenter().x},set:function(l){var d=this.getInCenter();this.translate(l-d.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(l){var d=this.getInCenter();this.translate(0,l-d.y)}},alpha:{get:function(){var l=this.vertex1,d=this.vertex2,f=this.vertex3;return(l.alpha+d.alpha+f.alpha)/3},set:function(l){this.vertex1.alpha=l,this.vertex2.alpha=l,this.vertex3.alpha=l}},depth:{get:function(){var l=this.vertex1,d=this.vertex2,f=this.vertex3;return(l.vz+d.vz+f.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});r.exports=u},48803:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83997),p=i(95540),c=i(37867),o=i(25836),u=i(39318),l=new o,d=new o,f=new c,h=function(A){var g=p(A,"mesh"),v=p(A,"texture",null),y=p(A,"frame"),C=p(A,"width",1),b=p(A,"height",C),T=p(A,"widthSegments",1),S=p(A,"heightSegments",T),F=p(A,"x",0),B=p(A,"y",0),N=p(A,"z",0),L=p(A,"rotateX",0),R=p(A,"rotateY",0),I=p(A,"rotateZ",0),M=p(A,"zIsUp",!0),P=p(A,"isOrtho",g?g.dirtyCache[11]:!1),U=p(A,"colors",[16777215]),z=p(A,"alphas",[1]),W=p(A,"tile",!1),Z=p(A,"flipY",!1),j=p(A,"width",null),H={faces:[],verts:[]};l.set(F,B,N),d.set(L,R,I),f.fromRotationXYTranslation(d,l,M);var V;if(!v&&g)v=g.texture,y||(V=g.frame);else if(g&&typeof v=="string")v=g.scene.sys.textures.get(v);else if(!v)return H;V||(V=v.get(y)),!j&&P&&v&&g&&(C=V.width/g.height,b=V.height/g.height);var k=C/2,X=b/2,Q=Math.floor(T),J=Math.floor(S),$=Q+1,_=J+1,te=C/Q,se=b/J,ce=[],ge=[],ue,re,Ce=0,ye=1,Ee=0,Me=1;V&&(Ce=V.u0,ye=V.u1,Z?(Ee=V.v1,Me=V.v0):(Ee=V.v0,Me=V.v1));var Be=ye-Ce,ve=Me-Ee;for(re=0;re<_;re++){var Re=re*se-X;for(ue=0;ue<$;ue++){var Pe=ue*te-k;ge.push(Pe,-Re);var Ge=Ce+Be*(ue/Q),We=Ee+ve*(re/J);ce.push(Ge,We)}}Array.isArray(U)||(U=[U]),Array.isArray(z)||(z=[z]);var at=0,qe=0;for(re=0;re<J;re++)for(ue=0;ue<Q;ue++){var Ye=(ue+$*re)*2,tt=(ue+$*(re+1))*2,Ve=(ue+1+$*(re+1))*2,ct=(ue+1+$*re)*2,ut=U[qe],Se=z[at],Xe=new u(ge[Ye],ge[Ye+1],0,ce[Ye],ce[Ye+1],ut,Se).transformMat4(f),rt=new u(ge[tt],ge[tt+1],0,ce[tt],ce[tt+1],ut,Se).transformMat4(f),Rt=new u(ge[ct],ge[ct+1],0,ce[ct],ce[ct+1],ut,Se).transformMat4(f),ft=new u(ge[tt],ge[tt+1],0,ce[tt],ce[tt+1],ut,Se).transformMat4(f),Ci=new u(ge[Ve],ge[Ve+1],0,ce[Ve],ce[Ve+1],ut,Se).transformMat4(f),Gt=new u(ge[ct],ge[ct+1],0,ce[ct],ce[ct+1],ut,Se).transformMat4(f);W&&(Xe.setUVs(Ce,Me),rt.setUVs(Ce,Ee),Rt.setUVs(ye,Me),ft.setUVs(Ce,Ee),Ci.setUVs(ye,Ee),Gt.setUVs(ye,Me)),qe++,qe===U.length&&(qe=0),at++,at===z.length&&(at=0),H.verts.push(Xe,rt,Rt,ft,Ci,Gt),H.faces.push(new a(Xe,rt,Rt),new a(ft,Ci,Gt))}return g&&(g.faces=g.faces.concat(H.faces),g.vertices=g.vertices.concat(H.verts)),H};r.exports=h},34684:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83997),p=i(37867),c=i(25836),o=i(39318),u=new c,l=new c,d=new p,f=function(h,A,g,v,y,C,b,T,S,F){g===void 0&&(g=1),v===void 0&&(v=0),y===void 0&&(y=0),C===void 0&&(C=0),b===void 0&&(b=0),T===void 0&&(T=0),S===void 0&&(S=0),F===void 0&&(F=!0);var B={faces:[],verts:[]},N=h.materials;u.set(v,y,C),l.set(b,T,S),d.fromRotationXYTranslation(l,u,F);for(var L=0;L<h.models.length;L++)for(var R=h.models[L],I=R.vertices,M=R.textureCoords,P=R.faces,U=0;U<P.length;U++){var z=P[U],W=z.vertices[0],Z=z.vertices[1],j=z.vertices[2],H=I[W.vertexIndex],V=I[Z.vertexIndex],k=I[j.vertexIndex],X=W.textureCoordsIndex,Q=Z.textureCoordsIndex,J=j.textureCoordsIndex,$=X===-1?{u:0,v:1}:M[X],_=Q===-1?{u:0,v:0}:M[Q],te=J===-1?{u:1,v:1}:M[J],se=16777215;z.material!==""&&N[z.material]&&(se=N[z.material]);var ce=new o(H.x*g,H.y*g,H.z*g,$.u,$.v,se).transformMat4(d),ge=new o(V.x*g,V.y*g,V.z*g,_.u,_.v,se).transformMat4(d),ue=new o(k.x*g,k.y*g,k.z*g,te.u,te.v,se).transformMat4(d);B.verts.push(ce,ge,ue),B.faces.push(new a(ce,ge,ue))}return A&&(A.faces=A.faces.concat(B.faces),A.vertices=A.vertices.concat(B.verts)),B};r.exports=f},92515:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83997),p=i(39318),c=function(o,u,l,d,f,h,A,g){if(d===void 0&&(d=!1),h===void 0&&(h=16777215),A===void 0&&(A=1),g===void 0&&(g=!1),o.length!==u.length&&!d){console.warn("GenerateVerts: vertices and uvs count not equal");return}var v={faces:[],vertices:[]},y,C,b,T,S,F,B,N,L,R,I,M=d?3:2,P=Array.isArray(h),U=Array.isArray(A);if(Array.isArray(l)&&l.length>0)for(y=0;y<l.length;y++){var z=l[y],W=l[y]*2,Z=l[y]*M;C=o[Z],b=o[Z+1],T=d?o[Z+2]:0,S=u[W],F=u[W+1],g&&(F=1-F),B=P?h[z]:h,N=U?A[z]:A,L=0,R=0,I=0,f&&(L=f[Z],R=f[Z+1],I=d?f[Z+2]:0),v.vertices.push(new p(C,b,T,S,F,B,N,L,R,I))}else{var j=0,H=0;for(y=0;y<o.length;y+=M)C=o[y],b=o[y+1],T=d?o[y+2]:0,S=u[j],F=u[j+1],B=P?h[H]:h,N=U?A[H]:A,L=0,R=0,I=0,f&&(L=f[y],R=f[y+1],I=d?f[y+2]:0),v.vertices.push(new p(C,b,T,S,F,B,N,L,R,I)),j+=2,H++}for(y=0;y<v.vertices.length;y+=3){var V=v.vertices[y],k=v.vertices[y+1],X=v.vertices[y+2];v.faces.push(new a(V,k,X))}return v};r.exports=c},85048:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=!0,i="untitled",a="",p="";function c(C){var b=C.indexOf("#");return b>-1?C.substring(0,b):C}function o(C){return C.models.length===0&&C.models.push({faces:[],name:i,textureCoords:[],vertexNormals:[],vertices:[]}),a="",C.models[C.models.length-1]}function u(C,b){var T=C.length>=2?C[1]:i;b.models.push({faces:[],name:T,textureCoords:[],vertexNormals:[],vertices:[]}),a=""}function l(C){C.length===2&&(a=C[1])}function d(C,b){var T=C.length,S=T>=2?parseFloat(C[1]):0,F=T>=3?parseFloat(C[2]):0,B=T>=4?parseFloat(C[3]):0;o(b).vertices.push({x:S,y:F,z:B})}function f(C,b){var T=C.length,S=T>=2?parseFloat(C[1]):0,F=T>=3?parseFloat(C[2]):0,B=T>=4?parseFloat(C[3]):0;isNaN(S)&&(S=0),isNaN(F)&&(F=0),isNaN(B)&&(B=0),x&&(F=1-F),o(b).textureCoords.push({u:S,v:F,w:B})}function h(C,b){var T=C.length,S=T>=2?parseFloat(C[1]):0,F=T>=3?parseFloat(C[2]):0,B=T>=4?parseFloat(C[3]):0;o(b).vertexNormals.push({x:S,y:F,z:B})}function A(C,b){var T=C.length-1;if(!(T<3)){for(var S={group:a,material:p,vertices:[]},F=0;F<T;F++){var B=C[F+1],N=B.split("/"),L=N.length;if(!(L<1||L>3)){var R=0,I=0,M=0;R=parseInt(N[0],10),L>1&&N[1]!==""&&(I=parseInt(N[1],10)),L>2&&(M=parseInt(N[2],10)),R!==0&&(R<0&&(R=o(b).vertices.length+1+R),I-=1,R-=1,M-=1,S.vertices.push({textureCoordsIndex:I,vertexIndex:R,vertexNormalIndex:M}))}}o(b).faces.push(S)}}function g(C,b){C.length>=2&&b.materialLibraries.push(C[1])}function v(C){C.length>=2&&(p=C[1])}var y=function(C,b){b===void 0&&(b=!0),x=b;var T={materials:{},materialLibraries:[],models:[]};a="",p="";for(var S=C.split(`
`),F=0;F<S.length;F++){var B=c(S[F]),N=B.replace(/\s\s+/g," ").trim().split(" ");switch(N[0].toLowerCase()){case"o":u(N,T);break;case"g":l(N);break;case"v":d(N,T);break;case"vt":f(N,T);break;case"vn":h(N,T);break;case"f":A(N,T);break;case"mtllib":g(N,T);break;case"usemtl":v(N);break}}return T};r.exports=y},61485:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(37589),p=function(c){for(var o={},u=c.split(`
`),l="",d=0;d<u.length;d++){var f=u[d].trim();if(!(f.indexOf("#")===0||f==="")){var h=f.replace(/\s\s+/g," ").trim().split(" ");switch(h[0].toLowerCase()){case"newmtl":{l=h[1];break}case"kd":{var A=Math.floor(h[1]*255),g=h.length>=2?Math.floor(h[2]*255):A,v=h.length>=3?Math.floor(h[3]*255):A;o[l]=a(A,g,v);break}}}}return o};r.exports=p},92570:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p,c){var o,u;if(p===void 0&&c===void 0){var l=i.getInCenter();o=l.x,u=l.y}var d=Math.cos(a),f=Math.sin(a),h=i.vertex1,A=i.vertex2,g=i.vertex3,v=h.x-o,y=h.y-u;h.set(v*d-y*f+o,v*f+y*d+u),v=A.x-o,y=A.y-u,A.set(v*d-y*f+o,v*f+y*d+u),v=g.x-o,y=g.y-u,g.set(v*d-y*f+o,v*f+y*d+u)};r.exports=x},39318:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(70554),c=i(25836),o=new a({Extends:c,initialize:function(l,d,f,h,A,g,v,y,C,b){g===void 0&&(g=16777215),v===void 0&&(v=1),y===void 0&&(y=0),C===void 0&&(C=0),b===void 0&&(b=0),c.call(this,l,d,f),this.vx=0,this.vy=0,this.vz=0,this.nx=y,this.ny=C,this.nz=b,this.u=h,this.v=A,this.color=g,this.alpha=v,this.tx=0,this.ty=0,this.ta=0,this.tu=h,this.tv=A},setUVs:function(u,l){return this.u=u,this.v=l,this.tu=u,this.tv=l,this},scrollUV:function(u,l){return this.tu+=u,this.tv+=l,this},scaleUV:function(u,l){return this.tu=this.u*u,this.tv=this.v*l,this},transformCoordinatesLocal:function(u,l,d,f){var h=this.x,A=this.y,g=this.z,v=u.val,y=h*v[0]+A*v[4]+g*v[8]+v[12],C=h*v[1]+A*v[5]+g*v[9]+v[13],b=h*v[2]+A*v[6]+g*v[10]+v[14],T=h*v[3]+A*v[7]+g*v[11]+v[15];this.vx=y/T*l,this.vy=-(C/T)*d,f<=0?this.vz=b/T:this.vz=-(b/T)},resize:function(u,l,d,f,h,A){return this.x=u,this.y=l,this.vx=this.x*d,this.vy=-this.y*f,this.vz=0,h<.5?this.vx+=d*(.5-h):h>.5&&(this.vx-=d*(h-.5)),A<.5?this.vy+=f*(.5-A):A>.5&&(this.vy-=f*(A-.5)),this},update:function(u,l,d,f,h,A,g,v){var y=this.vx*u+this.vy*d+h,C=this.vx*l+this.vy*f+A;return g&&(y=Math.round(y),C=Math.round(C)),this.tx=y,this.ty=C,this.ta=this.alpha*v,this},load:function(u,l,d,f,h){return u[++d]=this.tx,u[++d]=this.ty,u[++d]=this.tu,u[++d]=this.tv,u[++d]=f,u[++d]=h,l[++d]=p.getTintAppendFloatAlpha(this.color,this.ta),d}});r.exports=o},73090:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={Face:i(83997),GenerateGridVerts:i(48803),GenerateObjVerts:i(34684),GenerateVerts:i(92515),ParseObj:i(85048),ParseObjMaterial:i(61485),RotateFace:i(92570),Vertex:i(39318)};r.exports=a},96550:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){return i.setTo(Math.ceil(i.x),Math.ceil(i.y))};r.exports=x},99706:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(2141),p=function(c){return new a(c.x,c.y)};r.exports=p},68010:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){return a.setTo(i.x,i.y)};r.exports=x},27814:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){return i.x===a.x&&i.y===a.y};r.exports=x},73565:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){return i.setTo(Math.floor(i.x),Math.floor(i.y))};r.exports=x},87555:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(2141),p=function(c,o){if(o===void 0&&(o=new a),!Array.isArray(c))throw new Error("GetCentroid points argument must be an array");var u=c.length;if(u<1)throw new Error("GetCentroid points array must not be empty");if(u===1)o.x=c[0].x,o.y=c[0].y;else{for(var l=0;l<u;l++)o.x+=c[l].x,o.y+=c[l].y;o.x/=u,o.y/=u}return o};r.exports=p},28793:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){return Math.sqrt(i.x*i.x+i.y*i.y)};r.exports=x},44405:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){return i.x*i.x+i.y*i.y};r.exports=x},20873:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(87841),p=function(c,o){o===void 0&&(o=new a);for(var u=Number.NEGATIVE_INFINITY,l=Number.POSITIVE_INFINITY,d=Number.NEGATIVE_INFINITY,f=Number.POSITIVE_INFINITY,h=0;h<c.length;h++){var A=c[h];A.x>u&&(u=A.x),A.x<l&&(l=A.x),A.y>d&&(d=A.y),A.y<f&&(f=A.y)}return o.x=l,o.y=f,o.width=u-l,o.height=d-f,o};r.exports=p},26152:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(2141),p=function(c,o,u,l){return u===void 0&&(u=0),l===void 0&&(l=new a),l.x=c.x+(o.x-c.x)*u,l.y=c.y+(o.y-c.y)*u,l};r.exports=p},55767:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){return i.setTo(i.y,i.x)};r.exports=x},79432:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(2141),p=function(c,o){return o===void 0&&(o=new a),o.setTo(-c.x,-c.y)};r.exports=p},2141:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(23777),c=new a({initialize:function(u,l){u===void 0&&(u=0),l===void 0&&(l=u),this.type=p.POINT,this.x=u,this.y=l},setTo:function(o,u){return o===void 0&&(o=0),u===void 0&&(u=o),this.x=o,this.y=u,this}});r.exports=c},72930:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(2141),p=i(44405),c=function(o,u,l){l===void 0&&(l=new a);var d=o.x*u.x+o.y*u.y,f=d/p(u);return f!==0&&(l.x=f*u.x,l.y=f*u.y),l};r.exports=c},62880:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(2141),p=function(c,o,u){u===void 0&&(u=new a);var l=c.x*o.x+c.y*o.y;return l!==0&&(u.x=l*o.x,u.y=l*o.y),u};r.exports=p},15093:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(28793),p=function(c,o){if(c.x!==0||c.y!==0){var u=a(c);c.x/=u,c.y/=u}return c.x*=o,c.y*=o,c};r.exports=p},43711:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(2141);a.Ceil=i(96550),a.Clone=i(99706),a.CopyFrom=i(68010),a.Equals=i(27814),a.Floor=i(73565),a.GetCentroid=i(87555),a.GetMagnitude=i(28793),a.GetMagnitudeSq=i(44405),a.GetRectangleFromPoints=i(20873),a.Interpolate=i(26152),a.Invert=i(55767),a.Negative=i(79432),a.Project=i(72930),a.ProjectUnit=i(62880),a.SetMagnitude=i(15093),r.exports=a},12306:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(25717),p=function(c){return new a(c.points)};r.exports=p},63814:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p){for(var c=!1,o=-1,u=i.points.length-1;++o<i.points.length;u=o){var l=i.points[o].x,d=i.points[o].y,f=i.points[u].x,h=i.points[u].y;(d<=p&&p<h||h<=p&&p<d)&&a<(f-l)*(p-d)/(h-d)+l&&(c=!c)}return c};r.exports=x},99338:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(63814),p=function(c,o){return a(c,o.x,o.y)};r.exports=p},94811:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function x(H,V,k){k=k||2;var X=V&&V.length,Q=X?V[0]*k:H.length,J=i(H,0,Q,k,!0),$=[];if(!J||J.next===J.prev)return $;var _,te,se,ce,ge,ue,re;if(X&&(J=d(H,V,J,k)),H.length>80*k){_=se=H[0],te=ce=H[1];for(var Ce=k;Ce<Q;Ce+=k)ge=H[Ce],ue=H[Ce+1],ge<_&&(_=ge),ue<te&&(te=ue),ge>se&&(se=ge),ue>ce&&(ce=ue);re=Math.max(se-_,ce-te),re=re!==0?32767/re:0}return p(J,$,k,_,te,re,0),$}function i(H,V,k,X,Q){var J,$;if(Q===j(H,V,k,X)>0)for(J=V;J<k;J+=X)$=z(J,H[J],H[J+1],$);else for(J=k-X;J>=V;J-=X)$=z(J,H[J],H[J+1],$);return $&&B($,$.next)&&(W($),$=$.next),$}function a(H,V){if(!H)return H;V||(V=H);var k=H,X;do if(X=!1,!k.steiner&&(B(k,k.next)||F(k.prev,k,k.next)===0)){if(W(k),k=V=k.prev,k===k.next)break;X=!0}else k=k.next;while(X||k!==V);return V}function p(H,V,k,X,Q,J,$){if(H){!$&&J&&v(H,X,Q,J);for(var _=H,te,se;H.prev!==H.next;){if(te=H.prev,se=H.next,J?o(H,X,Q,J):c(H)){V.push(te.i/k|0),V.push(H.i/k|0),V.push(se.i/k|0),W(H),H=se.next,_=se.next;continue}if(H=se,H===_){$?$===1?(H=u(a(H),V,k),p(H,V,k,X,Q,J,2)):$===2&&l(H,V,k,X,Q,J):p(a(H),V,k,X,Q,J,1);break}}}}function c(H){var V=H.prev,k=H,X=H.next;if(F(V,k,X)>=0)return!1;for(var Q=V.x,J=k.x,$=X.x,_=V.y,te=k.y,se=X.y,ce=Q<J?Q<$?Q:$:J<$?J:$,ge=_<te?_<se?_:se:te<se?te:se,ue=Q>J?Q>$?Q:$:J>$?J:$,re=_>te?_>se?_:se:te>se?te:se,Ce=X.next;Ce!==V;){if(Ce.x>=ce&&Ce.x<=ue&&Ce.y>=ge&&Ce.y<=re&&T(Q,_,J,te,$,se,Ce.x,Ce.y)&&F(Ce.prev,Ce,Ce.next)>=0)return!1;Ce=Ce.next}return!0}function o(H,V,k,X){var Q=H.prev,J=H,$=H.next;if(F(Q,J,$)>=0)return!1;for(var _=Q.x,te=J.x,se=$.x,ce=Q.y,ge=J.y,ue=$.y,re=_<te?_<se?_:se:te<se?te:se,Ce=ce<ge?ce<ue?ce:ue:ge<ue?ge:ue,ye=_>te?_>se?_:se:te>se?te:se,Ee=ce>ge?ce>ue?ce:ue:ge>ue?ge:ue,Me=C(re,Ce,V,k,X),Be=C(ye,Ee,V,k,X),ve=H.prevZ,Re=H.nextZ;ve&&ve.z>=Me&&Re&&Re.z<=Be;){if(ve.x>=re&&ve.x<=ye&&ve.y>=Ce&&ve.y<=Ee&&ve!==Q&&ve!==$&&T(_,ce,te,ge,se,ue,ve.x,ve.y)&&F(ve.prev,ve,ve.next)>=0||(ve=ve.prevZ,Re.x>=re&&Re.x<=ye&&Re.y>=Ce&&Re.y<=Ee&&Re!==Q&&Re!==$&&T(_,ce,te,ge,se,ue,Re.x,Re.y)&&F(Re.prev,Re,Re.next)>=0))return!1;Re=Re.nextZ}for(;ve&&ve.z>=Me;){if(ve.x>=re&&ve.x<=ye&&ve.y>=Ce&&ve.y<=Ee&&ve!==Q&&ve!==$&&T(_,ce,te,ge,se,ue,ve.x,ve.y)&&F(ve.prev,ve,ve.next)>=0)return!1;ve=ve.prevZ}for(;Re&&Re.z<=Be;){if(Re.x>=re&&Re.x<=ye&&Re.y>=Ce&&Re.y<=Ee&&Re!==Q&&Re!==$&&T(_,ce,te,ge,se,ue,Re.x,Re.y)&&F(Re.prev,Re,Re.next)>=0)return!1;Re=Re.nextZ}return!0}function u(H,V,k){var X=H;do{var Q=X.prev,J=X.next.next;!B(Q,J)&&N(Q,X,X.next,J)&&M(Q,J)&&M(J,Q)&&(V.push(Q.i/k|0),V.push(X.i/k|0),V.push(J.i/k|0),W(X),W(X.next),X=H=J),X=X.next}while(X!==H);return a(X)}function l(H,V,k,X,Q,J){var $=H;do{for(var _=$.next.next;_!==$.prev;){if($.i!==_.i&&S($,_)){var te=U($,_);$=a($,$.next),te=a(te,te.next),p($,V,k,X,Q,J,0),p(te,V,k,X,Q,J,0);return}_=_.next}$=$.next}while($!==H)}function d(H,V,k,X){var Q=[],J,$,_,te,se;for(J=0,$=V.length;J<$;J++)_=V[J]*X,te=J<$-1?V[J+1]*X:H.length,se=i(H,_,te,X,!1),se===se.next&&(se.steiner=!0),Q.push(b(se));for(Q.sort(f),J=0;J<Q.length;J++)k=h(Q[J],k);return k}function f(H,V){return H.x-V.x}function h(H,V){var k=A(H,V);if(!k)return V;var X=U(k,H);return a(X,X.next),a(k,k.next)}function A(H,V){var k=V,X=H.x,Q=H.y,J=-1/0,$;do{if(Q<=k.y&&Q>=k.next.y&&k.next.y!==k.y){var _=k.x+(Q-k.y)*(k.next.x-k.x)/(k.next.y-k.y);if(_<=X&&_>J&&(J=_,$=k.x<k.next.x?k:k.next,_===X))return $}k=k.next}while(k!==V);if(!$)return null;var te=$,se=$.x,ce=$.y,ge=1/0,ue;k=$;do X>=k.x&&k.x>=se&&X!==k.x&&T(Q<ce?X:J,Q,se,ce,Q<ce?J:X,Q,k.x,k.y)&&(ue=Math.abs(Q-k.y)/(X-k.x),M(k,H)&&(ue<ge||ue===ge&&(k.x>$.x||k.x===$.x&&g($,k)))&&($=k,ge=ue)),k=k.next;while(k!==te);return $}function g(H,V){return F(H.prev,H,V.prev)<0&&F(V.next,H,H.next)<0}function v(H,V,k,X){var Q=H;do Q.z===0&&(Q.z=C(Q.x,Q.y,V,k,X)),Q.prevZ=Q.prev,Q.nextZ=Q.next,Q=Q.next;while(Q!==H);Q.prevZ.nextZ=null,Q.prevZ=null,y(Q)}function y(H){var V,k,X,Q,J,$,_,te,se=1;do{for(k=H,H=null,J=null,$=0;k;){for($++,X=k,_=0,V=0;V<se&&(_++,X=X.nextZ,!!X);V++);for(te=se;_>0||te>0&&X;)_!==0&&(te===0||!X||k.z<=X.z)?(Q=k,k=k.nextZ,_--):(Q=X,X=X.nextZ,te--),J?J.nextZ=Q:H=Q,Q.prevZ=J,J=Q;k=X}J.nextZ=null,se*=2}while($>1);return H}function C(H,V,k,X,Q){return H=(H-k)*Q|0,V=(V-X)*Q|0,H=(H|H<<8)&16711935,H=(H|H<<4)&252645135,H=(H|H<<2)&858993459,H=(H|H<<1)&1431655765,V=(V|V<<8)&16711935,V=(V|V<<4)&252645135,V=(V|V<<2)&858993459,V=(V|V<<1)&1431655765,H|V<<1}function b(H){var V=H,k=H;do(V.x<k.x||V.x===k.x&&V.y<k.y)&&(k=V),V=V.next;while(V!==H);return k}function T(H,V,k,X,Q,J,$,_){return(Q-$)*(V-_)>=(H-$)*(J-_)&&(H-$)*(X-_)>=(k-$)*(V-_)&&(k-$)*(J-_)>=(Q-$)*(X-_)}function S(H,V){return H.next.i!==V.i&&H.prev.i!==V.i&&!I(H,V)&&(M(H,V)&&M(V,H)&&P(H,V)&&(F(H.prev,H,V.prev)||F(H,V.prev,V))||B(H,V)&&F(H.prev,H,H.next)>0&&F(V.prev,V,V.next)>0)}function F(H,V,k){return(V.y-H.y)*(k.x-V.x)-(V.x-H.x)*(k.y-V.y)}function B(H,V){return H.x===V.x&&H.y===V.y}function N(H,V,k,X){var Q=R(F(H,V,k)),J=R(F(H,V,X)),$=R(F(k,X,H)),_=R(F(k,X,V));return!!(Q!==J&&$!==_||Q===0&&L(H,k,V)||J===0&&L(H,X,V)||$===0&&L(k,H,X)||_===0&&L(k,V,X))}function L(H,V,k){return V.x<=Math.max(H.x,k.x)&&V.x>=Math.min(H.x,k.x)&&V.y<=Math.max(H.y,k.y)&&V.y>=Math.min(H.y,k.y)}function R(H){return H>0?1:H<0?-1:0}function I(H,V){var k=H;do{if(k.i!==H.i&&k.next.i!==H.i&&k.i!==V.i&&k.next.i!==V.i&&N(k,k.next,H,V))return!0;k=k.next}while(k!==H);return!1}function M(H,V){return F(H.prev,H,H.next)<0?F(H,V,H.next)>=0&&F(H,H.prev,V)>=0:F(H,V,H.prev)<0||F(H,H.next,V)<0}function P(H,V){var k=H,X=!1,Q=(H.x+V.x)/2,J=(H.y+V.y)/2;do k.y>J!=k.next.y>J&&k.next.y!==k.y&&Q<(k.next.x-k.x)*(J-k.y)/(k.next.y-k.y)+k.x&&(X=!X),k=k.next;while(k!==H);return X}function U(H,V){var k=new Z(H.i,H.x,H.y),X=new Z(V.i,V.x,V.y),Q=H.next,J=V.prev;return H.next=V,V.prev=H,k.next=Q,Q.prev=k,X.next=k,k.prev=X,J.next=X,X.prev=J,X}function z(H,V,k,X){var Q=new Z(H,V,k);return X?(Q.next=X.next,Q.prev=X,X.next.prev=Q,X.next=Q):(Q.prev=Q,Q.next=Q),Q}function W(H){H.next.prev=H.prev,H.prev.next=H.next,H.prevZ&&(H.prevZ.nextZ=H.nextZ),H.nextZ&&(H.nextZ.prevZ=H.prevZ)}function Z(H,V,k){this.i=H,this.x=V,this.y=k,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}x.deviation=function(H,V,k,X){var Q=V&&V.length,J=Q?V[0]*k:H.length,$=Math.abs(j(H,0,J,k));if(Q)for(var _=0,te=V.length;_<te;_++){var se=V[_]*k,ce=_<te-1?V[_+1]*k:H.length;$-=Math.abs(j(H,se,ce,k))}var ge=0;for(_=0;_<X.length;_+=3){var ue=X[_]*k,re=X[_+1]*k,Ce=X[_+2]*k;ge+=Math.abs((H[ue]-H[Ce])*(H[re+1]-H[ue+1])-(H[ue]-H[re])*(H[Ce+1]-H[ue+1]))}return $===0&&ge===0?0:Math.abs((ge-$)/$)};function j(H,V,k,X){for(var Q=0,J=V,$=k-X;J<k;J+=X)Q+=(H[$]-H[J])*(H[J+1]+H[$+1]),$=J;return Q}x.flatten=function(H){for(var V=H[0][0].length,k={vertices:[],holes:[],dimensions:V},X=0,Q=0;Q<H.length;Q++){for(var J=0;J<H[Q].length;J++)for(var $=0;$<V;$++)k.vertices.push(H[Q][J][$]);Q>0&&(X+=H[Q-1].length,k.holes.push(X))}return k},r.exports=x},13829:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(87841),p=function(c,o){o===void 0&&(o=new a);for(var u=1/0,l=1/0,d=-u,f=-l,h,A=0;A<c.points.length;A++)h=c.points[A],u=Math.min(u,h.x),l=Math.min(l,h.y),d=Math.max(d,h.x),f=Math.max(f,h.y);return o.x=u,o.y=l,o.width=d-u,o.height=f-l,o};r.exports=p},26173:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){a===void 0&&(a=[]);for(var p=0;p<i.points.length;p++)a.push(i.points[p].x),a.push(i.points[p].y);return a};r.exports=x},9564:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(35001),p=i(23031),c=i(30052),o=function(u,l,d,f){f===void 0&&(f=[]);var h=u.points,A=c(u);!l&&d>0&&(l=A/d);for(var g=0;g<l;g++)for(var v=A*(g/l),y=0,C=0;C<h.length;C++){var b=h[C],T=h[(C+1)%h.length],S=new p(b.x,b.y,T.x,T.y),F=a(S);if(v<y||v>y+F){y+=F;continue}var B=S.getPoint((v-y)/F);f.push(B);break}return f};r.exports=o},30052:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(35001),p=i(23031),c=function(o){for(var u=o.points,l=0,d=0;d<u.length;d++){var f=u[d],h=u[(d+1)%u.length],A=new p(f.x,f.y,h.x,h.y);l+=a(A)}return l};r.exports=c},25717:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(63814),c=i(9564),o=i(23777),u=new a({initialize:function(d){this.type=o.POLYGON,this.area=0,this.points=[],d&&this.setTo(d)},contains:function(l,d){return p(this,l,d)},setTo:function(l){if(this.area=0,this.points=[],typeof l=="string"&&(l=l.split(" ")),!Array.isArray(l))return this;for(var d,f=0;f<l.length;f++)d={x:0,y:0},typeof l[f]=="number"||typeof l[f]=="string"?(d.x=parseFloat(l[f]),d.y=parseFloat(l[f+1]),f++):Array.isArray(l[f])?(d.x=l[f][0],d.y=l[f][1]):(d.x=l[f].x,d.y=l[f].y),this.points.push(d);return this.calculateArea(),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var l=0,d,f,h=0;h<this.points.length-1;h++)d=this.points[h],f=this.points[h+1],l+=(f.x-d.x)*(d.y+f.y);return d=this.points[0],f=this.points[this.points.length-1],l+=(d.x-f.x)*(f.y+d.y),this.area=-l*.5,this.area},getPoints:function(l,d,f){return c(this,l,d,f)}});r.exports=u},8133:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){return i.points.reverse(),i};r.exports=x},29524:r=>{function x(u,l){var d=u.x-l.x,f=u.y-l.y;return d*d+f*f}function i(u,l,d){var f=l.x,h=l.y,A=d.x-f,g=d.y-h;if(A!==0||g!==0){var v=((u.x-f)*A+(u.y-h)*g)/(A*A+g*g);v>1?(f=d.x,h=d.y):v>0&&(f+=A*v,h+=g*v)}return A=u.x-f,g=u.y-h,A*A+g*g}function a(u,l){for(var d=u[0],f=[d],h,A=1,g=u.length;A<g;A++)h=u[A],x(h,d)>l&&(f.push(h),d=h);return d!==h&&f.push(h),f}function p(u,l,d,f,h){for(var A=f,g,v=l+1;v<d;v++){var y=i(u[v],u[l],u[d]);y>A&&(g=v,A=y)}A>f&&(g-l>1&&p(u,l,g,f,h),h.push(u[g]),d-g>1&&p(u,g,d,f,h))}function c(u,l){var d=u.length-1,f=[u[0]];return p(u,0,d,l,f),f.push(u[d]),f}var o=function(u,l,d){l===void 0&&(l=1),d===void 0&&(d=!1);var f=u.points;if(f.length>2){var h=l*l;d||(f=a(f,h)),u.setTo(c(f,h))}return u};r.exports=o},5469:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(a,p){return a[0]=p[0],a[1]=p[1],a},i=function(a){var p,c=[],o=a.points;for(p=0;p<o.length;p++)c.push([o[p].x,o[p].y]);var u=[];for(c.length>0&&u.push(x([0,0],c[0])),p=0;p<c.length-1;p++){var l=c[p],d=c[p+1],f=l[0],h=l[1],A=d[0],g=d[1];u.push([.85*f+.15*A,.85*h+.15*g]),u.push([.15*f+.85*A,.15*h+.85*g])}return c.length>1&&u.push(x([0,0],c[c.length-1])),a.setTo(u)};r.exports=i},24709:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p){for(var c=i.points,o=0;o<c.length;o++)c[o].x+=a,c[o].y+=p;return i};r.exports=x},58423:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(25717);a.Clone=i(12306),a.Contains=i(63814),a.ContainsPoint=i(99338),a.Earcut=i(94811),a.GetAABB=i(13829),a.GetNumberArray=i(26173),a.GetPoints=i(9564),a.Perimeter=i(30052),a.Reverse=i(8133),a.Simplify=i(29524),a.Smooth=i(5469),a.Translate=i(24709),r.exports=a},62224:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){return i.width*i.height};r.exports=x},98615:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){return i.x=Math.ceil(i.x),i.y=Math.ceil(i.y),i};r.exports=x},31688:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){return i.x=Math.ceil(i.x),i.y=Math.ceil(i.y),i.width=Math.ceil(i.width),i.height=Math.ceil(i.height),i};r.exports=x},67502:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p){return i.x=a-i.width/2,i.y=p-i.height/2,i};r.exports=x},65085:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(87841),p=function(c){return new a(c.x,c.y,c.width,c.height)};r.exports=p},37303:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p){return i.width<=0||i.height<=0?!1:i.x<=a&&i.x+i.width>=a&&i.y<=p&&i.y+i.height>=p};r.exports=x},96553:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(37303),p=function(c,o){return a(c,o.x,o.y)};r.exports=p},70273:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){return a.width*a.height>i.width*i.height?!1:a.x>i.x&&a.x<i.right&&a.right>i.x&&a.right<i.right&&a.y>i.y&&a.y<i.bottom&&a.bottom>i.y&&a.bottom<i.bottom};r.exports=x},43459:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){return a.setTo(i.x,i.y,i.width,i.height)};r.exports=x},77493:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){return a===void 0&&(a=[]),a.push({x:i.x,y:i.y}),a.push({x:i.right,y:i.y}),a.push({x:i.right,y:i.bottom}),a.push({x:i.x,y:i.bottom}),a};r.exports=x},9219:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){return i.x===a.x&&i.y===a.y&&i.width===a.width&&i.height===a.height};r.exports=x},53751:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(8249),p=function(c,o){var u=a(c);return u<a(o)?c.setSize(o.height*u,o.height):c.setSize(o.width,o.width/u),c.setPosition(o.centerX-c.width/2,o.centerY-c.height/2)};r.exports=p},16088:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(8249),p=function(c,o){var u=a(c);return u>a(o)?c.setSize(o.height*u,o.height):c.setSize(o.width,o.width/u),c.setPosition(o.centerX-c.width/2,o.centerY-c.height/2)};r.exports=p},80774:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){return i.x=Math.floor(i.x),i.y=Math.floor(i.y),i};r.exports=x},83859:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){return i.x=Math.floor(i.x),i.y=Math.floor(i.y),i.width=Math.floor(i.width),i.height=Math.floor(i.height),i};r.exports=x},19217:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(87841),p=i(36383),c=function(o,u){if(u===void 0&&(u=new a),o.length===0)return u;for(var l=Number.MAX_VALUE,d=Number.MAX_VALUE,f=p.MIN_SAFE_INTEGER,h=p.MIN_SAFE_INTEGER,A,g,v,y=0;y<o.length;y++)A=o[y],Array.isArray(A)?(g=A[0],v=A[1]):(g=A.x,v=A.y),l=Math.min(l,g),d=Math.min(d,v),f=Math.max(f,g),h=Math.max(h,v);return u.x=l,u.y=d,u.width=f-l,u.height=h-d,u};r.exports=c},9477:(r,x,i)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(87841),p=function(c,o,u,l,d){return d===void 0&&(d=new a),d.setTo(Math.min(c,u),Math.min(o,l),Math.abs(c-u),Math.abs(o-l))};r.exports=p},8249:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){return i.height===0?NaN:i.width/i.height};r.exports=x},27165:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(2141),p=function(c,o){return o===void 0&&(o=new a),o.x=c.centerX,o.y=c.centerY,o};r.exports=p},20812:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(13019),p=i(2141),c=function(o,u,l){if(l===void 0&&(l=new p),u<=0||u>=1)return l.x=o.x,l.y=o.y,l;var d=a(o)*u;return u>.5?(d-=o.width+o.height,d<=o.width?(l.x=o.right-d,l.y=o.bottom):(l.x=o.x,l.y=o.bottom-(d-o.width))):d<=o.width?(l.x=o.x+d,l.y=o.y):(l.x=o.right,l.y=o.y+(d-o.width)),l};r.exports=c},34819:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(20812),p=i(13019),c=function(o,u,l,d){d===void 0&&(d=[]),!u&&l>0&&(u=p(o)/l);for(var f=0;f<u;f++){var h=f/u;d.push(a(o,h))}return d};r.exports=c},51313:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(2141),p=function(c,o){return o===void 0&&(o=new a),o.x=c.width,o.y=c.height,o};r.exports=p},86091:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(67502),p=function(c,o,u){var l=c.centerX,d=c.centerY;return c.setSize(c.width+o*2,c.height+u*2),a(c,l,d)};r.exports=p},53951:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(87841),p=i(59996),c=function(o,u,l){return l===void 0&&(l=new a),p(o,u)?(l.x=Math.max(o.x,u.x),l.y=Math.max(o.y,u.y),l.width=Math.min(o.right,u.right)-l.x,l.height=Math.min(o.bottom,u.bottom)-l.y):l.setEmpty(),l};r.exports=c},14649:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(13019),p=i(2141),c=function(o,u,l,d){if(d===void 0&&(d=[]),!u&&!l)return d;u?l=Math.round(a(o)/u):u=a(o)/l;for(var f=o.x,h=o.y,A=0,g=0;g<l;g++)switch(d.push(new p(f,h)),A){case 0:f+=u,f>=o.right&&(A=1,h+=f-o.right,f=o.right);break;case 1:h+=u,h>=o.bottom&&(A=2,f-=h-o.bottom,h=o.bottom);break;case 2:f-=u,f<=o.left&&(A=3,h-=o.left-f,f=o.left);break;case 3:h-=u,h<=o.top&&(A=0,h=o.top);break}return d};r.exports=c},33595:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){for(var p=i.x,c=i.right,o=i.y,u=i.bottom,l=0;l<a.length;l++)p=Math.min(p,a[l].x),c=Math.max(c,a[l].x),o=Math.min(o,a[l].y),u=Math.max(u,a[l].y);return i.x=p,i.y=o,i.width=c-p,i.height=u-o,i};r.exports=x},20074:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){var p=Math.min(i.x,a.x),c=Math.max(i.right,a.right);i.x=p,i.width=c-p;var o=Math.min(i.y,a.y),u=Math.max(i.bottom,a.bottom);return i.y=o,i.height=u-o,i};r.exports=x},92171:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p){var c=Math.min(i.x,a),o=Math.max(i.right,a);i.x=c,i.width=o-c;var u=Math.min(i.y,p),l=Math.max(i.bottom,p);return i.y=u,i.height=l-u,i};r.exports=x},42981:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p){return i.x+=a,i.y+=p,i};r.exports=x},46907:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){return i.x+=a.x,i.y+=a.y,i};r.exports=x},60170:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){return i.x<a.right&&i.right>a.x&&i.y<a.bottom&&i.bottom>a.y};r.exports=x},13019:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){return 2*(i.width+i.height)};r.exports=x},85133:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(2141),p=i(39506),c=function(o,u,l){l===void 0&&(l=new a),u=p(u);var d=Math.sin(u),f=Math.cos(u),h=f>0?o.width/2:o.width/-2,A=d>0?o.height/2:o.height/-2;return Math.abs(h*d)<Math.abs(A*f)?A=h*d/f:h=A*f/d,l.x=h+o.centerX,l.y=A+o.centerY,l};r.exports=c},26597:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(2141),p=function(c,o){return o===void 0&&(o=new a),o.x=c.x+Math.random()*c.width,o.y=c.y+Math.random()*c.height,o};r.exports=p},86470:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(30976),p=i(70273),c=i(2141),o=function(u,l,d){if(d===void 0&&(d=new c),p(u,l))switch(a(0,3)){case 0:d.x=u.x+Math.random()*(l.right-u.x),d.y=u.y+Math.random()*(l.top-u.y);break;case 1:d.x=l.x+Math.random()*(u.right-l.x),d.y=l.bottom+Math.random()*(u.bottom-l.bottom);break;case 2:d.x=u.x+Math.random()*(l.x-u.x),d.y=l.y+Math.random()*(u.bottom-l.y);break;case 3:d.x=l.right+Math.random()*(u.right-l.right),d.y=u.y+Math.random()*(l.bottom-u.y);break}return d};r.exports=o},87841:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(37303),c=i(20812),o=i(34819),u=i(23777),l=i(23031),d=i(26597),f=new a({initialize:function(A,g,v,y){A===void 0&&(A=0),g===void 0&&(g=0),v===void 0&&(v=0),y===void 0&&(y=0),this.type=u.RECTANGLE,this.x=A,this.y=g,this.width=v,this.height=y},contains:function(h,A){return p(this,h,A)},getPoint:function(h,A){return c(this,h,A)},getPoints:function(h,A,g){return o(this,h,A,g)},getRandomPoint:function(h){return d(this,h)},setTo:function(h,A,g,v){return this.x=h,this.y=A,this.width=g,this.height=v,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(h,A){return A===void 0&&(A=h),this.x=h,this.y=A,this},setSize:function(h,A){return A===void 0&&(A=h),this.width=h,this.height=A,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(h){return h===void 0&&(h=new l),h.setTo(this.x,this.y,this.right,this.y),h},getLineB:function(h){return h===void 0&&(h=new l),h.setTo(this.right,this.y,this.right,this.bottom),h},getLineC:function(h){return h===void 0&&(h=new l),h.setTo(this.right,this.bottom,this.x,this.bottom),h},getLineD:function(h){return h===void 0&&(h=new l),h.setTo(this.x,this.bottom,this.x,this.y),h},left:{get:function(){return this.x},set:function(h){h>=this.right?this.width=0:this.width=this.right-h,this.x=h}},right:{get:function(){return this.x+this.width},set:function(h){h<=this.x?this.width=0:this.width=h-this.x}},top:{get:function(){return this.y},set:function(h){h>=this.bottom?this.height=0:this.height=this.bottom-h,this.y=h}},bottom:{get:function(){return this.y+this.height},set:function(h){h<=this.y?this.height=0:this.height=h-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(h){this.x=h-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(h){this.y=h-this.height/2}}});r.exports=f},94845:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){return i.width===a.width&&i.height===a.height};r.exports=x},31730:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p){return p===void 0&&(p=a),i.width*=a,i.height*=p,i};r.exports=x},36899:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(87841),p=function(c,o,u){u===void 0&&(u=new a);var l=Math.min(c.x,o.x),d=Math.min(c.y,o.y),f=Math.max(c.right,o.right)-l,h=Math.max(c.bottom,o.bottom)-d;return u.setTo(l,d,f,h)};r.exports=p},93232:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(87841);a.Area=i(62224),a.Ceil=i(98615),a.CeilAll=i(31688),a.CenterOn=i(67502),a.Clone=i(65085),a.Contains=i(37303),a.ContainsPoint=i(96553),a.ContainsRect=i(70273),a.CopyFrom=i(43459),a.Decompose=i(77493),a.Equals=i(9219),a.FitInside=i(53751),a.FitOutside=i(16088),a.Floor=i(80774),a.FloorAll=i(83859),a.FromPoints=i(19217),a.FromXY=i(9477),a.GetAspectRatio=i(8249),a.GetCenter=i(27165),a.GetPoint=i(20812),a.GetPoints=i(34819),a.GetSize=i(51313),a.Inflate=i(86091),a.Intersection=i(53951),a.MarchingAnts=i(14649),a.MergePoints=i(33595),a.MergeRect=i(20074),a.MergeXY=i(92171),a.Offset=i(42981),a.OffsetPoint=i(46907),a.Overlaps=i(60170),a.Perimeter=i(13019),a.PerimeterPoint=i(85133),a.Random=i(26597),a.RandomOutside=i(86470),a.SameDimensions=i(94845),a.Scale=i(31730),a.Union=i(36899),r.exports=a},41658:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){var a=i.x1,p=i.y1,c=i.x2,o=i.y2,u=i.x3,l=i.y3;return Math.abs(((u-a)*(o-p)-(c-a)*(l-p))/2)};r.exports=x},39208:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(16483),p=function(c,o,u){var l=u*(Math.sqrt(3)/2),d=c,f=o,h=c+u/2,A=o+l,g=c-u/2,v=o+l;return new a(d,f,h,A,g,v)};r.exports=p},39545:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(94811),p=i(16483),c=function(o,u,l,d,f){u===void 0&&(u=null),l===void 0&&(l=1),d===void 0&&(d=1),f===void 0&&(f=[]);for(var h=a(o,u),A,g,v,y,C,b,T,S,F,B=0;B<h.length;B+=3)A=h[B],g=h[B+1],v=h[B+2],y=o[A*2]*l,C=o[A*2+1]*d,b=o[g*2]*l,T=o[g*2+1]*d,S=o[v*2]*l,F=o[v*2+1]*d,f.push(new p(y,C,b,T,S,F));return f};r.exports=c},90301:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(16483),p=function(c,o,u,l){l===void 0&&(l=u);var d=c,f=o,h=c,A=o-l,g=c+u,v=o;return new a(d,f,h,A,g,v)};r.exports=p},23707:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(97523),p=i(13584),c=function(o,u,l,d){d===void 0&&(d=a);var f=d(o),h=u-f.x,A=l-f.y;return p(o,h,A)};r.exports=c},97523:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(2141),p=function(c,o){return o===void 0&&(o=new a),o.x=(c.x1+c.x2+c.x3)/3,o.y=(c.y1+c.y2+c.y3)/3,o};r.exports=p},24951:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(26099);function p(o,u,l,d){return o*d-u*l}var c=function(o,u){u===void 0&&(u=new a);var l=o.x3,d=o.y3,f=o.x1-l,h=o.y1-d,A=o.x2-l,g=o.y2-d,v=2*p(f,h,A,g),y=p(h,f*f+h*h,g,A*A+g*g),C=p(f,f*f+h*h,A,A*A+g*g);return u.x=l-y/v,u.y=d+C/v,u};r.exports=c},85614:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(96503),p=function(c,o){o===void 0&&(o=new a);var u=c.x1,l=c.y1,d=c.x2,f=c.y2,h=c.x3,A=c.y3,g=d-u,v=f-l,y=h-u,C=A-l,b=g*(u+d)+v*(l+f),T=y*(u+h)+C*(l+A),S=2*(g*(A-f)-v*(h-d)),F,B;if(Math.abs(S)<1e-6){var N=Math.min(u,d,h),L=Math.min(l,f,A);F=(Math.max(u,d,h)-N)*.5,B=(Math.max(l,f,A)-L)*.5,o.x=N+F,o.y=L+B,o.radius=Math.sqrt(F*F+B*B)}else o.x=(C*b-v*T)/S,o.y=(g*T-y*b)/S,F=o.x-u,B=o.y-l,o.radius=Math.sqrt(F*F+B*B);return o};r.exports=p},74422:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(16483),p=function(c){return new a(c.x1,c.y1,c.x2,c.y2,c.x3,c.y3)};r.exports=p},10690:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p){var c=i.x3-i.x1,o=i.y3-i.y1,u=i.x2-i.x1,l=i.y2-i.y1,d=a-i.x1,f=p-i.y1,h=c*c+o*o,A=c*u+o*l,g=c*d+o*f,v=u*u+l*l,y=u*d+l*f,C=h*v-A*A,b=C===0?0:1/C,T=(v*g-A*y)*b,S=(h*y-A*g)*b;return T>=0&&S>=0&&T+S<1};r.exports=x},48653:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p,c){p===void 0&&(p=!1),c===void 0&&(c=[]);for(var o=i.x3-i.x1,u=i.y3-i.y1,l=i.x2-i.x1,d=i.y2-i.y1,f=o*o+u*u,h=o*l+u*d,A=l*l+d*d,g=f*A-h*h,v=g===0?0:1/g,y,C,b,T,S,F,B=i.x1,N=i.y1,L=0;L<a.length&&(b=a[L].x-B,T=a[L].y-N,S=o*b+u*T,F=l*b+d*T,y=(A*S-h*F)*v,C=(f*F-h*S)*v,!(y>=0&&C>=0&&y+C<1&&(c.push({x:a[L].x,y:a[L].y}),p)));L++);return c};r.exports=x},96006:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(10690),p=function(c,o){return a(c,o.x,o.y)};r.exports=p},71326:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){return a.setTo(i.x1,i.y1,i.x2,i.y2,i.x3,i.y3)};r.exports=x},71694:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){return a===void 0&&(a=[]),a.push({x:i.x1,y:i.y1}),a.push({x:i.x2,y:i.y2}),a.push({x:i.x3,y:i.y3}),a};r.exports=x},33522:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){return i.x1===a.x1&&i.y1===a.y1&&i.x2===a.x2&&i.y2===a.y2&&i.x3===a.x3&&i.y3===a.y3};r.exports=x},20437:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(2141),p=i(35001),c=function(o,u,l){l===void 0&&(l=new a);var d=o.getLineA(),f=o.getLineB(),h=o.getLineC();if(u<=0||u>=1)return l.x=d.x1,l.y=d.y1,l;var A=p(d),g=p(f),v=p(h),y=A+g+v,C=y*u,b=0;return C<A?(b=C/A,l.x=d.x1+(d.x2-d.x1)*b,l.y=d.y1+(d.y2-d.y1)*b):C>A+g?(C-=A+g,b=C/v,l.x=h.x1+(h.x2-h.x1)*b,l.y=h.y1+(h.y2-h.y1)*b):(C-=A,b=C/g,l.x=f.x1+(f.x2-f.x1)*b,l.y=f.y1+(f.y2-f.y1)*b),l};r.exports=c},80672:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(35001),p=i(2141),c=function(o,u,l,d){d===void 0&&(d=[]);var f=o.getLineA(),h=o.getLineB(),A=o.getLineC(),g=a(f),v=a(h),y=a(A),C=g+v+y;!u&&l>0&&(u=C/l);for(var b=0;b<u;b++){var T=C*(b/u),S=0,F=new p;T<g?(S=T/g,F.x=f.x1+(f.x2-f.x1)*S,F.y=f.y1+(f.y2-f.y1)*S):T>g+v?(T-=g+v,S=T/y,F.x=A.x1+(A.x2-A.x1)*S,F.y=A.y1+(A.y2-A.y1)*S):(T-=g,S=T/v,F.x=h.x1+(h.x2-h.x1)*S,F.y=h.y1+(h.y2-h.y1)*S),d.push(F)}return d};r.exports=c},39757:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(2141);function p(o,u,l,d){var f=o-l,h=u-d,A=f*f+h*h;return Math.sqrt(A)}var c=function(o,u){u===void 0&&(u=new a);var l=o.x1,d=o.y1,f=o.x2,h=o.y2,A=o.x3,g=o.y3,v=p(A,g,f,h),y=p(l,d,A,g),C=p(f,h,l,d),b=v+y+C;return u.x=(l*v+f*y+A*C)/b,u.y=(d*v+h*y+g*C)/b,u};r.exports=c},13584:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p){return i.x1+=a,i.y1+=p,i.x2+=a,i.y2+=p,i.x3+=a,i.y3+=p,i};r.exports=x},1376:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(35001),p=function(c){var o=c.getLineA(),u=c.getLineB(),l=c.getLineC();return a(o)+a(u)+a(l)};r.exports=p},90260:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(2141),p=function(c,o){o===void 0&&(o=new a);var u=c.x2-c.x1,l=c.y2-c.y1,d=c.x3-c.x1,f=c.y3-c.y1,h=Math.random(),A=Math.random();return h+A>=1&&(h=1-h,A=1-A),o.x=c.x1+(u*h+d*A),o.y=c.y1+(l*h+f*A),o};r.exports=p},52172:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(99614),p=i(39757),c=function(o,u){var l=p(o);return a(o,l.x,l.y,u)};r.exports=c},49907:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(99614),p=function(c,o,u){return a(c,o.x,o.y,u)};r.exports=p},99614:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p,c){var o=Math.cos(c),u=Math.sin(c),l=i.x1-a,d=i.y1-p;return i.x1=l*o-d*u+a,i.y1=l*u+d*o+p,l=i.x2-a,d=i.y2-p,i.x2=l*o-d*u+a,i.y2=l*u+d*o+p,l=i.x3-a,d=i.y3-p,i.x3=l*o-d*u+a,i.y3=l*u+d*o+p,i};r.exports=x},16483:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(10690),c=i(20437),o=i(80672),u=i(23777),l=i(23031),d=i(90260),f=new a({initialize:function(A,g,v,y,C,b){A===void 0&&(A=0),g===void 0&&(g=0),v===void 0&&(v=0),y===void 0&&(y=0),C===void 0&&(C=0),b===void 0&&(b=0),this.type=u.TRIANGLE,this.x1=A,this.y1=g,this.x2=v,this.y2=y,this.x3=C,this.y3=b},contains:function(h,A){return p(this,h,A)},getPoint:function(h,A){return c(this,h,A)},getPoints:function(h,A,g){return o(this,h,A,g)},getRandomPoint:function(h){return d(this,h)},setTo:function(h,A,g,v,y,C){return h===void 0&&(h=0),A===void 0&&(A=0),g===void 0&&(g=0),v===void 0&&(v=0),y===void 0&&(y=0),C===void 0&&(C=0),this.x1=h,this.y1=A,this.x2=g,this.y2=v,this.x3=y,this.y3=C,this},getLineA:function(h){return h===void 0&&(h=new l),h.setTo(this.x1,this.y1,this.x2,this.y2),h},getLineB:function(h){return h===void 0&&(h=new l),h.setTo(this.x2,this.y2,this.x3,this.y3),h},getLineC:function(h){return h===void 0&&(h=new l),h.setTo(this.x3,this.y3,this.x1,this.y1),h},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(h){var A=0;this.x1<=this.x2&&this.x1<=this.x3?A=this.x1-h:this.x2<=this.x1&&this.x2<=this.x3?A=this.x2-h:A=this.x3-h,this.x1-=A,this.x2-=A,this.x3-=A}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(h){var A=0;this.x1>=this.x2&&this.x1>=this.x3?A=this.x1-h:this.x2>=this.x1&&this.x2>=this.x3?A=this.x2-h:A=this.x3-h,this.x1-=A,this.x2-=A,this.x3-=A}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(h){var A=0;this.y1<=this.y2&&this.y1<=this.y3?A=this.y1-h:this.y2<=this.y1&&this.y2<=this.y3?A=this.y2-h:A=this.y3-h,this.y1-=A,this.y2-=A,this.y3-=A}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(h){var A=0;this.y1>=this.y2&&this.y1>=this.y3?A=this.y1-h:this.y2>=this.y1&&this.y2>=this.y3?A=this.y2-h:A=this.y3-h,this.y1-=A,this.y2-=A,this.y3-=A}}});r.exports=f},84435:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(16483);a.Area=i(41658),a.BuildEquilateral=i(39208),a.BuildFromPolygon=i(39545),a.BuildRight=i(90301),a.CenterOn=i(23707),a.Centroid=i(97523),a.CircumCenter=i(24951),a.CircumCircle=i(85614),a.Clone=i(74422),a.Contains=i(10690),a.ContainsArray=i(48653),a.ContainsPoint=i(96006),a.CopyFrom=i(71326),a.Decompose=i(71694),a.Equals=i(33522),a.GetPoint=i(20437),a.GetPoints=i(80672),a.InCenter=i(39757),a.Perimeter=i(1376),a.Offset=i(13584),a.Random=i(90260),a.Rotate=i(52172),a.RotateAroundPoint=i(49907),a.RotateAroundXY=i(99614),r.exports=a},74457:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p){return{gameObject:i,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:a,hitAreaCallback:p,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragStartCamera:null,dragX:0,dragY:0}};r.exports=x},84409:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){return function(p,c,o,u){var l=i.getPixelAlpha(c,o,u.texture.key,u.frame.name);return l&&l>=a}};r.exports=x},7003:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(93301),c=i(50792),o=i(8214),u=i(8443),l=i(78970),d=i(85098),f=i(42515),h=i(36210),A=i(61340),g=i(85955),v=new a({initialize:function(C,b){this.game=C,this.scaleManager,this.canvas,this.config=b,this.enabled=!0,this.events=new c,this.isOver=!0,this.defaultCursor="",this.keyboard=b.inputKeyboard?new l(this):null,this.mouse=b.inputMouse?new d(this):null,this.touch=b.inputTouch?new h(this):null,this.pointers=[],this.pointersTotal=b.inputActivePointers;for(var T=0;T<=this.pointersTotal;T++){var S=new f(this,T);S.smoothFactor=b.inputSmoothFactor,this.pointers.push(S)}this.mousePointer=b.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new A,this._tempMatrix2=new A,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],C.events.once(u.BOOT,this.boot,this)},boot:function(){var y=this.game,C=y.events;this.canvas=y.canvas,this.scaleManager=y.scale,this.events.emit(o.MANAGER_BOOT),C.on(u.PRE_RENDER,this.preRender,this),C.once(u.DESTROY,this.destroy,this)},setCanvasOver:function(y){this.isOver=!0,this.events.emit(o.GAME_OVER,y)},setCanvasOut:function(y){this.isOver=!1,this.events.emit(o.GAME_OUT,y)},preRender:function(){var y=this.game.loop.now,C=this.game.loop.delta,b=this.game.scene.getScenes(!0,!0);this.time=y,this.events.emit(o.MANAGER_UPDATE);for(var T=0;T<b.length;T++){var S=b[T];if(S.sys.input&&S.sys.input.updatePoll(y,C)&&this.globalTopOnly)return}},setDefaultCursor:function(y){this.defaultCursor=y,this.canvas.style.cursor!==y&&(this.canvas.style.cursor=y)},setCursor:function(y){y.cursor&&(this.canvas.style.cursor=y.cursor)},resetCursor:function(y,C){(C||y&&y.cursor)&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(y){y===void 0&&(y=1);var C=[];this.pointersTotal+y>10&&(y=10-this.pointersTotal);for(var b=0;b<y;b++){var T=this.pointers.length,S=new f(this,T);S.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(S),this.pointersTotal++,C.push(S)}return C},updateInputPlugins:function(y,C){var b=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var T=0;T<b.length;T++){var S=b[T];if(S.sys.input){var F=S.sys.input.update(y,C);if(F&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(y){for(var C=this.pointers,b=[],T=0;T<y.changedTouches.length;T++)for(var S=y.changedTouches[T],F=1;F<C.length;F++){var B=C[F];if(!B.active){B.touchstart(S,y),this.activePointer=B,b.push(B);break}}this.updateInputPlugins(p.TOUCH_START,b)},onTouchMove:function(y){for(var C=this.pointers,b=[],T=0;T<y.changedTouches.length;T++)for(var S=y.changedTouches[T],F=1;F<C.length;F++){var B=C[F];if(B.active&&B.identifier===S.identifier){var N=document.elementFromPoint(S.clientX,S.clientY),L=N===this.canvas;!this.isOver&&L?this.setCanvasOver(y):this.isOver&&!L&&this.setCanvasOut(y),this.isOver&&(B.touchmove(S,y),this.activePointer=B,b.push(B));break}}this.updateInputPlugins(p.TOUCH_MOVE,b)},onTouchEnd:function(y){for(var C=this.pointers,b=[],T=0;T<y.changedTouches.length;T++)for(var S=y.changedTouches[T],F=1;F<C.length;F++){var B=C[F];if(B.active&&B.identifier===S.identifier){B.touchend(S,y),b.push(B);break}}this.updateInputPlugins(p.TOUCH_END,b)},onTouchCancel:function(y){for(var C=this.pointers,b=[],T=0;T<y.changedTouches.length;T++)for(var S=y.changedTouches[T],F=1;F<C.length;F++){var B=C[F];if(B.active&&B.identifier===S.identifier){B.touchcancel(S,y),b.push(B);break}}this.updateInputPlugins(p.TOUCH_CANCEL,b)},onMouseDown:function(y){var C=this.mousePointer;C.down(y),C.updateMotion(),this.activePointer=C,this.updateInputPlugins(p.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(y){var C=this.mousePointer;C.move(y),C.updateMotion(),this.activePointer=C,this.updateInputPlugins(p.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(y){var C=this.mousePointer;C.up(y),C.updateMotion(),this.activePointer=C,this.updateInputPlugins(p.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(y){var C=this.mousePointer;C.wheel(y),this.activePointer=C,this.updateInputPlugins(p.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(y){var C=this.mouse.locked;this.mousePointer.locked=C,this.events.emit(o.POINTERLOCK_CHANGE,y,C)},inputCandidate:function(y,C){var b=y.input;if(!b||!b.enabled||!y.willRender(C))return!1;var T=!0,S=y.parentContainer;if(S)do{if(!S.willRender(C)){T=!1;break}S=S.parentContainer}while(S);return T},hitTest:function(y,C,b,T){T===void 0&&(T=this._tempHitTest);var S=this._tempPoint,F=b.scrollX,B=b.scrollY;T.length=0;var N=y.x,L=y.y;b.getWorldPoint(N,L,S),y.worldX=S.x,y.worldY=S.y;for(var R={x:0,y:0},I=this._tempMatrix,M=this._tempMatrix2,P=0;P<C.length;P++){var U=C[P];if(this.inputCandidate(U,b)){var z=S.x+F*U.scrollFactorX-F,W=S.y+B*U.scrollFactorY-B;U.parentContainer?(U.getWorldTransformMatrix(I,M),I.applyInverse(z,W,R)):g(z,W,U.x,U.y,U.rotation,U.scaleX,U.scaleY,R),this.pointWithinHitArea(U,R.x,R.y)&&T.push(U)}}return T},pointWithinHitArea:function(y,C,b){C+=y.displayOriginX,b+=y.displayOriginY;var T=y.input;return T&&T.hitAreaCallback(T.hitArea,C,b,y)?(T.localX=C,T.localY=b,!0):!1},pointWithinInteractiveObject:function(y,C,b){return y.hitArea?(C+=y.gameObject.displayOriginX,b+=y.gameObject.displayOriginY,y.localX=C,y.localY=b,y.hitAreaCallback(y.hitArea,C,b,y)):!1},transformPointer:function(y,C,b,T){var S=y.position,F=y.prevPosition;F.x=S.x,F.y=S.y;var B=this.scaleManager.transformX(C),N=this.scaleManager.transformY(b),L=y.smoothFactor;!T||L===0?(S.x=B,S.y=N):(S.x=B*L+F.x*(1-L),S.y=N*L+F.y*(1-L))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(u.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var y=0;y<this.pointers.length;y++)this.pointers[y].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});r.exports=v},48205:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(96503),p=i(87902),c=i(83419),o=i(93301),u=i(74457),l=i(84409),d=i(20339),f=i(8497),h=i(81154),A=i(8214),g=i(50792),v=i(95540),y=i(23777),C=i(89639),b=i(41212),T=i(37277),S=i(87841),F=i(37303),B=i(44594),N=i(16483),L=i(10690),R=new c({Extends:g,initialize:function(M){g.call(this),this.scene=M,this.systems=M.sys,this.settings=M.sys.settings,this.manager=M.sys.game.input,this.pluginEvents=new g,this.enabled=!0,this.displayList,this.cameras,C.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var P={cancelled:!1};this._eventContainer={stopPropagation:function(){P.cancelled=!0}},this._eventData=P,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,M.sys.events.once(B.BOOT,this.boot,this),M.sys.events.on(B.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(B.DESTROY,this.destroy,this),this.pluginEvents.emit(A.BOOT)},start:function(){var I=this.systems.events;I.on(B.TRANSITION_START,this.transitionIn,this),I.on(B.TRANSITION_OUT,this.transitionOut,this),I.on(B.TRANSITION_COMPLETE,this.transitionComplete,this),I.on(B.PRE_UPDATE,this.preUpdate,this),I.once(B.SHUTDOWN,this.shutdown,this),this.manager.events.on(A.GAME_OUT,this.onGameOut,this),this.manager.events.on(A.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(A.START)},onGameOver:function(I){this.isActive()&&this.emit(A.GAME_OVER,I.timeStamp,I)},onGameOut:function(I){this.isActive()&&this.emit(A.GAME_OUT,I.timeStamp,I)},preUpdate:function(){this.pluginEvents.emit(A.PRE_UPDATE);var I=this._pendingRemoval,M=this._pendingInsertion,P=I.length,U=M.length;if(!(P===0&&U===0)){for(var z=this._list,W=0;W<P;W++){var Z=I[W],j=z.indexOf(Z);j>-1&&(z.splice(j,1),this.clear(Z,!0))}this._pendingRemoval.length=0,this._list=z.concat(M.splice(0))}},isActive:function(){return this.manager&&this.manager.enabled&&this.enabled&&this.scene.sys.canInput()},setCursor:function(I){this.manager&&this.manager.setCursor(I)},resetCursor:function(){this.manager&&this.manager.resetCursor(null,!0)},updatePoll:function(I,M){if(!this.isActive())return!1;if(this.pluginEvents.emit(A.UPDATE,I,M),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var P,U=this.manager,z=U.pointers;for(P=0;P<z.length;P++)z[P].updateMotion();if(this._list.length===0)return!1;var W=this.pollRate;if(W===-1)return!1;if(W>0)if(this._pollTimer-=M,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var Z=!1;for(P=0;P<z.length;P++){var j=0,H=z[P];this._tempZones=[],this._temp=this.hitTestPointer(H),this.sortGameObjects(this._temp,H),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),j+=this.processOverOutEvents(H),this.getDragState(H)===2&&this.processDragThresholdEvent(H,I),j>0&&(Z=!0)}return Z},update:function(I,M){if(!this.isActive())return!1;for(var P=!1,U=0;U<M.length;U++){var z=0,W=M[U];switch(this._tempZones=[],this._temp=this.hitTestPointer(W),this.sortGameObjects(this._temp,W),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),I){case o.MOUSE_DOWN:z+=this.processDragDownEvent(W),z+=this.processDownEvents(W),z+=this.processOverOutEvents(W);break;case o.MOUSE_UP:z+=this.processDragUpEvent(W),z+=this.processUpEvents(W),z+=this.processOverOutEvents(W);break;case o.TOUCH_START:z+=this.processDragDownEvent(W),z+=this.processDownEvents(W),z+=this.processOverEvents(W);break;case o.TOUCH_END:case o.TOUCH_CANCEL:z+=this.processDragUpEvent(W),z+=this.processUpEvents(W),z+=this.processOutEvents(W);break;case o.MOUSE_MOVE:case o.TOUCH_MOVE:z+=this.processDragMoveEvent(W),z+=this.processMoveEvents(W),z+=this.processOverOutEvents(W);break;case o.MOUSE_WHEEL:z+=this.processWheelEvent(W);break}z>0&&(P=!0)}return this._updatedThisFrame=!0,P},clear:function(I,M){M===void 0&&(M=!1),this.disable(I);var P=I.input;P&&(this.removeDebug(I),this.manager.resetCursor(P),P.gameObject=void 0,P.target=void 0,P.hitArea=void 0,P.hitAreaCallback=void 0,P.callbackContext=void 0,I.input=null),M||this.queueForRemoval(I);var U=this._draggable.indexOf(I);return U>-1&&this._draggable.splice(U,1),I},disable:function(I,M){M===void 0&&(M=!1);var P=I.input;P&&(P.enabled=!1,P.dragState=0);for(var U=this._drag,z=this._over,W=this.manager,Z=0,j;Z<W.pointers.length;Z++)j=U[Z].indexOf(I),j>-1&&U[Z].splice(j,1),j=z[Z].indexOf(I),j>-1&&z[Z].splice(j,1);return M&&this.resetCursor(),this},enable:function(I,M,P,U){return U===void 0&&(U=!1),I.input?I.input.enabled=!0:this.setHitArea(I,M,P),I.input&&U&&!I.input.dropZone&&(I.input.dropZone=U),this},hitTestPointer:function(I){for(var M=this.cameras.getCamerasBelowPointer(I),P=0;P<M.length;P++){for(var U=M[P],z=this.manager.hitTest(I,this._list,U),W=0;W<z.length;W++){var Z=z[W];Z.input.dropZone&&this._tempZones.push(Z)}if(z.length>0)return I.camera=U,z}return I.camera=M[0],[]},processDownEvents:function(I){var M=0,P=this._temp,U=this._eventData,z=this._eventContainer;U.cancelled=!1;for(var W=0;W<P.length;W++){var Z=P[W];if(!(!Z.input||!Z.input.enabled)&&(M++,Z.emit(A.GAMEOBJECT_POINTER_DOWN,I,Z.input.localX,Z.input.localY,z),U.cancelled||!this.isActive()||Z.input&&Z.input.enabled&&(this.emit(A.GAMEOBJECT_DOWN,I,Z,z),U.cancelled||!this.isActive())))break}return!U.cancelled&&this.isActive()&&(I.downElement===this.manager.game.canvas?this.emit(A.POINTER_DOWN,I,P):this.emit(A.POINTER_DOWN_OUTSIDE,I)),M},getDragState:function(I){return this._dragState[I.id]},setDragState:function(I,M){this._dragState[I.id]=M},processDragThresholdEvent:function(I,M){var P=!1,U=this.dragTimeThreshold,z=this.dragDistanceThreshold;if((z>0&&d(I.x,I.y,I.downX,I.downY)>=z||U>0&&M>=I.downTime+U)&&(P=!0),P)return this.setDragState(I,3),this.processDragStartList(I)},processDragStartList:function(I){if(this.getDragState(I)!==3)return 0;var M=this._drag[I.id];M.length>1&&(M=M.slice(0));for(var P=0;P<M.length;P++){var U=M[P],z=U.input;z.dragState=2,z.dragStartX=U.x,z.dragStartY=U.y,z.dragStartXGlobal=I.worldX,z.dragStartYGlobal=I.worldY,z.dragStartCamera=I.camera,z.dragX=z.dragStartXGlobal-z.dragStartX,z.dragY=z.dragStartYGlobal-z.dragStartY,U.emit(A.GAMEOBJECT_DRAG_START,I,z.dragX,z.dragY),this.emit(A.DRAG_START,I,U)}return this.setDragState(I,4),M.length},processDragDownEvent:function(I){var M=this._temp;if(this._draggable.length===0||M.length===0||!I.primaryDown||this.getDragState(I)!==0)return 0;this.setDragState(I,1);for(var P=[],U=0;U<M.length;U++){var z=M[U];z.input.draggable&&z.input.dragState===0&&P.push(z)}return P.length===0?(this.setDragState(I,0),0):(P.length>1&&(this.sortGameObjects(P,I),this.topOnly&&P.splice(1)),this._drag[I.id]=P,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(I,3),this.processDragStartList(I)):(this.setDragState(I,2),0))},processDragMoveEvent:function(I){if(this.getDragState(I)===2&&this.processDragThresholdEvent(I,this.manager.game.loop.now),this.getDragState(I)!==4)return 0;var M=this._tempZones,P=this._drag[I.id];P.length>1&&(P=P.slice(0));for(var U=0;U<P.length;U++){var z=P[U],W=z.input,Z=W.target;if(Z){var j=M.indexOf(Z);j===0?(z.emit(A.GAMEOBJECT_DRAG_OVER,I,Z),this.emit(A.DRAG_OVER,I,z,Z)):j>0?(z.emit(A.GAMEOBJECT_DRAG_LEAVE,I,Z),this.emit(A.DRAG_LEAVE,I,z,Z),W.target=M[0],Z=W.target,z.emit(A.GAMEOBJECT_DRAG_ENTER,I,Z),this.emit(A.DRAG_ENTER,I,z,Z)):(z.emit(A.GAMEOBJECT_DRAG_LEAVE,I,Z),this.emit(A.DRAG_LEAVE,I,z,Z),M[0]?(W.target=M[0],Z=W.target,z.emit(A.GAMEOBJECT_DRAG_ENTER,I,Z),this.emit(A.DRAG_ENTER,I,z,Z)):W.target=null)}else!Z&&M[0]&&(W.target=M[0],Z=W.target,z.emit(A.GAMEOBJECT_DRAG_ENTER,I,Z),this.emit(A.DRAG_ENTER,I,z,Z));var H,V,k=I.positionToCamera(W.dragStartCamera);if(!z.parentContainer)H=k.x-W.dragX,V=k.y-W.dragY;else{var X=k.x-W.dragStartXGlobal,Q=k.y-W.dragStartYGlobal,J=z.getParentRotation(),$=X*Math.cos(J)+Q*Math.sin(J),_=Q*Math.cos(J)-X*Math.sin(J);$*=1/z.parentContainer.scaleX,_*=1/z.parentContainer.scaleY,H=$+W.dragStartX,V=_+W.dragStartY}z.emit(A.GAMEOBJECT_DRAG,I,H,V),this.emit(A.DRAG,I,z,H,V)}return P.length},processDragUpEvent:function(I){var M=this._drag[I.id];M.length>1&&(M=M.slice(0));for(var P=0;P<M.length;P++){var U=M[P],z=U.input;if(z&&z.dragState===2){z.dragState=0,z.dragX=z.localX-U.displayOriginX,z.dragY=z.localY-U.displayOriginY,z.dragStartCamera=null;var W=!1,Z=z.target;Z&&(U.emit(A.GAMEOBJECT_DROP,I,Z),this.emit(A.DROP,I,U,Z),z.target=null,W=!0),U.input&&U.input.enabled&&(U.emit(A.GAMEOBJECT_DRAG_END,I,z.dragX,z.dragY,W),this.emit(A.DRAG_END,I,U,W))}}return this.setDragState(I,0),M.splice(0),0},processMoveEvents:function(I){var M=0,P=this._temp,U=this._eventData,z=this._eventContainer;U.cancelled=!1;for(var W=0;W<P.length;W++){var Z=P[W];if(!(!Z.input||!Z.input.enabled)&&(M++,Z.emit(A.GAMEOBJECT_POINTER_MOVE,I,Z.input.localX,Z.input.localY,z),U.cancelled||!this.isActive()||Z.input&&Z.input.enabled&&(this.emit(A.GAMEOBJECT_MOVE,I,Z,z),U.cancelled||!this.isActive()||this.topOnly)))break}return!U.cancelled&&this.isActive()&&this.emit(A.POINTER_MOVE,I,P),M},processWheelEvent:function(I){var M=0,P=this._temp,U=this._eventData,z=this._eventContainer;U.cancelled=!1;for(var W=I.deltaX,Z=I.deltaY,j=I.deltaZ,H=0;H<P.length;H++){var V=P[H];if(!(!V.input||!V.input.enabled)&&(M++,V.emit(A.GAMEOBJECT_POINTER_WHEEL,I,W,Z,j,z),U.cancelled||!this.isActive()||V.input&&V.input.enabled&&(this.emit(A.GAMEOBJECT_WHEEL,I,V,W,Z,j,z),U.cancelled||!this.isActive())))break}return!U.cancelled&&this.isActive()&&this.emit(A.POINTER_WHEEL,I,P,W,Z,j),M},processOverEvents:function(I){var M=this._temp,P=0,U=M.length,z=[];if(U>0){var W=this.manager,Z=this._eventData,j=this._eventContainer;Z.cancelled=!1;for(var H=0;H<U;H++){var V=M[H];if(!(!V.input||!V.input.enabled)&&(z.push(V),W.setCursor(V.input),V.emit(A.GAMEOBJECT_POINTER_OVER,I,V.input.localX,V.input.localY,j),P++,Z.cancelled||!this.isActive()||V.input&&V.input.enabled&&(this.emit(A.GAMEOBJECT_OVER,I,V,j),Z.cancelled||!this.isActive())))break}!Z.cancelled&&this.isActive()&&this.emit(A.POINTER_OVER,I,z)}return this._over[I.id]=z,P},processOutEvents:function(I){var M=this._over[I.id],P=0,U=M.length;if(U>0){var z=this.manager,W=this._eventData,Z=this._eventContainer;W.cancelled=!1,this.sortGameObjects(M,I);for(var j=0;j<U;j++){var H=M[j];if(H=M[j],!(!H.input||!H.input.enabled)&&(z.resetCursor(H.input),H.emit(A.GAMEOBJECT_POINTER_OUT,I,Z),P++,W.cancelled||!this.isActive()||H.input&&H.input.enabled&&(this.emit(A.GAMEOBJECT_OUT,I,H,Z),W.cancelled||!this.isActive())))break}!W.cancelled&&this.isActive()&&this.emit(A.POINTER_OUT,I,M),this._over[I.id]=[]}return P},processOverOutEvents:function(I){var M=this._temp,P,U,z=[],W=[],Z=[],j=this._over[I.id],H=this._drag[I.id],V=this.manager;for(P=0;P<j.length;P++)U=j[P],M.indexOf(U)===-1&&H.indexOf(U)===-1?z.push(U):Z.push(U);for(P=0;P<M.length;P++)U=M[P],j.indexOf(U)===-1&&W.push(U);var k=z.length,X=0,Q=this._eventData,J=this._eventContainer;if(Q.cancelled=!1,k>0){for(this.sortGameObjects(z,I),P=0;P<k&&(U=z[P],!(!(!U.input||!U.input.enabled)&&(V.resetCursor(U.input),U.emit(A.GAMEOBJECT_POINTER_OUT,I,J),X++,Q.cancelled||!this.isActive()||U.input&&U.input.enabled&&(this.emit(A.GAMEOBJECT_OUT,I,U,J),Q.cancelled||!this.isActive()))));P++);(!Q.cancelled||this.isActive())&&this.emit(A.POINTER_OUT,I,z)}if(k=W.length,Q.cancelled=!1,k>0){for(this.sortGameObjects(W,I),P=0;P<k&&(U=W[P],!(!(!U.input||!U.input.enabled)&&(V.setCursor(U.input),U.emit(A.GAMEOBJECT_POINTER_OVER,I,U.input.localX,U.input.localY,J),X++,Q.cancelled||!this.isActive()||U.input&&U.input.enabled&&(this.emit(A.GAMEOBJECT_OVER,I,U,J),Q.cancelled||!this.isActive()))));P++);!Q.cancelled&&this.isActive()&&this.emit(A.POINTER_OVER,I,W)}return j=Z.concat(W),this._over[I.id]=this.sortGameObjects(j,I),X},processUpEvents:function(I){var M=this._temp,P=this._eventData,U=this._eventContainer;P.cancelled=!1;for(var z=0;z<M.length;z++){var W=M[z];if(!(!W.input||!W.input.enabled)&&(W.emit(A.GAMEOBJECT_POINTER_UP,I,W.input.localX,W.input.localY,U),P.cancelled||!this.isActive()||W.input&&W.input.enabled&&(this.emit(A.GAMEOBJECT_UP,I,W,U),P.cancelled||!this.isActive())))break}return!P.cancelled&&this.isActive()&&(I.upElement===this.manager.game.canvas?this.emit(A.POINTER_UP,I,M):this.emit(A.POINTER_UP_OUTSIDE,I)),M.length},forceDownState:function(I,M){this.forceState(I,M,A.GAMEOBJECT_POINTER_DOWN,A.GAMEOBJECT_DOWN,!1)},forceUpState:function(I,M){this.forceState(I,M,A.GAMEOBJECT_POINTER_UP,A.GAMEOBJECT_UP,!1)},forceOverState:function(I,M){this.forceState(I,M,A.GAMEOBJECT_POINTER_OVER,A.GAMEOBJECT_OVER,!0)},forceOutState:function(I,M){this.forceState(I,M,A.GAMEOBJECT_POINTER_OUT,A.GAMEOBJECT_OUT,!1)},forceState:function(I,M,P,U,z){var W=this._eventData,Z=this._eventContainer;W.cancelled=!1,M.input&&M.input.enabled&&(M.emit(P,I,M.input.localX,M.input.localY,Z),z&&this.setCursor(M.input),!W.cancelled&&this.isActive()&&M.input&&M.input.enabled&&this.emit(U,I,M,Z))},queueForInsertion:function(I){return this._pendingInsertion.indexOf(I)===-1&&this._list.indexOf(I)===-1&&this._pendingInsertion.push(I),this},queueForRemoval:function(I){return this._pendingRemoval.push(I),this},setDraggable:function(I,M){M===void 0&&(M=!0),Array.isArray(I)||(I=[I]);for(var P=0;P<I.length;P++){var U=I[P];U.input.draggable=M;var z=this._draggable.indexOf(U);M&&z===-1?this._draggable.push(U):!M&&z>-1&&this._draggable.splice(z,1)}return this},makePixelPerfect:function(I){I===void 0&&(I=1);var M=this.systems.textures;return l(M,I)},setHitArea:function(I,M,P){if(M===void 0)return this.setHitAreaFromTexture(I);Array.isArray(I)||(I=[I]);var U=!1,z=!1,W=!1,Z=!1,j=!1,H=!0;if(b(M)&&Object.keys(M).length){var V=M,k=I.some(function(_){return _.hasOwnProperty("faces")});if(!k){M=v(V,"hitArea",null),P=v(V,"hitAreaCallback",null),j=v(V,"pixelPerfect",!1);var X=v(V,"alphaTolerance",1);j&&(M={},P=this.makePixelPerfect(X))}U=v(V,"draggable",!1),z=v(V,"dropZone",!1),W=v(V,"cursor",!1),Z=v(V,"useHandCursor",!1),(!M||!P)&&(this.setHitAreaFromTexture(I),H=!1)}else typeof M=="function"&&!P&&(P=M,M={});for(var Q=0;Q<I.length;Q++){var J=I[Q];if(j&&J.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var $=J.input?J.input:u(J,M,P);$.customHitArea=H,$.dropZone=z,$.cursor=Z?"pointer":W,J.input=$,U&&this.setDraggable(J),this.queueForInsertion(J)}return this},setHitAreaCircle:function(I,M,P,U,z){z===void 0&&(z=p);var W=new a(M,P,U);return this.setHitArea(I,W,z)},setHitAreaEllipse:function(I,M,P,U,z,W){W===void 0&&(W=h);var Z=new f(M,P,U,z);return this.setHitArea(I,Z,W)},setHitAreaFromTexture:function(I,M){M===void 0&&(M=F),Array.isArray(I)||(I=[I]);for(var P=0;P<I.length;P++){var U=I[P],z=U.frame,W=0,Z=0;if(U.width?(W=U.width,Z=U.height):z&&(W=z.realWidth,Z=z.realHeight),U.type==="Container"&&(W===0||Z===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}W!==0&&Z!==0&&(U.input=u(U,new S(0,0,W,Z),M),this.queueForInsertion(U))}return this},setHitAreaRectangle:function(I,M,P,U,z,W){W===void 0&&(W=F);var Z=new S(M,P,U,z);return this.setHitArea(I,Z,W)},setHitAreaTriangle:function(I,M,P,U,z,W,Z,j){j===void 0&&(j=L);var H=new N(M,P,U,z,W,Z);return this.setHitArea(I,H,j)},enableDebug:function(I,M){M===void 0&&(M=65280);var P=I.input;if(!P||!P.hitArea)return this;var U=P.hitArea,z=U.type,W=P.hitAreaDebug,Z=this.systems.add,j=this.systems.updateList;W&&(j.remove(W),W.destroy(),W=null);var H=0,V=0;switch(z){case y.CIRCLE:W=Z.arc(0,0,U.radius),H=U.x-U.radius,V=U.y-U.radius;break;case y.ELLIPSE:W=Z.ellipse(0,0,U.width,U.height),H=U.x-U.width/2,V=U.y-U.height/2;break;case y.LINE:W=Z.line(0,0,U.x1,U.y1,U.x2,U.y2);break;case y.POLYGON:W=Z.polygon(0,0,U.points);break;case y.RECTANGLE:W=Z.rectangle(0,0,U.width,U.height),H=U.x,V=U.y;break;case y.TRIANGLE:W=Z.triangle(0,0,U.x1,U.y1,U.x2,U.y2,U.x3,U.y3);break}return W&&(W.isFilled=!1,W.strokeColor=M,W.preUpdate=function(){W.setVisible(I.visible),W.setStrokeStyle(1/I.scale,W.strokeColor),W.setDisplayOrigin(I.displayOriginX,I.displayOriginY);var k=I.x,X=I.y,Q=I.rotation,J=I.scaleX,$=I.scaleY;if(I.parentContainer){var _=I.getWorldTransformMatrix();k=_.tx,X=_.ty,Q=_.rotation,J=_.scaleX,$=_.scaleY}W.setRotation(Q),W.setScale(J,$),W.setPosition(k+H*J,X+V*$),W.setScrollFactor(I.scrollFactorX,I.scrollFactorY),W.setDepth(I.depth)},j.add(W),P.hitAreaDebug=W),this},removeDebug:function(I){var M=I.input;if(M&&M.hitAreaDebug){var P=M.hitAreaDebug;P.destroy(),M.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(I){return this.pollRate=I,this._pollTimer=0,this},setGlobalTopOnly:function(I){return this.manager.globalTopOnly=I,this},setTopOnly:function(I){return this.topOnly=I,this},sortGameObjects:function(I,M){if(I.length<2||!M.camera)return I;var P=M.camera.renderList;return I.sort(function(U,z){var W=Math.max(P.indexOf(U),0),Z=Math.max(P.indexOf(z),0);return Z-W})},sortDropZones:function(I){return I.length<2?I:(this.scene.sys.depthSort(),I.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(I,M){if(!I.parentContainer&&!M.parentContainer)return this.displayList.getIndex(M)-this.displayList.getIndex(I);if(I.parentContainer===M.parentContainer)return M.parentContainer.getIndex(M)-I.parentContainer.getIndex(I);if(I.parentContainer===M)return-1;if(M.parentContainer===I)return 1;for(var P=I.getIndexList(),U=M.getIndexList(),z=Math.min(P.length,U.length),W=0;W<z;W++){var Z=P[W],j=U[W];if(Z!==j)return j-Z}return U.length-P.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(I){return this.manager.addPointer(I)},setDefaultCursor:function(I){return this.manager.setDefaultCursor(I),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(A.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var I=0;I<10;I++)this._drag[I]=[],this._over[I]=[];this.removeAllListeners();var M=this.manager;M.canvas.style.cursor=M.defaultCursor;var P=this.systems.events;P.off(B.TRANSITION_START,this.transitionIn,this),P.off(B.TRANSITION_OUT,this.transitionOut,this),P.off(B.TRANSITION_COMPLETE,this.transitionComplete,this),P.off(B.PRE_UPDATE,this.preUpdate,this),M.events.off(A.GAME_OUT,this.onGameOut,this),M.events.off(A.GAME_OVER,this.onGameOver,this),P.off(B.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var I=this.manager.pointers,M=0;M<I.length;M++)I[M].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(A.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(B.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});T.register("InputPlugin",R,"input"),r.exports=R},89639:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(35154),p={},c={};c.register=function(o,u,l,d,f){p[o]={plugin:u,mapping:l,settingsKey:d,configKey:f}},c.getPlugin=function(o){return p[o]},c.install=function(o){var u=o.scene.sys,l=u.settings.input,d=u.game.config;for(var f in p){var h=p[f].plugin,A=p[f].mapping,g=p[f].settingsKey,v=p[f].configKey;a(l,g,d[v])&&(o[A]=new h(o))}},c.remove=function(o){p.hasOwnProperty(o)&&delete p[o]},r.exports=c},42515:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(31040),p=i(83419),c=i(20339),o=i(43855),u=i(47235),l=i(26099),d=i(25892),f=new p({initialize:function(A,g){this.manager=A,this.id=g,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new l,this.prevPosition=new l,this.midPoint=new l(-1,-1),this.velocity=new l,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=g===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(h){var A=h.getWorldPoint(this.x,this.y);return this.worldX=A.x,this.worldY=A.y,this},positionToCamera:function(h,A){return h.getWorldPoint(this.x,this.y,A)},updateMotion:function(){var h=this.position.x,A=this.position.y,g=this.midPoint.x,v=this.midPoint.y;if(!(h===g&&A===v)){var y=u(this.motionFactor,g,h),C=u(this.motionFactor,v,A);o(y,h,.1)&&(y=h),o(C,A,.1)&&(C=A),this.midPoint.set(y,C);var b=h-y,T=A-C;this.velocity.set(b,T),this.angle=a(y,C,h,A),this.distance=Math.sqrt(b*b+T*T)}},up:function(h){"buttons"in h&&(this.buttons=h.buttons),this.event=h,this.button=h.button,this.upElement=h.target,this.manager.transformPointer(this,h.pageX,h.pageY,!1),h.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=h.timeStamp,this.wasTouch=!1)},down:function(h){"buttons"in h&&(this.buttons=h.buttons),this.event=h,this.button=h.button,this.downElement=h.target,this.manager.transformPointer(this,h.pageX,h.pageY,!1),h.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),d.macOS&&h.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=h.timeStamp),this.wasTouch=!1},move:function(h){"buttons"in h&&(this.buttons=h.buttons),this.event=h,this.manager.transformPointer(this,h.pageX,h.pageY,!0),this.locked&&(this.movementX=h.movementX||h.mozMovementX||h.webkitMovementX||0,this.movementY=h.movementY||h.mozMovementY||h.webkitMovementY||0),this.moveTime=h.timeStamp,this.wasTouch=!1},wheel:function(h){"buttons"in h&&(this.buttons=h.buttons),this.event=h,this.manager.transformPointer(this,h.pageX,h.pageY,!1),this.deltaX=h.deltaX,this.deltaY=h.deltaY,this.deltaZ=h.deltaZ,this.wasTouch=!1},touchstart:function(h,A){h.pointerId&&(this.pointerId=h.pointerId),this.identifier=h.identifier,this.target=h.target,this.active=!0,this.buttons=1,this.event=A,this.downElement=h.target,this.manager.transformPointer(this,h.pageX,h.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=A.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(h,A){this.event=A,this.manager.transformPointer(this,h.pageX,h.pageY,!0),this.moveTime=A.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(h,A){this.buttons=0,this.event=A,this.upElement=h.target,this.manager.transformPointer(this,h.pageX,h.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=A.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(h,A){this.buttons=0,this.event=A,this.upElement=h.target,this.manager.transformPointer(this,h.pageX,h.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=A.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.buttons===0?this.button===0&&!this.isDown:this.button===0},rightButtonReleased:function(){return this.buttons===0?this.button===2&&!this.isDown:this.button===2},middleButtonReleased:function(){return this.buttons===0?this.button===1&&!this.isDown:this.button===1},backButtonReleased:function(){return this.buttons===0?this.button===3&&!this.isDown:this.button===3},forwardButtonReleased:function(){return this.buttons===0?this.button===4&&!this.isDown:this.button===4},getDistance:function(){return this.isDown?c(this.downX,this.downY,this.x,this.y):c(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?a(this.downX,this.downY,this.x,this.y):a(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(h,A){h===void 0&&(h=10),A===void 0&&(A=[]);for(var g=this.prevPosition.x,v=this.prevPosition.y,y=this.position.x,C=this.position.y,b=0;b<h;b++){var T=1/h*b;A[b]={x:u(T,g,y),y:u(T,v,C)}}return A},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=this.id===0},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(h){this.position.x=h}},y:{get:function(){return this.position.y},set:function(h){this.position.y=h}},time:{get:function(){return this.event?this.event.timeStamp:0}}});r.exports=f},93301:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};r.exports=x},7179:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="boot"},85375:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="destroy"},39843:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragend"},23388:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragenter"},16133:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="drag"},27829:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragleave"},53904:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragover"},56058:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragstart"},2642:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="drop"},88171:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="gameobjectdown"},36147:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragend"},71692:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragenter"},96149:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="drag"},81285:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragleave"},74048:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragover"},21322:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragstart"},49378:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="drop"},86754:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="gameobjectmove"},86433:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="gameobjectout"},60709:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="gameobjectover"},24081:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointerdown"},11172:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointermove"},18907:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointerout"},95579:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointerover"},35368:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointerup"},26972:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="wheel"},47078:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="gameobjectup"},73802:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="gameobjectwheel"},56718:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="gameout"},25936:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="gameover"},27503:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="boot"},50852:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="process"},96438:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="update"},59152:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointerlockchange"},47777:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointerdown"},27957:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointerdownoutside"},19444:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointermove"},54251:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointerout"},18667:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointerover"},27192:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointerup"},24652:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointerupoutside"},45132:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="wheel"},44512:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="preupdate"},15757:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="shutdown"},41637:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="start"},93802:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="update"},8214:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={BOOT:i(7179),DESTROY:i(85375),DRAG_END:i(39843),DRAG_ENTER:i(23388),DRAG:i(16133),DRAG_LEAVE:i(27829),DRAG_OVER:i(53904),DRAG_START:i(56058),DROP:i(2642),GAME_OUT:i(56718),GAME_OVER:i(25936),GAMEOBJECT_DOWN:i(88171),GAMEOBJECT_DRAG_END:i(36147),GAMEOBJECT_DRAG_ENTER:i(71692),GAMEOBJECT_DRAG:i(96149),GAMEOBJECT_DRAG_LEAVE:i(81285),GAMEOBJECT_DRAG_OVER:i(74048),GAMEOBJECT_DRAG_START:i(21322),GAMEOBJECT_DROP:i(49378),GAMEOBJECT_MOVE:i(86754),GAMEOBJECT_OUT:i(86433),GAMEOBJECT_OVER:i(60709),GAMEOBJECT_POINTER_DOWN:i(24081),GAMEOBJECT_POINTER_MOVE:i(11172),GAMEOBJECT_POINTER_OUT:i(18907),GAMEOBJECT_POINTER_OVER:i(95579),GAMEOBJECT_POINTER_UP:i(35368),GAMEOBJECT_POINTER_WHEEL:i(26972),GAMEOBJECT_UP:i(47078),GAMEOBJECT_WHEEL:i(73802),MANAGER_BOOT:i(27503),MANAGER_PROCESS:i(50852),MANAGER_UPDATE:i(96438),POINTER_DOWN:i(47777),POINTER_DOWN_OUTSIDE:i(27957),POINTER_MOVE:i(19444),POINTER_OUT:i(54251),POINTER_OVER:i(18667),POINTER_UP:i(27192),POINTER_UP_OUTSIDE:i(24652),POINTER_WHEEL:i(45132),POINTERLOCK_CHANGE:i(59152),PRE_UPDATE:i(44512),SHUTDOWN:i(15757),START:i(41637),UPDATE:i(93802)}},97421:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=new a({initialize:function(o,u){this.pad=o,this.events=o.events,this.index=u,this.value=0,this.threshold=.1},update:function(c){this.value=c},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});r.exports=p},28884:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(92734),c=new a({initialize:function(u,l){this.pad=u,this.events=u.manager,this.index=l,this.value=0,this.threshold=1,this.pressed=!1},update:function(o){this.value=o;var u=this.pad,l=this.index;o>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(p.BUTTON_DOWN,u,this,o),this.pad.emit(p.GAMEPAD_BUTTON_DOWN,l,o,this)):this.pressed&&(this.pressed=!1,this.events.emit(p.BUTTON_UP,u,this,o),this.pad.emit(p.GAMEPAD_BUTTON_UP,l,o,this))},destroy:function(){this.pad=null,this.events=null}});r.exports=c},99125:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(97421),p=i(28884),c=i(83419),o=i(50792),u=i(26099),l=new c({Extends:o,initialize:function(f,h){o.call(this),this.manager=f,this.pad=h,this.id=h.id,this.index=h.index;for(var A=[],g=0;g<h.buttons.length;g++)A.push(new p(this,g));this.buttons=A;var v=[];for(g=0;g<h.axes.length;g++)v.push(new a(this,g));this.axes=v,this.vibration=h.vibrationActuator;var y={value:0,pressed:!1};this._LCLeft=A[14]?A[14]:y,this._LCRight=A[15]?A[15]:y,this._LCTop=A[12]?A[12]:y,this._LCBottom=A[13]?A[13]:y,this._RCLeft=A[2]?A[2]:y,this._RCRight=A[1]?A[1]:y,this._RCTop=A[3]?A[3]:y,this._RCBottom=A[0]?A[0]:y,this._FBLeftTop=A[4]?A[4]:y,this._FBLeftBottom=A[6]?A[6]:y,this._FBRightTop=A[5]?A[5]:y,this._FBRightBottom=A[7]?A[7]:y;var C={value:0};this._HAxisLeft=v[0]?v[0]:C,this._VAxisLeft=v[1]?v[1]:C,this._HAxisRight=v[2]?v[2]:C,this._VAxisRight=v[3]?v[3]:C,this.leftStick=new u,this.rightStick=new u,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(d){return this.axes[d].getValue()},setAxisThreshold:function(d){for(var f=0;f<this.axes.length;f++)this.axes[f].threshold=d},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(d){return this.buttons[d].value},isButtonDown:function(d){return this.buttons[d].pressed},update:function(d){if(!(d.timestamp<this._created)){var f,h=this.buttons,A=d.buttons,g=h.length;for(f=0;f<g;f++)h[f].update(A[f].value);var v=this.axes,y=d.axes;for(g=v.length,f=0;f<g;f++)v[f].update(y[f]);g>=2&&(this.leftStick.set(v[0].getValue(),v[1].getValue()),g>=4&&this.rightStick.set(v[2].getValue(),v[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var d;for(d=0;d<this.buttons.length;d++)this.buttons[d].destroy();for(d=0;d<this.axes.length;d++)this.axes[d].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});r.exports=l},56654:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(50792),c=i(92734),o=i(99125),u=i(35154),l=i(89639),d=i(8214),f=new a({Extends:p,initialize:function(A){p.call(this),this.scene=A.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=A,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,A.pluginEvents.once(d.BOOT,this.boot,this),A.pluginEvents.on(d.START,this.start,this)},boot:function(){var h=this.scene.sys.game,A=this.settings.input,g=h.config;this.enabled=u(A,"gamepad",g.inputGamepad)&&h.device.input.gamepads,this.target=u(A,"gamepad.target",g.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(d.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(d.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var h=this,A=this.target,g=function(v){v.defaultPrevented||!h.isActive()||(h.refreshPads(),h.queue.push(v))};this.onGamepadHandler=g,A.addEventListener("gamepadconnected",g,!1),A.addEventListener("gamepaddisconnected",g,!1),this.sceneInputPlugin.pluginEvents.on(d.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(d.UPDATE,this.update);for(var h=0;h<this.gamepads.length;h++)this.gamepads[h].removeAllListeners()},disconnectAll:function(){for(var h=0;h<this.gamepads.length;h++)this.gamepads[h].pad.connected=!1},refreshPads:function(){var h=navigator.getGamepads();if(!h)this.disconnectAll();else for(var A=this.gamepads,g=0;g<h.length;g++){var v=h[g];if(v){var y=v.id,C=v.index,b=A[C];if(b)b.id!==y?(b.destroy(),A[C]=new o(this,v)):b.update(v);else{var T=new o(this,v);A[C]=T,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=T):this._pad3=T:this._pad2=T:this._pad1=T}}}},getAll:function(){for(var h=[],A=this.gamepads,g=0;g<A.length;g++)A[g]&&h.push(A[g]);return h},getPad:function(h){for(var A=this.gamepads,g=0;g<A.length;g++)if(A[g]&&A[g].index===h)return A[g]},update:function(){if(this.enabled){this.refreshPads();var h=this.queue.length;if(h!==0)for(var A=this.queue.splice(0,h),g=0;g<h;g++){var v=A[g],y=this.getPad(v.gamepad.index);v.type==="gamepadconnected"?this.emit(c.CONNECTED,y,v):v.type==="gamepaddisconnected"&&this.emit(c.DISCONNECTED,y,v)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var h=0;h<this.gamepads.length;h++)this.gamepads[h]&&this.gamepads[h].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});l.register("GamepadPlugin",f,"gamepad","gamepad","inputGamepad"),r.exports=f},89651:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},65294:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},90089:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},64894:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={DUALSHOCK_4:i(65294),SNES_USB:i(89651),XBOX_360:i(90089)}},46008:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="down"},7629:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="up"},42206:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="connected"},86544:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="disconnected"},94784:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="down"},14325:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="up"},92734:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={BUTTON_DOWN:i(46008),BUTTON_UP:i(7629),CONNECTED:i(42206),DISCONNECTED:i(86544),GAMEPAD_BUTTON_DOWN:i(94784),GAMEPAD_BUTTON_UP:i(14325)}},48646:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Axis:i(97421),Button:i(28884),Events:i(92734),Gamepad:i(99125),GamepadPlugin:i(56654),Configs:i(64894)}},14350:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(93301),p=i(79291),c={CreatePixelPerfectHandler:i(84409),CreateInteractiveObject:i(74457),Events:i(8214),Gamepad:i(48646),InputManager:i(7003),InputPlugin:i(48205),InputPluginCache:i(89639),Keyboard:i(51442),Mouse:i(87078),Pointer:i(42515),Touch:i(95618)};c=p(!1,c,a),r.exports=c},78970:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(72905),p=i(83419),c=i(8443),o=i(8214),u=i(46032),l=i(29747),d=new p({initialize:function(h){this.manager=h,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=l,this.onKeyUp=l,h.events.once(o.MANAGER_BOOT,this.boot,this)},boot:function(){var f=this.manager.config;this.enabled=f.inputKeyboard,this.target=f.inputKeyboardEventTarget,this.addCapture(f.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(c.POST_STEP,this.postUpdate,this)},startListeners:function(){var f=this;this.onKeyDown=function(A){if(!(A.defaultPrevented||!f.enabled||!f.manager)){f.queue.push(A),f.manager.events.emit(o.MANAGER_PROCESS);var g=A.altKey||A.ctrlKey||A.shiftKey||A.metaKey;f.preventDefault&&!g&&f.captures.indexOf(A.keyCode)>-1&&A.preventDefault()}},this.onKeyUp=function(A){if(!(A.defaultPrevented||!f.enabled||!f.manager)){f.queue.push(A),f.manager.events.emit(o.MANAGER_PROCESS);var g=A.altKey||A.ctrlKey||A.shiftKey||A.metaKey;f.preventDefault&&!g&&f.captures.indexOf(A.keyCode)>-1&&A.preventDefault()}};var h=this.target;h&&(h.addEventListener("keydown",this.onKeyDown,!1),h.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var f=this.target;f.removeEventListener("keydown",this.onKeyDown,!1),f.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(f){typeof f=="string"&&(f=f.split(",")),Array.isArray(f)||(f=[f]);for(var h=this.captures,A=0;A<f.length;A++){var g=f[A];typeof g=="string"&&(g=u[g.trim().toUpperCase()]),h.indexOf(g)===-1&&h.push(g)}this.preventDefault=h.length>0},removeCapture:function(f){typeof f=="string"&&(f=f.split(",")),Array.isArray(f)||(f=[f]);for(var h=this.captures,A=0;A<f.length;A++){var g=f[A];typeof g=="string"&&(g=u[g.toUpperCase()]),a(h,g)}this.preventDefault=h.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(c.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});r.exports=d},28846:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(50792),c=i(95922),o=i(8443),u=i(35154),l=i(8214),d=i(89639),f=i(30472),h=i(46032),A=i(87960),g=i(74600),v=i(44594),y=i(56583),C=new a({Extends:p,initialize:function(T){p.call(this),this.game=T.systems.game,this.scene=T.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=T,this.manager=T.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,T.pluginEvents.once(l.BOOT,this.boot,this),T.pluginEvents.on(l.START,this.start,this)},boot:function(){var b=this.settings.input;this.enabled=u(b,"keyboard",!0);var T=u(b,"keyboard.capture",null);T&&this.addCaptures(T),this.sceneInputPlugin.pluginEvents.once(l.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(l.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(l.SHUTDOWN,this.shutdown,this),this.game.events.on(o.BLUR,this.resetKeys,this),this.scene.sys.events.on(v.PAUSE,this.resetKeys,this),this.scene.sys.events.on(v.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(b){return this.manager.addCapture(b),this},removeCapture:function(b){return this.manager.removeCapture(b),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:h.UP,down:h.DOWN,left:h.LEFT,right:h.RIGHT,space:h.SPACE,shift:h.SHIFT})},addKeys:function(b,T,S){T===void 0&&(T=!0),S===void 0&&(S=!1);var F={};if(typeof b=="string"){b=b.split(",");for(var B=0;B<b.length;B++){var N=b[B].trim();N&&(F[N]=this.addKey(N,T,S))}}else for(var L in b)F[L]=this.addKey(b[L],T,S);return F},addKey:function(b,T,S){T===void 0&&(T=!0),S===void 0&&(S=!1);var F=this.keys;if(b instanceof f){var B=F.indexOf(b);return B>-1?F[B]=b:F[b.keyCode]=b,T&&this.addCapture(b.keyCode),b.setEmitOnRepeat(S),b}return typeof b=="string"&&(b=h[b.toUpperCase()]),F[b]||(F[b]=new f(this,b),T&&this.addCapture(b),F[b].setEmitOnRepeat(S)),F[b]},removeKey:function(b,T,S){T===void 0&&(T=!1),S===void 0&&(S=!1);var F=this.keys,B;if(b instanceof f){var N=F.indexOf(b);N>-1&&(B=this.keys[N],this.keys[N]=void 0)}else typeof b=="string"&&(b=h[b.toUpperCase()]);return F[b]&&(B=F[b],F[b]=void 0),B&&(B.plugin=null,S&&this.removeCapture(B.keyCode),T&&B.destroy()),this},removeAllKeys:function(b,T){b===void 0&&(b=!1),T===void 0&&(T=!1);for(var S=this.keys,F=0;F<S.length;F++){var B=S[F];B&&(S[F]=void 0,T&&this.removeCapture(B.keyCode),b&&B.destroy())}return this},createCombo:function(b,T){return new A(this,b,T)},checkDown:function(b,T){if(T===void 0&&(T=0),this.enabled&&b.isDown){var S=y(this.time-b.timeDown,T);if(S>b._tick)return b._tick=S,!0}return!1},update:function(){var b=this.manager.queue,T=b.length;if(!(!this.isActive()||T===0))for(var S=this.keys,F=0;F<T;F++){var B=b[F],N=B.keyCode,L=S[N],R=!1;B.cancelled===void 0&&(B.cancelled=0,B.stopImmediatePropagation=function(){B.cancelled=1},B.stopPropagation=function(){B.cancelled=-1}),B.cancelled!==-1&&(N===this.prevCode&&B.timeStamp===this.prevTime&&B.type===this.prevType||(this.prevCode=N,this.prevTime=B.timeStamp,this.prevType=B.type,B.type==="keydown"?(L&&(R=L.isDown,L.onDown(B)),!B.cancelled&&(!L||!R)&&(g[N]&&this.emit(c.KEY_DOWN+g[N],B),B.cancelled||this.emit(c.ANY_KEY_DOWN,B))):(L&&L.onUp(B),B.cancelled||(g[N]&&this.emit(c.KEY_UP+g[N],B),B.cancelled||this.emit(c.ANY_KEY_UP,B))),B.cancelled===1&&(B.cancelled=0)))}},resetKeys:function(){for(var b=this.keys,T=0;T<b.length;T++)b[T]&&b[T].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(l.MANAGER_PROCESS,this.update,this),this.game.events.off(o.BLUR,this.resetKeys),this.scene.sys.events.off(v.PAUSE,this.resetKeys,this),this.scene.sys.events.off(v.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var b=this.keys,T=0;T<b.length;T++)b[T]&&b[T].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});d.register("KeyboardPlugin",C,"keyboard","keyboard","inputKeyboard"),r.exports=C},66970:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){return a.timeLastMatched=i.timeStamp,a.index++,a.index===a.size?!0:(a.current=a.keyCodes[a.index],!1)};r.exports=x},87960:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(95922),c=i(95540),o=i(68769),u=i(92803),l=new a({initialize:function(f,h,A){if(A===void 0&&(A={}),h.length<2)return!1;this.manager=f,this.enabled=!0,this.keyCodes=[];for(var g=0;g<h.length;g++){var v=h[g];typeof v=="string"?this.keyCodes.push(v.toUpperCase().charCodeAt(0)):typeof v=="number"?this.keyCodes.push(v):v.hasOwnProperty("keyCode")&&this.keyCodes.push(v.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=c(A,"resetOnWrongKey",!0),this.maxKeyDelay=c(A,"maxKeyDelay",0),this.resetOnMatch=c(A,"resetOnMatch",!1),this.deleteOnMatch=c(A,"deleteOnMatch",!1);var y=this,C=function(b){if(!(y.matched||!y.enabled)){var T=o(b,y);T&&(y.manager.emit(p.COMBO_MATCH,y,b),y.resetOnMatch?u(y):y.deleteOnMatch&&y.destroy())}};this.onKeyDown=C,this.manager.on(p.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(p.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});r.exports=l},68769:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(66970),p=function(c,o){if(o.matched)return!0;var u=!1,l=!1;if(c.keyCode===o.current)if(o.index>0&&o.maxKeyDelay>0){var d=o.timeLastMatched+o.maxKeyDelay;c.timeStamp<=d&&(l=!0,u=a(c,o))}else l=!0,u=a(c,o);return!l&&o.resetOnWrongKey&&(o.index=0,o.current=o.keyCodes[0]),u&&(o.timeLastMatched=c.timeStamp,o.matched=!0,o.timeMatched=c.timeStamp),u};r.exports=p},92803:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){return i.current=i.keyCodes[0],i.index=0,i.timeLastMatched=0,i.matched=!1,i.timeMatched=0,i};r.exports=x},92612:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="keydown"},23345:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="keyup"},21957:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="keycombomatch"},44743:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="down"},3771:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="keydown-"},46358:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="keyup-"},75674:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="up"},95922:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ANY_KEY_DOWN:i(92612),ANY_KEY_UP:i(23345),COMBO_MATCH:i(21957),DOWN:i(44743),KEY_DOWN:i(3771),KEY_UP:i(46358),UP:i(75674)}},51442:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Events:i(95922),KeyboardManager:i(78970),KeyboardPlugin:i(28846),Key:i(30472),KeyCodes:i(46032),KeyCombo:i(87960),AdvanceKeyCombo:i(66970),ProcessKeyCombo:i(68769),ResetKeyCombo:i(92803),JustDown:i(90229),JustUp:i(38796),DownDuration:i(37015),UpDuration:i(41170)}},37015:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){a===void 0&&(a=50);var p=i.plugin.game.loop.time-i.timeDown;return i.isDown&&p<a};r.exports=x},90229:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){return i._justDown?(i._justDown=!1,!0):!1};r.exports=x},38796:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){return i._justUp?(i._justUp=!1,!0):!1};r.exports=x},30472:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(50792),c=i(95922),o=new a({Extends:p,initialize:function(l,d){p.call(this),this.plugin=l,this.keyCode=d,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(u){return this.emitOnRepeat=u,this},onDown:function(u){this.originalEvent=u,this.enabled&&(this.altKey=u.altKey,this.ctrlKey=u.ctrlKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.location=u.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(c.DOWN,this,u):(this.isDown=!0,this.isUp=!1,this.timeDown=u.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(c.DOWN,this,u)))},onUp:function(u){this.originalEvent=u,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=u.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(c.UP,this,u))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});r.exports=o},46032:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};r.exports=x},74600:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(46032),p={};for(var c in a)p[a[c]]=c;r.exports=p},41170:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){a===void 0&&(a=50);var p=i.plugin.game.loop.time-i.timeUp;return i.isUp&&p<a};r.exports=x},85098:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(89357),c=i(8214),o=i(29747),u=new a({initialize:function(d){this.manager=d,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=o,this.onMouseDown=o,this.onMouseUp=o,this.onMouseDownWindow=o,this.onMouseUpWindow=o,this.onMouseOver=o,this.onMouseOut=o,this.onMouseWheel=o,this.pointerLockChange=o,this.isTop=!0,d.events.once(c.MANAGER_BOOT,this.boot,this)},boot:function(){var l=this.manager.config;this.enabled=l.inputMouse,this.target=l.inputMouseEventTarget,this.passive=l.inputMousePassive,this.preventDefaultDown=l.inputMousePreventDefaultDown,this.preventDefaultUp=l.inputMousePreventDefaultUp,this.preventDefaultMove=l.inputMousePreventDefaultMove,this.preventDefaultWheel=l.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,l.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(l){return l.preventDefault(),!1}),this},requestPointerLock:function(){if(p.pointerLock){var l=this.target;l.requestPointerLock=l.requestPointerLock||l.mozRequestPointerLock||l.webkitRequestPointerLock,l.requestPointerLock()}},releasePointerLock:function(){p.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var l=this.target;if(l){var d=this,f=this.manager,h=f.canvas,A=window&&window.focus&&f.game.config.autoFocus;this.onMouseMove=function(v){!v.defaultPrevented&&d.enabled&&f&&f.enabled&&(f.onMouseMove(v),d.preventDefaultMove&&v.preventDefault())},this.onMouseDown=function(v){A&&window.focus(),!v.defaultPrevented&&d.enabled&&f&&f.enabled&&(f.onMouseDown(v),d.preventDefaultDown&&v.target===h&&v.preventDefault())},this.onMouseDownWindow=function(v){v.sourceCapabilities&&v.sourceCapabilities.firesTouchEvents||!v.defaultPrevented&&d.enabled&&f&&f.enabled&&v.target!==h&&f.onMouseDown(v)},this.onMouseUp=function(v){!v.defaultPrevented&&d.enabled&&f&&f.enabled&&(f.onMouseUp(v),d.preventDefaultUp&&v.target===h&&v.preventDefault())},this.onMouseUpWindow=function(v){v.sourceCapabilities&&v.sourceCapabilities.firesTouchEvents||!v.defaultPrevented&&d.enabled&&f&&f.enabled&&v.target!==h&&f.onMouseUp(v)},this.onMouseOver=function(v){!v.defaultPrevented&&d.enabled&&f&&f.enabled&&f.setCanvasOver(v)},this.onMouseOut=function(v){!v.defaultPrevented&&d.enabled&&f&&f.enabled&&f.setCanvasOut(v)},this.onMouseWheel=function(v){!v.defaultPrevented&&d.enabled&&f&&f.enabled&&f.onMouseWheel(v),d.preventDefaultWheel&&v.target===h&&v.preventDefault()};var g={passive:!0};if(l.addEventListener("mousemove",this.onMouseMove),l.addEventListener("mousedown",this.onMouseDown),l.addEventListener("mouseup",this.onMouseUp),l.addEventListener("mouseover",this.onMouseOver,g),l.addEventListener("mouseout",this.onMouseOut,g),this.preventDefaultWheel?l.addEventListener("wheel",this.onMouseWheel,{passive:!1}):l.addEventListener("wheel",this.onMouseWheel,g),window&&f.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,g),window.top.addEventListener("mouseup",this.onMouseUpWindow,g)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,g),window.addEventListener("mouseup",this.onMouseUpWindow,g),this.isTop=!1}p.pointerLock&&(this.pointerLockChange=function(v){var y=d.target;d.locked=document.pointerLockElement===y||document.mozPointerLockElement===y||document.webkitPointerLockElement===y,f.onPointerLockChange(v)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var l=this.target;l.removeEventListener("mousemove",this.onMouseMove),l.removeEventListener("mousedown",this.onMouseDown),l.removeEventListener("mouseup",this.onMouseUp),l.removeEventListener("mouseover",this.onMouseOver),l.removeEventListener("mouseout",this.onMouseOut),window&&(l=this.isTop?window.top:window,l.removeEventListener("mousedown",this.onMouseDownWindow),l.removeEventListener("mouseup",this.onMouseUpWindow)),p.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});r.exports=u},87078:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={MouseManager:i(85098)}},36210:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(8214),c=i(29747),o=new a({initialize:function(l){this.manager=l,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=c,this.onTouchStartWindow=c,this.onTouchMove=c,this.onTouchEnd=c,this.onTouchEndWindow=c,this.onTouchCancel=c,this.onTouchCancelWindow=c,this.isTop=!0,l.events.once(p.MANAGER_BOOT,this.boot,this)},boot:function(){var u=this.manager.config;this.enabled=u.inputTouch,this.target=u.inputTouchEventTarget,this.capture=u.inputTouchCapture,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,u.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(u){return u.preventDefault(),!1}),this},startListeners:function(){var u=this.target;if(u){var l=this,d=this.manager,f=d.canvas,h=window&&window.focus&&d.game.config.autoFocus;this.onTouchMove=function(y){!y.defaultPrevented&&l.enabled&&d&&d.enabled&&(d.onTouchMove(y),l.capture&&y.cancelable&&y.preventDefault())},this.onTouchStart=function(y){h&&window.focus(),!y.defaultPrevented&&l.enabled&&d&&d.enabled&&(d.onTouchStart(y),l.capture&&y.cancelable&&y.target===f&&y.preventDefault())},this.onTouchStartWindow=function(y){!y.defaultPrevented&&l.enabled&&d&&d.enabled&&y.target!==f&&d.onTouchStart(y)},this.onTouchEnd=function(y){!y.defaultPrevented&&l.enabled&&d&&d.enabled&&(d.onTouchEnd(y),l.capture&&y.cancelable&&y.target===f&&y.preventDefault())},this.onTouchEndWindow=function(y){!y.defaultPrevented&&l.enabled&&d&&d.enabled&&y.target!==f&&d.onTouchEnd(y)},this.onTouchCancel=function(y){!y.defaultPrevented&&l.enabled&&d&&d.enabled&&(d.onTouchCancel(y),l.capture&&y.preventDefault())},this.onTouchCancelWindow=function(y){!y.defaultPrevented&&l.enabled&&d&&d.enabled&&d.onTouchCancel(y)};var A=this.capture,g={passive:!0},v={passive:!1};if(u.addEventListener("touchstart",this.onTouchStart,A?v:g),u.addEventListener("touchmove",this.onTouchMove,A?v:g),u.addEventListener("touchend",this.onTouchEnd,A?v:g),u.addEventListener("touchcancel",this.onTouchCancel,A?v:g),window&&d.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,v),window.top.addEventListener("touchend",this.onTouchEndWindow,v),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,v)}catch{window.addEventListener("touchstart",this.onTouchStartWindow,v),window.addEventListener("touchend",this.onTouchEndWindow,v),window.addEventListener("touchcancel",this.onTouchCancelWindow,v),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var u=this.target;u.removeEventListener("touchstart",this.onTouchStart),u.removeEventListener("touchmove",this.onTouchMove),u.removeEventListener("touchend",this.onTouchEnd),u.removeEventListener("touchcancel",this.onTouchCancel),window&&(u=this.isTop?window.top:window,u.removeEventListener("touchstart",this.onTouchStartWindow),u.removeEventListener("touchend",this.onTouchEndWindow),u.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});r.exports=o},95618:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={TouchManager:i(36210)}},41299:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(23906),c=i(54899),o=i(95540),u=i(98356),l=i(3374),d=i(84376),f=i(92638),h=new a({initialize:function(g,v){if(this.loader=g,this.cache=o(v,"cache",!1),this.type=o(v,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=o(v,"key",!1);var y=this.key;if(g.prefix&&g.prefix!==""&&(this.key=g.prefix+y),!this.key)throw new Error("Invalid File key: "+this.key);var C=o(v,"url");C===void 0?C=g.path+y+"."+o(v,"extension",""):typeof C=="string"&&!C.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(C=g.path+C),this.url=C,this.src="",this.xhrSettings=f(o(v,"responseType",void 0)),o(v,"xhrSettings",!1)&&(this.xhrSettings=l(this.xhrSettings,o(v,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?p.FILE_POPULATED:p.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=o(v,"config",{}),this.multiFile,this.linkFile,this.base64=typeof C=="string"&&C.indexOf("data:")===0,this.retryAttempts=o(v,"maxRetries",g.maxRetries)},setLink:function(A){this.linkFile=A,A.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){if(this.state===p.FILE_POPULATED)this.loader.nextFile(this,!0);else{if(this.state=p.FILE_LOADING,this.src=u(this,this.loader.baseURL),!this.src)throw new Error("URL Error in File: "+this.key+" from: "+this.url);this.src.indexOf("data:")===0&&(this.base64=!0),this.xhrLoader=d(this,this.loader.xhr)}},onLoad:function(A,g){var v=A.responseURL&&this.loader.localSchemes.some(function(b){return A.responseURL.indexOf(b)===0}),y=v&&g.target.status===0,C=!(g.target&&g.target.status!==200)||y;A.readyState===4&&A.status>=400&&A.status<=599&&(C=!1),this.state=p.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,C)},onBase64Load:function(A){this.xhrLoader=A,this.state=p.FILE_LOADED,this.percentComplete=1,this.loader.emit(c.FILE_PROGRESS,this,this.percentComplete),this.loader.nextFile(this,!0)},onError:function(){this.resetXHR(),this.retryAttempts>0?(this.retryAttempts--,this.load()):this.loader.nextFile(this,!1)},onProgress:function(A){A.lengthComputable&&(this.bytesLoaded=A.loaded,this.bytesTotal=A.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(c.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=p.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=p.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=p.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(A){if(this.state!==p.FILE_PENDING_DESTROY){A===void 0&&(A=this.data);var g=this.key,v=this.type;this.loader.emit(c.FILE_COMPLETE,g,v,A),this.loader.emit(c.FILE_KEY_COMPLETE+v+"-"+g,g,v,A),this.loader.flagForRemoval(this),this.state=p.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});h.createObjectURL=function(A,g,v){if(typeof URL=="function")A.src=URL.createObjectURL(g);else{var y=new FileReader;y.onload=function(){A.removeAttribute("crossOrigin"),A.src="data:"+(g.type||v)+";base64,"+y.result.split(",")[1]},y.onerror=A.onerror,y.readAsDataURL(g)}},h.revokeObjectURL=function(A){typeof URL=="function"&&URL.revokeObjectURL(A.src)},r.exports=h},74099:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={},i={install:function(a){for(var p in x)a[p]=x[p]},register:function(a,p){x[a]=p},destroy:function(){x={}}};r.exports=i},98356:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){return i.url?i.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?i.url:a+i.url:!1};r.exports=x},74261:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(23906),c=i(35072),o=i(50792),u=i(54899),l=i(74099),d=i(95540),f=i(35154),h=i(41212),A=i(37277),g=i(44594),v=i(92638),y=new a({Extends:o,initialize:function(b){o.call(this);var T=b.sys.game.config,S=b.sys.settings.loader;this.scene=b,this.systems=b.sys,this.cacheManager=b.sys.cache,this.textureManager=b.sys.textures,this.sceneManager=b.sys.game.scene,l.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(d(S,"baseURL",T.loaderBaseURL)),this.setPath(d(S,"path",T.loaderPath)),this.setPrefix(d(S,"prefix",T.loaderPrefix)),this.maxParallelDownloads=d(S,"maxParallelDownloads",T.loaderMaxParallelDownloads),this.xhr=v(d(S,"responseType",T.loaderResponseType),d(S,"async",T.loaderAsync),d(S,"user",T.loaderUser),d(S,"password",T.loaderPassword),d(S,"timeout",T.loaderTimeout),d(S,"withCredentials",T.loaderWithCredentials)),this.crossOrigin=d(S,"crossOrigin",T.loaderCrossOrigin),this.imageLoadType=d(S,"imageLoadType",T.loaderImageLoadType),this.localSchemes=d(S,"localScheme",T.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new c,this.inflight=new c,this.queue=new c,this._deleteQueue=new c,this.totalFailed=0,this.totalComplete=0,this.state=p.LOADER_IDLE,this.multiKeyIndex=0,this.maxRetries=d(S,"maxRetries",T.loaderMaxRetries),b.sys.events.once(g.BOOT,this.boot,this),b.sys.events.on(g.START,this.pluginStart,this)},boot:function(){this.systems.events.once(g.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(g.SHUTDOWN,this.shutdown,this)},setBaseURL:function(C){return C===void 0&&(C=""),C!==""&&C.substr(-1)!=="/"&&(C=C.concat("/")),this.baseURL=C,this},setPath:function(C){return C===void 0&&(C=""),C!==""&&C.substr(-1)!=="/"&&(C=C.concat("/")),this.path=C,this},setPrefix:function(C){return C===void 0&&(C=""),this.prefix=C,this},setCORS:function(C){return this.crossOrigin=C,this},addFile:function(C){Array.isArray(C)||(C=[C]);for(var b=0;b<C.length;b++){var T=C[b];this.keyExists(T)||(this.list.set(T),this.emit(u.ADD,T.key,T.type,this,T),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(C){var b=C.hasCacheConflict();return b||this.list.iterate(function(T){if(T.type===C.type&&T.key===C.key)return b=!0,!1}),!b&&this.isLoading()&&(this.inflight.iterate(function(T){if(T.type===C.type&&T.key===C.key)return b=!0,!1}),this.queue.iterate(function(T){if(T.type===C.type&&T.key===C.key)return b=!0,!1})),b},addPack:function(C,b){if(typeof b=="string"){var T=f(C,b);T&&(C={packKey:T})}var S=0,F=this.baseURL,B=this.path,N=this.prefix;for(var L in C)if(Object.prototype.hasOwnProperty.call(C,L)){var R=C[L],I=d(R,"baseURL",F),M=d(R,"path",B),P=d(R,"prefix",N),U=d(R,"files",null),z=d(R,"defaultType","void");if(Array.isArray(U)){this.setBaseURL(I),this.setPath(M),this.setPrefix(P);for(var W=0;W<U.length;W++){var Z=U[W],j=Z.hasOwnProperty("type")?Z.type:z;this[j]&&(this[j](Z),S++)}}}return this.setBaseURL(F),this.setPath(B),this.setPrefix(N),S>0},removePack:function(C,b){var T=this.systems.anims,S=this.cacheManager,F=this.textureManager,B={animation:"json",aseprite:"json",audio:"audio",audioSprite:"audio",binary:"binary",bitmapFont:"bitmapFont",css:null,glsl:"shader",html:"html",json:"json",obj:"obj",plugin:null,scenePlugin:null,script:null,spine:"json",text:"text",tilemapCSV:"tilemap",tilemapImpact:"tilemap",tilemapTiledJSON:"tilemap",video:"video",xml:"xml"},N;if(h(C))N=C;else if(N=S.json.get(C),!N){console.warn("Asset Pack not found in JSON cache:",C);return}b&&(N={_:N[b]});for(var L in N){var R=N[L],I=d(R,"prefix",""),M=d(R,"files"),P=d(R,"defaultType");if(Array.isArray(M))for(var U=0;U<M.length;U++){var z=M[U],W=z.hasOwnProperty("type")?z.type:P;if(!W){console.warn("No type:",z);continue}var Z=I+z.key;if(W==="animation"&&T.remove(Z),!((W==="aseprite"||W==="atlas"||W==="atlasXML"||W==="htmlTexture"||W==="image"||W==="multiatlas"||W==="spritesheet"||W==="svg"||W==="texture"||W==="unityAtlas")&&(F.remove(Z),!B[W]))){if(W==="pack"){this.removePack(Z,z.dataKey);continue}if(W==="spine"){var j=S.custom.spine.get(Z);if(!j)continue;var H=j.prefix===void 0?"":j.prefix;S.custom.spine.remove(Z);var V=S.custom.spineTextures.get(Z);if(!V)continue;S.custom.spineTextures.remove(Z);for(var k=0;k<V.pages.length;k++){var X=V.pages[k],Q=H+X.name,J=Z+":"+Q;F.exists(J)?F.remove(J):F.remove(Q)}}var $=B[W];if($!==null){if(!$){console.warn("Unknown type:",W);continue}var _=S[$];_.remove(Z)}}}}},isLoading:function(){return this.state===p.LOADER_LOADING||this.state===p.LOADER_PROCESSING},isReady:function(){return this.state===p.LOADER_IDLE||this.state===p.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(u.START,this),this.list.size===0?this.loadComplete():(this.state=p.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(g.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(u.PROGRESS,this.progress)},update:function(){this.state===p.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(C){if((C.state===p.FILE_POPULATED||C.state===p.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(C),this.list.delete(C),C.crossOrigin||(C.crossOrigin=this.crossOrigin),C.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(C,b){this.inflight&&(this.inflight.delete(C),this.updateProgress(),b?(this.totalComplete++,this.queue.set(C),this.emit(u.FILE_LOAD,C),C.onProcess()):(this.totalFailed++,this._deleteQueue.set(C),this.emit(u.FILE_LOAD_ERROR,C),this.fileProcessComplete(C)))},fileProcessComplete:function(C){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(C.state===p.FILE_ERRORED?C.multiFile&&C.multiFile.onFileFailed(C):C.state===p.FILE_COMPLETE&&(C.multiFile?C.multiFile.isReadyToProcess()&&(C.multiFile.addToCache(),C.multiFile.pendingDestroy()):(C.addToCache(),C.pendingDestroy())),this.queue.delete(C),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(u.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=p.LOADER_COMPLETE,this.systems.events.off(g.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(u.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(C){this._deleteQueue.set(C)},saveJSON:function(C,b){return this.save(JSON.stringify(C),b)},save:function(C,b,T){b===void 0&&(b="file.json"),T===void 0&&(T="application/json");var S=new Blob([C],{type:T}),F=URL.createObjectURL(S),B=document.createElement("a");return B.download=b,B.textContent="Download "+b,B.href=F,B.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var C=this.systems.game.config,b=this.systems.settings.loader;this.setBaseURL(d(b,"baseURL",C.loaderBaseURL)),this.setPath(d(b,"path",C.loaderPath)),this.setPrefix(d(b,"prefix",C.loaderPrefix)),this.state=p.LOADER_IDLE},shutdown:function(){this.reset(),this.state=p.LOADER_SHUTDOWN,this.removeAllListeners(),this.systems.events.off(g.UPDATE,this.update,this),this.systems.events.off(g.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=p.LOADER_DESTROYED,this.systems.events.off(g.UPDATE,this.update,this),this.systems.events.off(g.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});A.register("Loader",y,"load"),r.exports=y},3374:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(79291),p=i(92638),c=function(o,u){var l=o===void 0?p():a({},o);if(u)for(var d in u)u[d]!==void 0&&(l[d]=u[d]);return l};r.exports=c},26430:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(23906),c=i(54899),o=new a({initialize:function(l,d,f,h){var A=[];h.forEach(function(y){y&&A.push(y)}),this.loader=l,this.type=d,this.key=f;var g=this.key;l.prefix&&l.prefix!==""&&(this.key=l.prefix+g),this.multiKeyIndex=l.multiKeyIndex++,this.files=A,this.state=p.FILE_PENDING,this.complete=!1,this.pending=A.length,this.failed=0,this.config={},this.baseURL=l.baseURL,this.path=l.path,this.prefix=l.prefix;for(var v=0;v<A.length;v++)A[v].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(u){return this.files.push(u),u.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(u){var l=this.files.indexOf(u);l!==-1&&this.pending--},onFileFailed:function(u){var l=this.files.indexOf(u);l!==-1&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,u.type,u.key))},pendingDestroy:function(){if(this.state!==p.FILE_PENDING_DESTROY){var u=this.key,l=this.type;this.loader.emit(c.FILE_COMPLETE,u,l),this.loader.emit(c.FILE_KEY_COMPLETE+l+"-"+u,u,l),this.loader.flagForRemoval(this);for(var d=0;d<this.files.length;d++)this.files[d].pendingDestroy();this.state=p.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});r.exports=o},84376:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(3374),p=function(c,o){var u=a(o,c.xhrSettings);if(c.base64){var l=c.url.split(";base64,").pop()||c.url.split(",").pop(),d;c.xhrSettings.responseType==="arraybuffer"?d={response:Uint8Array.from(atob(l),function(A){return A.charCodeAt(0)}).buffer}:d={responseText:atob(l)},c.onBase64Load(d);return}var f=new XMLHttpRequest;if(f.open("GET",c.src,u.async,u.user,u.password),f.responseType=c.xhrSettings.responseType,f.timeout=u.timeout,u.headers)for(var h in u.headers)f.setRequestHeader(h,u.headers[h]);return u.header&&u.headerValue&&f.setRequestHeader(u.header,u.headerValue),u.requestedWith&&f.setRequestHeader("X-Requested-With",u.requestedWith),u.overrideMimeType&&f.overrideMimeType(u.overrideMimeType),u.withCredentials&&(f.withCredentials=!0),f.onload=c.onLoad.bind(c,f),f.onerror=c.onError.bind(c,f),f.onprogress=c.onProgress.bind(c),f.ontimeout=c.onError.bind(c,f),f.send(),f};r.exports=p},92638:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p,c,o,u){return i===void 0&&(i=""),a===void 0&&(a=!0),p===void 0&&(p=""),c===void 0&&(c=""),o===void 0&&(o=0),u===void 0&&(u=!1),{responseType:i,async:a,user:p,password:c,timeout:o,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:u}};r.exports=x},23906:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20};r.exports=x},42155:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="addfile"},38991:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="complete"},27540:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="filecomplete"},87464:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="filecomplete-"},94486:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="loaderror"},13035:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="load"},38144:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="fileprogress"},97520:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="postprocess"},85595:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="progress"},55680:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="start"},54899:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ADD:i(42155),COMPLETE:i(38991),FILE_COMPLETE:i(27540),FILE_KEY_COMPLETE:i(87464),FILE_LOAD_ERROR:i(94486),FILE_LOAD:i(13035),FILE_PROGRESS:i(38144),POST_PROCESS:i(97520),PROGRESS:i(85595),START:i(55680)}},14135:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(74099),c=i(518),o=i(54899),u=new a({Extends:c,initialize:function(d,f,h,A,g){c.call(this,d,f,h,A,g),this.type="animationJSON"},onProcess:function(){this.loader.once(o.POST_PROCESS,this.onLoadComplete,this),c.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});p.register("animation",function(l,d,f,h){if(Array.isArray(l))for(var A=0;A<l.length;A++)this.addFile(new u(this,l[A]));else this.addFile(new u(this,l,d,h,f));return this}),r.exports=u},76272:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(74099),c=i(95540),o=i(19550),u=i(41212),l=i(518),d=i(26430),f=new a({Extends:d,initialize:function(A,g,v,y,C,b){var T,S;if(u(g)){var F=g;g=c(F,"key"),T=new o(A,{key:g,url:c(F,"textureURL"),extension:c(F,"textureExtension","png"),normalMap:c(F,"normalMap"),xhrSettings:c(F,"textureXhrSettings")}),S=new l(A,{key:g,url:c(F,"atlasURL"),extension:c(F,"atlasExtension","json"),xhrSettings:c(F,"atlasXhrSettings")})}else T=new o(A,g,v,C),S=new l(A,g,y,b);T.linkFile?d.call(this,A,"atlasjson",g,[T,S,T.linkFile]):d.call(this,A,"atlasjson",g,[T,S])},addToCache:function(){if(this.isReadyToProcess()){var h=this.files[0],A=this.files[1],g=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(h.key,h.data,A.data,g),A.addToCache(),this.complete=!0}}});p.register("aseprite",function(h,A,g,v,y){var C;if(Array.isArray(h))for(var b=0;b<h.length;b++)C=new f(this,h[b]),this.addFile(C.files);else C=new f(this,h,A,g,v,y),this.addFile(C.files);return this}),r.exports=f},38734:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(74099),c=i(95540),o=i(19550),u=i(41212),l=i(518),d=i(26430),f=new a({Extends:d,initialize:function(A,g,v,y,C,b){var T,S;if(u(g)){var F=g;g=c(F,"key"),T=new o(A,{key:g,url:c(F,"textureURL"),extension:c(F,"textureExtension","png"),normalMap:c(F,"normalMap"),xhrSettings:c(F,"textureXhrSettings")}),S=new l(A,{key:g,url:c(F,"atlasURL"),extension:c(F,"atlasExtension","json"),xhrSettings:c(F,"atlasXhrSettings")})}else T=new o(A,g,v,C),S=new l(A,g,y,b);T.linkFile?d.call(this,A,"atlasjson",g,[T,S,T.linkFile]):d.call(this,A,"atlasjson",g,[T,S])},addToCache:function(){if(this.isReadyToProcess()){var h=this.files[0],A=this.files[1],g=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(h.key,h.data,A.data,g),this.complete=!0}}});p.register("atlas",function(h,A,g,v,y){var C;if(Array.isArray(h))for(var b=0;b<h.length;b++)C=new f(this,h[b]),this.addFile(C.files);else C=new f(this,h,A,g,v,y),this.addFile(C.files);return this}),r.exports=f},74599:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(74099),c=i(95540),o=i(19550),u=i(41212),l=i(26430),d=i(57318),f=new a({Extends:l,initialize:function(A,g,v,y,C,b){var T,S;if(u(g)){var F=g;g=c(F,"key"),T=new o(A,{key:g,url:c(F,"textureURL"),extension:c(F,"textureExtension","png"),normalMap:c(F,"normalMap"),xhrSettings:c(F,"textureXhrSettings")}),S=new d(A,{key:g,url:c(F,"atlasURL"),extension:c(F,"atlasExtension","xml"),xhrSettings:c(F,"atlasXhrSettings")})}else T=new o(A,g,v,C),S=new d(A,g,y,b);T.linkFile?l.call(this,A,"atlasxml",g,[T,S,T.linkFile]):l.call(this,A,"atlasxml",g,[T,S])},addToCache:function(){if(this.isReadyToProcess()){var h=this.files[0],A=this.files[1],g=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(h.key,h.data,A.data,g),this.complete=!0}}});p.register("atlasXML",function(h,A,g,v,y){var C;if(Array.isArray(h))for(var b=0;b<h.length;b++)C=new f(this,h[b]),this.addFile(C.files);else C=new f(this,h,A,g,v,y),this.addFile(C.files);return this}),r.exports=f},21097:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(23906),c=i(41299),o=i(74099),u=i(95540),l=i(89749),d=i(41212),f=new a({Extends:c,initialize:function(A,g,v,y,C){if(d(g)){var b=g;g=u(b,"key"),y=u(b,"xhrSettings"),C=u(b,"context",C)}var T={type:"audio",cache:A.cacheManager.audio,extension:v.type,responseType:"arraybuffer",key:g,url:v.url,xhrSettings:y,config:{context:C}};c.call(this,A,T)},onProcess:function(){this.state=p.FILE_PROCESSING;var h=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(A){h.data=A,h.onProcessComplete()},function(A){console.error("Error decoding audio: "+h.key+" - ",A?A.message:null),h.onProcessError()}),this.config.context=null}});f.create=function(h,A,g,v,y){var C=h.systems.game,b=C.config.audio,T=C.device.audio;d(A)&&(g=u(A,"url",[]),v=u(A,"config",{}));var S=f.getAudioURL(C,g);return S?T.webAudio&&!b.disableWebAudio?new f(h,A,S,y,C.sound.context):new l(h,A,S,v):(console.warn('No audio URLs for "%s" can play on this device',A),null)},f.getAudioURL=function(h,A){Array.isArray(A)||(A=[A]);for(var g=0;g<A.length;g++){var v=u(A[g],"url",A[g]);if(v.indexOf("blob:")===0||v.indexOf("data:")===0)return{url:v,type:""};var y=v.match(/\.([a-zA-Z0-9]+)($|\?)/);if(y=u(A[g],"type",y?y[1]:"").toLowerCase(),h.device.audio[y])return{url:v,type:y}}return null},o.register("audio",function(h,A,g,v){var y=this.systems.game,C=y.config.audio,b=y.device.audio;if(C.noAudio||!b.webAudio&&!b.audioData)return this;var T;if(Array.isArray(h))for(var S=0;S<h.length;S++)T=f.create(this,h[S]),T&&this.addFile(T);else T=f.create(this,h,A,g,v),T&&this.addFile(T);return this}),r.exports=f},89524:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(21097),p=i(83419),c=i(74099),o=i(95540),u=i(41212),l=i(518),d=i(26430),f=new p({Extends:d,initialize:function(A,g,v,y,C,b,T){if(u(g)){var S=g;g=o(S,"key"),v=o(S,"jsonURL"),y=o(S,"audioURL"),C=o(S,"audioConfig"),b=o(S,"audioXhrSettings"),T=o(S,"jsonXhrSettings")}var F;if(!y)F=new l(A,g,v,T),d.call(this,A,"audiosprite",g,[F]),this.config.resourceLoad=!0,this.config.audioConfig=C,this.config.audioXhrSettings=b;else{var B=a.create(A,g,y,C,b);B&&(F=new l(A,g,v,T),d.call(this,A,"audiosprite",g,[B,F]),this.config.resourceLoad=!1)}},onFileComplete:function(h){var A=this.files.indexOf(h);if(A!==-1&&(this.pending--,this.config.resourceLoad&&h.type==="json"&&h.data.hasOwnProperty("resources"))){var g=h.data.resources,v=o(this.config,"audioConfig"),y=o(this.config,"audioXhrSettings"),C=a.create(this.loader,h.key,g,v,y);C&&(this.addToMultiFile(C),this.loader.addFile(C))}},addToCache:function(){if(this.isReadyToProcess()){var h=this.files[0],A=this.files[1];h.addToCache(),A.addToCache(),this.complete=!0}}});c.register("audioSprite",function(h,A,g,v,y,C){var b=this.systems.game,T=b.config.audio,S=b.device.audio;if(T&&T.noAudio||!S.webAudio&&!S.audioData)return this;var F;if(Array.isArray(h))for(var B=0;B<h.length;B++)F=new f(this,h[B]),F.files&&this.addFile(F.files);else F=new f(this,h,A,g,v,y,C),F.files&&this.addFile(F.files);return this})},85722:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(23906),c=i(41299),o=i(74099),u=i(95540),l=i(41212),d=new a({Extends:c,initialize:function(h,A,g,v,y){var C="bin";if(l(A)){var b=A;A=u(b,"key"),g=u(b,"url"),v=u(b,"xhrSettings"),C=u(b,"extension",C),y=u(b,"dataType",y)}var T={type:"binary",cache:h.cacheManager.binary,extension:C,responseType:"arraybuffer",key:A,url:g,xhrSettings:v,config:{dataType:y}};c.call(this,h,T)},onProcess:function(){this.state=p.FILE_PROCESSING;var f=this.config.dataType;this.data=f?new f(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});o.register("binary",function(f,h,A,g){if(Array.isArray(f))for(var v=0;v<f.length;v++)this.addFile(new d(this,f[v]));else this.addFile(new d(this,f,h,g,A));return this}),r.exports=d},97025:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(74099),c=i(95540),o=i(19550),u=i(41212),l=i(26430),d=i(21859),f=i(57318),h=new a({Extends:l,initialize:function(g,v,y,C,b,T){var S,F;if(u(v)){var B=v;v=c(B,"key"),S=new o(g,{key:v,url:c(B,"textureURL"),extension:c(B,"textureExtension","png"),normalMap:c(B,"normalMap"),xhrSettings:c(B,"textureXhrSettings")}),F=new f(g,{key:v,url:c(B,"fontDataURL"),extension:c(B,"fontDataExtension","xml"),xhrSettings:c(B,"fontDataXhrSettings")})}else S=new o(g,v,y,b),F=new f(g,v,C,T);S.linkFile?l.call(this,g,"bitmapfont",v,[S,F,S.linkFile]):l.call(this,g,"bitmapfont",v,[S,F])},addToCache:function(){if(this.isReadyToProcess()){var A=this.files[0],g=this.files[1];A.addToCache();var v=A.cache.get(A.key),y=d(g.data,A.cache.getFrame(A.key),0,0,v);this.loader.cacheManager.bitmapFont.add(A.key,{data:y,texture:A.key,frame:null}),this.complete=!0}}});p.register("bitmapFont",function(A,g,v,y,C){var b;if(Array.isArray(A))for(var T=0;T<A.length;T++)b=new h(this,A[T]),this.addFile(b.files);else b=new h(this,A,g,v,y,C),this.addFile(b.files);return this}),r.exports=h},16024:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(23906),c=i(41299),o=i(74099),u=i(95540),l=i(41212),d=new a({Extends:c,initialize:function(h,A,g,v){var y="css";if(l(A)){var C=A;A=u(C,"key"),g=u(C,"url"),v=u(C,"xhrSettings"),y=u(C,"extension",y)}var b={type:"script",cache:!1,extension:y,responseType:"text",key:A,url:g,xhrSettings:v};c.call(this,h,b)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});o.register("css",function(f,h,A){if(Array.isArray(f))for(var g=0;g<f.length;g++)this.addFile(new d(this,f[g]));else this.addFile(new d(this,f,h,A));return this}),r.exports=d},69559:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(38734),p=i(85722),c=i(83419),o=i(74099),u=i(95540),l=i(19550),d=i(41212),f=i(518),h=i(31403),A=i(46975),g=i(59327),v=i(26430),y=i(82038),C=i(55222),b=new c({Extends:v,initialize:function(S,F,B,N){if(B.multiAtlasURL){var L=new f(S,{key:F,url:B.multiAtlasURL,xhrSettings:N,config:B});v.call(this,S,"texture",F,[L])}else{var R=B.textureURL.substr(B.textureURL.length-3);B.type||(B.type=R.toLowerCase()==="ktx"?"KTX":"PVR");var I=new p(S,{key:F,url:B.textureURL,extension:R,xhrSettings:N,config:B});if(B.atlasURL){var M=new f(S,{key:F,url:B.atlasURL,xhrSettings:N,config:B});v.call(this,S,"texture",F,[I,M])}else v.call(this,S,"texture",F,[I])}this.config=B},onFileComplete:function(T){var S=this.files.indexOf(T);if(S!==-1){if(this.pending--,!this.config.multiAtlasURL)return;if(T.type==="json"&&T.data.hasOwnProperty("textures")){var F=T.data.textures,B=this.config,N=this.loader,L=N.baseURL,R=N.path,I=N.prefix,M=u(B,"multiBaseURL",this.baseURL),P=u(B,"multiPath",this.path),U=u(B,"prefix",this.prefix),z=u(B,"textureXhrSettings");M&&N.setBaseURL(M),P&&N.setPath(P),U&&N.setPrefix(U);for(var W=0;W<F.length;W++){var Z=F[W].image,j="CMA"+this.multiKeyIndex+"_"+Z,H=new p(N,j,Z,z);if(this.addToMultiFile(H),N.addFile(H),F[W].normalMap){var V=new p(N,j,F[W].normalMap,z);V.type="normalMap",H.setLink(V),this.addToMultiFile(V),N.addFile(V)}}N.setBaseURL(L),N.setPath(R),N.setPrefix(I)}}},addToCache:function(){function T(M){console.warn('Compressed Texture Invalid: "'+L.key+'". '+M)}if(this.isReadyToProcess()){var S=this.config;if(S.multiAtlasURL)this.addMultiToCache();else{var F=this.loader.systems.renderer,B=this.loader.textureManager,N,L=this.files[0],R=this.files[1];if(S.type==="PVR"?N=y(L.data):S.type==="KTX"&&(N=h(L.data),N||T("KTX file contains unsupported format.")),N&&!C(N)&&(T("Texture dimensions failed verification. Check the texture format specifications for "+S.format+" 0x"+N.internalFormat.toString(16)+"."),N=null),N&&!F.supportsCompressedTexture(S.format,N.internalFormat)&&(T("Texture format "+S.format+" with internal format "+N.internalFormat+" not supported by the GPU. Texture invalid. This is often due to the texture using sRGB instead of linear RGB."),N=null),N){N.format=F.getCompressedTextureName(S.format,N.internalFormat);var I=R&&R.data?R.data:null;B.addCompressedTexture(L.key,N,I)}}this.complete=!0}},addMultiToCache:function(){for(var T=this.config,S=this.files[0],F=[],B=[],N=[],L=this.loader.systems.renderer,R=this.loader.textureManager,I,M=1;M<this.files.length;M++){var P=this.files[M];if(P.type!=="normalMap")for(var U=P.key.indexOf("_"),z=P.key.substr(U+1),W=P.data,Z=0;Z<S.data.textures.length;Z++){var j=S.data.textures[Z];if(j.image===z){T.type==="PVR"?I=y(W):T.type==="KTX"&&(I=h(W)),I&&L.supportsCompressedTexture(T.format,I.internalFormat)&&(I.format=L.getCompressedTextureName(T.format,I.internalFormat),B.push(I),F.push(j),P.linkFile&&N.push(P.linkFile.data));break}}}N.length===0&&(N=void 0),R.addAtlasJSONArray(this.key,B,F,N),this.complete=!0}});o.register("texture",function(T,S,F){var B=this.systems.renderer,N=function(R,I,M,P){var U={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(d(I)){var z=I;I=u(z,"key"),M=u(z,"url"),P=u(z,"xhrSettings")}var W=!1;for(var Z in M)if(B.supportsCompressedTexture(Z)){var j=M[Z];typeof j=="string"?U.textureURL=j:U=A(j,U),U.format=Z.toUpperCase(),W=!0;break}if(!W)console.warn("No supported compressed texture format or IMG fallback",I);else if(U.format==="IMG"){var H,V;U.multiAtlasURL?(V=new g(R,I,U.multiAtlasURL,U.multiPath,U.multiBaseURL,P),H=V.files):U.atlasURL?(V=new a(R,I,U.textureURL,U.atlasURL,P),H=V.files):H=new l(R,I,U.textureURL,P),R.addFile(H)}else{var k=new b(R,I,U,P);R.addFile(k.files)}};if(Array.isArray(T))for(var L=0;L<T.length;L++)N(this,T[L]);else N(this,T,S,F);return this}),r.exports=b},87674:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(23906),c=i(41299),o=i(74099),u=i(95540),l=i(98356),d=i(41212),f=new a({Extends:c,initialize:function(A,g,v,y,C,b){var T="ttf";if(d(g)){var S=g;g=u(S,"key"),v=u(S,"url"),y=u(S,"format","truetype"),C=u(S,"descriptors",null),b=u(S,"xhrSettings"),T=u(S,"extension",T)}else y===void 0&&(y="truetype");var F={type:"font",cache:!1,extension:T,responseType:"text",key:g,url:v,xhrSettings:b};c.call(this,A,F),this.data={format:y,descriptors:C},this.state=p.FILE_POPULATED},onProcess:function(){this.state=p.FILE_PROCESSING,this.src=l(this,this.loader.baseURL);var h,A=this.key,g="url("+this.src+') format("'+this.data.format+'")';this.data.descriptors?h=new FontFace(A,g,this.data.descriptors):h=new FontFace(A,g);var v=this;h.load().then(function(){document.fonts.add(h),document.body.classList.add("fonts-loaded"),v.onProcessComplete()}).catch(function(){console.warn("Font failed to load",g),v.onProcessComplete()})}});o.register("font",function(h,A,g,v,y){if(Array.isArray(h))for(var C=0;C<h.length;C++)this.addFile(new f(this,h[C]));else this.addFile(new f(this,h,A,g,v,y));return this}),r.exports=f},47931:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(23906),c=i(41299),o=i(74099),u=i(95540),l=i(41212),d=i(73894),f=new a({Extends:c,initialize:function(A,g,v,y,C){var b="glsl";if(l(g)){var T=g;g=u(T,"key"),v=u(T,"url"),y=u(T,"shaderType","fragment"),C=u(T,"xhrSettings"),b=u(T,"extension",b)}else y===void 0&&(y="fragment");var S={type:"glsl",cache:A.cacheManager.shader,extension:b,responseType:"text",key:g,url:v,config:{shaderType:y},xhrSettings:C};c.call(this,A,S)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var h=this.data.split(`
`),A=this.extractBlock(h,0);if(A)for(;A;){var g=this.getShaderName(A.header),v=this.getShaderType(A.header),y=this.getShaderUniforms(A.header),C=A.shader;if(this.cache.has(g)){var b=this.cache.get(g);v==="fragment"?b.fragmentSrc=C:b.vertexSrc=C,b.uniforms||(b.uniforms=y)}else v==="fragment"?this.cache.add(g,new d(g,C,"",y)):this.cache.add(g,new d(g,"",C,y));A=this.extractBlock(h,A.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new d(this.key,this.data)):this.cache.add(this.key,new d(this.key,"",this.data))},getShaderName:function(h){for(var A=0;A<h.length;A++){var g=h[A].trim();if(g.substring(0,5)==="name:")return g.substring(5).trim()}return this.key},getShaderType:function(h){for(var A=0;A<h.length;A++){var g=h[A].trim();if(g.substring(0,5)==="type:")return g.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(h){for(var A={},g=0;g<h.length;g++){var v=h[g].trim();if(v.substring(0,8)==="uniform."){var y=v.indexOf(":");if(y){var C=v.substring(8,y);try{A[C]=JSON.parse(v.substring(y+1))}catch{console.warn("Invalid uniform JSON: "+C)}}}}return A},extractBlock:function(h,A){for(var g=-1,v=-1,y=-1,C=!1,b=!1,T=[],S=[],F=A;F<h.length;F++){var B=h[F].trim();if(B==="---")if(g===-1)g=F,C=!0;else if(C)v=F,C=!1,b=!0;else{b=!1;break}else C?T.push(B):b&&(S.push(B),y=F)}return!C&&v!==-1?{header:T,shader:S.join(`
`),offset:y}:null}});o.register("glsl",function(h,A,g,v){if(Array.isArray(h))for(var y=0;y<h.length;y++)this.addFile(new f(this,h[y]));else this.addFile(new f(this,h,A,g,v));return this}),r.exports=f},89749:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(54899),c=i(41299),o=i(95540),u=i(98356),l=i(41212),d=new a({Extends:c,initialize:function(h,A,g,v){if(l(A)){var y=A;A=o(y,"key"),v=o(y,"config",v)}var C={type:"audio",cache:h.cacheManager.audio,extension:g.type,key:A,url:g.url,config:v};c.call(this,h,C),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var f=0;f<this.data.length;f++){var h=this.data[f];h.oncanplaythrough=null,h.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(f){var h=f.target;h.oncanplaythrough=null,h.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(p.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var f=this.config&&this.config.instances||1;this.filesTotal=f,this.filesLoaded=0,this.percentComplete=0;for(var h=0;h<f;h++){var A=new Audio;A.dataset||(A.dataset={}),A.dataset.name=this.key+("0"+h).slice(-2),A.dataset.used="false",this.locked?A.dataset.locked="true":(A.dataset.locked="false",A.preload="auto",A.oncanplaythrough=this.onProgress.bind(this),A.onerror=this.onError.bind(this)),this.data.push(A)}for(h=0;h<this.data.length;h++)A=this.data[h],A.src=u(this,this.loader.baseURL),this.locked||A.load();this.locked&&setTimeout(this.onLoad.bind(this))}});r.exports=d},88470:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(23906),c=i(41299),o=i(74099),u=i(95540),l=i(41212),d=new a({Extends:c,initialize:function(h,A,g,v){var y="html";if(l(A)){var C=A;A=u(C,"key"),g=u(C,"url"),v=u(C,"xhrSettings"),y=u(C,"extension",y)}var b={type:"text",cache:h.cacheManager.html,extension:y,responseType:"text",key:A,url:g,xhrSettings:v};c.call(this,h,b)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});o.register("html",function(f,h,A){if(Array.isArray(f))for(var g=0;g<f.length;g++)this.addFile(new d(this,f[g]));else this.addFile(new d(this,f,h,A));return this}),r.exports=d},14643:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(23906),c=i(41299),o=i(74099),u=i(95540),l=i(41212),d=new a({Extends:c,initialize:function(h,A,g,v,y,C){v===void 0&&(v=512),y===void 0&&(y=512);var b="html";if(l(A)){var T=A;A=u(T,"key"),g=u(T,"url"),C=u(T,"xhrSettings"),b=u(T,"extension",b),v=u(T,"width",v),y=u(T,"height",y)}var S={type:"html",cache:h.textureManager,extension:b,responseType:"text",key:A,url:g,xhrSettings:C,config:{width:v,height:y}};c.call(this,h,S)},onProcess:function(){this.state=p.FILE_PROCESSING;var f=this.config.width,h=this.config.height,A=[];A.push('<svg width="'+f+'px" height="'+h+'px" viewBox="0 0 '+f+" "+h+'" xmlns="http://www.w3.org/2000/svg">'),A.push('<foreignObject width="100%" height="100%">'),A.push('<body xmlns="http://www.w3.org/1999/xhtml">'),A.push(this.xhrLoader.responseText),A.push("</body>"),A.push("</foreignObject>"),A.push("</svg>");var g=[A.join(`
`)],v=this;try{var y=new window.Blob(g,{type:"image/svg+xml;charset=utf-8"})}catch{v.state=p.FILE_ERRORED,v.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){c.revokeObjectURL(v.data),v.onProcessComplete()},this.data.onerror=function(){c.revokeObjectURL(v.data),v.onProcessError()},c.createObjectURL(this.data,y,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});o.register("htmlTexture",function(f,h,A,g,v){if(Array.isArray(f))for(var y=0;y<f.length;y++)this.addFile(new d(this,f[y]));else this.addFile(new d(this,f,h,A,g,v));return this}),r.exports=d},19550:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(23906),c=i(41299),o=i(74099),u=i(95540),l=i(41212),d=i(98356),f=new a({Extends:c,initialize:function h(A,g,v,y,C){var b="png",T;if(l(g)){var S=g;g=u(S,"key"),v=u(S,"url"),T=u(S,"normalMap"),y=u(S,"xhrSettings"),b=u(S,"extension",b),C=u(S,"frameConfig")}Array.isArray(v)&&(T=v[1],v=v[0]);var F={type:"image",cache:A.textureManager,extension:b,responseType:"blob",key:g,url:v,xhrSettings:y,config:C};if(c.call(this,A,F),T){var B=new h(A,this.key,T,y,C);B.type="normalMap",this.setLink(B),A.addFile(B)}this.useImageElementLoad=A.imageLoadType==="HTMLImageElement"||this.base64,this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var h=this;this.data.onload=function(){c.revokeObjectURL(h.data),h.onProcessComplete()},this.data.onerror=function(){c.revokeObjectURL(h.data),h.onProcessError()},c.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var h=this.state;this.state=p.FILE_PROCESSING,h===p.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){this.state=p.FILE_LOADING,this.src=d(this,this.loader.baseURL),this.data=new Image,this.data.crossOrigin=this.crossOrigin;var h=this;this.data.onload=function(){h.state=p.FILE_LOADED,h.loader.nextFile(h,!0)},this.data.onerror=function(){h.loader.nextFile(h,!1)},this.data.src=this.src},addToCache:function(){var h=this.linkFile;h?h.state>=p.FILE_COMPLETE&&(h.type==="spritesheet"?h.addToCache():this.type==="normalMap"?this.cache.addImage(this.key,h.data,this.data):this.cache.addImage(this.key,this.data,h.data)):this.cache.addImage(this.key,this.data)}});o.register("image",function(h,A,g){if(Array.isArray(h))for(var v=0;v<h.length;v++)this.addFile(new f(this,h[v]));else this.addFile(new f(this,h,A,g));return this}),r.exports=f},518:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(23906),c=i(41299),o=i(74099),u=i(95540),l=i(35154),d=i(41212),f=new a({Extends:c,initialize:function(A,g,v,y,C){var b="json";if(d(g)){var T=g;g=u(T,"key"),v=u(T,"url"),y=u(T,"xhrSettings"),b=u(T,"extension",b),C=u(T,"dataKey",C)}var S={type:"json",cache:A.cacheManager.json,extension:b,responseType:"text",key:g,url:v,xhrSettings:y,config:C};c.call(this,A,S),d(v)&&(C?this.data=l(v,C):this.data=v,this.state=p.FILE_POPULATED)},onProcess:function(){if(this.state!==p.FILE_POPULATED){this.state=p.FILE_PROCESSING;try{var h=JSON.parse(this.xhrLoader.responseText)}catch(g){throw this.onProcessError(),g}var A=this.config;typeof A=="string"?this.data=l(h,A,h):this.data=h}this.onProcessComplete()}});o.register("json",function(h,A,g,v){if(Array.isArray(h))for(var y=0;y<h.length;y++)this.addFile(new f(this,h[y]));else this.addFile(new f(this,h,A,v,g));return this}),r.exports=f},59327:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(74099),c=i(95540),o=i(19550),u=i(41212),l=i(518),d=i(26430),f=new a({Extends:d,initialize:function(A,g,v,y,C,b,T){if(u(g)){var S=g;g=c(S,"key"),c(S,"url",!1)?v=c(S,"url"):v=c(S,"atlasURL"),b=c(S,"xhrSettings"),y=c(S,"path"),C=c(S,"baseURL"),T=c(S,"textureXhrSettings")}var F=new l(A,g,v,b);d.call(this,A,"multiatlas",g,[F]),this.config.path=y,this.config.baseURL=C,this.config.textureXhrSettings=T},onFileComplete:function(h){var A=this.files.indexOf(h);if(A!==-1&&(this.pending--,h.type==="json"&&h.data.hasOwnProperty("textures"))){var g=h.data.textures,v=this.config,y=this.loader,C=y.baseURL,b=y.path,T=y.prefix,S=c(v,"baseURL",this.baseURL),F=c(v,"path",this.path),B=c(v,"prefix",this.prefix),N=c(v,"textureXhrSettings");y.setBaseURL(S),y.setPath(F),y.setPrefix(B);for(var L=0;L<g.length;L++){var R=g[L].image,I="MA"+this.multiKeyIndex+"_"+R,M=new o(y,I,R,N);if(this.addToMultiFile(M),y.addFile(M),g[L].normalMap){var P=new o(y,I,g[L].normalMap,N);P.type="normalMap",M.setLink(P),this.addToMultiFile(P),y.addFile(P)}}y.setBaseURL(C),y.setPath(b),y.setPrefix(T)}},addToCache:function(){if(this.isReadyToProcess()){for(var h=this.files[0],A=[],g=[],v=[],y=1;y<this.files.length;y++){var C=this.files[y];if(C.type!=="normalMap")for(var b=C.key.indexOf("_"),T=C.key.substr(b+1),S=C.data,F=0;F<h.data.textures.length;F++){var B=h.data.textures[F];if(B.image===T){g.push(S),A.push(B),C.linkFile&&v.push(C.linkFile.data);break}}}v.length===0&&(v=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,g,A,v),this.complete=!0}}});p.register("multiatlas",function(h,A,g,v,y){var C;if(Array.isArray(h))for(var b=0;b<h.length;b++)C=new f(this,h[b]),this.addFile(C.files);else C=new f(this,h,A,g,v,y),this.addFile(C.files);return this}),r.exports=f},99297:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(74099),c=i(95540),o=i(41212),u=i(26430),l=i(34328),d=new a({Extends:u,initialize:function(h,A,g,v){var y="js",C=[];if(o(A)){var b=A;A=c(b,"key"),g=c(b,"url"),v=c(b,"xhrSettings"),y=c(b,"extension",y)}Array.isArray(g)||(g=[g]);for(var T=0;T<g.length;T++){var S=new l(h,{key:A+"_"+T.toString(),url:g[T],extension:y,xhrSettings:v});S.onProcess=function(){this.onProcessComplete()},C.push(S)}u.call(this,h,"scripts",A,C)},addToCache:function(){if(this.isReadyToProcess()){for(var f=0;f<this.files.length;f++){var h=this.files[f];h.data=document.createElement("script"),h.data.language="javascript",h.data.type="text/javascript",h.data.defer=!1,h.data.text=h.xhrLoader.responseText,document.head.appendChild(h.data)}this.complete=!0}}});p.register("scripts",function(f,h,A){var g;if(Array.isArray(f))for(var v=0;v<f.length;v++)g=new d(this,f[v]),this.addFile(g.files);else g=new d(this,f,h,A),this.addFile(g.files);return this}),r.exports=d},41846:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(74099),c=i(95540),o=i(41212),u=i(26430),l=i(85048),d=i(61485),f=i(78776),h=new a({Extends:u,initialize:function(g,v,y,C,b,T){var S,F,B=g.cacheManager.obj;if(o(v)){var N=v;v=c(N,"key"),S=new f(g,{key:v,type:"obj",cache:B,url:c(N,"url"),extension:c(N,"extension","obj"),xhrSettings:c(N,"xhrSettings"),config:{flipUV:c(N,"flipUV",b)}}),C=c(N,"matURL"),C&&(F=new f(g,{key:v,type:"mat",cache:B,url:C,extension:c(N,"matExtension","mat"),xhrSettings:c(N,"xhrSettings")}))}else S=new f(g,{key:v,url:y,type:"obj",cache:B,extension:"obj",xhrSettings:T,config:{flipUV:b}}),C&&(F=new f(g,{key:v,url:C,type:"mat",cache:B,extension:"mat",xhrSettings:T}));u.call(this,g,"obj",v,[S,F])},addToCache:function(){if(this.isReadyToProcess()){var A=this.files[0],g=this.files[1],v=l(A.data,A.config.flipUV);g&&(v.materials=d(g.data)),A.cache.add(A.key,v),this.complete=!0}}});p.register("obj",function(A,g,v,y,C){var b;if(Array.isArray(A))for(var T=0;T<A.length;T++)b=new h(this,A[T]),this.addFile(b.files);else b=new h(this,A,g,v,y,C),this.addFile(b.files);return this}),r.exports=h},58610:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(23906),c=i(74099),o=i(518),u=new a({Extends:o,initialize:function(d,f,h,A,g){o.call(this,d,f,h,A,g),this.type="packfile"},onProcess:function(){if(this.state!==p.FILE_POPULATED&&(this.state=p.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var l={};l[this.config]=this.data,this.data=l}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});c.register("pack",function(l,d,f,h){if(Array.isArray(l))for(var A=0;A<l.length;A++)this.addFile(new u(this,l[A]));else this.addFile(new u(this,l,d,h,f));return this}),r.exports=u},48988:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(23906),c=i(41299),o=i(74099),u=i(95540),l=i(41212),d=new a({Extends:c,initialize:function(h,A,g,v,y,C){var b="js";if(l(A)){var T=A;A=u(T,"key"),g=u(T,"url"),C=u(T,"xhrSettings"),b=u(T,"extension",b),v=u(T,"start"),y=u(T,"mapping")}var S={type:"plugin",cache:!1,extension:b,responseType:"text",key:A,url:g,xhrSettings:C,config:{start:v,mapping:y}};c.call(this,h,S),typeof g=="function"&&(this.data=g,this.state=p.FILE_POPULATED)},onProcess:function(){var f=this.loader.systems.plugins,h=this.config,A=u(h,"start",!1),g=u(h,"mapping",null);if(this.state===p.FILE_POPULATED)f.install(this.key,this.data,A,g);else{this.state=p.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var v=f.install(this.key,window[this.key],A,g);(A||g)&&(this.loader.systems[g]=v,this.loader.scene[g]=v)}this.onProcessComplete()}});o.register("plugin",function(f,h,A,g,v){if(Array.isArray(f))for(var y=0;y<f.length;y++)this.addFile(new d(this,f[y]));else this.addFile(new d(this,f,h,A,g,v));return this}),r.exports=d},67397:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(23906),c=i(41299),o=i(74099),u=i(95540),l=i(41212),d=new a({Extends:c,initialize:function(h,A,g,v,y){var C="svg";if(l(A)){var b=A;A=u(b,"key"),g=u(b,"url"),v=u(b,"svgConfig",{}),y=u(b,"xhrSettings"),C=u(b,"extension",C)}var T={type:"svg",cache:h.textureManager,extension:C,responseType:"text",key:A,url:g,xhrSettings:y,config:{width:u(v,"width"),height:u(v,"height"),scale:u(v,"scale")}};c.call(this,h,T)},onProcess:function(){this.state=p.FILE_PROCESSING;var f=this.xhrLoader.responseText,h=[f],A=this.config.width,g=this.config.height,v=this.config.scale;e:if(A&&g||v){var y=null,C=new DOMParser;y=C.parseFromString(f,"text/xml");var b=y.getElementsByTagName("svg")[0],T=b.hasAttribute("viewBox"),S=parseFloat(b.getAttribute("width")),F=parseFloat(b.getAttribute("height"));if(!T&&S&&F)b.setAttribute("viewBox","0  0 "+S+" "+F);else if(T&&!S&&!F){var B=b.getAttribute("viewBox").split(/\s+|,/);S=B[2],F=B[3]}if(v)if(S&&F)A=S*v,g=F*v;else break e;b.setAttribute("width",A.toString()+"px"),b.setAttribute("height",g.toString()+"px"),h=[new XMLSerializer().serializeToString(b)]}try{var N=new window.Blob(h,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var L=this,R=!1;this.data.onload=function(){R||c.revokeObjectURL(L.data),L.onProcessComplete()},this.data.onerror=function(){R?L.onProcessError():(R=!0,c.revokeObjectURL(L.data),L.data.src="data:image/svg+xml,"+encodeURIComponent(h.join("")))},c.createObjectURL(this.data,N,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});o.register("svg",function(f,h,A,g){if(Array.isArray(f))for(var v=0;v<f.length;v++)this.addFile(new d(this,f[v]));else this.addFile(new d(this,f,h,A,g));return this}),r.exports=d},88423:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(23906),c=i(41299),o=i(74099),u=i(95540),l=i(41212),d=new a({Extends:c,initialize:function(h,A,g,v){var y="js";if(l(A)){var C=A;A=u(C,"key"),g=u(C,"url"),v=u(C,"xhrSettings"),y=u(C,"extension",y)}var b={type:"text",extension:y,responseType:"text",key:A,url:g,xhrSettings:v};c.call(this,h,b)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var f=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),h=eval;this.loader.sceneManager.add(this.key,h(f)),this.complete=!0}});o.register("sceneFile",function(f,h,A){if(Array.isArray(f))for(var g=0;g<f.length;g++)this.addFile(new d(this,f[g]));else this.addFile(new d(this,f,h,A));return this}),r.exports=d},56812:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(23906),c=i(41299),o=i(74099),u=i(95540),l=i(41212),d=new a({Extends:c,initialize:function(h,A,g,v,y,C){var b="js";if(l(A)){var T=A;A=u(T,"key"),g=u(T,"url"),C=u(T,"xhrSettings"),b=u(T,"extension",b),v=u(T,"systemKey"),y=u(T,"sceneKey")}var S={type:"scenePlugin",cache:!1,extension:b,responseType:"text",key:A,url:g,xhrSettings:C,config:{systemKey:v,sceneKey:y}};c.call(this,h,S),typeof g=="function"&&(this.data=g,this.state=p.FILE_POPULATED)},onProcess:function(){var f=this.loader.systems.plugins,h=this.config,A=this.key,g=u(h,"systemKey",A),v=u(h,"sceneKey",A);this.state===p.FILE_POPULATED?f.installScenePlugin(g,this.data,v,this.loader.scene,!0):(this.state=p.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),f.installScenePlugin(g,window[this.key],v,this.loader.scene,!0)),this.onProcessComplete()}});o.register("scenePlugin",function(f,h,A,g,v){if(Array.isArray(f))for(var y=0;y<f.length;y++)this.addFile(new d(this,f[y]));else this.addFile(new d(this,f,h,A,g,v));return this}),r.exports=d},34328:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(23906),c=i(41299),o=i(74099),u=i(95540),l=i(41212),d=new a({Extends:c,initialize:function(h,A,g,v,y){var C="js";if(l(A)){var b=A;A=u(b,"key"),g=u(b,"url"),v=u(b,"type","script"),y=u(b,"xhrSettings"),C=u(b,"extension",C)}else v===void 0&&(v="script");var T={type:v,cache:!1,extension:C,responseType:"text",key:A,url:g,xhrSettings:y};c.call(this,h,T)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});o.register("script",function(f,h,A,g){if(Array.isArray(f))for(var v=0;v<f.length;v++)this.addFile(new d(this,f[v]));else this.addFile(new d(this,f,h,A,g));return this}),r.exports=d},85035:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(23906),c=i(74099),o=i(19550),u=new a({Extends:o,initialize:function(d,f,h,A,g){o.call(this,d,f,h,g,A),this.type="spritesheet"},addToCache:function(){var l=this.linkFile;l?l.state>=p.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addSpriteSheet(this.key,l.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,l.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});c.register("spritesheet",function(l,d,f,h){if(Array.isArray(l))for(var A=0;A<l.length;A++)this.addFile(new u(this,l[A]));else this.addFile(new u(this,l,d,f,h));return this}),r.exports=u},78776:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(23906),c=i(41299),o=i(74099),u=i(95540),l=i(41212),d=new a({Extends:c,initialize:function(h,A,g,v){var y="text",C="txt",b=h.cacheManager.text;if(l(A)){var T=A;A=u(T,"key"),g=u(T,"url"),v=u(T,"xhrSettings"),C=u(T,"extension",C),y=u(T,"type",y),b=u(T,"cache",b)}var S={type:y,cache:b,extension:C,responseType:"text",key:A,url:g,xhrSettings:v};c.call(this,h,S)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});o.register("text",function(f,h,A){if(Array.isArray(f))for(var g=0;g<f.length;g++)this.addFile(new d(this,f[g]));else this.addFile(new d(this,f,h,A));return this}),r.exports=d},49477:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(23906),c=i(41299),o=i(74099),u=i(95540),l=i(41212),d=i(80341),f=new a({Extends:c,initialize:function(A,g,v,y){var C="csv";if(l(g)){var b=g;g=u(b,"key"),v=u(b,"url"),y=u(b,"xhrSettings"),C=u(b,"extension",C)}var T={type:"tilemapCSV",cache:A.cacheManager.tilemap,extension:C,responseType:"text",key:g,url:v,xhrSettings:y};c.call(this,A,T),this.tilemapFormat=d.CSV},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var h={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,h)}});o.register("tilemapCSV",function(h,A,g){if(Array.isArray(h))for(var v=0;v<h.length;v++)this.addFile(new f(this,h[v]));else this.addFile(new f(this,h,A,g));return this}),r.exports=f},40807:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(74099),c=i(518),o=i(80341),u=new a({Extends:c,initialize:function(d,f,h,A){c.call(this,d,f,h,A),this.type="tilemapJSON",this.cache=d.cacheManager.tilemap},addToCache:function(){var l={format:o.WELTMEISTER,data:this.data};this.cache.add(this.key,l)}});p.register("tilemapImpact",function(l,d,f){if(Array.isArray(l))for(var h=0;h<l.length;h++)this.addFile(new u(this,l[h]));else this.addFile(new u(this,l,d,f));return this}),r.exports=u},56775:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(74099),c=i(518),o=i(80341),u=new a({Extends:c,initialize:function(d,f,h,A){c.call(this,d,f,h,A),this.type="tilemapJSON",this.cache=d.cacheManager.tilemap},addToCache:function(){var l={format:o.TILED_JSON,data:this.data};this.cache.add(this.key,l)}});p.register("tilemapTiledJSON",function(l,d,f){if(Array.isArray(l))for(var h=0;h<l.length;h++)this.addFile(new u(this,l[h]));else this.addFile(new u(this,l,d,f));return this}),r.exports=u},25771:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(74099),c=i(95540),o=i(19550),u=i(41212),l=i(26430),d=i(78776),f=new a({Extends:l,initialize:function(A,g,v,y,C,b){var T,S;if(u(g)){var F=g;g=c(F,"key"),T=new o(A,{key:g,url:c(F,"textureURL"),extension:c(F,"textureExtension","png"),normalMap:c(F,"normalMap"),xhrSettings:c(F,"textureXhrSettings")}),S=new d(A,{key:g,url:c(F,"atlasURL"),extension:c(F,"atlasExtension","txt"),xhrSettings:c(F,"atlasXhrSettings")})}else T=new o(A,g,v,C),S=new d(A,g,y,b);T.linkFile?l.call(this,A,"unityatlas",g,[T,S,T.linkFile]):l.call(this,A,"unityatlas",g,[T,S])},addToCache:function(){if(this.isReadyToProcess()){var h=this.files[0],A=this.files[1],g=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(h.key,h.data,A.data,g),this.complete=!0}}});p.register("unityAtlas",function(h,A,g,v,y){var C;if(Array.isArray(h))for(var b=0;b<h.length;b++)C=new f(this,h[b]),this.addFile(C.files);else C=new f(this,h,A,g,v,y),this.addFile(C.files);return this}),r.exports=f},33720:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(23906),c=i(41299),o=i(74099),u=i(98356),l=i(95540),d=i(41212),f=new a({Extends:c,initialize:function(A,g,v,y){if(y===void 0&&(y=!1),d(g)){var C=g;g=l(C,"key"),v=l(C,"url",[]),y=l(C,"noAudio",!1)}var b=A.systems.game.device.video.getVideoURL(v);b||console.warn("VideoFile: No supported format for "+g);var T={type:"video",cache:A.cacheManager.video,extension:b.type,key:g,url:b.url,config:{noAudio:y}};c.call(this,A,T)},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=u(this,this.loader.baseURL),this.state=p.FILE_LOADED,this.loader.nextFile(this,!0)}});o.register("video",function(h,A,g){if(Array.isArray(h))for(var v=0;v<h.length;v++)this.addFile(new f(this,h[v]));else this.addFile(new f(this,h,A,g));return this}),r.exports=f},57318:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(23906),c=i(41299),o=i(74099),u=i(95540),l=i(41212),d=i(56836),f=new a({Extends:c,initialize:function(A,g,v,y){var C="xml";if(l(g)){var b=g;g=u(b,"key"),v=u(b,"url"),y=u(b,"xhrSettings"),C=u(b,"extension",C)}var T={type:"xml",cache:A.cacheManager.xml,extension:C,responseType:"text",key:g,url:v,xhrSettings:y};c.call(this,A,T)},onProcess:function(){this.state=p.FILE_PROCESSING,this.data=d(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});o.register("xml",function(h,A,g){if(Array.isArray(h))for(var v=0;v<h.length;v++)this.addFile(new f(this,h[v]));else this.addFile(new f(this,h,A,g));return this}),r.exports=f},64589:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={AnimationJSONFile:i(14135),AsepriteFile:i(76272),AtlasJSONFile:i(38734),AtlasXMLFile:i(74599),AudioFile:i(21097),AudioSpriteFile:i(89524),BinaryFile:i(85722),BitmapFontFile:i(97025),CompressedTextureFile:i(69559),CSSFile:i(16024),FontFile:i(87674),GLSLFile:i(47931),HTML5AudioFile:i(89749),HTMLFile:i(88470),HTMLTextureFile:i(14643),ImageFile:i(19550),JSONFile:i(518),MultiAtlasFile:i(59327),MultiScriptFile:i(99297),OBJFile:i(41846),PackFile:i(58610),PluginFile:i(48988),SceneFile:i(88423),ScenePluginFile:i(56812),ScriptFile:i(34328),SpriteSheetFile:i(85035),SVGFile:i(67397),TextFile:i(78776),TilemapCSVFile:i(49477),TilemapImpactFile:i(40807),TilemapJSONFile:i(56775),UnityAtlasFile:i(25771),VideoFile:i(33720),XMLFile:i(57318)}},57777:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(23906),p=i(79291),c={Events:i(54899),FileTypes:i(64589),File:i(41299),FileTypesManager:i(74099),GetURL:i(98356),LoaderPlugin:i(74261),MergeXHRSettings:i(3374),MultiFile:i(26430),XHRLoader:i(84376),XHRSettings:i(92638)};c=p(!1,c,a),r.exports=c},53307:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){for(var a=0,p=0;p<i.length;p++)a+=+i[p];return a/i.length};r.exports=x},85710:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(6411),p=function(c,o){return a(c)/a(o)/a(c-o)};r.exports=p},30976:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){return Math.floor(Math.random()*(a-i+1)+i)};r.exports=x},87842:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p,c,o){var u=(c-a)*.5,l=(o-p)*.5,d=i*i,f=i*d;return(2*p-2*c+u+l)*f+(-3*p+3*c-2*u-l)*d+u*i+p};r.exports=x},26302:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p){a===void 0&&(a=0),p===void 0&&(p=10);var c=Math.pow(p,-a);return Math.ceil(i*c)/c};r.exports=x},45319:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p){return Math.max(a,Math.min(p,i))};r.exports=x},39506:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(36383),p=function(c){return c*a.DEG_TO_RAD};r.exports=p},61241:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){return Math.abs(i-a)};r.exports=x},38857:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(45319),p=i(83419),c=i(37867),o=i(29747),u=new c,l=new p({initialize:function d(f,h,A,g){f===void 0&&(f=0),h===void 0&&(h=0),A===void 0&&(A=0),g===void 0&&(g=d.DefaultOrder),this._x=f,this._y=h,this._z=A,this._order=g,this.onChangeCallback=o},x:{get:function(){return this._x},set:function(d){this._x=d,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(d){this._y=d,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(d){this._z=d,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(d){this._order=d,this.onChangeCallback(this)}},set:function(d,f,h,A){return A===void 0&&(A=this._order),this._x=d,this._y=f,this._z=h,this._order=A,this.onChangeCallback(this),this},copy:function(d){return this.set(d.x,d.y,d.z,d.order)},setFromQuaternion:function(d,f,h){return f===void 0&&(f=this._order),h===void 0&&(h=!1),u.fromQuat(d),this.setFromRotationMatrix(u,f,h)},setFromRotationMatrix:function(d,f,h){f===void 0&&(f=this._order),h===void 0&&(h=!1);var A=d.val,g=A[0],v=A[4],y=A[8],C=A[1],b=A[5],T=A[9],S=A[2],F=A[6],B=A[10],N=0,L=0,R=0,I=.99999;switch(f){case"XYZ":{L=Math.asin(a(y,-1,1)),Math.abs(y)<I?(N=Math.atan2(-T,B),R=Math.atan2(-v,g)):N=Math.atan2(F,b);break}case"YXZ":{N=Math.asin(-a(T,-1,1)),Math.abs(T)<I?(L=Math.atan2(y,B),R=Math.atan2(C,b)):L=Math.atan2(-S,g);break}case"ZXY":{N=Math.asin(a(F,-1,1)),Math.abs(F)<I?(L=Math.atan2(-S,B),R=Math.atan2(-v,b)):R=Math.atan2(C,g);break}case"ZYX":{L=Math.asin(-a(S,-1,1)),Math.abs(S)<I?(N=Math.atan2(F,B),R=Math.atan2(C,g)):R=Math.atan2(-v,b);break}case"YZX":{R=Math.asin(a(C,-1,1)),Math.abs(C)<I?(N=Math.atan2(-T,b),L=Math.atan2(-S,g)):L=Math.atan2(y,B);break}case"XZY":{R=Math.asin(-a(v,-1,1)),Math.abs(v)<I?(N=Math.atan2(F,b),L=Math.atan2(y,g)):N=Math.atan2(-T,B);break}}return this._x=N,this._y=L,this._z=R,this._order=f,h&&this.onChangeCallback(this),this}});l.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],l.DefaultOrder="XYZ",r.exports=l},6411:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){if(i===0)return 1;for(var a=i;--i;)a*=i;return a};r.exports=x},99472:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){return Math.random()*(a-i)+i};r.exports=x},77623:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p){a===void 0&&(a=0),p===void 0&&(p=10);var c=Math.pow(p,-a);return Math.floor(i*c)/c};r.exports=x},62945:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(45319),p=function(c,o,u){return c=a(c,0,1),(u-o)*c+o};r.exports=p},38265:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){return i/a/1e3};r.exports=x},78702:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){return i==parseFloat(i)?!(i%2):void 0};r.exports=x},94883:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){return i===parseFloat(i)?!(i%2):void 0};r.exports=x},28915:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p){return(a-i)*p+i};r.exports=x},94908:r=>{/**
 * @author       Greg McLean <GregDevProjects>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p){return p===void 0&&(p=0),i.clone().lerp(a,p)};r.exports=x},94434:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=new a({initialize:function(o){this.val=new Float32Array(9),o?this.copy(o):this.identity()},clone:function(){return new p(this)},set:function(c){return this.copy(c)},copy:function(c){var o=this.val,u=c.val;return o[0]=u[0],o[1]=u[1],o[2]=u[2],o[3]=u[3],o[4]=u[4],o[5]=u[5],o[6]=u[6],o[7]=u[7],o[8]=u[8],this},fromMat4:function(c){var o=c.val,u=this.val;return u[0]=o[0],u[1]=o[1],u[2]=o[2],u[3]=o[4],u[4]=o[5],u[5]=o[6],u[6]=o[8],u[7]=o[9],u[8]=o[10],this},fromArray:function(c){var o=this.val;return o[0]=c[0],o[1]=c[1],o[2]=c[2],o[3]=c[3],o[4]=c[4],o[5]=c[5],o[6]=c[6],o[7]=c[7],o[8]=c[8],this},identity:function(){var c=this.val;return c[0]=1,c[1]=0,c[2]=0,c[3]=0,c[4]=1,c[5]=0,c[6]=0,c[7]=0,c[8]=1,this},transpose:function(){var c=this.val,o=c[1],u=c[2],l=c[5];return c[1]=c[3],c[2]=c[6],c[3]=o,c[5]=c[7],c[6]=u,c[7]=l,this},invert:function(){var c=this.val,o=c[0],u=c[1],l=c[2],d=c[3],f=c[4],h=c[5],A=c[6],g=c[7],v=c[8],y=v*f-h*g,C=-v*d+h*A,b=g*d-f*A,T=o*y+u*C+l*b;return T?(T=1/T,c[0]=y*T,c[1]=(-v*u+l*g)*T,c[2]=(h*u-l*f)*T,c[3]=C*T,c[4]=(v*o-l*A)*T,c[5]=(-h*o+l*d)*T,c[6]=b*T,c[7]=(-g*o+u*A)*T,c[8]=(f*o-u*d)*T,this):null},adjoint:function(){var c=this.val,o=c[0],u=c[1],l=c[2],d=c[3],f=c[4],h=c[5],A=c[6],g=c[7],v=c[8];return c[0]=f*v-h*g,c[1]=l*g-u*v,c[2]=u*h-l*f,c[3]=h*A-d*v,c[4]=o*v-l*A,c[5]=l*d-o*h,c[6]=d*g-f*A,c[7]=u*A-o*g,c[8]=o*f-u*d,this},determinant:function(){var c=this.val,o=c[0],u=c[1],l=c[2],d=c[3],f=c[4],h=c[5],A=c[6],g=c[7],v=c[8];return o*(v*f-h*g)+u*(-v*d+h*A)+l*(g*d-f*A)},multiply:function(c){var o=this.val,u=o[0],l=o[1],d=o[2],f=o[3],h=o[4],A=o[5],g=o[6],v=o[7],y=o[8],C=c.val,b=C[0],T=C[1],S=C[2],F=C[3],B=C[4],N=C[5],L=C[6],R=C[7],I=C[8];return o[0]=b*u+T*f+S*g,o[1]=b*l+T*h+S*v,o[2]=b*d+T*A+S*y,o[3]=F*u+B*f+N*g,o[4]=F*l+B*h+N*v,o[5]=F*d+B*A+N*y,o[6]=L*u+R*f+I*g,o[7]=L*l+R*h+I*v,o[8]=L*d+R*A+I*y,this},translate:function(c){var o=this.val,u=c.x,l=c.y;return o[6]=u*o[0]+l*o[3]+o[6],o[7]=u*o[1]+l*o[4]+o[7],o[8]=u*o[2]+l*o[5]+o[8],this},rotate:function(c){var o=this.val,u=o[0],l=o[1],d=o[2],f=o[3],h=o[4],A=o[5],g=Math.sin(c),v=Math.cos(c);return o[0]=v*u+g*f,o[1]=v*l+g*h,o[2]=v*d+g*A,o[3]=v*f-g*u,o[4]=v*h-g*l,o[5]=v*A-g*d,this},scale:function(c){var o=this.val,u=c.x,l=c.y;return o[0]=u*o[0],o[1]=u*o[1],o[2]=u*o[2],o[3]=l*o[3],o[4]=l*o[4],o[5]=l*o[5],this},fromQuat:function(c){var o=c.x,u=c.y,l=c.z,d=c.w,f=o+o,h=u+u,A=l+l,g=o*f,v=o*h,y=o*A,C=u*h,b=u*A,T=l*A,S=d*f,F=d*h,B=d*A,N=this.val;return N[0]=1-(C+T),N[3]=v+B,N[6]=y-F,N[1]=v-B,N[4]=1-(g+T),N[7]=b+S,N[2]=y+F,N[5]=b-S,N[8]=1-(g+C),this},normalFromMat4:function(c){var o=c.val,u=this.val,l=o[0],d=o[1],f=o[2],h=o[3],A=o[4],g=o[5],v=o[6],y=o[7],C=o[8],b=o[9],T=o[10],S=o[11],F=o[12],B=o[13],N=o[14],L=o[15],R=l*g-d*A,I=l*v-f*A,M=l*y-h*A,P=d*v-f*g,U=d*y-h*g,z=f*y-h*v,W=C*B-b*F,Z=C*N-T*F,j=C*L-S*F,H=b*N-T*B,V=b*L-S*B,k=T*L-S*N,X=R*k-I*V+M*H+P*j-U*Z+z*W;return X?(X=1/X,u[0]=(g*k-v*V+y*H)*X,u[1]=(v*j-A*k-y*Z)*X,u[2]=(A*V-g*j+y*W)*X,u[3]=(f*V-d*k-h*H)*X,u[4]=(l*k-f*j+h*Z)*X,u[5]=(d*j-l*V-h*W)*X,u[6]=(B*z-N*U+L*P)*X,u[7]=(N*M-F*z-L*I)*X,u[8]=(F*U-B*M+L*R)*X,this):null}});r.exports=p},37867:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(25836),c=1e-6,o=new a({initialize:function(g){this.val=new Float32Array(16),g?this.copy(g):this.identity()},clone:function(){return new o(this)},set:function(A){return this.copy(A)},setValues:function(A,g,v,y,C,b,T,S,F,B,N,L,R,I,M,P){var U=this.val;return U[0]=A,U[1]=g,U[2]=v,U[3]=y,U[4]=C,U[5]=b,U[6]=T,U[7]=S,U[8]=F,U[9]=B,U[10]=N,U[11]=L,U[12]=R,U[13]=I,U[14]=M,U[15]=P,this},copy:function(A){var g=A.val;return this.setValues(g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],g[8],g[9],g[10],g[11],g[12],g[13],g[14],g[15])},fromArray:function(A){return this.setValues(A[0],A[1],A[2],A[3],A[4],A[5],A[6],A[7],A[8],A[9],A[10],A[11],A[12],A[13],A[14],A[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(A,g,v){var y=u.fromQuat(v),C=y.val,b=g.x,T=g.y,S=g.z;return this.setValues(C[0]*b,C[1]*b,C[2]*b,0,C[4]*T,C[5]*T,C[6]*T,0,C[8]*S,C[9]*S,C[10]*S,0,A.x,A.y,A.z,1)},xyz:function(A,g,v){this.identity();var y=this.val;return y[12]=A,y[13]=g,y[14]=v,this},scaling:function(A,g,v){this.zero();var y=this.val;return y[0]=A,y[5]=g,y[10]=v,y[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var A=this.val,g=A[1],v=A[2],y=A[3],C=A[6],b=A[7],T=A[11];return A[1]=A[4],A[2]=A[8],A[3]=A[12],A[4]=g,A[6]=A[9],A[7]=A[13],A[8]=v,A[9]=C,A[11]=A[14],A[12]=y,A[13]=b,A[14]=T,this},getInverse:function(A){return this.copy(A),this.invert()},invert:function(){var A=this.val,g=A[0],v=A[1],y=A[2],C=A[3],b=A[4],T=A[5],S=A[6],F=A[7],B=A[8],N=A[9],L=A[10],R=A[11],I=A[12],M=A[13],P=A[14],U=A[15],z=g*T-v*b,W=g*S-y*b,Z=g*F-C*b,j=v*S-y*T,H=v*F-C*T,V=y*F-C*S,k=B*M-N*I,X=B*P-L*I,Q=B*U-R*I,J=N*P-L*M,$=N*U-R*M,_=L*U-R*P,te=z*_-W*$+Z*J+j*Q-H*X+V*k;return te?(te=1/te,this.setValues((T*_-S*$+F*J)*te,(y*$-v*_-C*J)*te,(M*V-P*H+U*j)*te,(L*H-N*V-R*j)*te,(S*Q-b*_-F*X)*te,(g*_-y*Q+C*X)*te,(P*Z-I*V-U*W)*te,(B*V-L*Z+R*W)*te,(b*$-T*Q+F*k)*te,(v*Q-g*$-C*k)*te,(I*H-M*Z+U*z)*te,(N*Z-B*H-R*z)*te,(T*X-b*J-S*k)*te,(g*J-v*X+y*k)*te,(M*W-I*j-P*z)*te,(B*j-N*W+L*z)*te)):this},adjoint:function(){var A=this.val,g=A[0],v=A[1],y=A[2],C=A[3],b=A[4],T=A[5],S=A[6],F=A[7],B=A[8],N=A[9],L=A[10],R=A[11],I=A[12],M=A[13],P=A[14],U=A[15];return this.setValues(T*(L*U-R*P)-N*(S*U-F*P)+M*(S*R-F*L),-(v*(L*U-R*P)-N*(y*U-C*P)+M*(y*R-C*L)),v*(S*U-F*P)-T*(y*U-C*P)+M*(y*F-C*S),-(v*(S*R-F*L)-T*(y*R-C*L)+N*(y*F-C*S)),-(b*(L*U-R*P)-B*(S*U-F*P)+I*(S*R-F*L)),g*(L*U-R*P)-B*(y*U-C*P)+I*(y*R-C*L),-(g*(S*U-F*P)-b*(y*U-C*P)+I*(y*F-C*S)),g*(S*R-F*L)-b*(y*R-C*L)+B*(y*F-C*S),b*(N*U-R*M)-B*(T*U-F*M)+I*(T*R-F*N),-(g*(N*U-R*M)-B*(v*U-C*M)+I*(v*R-C*N)),g*(T*U-F*M)-b*(v*U-C*M)+I*(v*F-C*T),-(g*(T*R-F*N)-b*(v*R-C*N)+B*(v*F-C*T)),-(b*(N*P-L*M)-B*(T*P-S*M)+I*(T*L-S*N)),g*(N*P-L*M)-B*(v*P-y*M)+I*(v*L-y*N),-(g*(T*P-S*M)-b*(v*P-y*M)+I*(v*S-y*T)),g*(T*L-S*N)-b*(v*L-y*N)+B*(v*S-y*T))},determinant:function(){var A=this.val,g=A[0],v=A[1],y=A[2],C=A[3],b=A[4],T=A[5],S=A[6],F=A[7],B=A[8],N=A[9],L=A[10],R=A[11],I=A[12],M=A[13],P=A[14],U=A[15],z=g*T-v*b,W=g*S-y*b,Z=g*F-C*b,j=v*S-y*T,H=v*F-C*T,V=y*F-C*S,k=B*M-N*I,X=B*P-L*I,Q=B*U-R*I,J=N*P-L*M,$=N*U-R*M,_=L*U-R*P;return z*_-W*$+Z*J+j*Q-H*X+V*k},multiply:function(A){var g=this.val,v=g[0],y=g[1],C=g[2],b=g[3],T=g[4],S=g[5],F=g[6],B=g[7],N=g[8],L=g[9],R=g[10],I=g[11],M=g[12],P=g[13],U=g[14],z=g[15],W=A.val,Z=W[0],j=W[1],H=W[2],V=W[3];return g[0]=Z*v+j*T+H*N+V*M,g[1]=Z*y+j*S+H*L+V*P,g[2]=Z*C+j*F+H*R+V*U,g[3]=Z*b+j*B+H*I+V*z,Z=W[4],j=W[5],H=W[6],V=W[7],g[4]=Z*v+j*T+H*N+V*M,g[5]=Z*y+j*S+H*L+V*P,g[6]=Z*C+j*F+H*R+V*U,g[7]=Z*b+j*B+H*I+V*z,Z=W[8],j=W[9],H=W[10],V=W[11],g[8]=Z*v+j*T+H*N+V*M,g[9]=Z*y+j*S+H*L+V*P,g[10]=Z*C+j*F+H*R+V*U,g[11]=Z*b+j*B+H*I+V*z,Z=W[12],j=W[13],H=W[14],V=W[15],g[12]=Z*v+j*T+H*N+V*M,g[13]=Z*y+j*S+H*L+V*P,g[14]=Z*C+j*F+H*R+V*U,g[15]=Z*b+j*B+H*I+V*z,this},multiplyLocal:function(A){var g=this.val,v=A.val;return this.setValues(g[0]*v[0]+g[1]*v[4]+g[2]*v[8]+g[3]*v[12],g[0]*v[1]+g[1]*v[5]+g[2]*v[9]+g[3]*v[13],g[0]*v[2]+g[1]*v[6]+g[2]*v[10]+g[3]*v[14],g[0]*v[3]+g[1]*v[7]+g[2]*v[11]+g[3]*v[15],g[4]*v[0]+g[5]*v[4]+g[6]*v[8]+g[7]*v[12],g[4]*v[1]+g[5]*v[5]+g[6]*v[9]+g[7]*v[13],g[4]*v[2]+g[5]*v[6]+g[6]*v[10]+g[7]*v[14],g[4]*v[3]+g[5]*v[7]+g[6]*v[11]+g[7]*v[15],g[8]*v[0]+g[9]*v[4]+g[10]*v[8]+g[11]*v[12],g[8]*v[1]+g[9]*v[5]+g[10]*v[9]+g[11]*v[13],g[8]*v[2]+g[9]*v[6]+g[10]*v[10]+g[11]*v[14],g[8]*v[3]+g[9]*v[7]+g[10]*v[11]+g[11]*v[15],g[12]*v[0]+g[13]*v[4]+g[14]*v[8]+g[15]*v[12],g[12]*v[1]+g[13]*v[5]+g[14]*v[9]+g[15]*v[13],g[12]*v[2]+g[13]*v[6]+g[14]*v[10]+g[15]*v[14],g[12]*v[3]+g[13]*v[7]+g[14]*v[11]+g[15]*v[15])},premultiply:function(A){return this.multiplyMatrices(A,this)},multiplyMatrices:function(A,g){var v=A.val,y=g.val,C=v[0],b=v[4],T=v[8],S=v[12],F=v[1],B=v[5],N=v[9],L=v[13],R=v[2],I=v[6],M=v[10],P=v[14],U=v[3],z=v[7],W=v[11],Z=v[15],j=y[0],H=y[4],V=y[8],k=y[12],X=y[1],Q=y[5],J=y[9],$=y[13],_=y[2],te=y[6],se=y[10],ce=y[14],ge=y[3],ue=y[7],re=y[11],Ce=y[15];return this.setValues(C*j+b*X+T*_+S*ge,F*j+B*X+N*_+L*ge,R*j+I*X+M*_+P*ge,U*j+z*X+W*_+Z*ge,C*H+b*Q+T*te+S*ue,F*H+B*Q+N*te+L*ue,R*H+I*Q+M*te+P*ue,U*H+z*Q+W*te+Z*ue,C*V+b*J+T*se+S*re,F*V+B*J+N*se+L*re,R*V+I*J+M*se+P*re,U*V+z*J+W*se+Z*re,C*k+b*$+T*ce+S*Ce,F*k+B*$+N*ce+L*Ce,R*k+I*$+M*ce+P*Ce,U*k+z*$+W*ce+Z*Ce)},translate:function(A){return this.translateXYZ(A.x,A.y,A.z)},translateXYZ:function(A,g,v){var y=this.val;return y[12]=y[0]*A+y[4]*g+y[8]*v+y[12],y[13]=y[1]*A+y[5]*g+y[9]*v+y[13],y[14]=y[2]*A+y[6]*g+y[10]*v+y[14],y[15]=y[3]*A+y[7]*g+y[11]*v+y[15],this},scale:function(A){return this.scaleXYZ(A.x,A.y,A.z)},scaleXYZ:function(A,g,v){var y=this.val;return y[0]=y[0]*A,y[1]=y[1]*A,y[2]=y[2]*A,y[3]=y[3]*A,y[4]=y[4]*g,y[5]=y[5]*g,y[6]=y[6]*g,y[7]=y[7]*g,y[8]=y[8]*v,y[9]=y[9]*v,y[10]=y[10]*v,y[11]=y[11]*v,this},makeRotationAxis:function(A,g){var v=Math.cos(g),y=Math.sin(g),C=1-v,b=A.x,T=A.y,S=A.z,F=C*b,B=C*T;return this.setValues(F*b+v,F*T-y*S,F*S+y*T,0,F*T+y*S,B*T+v,B*S-y*b,0,F*S-y*T,B*S+y*b,C*S*S+v,0,0,0,0,1)},rotate:function(A,g){var v=this.val,y=g.x,C=g.y,b=g.z,T=Math.sqrt(y*y+C*C+b*b);if(Math.abs(T)<c)return this;T=1/T,y*=T,C*=T,b*=T;var S=Math.sin(A),F=Math.cos(A),B=1-F,N=v[0],L=v[1],R=v[2],I=v[3],M=v[4],P=v[5],U=v[6],z=v[7],W=v[8],Z=v[9],j=v[10],H=v[11],V=v[12],k=v[13],X=v[14],Q=v[15],J=y*y*B+F,$=C*y*B+b*S,_=b*y*B-C*S,te=y*C*B-b*S,se=C*C*B+F,ce=b*C*B+y*S,ge=y*b*B+C*S,ue=C*b*B-y*S,re=b*b*B+F;return this.setValues(N*J+M*$+W*_,L*J+P*$+Z*_,R*J+U*$+j*_,I*J+z*$+H*_,N*te+M*se+W*ce,L*te+P*se+Z*ce,R*te+U*se+j*ce,I*te+z*se+H*ce,N*ge+M*ue+W*re,L*ge+P*ue+Z*re,R*ge+U*ue+j*re,I*ge+z*ue+H*re,V,k,X,Q)},rotateX:function(A){var g=this.val,v=Math.sin(A),y=Math.cos(A),C=g[4],b=g[5],T=g[6],S=g[7],F=g[8],B=g[9],N=g[10],L=g[11];return g[4]=C*y+F*v,g[5]=b*y+B*v,g[6]=T*y+N*v,g[7]=S*y+L*v,g[8]=F*y-C*v,g[9]=B*y-b*v,g[10]=N*y-T*v,g[11]=L*y-S*v,this},rotateY:function(A){var g=this.val,v=Math.sin(A),y=Math.cos(A),C=g[0],b=g[1],T=g[2],S=g[3],F=g[8],B=g[9],N=g[10],L=g[11];return g[0]=C*y-F*v,g[1]=b*y-B*v,g[2]=T*y-N*v,g[3]=S*y-L*v,g[8]=C*v+F*y,g[9]=b*v+B*y,g[10]=T*v+N*y,g[11]=S*v+L*y,this},rotateZ:function(A){var g=this.val,v=Math.sin(A),y=Math.cos(A),C=g[0],b=g[1],T=g[2],S=g[3],F=g[4],B=g[5],N=g[6],L=g[7];return g[0]=C*y+F*v,g[1]=b*y+B*v,g[2]=T*y+N*v,g[3]=S*y+L*v,g[4]=F*y-C*v,g[5]=B*y-b*v,g[6]=N*y-T*v,g[7]=L*y-S*v,this},fromRotationTranslation:function(A,g){var v=A.x,y=A.y,C=A.z,b=A.w,T=v+v,S=y+y,F=C+C,B=v*T,N=v*S,L=v*F,R=y*S,I=y*F,M=C*F,P=b*T,U=b*S,z=b*F;return this.setValues(1-(R+M),N+z,L-U,0,N-z,1-(B+M),I+P,0,L+U,I-P,1-(B+R),0,g.x,g.y,g.z,1)},fromQuat:function(A){var g=A.x,v=A.y,y=A.z,C=A.w,b=g+g,T=v+v,S=y+y,F=g*b,B=g*T,N=g*S,L=v*T,R=v*S,I=y*S,M=C*b,P=C*T,U=C*S;return this.setValues(1-(L+I),B+U,N-P,0,B-U,1-(F+I),R+M,0,N+P,R-M,1-(F+L),0,0,0,0,1)},frustum:function(A,g,v,y,C,b){var T=1/(g-A),S=1/(y-v),F=1/(C-b);return this.setValues(C*2*T,0,0,0,0,C*2*S,0,0,(g+A)*T,(y+v)*S,(b+C)*F,-1,0,0,b*C*2*F,0)},perspective:function(A,g,v,y){var C=1/Math.tan(A/2),b=1/(v-y);return this.setValues(C/g,0,0,0,0,C,0,0,0,0,(y+v)*b,-1,0,0,2*y*v*b,0)},perspectiveLH:function(A,g,v,y){return this.setValues(2*v/A,0,0,0,0,2*v/g,0,0,0,0,-y/(v-y),1,0,0,v*y/(v-y),0)},ortho:function(A,g,v,y,C,b){var T=A-g,S=v-y,F=C-b;return T=T===0?T:1/T,S=S===0?S:1/S,F=F===0?F:1/F,this.setValues(-2*T,0,0,0,0,-2*S,0,0,0,0,2*F,0,(A+g)*T,(y+v)*S,(b+C)*F,1)},lookAtRH:function(A,g,v){var y=this.val;return h.subVectors(A,g),h.lengthSq()===0&&(h.z=1),h.normalize(),d.crossVectors(v,h),d.lengthSq()===0&&(Math.abs(v.z)===1?h.x+=1e-4:h.z+=1e-4,h.normalize(),d.crossVectors(v,h)),d.normalize(),f.crossVectors(h,d),y[0]=d.x,y[1]=d.y,y[2]=d.z,y[4]=f.x,y[5]=f.y,y[6]=f.z,y[8]=h.x,y[9]=h.y,y[10]=h.z,this},lookAt:function(A,g,v){var y=A.x,C=A.y,b=A.z,T=v.x,S=v.y,F=v.z,B=g.x,N=g.y,L=g.z;if(Math.abs(y-B)<c&&Math.abs(C-N)<c&&Math.abs(b-L)<c)return this.identity();var R=y-B,I=C-N,M=b-L,P=1/Math.sqrt(R*R+I*I+M*M);R*=P,I*=P,M*=P;var U=S*M-F*I,z=F*R-T*M,W=T*I-S*R;P=Math.sqrt(U*U+z*z+W*W),P?(P=1/P,U*=P,z*=P,W*=P):(U=0,z=0,W=0);var Z=I*W-M*z,j=M*U-R*W,H=R*z-I*U;return P=Math.sqrt(Z*Z+j*j+H*H),P?(P=1/P,Z*=P,j*=P,H*=P):(Z=0,j=0,H=0),this.setValues(U,Z,R,0,z,j,I,0,W,H,M,0,-(U*y+z*C+W*b),-(Z*y+j*C+H*b),-(R*y+I*C+M*b),1)},yawPitchRoll:function(A,g,v){this.zero(),u.zero(),l.zero();var y=this.val,C=u.val,b=l.val,T=Math.sin(v),S=Math.cos(v);return y[10]=1,y[15]=1,y[0]=S,y[1]=T,y[4]=-T,y[5]=S,T=Math.sin(g),S=Math.cos(g),C[0]=1,C[15]=1,C[5]=S,C[10]=S,C[9]=-T,C[6]=T,T=Math.sin(A),S=Math.cos(A),b[5]=1,b[15]=1,b[0]=S,b[2]=-T,b[8]=T,b[10]=S,this.multiplyLocal(u),this.multiplyLocal(l),this},setWorldMatrix:function(A,g,v,y,C){return this.yawPitchRoll(A.y,A.x,A.z),u.scaling(v.x,v.y,v.z),l.xyz(g.x,g.y,g.z),this.multiplyLocal(u),this.multiplyLocal(l),y&&this.multiplyLocal(y),C&&this.multiplyLocal(C),this},multiplyToMat4:function(A,g){var v=this.val,y=A.val,C=v[0],b=v[1],T=v[2],S=v[3],F=v[4],B=v[5],N=v[6],L=v[7],R=v[8],I=v[9],M=v[10],P=v[11],U=v[12],z=v[13],W=v[14],Z=v[15],j=y[0],H=y[1],V=y[2],k=y[3],X=y[4],Q=y[5],J=y[6],$=y[7],_=y[8],te=y[9],se=y[10],ce=y[11],ge=y[12],ue=y[13],re=y[14],Ce=y[15];return g.setValues(j*C+H*F+V*R+k*U,H*b+H*B+V*I+k*z,V*T+H*N+V*M+k*W,k*S+H*L+V*P+k*Z,X*C+Q*F+J*R+$*U,X*b+Q*B+J*I+$*z,X*T+Q*N+J*M+$*W,X*S+Q*L+J*P+$*Z,_*C+te*F+se*R+ce*U,_*b+te*B+se*I+ce*z,_*T+te*N+se*M+ce*W,_*S+te*L+se*P+ce*Z,ge*C+ue*F+re*R+Ce*U,ge*b+ue*B+re*I+Ce*z,ge*T+ue*N+re*M+Ce*W,ge*S+ue*L+re*P+Ce*Z)},fromRotationXYTranslation:function(A,g,v){var y=g.x,C=g.y,b=g.z,T=Math.sin(A.x),S=Math.cos(A.x),F=Math.sin(A.y),B=Math.cos(A.y),N=y,L=C,R=b,I=-T,M=0-I*F,P=0-S*F,U=I*B,z=S*B;return v||(N=B*y+F*b,L=M*y+S*C+U*b,R=P*y+T*C+z*b),this.setValues(B,M,P,0,0,S,T,0,F,U,z,0,N,L,R,1)},getMaxScaleOnAxis:function(){var A=this.val,g=A[0]*A[0]+A[1]*A[1]+A[2]*A[2],v=A[4]*A[4]+A[5]*A[5]+A[6]*A[6],y=A[8]*A[8]+A[9]*A[9]+A[10]*A[10];return Math.sqrt(Math.max(g,v,y))}}),u=new o,l=new o,d=new p,f=new p,h=new p;r.exports=o},86883:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p){return Math.min(i+a,p)};r.exports=x},50040:r=>{/**
 * @author       Vladislav Forsh <vlad@robowhale.com>
 * @copyright    2021 RoboWhale
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){var a=i.length;if(a===0)return 0;i.sort(function(c,o){return c-o});var p=Math.floor(a/2);return a%2===0?(i[p]+i[p-1])/2:i[p]};r.exports=x},37204:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p){return Math.max(i-a,p)};r.exports=x},65201:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p,c){p===void 0&&(p=a+1);var o=(i-a)/(p-a);return o>1?c!==void 0?(o=(c-i)/(c-p),o<0&&(o=0)):o=1:o<0&&(o=0),o};r.exports=x},15746:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(94434),c=i(29747),o=i(25836),u=1e-6,l=new Int8Array([1,2,0]),d=new Float32Array([0,0,0]),f=new o(1,0,0),h=new o(0,1,0),A=new o,g=new p,v=new a({initialize:function(C,b,T,S){this.onChangeCallback=c,this.set(C,b,T,S)},x:{get:function(){return this._x},set:function(y){this._x=y,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(y){this._y=y,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(y){this._z=y,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(y){this._w=y,this.onChangeCallback(this)}},copy:function(y){return this.set(y)},set:function(y,C,b,T,S){return S===void 0&&(S=!0),typeof y=="object"?(this._x=y.x||0,this._y=y.y||0,this._z=y.z||0,this._w=y.w||0):(this._x=y||0,this._y=C||0,this._z=b||0,this._w=T||0),S&&this.onChangeCallback(this),this},add:function(y){return this._x+=y.x,this._y+=y.y,this._z+=y.z,this._w+=y.w,this.onChangeCallback(this),this},subtract:function(y){return this._x-=y.x,this._y-=y.y,this._z-=y.z,this._w-=y.w,this.onChangeCallback(this),this},scale:function(y){return this._x*=y,this._y*=y,this._z*=y,this._w*=y,this.onChangeCallback(this),this},length:function(){var y=this.x,C=this.y,b=this.z,T=this.w;return Math.sqrt(y*y+C*C+b*b+T*T)},lengthSq:function(){var y=this.x,C=this.y,b=this.z,T=this.w;return y*y+C*C+b*b+T*T},normalize:function(){var y=this.x,C=this.y,b=this.z,T=this.w,S=y*y+C*C+b*b+T*T;return S>0&&(S=1/Math.sqrt(S),this._x=y*S,this._y=C*S,this._z=b*S,this._w=T*S),this.onChangeCallback(this),this},dot:function(y){return this.x*y.x+this.y*y.y+this.z*y.z+this.w*y.w},lerp:function(y,C){C===void 0&&(C=0);var b=this.x,T=this.y,S=this.z,F=this.w;return this.set(b+C*(y.x-b),T+C*(y.y-T),S+C*(y.z-S),F+C*(y.w-F))},rotationTo:function(y,C){var b=y.x*C.x+y.y*C.y+y.z*C.z;return b<-.999999?(A.copy(f).cross(y).length()<u&&A.copy(h).cross(y),A.normalize(),this.setAxisAngle(A,Math.PI)):b>.999999?this.set(0,0,0,1):(A.copy(y).cross(C),this._x=A.x,this._y=A.y,this._z=A.z,this._w=1+b,this.normalize())},setAxes:function(y,C,b){var T=g.val;return T[0]=C.x,T[3]=C.y,T[6]=C.z,T[1]=b.x,T[4]=b.y,T[7]=b.z,T[2]=-y.x,T[5]=-y.y,T[8]=-y.z,this.fromMat3(g).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(y,C){C=C*.5;var b=Math.sin(C);return this.set(b*y.x,b*y.y,b*y.z,Math.cos(C))},multiply:function(y){var C=this.x,b=this.y,T=this.z,S=this.w,F=y.x,B=y.y,N=y.z,L=y.w;return this.set(C*L+S*F+b*N-T*B,b*L+S*B+T*F-C*N,T*L+S*N+C*B-b*F,S*L-C*F-b*B-T*N)},slerp:function(y,C){var b=this.x,T=this.y,S=this.z,F=this.w,B=y.x,N=y.y,L=y.z,R=y.w,I=b*B+T*N+S*L+F*R;I<0&&(I=-I,B=-B,N=-N,L=-L,R=-R);var M=1-C,P=C;if(1-I>u){var U=Math.acos(I),z=Math.sin(U);M=Math.sin((1-C)*U)/z,P=Math.sin(C*U)/z}return this.set(M*b+P*B,M*T+P*N,M*S+P*L,M*F+P*R)},invert:function(){var y=this.x,C=this.y,b=this.z,T=this.w,S=y*y+C*C+b*b+T*T,F=S?1/S:0;return this.set(-y*F,-C*F,-b*F,T*F)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(y){y*=.5;var C=this.x,b=this.y,T=this.z,S=this.w,F=Math.sin(y),B=Math.cos(y);return this.set(C*B+S*F,b*B+T*F,T*B-b*F,S*B-C*F)},rotateY:function(y){y*=.5;var C=this.x,b=this.y,T=this.z,S=this.w,F=Math.sin(y),B=Math.cos(y);return this.set(C*B-T*F,b*B+S*F,T*B+C*F,S*B-b*F)},rotateZ:function(y){y*=.5;var C=this.x,b=this.y,T=this.z,S=this.w,F=Math.sin(y),B=Math.cos(y);return this.set(C*B+b*F,b*B-C*F,T*B+S*F,S*B-T*F)},calculateW:function(){var y=this.x,C=this.y,b=this.z;return this.w=-Math.sqrt(1-y*y-C*C-b*b),this},setFromEuler:function(y,C){var b=y.x/2,T=y.y/2,S=y.z/2,F=Math.cos(b),B=Math.cos(T),N=Math.cos(S),L=Math.sin(b),R=Math.sin(T),I=Math.sin(S);switch(y.order){case"XYZ":{this.set(L*B*N+F*R*I,F*R*N-L*B*I,F*B*I+L*R*N,F*B*N-L*R*I,C);break}case"YXZ":{this.set(L*B*N+F*R*I,F*R*N-L*B*I,F*B*I-L*R*N,F*B*N+L*R*I,C);break}case"ZXY":{this.set(L*B*N-F*R*I,F*R*N+L*B*I,F*B*I+L*R*N,F*B*N-L*R*I,C);break}case"ZYX":{this.set(L*B*N-F*R*I,F*R*N+L*B*I,F*B*I-L*R*N,F*B*N+L*R*I,C);break}case"YZX":{this.set(L*B*N+F*R*I,F*R*N+L*B*I,F*B*I-L*R*N,F*B*N-L*R*I,C);break}case"XZY":{this.set(L*B*N-F*R*I,F*R*N-L*B*I,F*B*I+L*R*N,F*B*N+L*R*I,C);break}}return this},setFromRotationMatrix:function(y){var C=y.val,b=C[0],T=C[4],S=C[8],F=C[1],B=C[5],N=C[9],L=C[2],R=C[6],I=C[10],M=b+B+I,P;return M>0?(P=.5/Math.sqrt(M+1),this.set((R-N)*P,(S-L)*P,(F-T)*P,.25/P)):b>B&&b>I?(P=2*Math.sqrt(1+b-B-I),this.set(.25*P,(T+F)/P,(S+L)/P,(R-N)/P)):B>I?(P=2*Math.sqrt(1+B-b-I),this.set((T+F)/P,.25*P,(N+R)/P,(S-L)/P)):(P=2*Math.sqrt(1+I-b-B),this.set((S+L)/P,(N+R)/P,.25*P,(F-T)/P)),this},fromMat3:function(y){var C=y.val,b=C[0]+C[4]+C[8],T;if(b>0)T=Math.sqrt(b+1),this.w=.5*T,T=.5/T,this._x=(C[7]-C[5])*T,this._y=(C[2]-C[6])*T,this._z=(C[3]-C[1])*T;else{var S=0;C[4]>C[0]&&(S=1),C[8]>C[S*3+S]&&(S=2);var F=l[S],B=l[F];T=Math.sqrt(C[S*3+S]-C[F*3+F]-C[B*3+B]+1),d[S]=.5*T,T=.5/T,d[F]=(C[F*3+S]+C[S*3+F])*T,d[B]=(C[B*3+S]+C[S*3+B])*T,this._x=d[0],this._y=d[1],this._z=d[2],this._w=(C[B*3+F]-C[F*3+B])*T}return this.onChangeCallback(this),this}});r.exports=v},43396:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(36383),p=function(c){return c*a.RAD_TO_DEG};r.exports=p},74362:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){a===void 0&&(a=1);var p=Math.random()*2*Math.PI;return i.x=Math.cos(p)*a,i.y=Math.sin(p)*a,i};r.exports=x},60706:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){a===void 0&&(a=1);var p=Math.random()*2*Math.PI,c=Math.random()*2-1,o=Math.sqrt(1-c*c)*a;return i.x=Math.cos(p)*o,i.y=Math.sin(p)*o,i.z=c*a,i};r.exports=x},67421:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){return a===void 0&&(a=1),i.x=(Math.random()*2-1)*a,i.y=(Math.random()*2-1)*a,i.z=(Math.random()*2-1)*a,i.w=(Math.random()*2-1)*a,i};r.exports=x},36305:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){var p=i.x,c=i.y;return i.x=p*Math.cos(a)-c*Math.sin(a),i.y=p*Math.sin(a)+c*Math.cos(a),i};r.exports=x},11520:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p,c){var o=Math.cos(c),u=Math.sin(c),l=i.x-a,d=i.y-p;return i.x=l*o-d*u+a,i.y=l*u+d*o+p,i};r.exports=x},1163:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p,c,o){var u=c+Math.atan2(i.y-p,i.x-a);return i.x=a+o*Math.cos(u),i.y=p+o*Math.sin(u),i};r.exports=x},70336:r=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p,c,o){return i.x=a+o*Math.cos(c),i.y=p+o*Math.sin(c),i};r.exports=x},72678:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(25836),p=i(37867),c=i(15746),o=new p,u=new c,l=new a,d=function(f,h,A){return u.setAxisAngle(h,A),o.fromRotationTranslation(u,l.set(0,0,0)),f.transformMat4(o)};r.exports=d},2284:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){return i>0?Math.ceil(i):Math.floor(i)};r.exports=x},41013:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p){a===void 0&&(a=0),p===void 0&&(p=10);var c=Math.pow(p,-a);return Math.round(i*c)/c};r.exports=x},16922:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p,c){a===void 0&&(a=1),p===void 0&&(p=1),c===void 0&&(c=1),c*=Math.PI/i;for(var o=[],u=[],l=0;l<i;l++)p-=a*c,a+=p*c,o[l]=p,u[l]=a;return{sin:u,cos:o,length:i}};r.exports=x},7602:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p){return i<=a?0:i>=p?1:(i=(i-a)/(p-a),i*i*(3-2*i))};r.exports=x},54261:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p){return i=Math.max(0,Math.min(1,(i-a)/(p-a))),i*i*i*(i*(i*6-15)+10)};r.exports=x},44408:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(26099),p=function(c,o,u,l){l===void 0&&(l=new a);var d=0,f=0,h=o*u;return c>0&&c<=h&&(c>o-1?(f=Math.floor(c/o),d=c-f*o):d=c),l.set(d,f)};r.exports=p},85955:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(26099),p=function(c,o,u,l,d,f,h,A){A===void 0&&(A=new a);var g=Math.sin(d),v=Math.cos(d),y=v*f,C=g*f,b=-g*h,T=v*h,S=1/(y*T+b*-C);return A.x=T*S*c+-b*S*o+(l*b-u*T)*S,A.y=y*S*o+-C*S*c+(-l*y+u*C)*S,A};r.exports=p},26099:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(43855),c=new a({initialize:function(u,l){this.x=0,this.y=0,typeof u=="object"?(this.x=u.x||0,this.y=u.y||0):(l===void 0&&(l=u),this.x=u||0,this.y=l||0)},clone:function(){return new c(this.x,this.y)},copy:function(o){return this.x=o.x||0,this.y=o.y||0,this},setFromObject:function(o){return this.x=o.x||0,this.y=o.y||0,this},set:function(o,u){return u===void 0&&(u=o),this.x=o,this.y=u,this},setTo:function(o,u){return this.set(o,u)},setToPolar:function(o,u){return u==null&&(u=1),this.x=Math.cos(o)*u,this.y=Math.sin(o)*u,this},equals:function(o){return this.x===o.x&&this.y===o.y},fuzzyEquals:function(o,u){return p(this.x,o.x,u)&&p(this.y,o.y,u)},angle:function(){var o=Math.atan2(this.y,this.x);return o<0&&(o+=2*Math.PI),o},setAngle:function(o){return this.setToPolar(o,this.length())},add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.x-=o.x,this.y-=o.y,this},multiply:function(o){return this.x*=o.x,this.y*=o.y,this},scale:function(o){return isFinite(o)?(this.x*=o,this.y*=o):(this.x=0,this.y=0),this},divide:function(o){return this.x/=o.x,this.y/=o.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(o){var u=o.x-this.x,l=o.y-this.y;return Math.sqrt(u*u+l*l)},distanceSq:function(o){var u=o.x-this.x,l=o.y-this.y;return u*u+l*l},length:function(){var o=this.x,u=this.y;return Math.sqrt(o*o+u*u)},setLength:function(o){return this.normalize().scale(o)},lengthSq:function(){var o=this.x,u=this.y;return o*o+u*u},normalize:function(){var o=this.x,u=this.y,l=o*o+u*u;return l>0&&(l=1/Math.sqrt(l),this.x=o*l,this.y=u*l),this},normalizeRightHand:function(){var o=this.x;return this.x=this.y*-1,this.y=o,this},normalizeLeftHand:function(){var o=this.x;return this.x=this.y,this.y=o*-1,this},dot:function(o){return this.x*o.x+this.y*o.y},cross:function(o){return this.x*o.y-this.y*o.x},lerp:function(o,u){u===void 0&&(u=0);var l=this.x,d=this.y;return this.x=l+u*(o.x-l),this.y=d+u*(o.y-d),this},transformMat3:function(o){var u=this.x,l=this.y,d=o.val;return this.x=d[0]*u+d[3]*l+d[6],this.y=d[1]*u+d[4]*l+d[7],this},transformMat4:function(o){var u=this.x,l=this.y,d=o.val;return this.x=d[0]*u+d[4]*l+d[12],this.y=d[1]*u+d[5]*l+d[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(o){var u=this.length();return u&&u>o&&this.scale(o/u),this},reflect:function(o){return o=o.clone().normalize(),this.subtract(o.scale(2*this.dot(o)))},mirror:function(o){return this.reflect(o).negate()},rotate:function(o){var u=Math.cos(o),l=Math.sin(o);return this.set(u*this.x-l*this.y,l*this.x+u*this.y)},project:function(o){var u=this.dot(o)/o.dot(o);return this.copy(o).scale(u)}});c.ZERO=new c,c.RIGHT=new c(1,0),c.LEFT=new c(-1,0),c.UP=new c(0,-1),c.DOWN=new c(0,1),c.ONE=new c(1,1),r.exports=c},25836:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=new a({initialize:function(o,u,l){this.x=0,this.y=0,this.z=0,typeof o=="object"?(this.x=o.x||0,this.y=o.y||0,this.z=o.z||0):(this.x=o||0,this.y=u||0,this.z=l||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(c){return this.x=Math.min(this.x,c.x),this.y=Math.min(this.y,c.y),this.z=Math.min(this.z,c.z),this},max:function(c){return this.x=Math.max(this.x,c.x),this.y=Math.max(this.y,c.y),this.z=Math.max(this.z,c.z),this},clone:function(){return new p(this.x,this.y,this.z)},addVectors:function(c,o){return this.x=c.x+o.x,this.y=c.y+o.y,this.z=c.z+o.z,this},subVectors:function(c,o){return this.x=c.x-o.x,this.y=c.y-o.y,this.z=c.z-o.z,this},crossVectors:function(c,o){var u=c.x,l=c.y,d=c.z,f=o.x,h=o.y,A=o.z;return this.x=l*A-d*h,this.y=d*f-u*A,this.z=u*h-l*f,this},equals:function(c){return this.x===c.x&&this.y===c.y&&this.z===c.z},copy:function(c){return this.x=c.x,this.y=c.y,this.z=c.z||0,this},set:function(c,o,u){return typeof c=="object"?(this.x=c.x||0,this.y=c.y||0,this.z=c.z||0):(this.x=c||0,this.y=o||0,this.z=u||0),this},setFromMatrixPosition:function(c){return this.fromArray(c.val,12)},setFromMatrixColumn:function(c,o){return this.fromArray(c.val,o*4)},fromArray:function(c,o){return o===void 0&&(o=0),this.x=c[o],this.y=c[o+1],this.z=c[o+2],this},add:function(c){return this.x+=c.x,this.y+=c.y,this.z+=c.z||0,this},addScalar:function(c){return this.x+=c,this.y+=c,this.z+=c,this},addScale:function(c,o){return this.x+=c.x*o,this.y+=c.y*o,this.z+=c.z*o||0,this},subtract:function(c){return this.x-=c.x,this.y-=c.y,this.z-=c.z||0,this},multiply:function(c){return this.x*=c.x,this.y*=c.y,this.z*=c.z||1,this},scale:function(c){return isFinite(c)?(this.x*=c,this.y*=c,this.z*=c):(this.x=0,this.y=0,this.z=0),this},divide:function(c){return this.x/=c.x,this.y/=c.y,this.z/=c.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(c){var o=c.x-this.x,u=c.y-this.y,l=c.z-this.z||0;return Math.sqrt(o*o+u*u+l*l)},distanceSq:function(c){var o=c.x-this.x,u=c.y-this.y,l=c.z-this.z||0;return o*o+u*u+l*l},length:function(){var c=this.x,o=this.y,u=this.z;return Math.sqrt(c*c+o*o+u*u)},lengthSq:function(){var c=this.x,o=this.y,u=this.z;return c*c+o*o+u*u},normalize:function(){var c=this.x,o=this.y,u=this.z,l=c*c+o*o+u*u;return l>0&&(l=1/Math.sqrt(l),this.x=c*l,this.y=o*l,this.z=u*l),this},dot:function(c){return this.x*c.x+this.y*c.y+this.z*c.z},cross:function(c){var o=this.x,u=this.y,l=this.z,d=c.x,f=c.y,h=c.z;return this.x=u*h-l*f,this.y=l*d-o*h,this.z=o*f-u*d,this},lerp:function(c,o){o===void 0&&(o=0);var u=this.x,l=this.y,d=this.z;return this.x=u+o*(c.x-u),this.y=l+o*(c.y-l),this.z=d+o*(c.z-d),this},applyMatrix3:function(c){var o=this.x,u=this.y,l=this.z,d=c.val;return this.x=d[0]*o+d[3]*u+d[6]*l,this.y=d[1]*o+d[4]*u+d[7]*l,this.z=d[2]*o+d[5]*u+d[8]*l,this},applyMatrix4:function(c){var o=this.x,u=this.y,l=this.z,d=c.val,f=1/(d[3]*o+d[7]*u+d[11]*l+d[15]);return this.x=(d[0]*o+d[4]*u+d[8]*l+d[12])*f,this.y=(d[1]*o+d[5]*u+d[9]*l+d[13])*f,this.z=(d[2]*o+d[6]*u+d[10]*l+d[14])*f,this},transformMat3:function(c){var o=this.x,u=this.y,l=this.z,d=c.val;return this.x=o*d[0]+u*d[3]+l*d[6],this.y=o*d[1]+u*d[4]+l*d[7],this.z=o*d[2]+u*d[5]+l*d[8],this},transformMat4:function(c){var o=this.x,u=this.y,l=this.z,d=c.val;return this.x=d[0]*o+d[4]*u+d[8]*l+d[12],this.y=d[1]*o+d[5]*u+d[9]*l+d[13],this.z=d[2]*o+d[6]*u+d[10]*l+d[14],this},transformCoordinates:function(c){var o=this.x,u=this.y,l=this.z,d=c.val,f=o*d[0]+u*d[4]+l*d[8]+d[12],h=o*d[1]+u*d[5]+l*d[9]+d[13],A=o*d[2]+u*d[6]+l*d[10]+d[14],g=o*d[3]+u*d[7]+l*d[11]+d[15];return this.x=f/g,this.y=h/g,this.z=A/g,this},transformQuat:function(c){var o=this.x,u=this.y,l=this.z,d=c.x,f=c.y,h=c.z,A=c.w,g=A*o+f*l-h*u,v=A*u+h*o-d*l,y=A*l+d*u-f*o,C=-d*o-f*u-h*l;return this.x=g*A+C*-d+v*-h-y*-f,this.y=v*A+C*-f+y*-d-g*-h,this.z=y*A+C*-h+g*-f-v*-d,this},project:function(c){var o=this.x,u=this.y,l=this.z,d=c.val,f=d[0],h=d[1],A=d[2],g=d[3],v=d[4],y=d[5],C=d[6],b=d[7],T=d[8],S=d[9],F=d[10],B=d[11],N=d[12],L=d[13],R=d[14],I=d[15],M=1/(o*g+u*b+l*B+I);return this.x=(o*f+u*v+l*T+N)*M,this.y=(o*h+u*y+l*S+L)*M,this.z=(o*A+u*C+l*F+R)*M,this},projectViewMatrix:function(c,o){return this.applyMatrix4(c).applyMatrix4(o)},unprojectViewMatrix:function(c,o){return this.applyMatrix4(c).applyMatrix4(o)},unproject:function(c,o){var u=c.x,l=c.y,d=c.z,f=c.w,h=this.x-u,A=f-this.y-1-l,g=this.z;return this.x=2*h/d-1,this.y=2*A/f-1,this.z=2*g-1,this.project(o)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});p.ZERO=new p,p.RIGHT=new p(1,0,0),p.LEFT=new p(-1,0,0),p.UP=new p(0,-1,0),p.DOWN=new p(0,1,0),p.FORWARD=new p(0,0,1),p.BACK=new p(0,0,-1),p.ONE=new p(1,1,1),r.exports=p},61369:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=new a({initialize:function(o,u,l,d){this.x=0,this.y=0,this.z=0,this.w=0,typeof o=="object"?(this.x=o.x||0,this.y=o.y||0,this.z=o.z||0,this.w=o.w||0):(this.x=o||0,this.y=u||0,this.z=l||0,this.w=d||0)},clone:function(){return new p(this.x,this.y,this.z,this.w)},copy:function(c){return this.x=c.x,this.y=c.y,this.z=c.z||0,this.w=c.w||0,this},equals:function(c){return this.x===c.x&&this.y===c.y&&this.z===c.z&&this.w===c.w},set:function(c,o,u,l){return typeof c=="object"?(this.x=c.x||0,this.y=c.y||0,this.z=c.z||0,this.w=c.w||0):(this.x=c||0,this.y=o||0,this.z=u||0,this.w=l||0),this},add:function(c){return this.x+=c.x,this.y+=c.y,this.z+=c.z||0,this.w+=c.w||0,this},subtract:function(c){return this.x-=c.x,this.y-=c.y,this.z-=c.z||0,this.w-=c.w||0,this},scale:function(c){return this.x*=c,this.y*=c,this.z*=c,this.w*=c,this},length:function(){var c=this.x,o=this.y,u=this.z,l=this.w;return Math.sqrt(c*c+o*o+u*u+l*l)},lengthSq:function(){var c=this.x,o=this.y,u=this.z,l=this.w;return c*c+o*o+u*u+l*l},normalize:function(){var c=this.x,o=this.y,u=this.z,l=this.w,d=c*c+o*o+u*u+l*l;return d>0&&(d=1/Math.sqrt(d),this.x=c*d,this.y=o*d,this.z=u*d,this.w=l*d),this},dot:function(c){return this.x*c.x+this.y*c.y+this.z*c.z+this.w*c.w},lerp:function(c,o){o===void 0&&(o=0);var u=this.x,l=this.y,d=this.z,f=this.w;return this.x=u+o*(c.x-u),this.y=l+o*(c.y-l),this.z=d+o*(c.z-d),this.w=f+o*(c.w-f),this},multiply:function(c){return this.x*=c.x,this.y*=c.y,this.z*=c.z||1,this.w*=c.w||1,this},divide:function(c){return this.x/=c.x,this.y/=c.y,this.z/=c.z||1,this.w/=c.w||1,this},distance:function(c){var o=c.x-this.x,u=c.y-this.y,l=c.z-this.z||0,d=c.w-this.w||0;return Math.sqrt(o*o+u*u+l*l+d*d)},distanceSq:function(c){var o=c.x-this.x,u=c.y-this.y,l=c.z-this.z||0,d=c.w-this.w||0;return o*o+u*u+l*l+d*d},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(c){var o=this.x,u=this.y,l=this.z,d=this.w,f=c.val;return this.x=f[0]*o+f[4]*u+f[8]*l+f[12]*d,this.y=f[1]*o+f[5]*u+f[9]*l+f[13]*d,this.z=f[2]*o+f[6]*u+f[10]*l+f[14]*d,this.w=f[3]*o+f[7]*u+f[11]*l+f[15]*d,this},transformQuat:function(c){var o=this.x,u=this.y,l=this.z,d=c.x,f=c.y,h=c.z,A=c.w,g=A*o+f*l-h*u,v=A*u+h*o-d*l,y=A*l+d*u-f*o,C=-d*o-f*u-h*l;return this.x=g*A+C*-d+v*-h-y*-f,this.y=v*A+C*-f+y*-d-g*-h,this.z=y*A+C*-h+g*-f-v*-d,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});p.prototype.sub=p.prototype.subtract,p.prototype.mul=p.prototype.multiply,p.prototype.div=p.prototype.divide,p.prototype.dist=p.prototype.distance,p.prototype.distSq=p.prototype.distanceSq,p.prototype.len=p.prototype.length,p.prototype.lenSq=p.prototype.lengthSq,r.exports=p},60417:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p){return Math.abs(i-a)<=p};r.exports=x},15994:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p){var c=p-a;return a+((i-a)%c+c)%c};r.exports=x},31040:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p,c){return Math.atan2(c-a,p-i)};r.exports=x},55495:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){return Math.atan2(a.y-i.y,a.x-i.x)};r.exports=x},128:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){return Math.atan2(a.x-i.x,a.y-i.y)};r.exports=x},41273:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p,c){return Math.atan2(p-i,c-a)};r.exports=x},1432:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(36383),p=function(c){return c>Math.PI&&(c-=a.PI2),Math.abs(((c+a.TAU)%a.PI2-a.PI2)%a.PI2)};r.exports=p},49127:(r,x,i)=>{/**
 * @author       samme
 * @copyright    2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(12407),p=function(c,o){return a(o-c)};r.exports=p},52285:(r,x,i)=>{/**
 * @author       samme
 * @copyright    2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(12407),p=2*Math.PI,c=function(o,u){var l=a(u-o);return l>0&&(l-=p),l};r.exports=c},67317:(r,x,i)=>{/**
 * @author       samme
 * @copyright    2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(86554),p=function(c,o){return a(o-c)};r.exports=p},12407:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){return i=i%(2*Math.PI),i>=0?i:i+2*Math.PI};r.exports=x},53993:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(99472),p=function(){return a(-Math.PI,Math.PI)};r.exports=p},86564:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(99472),p=function(){return a(-180,180)};r.exports=p},90154:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(12407),p=function(c){return a(c+Math.PI)};r.exports=p},48736:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(36383),p=function(c,o,u){return u===void 0&&(u=.05),c===o||(Math.abs(o-c)<=u||Math.abs(o-c)>=a.PI2-u?c=o:(Math.abs(o-c)>Math.PI&&(o<c?o+=a.PI2:o-=a.PI2),o>c?c+=u:o<c&&(c-=u))),c};r.exports=p},61430:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){var p=a-i;if(p===0)return 0;var c=Math.floor((p- -180)/360);return p-c*360};r.exports=x},86554:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(15994),p=function(c){return a(c,-Math.PI,Math.PI)};r.exports=p},30954:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(15994),p=function(c){return a(c,-180,180)};r.exports=p},25588:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Between:i(31040),BetweenPoints:i(55495),BetweenPointsY:i(128),BetweenY:i(41273),CounterClockwise:i(1432),GetClockwiseDistance:i(49127),GetCounterClockwiseDistance:i(52285),GetShortestDistance:i(67317),Normalize:i(12407),Random:i(53993),RandomDegrees:i(86564),Reverse:i(90154),RotateTo:i(48736),ShortestBetween:i(61430),Wrap:i(86554),WrapDegrees:i(30954)}},36383:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};r.exports=x},20339:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p,c){var o=i-p,u=a-c;return Math.sqrt(o*o+u*u)};r.exports=x},52816:r=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){var p=i.x-a.x,c=i.y-a.y;return Math.sqrt(p*p+c*c)};r.exports=x},64559:r=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){var p=i.x-a.x,c=i.y-a.y;return p*p+c*c};r.exports=x},82340:r=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p,c){return Math.max(Math.abs(i-p),Math.abs(a-c))};r.exports=x},14390:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p,c,o){return o===void 0&&(o=2),Math.sqrt(Math.pow(p-i,o)+Math.pow(c-a,o))};r.exports=x},2243:r=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p,c){return Math.abs(i-p)+Math.abs(a-c)};r.exports=x},89774:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p,c){var o=i-p,u=a-c;return o*o+u*u};r.exports=x},50994:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Between:i(20339),BetweenPoints:i(52816),BetweenPointsSquared:i(64559),Chebyshev:i(82340),Power:i(14390),Snake:i(2243),Squared:i(89774)}},62640:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(54178),p=i(41521),c=i(79980),o=i(85433),u=i(99140),l=i(48857),d=i(81596),f=i(59133),h=i(98516),A=i(35248),g=i(82500),v=i(49752);r.exports={Power0:d,Power1:f.Out,Power2:o.Out,Power3:h.Out,Power4:A.Out,Linear:d,Quad:f.Out,Cubic:o.Out,Quart:h.Out,Quint:A.Out,Sine:g.Out,Expo:l.Out,Circ:c.Out,Elastic:u.Out,Back:a.Out,Bounce:p.Out,Stepped:v,"Quad.easeIn":f.In,"Cubic.easeIn":o.In,"Quart.easeIn":h.In,"Quint.easeIn":A.In,"Sine.easeIn":g.In,"Expo.easeIn":l.In,"Circ.easeIn":c.In,"Elastic.easeIn":u.In,"Back.easeIn":a.In,"Bounce.easeIn":p.In,"Quad.easeOut":f.Out,"Cubic.easeOut":o.Out,"Quart.easeOut":h.Out,"Quint.easeOut":A.Out,"Sine.easeOut":g.Out,"Expo.easeOut":l.Out,"Circ.easeOut":c.Out,"Elastic.easeOut":u.Out,"Back.easeOut":a.Out,"Bounce.easeOut":p.Out,"Quad.easeInOut":f.InOut,"Cubic.easeInOut":o.InOut,"Quart.easeInOut":h.InOut,"Quint.easeInOut":A.InOut,"Sine.easeInOut":g.InOut,"Expo.easeInOut":l.InOut,"Circ.easeInOut":c.InOut,"Elastic.easeInOut":u.InOut,"Back.easeInOut":a.InOut,"Bounce.easeInOut":p.InOut}},1639:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){return a===void 0&&(a=1.70158),i*i*((a+1)*i-a)};r.exports=x},50099:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){a===void 0&&(a=1.70158);var p=a*1.525;return(i*=2)<1?.5*(i*i*((p+1)*i-p)):.5*((i-=2)*i*((p+1)*i+p)+2)};r.exports=x},41286:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){return a===void 0&&(a=1.70158),--i*i*((a+1)*i+a)+1};r.exports=x},54178:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={In:i(1639),Out:i(41286),InOut:i(50099)}},59590:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){return i=1-i,i<.36363636363636365?1-7.5625*i*i:i<.7272727272727273?1-(7.5625*(i-=.5454545454545454)*i+.75):i<.9090909090909091?1-(7.5625*(i-=.8181818181818182)*i+.9375):1-(7.5625*(i-=.9545454545454546)*i+.984375)};r.exports=x},41788:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){var a=!1;return i<.5?(i=1-i*2,a=!0):i=i*2-1,i<.36363636363636365?i=7.5625*i*i:i<.7272727272727273?i=7.5625*(i-=.5454545454545454)*i+.75:i<.9090909090909091?i=7.5625*(i-=.8181818181818182)*i+.9375:i=7.5625*(i-=.9545454545454546)*i+.984375,a?(1-i)*.5:i*.5+.5};r.exports=x},69905:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){return i<.36363636363636365?7.5625*i*i:i<.7272727272727273?7.5625*(i-=.5454545454545454)*i+.75:i<.9090909090909091?7.5625*(i-=.8181818181818182)*i+.9375:7.5625*(i-=.9545454545454546)*i+.984375};r.exports=x},41521:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={In:i(59590),Out:i(69905),InOut:i(41788)}},91861:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){return 1-Math.sqrt(1-i*i)};r.exports=x},4177:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){return(i*=2)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1)};r.exports=x},57512:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){return Math.sqrt(1- --i*i)};r.exports=x},79980:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={In:i(91861),Out:i(57512),InOut:i(4177)}},51150:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){return i*i*i};r.exports=x},82820:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){return(i*=2)<1?.5*i*i*i:.5*((i-=2)*i*i+2)};r.exports=x},35033:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){return--i*i*i+1};r.exports=x},85433:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={In:i(51150),Out:i(35033),InOut:i(82820)}},69965:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p){if(a===void 0&&(a=.1),p===void 0&&(p=.1),i===0)return 0;if(i===1)return 1;var c=p/4;return a<1?a=1:c=p*Math.asin(1/a)/(2*Math.PI),-(a*Math.pow(2,10*(i-=1))*Math.sin((i-c)*(2*Math.PI)/p))};r.exports=x},50665:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p){if(a===void 0&&(a=.1),p===void 0&&(p=.1),i===0)return 0;if(i===1)return 1;var c=p/4;return a<1?a=1:c=p*Math.asin(1/a)/(2*Math.PI),(i*=2)<1?-.5*(a*Math.pow(2,10*(i-=1))*Math.sin((i-c)*(2*Math.PI)/p)):a*Math.pow(2,-10*(i-=1))*Math.sin((i-c)*(2*Math.PI)/p)*.5+1};r.exports=x},7744:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p){if(a===void 0&&(a=.1),p===void 0&&(p=.1),i===0)return 0;if(i===1)return 1;var c=p/4;return a<1?a=1:c=p*Math.asin(1/a)/(2*Math.PI),a*Math.pow(2,-10*i)*Math.sin((i-c)*(2*Math.PI)/p)+1};r.exports=x},99140:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={In:i(69965),Out:i(7744),InOut:i(50665)}},24590:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){return Math.pow(2,10*(i-1))-.001};r.exports=x},87844:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){return(i*=2)<1?.5*Math.pow(2,10*(i-1)):.5*(2-Math.pow(2,-10*(i-1)))};r.exports=x},89433:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){return 1-Math.pow(2,-10*i)};r.exports=x},48857:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={In:i(24590),Out:i(89433),InOut:i(87844)}},48820:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Back:i(54178),Bounce:i(41521),Circular:i(79980),Cubic:i(85433),Elastic:i(99140),Expo:i(48857),Linear:i(81596),Quadratic:i(59133),Quartic:i(98516),Quintic:i(35248),Sine:i(82500),Stepped:i(49752)}},7147:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){return i};r.exports=x},81596:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports=i(7147)},34826:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){return i*i};r.exports=x},20544:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){return(i*=2)<1?.5*i*i:-.5*(--i*(i-2)-1)};r.exports=x},92029:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){return i*(2-i)};r.exports=x},59133:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={In:i(34826),Out:i(92029),InOut:i(20544)}},64413:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){return i*i*i*i};r.exports=x},78137:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){return(i*=2)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2)};r.exports=x},45840:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){return 1- --i*i*i*i};r.exports=x},98516:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={In:i(64413),Out:i(45840),InOut:i(78137)}},87745:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){return i*i*i*i*i};r.exports=x},16509:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){return(i*=2)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2)};r.exports=x},17868:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){return--i*i*i*i*i+1};r.exports=x},35248:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={In:i(87745),Out:i(17868),InOut:i(16509)}},80461:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){return i===0?0:i===1?1:1-Math.cos(i*Math.PI/2)};r.exports=x},34025:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){return i===0?0:i===1?1:.5*(1-Math.cos(Math.PI*i))};r.exports=x},52768:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){return i===0?0:i===1?1:Math.sin(i*Math.PI/2)};r.exports=x},82500:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={In:i(80461),Out:i(52768),InOut:i(34025)}},72251:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){return a===void 0&&(a=1),i<=0?0:i>=1?1:((a*i|0)+1)*(1/a)};r.exports=x},49752:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports=i(72251)},75698:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){return a===void 0&&(a=1e-4),Math.ceil(i-a)};r.exports=x},43855:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p){return p===void 0&&(p=1e-4),Math.abs(i-a)<p};r.exports=x},25777:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){return a===void 0&&(a=1e-4),Math.floor(i+a)};r.exports=x},5470:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p){return p===void 0&&(p=1e-4),i>a-p};r.exports=x},94977:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p){return p===void 0&&(p=1e-4),i<a+p};r.exports=x},48379:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Ceil:i(75698),Equal:i(43855),Floor:i(25777),GreaterThan:i(5470),LessThan:i(94977)}},75508:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(36383),p=i(79291),c={Angle:i(25588),Distance:i(50994),Easing:i(48820),Fuzzy:i(48379),Interpolation:i(38289),Pow2:i(49001),Snap:i(73697),RandomDataGenerator:i(28453),Average:i(53307),Bernstein:i(85710),Between:i(30976),CatmullRom:i(87842),CeilTo:i(26302),Clamp:i(45319),DegToRad:i(39506),Difference:i(61241),Euler:i(38857),Factorial:i(6411),FloatBetween:i(99472),FloorTo:i(77623),FromPercent:i(62945),GetSpeed:i(38265),IsEven:i(78702),IsEvenStrict:i(94883),Linear:i(28915),LinearXY:i(94908),MaxAdd:i(86883),Median:i(50040),MinSub:i(37204),Percent:i(65201),RadToDeg:i(43396),RandomXY:i(74362),RandomXYZ:i(60706),RandomXYZW:i(67421),Rotate:i(36305),RotateAround:i(11520),RotateAroundDistance:i(1163),RotateTo:i(70336),RoundAwayFromZero:i(2284),RoundTo:i(41013),SinCosTableGenerator:i(16922),SmootherStep:i(54261),SmoothStep:i(7602),ToXY:i(44408),TransformXY:i(85955),Within:i(60417),Wrap:i(15994),Vector2:i(26099),Vector3:i(25836),Vector4:i(61369),Matrix3:i(94434),Matrix4:i(37867),Quaternion:i(15746),RotateVec3:i(72678)};c=p(!1,c,a),r.exports=c},89318:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(85710),p=function(c,o){for(var u=0,l=c.length-1,d=0;d<=l;d++)u+=Math.pow(1-o,l-d)*Math.pow(o,d)*c[d]*a(l,d);return u};r.exports=p},77259:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(87842),p=function(c,o){var u=c.length-1,l=u*o,d=Math.floor(l);return c[0]===c[u]?(o<0&&(d=Math.floor(l=u*(1+o))),a(l-d,c[(d-1+u)%u],c[d],c[(d+1)%u],c[(d+2)%u])):o<0?c[0]-(a(-l,c[0],c[0],c[1],c[1])-c[0]):o>1?c[u]-(a(l-u,c[u],c[u],c[u-1],c[u-1])-c[u]):a(l-d,c[d?d-1:0],c[d],c[u<d+1?u:d+1],c[u<d+2?u:d+2])};r.exports=p},36316:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function x(o,u){var l=1-o;return l*l*l*u}function i(o,u){var l=1-o;return 3*l*l*o*u}function a(o,u){return 3*(1-o)*o*o*u}function p(o,u){return o*o*o*u}var c=function(o,u,l,d,f){return x(o,u)+i(o,l)+a(o,d)+p(o,f)};r.exports=c},28392:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(28915),p=function(c,o){var u=c.length-1,l=u*o,d=Math.floor(l);return o<0?a(c[0],c[1],l):o>1?a(c[u],c[u-1],u-l):a(c[d],c[d+1>u?u:d+1],l-d)};r.exports=p},32112:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function x(c,o){var u=1-c;return u*u*o}function i(c,o){return 2*(1-c)*c*o}function a(c,o){return c*c*o}var p=function(c,o,u,l){return x(c,o)+i(c,u)+a(c,l)};r.exports=p},47235:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(7602),p=function(c,o,u){return o+(u-o)*a(c,0,1)};r.exports=p},50178:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(54261),p=function(c,o,u){return o+(u-o)*a(c,0,1)};r.exports=p},38289:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Bezier:i(89318),CatmullRom:i(77259),CubicBezier:i(36316),Linear:i(28392),QuadraticBezier:i(32112),SmoothStep:i(47235),SmootherStep:i(50178)}},98439:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){var a=Math.log(i)/.6931471805599453;return 1<<Math.ceil(a)};r.exports=x},50030:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){return i>0&&(i&i-1)===0&&a>0&&(a&a-1)===0};r.exports=x},81230:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){return i>0&&(i&i-1)===0};r.exports=x},49001:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={GetNext:i(98439),IsSize:i(50030),IsValue:i(81230)}},28453:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=new a({initialize:function(o){o===void 0&&(o=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],o&&this.init(o)},rnd:function(){var c=2091639*this.s0+this.c*23283064365386963e-26;return this.c=c|0,this.s0=this.s1,this.s1=this.s2,this.s2=c-this.c,this.s2},hash:function(c){var o,u=this.n;c=c.toString();for(var l=0;l<c.length;l++)u+=c.charCodeAt(l),o=.02519603282416938*u,u=o>>>0,o-=u,o*=u,u=o>>>0,o-=u,u+=o*4294967296;return this.n=u,(u>>>0)*23283064365386963e-26},init:function(c){typeof c=="string"?this.state(c):this.sow(c)},sow:function(c){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!c)for(var o=0;o<c.length&&c[o]!=null;o++){var u=c[o];this.s0-=this.hash(u),this.s0+=~~(this.s0<0),this.s1-=this.hash(u),this.s1+=~~(this.s1<0),this.s2-=this.hash(u),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(c,o){return Math.floor(this.realInRange(0,o-c+1)+c)},between:function(c,o){return Math.floor(this.realInRange(0,o-c+1)+c)},realInRange:function(c,o){return this.frac()*(o-c)+c},normal:function(){return 1-2*this.frac()},uuid:function(){var c="",o="";for(o=c="";c++<36;o+=~c%5|c*3&4?(c^15?8^this.frac()*(c^20?16:4):4).toString(16):"-");return o},pick:function(c){return c[this.integerInRange(0,c.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(c){return c[~~(Math.pow(this.frac(),2)*(c.length-.5)+.5)]},timestamp:function(c,o){return this.realInRange(c||9466848e5,o||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(c){return typeof c=="string"&&c.match(/^!rnd/)&&(c=c.split(","),this.c=parseFloat(c[1]),this.s0=parseFloat(c[2]),this.s1=parseFloat(c[3]),this.s2=parseFloat(c[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(c){for(var o=c.length-1,u=o;u>0;u--){var l=Math.floor(this.frac()*(u+1)),d=c[l];c[l]=c[u],c[u]=d}return c}});r.exports=p},63448:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p,c){return p===void 0&&(p=0),a===0?i:(i-=p,i=a*Math.ceil(i/a),c?(p+i)/a:p+i)};r.exports=x},56583:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p,c){return p===void 0&&(p=0),a===0?i:(i-=p,i=a*Math.floor(i/a),c?(p+i)/a:p+i)};r.exports=x},77720:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p,c){return p===void 0&&(p=0),a===0?i:(i-=p,i=a*Math.round(i/a),c?(p+i)/a:p+i)};r.exports=x},73697:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Ceil:i(63448),Floor:i(56583),To:i(77720)}},85454:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i(63595);var a=i(8054),p=i(79291),c={Actions:i(61061),Animations:i(60421),BlendModes:i(10312),Cache:i(83388),Cameras:i(26638),Core:i(42857),Class:i(83419),Create:i(15822),Curves:i(25410),Data:i(44965),Display:i(27460),DOM:i(84902),Events:i(93055),FX:i(66064),Game:i(50127),GameObjects:i(77856),Geom:i(55738),Input:i(14350),Loader:i(57777),Math:i(75508),Physics:i(44563),Plugins:i(18922),Renderer:i(36909),Scale:i(93364),ScaleModes:i(29795),Scene:i(97482),Scenes:i(62194),Structs:i(41392),Textures:i(27458),Tilemaps:i(62501),Time:i(90291),Tweens:i(43066),Utils:i(91799)};c.Sound=i(23717),c=p(!1,c,a),r.exports=c,i.g.Phaser=c},71289:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(92209),c=i(88571),o=new a({Extends:c,Mixins:[p.Acceleration,p.Angular,p.Bounce,p.Collision,p.Debug,p.Drag,p.Enable,p.Friction,p.Gravity,p.Immovable,p.Mass,p.Pushable,p.Size,p.Velocity],initialize:function(l,d,f,h,A){c.call(this,l,d,f,h,A),this.body=null}});r.exports=o},86689:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(39506),c=i(20339),o=i(89774),u=i(66022),l=i(95540),d=i(46975),f=i(72441),h=i(47956),A=i(37277),g=i(44594),v=i(26099),y=i(82248),C=new a({initialize:function(T){this.scene=T,this.systems=T.sys,this.config=this.getConfig(),this.world,this.add,this._category=1,T.sys.events.once(g.BOOT,this.boot,this),T.sys.events.on(g.START,this.start,this)},boot:function(){this.world=new y(this.scene,this.config),this.add=new u(this.world),this.systems.events.once(g.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new y(this.scene,this.config),this.add=new u(this.world));var b=this.systems.events;l(this.config,"customUpdate",!1)||b.on(g.UPDATE,this.world.update,this.world),b.on(g.POST_UPDATE,this.world.postUpdate,this.world),b.once(g.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(g.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(g.UPDATE,this.world.update,this.world)},getConfig:function(){var b=this.systems.game.config.physics,T=this.systems.settings.physics,S=d(l(T,"arcade",{}),l(b,"arcade",{}));return S},nextCategory:function(){return this._category=this._category<<1,this._category},overlap:function(b,T,S,F,B){return S===void 0&&(S=null),F===void 0&&(F=null),B===void 0&&(B=S),this.world.collideObjects(b,T,S,F,B,!0)},collide:function(b,T,S,F,B){return S===void 0&&(S=null),F===void 0&&(F=null),B===void 0&&(B=S),this.world.collideObjects(b,T,S,F,B,!1)},collideTiles:function(b,T,S,F,B){return this.world.collideTiles(b,T,S,F,B)},overlapTiles:function(b,T,S,F,B){return this.world.overlapTiles(b,T,S,F,B)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(b,T,S,F,B,N){F===void 0&&(F=60);var L=Math.atan2(S-b.y,T-b.x);return b.body.acceleration.setToPolar(L,F),B!==void 0&&N!==void 0&&b.body.maxVelocity.set(B,N),L},accelerateToObject:function(b,T,S,F,B){return this.accelerateTo(b,T.x,T.y,S,F,B)},closest:function(b,T){T||(T=this.world.bodies.entries);for(var S=Number.MAX_VALUE,F=null,B=b.x,N=b.y,L=T.length,R=0;R<L;R++){var I=T[R],M=I.body||I;if(!(b===I||b===M||b===M.gameObject||b===M.center)){var P=o(B,N,M.center.x,M.center.y);P<S&&(F=I,S=P)}}return F},furthest:function(b,T){T||(T=this.world.bodies.entries);for(var S=-1,F=null,B=b.x,N=b.y,L=T.length,R=0;R<L;R++){var I=T[R],M=I.body||I;if(!(b===I||b===M||b===M.gameObject||b===M.center)){var P=o(B,N,M.center.x,M.center.y);P>S&&(F=I,S=P)}}return F},moveTo:function(b,T,S,F,B){F===void 0&&(F=60),B===void 0&&(B=0);var N=Math.atan2(S-b.y,T-b.x);return B>0&&(F=c(b.x,b.y,T,S)/(B/1e3)),b.body.velocity.setToPolar(N,F),N},moveToObject:function(b,T,S,F){return this.moveTo(b,T.x,T.y,S,F)},velocityFromAngle:function(b,T,S){return T===void 0&&(T=60),S===void 0&&(S=new v),S.setToPolar(p(b),T)},velocityFromRotation:function(b,T,S){return T===void 0&&(T=60),S===void 0&&(S=new v),S.setToPolar(b,T)},overlapRect:function(b,T,S,F,B,N){return h(this.world,b,T,S,F,B,N)},overlapCirc:function(b,T,S,F,B){return f(this.world,b,T,S,F,B)},shutdown:function(){if(this.world){var b=this.systems.events;b.off(g.UPDATE,this.world.update,this.world),b.off(g.POST_UPDATE,this.world.postUpdate,this.world),b.off(g.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null,this._category=1}},destroy:function(){this.shutdown(),this.scene.sys.events.off(g.START,this.start,this),this.scene=null,this.systems=null}});A.register("ArcadePhysics",C,"arcadePhysics"),r.exports=C},13759:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(92209),c=i(68287),o=new a({Extends:c,Mixins:[p.Acceleration,p.Angular,p.Bounce,p.Collision,p.Debug,p.Drag,p.Enable,p.Friction,p.Gravity,p.Immovable,p.Mass,p.Pushable,p.Size,p.Velocity],initialize:function(l,d,f,h,A){c.call(this,l,d,f,h,A),this.body=null}});r.exports=o},37742:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(78389),c=i(37747),o=i(63012),u=i(43396),l=i(87841),d=i(37303),f=i(95829),h=i(26099),A=new a({Mixins:[p],initialize:function(v,y){var C=64,b=64,T={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},S=y!==void 0;S&&y.displayWidth&&(C=y.displayWidth,b=y.displayHeight),S||(y=T),this.world=v,this.gameObject=S?y:void 0,this.isBody=!0,this.transform={x:y.x,y:y.y,rotation:y.angle,scaleX:y.scaleX,scaleY:y.scaleY,displayOriginX:y.displayOriginX,displayOriginY:y.displayOriginY},this.debugShowBody=v.defaults.debugShowBody,this.debugShowVelocity=v.defaults.debugShowVelocity,this.debugBodyColor=v.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new h,this.position=new h(y.x-y.scaleX*y.displayOriginX,y.y-y.scaleY*y.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=y.angle,this.preRotation=y.angle,this.width=C,this.height=b,this.sourceWidth=C,this.sourceHeight=b,y.frame&&(this.sourceWidth=y.frame.realWidth,this.sourceHeight=y.frame.realHeight),this.halfWidth=Math.abs(C/2),this.halfHeight=Math.abs(b/2),this.center=new h(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new h,this.newVelocity=new h,this.deltaMax=new h,this.acceleration=new h,this.allowDrag=!0,this.drag=new h,this.allowGravity=!0,this.gravity=new h,this.bounce=new h,this.worldBounce=null,this.customBoundsRectangle=v.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new h(1e4,1e4),this.maxSpeed=-1,this.friction=new h(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=c.FACING_NONE,this.immovable=!1,this.pushable=!0,this.slideFactor=new h(1,1),this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=f(!1),this.touching=f(!0),this.wasTouching=f(!0),this.blocked=f(!0),this.syncBounds=!1,this.physicsType=c.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._sx=y.scaleX,this._sy=y.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new l,this.directControl=!1,this.autoFrame=this.position.clone()},updateBounds:function(){var g=this.gameObject,v=this.transform;if(g.parentContainer){var y=g.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);v.x=y.tx,v.y=y.ty,v.rotation=u(y.rotation),v.scaleX=y.scaleX,v.scaleY=y.scaleY,v.displayOriginX=g.displayOriginX,v.displayOriginY=g.displayOriginY}else v.x=g.x,v.y=g.y,v.rotation=g.angle,v.scaleX=g.scaleX,v.scaleY=g.scaleY,v.displayOriginX=g.displayOriginX,v.displayOriginY=g.displayOriginY;var C=!1;if(this.syncBounds){var b=g.getBounds(this._bounds);this.width=b.width,this.height=b.height,C=!0}else{var T=Math.abs(v.scaleX),S=Math.abs(v.scaleY);(this._sx!==T||this._sy!==S)&&(this.width=this.sourceWidth*T,this.height=this.sourceHeight*S,this._sx=T,this._sy=S,C=!0)}C&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var g=this.transform;this.position.x=g.x+g.scaleX*(this.offset.x-g.displayOriginX),this.position.y=g.y+g.scaleY*(this.offset.y-g.displayOriginY),this.updateCenter()},resetFlags:function(g){g===void 0&&(g=!1);var v=this.wasTouching,y=this.touching,C=this.blocked;g?f(!0,v):(v.none=y.none,v.up=y.up,v.down=y.down,v.left=y.left,v.right=y.right),f(!0,y),f(!0,C),this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(g,v){if(g&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves){var y=this.position;this.prev.x=y.x,this.prev.y=y.y,this.prevFrame.x=y.x,this.prevFrame.y=y.y}g&&this.update(v)},update:function(g){var v=this.prev,y=this.position,C=this.velocity;if(v.set(y.x,y.y),!this.moves){this._dx=y.x-v.x,this._dy=y.y-v.y;return}if(this.directControl){var b=this.autoFrame;C.set((y.x-b.x)/g,(y.y-b.y)/g),this.world.updateMotion(this,g),this._dx=y.x-b.x,this._dy=y.y-b.y}else this.world.updateMotion(this,g),this.newVelocity.set(C.x*g,C.y*g),y.add(this.newVelocity),this._dx=y.x-v.x,this._dy=y.y-v.y;var T=C.x,S=C.y;if(this.updateCenter(),this.angle=Math.atan2(S,T),this.speed=Math.sqrt(T*T+S*S),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds){var F=this.blocked;this.world.emit(o.WORLD_BOUNDS,this,F.up,F.down,F.left,F.right)}},postUpdate:function(){var g=this.position,v=g.x-this.prevFrame.x,y=g.y-this.prevFrame.y,C=this.gameObject;if(this.moves){var b=this.deltaMax.x,T=this.deltaMax.y;b!==0&&v!==0&&(v<0&&v<-b?v=-b:v>0&&v>b&&(v=b)),T!==0&&y!==0&&(y<0&&y<-T?y=-T:y>0&&y>T&&(y=T)),C&&(C.x+=v,C.y+=y)}v<0?this.facing=c.FACING_LEFT:v>0&&(this.facing=c.FACING_RIGHT),y<0?this.facing=c.FACING_UP:y>0&&(this.facing=c.FACING_DOWN),this.allowRotation&&C&&(C.angle+=this.deltaZ()),this._tx=v,this._ty=y,this.autoFrame.set(g.x,g.y)},setBoundsRectangle:function(g){return this.customBoundsRectangle=g||this.world.bounds,this},checkWorldBounds:function(){var g=this.position,v=this.velocity,y=this.blocked,C=this.customBoundsRectangle,b=this.world.checkCollision,T=this.worldBounce?-this.worldBounce.x:-this.bounce.x,S=this.worldBounce?-this.worldBounce.y:-this.bounce.y,F=!1;return g.x<C.x&&b.left?(g.x=C.x,v.x*=T,y.left=!0,F=!0):this.right>C.right&&b.right&&(g.x=C.right-this.width,v.x*=T,y.right=!0,F=!0),g.y<C.y&&b.up?(g.y=C.y,v.y*=S,y.up=!0,F=!0):this.bottom>C.bottom&&b.down&&(g.y=C.bottom-this.height,v.y*=S,y.down=!0,F=!0),F&&(this.blocked.none=!1,this.updateCenter()),F},setOffset:function(g,v){return v===void 0&&(v=g),this.offset.set(g,v),this},setGameObject:function(g,v){if(v===void 0&&(v=!0),!g||!g.hasTransformComponent)return this;var y=this.world;return this.gameObject&&this.gameObject.body&&(y.disable(this.gameObject),this.gameObject.body=null),g.body&&y.disable(g),this.gameObject=g,g.body=this,this.setSize(),this.enable=v,this},setSize:function(g,v,y){y===void 0&&(y=!0);var C=this.gameObject;if(C&&(!g&&C.frame&&(g=C.frame.realWidth),!v&&C.frame&&(v=C.frame.realHeight)),this.sourceWidth=g,this.sourceHeight=v,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),y&&C&&C.getCenter){var b=(C.width-g)/2,T=(C.height-v)/2;this.offset.set(b,T)}return this.isCircle=!1,this.radius=0,this},setCircle:function(g,v,y){return v===void 0&&(v=this.offset.x),y===void 0&&(y=this.offset.y),g>0?(this.isCircle=!0,this.radius=g,this.sourceWidth=g*2,this.sourceHeight=g*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(v,y),this.updateCenter()):this.isCircle=!1,this},reset:function(g,v){this.stop();var y=this.gameObject;y&&(y.setPosition(g,v),this.rotation=y.angle,this.preRotation=y.angle);var C=this.position;y&&y.getTopLeft?y.getTopLeft(C):C.set(g,v),this.prev.copy(C),this.prevFrame.copy(C),this.autoFrame.copy(C),y&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(g){return g.x=this.x,g.y=this.y,g.right=this.right,g.bottom=this.bottom,g},hitTest:function(g,v){if(!this.isCircle)return d(this,g,v);if(this.radius>0&&g>=this.left&&g<=this.right&&v>=this.top&&v<=this.bottom){var y=(this.center.x-g)*(this.center.x-g),C=(this.center.y-v)*(this.center.y-v);return y+C<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(g){var v=this.position,y=v.x+this.halfWidth,C=v.y+this.halfHeight;this.debugShowBody&&(g.lineStyle(g.defaultStrokeWidth,this.debugBodyColor),this.isCircle?g.strokeCircle(y,C,this.width/2):(this.checkCollision.up&&g.lineBetween(v.x,v.y,v.x+this.width,v.y),this.checkCollision.right&&g.lineBetween(v.x+this.width,v.y,v.x+this.width,v.y+this.height),this.checkCollision.down&&g.lineBetween(v.x,v.y+this.height,v.x+this.width,v.y+this.height),this.checkCollision.left&&g.lineBetween(v.x,v.y,v.x,v.y+this.height))),this.debugShowVelocity&&(g.lineStyle(g.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),g.lineBetween(y,C,y+this.velocity.x/2,C+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setDirectControl:function(g){return g===void 0&&(g=!0),this.directControl=g,this},setCollideWorldBounds:function(g,v,y,C){g===void 0&&(g=!0),this.collideWorldBounds=g;var b=v!==void 0,T=y!==void 0;return(b||T)&&(this.worldBounce||(this.worldBounce=new h),b&&(this.worldBounce.x=v),T&&(this.worldBounce.y=y)),C!==void 0&&(this.onWorldBounds=C),this},setVelocity:function(g,v){return this.velocity.set(g,v),g=this.velocity.x,v=this.velocity.y,this.speed=Math.sqrt(g*g+v*v),this},setVelocityX:function(g){return this.setVelocity(g,this.velocity.y)},setVelocityY:function(g){return this.setVelocity(this.velocity.x,g)},setMaxVelocity:function(g,v){return this.maxVelocity.set(g,v),this},setMaxVelocityX:function(g){return this.maxVelocity.x=g,this},setMaxVelocityY:function(g){return this.maxVelocity.y=g,this},setMaxSpeed:function(g){return this.maxSpeed=g,this},setSlideFactor:function(g,v){return this.slideFactor.set(g,v),this},setBounce:function(g,v){return this.bounce.set(g,v),this},setBounceX:function(g){return this.bounce.x=g,this},setBounceY:function(g){return this.bounce.y=g,this},setAcceleration:function(g,v){return this.acceleration.set(g,v),this},setAccelerationX:function(g){return this.acceleration.x=g,this},setAccelerationY:function(g){return this.acceleration.y=g,this},setAllowDrag:function(g){return g===void 0&&(g=!0),this.allowDrag=g,this},setAllowGravity:function(g){return g===void 0&&(g=!0),this.allowGravity=g,this},setAllowRotation:function(g){return g===void 0&&(g=!0),this.allowRotation=g,this},setDrag:function(g,v){return this.drag.set(g,v),this},setDamping:function(g){return this.useDamping=g,this},setDragX:function(g){return this.drag.x=g,this},setDragY:function(g){return this.drag.y=g,this},setGravity:function(g,v){return this.gravity.set(g,v),this},setGravityX:function(g){return this.gravity.x=g,this},setGravityY:function(g){return this.gravity.y=g,this},setFriction:function(g,v){return this.friction.set(g,v),this},setFrictionX:function(g){return this.friction.x=g,this},setFrictionY:function(g){return this.friction.y=g,this},setAngularVelocity:function(g){return this.angularVelocity=g,this},setAngularAcceleration:function(g){return this.angularAcceleration=g,this},setAngularDrag:function(g){return this.angularDrag=g,this},setMass:function(g){return this.mass=g,this},setImmovable:function(g){return g===void 0&&(g=!0),this.immovable=g,this},setEnable:function(g){return g===void 0&&(g=!0),this.enable=g,this},processX:function(g,v,y,C){this.x+=g,this.updateCenter(),v!==null&&(this.velocity.x=v*this.slideFactor.x);var b=this.blocked;y&&(b.left=!0,b.none=!1),C&&(b.right=!0,b.none=!1)},processY:function(g,v,y,C){this.y+=g,this.updateCenter(),v!==null&&(this.velocity.y=v*this.slideFactor.y);var b=this.blocked;y&&(b.up=!0,b.none=!1),C&&(b.down=!0,b.none=!1)},x:{get:function(){return this.position.x},set:function(g){this.position.x=g}},y:{get:function(){return this.position.y},set:function(g){this.position.y=g}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});r.exports=A},79342:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=new a({initialize:function(o,u,l,d,f,h,A){this.world=o,this.name="",this.active=!0,this.overlapOnly=u,this.object1=l,this.object2=d,this.collideCallback=f,this.processCallback=h,this.callbackContext=A},setName:function(c){return this.name=c,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});r.exports=p},66022:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(71289),p=i(13759),c=i(37742),o=i(83419),u=i(37747),l=i(60758),d=i(72624),f=i(71464),h=new o({initialize:function(g){this.world=g,this.scene=g.scene,this.sys=g.scene.sys},collider:function(A,g,v,y,C){return this.world.addCollider(A,g,v,y,C)},overlap:function(A,g,v,y,C){return this.world.addOverlap(A,g,v,y,C)},existing:function(A,g){var v=g?u.STATIC_BODY:u.DYNAMIC_BODY;return this.world.enableBody(A,v),A},staticImage:function(A,g,v,y){var C=new a(this.scene,A,g,v,y);return this.sys.displayList.add(C),this.world.enableBody(C,u.STATIC_BODY),C},image:function(A,g,v,y){var C=new a(this.scene,A,g,v,y);return this.sys.displayList.add(C),this.world.enableBody(C,u.DYNAMIC_BODY),C},staticSprite:function(A,g,v,y){var C=new p(this.scene,A,g,v,y);return this.sys.displayList.add(C),this.sys.updateList.add(C),this.world.enableBody(C,u.STATIC_BODY),C},sprite:function(A,g,v,y){var C=new p(this.scene,A,g,v,y);return this.sys.displayList.add(C),this.sys.updateList.add(C),this.world.enableBody(C,u.DYNAMIC_BODY),C},staticGroup:function(A,g){return this.sys.updateList.add(new f(this.world,this.world.scene,A,g))},group:function(A,g){return this.sys.updateList.add(new l(this.world,this.world.scene,A,g))},body:function(A,g,v,y){var C=new c(this.world);return C.position.set(A,g),v&&y&&C.setSize(v,y),this.world.add(C,u.DYNAMIC_BODY),C},staticBody:function(A,g,v,y){var C=new d(this.world);return C.position.set(A,g),v&&y&&C.setSize(v,y),this.world.add(C,u.STATIC_BODY),C},destroy:function(){this.world=null,this.scene=null,this.sys=null}});r.exports=h},79599:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){var a=0;if(!Array.isArray(i))a=i;else for(var p=0;p<i.length;p++)a|=i[p];return a};r.exports=x},64897:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(37747),p=function(c,o,u,l){var d=0,f=c.deltaAbsX()+o.deltaAbsX()+l;return c._dx===0&&o._dx===0?(c.embedded=!0,o.embedded=!0):c._dx>o._dx?(d=c.right-o.x,d>f&&!u||c.checkCollision.right===!1||o.checkCollision.left===!1?d=0:(c.touching.none=!1,c.touching.right=!0,o.touching.none=!1,o.touching.left=!0,o.physicsType===a.STATIC_BODY&&!u&&(c.blocked.none=!1,c.blocked.right=!0),c.physicsType===a.STATIC_BODY&&!u&&(o.blocked.none=!1,o.blocked.left=!0))):c._dx<o._dx&&(d=c.x-o.width-o.x,-d>f&&!u||c.checkCollision.left===!1||o.checkCollision.right===!1?d=0:(c.touching.none=!1,c.touching.left=!0,o.touching.none=!1,o.touching.right=!0,o.physicsType===a.STATIC_BODY&&!u&&(c.blocked.none=!1,c.blocked.left=!0),c.physicsType===a.STATIC_BODY&&!u&&(o.blocked.none=!1,o.blocked.right=!0))),c.overlapX=d,o.overlapX=d,d};r.exports=p},45170:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(37747),p=function(c,o,u,l){var d=0,f=c.deltaAbsY()+o.deltaAbsY()+l;return c._dy===0&&o._dy===0?(c.embedded=!0,o.embedded=!0):c._dy>o._dy?(d=c.bottom-o.y,d>f&&!u||c.checkCollision.down===!1||o.checkCollision.up===!1?d=0:(c.touching.none=!1,c.touching.down=!0,o.touching.none=!1,o.touching.up=!0,o.physicsType===a.STATIC_BODY&&!u&&(c.blocked.none=!1,c.blocked.down=!0),c.physicsType===a.STATIC_BODY&&!u&&(o.blocked.none=!1,o.blocked.up=!0))):c._dy<o._dy&&(d=c.y-o.bottom,-d>f&&!u||c.checkCollision.up===!1||o.checkCollision.down===!1?d=0:(c.touching.none=!1,c.touching.up=!0,o.touching.none=!1,o.touching.down=!0,o.physicsType===a.STATIC_BODY&&!u&&(c.blocked.none=!1,c.blocked.up=!0),c.physicsType===a.STATIC_BODY&&!u&&(o.blocked.none=!1,o.blocked.down=!0))),c.overlapY=d,o.overlapY=d,d};r.exports=p},60758:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(13759),p=i(83419),c=i(78389),o=i(37747),u=i(95540),l=i(26479),d=i(41212),f=new p({Extends:l,Mixins:[c],initialize:function(A,g,v,y){if(!v&&!y)y={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(d(v))y=v,v=null,y.internalCreateCallback=this.createCallbackHandler,y.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(v)&&d(v[0])){var C=this;v.forEach(function(b){b.internalCreateCallback=C.createCallbackHandler,b.internalRemoveCallback=C.removeCallbackHandler,b.classType=u(b,"classType",a)}),y=null}else y={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=A,y&&(y.classType=u(y,"classType",a)),this.physicsType=o.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=2147483647,this.defaults={setCollideWorldBounds:u(y,"collideWorldBounds",!1),setBoundsRectangle:u(y,"customBoundsRectangle",null),setAccelerationX:u(y,"accelerationX",0),setAccelerationY:u(y,"accelerationY",0),setAllowDrag:u(y,"allowDrag",!0),setAllowGravity:u(y,"allowGravity",!0),setAllowRotation:u(y,"allowRotation",!0),setDamping:u(y,"useDamping",!1),setBounceX:u(y,"bounceX",0),setBounceY:u(y,"bounceY",0),setDragX:u(y,"dragX",0),setDragY:u(y,"dragY",0),setEnable:u(y,"enable",!0),setGravityX:u(y,"gravityX",0),setGravityY:u(y,"gravityY",0),setFrictionX:u(y,"frictionX",0),setFrictionY:u(y,"frictionY",0),setMaxSpeed:u(y,"maxSpeed",-1),setMaxVelocityX:u(y,"maxVelocityX",1e4),setMaxVelocityY:u(y,"maxVelocityY",1e4),setVelocityX:u(y,"velocityX",0),setVelocityY:u(y,"velocityY",0),setAngularVelocity:u(y,"angularVelocity",0),setAngularAcceleration:u(y,"angularAcceleration",0),setAngularDrag:u(y,"angularDrag",0),setMass:u(y,"mass",1),setImmovable:u(y,"immovable",!1)},l.call(this,g,v,y),this.type="PhysicsGroup"},createCallbackHandler:function(h){h.body||this.world.enableBody(h,o.DYNAMIC_BODY);var A=h.body;for(var g in this.defaults)A[g](this.defaults[g])},removeCallbackHandler:function(h){h.body&&this.world.disableBody(h)},setVelocity:function(h,A,g){g===void 0&&(g=0);for(var v=this.getChildren(),y=0;y<v.length;y++)v[y].body.velocity.set(h+y*g,A+y*g);return this},setVelocityX:function(h,A){A===void 0&&(A=0);for(var g=this.getChildren(),v=0;v<g.length;v++)g[v].body.velocity.x=h+v*A;return this},setVelocityY:function(h,A){A===void 0&&(A=0);for(var g=this.getChildren(),v=0;v<g.length;v++)g[v].body.velocity.y=h+v*A;return this}});r.exports=f},3017:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x,i,a,p,c,o,u,l,d,f,h,A,g,v,y,C,b,T=function(R,I,M){x=R,i=I;var P=x.velocity.x,U=i.velocity.x;return a=x.pushable,d=x._dx<0,f=x._dx>0,h=x._dx===0,y=Math.abs(x.right-i.x)<=Math.abs(i.right-x.x),u=U-P*x.bounce.x,p=i.pushable,A=i._dx<0,g=i._dx>0,v=i._dx===0,C=!y,l=P-U*i.bounce.x,b=Math.abs(M),S()},S=function(){return f&&y&&i.blocked.right?(x.processX(-b,u,!1,!0),1):d&&C&&i.blocked.left?(x.processX(b,u,!0),1):g&&C&&x.blocked.right?(i.processX(-b,l,!1,!0),2):A&&y&&x.blocked.left?(i.processX(b,l,!0),2):0},F=function(){var R=x.velocity.x,I=i.velocity.x,M=Math.sqrt(I*I*i.mass/x.mass)*(I>0?1:-1),P=Math.sqrt(R*R*x.mass/i.mass)*(R>0?1:-1),U=(M+P)*.5;return M-=U,P-=U,c=U+M*x.bounce.x,o=U+P*i.bounce.x,d&&C?B(0):A&&y?B(1):f&&y?B(2):g&&C?B(3):!1},B=function(R){if(a&&p)b*=.5,R===0||R===3?(x.processX(b,c),i.processX(-b,o)):(x.processX(-b,c),i.processX(b,o));else if(a&&!p)R===0||R===3?x.processX(b,u,!0):x.processX(-b,u,!1,!0);else if(!a&&p)R===0||R===3?i.processX(-b,l,!1,!0):i.processX(b,l,!0);else{var I=b*.5;R===0?v?(x.processX(b,0,!0),i.processX(0,null,!1,!0)):g?(x.processX(I,0,!0),i.processX(-I,0,!1,!0)):(x.processX(I,i.velocity.x,!0),i.processX(-I,null,!1,!0)):R===1?h?(x.processX(0,null,!1,!0),i.processX(b,0,!0)):f?(x.processX(-I,0,!1,!0),i.processX(I,0,!0)):(x.processX(-I,null,!1,!0),i.processX(I,x.velocity.x,!0)):R===2?v?(x.processX(-b,0,!1,!0),i.processX(0,null,!0)):A?(x.processX(-I,0,!1,!0),i.processX(I,0,!0)):(x.processX(-I,i.velocity.x,!1,!0),i.processX(I,null,!0)):R===3&&(h?(x.processX(0,null,!0),i.processX(-b,0,!1,!0)):d?(x.processX(I,0,!0),i.processX(-I,0,!1,!0)):(x.processX(I,i.velocity.y,!0),i.processX(-I,null,!1,!0)))}return!0},N=function(R){if(R===1?i.velocity.x=0:y?i.processX(b,l,!0):i.processX(-b,l,!1,!0),x.moves){var I=x.directControl?x.y-x.autoFrame.y:x.y-x.prev.y;i.y+=I*x.friction.y,i._dy=i.y-i.prev.y}},L=function(R){if(R===2?x.velocity.x=0:C?x.processX(b,u,!0):x.processX(-b,u,!1,!0),i.moves){var I=i.directControl?i.y-i.autoFrame.y:i.y-i.prev.y;x.y+=I*i.friction.y,x._dy=x.y-x.prev.y}};r.exports={BlockCheck:S,Check:F,Set:T,Run:B,RunImmovableBody1:N,RunImmovableBody2:L}},47962:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x,i,a,p,c,o,u,l,d,f,h,A,g,v,y,C,b,T=function(R,I,M){x=R,i=I;var P=x.velocity.y,U=i.velocity.y;return a=x.pushable,d=x._dy<0,f=x._dy>0,h=x._dy===0,y=Math.abs(x.bottom-i.y)<=Math.abs(i.bottom-x.y),u=U-P*x.bounce.y,p=i.pushable,A=i._dy<0,g=i._dy>0,v=i._dy===0,C=!y,l=P-U*i.bounce.y,b=Math.abs(M),S()},S=function(){return f&&y&&i.blocked.down?(x.processY(-b,u,!1,!0),1):d&&C&&i.blocked.up?(x.processY(b,u,!0),1):g&&C&&x.blocked.down?(i.processY(-b,l,!1,!0),2):A&&y&&x.blocked.up?(i.processY(b,l,!0),2):0},F=function(){var R=x.velocity.y,I=i.velocity.y,M=Math.sqrt(I*I*i.mass/x.mass)*(I>0?1:-1),P=Math.sqrt(R*R*x.mass/i.mass)*(R>0?1:-1),U=(M+P)*.5;return M-=U,P-=U,c=U+M*x.bounce.y,o=U+P*i.bounce.y,d&&C?B(0):A&&y?B(1):f&&y?B(2):g&&C?B(3):!1},B=function(R){if(a&&p)b*=.5,R===0||R===3?(x.processY(b,c),i.processY(-b,o)):(x.processY(-b,c),i.processY(b,o));else if(a&&!p)R===0||R===3?x.processY(b,u,!0):x.processY(-b,u,!1,!0);else if(!a&&p)R===0||R===3?i.processY(-b,l,!1,!0):i.processY(b,l,!0);else{var I=b*.5;R===0?v?(x.processY(b,0,!0),i.processY(0,null,!1,!0)):g?(x.processY(I,0,!0),i.processY(-I,0,!1,!0)):(x.processY(I,i.velocity.y,!0),i.processY(-I,null,!1,!0)):R===1?h?(x.processY(0,null,!1,!0),i.processY(b,0,!0)):f?(x.processY(-I,0,!1,!0),i.processY(I,0,!0)):(x.processY(-I,null,!1,!0),i.processY(I,x.velocity.y,!0)):R===2?v?(x.processY(-b,0,!1,!0),i.processY(0,null,!0)):A?(x.processY(-I,0,!1,!0),i.processY(I,0,!0)):(x.processY(-I,i.velocity.y,!1,!0),i.processY(I,null,!0)):R===3&&(h?(x.processY(0,null,!0),i.processY(-b,0,!1,!0)):d?(x.processY(I,0,!0),i.processY(-I,0,!1,!0)):(x.processY(I,i.velocity.y,!0),i.processY(-I,null,!1,!0)))}return!0},N=function(R){if(R===1?i.velocity.y=0:y?i.processY(b,l,!0):i.processY(-b,l,!1,!0),x.moves){var I=x.directControl?x.x-x.autoFrame.x:x.x-x.prev.x;i.x+=I*x.friction.x,i._dx=i.x-i.prev.x}},L=function(R){if(R===2?x.velocity.y=0:C?x.processY(b,u,!0):x.processY(-b,u,!1,!0),i.moves){var I=i.directControl?i.x-i.autoFrame.x:i.x-i.prev.x;x.x+=I*i.friction.x,x._dx=x.x-x.prev.x}};r.exports={BlockCheck:S,Check:F,Set:T,Run:B,RunImmovableBody1:N,RunImmovableBody2:L}},14087:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(64897),p=i(3017),c=function(o,u,l,d,f){f===void 0&&(f=a(o,u,l,d));var h=o.immovable,A=u.immovable;if(l||f===0||h&&A||o.customSeparateX||u.customSeparateX)return f!==0||o.embedded&&u.embedded;var g=p.Set(o,u,f);return!h&&!A?g>0?!0:p.Check():(h?p.RunImmovableBody1(g):A&&p.RunImmovableBody2(g),!0)};r.exports=c},89936:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(45170),p=i(47962),c=function(o,u,l,d,f){f===void 0&&(f=a(o,u,l,d));var h=o.immovable,A=u.immovable;if(l||f===0||h&&A||o.customSeparateY||u.customSeparateY)return f!==0||o.embedded&&u.embedded;var g=p.Set(o,u,f);return!h&&!A?g>0?!0:p.Check():(h?p.RunImmovableBody1(g):A&&p.RunImmovableBody2(g),!0)};r.exports=c},95829:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){return a===void 0&&(a={}),a.none=i,a.up=!1,a.down=!1,a.left=!1,a.right=!1,i||(a.up=!0,a.down=!0,a.left=!0,a.right=!0),a};r.exports=x},72624:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(87902),p=i(83419),c=i(78389),o=i(37747),u=i(37303),l=i(95829),d=i(26099),f=new p({Mixins:[c],initialize:function(A,g){var v=64,y=64,C={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},b=g!==void 0;b&&g.displayWidth&&(v=g.displayWidth,y=g.displayHeight),b||(g=C),this.world=A,this.gameObject=b?g:void 0,this.isBody=!0,this.debugShowBody=A.defaults.debugShowStaticBody,this.debugBodyColor=A.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new d,this.position=new d(g.x-v*g.originX,g.y-y*g.originY),this.width=v,this.height=y,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new d(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=d.ZERO,this.allowGravity=!1,this.gravity=d.ZERO,this.bounce=d.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=l(!1),this.touching=l(!0),this.wasTouching=l(!0),this.blocked=l(!0),this.physicsType=o.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._dx=0,this._dy=0},setGameObject:function(h,A,g){if(A===void 0&&(A=!0),g===void 0&&(g=!0),!h||!h.hasTransformComponent)return this;var v=this.world;return this.gameObject&&this.gameObject.body&&(v.disable(this.gameObject),this.gameObject.body=null),h.body&&v.disable(h),this.gameObject=h,h.body=this,this.setSize(),A&&this.updateFromGameObject(),this.enable=g,this},updateFromGameObject:function(){this.world.staticTree.remove(this);var h=this.gameObject;return h.getTopLeft(this.position),this.width=h.displayWidth,this.height=h.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(h,A){return A===void 0&&(A=h),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(h,A),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(h,A,g){g===void 0&&(g=!0);var v=this.gameObject;if(v&&v.frame&&(h||(h=v.frame.realWidth),A||(A=v.frame.realHeight)),this.world.staticTree.remove(this),this.width=h,this.height=A,this.halfWidth=Math.floor(h/2),this.halfHeight=Math.floor(A/2),g&&v&&v.getCenter){var y=v.displayWidth/2,C=v.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(y-this.halfWidth,C-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(h,A,g){return A===void 0&&(A=this.offset.x),g===void 0&&(g=this.offset.y),h>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=h,this.width=h*2,this.height=h*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(A,g),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(h,A){var g=this.gameObject;h===void 0&&(h=g.x),A===void 0&&(A=g.y),this.world.staticTree.remove(this),g.setPosition(h,A),g.getTopLeft(this.position),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(h){return h.x=this.x,h.y=this.y,h.right=this.right,h.bottom=this.bottom,h},hitTest:function(h,A){return this.isCircle?a(this,h,A):u(this,h,A)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(h){var A=this.position,g=A.x+this.halfWidth,v=A.y+this.halfHeight;this.debugShowBody&&(h.lineStyle(h.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?h.strokeCircle(g,v,this.width/2):h.strokeRect(A.x,A.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(h){return h<=0&&(h=.1),this.mass=h,this},x:{get:function(){return this.position.x},set:function(h){this.world.staticTree.remove(this),this.position.x=h,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(h){this.world.staticTree.remove(this),this.position.y=h,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});r.exports=f},71464:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(13759),p=i(83419),c=i(78389),o=i(37747),u=i(95540),l=i(26479),d=i(41212),f=new p({Extends:l,Mixins:[c],initialize:function(A,g,v,y){!v&&!y?y={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:a}:d(v)?(y=v,v=null,y.internalCreateCallback=this.createCallbackHandler,y.internalRemoveCallback=this.removeCallbackHandler,y.createMultipleCallback=this.createMultipleCallbackHandler,y.classType=u(y,"classType",a)):Array.isArray(v)&&d(v[0])?(y=v,v=null,y.forEach(function(C){C.internalCreateCallback=this.createCallbackHandler,C.internalRemoveCallback=this.removeCallbackHandler,C.createMultipleCallback=this.createMultipleCallbackHandler,C.classType=u(C,"classType",a)})):y={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=A,this.physicsType=o.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,l.call(this,g,v,y),this.type="StaticPhysicsGroup"},createCallbackHandler:function(h){h.body||this.world.enableBody(h,o.STATIC_BODY)},removeCallbackHandler:function(h){h.body&&this.world.disableBody(h)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var h=this.children.entries,A=0;A<h.length;A++)h[A].body.reset();return this}});r.exports=f},82248:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(55495),p=i(37742),c=i(45319),o=i(83419),u=i(79342),l=i(37747),d=i(20339),f=i(52816),h=i(50792),A=i(63012),g=i(43855),v=i(5470),y=i(94977),C=i(64897),b=i(45170),T=i(96523),S=i(35154),F=i(36383),B=i(25774),N=i(96602),L=i(87841),R=i(59542),I=i(40012),M=i(14087),P=i(89936),U=i(35072),z=i(72624),W=i(2483),Z=i(61340),j=i(26099),H=i(15994),V=new o({Extends:h,initialize:function(X,Q){h.call(this),this.scene=X,this.bodies=new U,this.staticBodies=new U,this.pendingDestroy=new U,this.colliders=new B,this.gravity=new j(S(Q,"gravity.x",0),S(Q,"gravity.y",0)),this.bounds=new L(S(Q,"x",0),S(Q,"y",0),S(Q,"width",X.sys.scale.width),S(Q,"height",X.sys.scale.height)),this.checkCollision={up:S(Q,"checkCollision.up",!0),down:S(Q,"checkCollision.down",!0),left:S(Q,"checkCollision.left",!0),right:S(Q,"checkCollision.right",!0)},this.fps=S(Q,"fps",60),this.fixedStep=S(Q,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=S(Q,"timeScale",1),this.OVERLAP_BIAS=S(Q,"overlapBias",4),this.TILE_BIAS=S(Q,"tileBias",16),this.forceX=S(Q,"forceX",!1),this.isPaused=S(Q,"isPaused",!1),this._total=0,this.drawDebug=S(Q,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:S(Q,"debugShowBody",!0),debugShowStaticBody:S(Q,"debugShowStaticBody",!0),debugShowVelocity:S(Q,"debugShowVelocity",!0),bodyDebugColor:S(Q,"debugBodyColor",16711935),staticBodyDebugColor:S(Q,"debugStaticBodyColor",255),velocityDebugColor:S(Q,"debugVelocityColor",65280)},this.maxEntries=S(Q,"maxEntries",16),this.useTree=S(Q,"useTree",!0),this.tree=new R(this.maxEntries),this.staticTree=new R(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new Z,this._tempMatrix2=new Z,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(k,X){X===void 0&&(X=l.DYNAMIC_BODY),Array.isArray(k)||(k=[k]);for(var Q=0;Q<k.length;Q++){var J=k[Q];if(J.isParent)for(var $=J.getChildren(),_=0;_<$.length;_++){var te=$[_];te.isParent?this.enable(te,X):this.enableBody(te,X)}else this.enableBody(J,X)}},enableBody:function(k,X){return X===void 0&&(X=l.DYNAMIC_BODY),k.hasTransformComponent&&(k.body||(X===l.DYNAMIC_BODY?k.body=new p(this,k):X===l.STATIC_BODY&&(k.body=new z(this,k))),this.add(k.body)),k},add:function(k){return k.physicsType===l.DYNAMIC_BODY?this.bodies.set(k):k.physicsType===l.STATIC_BODY&&(this.staticBodies.set(k),this.staticTree.insert(k)),k.enable=!0,k},disable:function(k){Array.isArray(k)||(k=[k]);for(var X=0;X<k.length;X++){var Q=k[X];if(Q.isParent)for(var J=Q.getChildren(),$=0;$<J.length;$++){var _=J[$];_.isParent?this.disable(_):this.disableBody(_.body)}else this.disableBody(Q.body)}},disableBody:function(k){this.remove(k),k.enable=!1},remove:function(k){k.physicsType===l.DYNAMIC_BODY?(this.tree.remove(k),this.bodies.delete(k)):k.physicsType===l.STATIC_BODY&&(this.staticBodies.delete(k),this.staticTree.remove(k))},createDebugGraphic:function(){var k=this.scene.sys.add.graphics({x:0,y:0});return k.setDepth(Number.MAX_VALUE),this.debugGraphic=k,this.drawDebug=!0,k},setBounds:function(k,X,Q,J,$,_,te,se){return this.bounds.setTo(k,X,Q,J),$!==void 0&&this.setBoundsCollision($,_,te,se),this},setBoundsCollision:function(k,X,Q,J){return k===void 0&&(k=!0),X===void 0&&(X=!0),Q===void 0&&(Q=!0),J===void 0&&(J=!0),this.checkCollision.left=k,this.checkCollision.right=X,this.checkCollision.up=Q,this.checkCollision.down=J,this},pause:function(){return this.isPaused=!0,this.emit(A.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(A.RESUME),this},addCollider:function(k,X,Q,J,$){Q===void 0&&(Q=null),J===void 0&&(J=null),$===void 0&&($=Q);var _=new u(this,!1,k,X,Q,J,$);return this.colliders.add(_),_},addOverlap:function(k,X,Q,J,$){Q===void 0&&(Q=null),J===void 0&&(J=null),$===void 0&&($=Q);var _=new u(this,!0,k,X,Q,J,$);return this.colliders.add(_),_},removeCollider:function(k){return this.colliders.remove(k),this},setFPS:function(k){return this.fps=k,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(k,X){if(!(this.isPaused||this.bodies.size===0)){var Q,J=this._frameTime,$=this._frameTimeMS*this.timeScale;this._elapsed+=X;var _,te=this.bodies.entries,se=this._elapsed>=$;for(this.fixedStep||(J=X*.001,se=!0,this._elapsed=0),Q=0;Q<te.length;Q++)_=te[Q],_.enable&&_.preUpdate(se,J);if(se){this._elapsed-=$,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(te));var ce=this.colliders.update();for(Q=0;Q<ce.length;Q++){var ge=ce[Q];ge.active&&ge.update()}this.emit(A.WORLD_STEP,J)}for(;this._elapsed>=$;)this._elapsed-=$,this.step(J)}},step:function(k){var X,Q,J=this.bodies.entries,$=J.length;for(X=0;X<$;X++)Q=J[X],Q.enable&&Q.update(k);this.useTree&&(this.tree.clear(),this.tree.load(J));var _=this.colliders.update();for(X=0;X<_.length;X++){var te=_[X];te.active&&te.update()}this.emit(A.WORLD_STEP,k),this.stepsLastFrame++},singleStep:function(){this.update(0,this._frameTimeMS),this.postUpdate()},postUpdate:function(){var k,X,Q=this.bodies.entries,J=Q.length,$=this.bodies,_=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,k=0;k<J;k++)X=Q[k],X.enable&&X.postUpdate();if(this.drawDebug){var te=this.debugGraphic;for(te.clear(),k=0;k<J;k++)X=Q[k],X.willDrawDebug()&&X.drawDebug(te);for(Q=_.entries,J=Q.length,k=0;k<J;k++)X=Q[k],X.willDrawDebug()&&X.drawDebug(te)}var se=this.pendingDestroy;if(se.size>0){var ce=this.tree,ge=this.staticTree;for(Q=se.entries,J=Q.length,k=0;k<J;k++)X=Q[k],X.physicsType===l.DYNAMIC_BODY?(ce.remove(X),$.delete(X)):X.physicsType===l.STATIC_BODY&&(ge.remove(X),_.delete(X)),X.world=void 0,X.gameObject=void 0;se.clear()}},updateMotion:function(k,X){k.allowRotation&&this.computeAngularVelocity(k,X),this.computeVelocity(k,X)},computeAngularVelocity:function(k,X){var Q=k.angularVelocity,J=k.angularAcceleration,$=k.angularDrag,_=k.maxAngular;J?Q+=J*X:k.allowDrag&&$&&($*=X,v(Q-$,0,.1)?Q-=$:y(Q+$,0,.1)?Q+=$:Q=0),Q=c(Q,-_,_);var te=Q-k.angularVelocity;k.angularVelocity+=te,k.rotation+=k.angularVelocity*X},computeVelocity:function(k,X){var Q=k.velocity.x,J=k.acceleration.x,$=k.drag.x,_=k.maxVelocity.x,te=k.velocity.y,se=k.acceleration.y,ce=k.drag.y,ge=k.maxVelocity.y,ue=k.speed,re=k.maxSpeed,Ce=k.allowDrag,ye=k.useDamping;k.allowGravity&&(Q+=(this.gravity.x+k.gravity.x)*X,te+=(this.gravity.y+k.gravity.y)*X),J?Q+=J*X:Ce&&$&&(ye?($=Math.pow($,X),Q*=$,ue=Math.sqrt(Q*Q+te*te),g(ue,0,.001)&&(Q=0)):($*=X,v(Q-$,0,.01)?Q-=$:y(Q+$,0,.01)?Q+=$:Q=0)),se?te+=se*X:Ce&&ce&&(ye?(ce=Math.pow(ce,X),te*=ce,ue=Math.sqrt(Q*Q+te*te),g(ue,0,.001)&&(te=0)):(ce*=X,v(te-ce,0,.01)?te-=ce:y(te+ce,0,.01)?te+=ce:te=0)),Q=c(Q,-_,_),te=c(te,-ge,ge),k.velocity.set(Q,te),re>-1&&k.velocity.length()>re&&(k.velocity.normalize().scale(re),ue=re),k.speed=ue},separate:function(k,X,Q,J,$){var _,te,se=!1,ce=!0;if(!k.enable||!X.enable||k.checkCollision.none||X.checkCollision.none||!this.intersects(k,X)||!(k.collisionMask&X.collisionCategory)||!(X.collisionMask&k.collisionCategory)||Q&&Q.call(J,k.gameObject||k,X.gameObject||X)===!1)return se;if(k.isCircle||X.isCircle){var ge=this.separateCircle(k,X,$);ge.result?(se=!0,ce=!1):(_=ge.x,te=ge.y,ce=!0)}if(ce){var ue=!1,re=!1,Ce=this.OVERLAP_BIAS;$?(ue=M(k,X,$,Ce,_),re=P(k,X,$,Ce,te)):this.forceX||Math.abs(this.gravity.y+k.gravity.y)<Math.abs(this.gravity.x+k.gravity.x)?(ue=M(k,X,$,Ce,_),this.intersects(k,X)&&(re=P(k,X,$,Ce,te))):(re=P(k,X,$,Ce,te),this.intersects(k,X)&&(ue=M(k,X,$,Ce,_))),se=ue||re}return se&&($?(k.onOverlap||X.onOverlap)&&this.emit(A.OVERLAP,k.gameObject,X.gameObject,k,X):(k.onCollide||X.onCollide)&&this.emit(A.COLLIDE,k.gameObject,X.gameObject,k,X)),se},separateCircle:function(k,X,Q){C(k,X,!1,0),b(k,X,!1,0);var J=k.isCircle,$=X.isCircle,_=k.center,te=X.center,se=k.immovable,ce=X.immovable,ge=k.velocity,ue=X.velocity,re=0,Ce=!0;if(J!==$){Ce=!1;var ye=_.x,Ee=_.y,Me=k.halfWidth,Be=X.position.x,ve=X.position.y,Re=X.right,Pe=X.bottom;$&&(ye=te.x,Ee=te.y,Me=X.halfWidth,Be=k.position.x,ve=k.position.y,Re=k.right,Pe=k.bottom),Ee<ve?ye<Be?re=d(ye,Ee,Be,ve)-Me:ye>Re&&(re=d(ye,Ee,Re,ve)-Me):Ee>Pe&&(ye<Be?re=d(ye,Ee,Be,Pe)-Me:ye>Re&&(re=d(ye,Ee,Re,Pe)-Me)),re*=-1}else re=k.halfWidth+X.halfWidth-f(_,te);k.overlapR=re,X.overlapR=re;var Ge=a(_,te),We=(re+F.EPSILON)*Math.cos(Ge),at=(re+F.EPSILON)*Math.sin(Ge),qe={overlap:re,result:!1,x:We,y:at};if(Q&&(!Ce||Ce&&re!==0))return qe.result=!0,qe;if(!Ce&&re===0||se&&ce||k.customSeparateX||X.customSeparateX)return qe.x=void 0,qe.y=void 0,qe;var Ye=!k.pushable&&!X.pushable;if(Ce){var tt=_.x-te.x,Ve=_.y-te.y,ct=Math.sqrt(Math.pow(tt,2)+Math.pow(Ve,2)),ut=(te.x-_.x)/ct||0,Se=(te.y-_.y)/ct||0,Xe=2*(ge.x*ut+ge.y*Se-ue.x*ut-ue.y*Se)/(k.mass+X.mass);(se||ce||!k.pushable||!X.pushable)&&(Xe*=2),!se&&k.pushable&&(ge.x=ge.x-Xe/k.mass*ut,ge.y=ge.y-Xe/k.mass*Se,ge.multiply(k.bounce)),!ce&&X.pushable&&(ue.x=ue.x+Xe/X.mass*ut,ue.y=ue.y+Xe/X.mass*Se,ue.multiply(X.bounce)),!se&&!ce&&(We*=.5,at*=.5),(!se||k.pushable||Ye)&&(k.x-=We,k.y-=at,k.updateCenter()),(!ce||X.pushable||Ye)&&(X.x+=We,X.y+=at,X.updateCenter()),qe.result=!0}else!se&&(k.pushable||Ye)&&(k.x-=We,k.y-=at,k.updateCenter()),!ce&&(X.pushable||Ye)&&(X.x+=We,X.y+=at,X.updateCenter()),qe.x=void 0,qe.y=void 0;return qe},intersects:function(k,X){return k===X?!1:!k.isCircle&&!X.isCircle?!(k.right<=X.left||k.bottom<=X.top||k.left>=X.right||k.top>=X.bottom):k.isCircle?X.isCircle?f(k.center,X.center)<=k.halfWidth+X.halfWidth:this.circleBodyIntersects(k,X):this.circleBodyIntersects(X,k)},circleBodyIntersects:function(k,X){var Q=c(k.center.x,X.left,X.right),J=c(k.center.y,X.top,X.bottom),$=(k.center.x-Q)*(k.center.x-Q),_=(k.center.y-J)*(k.center.y-J);return $+_<=k.halfWidth*k.halfWidth},overlap:function(k,X,Q,J,$){return Q===void 0&&(Q=null),J===void 0&&(J=null),$===void 0&&($=Q),this.collideObjects(k,X,Q,J,$,!0)},collide:function(k,X,Q,J,$){return Q===void 0&&(Q=null),J===void 0&&(J=null),$===void 0&&($=Q),this.collideObjects(k,X,Q,J,$,!1)},collideObjects:function(k,X,Q,J,$,_){var te,se;k.isParent&&(k.physicsType===void 0||X===void 0||k===X)&&(k=k.children.entries),X&&X.isParent&&X.physicsType===void 0&&(X=X.children.entries);var ce=Array.isArray(k),ge=Array.isArray(X);if(this._total=0,!ce&&!ge)this.collideHandler(k,X,Q,J,$,_);else if(!ce&&ge)for(te=0;te<X.length;te++)this.collideHandler(k,X[te],Q,J,$,_);else if(ce&&!ge)if(X)for(te=0;te<k.length;te++)this.collideHandler(k[te],X,Q,J,$,_);else for(te=0;te<k.length;te++){var ue=k[te];for(se=te+1;se<k.length;se++)te!==se&&this.collideHandler(ue,k[se],Q,J,$,_)}else for(te=0;te<k.length;te++)for(se=0;se<X.length;se++)this.collideHandler(k[te],X[se],Q,J,$,_);return this._total>0},collideHandler:function(k,X,Q,J,$,_){if(X===void 0&&k.isParent)return this.collideGroupVsGroup(k,k,Q,J,$,_);if(!k||!X)return!1;if(k.body||k.isBody){if(X.body||X.isBody)return this.collideSpriteVsSprite(k,X,Q,J,$,_);if(X.isParent)return this.collideSpriteVsGroup(k,X,Q,J,$,_);if(X.isTilemap)return this.collideSpriteVsTilemapLayer(k,X,Q,J,$,_)}else if(k.isParent){if(X.body||X.isBody)return this.collideSpriteVsGroup(X,k,Q,J,$,_);if(X.isParent)return this.collideGroupVsGroup(k,X,Q,J,$,_);if(X.isTilemap)return this.collideGroupVsTilemapLayer(k,X,Q,J,$,_)}else if(k.isTilemap){if(X.body||X.isBody)return this.collideSpriteVsTilemapLayer(X,k,Q,J,$,_);if(X.isParent)return this.collideGroupVsTilemapLayer(X,k,Q,J,$,_)}},canCollide:function(k,X){return k&&X&&(k.collisionMask&X.collisionCategory)!==0&&(X.collisionMask&k.collisionCategory)!==0},collideSpriteVsSprite:function(k,X,Q,J,$,_){var te=k.isBody?k:k.body,se=X.isBody?X:X.body;return this.canCollide(te,se)?(this.separate(te,se,J,$,_)&&(Q&&Q.call($,k,X),this._total++),!0):!1},collideSpriteVsGroup:function(k,X,Q,J,$,_){var te=k.isBody?k:k.body;if(!(X.getLength()===0||!te||!te.enable||te.checkCollision.none||!this.canCollide(te,X))){var se,ce,ge;if(this.useTree||X.physicsType===l.STATIC_BODY){var ue=this.treeMinMax;ue.minX=te.left,ue.minY=te.top,ue.maxX=te.right,ue.maxY=te.bottom;var re=X.physicsType===l.DYNAMIC_BODY?this.tree.search(ue):this.staticTree.search(ue);for(ce=re.length,se=0;se<ce;se++)ge=re[se],!(te===ge||!ge.enable||ge.checkCollision.none||!X.contains(ge.gameObject))&&this.separate(te,ge,J,$,_)&&(Q&&Q.call($,te.gameObject,ge.gameObject),this._total++)}else{var Ce=X.getChildren(),ye=X.children.entries.indexOf(k);for(ce=Ce.length,se=0;se<ce;se++)ge=Ce[se].body,!(!ge||se===ye||!ge.enable)&&this.separate(te,ge,J,$,_)&&(Q&&Q.call($,te.gameObject,ge.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(k,X,Q,J,$,_){if(!this.canCollide(k,X))return!1;var te=k.getChildren();if(te.length===0)return!1;for(var se=!1,ce=0;ce<te.length;ce++)(te[ce].body||te[ce].isBody)&&this.collideSpriteVsTilemapLayer(te[ce],X,Q,J,$,_)&&(se=!0);return se},collideTiles:function(k,X,Q,J,$){return X.length===0||k.body&&!k.body.enable||k.isBody&&!k.enable?!1:this.collideSpriteVsTilesHandler(k,X,Q,J,$,!1,!1)},overlapTiles:function(k,X,Q,J,$){return X.length===0||k.body&&!k.body.enable||k.isBody&&!k.enable?!1:this.collideSpriteVsTilesHandler(k,X,Q,J,$,!0,!1)},collideSpriteVsTilemapLayer:function(k,X,Q,J,$,_){var te=k.isBody?k:k.body;if(!te.enable||te.checkCollision.none||!this.canCollide(te,X))return!1;var se=X.layer,ce=te.x-se.tileWidth*X.scaleX,ge=te.y-se.tileHeight*X.scaleY,ue=te.width+se.tileWidth*X.scaleX,re=te.height+se.tileHeight*X.scaleY,Ce=_?null:this.tileFilterOptions,ye=T(ce,ge,ue,re,Ce,X.scene.cameras.main,X.layer);return ye.length===0?!1:this.collideSpriteVsTilesHandler(k,ye,Q,J,$,_,!0)},collideSpriteVsTilesHandler:function(k,X,Q,J,$,_,te){for(var se=k.isBody?k:k.body,ce,ge={left:0,right:0,top:0,bottom:0},ue,re=!1,Ce=0;Ce<X.length;Ce++){ce=X[Ce],ue=ce.tilemapLayer;var ye=ue.tileToWorldXY(ce.x,ce.y);ge.left=ye.x,ge.top=ye.y,ge.right=ge.left+ce.width*ue.scaleX,ge.bottom=ge.top+ce.height*ue.scaleY,W(ge,se)&&(!J||J.call($,k,ce))&&N(ce,k)&&(_||I(Ce,se,ce,ge,ue,this.TILE_BIAS,te))&&(this._total++,re=!0,Q&&Q.call($,k,ce),_&&se.onOverlap?this.emit(A.TILE_OVERLAP,k,ce,se):se.onCollide&&this.emit(A.TILE_COLLIDE,k,ce,se))}return re},collideGroupVsGroup:function(k,X,Q,J,$,_){if(!(k.getLength()===0||X.getLength()===0||!this.canCollide(k,X)))for(var te=k.getChildren(),se=0;se<te.length;se++)this.collideSpriteVsGroup(te[se],X,Q,J,$,_)},wrap:function(k,X){k.body?this.wrapObject(k,X):k.getChildren?this.wrapArray(k.getChildren(),X):Array.isArray(k)?this.wrapArray(k,X):this.wrapObject(k,X)},wrapArray:function(k,X){for(var Q=0;Q<k.length;Q++)this.wrapObject(k[Q],X)},wrapObject:function(k,X){X===void 0&&(X=0),k.x=H(k.x,this.bounds.left-X,this.bounds.right+X),k.y=H(k.y,this.bounds.top-X,this.bounds.bottom+X)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});r.exports=V},1093:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setAcceleration:function(i,a){return this.body.acceleration.set(i,a),this},setAccelerationX:function(i){return this.body.acceleration.x=i,this},setAccelerationY:function(i){return this.body.acceleration.y=i,this}};r.exports=x},59023:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setAngularVelocity:function(i){return this.body.angularVelocity=i,this},setAngularAcceleration:function(i){return this.body.angularAcceleration=i,this},setAngularDrag:function(i){return this.body.angularDrag=i,this}};r.exports=x},62069:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setBounce:function(i,a){return this.body.bounce.set(i,a),this},setBounceX:function(i){return this.body.bounce.x=i,this},setBounceY:function(i){return this.body.bounce.y=i,this},setCollideWorldBounds:function(i,a,p,c){return this.body.setCollideWorldBounds(i,a,p,c),this}};r.exports=x},78389:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(79599),p={setCollisionCategory:function(c){var o=this.body?this.body:this;return o.collisionCategory=c,this},willCollideWith:function(c){var o=this.body?this.body:this;return(o.collisionMask&c)!==0},addCollidesWith:function(c){var o=this.body?this.body:this;return o.collisionMask=o.collisionMask|c,this},removeCollidesWith:function(c){var o=this.body?this.body:this;return o.collisionMask=o.collisionMask&~c,this},setCollidesWith:function(c){var o=this.body?this.body:this;return o.collisionMask=a(c),this},resetCollisionCategory:function(){var c=this.body?this.body:this;return c.collisionCategory=1,c.collisionMask=2147483647,this}};r.exports=p},87118:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setDebug:function(i,a,p){return this.debugShowBody=i,this.debugShowVelocity=a,this.debugBodyColor=p,this},setDebugBodyColor:function(i){return this.body.debugBodyColor=i,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(i){this.body.debugShowBody=i}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(i){this.body.debugShowVelocity=i}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(i){this.body.debugBodyColor=i}}};r.exports=x},52819:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setDrag:function(i,a){return this.body.drag.set(i,a),this},setDragX:function(i){return this.body.drag.x=i,this},setDragY:function(i){return this.body.drag.y=i,this},setDamping:function(i){return this.body.useDamping=i,this}};r.exports=x},4074:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setDirectControl:function(i){return this.body.setDirectControl(i),this},enableBody:function(i,a,p,c,o){return i&&this.body.reset(a,p),c&&(this.body.gameObject.active=!0),o&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(i,a){return i===void 0&&(i=!1),a===void 0&&(a=!1),this.body.stop(),this.body.enable=!1,i&&(this.body.gameObject.active=!1),a&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};r.exports=x},40831:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setFriction:function(i,a){return this.body.friction.set(i,a),this},setFrictionX:function(i){return this.body.friction.x=i,this},setFrictionY:function(i){return this.body.friction.y=i,this}};r.exports=x},26775:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setGravity:function(i,a){return this.body.gravity.set(i,a),this},setGravityX:function(i){return this.body.gravity.x=i,this},setGravityY:function(i){return this.body.gravity.y=i,this}};r.exports=x},9437:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setImmovable:function(i){return i===void 0&&(i=!0),this.body.immovable=i,this}};r.exports=x},30621:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setMass:function(i){return this.body.mass=i,this}};r.exports=x},72441:(r,x,i)=>{var a=i(47956),p=i(96503),c=i(2044),o=i(81491),u=function(l,d,f,h,A,g){var v=a(l,d-h,f-h,2*h,2*h,A,g);if(v.length===0)return v;for(var y=new p(d,f,h),C=new p,b=[],T=0;T<v.length;T++){var S=v[T];S.isCircle?(C.setTo(S.center.x,S.center.y,S.halfWidth),c(y,C)&&b.push(S)):o(y,S)&&b.push(S)}return b};r.exports=u},47956:r=>{var x=function(i,a,p,c,o,u,l){u===void 0&&(u=!0),l===void 0&&(l=!1);var d=[],f=[],h=i.treeMinMax;if(h.minX=a,h.minY=p,h.maxX=a+c,h.maxY=p+o,l&&(f=i.staticTree.search(h)),u&&i.useTree)d=i.tree.search(h);else if(u){var A=i.bodies,g={position:{x:a,y:p},left:a,top:p,right:a+c,bottom:p+o,isCircle:!1},v=i.intersects;A.iterate(function(y){v(y,g)&&d.push(y)})}return f.concat(d)};r.exports=x},62121:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setPushable:function(i){return i===void 0&&(i=!0),this.body.pushable=i,this}};r.exports=x},29384:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setOffset:function(i,a){return this.body.setOffset(i,a),this},setSize:function(i,a,p){return this.body.setSize(i,a,p),this},setBodySize:function(i,a,p){return this.body.setSize(i,a,p),this},setCircle:function(i,a,p){return this.body.setCircle(i,a,p),this}};r.exports=x},15098:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setVelocity:function(i,a){return this.body.setVelocity(i,a),this},setVelocityX:function(i){return this.body.setVelocityX(i),this},setVelocityY:function(i){return this.body.setVelocityY(i),this},setMaxVelocity:function(i,a){return this.body.maxVelocity.set(i,a),this}};r.exports=x},92209:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Acceleration:i(1093),Angular:i(59023),Bounce:i(62069),Collision:i(78389),Debug:i(87118),Drag:i(52819),Enable:i(4074),Friction:i(40831),Gravity:i(26775),Immovable:i(9437),Mass:i(30621),OverlapCirc:i(72441),OverlapRect:i(47956),Pushable:i(62121),Size:i(29384),Velocity:i(15098)}},37747:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};r.exports=x},20009:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="collide"},36768:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="overlap"},60473:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pause"},89954:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="resume"},61804:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="tilecollide"},7161:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="tileoverlap"},34689:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="worldbounds"},16006:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="worldstep"},63012:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={COLLIDE:i(20009),OVERLAP:i(36768),PAUSE:i(60473),RESUME:i(89954),TILE_COLLIDE:i(61804),TILE_OVERLAP:i(7161),WORLD_BOUNDS:i(34689),WORLD_STEP:i(16006)}},27064:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(37747),p=i(79291),c={ArcadePhysics:i(86689),Body:i(37742),Collider:i(79342),Components:i(92209),Events:i(63012),Factory:i(66022),GetCollidesWith:i(79599),GetOverlapX:i(64897),GetOverlapY:i(45170),SeparateX:i(14087),SeparateY:i(89936),Group:i(60758),Image:i(71289),Sprite:i(13759),StaticBody:i(72624),StaticGroup:i(71464),Tilemap:i(55173),World:i(82248)};c=p(!1,c,a),r.exports=c},96602:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){return i.collisionCallback?!i.collisionCallback.call(i.collisionCallbackContext,a,i):i.layer.callbacks[i.index]?!i.layer.callbacks[i.index].callback.call(i.layer.callbacks[i.index].callbackContext,a,i):!0};r.exports=x},36294:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){a<0?(i.blocked.none=!1,i.blocked.left=!0):a>0&&(i.blocked.none=!1,i.blocked.right=!0),i.position.x-=a,i.updateCenter(),i.bounce.x===0?i.velocity.x=0:i.velocity.x=-i.velocity.x*i.bounce.x};r.exports=x},67013:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){a<0?(i.blocked.none=!1,i.blocked.up=!0):a>0&&(i.blocked.none=!1,i.blocked.down=!0),i.position.y-=a,i.updateCenter(),i.bounce.y===0?i.velocity.y=0:i.velocity.y=-i.velocity.y*i.bounce.y};r.exports=x},40012:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(21329),p=i(53442),c=i(2483),o=function(u,l,d,f,h,A,g){var v=f.left,y=f.top,C=f.right,b=f.bottom,T=d.faceLeft||d.faceRight,S=d.faceTop||d.faceBottom;if(g||(T=!0,S=!0),!T&&!S)return!1;var F=0,B=0,N=0,L=1;if(l.deltaAbsX()>l.deltaAbsY()?N=-1:l.deltaAbsX()<l.deltaAbsY()&&(L=-1),l.deltaX()!==0&&l.deltaY()!==0&&T&&S&&(N=Math.min(Math.abs(l.position.x-C),Math.abs(l.right-v)),L=Math.min(Math.abs(l.position.y-b),Math.abs(l.bottom-y))),N<L){if(T&&(F=a(l,d,v,C,A,g),F!==0&&!c(f,l)))return!0;S&&(B=p(l,d,y,b,A,g))}else{if(S&&(B=p(l,d,y,b,A,g),B!==0&&!c(f,l)))return!0;T&&(F=a(l,d,v,C,A,g))}return F!==0||B!==0};r.exports=o},21329:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(36294),p=function(c,o,u,l,d,f){var h=0,A=o.faceLeft,g=o.faceRight,v=o.collideLeft,y=o.collideRight;return f||(A=!0,g=!0,v=!0,y=!0),c.deltaX()<0&&y&&c.checkCollision.left?g&&c.x<l&&(h=c.x-l,h<-d&&(h=0)):c.deltaX()>0&&v&&c.checkCollision.right&&A&&c.right>u&&(h=c.right-u,h>d&&(h=0)),h!==0&&(c.customSeparateX?c.overlapX=h:a(c,h)),h};r.exports=p},53442:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(67013),p=function(c,o,u,l,d,f){var h=0,A=o.faceTop,g=o.faceBottom,v=o.collideUp,y=o.collideDown;return f||(A=!0,g=!0,v=!0,y=!0),c.deltaY()<0&&y&&c.checkCollision.up?g&&c.y<l&&(h=c.y-l,h<-d&&(h=0)):c.deltaY()>0&&v&&c.checkCollision.down&&A&&c.bottom>u&&(h=c.bottom-u,h>d&&(h=0)),h!==0&&(c.customSeparateY?c.overlapY=h:a(c,h)),h};r.exports=p},2483:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){return!(a.right<=i.left||a.bottom<=i.top||a.position.x>=i.right||a.position.y>=i.bottom)};r.exports=x},55173:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={ProcessTileCallbacks:i(96602),ProcessTileSeparationX:i(36294),ProcessTileSeparationY:i(67013),SeparateTile:i(40012),TileCheckX:i(21329),TileCheckY:i(53442),TileIntersectsBody:i(2483)};r.exports=a},44563:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Arcade:i(27064),Matter:i(3875)}},68174:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(26099),c=new a({initialize:function(){this.boundsCenter=new p,this.centerDiff=new p},parseBody:function(o){if(o=o.hasOwnProperty("body")?o.body:o,!o.hasOwnProperty("bounds")||!o.hasOwnProperty("centerOfMass"))return!1;var u=this.boundsCenter,l=this.centerDiff,d=o.bounds.max.x-o.bounds.min.x,f=o.bounds.max.y-o.bounds.min.y,h=d*o.centerOfMass.x,A=f*o.centerOfMass.y;return u.set(d/2,f/2),l.set(h-u.x,A-u.y),!0},getTopLeft:function(o,u,l){if(u===void 0&&(u=0),l===void 0&&(l=0),this.parseBody(o)){var d=this.boundsCenter,f=this.centerDiff;return new p(u+d.x+f.x,l+d.y+f.y)}return!1},getTopCenter:function(o,u,l){if(u===void 0&&(u=0),l===void 0&&(l=0),this.parseBody(o)){var d=this.boundsCenter,f=this.centerDiff;return new p(u+f.x,l+d.y+f.y)}return!1},getTopRight:function(o,u,l){if(u===void 0&&(u=0),l===void 0&&(l=0),this.parseBody(o)){var d=this.boundsCenter,f=this.centerDiff;return new p(u-(d.x-f.x),l+d.y+f.y)}return!1},getLeftCenter:function(o,u,l){if(u===void 0&&(u=0),l===void 0&&(l=0),this.parseBody(o)){var d=this.boundsCenter,f=this.centerDiff;return new p(u+d.x+f.x,l+f.y)}return!1},getCenter:function(o,u,l){if(u===void 0&&(u=0),l===void 0&&(l=0),this.parseBody(o)){var d=this.centerDiff;return new p(u+d.x,l+d.y)}return!1},getRightCenter:function(o,u,l){if(u===void 0&&(u=0),l===void 0&&(l=0),this.parseBody(o)){var d=this.boundsCenter,f=this.centerDiff;return new p(u-(d.x-f.x),l+f.y)}return!1},getBottomLeft:function(o,u,l){if(u===void 0&&(u=0),l===void 0&&(l=0),this.parseBody(o)){var d=this.boundsCenter,f=this.centerDiff;return new p(u+d.x+f.x,l-(d.y-f.y))}return!1},getBottomCenter:function(o,u,l){if(u===void 0&&(u=0),l===void 0&&(l=0),this.parseBody(o)){var d=this.boundsCenter,f=this.centerDiff;return new p(u+f.x,l-(d.y-f.y))}return!1},getBottomRight:function(o,u,l){if(u===void 0&&(u=0),l===void 0&&(l=0),this.parseBody(o)){var d=this.boundsCenter,f=this.centerDiff;return new p(u-(d.x-f.x),l-(d.y-f.y))}return!1}});r.exports=c},19933:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(6790);a.Body=i(22562),a.Composite=i(69351),a.World=i(4372),a.Collision=i(52284),a.Detector=i(81388),a.Pairs=i(99561),a.Pair=i(4506),a.Query=i(73296),a.Resolver=i(66272),a.Constraint=i(48140),a.Common=i(53402),a.Engine=i(48413),a.Events=i(35810),a.Sleeping=i(53614),a.Plugin=i(73832),a.Bodies=i(66280),a.Composites=i(74116),a.Axes=i(66615),a.Bounds=i(15647),a.Svg=i(74058),a.Vector=i(31725),a.Vertices=i(41598),a.World.add=a.Composite.add,a.World.remove=a.Composite.remove,a.World.addComposite=a.Composite.addComposite,a.World.addBody=a.Composite.addBody,a.World.addConstraint=a.Composite.addConstraint,a.World.clear=a.Composite.clear,r.exports=a},28137:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(66280),p=i(83419),c=i(74116),o=i(48140),u=i(74058),l=i(75803),d=i(23181),f=i(34803),h=i(73834),A=i(19496),g=i(85791),v=i(98713),y=i(41598),C=new p({initialize:function(T){this.world=T,this.scene=T.scene,this.sys=T.scene.sys},rectangle:function(b,T,S,F,B){var N=a.rectangle(b,T,S,F,B);return this.world.add(N),N},trapezoid:function(b,T,S,F,B,N){var L=a.trapezoid(b,T,S,F,B,N);return this.world.add(L),L},circle:function(b,T,S,F,B){var N=a.circle(b,T,S,F,B);return this.world.add(N),N},polygon:function(b,T,S,F,B){var N=a.polygon(b,T,S,F,B);return this.world.add(N),N},fromVertices:function(b,T,S,F,B,N,L){typeof S=="string"&&(S=y.fromPath(S));var R=a.fromVertices(b,T,S,F,B,N,L);return this.world.add(R),R},fromPhysicsEditor:function(b,T,S,F,B){B===void 0&&(B=!0);var N=A.parseBody(b,T,S,F);return B&&!this.world.has(N)&&this.world.add(N),N},fromSVG:function(b,T,S,F,B,N){F===void 0&&(F=1),B===void 0&&(B={}),N===void 0&&(N=!0);for(var L=S.getElementsByTagName("path"),R=[],I=0;I<L.length;I++){var M=u.pathToVertices(L[I],30);F!==1&&y.scale(M,F,F),R.push(M)}var P=a.fromVertices(b,T,R,B);return N&&this.world.add(P),P},fromJSON:function(b,T,S,F,B){F===void 0&&(F={}),B===void 0&&(B=!0);var N=g.parseBody(b,T,S,F);return N&&B&&this.world.add(N),N},imageStack:function(b,T,S,F,B,N,L,R,I){L===void 0&&(L=0),R===void 0&&(R=0),I===void 0&&(I={});var M=this.world,P=this.sys.displayList;I.addToWorld=!1;var U=c.stack(S,F,B,N,L,R,function(z,W){var Z=new d(M,z,W,b,T,I);return P.add(Z),Z.body});return M.add(U),U},stack:function(b,T,S,F,B,N,L){var R=c.stack(b,T,S,F,B,N,L);return this.world.add(R),R},pyramid:function(b,T,S,F,B,N,L){var R=c.pyramid(b,T,S,F,B,N,L);return this.world.add(R),R},chain:function(b,T,S,F,B,N){return c.chain(b,T,S,F,B,N)},mesh:function(b,T,S,F,B){return c.mesh(b,T,S,F,B)},newtonsCradle:function(b,T,S,F,B){var N=c.newtonsCradle(b,T,S,F,B);return this.world.add(N),N},car:function(b,T,S,F,B){var N=c.car(b,T,S,F,B);return this.world.add(N),N},softBody:function(b,T,S,F,B,N,L,R,I,M){var P=c.softBody(b,T,S,F,B,N,L,R,I,M);return this.world.add(P),P},joint:function(b,T,S,F,B){return this.constraint(b,T,S,F,B)},spring:function(b,T,S,F,B){return this.constraint(b,T,S,F,B)},constraint:function(b,T,S,F,B){F===void 0&&(F=1),B===void 0&&(B={}),B.bodyA=b.type==="body"?b:b.body,B.bodyB=T.type==="body"?T:T.body,isNaN(S)||(B.length=S),B.stiffness=F;var N=o.create(B);return this.world.add(N),N},worldConstraint:function(b,T,S,F){S===void 0&&(S=1),F===void 0&&(F={}),F.bodyB=b.type==="body"?b:b.body,isNaN(T)||(F.length=T),F.stiffness=S;var B=o.create(F);return this.world.add(B),B},mouseSpring:function(b){return this.pointerConstraint(b)},pointerConstraint:function(b){b===void 0&&(b={}),b.hasOwnProperty("render")||(b.render={visible:!1});var T=new v(this.scene,this.world,b);return this.world.add(T.constraint),T},image:function(b,T,S,F,B){var N=new d(this.world,b,T,S,F,B);return this.sys.displayList.add(N),N},tileBody:function(b,T){return new h(this.world,b,T)},sprite:function(b,T,S,F,B){var N=new f(this.world,b,T,S,F,B);return this.sys.displayList.add(N),this.sys.updateList.add(N),N},gameObject:function(b,T,S){return l(this.world,b,T,S)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});r.exports=C},75803:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(31884),p=i(95540),c=i(26099);function o(l){return!!l.get&&typeof l.get=="function"||!!l.set&&typeof l.set=="function"}var u=function(l,d,f,h){f===void 0&&(f={}),h===void 0&&(h=!0);var A=d.x,g=d.y;d.body={temp:!0,position:{x:A,y:g}};var v=[a.Bounce,a.Collision,a.Force,a.Friction,a.Gravity,a.Mass,a.Sensor,a.SetBody,a.Sleep,a.Static,a.Transform,a.Velocity];if(v.forEach(function(C){for(var b in C)o(C[b])?Object.defineProperty(d,b,{get:C[b].get,set:C[b].set}):Object.defineProperty(d,b,{value:C[b]})}),d.world=l,d._tempVec2=new c(A,g),f.hasOwnProperty("type")&&f.type==="body")d.setExistingBody(f,h);else{var y=p(f,"shape",null);y||(y="rectangle"),f.addToWorld=h,d.setBody(y,f)}return d};r.exports=u},23181:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(31884),c=i(95643),o=i(95540),u=i(88571),l=i(72699),d=i(26099),f=new a({Extends:u,Mixins:[p.Bounce,p.Collision,p.Force,p.Friction,p.Gravity,p.Mass,p.Sensor,p.SetBody,p.Sleep,p.Static,p.Transform,p.Velocity,l],initialize:function(A,g,v,y,C,b){c.call(this,A.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(y,C),this.setSizeToFrame(),this.setOrigin(),this.world=A,this._tempVec2=new d(g,v);var T=o(b,"shape",null);T?this.setBody(T,b):this.setRectangle(this.width,this.height,b),this.setPosition(g,v),this.initPipeline(),this.initPostPipeline(!0)}});r.exports=f},42045:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(60461),p=i(66615),c=i(66280),o=i(22562),u=i(68174),l=i(15647),d=i(83419),f=i(52284),h=i(53402),A=i(69351),g=i(74116),v=i(48140),y=i(81388),C=i(20339),b=i(28137),T=i(95540),S=i(35154),F=i(46975),B=i(4506),N=i(99561),L=i(37277),R=i(73296),I=i(66272),M=i(44594),P=i(74058),U=i(31725),z=i(41598),W=i(68243);h.setDecomp(i(55973));var Z=new d({initialize:function(H){this.scene=H,this.systems=H.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=o,this.composite=A,this.collision=f,this.detector=y,this.pair=B,this.pairs=N,this.query=R,this.resolver=I,this.constraint=v,this.bodies=c,this.composites=g,this.axes=p,this.bounds=l,this.svg=P,this.vector=U,this.vertices=z,this.verts=z,this._tempVec2=U.create(),I._restingThresh=S(this.config,"restingThresh",4),I._restingThreshTangent=S(this.config,"restingThreshTangent",6),I._positionDampen=S(this.config,"positionDampen",.9),I._positionWarming=S(this.config,"positionWarming",.8),I._frictionNormalMultiplier=S(this.config,"frictionNormalMultiplier",5),H.sys.events.once(M.BOOT,this.boot,this),H.sys.events.on(M.START,this.start,this)},boot:function(){this.world=new W(this.scene,this.config),this.add=new b(this.world),this.bodyBounds=new u,this.systems.events.once(M.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new W(this.scene,this.config),this.add=new b(this.world));var j=this.systems.events;j.on(M.UPDATE,this.world.update,this.world),j.on(M.POST_UPDATE,this.world.postUpdate,this.world),j.once(M.SHUTDOWN,this.shutdown,this)},getConfig:function(){var j=this.systems.game.config.physics,H=this.systems.settings.physics,V=F(T(H,"matter",{}),T(j,"matter",{}));return V},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(j,H){this.world.step(j,H)},containsPoint:function(j,H,V){j=this.getMatterBodies(j);var k=U.create(H,V),X=R.point(j,k);return X.length>0},intersectPoint:function(j,H,V){V=this.getMatterBodies(V);var k=U.create(j,H),X=[],Q=R.point(V,k);return Q.forEach(function(J){X.indexOf(J)===-1&&X.push(J)}),X},intersectRect:function(j,H,V,k,X,Q){X===void 0&&(X=!1),Q=this.getMatterBodies(Q);var J={min:{x:j,y:H},max:{x:j+V,y:H+k}},$=[],_=R.region(Q,J,X);return _.forEach(function(te){$.indexOf(te)===-1&&$.push(te)}),$},intersectRay:function(j,H,V,k,X,Q){X===void 0&&(X=1),Q=this.getMatterBodies(Q);for(var J=[],$=R.ray(Q,U.create(j,H),U.create(V,k),X),_=0;_<$.length;_++)J.push($[_].body);return J},intersectBody:function(j,H){H=this.getMatterBodies(H);for(var V=[],k=R.collides(j,H),X=0;X<k.length;X++){var Q=k[X];Q.bodyA===j?V.push(Q.bodyB):V.push(Q.bodyA)}return V},overlap:function(j,H,V,k,X){V===void 0&&(V=null),k===void 0&&(k=null),X===void 0&&(X=V),Array.isArray(j)||(j=[j]),j=this.getMatterBodies(j),H=this.getMatterBodies(H);for(var Q=!1,J=0;J<j.length;J++)for(var $=j[J],_=R.collides($,H),te=0;te<_.length;te++){var se=_[te],ce=se.bodyA.id===$.id?se.bodyB:se.bodyA;if(!k||k.call(X,$,ce,se)){if(Q=!0,V)V.call(X,$,ce,se);else if(!k)return!0}}return Q},setCollisionCategory:function(j,H){return j=this.getMatterBodies(j),j.forEach(function(V){V.collisionFilter.category=H}),this},setCollisionGroup:function(j,H){return j=this.getMatterBodies(j),j.forEach(function(V){V.collisionFilter.group=H}),this},setCollidesWith:function(j,H){j=this.getMatterBodies(j);var V=0;if(!Array.isArray(H))V=H;else for(var k=0;k<H.length;k++)V|=H[k];return j.forEach(function(X){X.collisionFilter.mask=V}),this},getMatterBodies:function(j){if(!j)return this.world.getAllBodies();Array.isArray(j)||(j=[j]);for(var H=[],V=0;V<j.length;V++){var k=j[V].hasOwnProperty("body")?j[V].body:j[V];H.push(k)}return H},setVelocity:function(j,H,V){j=this.getMatterBodies(j);var k=this._tempVec2;return k.x=H,k.y=V,j.forEach(function(X){o.setVelocity(X,k)}),this},setVelocityX:function(j,H){j=this.getMatterBodies(j);var V=this._tempVec2;return V.x=H,j.forEach(function(k){V.y=k.velocity.y,o.setVelocity(k,V)}),this},setVelocityY:function(j,H){j=this.getMatterBodies(j);var V=this._tempVec2;return V.y=H,j.forEach(function(k){V.x=k.velocity.x,o.setVelocity(k,V)}),this},setAngularVelocity:function(j,H){return j=this.getMatterBodies(j),j.forEach(function(V){o.setAngularVelocity(V,H)}),this},applyForce:function(j,H){j=this.getMatterBodies(j);var V=this._tempVec2;return j.forEach(function(k){V.x=k.position.x,V.y=k.position.y,o.applyForce(k,V,H)}),this},applyForceFromPosition:function(j,H,V,k){j=this.getMatterBodies(j);var X=this._tempVec2;return j.forEach(function(Q){k===void 0&&(k=Q.angle),X.x=V*Math.cos(k),X.y=V*Math.sin(k),o.applyForce(Q,H,X)}),this},applyForceFromAngle:function(j,H,V){j=this.getMatterBodies(j);var k=this._tempVec2;return j.forEach(function(X){V===void 0&&(V=X.angle),k.x=H*Math.cos(V),k.y=H*Math.sin(V),o.applyForce(X,{x:X.position.x,y:X.position.y},k)}),this},getConstraintLength:function(j){var H=j.pointA.x,V=j.pointA.y,k=j.pointB.x,X=j.pointB.y;return j.bodyA&&(H+=j.bodyA.position.x,V+=j.bodyA.position.y),j.bodyB&&(k+=j.bodyB.position.x,X+=j.bodyB.position.y),C(H,V,k,X)},alignBody:function(j,H,V,k){j=j.hasOwnProperty("body")?j.body:j;var X;switch(k){case a.TOP_LEFT:case a.LEFT_TOP:X=this.bodyBounds.getTopLeft(j,H,V);break;case a.TOP_CENTER:X=this.bodyBounds.getTopCenter(j,H,V);break;case a.TOP_RIGHT:case a.RIGHT_TOP:X=this.bodyBounds.getTopRight(j,H,V);break;case a.LEFT_CENTER:X=this.bodyBounds.getLeftCenter(j,H,V);break;case a.CENTER:X=this.bodyBounds.getCenter(j,H,V);break;case a.RIGHT_CENTER:X=this.bodyBounds.getRightCenter(j,H,V);break;case a.LEFT_BOTTOM:case a.BOTTOM_LEFT:X=this.bodyBounds.getBottomLeft(j,H,V);break;case a.BOTTOM_CENTER:X=this.bodyBounds.getBottomCenter(j,H,V);break;case a.BOTTOM_RIGHT:case a.RIGHT_BOTTOM:X=this.bodyBounds.getBottomRight(j,H,V);break}return X&&o.setPosition(j,X),this},shutdown:function(){var j=this.systems.events;this.world&&(j.off(M.UPDATE,this.world.update,this.world),j.off(M.POST_UPDATE,this.world.postUpdate,this.world)),j.off(M.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(M.START,this.start,this),this.scene=null,this.systems=null}});L.register("MatterPhysics",Z,"matterPhysics"),r.exports=Z},34803:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(9674),p=i(83419),c=i(31884),o=i(95643),u=i(95540),l=i(72699),d=i(68287),f=i(26099),h=new p({Extends:d,Mixins:[c.Bounce,c.Collision,c.Force,c.Friction,c.Gravity,c.Mass,c.Sensor,c.SetBody,c.Sleep,c.Static,c.Transform,c.Velocity,l],initialize:function(g,v,y,C,b,T){o.call(this,g.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new a(this),this.setTexture(C,b),this.setSizeToFrame(),this.setOrigin(),this.world=g,this._tempVec2=new f(v,y);var S=u(T,"shape",null);S?this.setBody(S,T):this.setRectangle(this.width,this.height,T),this.setPosition(v,y),this.initPipeline(),this.initPostPipeline(!0)}});r.exports=h},73834:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(66280),p=i(22562),c=i(83419),o=i(31884),u=i(62644),l=i(50792),d=i(95540),f=i(97022),h=i(41598),A=new c({Extends:l,Mixins:[o.Bounce,o.Collision,o.Friction,o.Gravity,o.Mass,o.Sensor,o.Sleep,o.Static],initialize:function(v,y,C){l.call(this),this.tile=y,this.world=v,y.physics.matterBody&&y.physics.matterBody.destroy(),y.physics.matterBody=this;var b=d(C,"body",null),T=d(C,"addToWorld",!0);if(b)this.setBody(b,T);else{var S=y.getCollisionGroup(),F=d(S,"objects",[]);F.length>0?this.setFromTileCollision(C):this.setFromTileRectangle(C)}if(y.flipX||y.flipY){var B={x:y.getCenterX(),y:y.getCenterY()},N=y.flipX?-1:1,L=y.flipY?-1:1;p.scale(b,N,L,B)}},setFromTileRectangle:function(g){g===void 0&&(g={}),f(g,"isStatic")||(g.isStatic=!0),f(g,"addToWorld")||(g.addToWorld=!0);var v=this.tile.getBounds(),y=v.x+v.width/2,C=v.y+v.height/2,b=a.rectangle(y,C,v.width,v.height,g);return this.setBody(b,g.addToWorld),this},setFromTileCollision:function(g){g===void 0&&(g={}),f(g,"isStatic")||(g.isStatic=!0),f(g,"addToWorld")||(g.addToWorld=!0);for(var v=this.tile.tilemapLayer.scaleX,y=this.tile.tilemapLayer.scaleY,C=this.tile.getLeft(),b=this.tile.getTop(),T=this.tile.getCollisionGroup(),S=d(T,"objects",[]),F=[],B=0;B<S.length;B++){var N=S[B],L=C+N.x*v,R=b+N.y*y,I=N.width*v,M=N.height*y,P=null;if(N.rectangle)P=a.rectangle(L+I/2,R+M/2,I,M,g);else if(N.ellipse)P=a.circle(L+I/2,R+M/2,I/2,g);else if(N.polygon||N.polyline){var U=N.polygon?N.polygon:N.polyline,z=U.map(function(H){return{x:H.x*v,y:H.y*y}}),W=h.create(z),Z=h.centre(W);L+=Z.x,R+=Z.y,P=a.fromVertices(L,R,W,g)}P&&F.push(P)}if(F.length===1)this.setBody(F[0],g.addToWorld);else if(F.length>1){var j=u(g);j.parts=F,this.setBody(p.create(j),j.addToWorld)}return this},setBody:function(g,v){return v===void 0&&(v=!0),this.body&&this.removeBody(),this.body=g,this.body.gameObject=this,v&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});r.exports=A},19496:(r,x,i)=>{/**
 * @author       Joachim Grill <joachim@codeandweb.com>
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2018 CodeAndWeb GmbH
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(66280),p=i(22562),c=i(53402),o=i(95540),u=i(41598),l={parseBody:function(d,f,h,A){A===void 0&&(A={});for(var g=o(h,"fixtures",[]),v=[],y=0;y<g.length;y++)for(var C=this.parseFixture(g[y]),b=0;b<C.length;b++)v.push(C[b]);var T=c.clone(h,!0);c.extend(T,A,!0),delete T.fixtures,delete T.type;var S=p.create(T);return p.setParts(S,v),p.setPosition(S,{x:d,y:f}),S},parseFixture:function(d){var f=c.extend({},!1,d);delete f.circle,delete f.vertices;var h;if(d.circle){var A=o(d.circle,"x"),g=o(d.circle,"y"),v=o(d.circle,"radius");h=[a.circle(A,g,v,f)]}else d.vertices&&(h=this.parseVertices(d.vertices,f));return h},parseVertices:function(d,f){f===void 0&&(f={});for(var h=[],A=0;A<d.length;A++)u.clockwiseSort(d[A]),h.push(p.create(c.extend({position:u.centre(d[A]),vertices:d[A]},f)));return a.flagCoincidentParts(h)}};r.exports=l},85791:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(66280),p=i(22562),c={parseBody:function(o,u,l,d){d===void 0&&(d={});var f,h=l.vertices;if(h.length===1)d.vertices=h[0],f=p.create(d),a.flagCoincidentParts(f.parts);else{for(var A=[],g=0;g<h.length;g++){var v=p.create({vertices:h[g]});A.push(v)}a.flagCoincidentParts(A),d.parts=A,f=p.create(d)}return f.label=l.label,p.setPosition(f,{x:o,y:u}),f}};r.exports=c},98713:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(15647),p=i(83419),c=i(69351),o=i(48140),u=i(81388),l=i(1121),d=i(8214),f=i(46975),h=i(53614),A=i(26099),g=i(41598),v=new p({initialize:function(C,b,T){T===void 0&&(T={});var S={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=C,this.world=b,this.camera=null,this.pointer=null,this.active=!0,this.position=new A,this.body=null,this.part=null,this.constraint=o.create(f(T,S)),this.world.on(l.BEFORE_UPDATE,this.update,this),C.sys.input.on(d.POINTER_DOWN,this.onDown,this),C.sys.input.on(d.POINTER_UP,this.onUp,this)},onDown:function(y){this.pointer||(this.pointer=y,this.camera=y.camera)},onUp:function(y){y===this.pointer&&(this.pointer=null)},getBody:function(y){var C=this.position,b=this.constraint;this.camera.getWorldPoint(y.x,y.y,C);for(var T=c.allBodies(this.world.localWorld),S=0;S<T.length;S++){var F=T[S];if(!F.ignorePointer&&a.contains(F.bounds,C)&&u.canCollide(F.collisionFilter,b.collisionFilter)&&this.hitTestBody(F,C))return this.world.emit(l.DRAG_START,F,this.part,this),!0}return!1},hitTestBody:function(y,C){for(var b=this.constraint,T=y.parts.length,S=T>1?1:0,F=S;F<T;F++){var B=y.parts[F];if(g.contains(B.vertices,C))return b.pointA=C,b.pointB={x:C.x-y.position.x,y:C.y-y.position.y},b.bodyB=y,b.angleB=y.angle,h.set(y,!1),this.part=B,this.body=y,!0}return!1},update:function(){var y=this.pointer,C=this.body;if(!this.active||!y){C&&this.stopDrag();return}if(!y.isDown&&C){this.stopDrag();return}else if(y.isDown){if(!this.camera||!C&&!this.getBody(y))return;C=this.body;var b=this.position,T=this.constraint;this.camera.getWorldPoint(y.x,y.y,b),T.pointA.x=b.x,T.pointA.y=b.y,h.set(C,!1),this.world.emit(l.DRAG,C,this)}},stopDrag:function(){var y=this.body,C=this.constraint;C.bodyB=null,C.pointB=null,this.pointer=null,this.body=null,this.part=null,y&&this.world.emit(l.DRAG_END,y,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(l.BEFORE_UPDATE,this.update),this.scene.sys.input.off(d.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(d.POINTER_UP,this.onUp,this)}});r.exports=v},68243:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(66280),p=i(22562),c=i(83419),o=i(53402),u=i(69351),l=i(48413),d=i(50792),f=i(1121),h=i(95540),A=i(35154),g=i(22562),v=i(35810),y=i(73834),C=i(4372),b=i(13037),T=i(31725),S=new c({Extends:d,initialize:function(B,N){d.call(this),this.scene=B,this.engine=l.create(N),this.localWorld=this.engine.world;var L=A(N,"gravity",null);L?this.setGravity(L.x,L.y,L.scale):L===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=A(N,"enabled",!0),this.getDelta=A(N,"getDelta",this.update60Hz);var R=h(N,"runner",{}),I=h(R,"fps",!1);I&&(R.delta=1e3/h(R,"fps",60)),this.runner=b.create(R),this.autoUpdate=A(N,"autoUpdate",!0);var M=A(N,"debug",!1);if(this.drawDebug=typeof M=="object"?!0:M,this.debugGraphic,this.debugConfig={showAxes:h(M,"showAxes",!1),showAngleIndicator:h(M,"showAngleIndicator",!1),angleColor:h(M,"angleColor",15208787),showBroadphase:h(M,"showBroadphase",!1),broadphaseColor:h(M,"broadphaseColor",16757760),showBounds:h(M,"showBounds",!1),boundsColor:h(M,"boundsColor",16777215),showVelocity:h(M,"showVelocity",!1),velocityColor:h(M,"velocityColor",44783),showCollisions:h(M,"showCollisions",!1),collisionColor:h(M,"collisionColor",16094476),showSeparations:h(M,"showSeparations",!1),separationColor:h(M,"separationColor",16753920),showBody:h(M,"showBody",!0),showStaticBody:h(M,"showStaticBody",!0),showInternalEdges:h(M,"showInternalEdges",!1),renderFill:h(M,"renderFill",!1),renderLine:h(M,"renderLine",!0),fillColor:h(M,"fillColor",1075465),fillOpacity:h(M,"fillOpacity",1),lineColor:h(M,"lineColor",2678297),lineOpacity:h(M,"lineOpacity",1),lineThickness:h(M,"lineThickness",1),staticFillColor:h(M,"staticFillColor",857979),staticLineColor:h(M,"staticLineColor",1255396),showSleeping:h(M,"showSleeping",!1),staticBodySleepOpacity:h(M,"staticBodySleepOpacity",.7),sleepFillColor:h(M,"sleepFillColor",4605510),sleepLineColor:h(M,"sleepLineColor",10066585),showSensors:h(M,"showSensors",!0),sensorFillColor:h(M,"sensorFillColor",857979),sensorLineColor:h(M,"sensorLineColor",1255396),showPositions:h(M,"showPositions",!0),positionSize:h(M,"positionSize",4),positionColor:h(M,"positionColor",14697178),showJoint:h(M,"showJoint",!0),jointColor:h(M,"jointColor",14737474),jointLineOpacity:h(M,"jointLineOpacity",1),jointLineThickness:h(M,"jointLineThickness",2),pinSize:h(M,"pinSize",4),pinColor:h(M,"pinColor",4382944),springColor:h(M,"springColor",14697184),anchorColor:h(M,"anchorColor",15724527),anchorSize:h(M,"anchorSize",4),showConvexHulls:h(M,"showConvexHulls",!1),hullColor:h(M,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),h(N,"setBounds",!1)){var P=N.setBounds;if(typeof P=="boolean")this.setBounds();else{var U=h(P,"x",0),z=h(P,"y",0),W=h(P,"width",B.sys.scale.width),Z=h(P,"height",B.sys.scale.height),j=h(P,"thickness",64),H=h(P,"left",!0),V=h(P,"right",!0),k=h(P,"top",!0),X=h(P,"bottom",!0);this.setBounds(U,z,W,Z,j,H,V,k,X)}}},setCompositeRenderStyle:function(F){var B=F.bodies,N=F.constraints,L=F.composites,R,I,M;for(R=0;R<B.length;R++)I=B[R],M=I.render,this.setBodyRenderStyle(I,M.lineColor,M.lineOpacity,M.lineThickness,M.fillColor,M.fillOpacity);for(R=0;R<N.length;R++)I=N[R],M=I.render,this.setConstraintRenderStyle(I,M.lineColor,M.lineOpacity,M.lineThickness,M.pinSize,M.anchorColor,M.anchorSize);for(R=0;R<L.length;R++)I=L[R],this.setCompositeRenderStyle(I);return this},setBodyRenderStyle:function(F,B,N,L,R,I){var M=F.render,P=this.debugConfig;return M?(B==null&&(B=F.isStatic?P.staticLineColor:P.lineColor),N==null&&(N=P.lineOpacity),L==null&&(L=P.lineThickness),R==null&&(R=F.isStatic?P.staticFillColor:P.fillColor),I==null&&(I=P.fillOpacity),B!==!1&&(M.lineColor=B),N!==!1&&(M.lineOpacity=N),L!==!1&&(M.lineThickness=L),R!==!1&&(M.fillColor=R),I!==!1&&(M.fillOpacity=I),this):this},setConstraintRenderStyle:function(F,B,N,L,R,I,M){var P=F.render,U=this.debugConfig;if(!P)return this;if(B==null){var z=P.type;z==="line"?B=U.jointColor:z==="pin"?B=U.pinColor:z==="spring"&&(B=U.springColor)}return N==null&&(N=U.jointLineOpacity),L==null&&(L=U.jointLineThickness),R==null&&(R=U.pinSize),I==null&&(I=U.anchorColor),M==null&&(M=U.anchorSize),B!==!1&&(P.lineColor=B),N!==!1&&(P.lineOpacity=N),L!==!1&&(P.lineThickness=L),R!==!1&&(P.pinSize=R),I!==!1&&(P.anchorColor=I),M!==!1&&(P.anchorSize=M),this},setEventsProxy:function(){var F=this,B=this.engine,N=this.localWorld;this.drawDebug&&(v.on(N,"compositeModified",function(L){F.setCompositeRenderStyle(L)}),v.on(N,"beforeAdd",function(L){for(var R=[].concat(L.object),I=0;I<R.length;I++){var M=R[I],P=M.render;M.type==="body"?F.setBodyRenderStyle(M,P.lineColor,P.lineOpacity,P.lineThickness,P.fillColor,P.fillOpacity):M.type==="composite"?F.setCompositeRenderStyle(M):M.type==="constraint"&&F.setConstraintRenderStyle(M,P.lineColor,P.lineOpacity,P.lineThickness,P.pinSize,P.anchorColor,P.anchorSize)}})),v.on(N,"beforeAdd",function(L){F.emit(f.BEFORE_ADD,L)}),v.on(N,"afterAdd",function(L){F.emit(f.AFTER_ADD,L)}),v.on(N,"beforeRemove",function(L){F.emit(f.BEFORE_REMOVE,L)}),v.on(N,"afterRemove",function(L){F.emit(f.AFTER_REMOVE,L)}),v.on(B,"beforeUpdate",function(L){F.emit(f.BEFORE_UPDATE,L)}),v.on(B,"afterUpdate",function(L){F.emit(f.AFTER_UPDATE,L)}),v.on(B,"collisionStart",function(L){var R=L.pairs,I,M;R.length>0&&R.map(function(P){I=P.bodyA,M=P.bodyB,I.gameObject&&I.gameObject.emit("collide",I,M,P),M.gameObject&&M.gameObject.emit("collide",M,I,P),v.trigger(I,"onCollide",{pair:P}),v.trigger(M,"onCollide",{pair:P}),I.onCollideCallback&&I.onCollideCallback(P),M.onCollideCallback&&M.onCollideCallback(P),I.onCollideWith[M.id]&&I.onCollideWith[M.id](M,P),M.onCollideWith[I.id]&&M.onCollideWith[I.id](I,P)}),F.emit(f.COLLISION_START,L,I,M)}),v.on(B,"collisionActive",function(L){var R=L.pairs,I,M;R.length>0&&R.map(function(P){I=P.bodyA,M=P.bodyB,I.gameObject&&I.gameObject.emit("collideActive",I,M,P),M.gameObject&&M.gameObject.emit("collideActive",M,I,P),v.trigger(I,"onCollideActive",{pair:P}),v.trigger(M,"onCollideActive",{pair:P}),I.onCollideActiveCallback&&I.onCollideActiveCallback(P),M.onCollideActiveCallback&&M.onCollideActiveCallback(P)}),F.emit(f.COLLISION_ACTIVE,L,I,M)}),v.on(B,"collisionEnd",function(L){var R=L.pairs,I,M;R.length>0&&R.map(function(P){I=P.bodyA,M=P.bodyB,I.gameObject&&I.gameObject.emit("collideEnd",I,M,P),M.gameObject&&M.gameObject.emit("collideEnd",M,I,P),v.trigger(I,"onCollideEnd",{pair:P}),v.trigger(M,"onCollideEnd",{pair:P}),I.onCollideEndCallback&&I.onCollideEndCallback(P),M.onCollideEndCallback&&M.onCollideEndCallback(P)}),F.emit(f.COLLISION_END,L,I,M)})},setBounds:function(F,B,N,L,R,I,M,P,U){return F===void 0&&(F=0),B===void 0&&(B=0),N===void 0&&(N=this.scene.sys.scale.width),L===void 0&&(L=this.scene.sys.scale.height),R===void 0&&(R=64),I===void 0&&(I=!0),M===void 0&&(M=!0),P===void 0&&(P=!0),U===void 0&&(U=!0),this.updateWall(I,"left",F-R,B-R,R,L+R*2),this.updateWall(M,"right",F+N,B-R,R,L+R*2),this.updateWall(P,"top",F,B-R,N,R),this.updateWall(U,"bottom",F,B+L,N,R),this},updateWall:function(F,B,N,L,R,I){var M=this.walls[B];F?(M&&C.remove(this.localWorld,M),N+=R/2,L+=I/2,this.walls[B]=this.create(N,L,R,I,{isStatic:!0,friction:0,frictionStatic:0})):(M&&C.remove(this.localWorld,M),this.walls[B]=null)},createDebugGraphic:function(){var F=this.scene.sys.add.graphics({x:0,y:0});return F.setDepth(Number.MAX_VALUE),this.debugGraphic=F,this.drawDebug=!0,F},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(F,B,N){return F===void 0&&(F=0),B===void 0&&(B=1),N===void 0&&(N=.001),this.localWorld.gravity.x=F,this.localWorld.gravity.y=B,this.localWorld.gravity.scale=N,this},create:function(F,B,N,L,R){var I=a.rectangle(F,B,N,L,R);return C.add(this.localWorld,I),I},add:function(F){return C.add(this.localWorld,F),this},remove:function(F,B){Array.isArray(F)||(F=[F]);for(var N=0;N<F.length;N++){var L=F[N],R=L.body?L.body:L;u.remove(this.localWorld,R,B)}return this},removeConstraint:function(F,B){return u.remove(this.localWorld,F,B),this},convertTilemapLayer:function(F,B){var N=F.layer,L=F.getTilesWithin(0,0,N.width,N.height,{isColliding:!0});return this.convertTiles(L,B),this},convertTiles:function(F,B){if(F.length===0)return this;for(var N=0;N<F.length;N++)new y(this,F[N],B);return this},nextGroup:function(F){return g.nextGroup(F)},nextCategory:function(){return g.nextCategory()},pause:function(){return this.enabled=!1,this.emit(f.PAUSE),this},resume:function(){return this.enabled=!0,this.runner.timeLastTick=o.now(),this.emit(f.RESUME),this},update:function(F){if(!(!this.enabled||!this.autoUpdate)){var B=this.engine,N=this.runner,L=o.now(),R=N.delta,I=0,M=F-N.timeLastTick;if((!M||!N.timeLastTick||M>Math.max(b._maxFrameDelta,N.maxFrameTime))&&(M=N.frameDelta||b._frameDeltaFallback),N.frameDeltaSmoothing){N.frameDeltaHistory.push(M),N.frameDeltaHistory=N.frameDeltaHistory.slice(-N.frameDeltaHistorySize);var P=N.frameDeltaHistory.slice(0).sort(),U=N.frameDeltaHistory.slice(P.length*b._smoothingLowerBound,P.length*b._smoothingUpperBound),z=b._mean(U);M=z||M}N.frameDeltaSnapping&&(M=1e3/Math.round(1e3/M)),N.frameDelta=M,N.timeLastTick=F,N.timeBuffer+=N.frameDelta,N.timeBuffer=o.clamp(N.timeBuffer,0,N.frameDelta+R*b._timeBufferMargin),N.lastUpdatesDeferred=0;for(var W=N.maxUpdates||Math.ceil(N.maxFrameTime/R),Z=o.now();R>0&&N.timeBuffer>=R*b._timeBufferMargin;){l.update(B,R),N.timeBuffer-=R,I+=1;var j=o.now()-L,H=o.now()-Z,V=j+b._elapsedNextEstimate*H/I;if(I>=W||V>N.maxFrameTime){N.lastUpdatesDeferred=Math.round(Math.max(0,N.timeBuffer/R-b._timeBufferMargin));break}}}},step:function(F){l.update(this.engine,F)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(F){var B=F.hasOwnProperty("body")?F.body:F;return u.get(this.localWorld,B.id,B.type)!==null},getAllBodies:function(){return u.allBodies(this.localWorld)},getAllConstraints:function(){return u.allConstraints(this.localWorld)},getAllComposites:function(){return u.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var F=this.debugConfig,B=this.engine,N=this.debugGraphic,L=u.allBodies(this.localWorld);this.debugGraphic.clear(),F.showBroadphase&&B.broadphase.controller&&this.renderGrid(B.broadphase,N,F.broadphaseColor,.5),F.showBounds&&this.renderBodyBounds(L,N,F.boundsColor,.5),(F.showBody||F.showStaticBody)&&this.renderBodies(L),F.showJoint&&this.renderJoints(),(F.showAxes||F.showAngleIndicator)&&this.renderBodyAxes(L,N,F.showAxes,F.angleColor,.5),F.showVelocity&&this.renderBodyVelocity(L,N,F.velocityColor,1,2),F.showSeparations&&this.renderSeparations(B.pairs.list,N,F.separationColor),F.showCollisions&&this.renderCollisions(B.pairs.list,N,F.collisionColor)}},renderGrid:function(F,B,N,L){B.lineStyle(1,N,L);for(var R=o.keys(F.buckets),I=0;I<R.length;I++){var M=R[I];if(!(F.buckets[M].length<2)){var P=M.split(/C|R/);B.strokeRect(parseInt(P[1],10)*F.bucketWidth,parseInt(P[2],10)*F.bucketHeight,F.bucketWidth,F.bucketHeight)}}return this},renderSeparations:function(F,B,N){B.lineStyle(1,N,1);for(var L=0;L<F.length;L++){var R=F[L];if(R.isActive){var I=R.collision,M=I.bodyA,P=I.bodyB,U=M.position,z=P.position,W=I.penetration,Z=!M.isStatic&&!P.isStatic?4:1;P.isStatic&&(Z=0),B.lineBetween(z.x,z.y,z.x-W.x*Z,z.y-W.y*Z),Z=!M.isStatic&&!P.isStatic?4:1,M.isStatic&&(Z=0),B.lineBetween(U.x,U.y,U.x-W.x*Z,U.y-W.y*Z)}}return this},renderCollisions:function(F,B,N){B.lineStyle(1,N,.5),B.fillStyle(N,1);var L,R;for(L=0;L<F.length;L++)if(R=F[L],!!R.isActive)for(var I=0;I<R.contactCount;I++){var M=R.contacts[I],P=M.vertex;P&&B.fillRect(P.x-2,P.y-2,5,5)}for(L=0;L<F.length;L++)if(R=F[L],!!R.isActive){var U=R.collision,z=R.contacts;if(R.contactCount>0){var W=z[0].vertex.x,Z=z[0].vertex.y;R.contactCount===2&&(W=(z[0].vertex.x+z[1].vertex.x)/2,Z=(z[0].vertex.y+z[1].vertex.y)/2),U.bodyB===U.supports[0].body||U.bodyA.isStatic?B.lineBetween(W-U.normal.x*8,Z-U.normal.y*8,W,Z):B.lineBetween(W+U.normal.x*8,Z+U.normal.y*8,W,Z)}}return this},renderBodyBounds:function(F,B,N,L){B.lineStyle(1,N,L);for(var R=0;R<F.length;R++){var I=F[R];if(I.render.visible){var M=I.bounds;if(M)B.strokeRect(M.min.x,M.min.y,M.max.x-M.min.x,M.max.y-M.min.y);else for(var P=I.parts,U=P.length>1?1:0;U<P.length;U++){var z=P[U];B.strokeRect(z.bounds.min.x,z.bounds.min.y,z.bounds.max.x-z.bounds.min.x,z.bounds.max.y-z.bounds.min.y)}}}return this},renderBodyAxes:function(F,B,N,L,R){B.lineStyle(1,L,R);for(var I=0;I<F.length;I++){var M=F[I],P=M.parts;if(M.render.visible){var U,z,W;if(N)for(z=P.length>1?1:0;z<P.length;z++)for(U=P[z],W=0;W<U.axes.length;W++){var Z=U.axes[W];B.lineBetween(U.position.x,U.position.y,U.position.x+Z.x*20,U.position.y+Z.y*20)}else for(z=P.length>1?1:0;z<P.length;z++)for(U=P[z],W=0;W<U.axes.length;W++)B.lineBetween(U.position.x,U.position.y,(U.vertices[0].x+U.vertices[U.vertices.length-1].x)/2,(U.vertices[0].y+U.vertices[U.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(F,B,N,L,R){B.lineStyle(R,N,L);for(var I=0;I<F.length;I++){var M=F[I];M.render.visible&&B.lineBetween(M.position.x,M.position.y,M.position.x+(M.position.x-M.positionPrev.x)*2,M.position.y+(M.position.y-M.positionPrev.y)*2)}return this},renderBodies:function(F){for(var B=this.debugGraphic,N=this.debugConfig,L=N.showBody,R=N.showStaticBody,I=N.showSleeping,M=N.showInternalEdges,P=N.showConvexHulls,U=N.renderFill,z=N.renderLine,W=N.staticBodySleepOpacity,Z=N.sleepFillColor,j=N.sleepLineColor,H=N.hullColor,V=0;V<F.length;V++){var k=F[V];if(k.render.visible&&!(!R&&k.isStatic||!L&&!k.isStatic)){var X=k.render.lineColor,Q=k.render.lineOpacity,J=k.render.lineThickness,$=k.render.fillColor,_=k.render.fillOpacity;I&&k.isSleeping&&(k.isStatic?(Q*=W,_*=W):(X=j,$=Z)),U||($=null),z||(X=null),this.renderBody(k,B,M,X,Q,J,$,_);var te=k.parts.length;P&&te>1&&this.renderConvexHull(k,B,H,J)}}},renderBody:function(F,B,N,L,R,I,M,P){L===void 0&&(L=null),R===void 0&&(R=null),I===void 0&&(I=1),M===void 0&&(M=null),P===void 0&&(P=null);for(var U=this.debugConfig,z=U.sensorFillColor,W=U.sensorLineColor,Z=F.parts,j=Z.length,H=j>1?1:0;H<j;H++){var V=Z[H],k=V.render,X=k.opacity;if(!(!k.visible||X===0||V.isSensor&&!U.showSensors)){var Q=V.circleRadius;if(B.beginPath(),V.isSensor?(M!==null&&B.fillStyle(z,P*X),L!==null&&B.lineStyle(I,W,R*X)):(M!==null&&B.fillStyle(M,P*X),L!==null&&B.lineStyle(I,L,R*X)),Q)B.arc(V.position.x,V.position.y,Q,0,2*Math.PI);else{var J=V.vertices,$=J.length;B.moveTo(J[0].x,J[0].y);for(var _=1;_<$;_++){var te=J[_];if(!J[_-1].isInternal||N?B.lineTo(te.x,te.y):B.moveTo(te.x,te.y),_<$&&te.isInternal&&!N){var se=(_+1)%$;B.moveTo(J[se].x,J[se].y)}}B.closePath()}M!==null&&B.fillPath(),L!==null&&B.strokePath()}}if(U.showPositions&&!F.isStatic){var ce=F.position.x,ge=F.position.y,ue=Math.ceil(U.positionSize/2);B.fillStyle(U.positionColor,1),B.fillRect(ce-ue,ge-ue,U.positionSize,U.positionSize)}return this},renderConvexHull:function(F,B,N,L){L===void 0&&(L=1);var R=F.parts,I=R.length;if(I>1){var M=F.vertices;B.lineStyle(L,N),B.beginPath(),B.moveTo(M[0].x,M[0].y);for(var P=1;P<M.length;P++)B.lineTo(M[P].x,M[P].y);B.lineTo(M[0].x,M[0].y),B.strokePath()}return this},renderJoints:function(){for(var F=this.debugGraphic,B=u.allConstraints(this.localWorld),N=0;N<B.length;N++){var L=B[N].render,R=L.lineColor,I=L.lineOpacity,M=L.lineThickness,P=L.pinSize,U=L.anchorColor,z=L.anchorSize;this.renderConstraint(B[N],F,R,I,M,P,U,z)}},renderConstraint:function(F,B,N,L,R,I,M,P){var U=F.render;if(!U.visible||!F.pointA||!F.pointB)return this;B.lineStyle(R,N,L);var z=F.bodyA,W=F.bodyB,Z,j;if(z?Z=T.add(z.position,F.pointA):Z=F.pointA,U.type==="pin")B.strokeCircle(Z.x,Z.y,I);else{if(W?j=T.add(W.position,F.pointB):j=F.pointB,B.beginPath(),B.moveTo(Z.x,Z.y),U.type==="spring")for(var H=T.sub(j,Z),V=T.perp(T.normalise(H)),k=Math.ceil(o.clamp(F.length/5,12,20)),X,Q=1;Q<k;Q+=1)X=Q%2===0?1:-1,B.lineTo(Z.x+H.x*(Q/k)+V.x*X*4,Z.y+H.y*(Q/k)+V.y*X*4);B.lineTo(j.x,j.y)}return B.strokePath(),U.anchors&&P>0&&(B.fillStyle(M),B.fillCircle(Z.x,Z.y,P),B.fillCircle(j.x,j.y,P)),this},resetCollisionIDs:function(){return p._nextCollidingGroupId=1,p._nextNonCollidingGroupId=-1,p._nextCategory=1,this},shutdown:function(){v.off(this.engine),this.removeAllListeners(),C.clear(this.localWorld,!1),l.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});r.exports=S},70410:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setBounce:function(i){return this.body.restitution=i,this}};r.exports=x},66968:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setCollisionCategory:function(i){return this.body.collisionFilter.category=i,this},setCollisionGroup:function(i){return this.body.collisionFilter.group=i,this},setCollidesWith:function(i){var a=0;if(!Array.isArray(i))a=i;else for(var p=0;p<i.length;p++)a|=i[p];return this.body.collisionFilter.mask=a,this},setOnCollide:function(i){return this.body.onCollideCallback=i,this},setOnCollideEnd:function(i){return this.body.onCollideEndCallback=i,this},setOnCollideActive:function(i){return this.body.onCollideActiveCallback=i,this},setOnCollideWith:function(i,a){Array.isArray(i)||(i=[i]);for(var p=0;p<i.length;p++){var c=i[p].hasOwnProperty("body")?i[p].body:i[p];this.body.setOnCollideWith(c,a)}return this}};r.exports=x},51607:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(22562),p={applyForce:function(c){return this._tempVec2.set(this.body.position.x,this.body.position.y),a.applyForce(this.body,this._tempVec2,c),this},applyForceFrom:function(c,o){return a.applyForce(this.body,c,o),this},thrust:function(c){var o=this.body.angle;return this._tempVec2.set(c*Math.cos(o),c*Math.sin(o)),a.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(c){var o=this.body.angle-Math.PI/2;return this._tempVec2.set(c*Math.cos(o),c*Math.sin(o)),a.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(c){var o=this.body.angle+Math.PI/2;return this._tempVec2.set(c*Math.cos(o),c*Math.sin(o)),a.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(c){var o=this.body.angle-Math.PI;return this._tempVec2.set(c*Math.cos(o),c*Math.sin(o)),a.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};r.exports=p},5436:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setFriction:function(i,a,p){return this.body.friction=i,a!==void 0&&(this.body.frictionAir=a),p!==void 0&&(this.body.frictionStatic=p),this},setFrictionAir:function(i){return this.body.frictionAir=i,this},setFrictionStatic:function(i){return this.body.frictionStatic=i,this}};r.exports=x},39858:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setIgnoreGravity:function(i){return this.body.ignoreGravity=i,this}};r.exports=x},37302:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(22562),p=i(26099),c={setMass:function(o){return a.setMass(this.body,o),this},setDensity:function(o){return a.setDensity(this.body,o),this},centerOfMass:{get:function(){return new p(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};r.exports=c},39132:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setSensor:function(i){return this.body.isSensor=i,this},isSensor:function(){return this.body.isSensor}};r.exports=x},57772:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(66280),p=i(22562),c=i(43855),o=i(95540),u=i(19496),l=i(85791),d=i(41598),f={setRectangle:function(h,A,g){return this.setBody({type:"rectangle",width:h,height:A},g)},setCircle:function(h,A){return this.setBody({type:"circle",radius:h},A)},setPolygon:function(h,A,g){return this.setBody({type:"polygon",sides:A,radius:h},g)},setTrapezoid:function(h,A,g,v){return this.setBody({type:"trapezoid",width:h,height:A,slope:g},v)},setExistingBody:function(h,A){A===void 0&&(A=!0),this.body&&this.world.remove(this.body,!0),this.body=h;for(var g=0;g<h.parts.length;g++)h.parts[g].gameObject=this;var v=this;if(h.destroy=function(){v.world.remove(v.body,!0),v.body.gameObject=null},A&&(this.world.has(h)&&this.world.remove(h,!0),this.world.add(h)),this._originComponent){var y=h.render.sprite.xOffset,C=h.render.sprite.yOffset,b=h.centerOfMass.x,T=h.centerOfMass.y;if(c(b,.5)&&c(T,.5))this.setOrigin(y+.5,C+.5);else{var S=h.centerOffset.x,F=h.centerOffset.y;this.setOrigin(y+S/this.displayWidth,C+F/this.displayHeight)}}return this},setBody:function(h,A){if(!h)return this;var g;typeof h=="string"&&(h={type:h});var v=o(h,"type","rectangle"),y=o(h,"x",this._tempVec2.x),C=o(h,"y",this._tempVec2.y),b=o(h,"width",this.width),T=o(h,"height",this.height);switch(v){case"rectangle":g=a.rectangle(y,C,b,T,A);break;case"circle":var S=o(h,"radius",Math.max(b,T)/2),F=o(h,"maxSides",25);g=a.circle(y,C,S,A,F);break;case"trapezoid":var B=o(h,"slope",.5);g=a.trapezoid(y,C,b,T,B,A);break;case"polygon":var N=o(h,"sides",5),L=o(h,"radius",Math.max(b,T)/2);g=a.polygon(y,C,N,L,A);break;case"fromVertices":case"fromVerts":var R=o(h,"verts",null);if(R)if(typeof R=="string"&&(R=d.fromPath(R)),this.body&&!this.body.hasOwnProperty("temp"))p.setVertices(this.body,R),g=this.body;else{var I=o(h,"flagInternal",!1),M=o(h,"removeCollinear",.01),P=o(h,"minimumArea",10);g=a.fromVertices(y,C,R,A,I,M,P)}break;case"fromPhysicsEditor":g=u.parseBody(y,C,h,A);break;case"fromPhysicsTracer":g=l.parseBody(y,C,h,A);break}return g&&this.setExistingBody(g,h.addToWorld),this}};r.exports=f},38083:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(1121),p=i(53614),c=i(35810),o={setToSleep:function(){return p.set(this.body,!0),this},setAwake:function(){return p.set(this.body,!1),this},setSleepThreshold:function(u){return u===void 0&&(u=60),this.body.sleepThreshold=u,this},setSleepEvents:function(u,l){return this.setSleepStartEvent(u),this.setSleepEndEvent(l),this},setSleepStartEvent:function(u){if(u){var l=this.world;c.on(this.body,"sleepStart",function(d){l.emit(a.SLEEP_START,d,this)})}else c.off(this.body,"sleepStart");return this},setSleepEndEvent:function(u){if(u){var l=this.world;c.on(this.body,"sleepEnd",function(d){l.emit(a.SLEEP_END,d,this)})}else c.off(this.body,"sleepEnd");return this}};r.exports=o},90556:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(22562),p={setStatic:function(c){return a.setStatic(this.body,c),this},isStatic:function(){return this.body.isStatic}};r.exports=p},85436:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(22562),p=i(36383),c=i(86554),o=i(30954),u=4,l={x:{get:function(){return this.body.position.x},set:function(d){this._tempVec2.set(d,this.y),a.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(d){this._tempVec2.set(this.x,d),a.setPosition(this.body,this._tempVec2)}},scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(d){this.setScale(d,d)}},scaleX:{get:function(){return this._scaleX},set:function(d){var f=1/this._scaleX,h=1/this._scaleY;this._scaleX=d,this._scaleX===0?this.renderFlags&=~u:this.renderFlags|=u,a.scale(this.body,f,h),a.scale(this.body,d,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(d){var f=1/this._scaleX,h=1/this._scaleY;this._scaleY=d,this._scaleY===0?this.renderFlags&=~u:this.renderFlags|=u,a.scale(this.body,f,h),a.scale(this.body,this._scaleX,d)}},angle:{get:function(){return o(this.body.angle*p.RAD_TO_DEG)},set:function(d){this.rotation=o(d)*p.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(d){this._rotation=c(d),a.setAngle(this.body,this._rotation)}},setPosition:function(d,f){return d===void 0&&(d=0),f===void 0&&(f=d),this._tempVec2.set(d,f),a.setPosition(this.body,this._tempVec2),this},setRotation:function(d){return d===void 0&&(d=0),this._rotation=c(d),a.setAngle(this.body,d),this},setFixedRotation:function(){return a.setInertia(this.body,1/0),this},setAngle:function(d){return d===void 0&&(d=0),this.angle=d,a.setAngle(this.body,this.rotation),this},setScale:function(d,f,h){d===void 0&&(d=1),f===void 0&&(f=d);var A=1/this._scaleX,g=1/this._scaleY;return this._scaleX=d,this._scaleY=f,a.scale(this.body,A,g,h),a.scale(this.body,d,f,h),this}};r.exports=l},42081:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(22562),p={setVelocityX:function(c){return this._tempVec2.set(c,this.body.velocity.y),a.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(c){return this._tempVec2.set(this.body.velocity.x,c),a.setVelocity(this.body,this._tempVec2),this},setVelocity:function(c,o){return this._tempVec2.set(c,o),a.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return a.getVelocity(this.body)},setAngularVelocity:function(c){return a.setAngularVelocity(this.body,c),this},getAngularVelocity:function(){return a.getAngularVelocity(this.body)},setAngularSpeed:function(c){return a.setAngularSpeed(this.body,c),this},getAngularSpeed:function(){return a.getAngularSpeed(this.body)}};r.exports=p},31884:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Bounce:i(70410),Collision:i(66968),Force:i(51607),Friction:i(5436),Gravity:i(39858),Mass:i(37302),Sensor:i(39132),SetBody:i(57772),Sleep:i(38083),Static:i(90556),Transform:i(85436),Velocity:i(42081)}},85608:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="afteradd"},1213:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="afterremove"},25968:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="afterupdate"},67205:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="beforeadd"},39438:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="beforeremove"},44823:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="beforeupdate"},92593:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="collisionactive"},60128:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="collisionend"},76861:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="collisionstart"},92362:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragend"},76408:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="drag"},93971:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragstart"},5656:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pause"},47861:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="resume"},79099:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="sleepend"},35906:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="sleepstart"},1121:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={AFTER_ADD:i(85608),AFTER_REMOVE:i(1213),AFTER_UPDATE:i(25968),BEFORE_ADD:i(67205),BEFORE_REMOVE:i(39438),BEFORE_UPDATE:i(44823),COLLISION_ACTIVE:i(92593),COLLISION_END:i(60128),COLLISION_START:i(76861),DRAG_END:i(92362),DRAG:i(76408),DRAG_START:i(93971),PAUSE:i(5656),RESUME:i(47861),SLEEP_END:i(79099),SLEEP_START:i(35906)}},3875:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={BodyBounds:i(68174),Components:i(31884),Events:i(1121),Factory:i(28137),MatterGameObject:i(75803),Image:i(23181),Matter:i(19933),MatterPhysics:i(42045),PolyDecomp:i(55973),Sprite:i(34803),TileBody:i(73834),PhysicsEditorParser:i(19496),PhysicsJSONParser:i(85791),PointerConstraint:i(98713),World:i(68243)}},22562:(r,x,i)=>{var a={};r.exports=a;var p=i(41598),c=i(31725),o=i(53614),u=i(53402),l=i(15647),d=i(66615);(function(){a._timeCorrection=!0,a._inertiaScale=4,a._nextCollidingGroupId=1,a._nextNonCollidingGroupId=-1,a._nextCategory=1,a._baseDelta=16.666666666666668,a.create=function(h){var A={id:u.nextId(),type:"body",label:"Body",parts:[],plugin:{},attractors:h.attractors||[],wrapBounds:null,angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!h.hasOwnProperty("position")&&h.hasOwnProperty("vertices")?h.position=p.centre(h.vertices):h.hasOwnProperty("vertices")||(A.vertices=p.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var g=u.extend(A,h);return f(g,h),g.setOnCollideWith=function(v,y){return y?this.onCollideWith[v.id]=y:delete this.onCollideWith[v.id],this},g},a.nextGroup=function(h){return h?a._nextNonCollidingGroupId--:a._nextCollidingGroupId++},a.nextCategory=function(){return a._nextCategory=a._nextCategory<<1,a._nextCategory};var f=function(h,A){if(A=A||{},a.set(h,{bounds:h.bounds||l.create(h.vertices),positionPrev:h.positionPrev||c.clone(h.position),anglePrev:h.anglePrev||h.angle,vertices:h.vertices,parts:h.parts||[h],isStatic:h.isStatic,isSleeping:h.isSleeping,parent:h.parent||h}),p.rotate(h.vertices,h.angle,h.position),d.rotate(h.axes,h.angle),l.update(h.bounds,h.vertices,h.velocity),a.set(h,{axes:A.axes||h.axes,area:A.area||h.area,mass:A.mass||h.mass,inertia:A.inertia||h.inertia}),h.parts.length===1){var g=h.bounds,v=h.centerOfMass,y=h.centerOffset,C=g.max.x-g.min.x,b=g.max.y-g.min.y;v.x=-(g.min.x-h.position.x)/C,v.y=-(g.min.y-h.position.y)/b,y.x=C*v.x,y.y=b*v.y}};a.set=function(h,A,g){var v;typeof A=="string"&&(v=A,A={},A[v]=g);for(v in A)if(Object.prototype.hasOwnProperty.call(A,v))switch(g=A[v],v){case"isStatic":a.setStatic(h,g);break;case"isSleeping":o.set(h,g);break;case"mass":a.setMass(h,g);break;case"density":a.setDensity(h,g);break;case"inertia":a.setInertia(h,g);break;case"vertices":a.setVertices(h,g);break;case"position":a.setPosition(h,g);break;case"angle":a.setAngle(h,g);break;case"velocity":a.setVelocity(h,g);break;case"angularVelocity":a.setAngularVelocity(h,g);break;case"speed":a.setSpeed(h,g);break;case"angularSpeed":a.setAngularSpeed(h,g);break;case"parts":a.setParts(h,g);break;case"centre":a.setCentre(h,g);break;default:h[v]=g}},a.setStatic=function(h,A){for(var g=0;g<h.parts.length;g++){var v=h.parts[g];A?(v.isStatic||(v._original={restitution:v.restitution,friction:v.friction,mass:v.mass,inertia:v.inertia,density:v.density,inverseMass:v.inverseMass,inverseInertia:v.inverseInertia}),v.restitution=0,v.friction=1,v.mass=v.inertia=v.density=1/0,v.inverseMass=v.inverseInertia=0,v.positionPrev.x=v.position.x,v.positionPrev.y=v.position.y,v.anglePrev=v.angle,v.angularVelocity=0,v.speed=0,v.angularSpeed=0,v.motion=0):v._original&&(v.restitution=v._original.restitution,v.friction=v._original.friction,v.mass=v._original.mass,v.inertia=v._original.inertia,v.density=v._original.density,v.inverseMass=v._original.inverseMass,v.inverseInertia=v._original.inverseInertia,v._original=null),v.isStatic=A}},a.setMass=function(h,A){var g=h.inertia/(h.mass/6);h.inertia=g*(A/6),h.inverseInertia=1/h.inertia,h.mass=A,h.inverseMass=1/h.mass,h.density=h.mass/h.area},a.setDensity=function(h,A){a.setMass(h,A*h.area),h.density=A},a.setInertia=function(h,A){h.inertia=A,h.inverseInertia=1/h.inertia},a.setVertices=function(h,A){A[0].body===h?h.vertices=A:h.vertices=p.create(A,h),h.axes=d.fromVertices(h.vertices),h.area=p.area(h.vertices),a.setMass(h,h.density*h.area);var g=p.centre(h.vertices);p.translate(h.vertices,g,-1),a.setInertia(h,a._inertiaScale*p.inertia(h.vertices,h.mass)),p.translate(h.vertices,h.position),l.update(h.bounds,h.vertices,h.velocity)},a.setParts=function(h,A,g){var v;for(A=A.slice(0),h.parts.length=0,h.parts.push(h),h.parent=h,v=0;v<A.length;v++){var y=A[v];y!==h&&(y.parent=h,h.parts.push(y))}if(h.parts.length!==1){if(g=typeof g<"u"?g:!0,g){var C=[];for(v=0;v<A.length;v++)C=C.concat(A[v].vertices);p.clockwiseSort(C);var b=p.hull(C),T=p.centre(b);a.setVertices(h,b),p.translate(h.vertices,T)}var S=a._totalProperties(h),F=S.centre.x,B=S.centre.y,N=h.bounds,L=h.centerOfMass,R=h.centerOffset;l.update(N,h.vertices,h.velocity),L.x=-(N.min.x-F)/(N.max.x-N.min.x),L.y=-(N.min.y-B)/(N.max.y-N.min.y),R.x=F,R.y=B,h.area=S.area,h.parent=h,h.position.x=F,h.position.y=B,h.positionPrev.x=F,h.positionPrev.y=B,a.setMass(h,S.mass),a.setInertia(h,S.inertia),a.setPosition(h,S.centre)}},a.setCentre=function(h,A,g){g?(h.positionPrev.x+=A.x,h.positionPrev.y+=A.y,h.position.x+=A.x,h.position.y+=A.y):(h.positionPrev.x=A.x-(h.position.x-h.positionPrev.x),h.positionPrev.y=A.y-(h.position.y-h.positionPrev.y),h.position.x=A.x,h.position.y=A.y)},a.setPosition=function(h,A,g){var v=c.sub(A,h.position);g?(h.positionPrev.x=h.position.x,h.positionPrev.y=h.position.y,h.velocity.x=v.x,h.velocity.y=v.y,h.speed=c.magnitude(v)):(h.positionPrev.x+=v.x,h.positionPrev.y+=v.y);for(var y=0;y<h.parts.length;y++){var C=h.parts[y];C.position.x+=v.x,C.position.y+=v.y,p.translate(C.vertices,v),l.update(C.bounds,C.vertices,h.velocity)}},a.setAngle=function(h,A,g){var v=A-h.angle;g?(h.anglePrev=h.angle,h.angularVelocity=v,h.angularSpeed=Math.abs(v)):h.anglePrev+=v;for(var y=0;y<h.parts.length;y++){var C=h.parts[y];C.angle+=v,p.rotate(C.vertices,v,h.position),d.rotate(C.axes,v),l.update(C.bounds,C.vertices,h.velocity),y>0&&c.rotateAbout(C.position,v,h.position,C.position)}},a.setVelocity=function(h,A){var g=h.deltaTime/a._baseDelta;h.positionPrev.x=h.position.x-A.x*g,h.positionPrev.y=h.position.y-A.y*g,h.velocity.x=(h.position.x-h.positionPrev.x)/g,h.velocity.y=(h.position.y-h.positionPrev.y)/g,h.speed=c.magnitude(h.velocity)},a.getVelocity=function(h){var A=a._baseDelta/h.deltaTime;return{x:(h.position.x-h.positionPrev.x)*A,y:(h.position.y-h.positionPrev.y)*A}},a.getSpeed=function(h){return c.magnitude(a.getVelocity(h))},a.setSpeed=function(h,A){a.setVelocity(h,c.mult(c.normalise(a.getVelocity(h)),A))},a.setAngularVelocity=function(h,A){var g=h.deltaTime/a._baseDelta;h.anglePrev=h.angle-A*g,h.angularVelocity=(h.angle-h.anglePrev)/g,h.angularSpeed=Math.abs(h.angularVelocity)},a.getAngularVelocity=function(h){return(h.angle-h.anglePrev)*a._baseDelta/h.deltaTime},a.getAngularSpeed=function(h){return Math.abs(a.getAngularVelocity(h))},a.setAngularSpeed=function(h,A){a.setAngularVelocity(h,u.sign(a.getAngularVelocity(h))*A)},a.translate=function(h,A,g){a.setPosition(h,c.add(h.position,A),g)},a.rotate=function(h,A,g,v){if(!g)a.setAngle(h,h.angle+A,v);else{var y=Math.cos(A),C=Math.sin(A),b=h.position.x-g.x,T=h.position.y-g.y;a.setPosition(h,{x:g.x+(b*y-T*C),y:g.y+(b*C+T*y)},v),a.setAngle(h,h.angle+A,v)}},a.scale=function(h,A,g,v){var y=0,C=0;v=v||h.position;for(var b=h.inertia===1/0,T=0;T<h.parts.length;T++){var S=h.parts[T];S.scale.x=A,S.scale.y=g,p.scale(S.vertices,A,g,v),S.axes=d.fromVertices(S.vertices),S.area=p.area(S.vertices),a.setMass(S,h.density*S.area),p.translate(S.vertices,{x:-S.position.x,y:-S.position.y}),a.setInertia(S,a._inertiaScale*p.inertia(S.vertices,S.mass)),p.translate(S.vertices,{x:S.position.x,y:S.position.y}),T>0&&(y+=S.area,C+=S.inertia),S.position.x=v.x+(S.position.x-v.x)*A,S.position.y=v.y+(S.position.y-v.y)*g,l.update(S.bounds,S.vertices,h.velocity)}h.parts.length>1&&(h.area=y,h.isStatic||(a.setMass(h,h.density*y),a.setInertia(h,C))),h.circleRadius&&(A===g?h.circleRadius*=A:h.circleRadius=null),b&&a.setInertia(h,1/0)},a.update=function(h,A){A=(typeof A<"u"?A:16.666666666666668)*h.timeScale;var g=A*A,v=a._timeCorrection?A/(h.deltaTime||A):1,y=1-h.frictionAir*(A/u._baseDelta),C=(h.position.x-h.positionPrev.x)*v,b=(h.position.y-h.positionPrev.y)*v;h.velocity.x=C*y+h.force.x/h.mass*g,h.velocity.y=b*y+h.force.y/h.mass*g,h.positionPrev.x=h.position.x,h.positionPrev.y=h.position.y,h.position.x+=h.velocity.x,h.position.y+=h.velocity.y,h.deltaTime=A,h.angularVelocity=(h.angle-h.anglePrev)*y*v+h.torque/h.inertia*g,h.anglePrev=h.angle,h.angle+=h.angularVelocity,h.speed=c.magnitude(h.velocity),h.angularSpeed=Math.abs(h.angularVelocity);for(var T=0;T<h.parts.length;T++){var S=h.parts[T];p.translate(S.vertices,h.velocity),T>0&&(S.position.x+=h.velocity.x,S.position.y+=h.velocity.y),h.angularVelocity!==0&&(p.rotate(S.vertices,h.angularVelocity,h.position),d.rotate(S.axes,h.angularVelocity),T>0&&c.rotateAbout(S.position,h.angularVelocity,h.position,S.position)),l.update(S.bounds,S.vertices,h.velocity)}},a.updateVelocities=function(h){var A=a._baseDelta/h.deltaTime,g=h.velocity;g.x=(h.position.x-h.positionPrev.x)*A,g.y=(h.position.y-h.positionPrev.y)*A,h.speed=Math.sqrt(g.x*g.x+g.y*g.y),h.angularVelocity=(h.angle-h.anglePrev)*A,h.angularSpeed=Math.abs(h.angularVelocity)},a.applyForce=function(h,A,g){var v={x:A.x-h.position.x,y:A.y-h.position.y};h.force.x+=g.x,h.force.y+=g.y,h.torque+=v.x*g.y-v.y*g.x},a._totalProperties=function(h){for(var A={mass:0,area:0,inertia:0,centre:{x:0,y:0}},g=h.parts.length===1?0:1;g<h.parts.length;g++){var v=h.parts[g],y=v.mass!==1/0?v.mass:1;A.mass+=y,A.area+=v.area,A.inertia+=v.inertia,A.centre=c.add(A.centre,c.mult(v.position,y))}return A.centre=c.div(A.centre,A.mass),A},a.wrap=function(h,A){var g=l.wrap(h.bounds,A);return g&&a.translate(h,g),g}})()},69351:(r,x,i)=>{var a={};r.exports=a;var p=i(35810),c=i(53402),o=i(15647),u=i(22562);(function(){a.create=function(l){return c.extend({id:c.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},wrapBounds:null,cache:{allBodies:null,allConstraints:null,allComposites:null}},l)},a.setModified=function(l,d,f,h){if(p.trigger(l,"compositeModified",l),l.isModified=d,d&&l.cache&&(l.cache.allBodies=null,l.cache.allConstraints=null,l.cache.allComposites=null),f&&l.parent&&a.setModified(l.parent,d,f,h),h)for(var A=0;A<l.composites.length;A++){var g=l.composites[A];a.setModified(g,d,f,h)}},a.add=function(l,d){var f=[].concat(d);p.trigger(l,"beforeAdd",{object:d});for(var h=0;h<f.length;h++){var A=f[h];switch(A.type){case"body":if(A.parent!==A){c.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}a.addBody(l,A);break;case"constraint":a.addConstraint(l,A);break;case"composite":a.addComposite(l,A);break;case"mouseConstraint":a.addConstraint(l,A.constraint);break}}return p.trigger(l,"afterAdd",{object:d}),l},a.remove=function(l,d,f){var h=[].concat(d);p.trigger(l,"beforeRemove",{object:d});for(var A=0;A<h.length;A++){var g=h[A];switch(g.type){case"body":a.removeBody(l,g,f);break;case"constraint":a.removeConstraint(l,g,f);break;case"composite":a.removeComposite(l,g,f);break;case"mouseConstraint":a.removeConstraint(l,g.constraint);break}}return p.trigger(l,"afterRemove",{object:d}),l},a.addComposite=function(l,d){return l.composites.push(d),d.parent=l,a.setModified(l,!0,!0,!1),l},a.removeComposite=function(l,d,f){var h=c.indexOf(l.composites,d);if(h!==-1){var A=a.allBodies(d);a.removeCompositeAt(l,h);for(var g=0;g<A.length;g++)A[g].sleepCounter=0}if(f)for(var g=0;g<l.composites.length;g++)a.removeComposite(l.composites[g],d,!0);return l},a.removeCompositeAt=function(l,d){return l.composites.splice(d,1),a.setModified(l,!0,!0,!1),l},a.addBody=function(l,d){return l.bodies.push(d),a.setModified(l,!0,!0,!1),l},a.removeBody=function(l,d,f){var h=c.indexOf(l.bodies,d);if(h!==-1&&(a.removeBodyAt(l,h),d.sleepCounter=0),f)for(var A=0;A<l.composites.length;A++)a.removeBody(l.composites[A],d,!0);return l},a.removeBodyAt=function(l,d){return l.bodies.splice(d,1),a.setModified(l,!0,!0,!1),l},a.addConstraint=function(l,d){return l.constraints.push(d),a.setModified(l,!0,!0,!1),l},a.removeConstraint=function(l,d,f){var h=c.indexOf(l.constraints,d);if(h!==-1&&a.removeConstraintAt(l,h),f)for(var A=0;A<l.composites.length;A++)a.removeConstraint(l.composites[A],d,!0);return l},a.removeConstraintAt=function(l,d){return l.constraints.splice(d,1),a.setModified(l,!0,!0,!1),l},a.clear=function(l,d,f){if(f)for(var h=0;h<l.composites.length;h++)a.clear(l.composites[h],d,!0);return d?l.bodies=l.bodies.filter(function(A){return A.isStatic}):l.bodies.length=0,l.constraints.length=0,l.composites.length=0,a.setModified(l,!0,!0,!1),l},a.allBodies=function(l){if(l.cache&&l.cache.allBodies)return l.cache.allBodies;for(var d=[].concat(l.bodies),f=0;f<l.composites.length;f++)d=d.concat(a.allBodies(l.composites[f]));return l.cache&&(l.cache.allBodies=d),d},a.allConstraints=function(l){if(l.cache&&l.cache.allConstraints)return l.cache.allConstraints;for(var d=[].concat(l.constraints),f=0;f<l.composites.length;f++)d=d.concat(a.allConstraints(l.composites[f]));return l.cache&&(l.cache.allConstraints=d),d},a.allComposites=function(l){if(l.cache&&l.cache.allComposites)return l.cache.allComposites;for(var d=[].concat(l.composites),f=0;f<l.composites.length;f++)d=d.concat(a.allComposites(l.composites[f]));return l.cache&&(l.cache.allComposites=d),d},a.get=function(l,d,f){var h,A;switch(f){case"body":h=a.allBodies(l);break;case"constraint":h=a.allConstraints(l);break;case"composite":h=a.allComposites(l).concat(l);break}return h?(A=h.filter(function(g){return g.id.toString()===d.toString()}),A.length===0?null:A[0]):null},a.move=function(l,d,f){return a.remove(l,d),a.add(f,d),l},a.rebase=function(l){for(var d=a.allBodies(l).concat(a.allConstraints(l)).concat(a.allComposites(l)),f=0;f<d.length;f++)d[f].id=c.nextId();return l},a.translate=function(l,d,f){for(var h=f?a.allBodies(l):l.bodies,A=0;A<h.length;A++)u.translate(h[A],d);return l},a.rotate=function(l,d,f,h){for(var A=Math.cos(d),g=Math.sin(d),v=h?a.allBodies(l):l.bodies,y=0;y<v.length;y++){var C=v[y],b=C.position.x-f.x,T=C.position.y-f.y;u.setPosition(C,{x:f.x+(b*A-T*g),y:f.y+(b*g+T*A)}),u.rotate(C,d)}return l},a.scale=function(l,d,f,h,A){for(var g=A?a.allBodies(l):l.bodies,v=0;v<g.length;v++){var y=g[v],C=y.position.x-h.x,b=y.position.y-h.y;u.setPosition(y,{x:h.x+C*d,y:h.y+b*f}),u.scale(y,d,f)}return l},a.bounds=function(l){for(var d=a.allBodies(l),f=[],h=0;h<d.length;h+=1){var A=d[h];f.push(A.bounds.min,A.bounds.max)}return o.create(f)},a.wrap=function(l,d){var f=o.wrap(a.bounds(l),d);return f&&a.translate(l,f),f}})()},4372:(r,x,i)=>{var a={};r.exports=a;var p=i(69351);(function(){a.create=p.create,a.add=p.add,a.remove=p.remove,a.clear=p.clear,a.addComposite=p.addComposite,a.addBody=p.addBody,a.addConstraint=p.addConstraint})()},52284:(r,x,i)=>{var a={};r.exports=a;var p=i(41598),c=i(4506);(function(){var o=[],u={overlap:0,axis:null},l={overlap:0,axis:null};a.create=function(d,f){return{pair:null,collided:!1,bodyA:d,bodyB:f,parentA:d.parent,parentB:f.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},a.collides=function(d,f,h){if(a._overlapAxes(u,d.vertices,f.vertices,d.axes),u.overlap<=0||(a._overlapAxes(l,f.vertices,d.vertices,f.axes),l.overlap<=0))return null;var A=h&&h.table[c.id(d,f)],g;A?g=A.collision:(g=a.create(d,f),g.collided=!0,g.bodyA=d.id<f.id?d:f,g.bodyB=d.id<f.id?f:d,g.parentA=g.bodyA.parent,g.parentB=g.bodyB.parent),d=g.bodyA,f=g.bodyB;var v;u.overlap<l.overlap?v=u:v=l;var y=g.normal,C=g.tangent,b=g.penetration,T=g.supports,S=v.overlap,F=v.axis,B=F.x,N=F.y,L=f.position.x-d.position.x,R=f.position.y-d.position.y;B*L+N*R>=0&&(B=-B,N=-N),y.x=B,y.y=N,C.x=-N,C.y=B,b.x=B*S,b.y=N*S,g.depth=S;var I=a._findSupports(d,f,y,1),M=0;if(p.contains(d.vertices,I[0])&&(T[M++]=I[0]),p.contains(d.vertices,I[1])&&(T[M++]=I[1]),M<2){var P=a._findSupports(f,d,y,-1);p.contains(f.vertices,P[0])&&(T[M++]=P[0]),M<2&&p.contains(f.vertices,P[1])&&(T[M++]=P[1])}return M===0&&(T[M++]=I[0]),g.supportCount=M,g},a._overlapAxes=function(d,f,h,A){var g=f.length,v=h.length,y=f[0].x,C=f[0].y,b=h[0].x,T=h[0].y,S=A.length,F=Number.MAX_VALUE,B=0,N,L,R,I,M,P;for(M=0;M<S;M++){var U=A[M],z=U.x,W=U.y,Z=y*z+C*W,j=b*z+T*W,H=Z,V=j;for(P=1;P<g;P+=1)I=f[P].x*z+f[P].y*W,I>H?H=I:I<Z&&(Z=I);for(P=1;P<v;P+=1)I=h[P].x*z+h[P].y*W,I>V?V=I:I<j&&(j=I);if(L=H-j,R=V-Z,N=L<R?L:R,N<F&&(F=N,B=M,N<=0))break}d.axis=A[B],d.overlap=F},a._findSupports=function(d,f,h,A){var g=f.vertices,v=g.length,y=d.position.x,C=d.position.y,b=h.x*A,T=h.y*A,S=g[0],F=S,B=b*(y-F.x)+T*(C-F.y),N,L,R;for(R=1;R<v;R+=1)F=g[R],L=b*(y-F.x)+T*(C-F.y),L<B&&(B=L,S=F);return N=g[(v+S.index-1)%v],B=b*(y-N.x)+T*(C-N.y),F=g[(S.index+1)%v],b*(y-F.x)+T*(C-F.y)<B?(o[0]=S,o[1]=F,o):(o[0]=S,o[1]=N,o)}})()},43424:r=>{var x={};r.exports=x,function(){x.create=function(i){return{vertex:i,normalImpulse:0,tangentImpulse:0}}}()},81388:(r,x,i)=>{var a={};r.exports=a;var p=i(53402),c=i(52284);(function(){a.create=function(o){var u={bodies:[],collisions:[],pairs:null};return p.extend(u,o)},a.setBodies=function(o,u){o.bodies=u.slice(0)},a.clear=function(o){o.bodies=[],o.collisions=[]},a.collisions=function(o){var u=o.pairs,l=o.bodies,d=l.length,f=a.canCollide,h=c.collides,A=o.collisions,g=0,v,y;for(l.sort(a._compareBoundsX),v=0;v<d;v++){var C=l[v],b=C.bounds,T=C.bounds.max.x,S=C.bounds.max.y,F=C.bounds.min.y,B=C.isStatic||C.isSleeping,N=C.parts.length,L=N===1;for(y=v+1;y<d;y++){var R=l[y],I=R.bounds;if(I.min.x>T)break;if(!(S<I.min.y||F>I.max.y)&&!(B&&(R.isStatic||R.isSleeping))&&f(C.collisionFilter,R.collisionFilter)){var M=R.parts.length;if(L&&M===1){var P=h(C,R,u);P&&(A[g++]=P)}else for(var U=N>1?1:0,z=M>1?1:0,W=U;W<N;W++)for(var Z=C.parts[W],b=Z.bounds,j=z;j<M;j++){var H=R.parts[j],I=H.bounds;if(!(b.min.x>I.max.x||b.max.x<I.min.x||b.max.y<I.min.y||b.min.y>I.max.y)){var P=h(Z,H,u);P&&(A[g++]=P)}}}}}return A.length!==g&&(A.length=g),A},a.canCollide=function(o,u){return o.group===u.group&&o.group!==0?o.group>0:(o.mask&u.category)!==0&&(u.mask&o.category)!==0},a._compareBoundsX=function(o,u){return o.bounds.min.x-u.bounds.min.x}})()},4506:(r,x,i)=>{var a={};r.exports=a;var p=i(43424);(function(){a.create=function(c,o){var u=c.bodyA,l=c.bodyB,d={id:a.id(u,l),bodyA:u,bodyB:l,collision:c,contacts:[p.create(),p.create()],contactCount:0,separation:0,isActive:!0,isSensor:u.isSensor||l.isSensor,timeCreated:o,timeUpdated:o,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return a.update(d,c,o),d},a.update=function(c,o,u){var l=o.supports,d=o.supportCount,f=c.contacts,h=o.parentA,A=o.parentB;c.isActive=!0,c.timeUpdated=u,c.collision=o,c.separation=o.depth,c.inverseMass=h.inverseMass+A.inverseMass,c.friction=h.friction<A.friction?h.friction:A.friction,c.frictionStatic=h.frictionStatic>A.frictionStatic?h.frictionStatic:A.frictionStatic,c.restitution=h.restitution>A.restitution?h.restitution:A.restitution,c.slop=h.slop>A.slop?h.slop:A.slop,c.contactCount=d,o.pair=c;var g=l[0],v=f[0],y=l[1],C=f[1];(C.vertex===g||v.vertex===y)&&(f[1]=v,f[0]=v=C,C=f[1]),v.vertex=g,C.vertex=y},a.setActive=function(c,o,u){o?(c.isActive=!0,c.timeUpdated=u):(c.isActive=!1,c.contactCount=0)},a.id=function(c,o){return c.id<o.id?c.id.toString(36)+":"+o.id.toString(36):o.id.toString(36)+":"+c.id.toString(36)}})()},99561:(r,x,i)=>{var a={};r.exports=a;var p=i(4506),c=i(53402);(function(){a.create=function(o){return c.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},o)},a.update=function(o,u,l){var d=p.update,f=p.create,h=p.setActive,A=o.table,g=o.list,v=g.length,y=v,C=o.collisionStart,b=o.collisionEnd,T=o.collisionActive,S=u.length,F=0,B=0,N=0,L,R,I;for(I=0;I<S;I++)L=u[I],R=L.pair,R?(R.isActive&&(T[N++]=R),d(R,L,l)):(R=f(L,l),A[R.id]=R,C[F++]=R,g[y++]=R);for(y=0,v=g.length,I=0;I<v;I++)R=g[I],R.timeUpdated>=l?g[y++]=R:(h(R,!1,l),R.collision.bodyA.sleepCounter>0&&R.collision.bodyB.sleepCounter>0?g[y++]=R:(b[B++]=R,delete A[R.id]));g.length!==y&&(g.length=y),C.length!==F&&(C.length=F),b.length!==B&&(b.length=B),T.length!==N&&(T.length=N)},a.clear=function(o){return o.table={},o.list.length=0,o.collisionStart.length=0,o.collisionActive.length=0,o.collisionEnd.length=0,o}})()},73296:(r,x,i)=>{var a={};r.exports=a;var p=i(31725),c=i(52284),o=i(15647),u=i(66280),l=i(41598);(function(){a.collides=function(d,f){for(var h=[],A=f.length,g=d.bounds,v=c.collides,y=o.overlaps,C=0;C<A;C++){var b=f[C],T=b.parts.length,S=T===1?0:1;if(d!==b&&y(b.bounds,g))for(var F=S;F<T;F++){var B=b.parts[F];if(y(B.bounds,g)){var N=v(B,d);if(N){h.push(N);break}}}}return h},a.ray=function(d,f,h,A){A=A||1e-100;for(var g=p.angle(f,h),v=p.magnitude(p.sub(f,h)),y=(h.x+f.x)*.5,C=(h.y+f.y)*.5,b=u.rectangle(y,C,v,A,{angle:g}),T=a.collides(b,d),S=0;S<T.length;S+=1){var F=T[S];F.body=F.bodyB=F.bodyA}return T},a.region=function(d,f,h){for(var A=[],g=0;g<d.length;g++){var v=d[g],y=o.overlaps(v.bounds,f);(y&&!h||!y&&h)&&A.push(v)}return A},a.point=function(d,f){for(var h=[],A=0;A<d.length;A++){var g=d[A];if(o.contains(g.bounds,f))for(var v=g.parts.length===1?0:1;v<g.parts.length;v++){var y=g.parts[v];if(o.contains(y.bounds,f)&&l.contains(y.vertices,f)){h.push(g);break}}}return h}})()},66272:(r,x,i)=>{var a={};r.exports=a;var p=i(41598),c=i(53402),o=i(15647);(function(){a._restingThresh=2,a._restingThreshTangent=Math.sqrt(6),a._positionDampen=.9,a._positionWarming=.8,a._frictionNormalMultiplier=5,a._frictionMaxStatic=Number.MAX_VALUE,a.preSolvePosition=function(u){var l,d,f,h=u.length;for(l=0;l<h;l++)d=u[l],d.isActive&&(f=d.contactCount,d.collision.parentA.totalContacts+=f,d.collision.parentB.totalContacts+=f)},a.solvePosition=function(u,l,d){var f,h,A,g,v,y,C,b,T=a._positionDampen*(d||1),S=c.clamp(l/c._baseDelta,0,1),F=u.length;for(f=0;f<F;f++)h=u[f],!(!h.isActive||h.isSensor)&&(A=h.collision,g=A.parentA,v=A.parentB,y=A.normal,h.separation=A.depth+y.x*(v.positionImpulse.x-g.positionImpulse.x)+y.y*(v.positionImpulse.y-g.positionImpulse.y));for(f=0;f<F;f++)h=u[f],!(!h.isActive||h.isSensor)&&(A=h.collision,g=A.parentA,v=A.parentB,y=A.normal,b=h.separation-h.slop*S,(g.isStatic||v.isStatic)&&(b*=2),g.isStatic||g.isSleeping||(C=T/g.totalContacts,g.positionImpulse.x+=y.x*b*C,g.positionImpulse.y+=y.y*b*C),v.isStatic||v.isSleeping||(C=T/v.totalContacts,v.positionImpulse.x-=y.x*b*C,v.positionImpulse.y-=y.y*b*C))},a.postSolvePosition=function(u){for(var l=a._positionWarming,d=u.length,f=p.translate,h=o.update,A=0;A<d;A++){var g=u[A],v=g.positionImpulse,y=v.x,C=v.y,b=g.velocity;if(g.totalContacts=0,y!==0||C!==0){for(var T=0;T<g.parts.length;T++){var S=g.parts[T];f(S.vertices,v),h(S.bounds,S.vertices,b),S.position.x+=y,S.position.y+=C}g.positionPrev.x+=y,g.positionPrev.y+=C,y*b.x+C*b.y<0?(v.x=0,v.y=0):(v.x*=l,v.y*=l)}}},a.preSolveVelocity=function(u){var l=u.length,d,f;for(d=0;d<l;d++){var h=u[d];if(!(!h.isActive||h.isSensor)){var A=h.contacts,g=h.contactCount,v=h.collision,y=v.parentA,C=v.parentB,b=v.normal,T=v.tangent;for(f=0;f<g;f++){var S=A[f],F=S.vertex,B=S.normalImpulse,N=S.tangentImpulse;if(B!==0||N!==0){var L=b.x*B+T.x*N,R=b.y*B+T.y*N;y.isStatic||y.isSleeping||(y.positionPrev.x+=L*y.inverseMass,y.positionPrev.y+=R*y.inverseMass,y.anglePrev+=y.inverseInertia*((F.x-y.position.x)*R-(F.y-y.position.y)*L)),C.isStatic||C.isSleeping||(C.positionPrev.x-=L*C.inverseMass,C.positionPrev.y-=R*C.inverseMass,C.anglePrev-=C.inverseInertia*((F.x-C.position.x)*R-(F.y-C.position.y)*L))}}}}},a.solveVelocity=function(u,l){var d=l/c._baseDelta,f=d*d,h=f*d,A=-a._restingThresh*d,g=a._restingThreshTangent,v=a._frictionNormalMultiplier*d,y=a._frictionMaxStatic,C=u.length,b,T,S,F;for(S=0;S<C;S++){var B=u[S];if(!(!B.isActive||B.isSensor)){var N=B.collision,L=N.parentA,R=N.parentB,I=N.normal.x,M=N.normal.y,P=N.tangent.x,U=N.tangent.y,z=B.inverseMass,W=B.friction*B.frictionStatic*v,Z=B.contacts,j=B.contactCount,H=1/j,V=L.position.x-L.positionPrev.x,k=L.position.y-L.positionPrev.y,X=L.angle-L.anglePrev,Q=R.position.x-R.positionPrev.x,J=R.position.y-R.positionPrev.y,$=R.angle-R.anglePrev;for(F=0;F<j;F++){var _=Z[F],te=_.vertex,se=te.x-L.position.x,ce=te.y-L.position.y,ge=te.x-R.position.x,ue=te.y-R.position.y,re=V-ce*X,Ce=k+se*X,ye=Q-ue*$,Ee=J+ge*$,Me=re-ye,Be=Ce-Ee,ve=I*Me+M*Be,Re=P*Me+U*Be,Pe=B.separation+ve,Ge=Math.min(Pe,1);Ge=Pe<0?0:Ge;var We=Ge*W;Re<-We||Re>We?(T=Re>0?Re:-Re,b=B.friction*(Re>0?1:-1)*h,b<-T?b=-T:b>T&&(b=T)):(b=Re,T=y);var at=se*M-ce*I,qe=ge*M-ue*I,Ye=H/(z+L.inverseInertia*at*at+R.inverseInertia*qe*qe),tt=(1+B.restitution)*ve*Ye;if(b*=Ye,ve<A)_.normalImpulse=0;else{var Ve=_.normalImpulse;_.normalImpulse+=tt,_.normalImpulse>0&&(_.normalImpulse=0),tt=_.normalImpulse-Ve}if(Re<-g||Re>g)_.tangentImpulse=0;else{var ct=_.tangentImpulse;_.tangentImpulse+=b,_.tangentImpulse<-T&&(_.tangentImpulse=-T),_.tangentImpulse>T&&(_.tangentImpulse=T),b=_.tangentImpulse-ct}var ut=I*tt+P*b,Se=M*tt+U*b;L.isStatic||L.isSleeping||(L.positionPrev.x+=ut*L.inverseMass,L.positionPrev.y+=Se*L.inverseMass,L.anglePrev+=(se*Se-ce*ut)*L.inverseInertia),R.isStatic||R.isSleeping||(R.positionPrev.x-=ut*R.inverseMass,R.positionPrev.y-=Se*R.inverseMass,R.anglePrev-=(ge*Se-ue*ut)*R.inverseInertia)}}}}})()},48140:(r,x,i)=>{var a={};r.exports=a;var p=i(41598),c=i(31725),o=i(53614),u=i(15647),l=i(66615),d=i(53402);(function(){a._warming=.4,a._torqueDampen=1,a._minLength=1e-6,a.create=function(f){var h=f;h.bodyA&&!h.pointA&&(h.pointA={x:0,y:0}),h.bodyB&&!h.pointB&&(h.pointB={x:0,y:0});var A=h.bodyA?c.add(h.bodyA.position,h.pointA):h.pointA,g=h.bodyB?c.add(h.bodyB.position,h.pointB):h.pointB,v=c.magnitude(c.sub(A,g));h.length=typeof h.length<"u"?h.length:v,h.id=h.id||d.nextId(),h.label=h.label||"Constraint",h.type="constraint",h.stiffness=h.stiffness||(h.length>0?1:.7),h.damping=h.damping||0,h.angularStiffness=h.angularStiffness||0,h.angleA=h.bodyA?h.bodyA.angle:h.angleA,h.angleB=h.bodyB?h.bodyB.angle:h.angleB,h.plugin={};var y={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return h.length===0&&h.stiffness>.1?(y.type="pin",y.anchors=!1):h.stiffness<.9&&(y.type="spring"),h.render=d.extend(y,h.render),h},a.preSolveAll=function(f){for(var h=0;h<f.length;h+=1){var A=f[h],g=A.constraintImpulse;A.isStatic||g.x===0&&g.y===0&&g.angle===0||(A.position.x+=g.x,A.position.y+=g.y,A.angle+=g.angle)}},a.solveAll=function(f,h){for(var A=d.clamp(h/d._baseDelta,0,1),g=0;g<f.length;g+=1){var v=f[g],y=!v.bodyA||v.bodyA&&v.bodyA.isStatic,C=!v.bodyB||v.bodyB&&v.bodyB.isStatic;(y||C)&&a.solve(f[g],A)}for(g=0;g<f.length;g+=1)v=f[g],y=!v.bodyA||v.bodyA&&v.bodyA.isStatic,C=!v.bodyB||v.bodyB&&v.bodyB.isStatic,!y&&!C&&a.solve(f[g],A)},a.solve=function(f,h){var A=f.bodyA,g=f.bodyB,v=f.pointA,y=f.pointB;if(!(!A&&!g)){A&&!A.isStatic&&(c.rotate(v,A.angle-f.angleA,v),f.angleA=A.angle),g&&!g.isStatic&&(c.rotate(y,g.angle-f.angleB,y),f.angleB=g.angle);var C=v,b=y;if(A&&(C=c.add(A.position,v)),g&&(b=c.add(g.position,y)),!(!C||!b)){var T=c.sub(C,b),S=c.magnitude(T);S<a._minLength&&(S=a._minLength);var F=(S-f.length)/S,B=f.stiffness>=1||f.length===0,N=B?f.stiffness*h:f.stiffness*h*h,L=f.damping*h,R=c.mult(T,F*N),I=(A?A.inverseMass:0)+(g?g.inverseMass:0),M=(A?A.inverseInertia:0)+(g?g.inverseInertia:0),P=I+M,U,z,W,Z,j;if(L>0){var H=c.create();W=c.div(T,S),j=c.sub(g&&c.sub(g.position,g.positionPrev)||H,A&&c.sub(A.position,A.positionPrev)||H),Z=c.dot(W,j)}A&&!A.isStatic&&(z=A.inverseMass/I,A.constraintImpulse.x-=R.x*z,A.constraintImpulse.y-=R.y*z,A.position.x-=R.x*z,A.position.y-=R.y*z,L>0&&(A.positionPrev.x-=L*W.x*Z*z,A.positionPrev.y-=L*W.y*Z*z),U=c.cross(v,R)/P*a._torqueDampen*A.inverseInertia*(1-f.angularStiffness),A.constraintImpulse.angle-=U,A.angle-=U),g&&!g.isStatic&&(z=g.inverseMass/I,g.constraintImpulse.x+=R.x*z,g.constraintImpulse.y+=R.y*z,g.position.x+=R.x*z,g.position.y+=R.y*z,L>0&&(g.positionPrev.x+=L*W.x*Z*z,g.positionPrev.y+=L*W.y*Z*z),U=c.cross(y,R)/P*a._torqueDampen*g.inverseInertia*(1-f.angularStiffness),g.constraintImpulse.angle+=U,g.angle+=U)}}},a.postSolveAll=function(f){for(var h=0;h<f.length;h++){var A=f[h],g=A.constraintImpulse;if(!(A.isStatic||g.x===0&&g.y===0&&g.angle===0)){o.set(A,!1);for(var v=0;v<A.parts.length;v++){var y=A.parts[v];p.translate(y.vertices,g),v>0&&(y.position.x+=g.x,y.position.y+=g.y),g.angle!==0&&(p.rotate(y.vertices,g.angle,A.position),l.rotate(y.axes,g.angle),v>0&&c.rotateAbout(y.position,g.angle,A.position,y.position)),u.update(y.bounds,y.vertices,A.velocity)}g.angle*=a._warming,g.x*=a._warming,g.y*=a._warming}}},a.pointAWorld=function(f){return{x:(f.bodyA?f.bodyA.position.x:0)+(f.pointA?f.pointA.x:0),y:(f.bodyA?f.bodyA.position.y:0)+(f.pointA?f.pointA.y:0)}},a.pointBWorld=function(f){return{x:(f.bodyB?f.bodyB.position.x:0)+(f.pointB?f.pointB.x:0),y:(f.bodyB?f.bodyB.position.y:0)+(f.pointB?f.pointB.y:0)}},a.currentLength=function(f){var h=(f.bodyA?f.bodyA.position.x:0)+(f.pointA?f.pointA.x:0),A=(f.bodyA?f.bodyA.position.y:0)+(f.pointA?f.pointA.y:0),g=(f.bodyB?f.bodyB.position.x:0)+(f.pointB?f.pointB.x:0),v=(f.bodyB?f.bodyB.position.y:0)+(f.pointB?f.pointB.y:0),y=h-g,C=A-v;return Math.sqrt(y*y+C*C)}})()},53402:(r,x,i)=>{var a={};r.exports=a,function(){a._baseDelta=16.666666666666668,a._nextId=0,a._seed=0,a._nowStartTime=+new Date,a._warnedOnce={},a._decomp=null,a.extend=function(c,o){var u,l;typeof o=="boolean"?(u=2,l=o):(u=1,l=!0);for(var d=u;d<arguments.length;d++){var f=arguments[d];if(f)for(var h in f)l&&f[h]&&f[h].constructor===Object&&(!c[h]||c[h].constructor===Object)?(c[h]=c[h]||{},a.extend(c[h],l,f[h])):c[h]=f[h]}return c},a.clone=function(c,o){return a.extend({},o,c)},a.keys=function(c){if(Object.keys)return Object.keys(c);var o=[];for(var u in c)o.push(u);return o},a.values=function(c){var o=[];if(Object.keys){for(var u=Object.keys(c),l=0;l<u.length;l++)o.push(c[u[l]]);return o}for(var d in c)o.push(c[d]);return o},a.get=function(c,o,u,l){o=o.split(".").slice(u,l);for(var d=0;d<o.length;d+=1)c=c[o[d]];return c},a.set=function(c,o,u,l,d){var f=o.split(".").slice(l,d);return a.get(c,o,0,-1)[f[f.length-1]]=u,u},a.shuffle=function(c){for(var o=c.length-1;o>0;o--){var u=Math.floor(a.random()*(o+1)),l=c[o];c[o]=c[u],c[u]=l}return c},a.choose=function(c){return c[Math.floor(a.random()*c.length)]},a.isElement=function(c){return typeof HTMLElement<"u"?c instanceof HTMLElement:!!(c&&c.nodeType&&c.nodeName)},a.isArray=function(c){return Object.prototype.toString.call(c)==="[object Array]"},a.isFunction=function(c){return typeof c=="function"},a.isPlainObject=function(c){return typeof c=="object"&&c.constructor===Object},a.isString=function(c){return toString.call(c)==="[object String]"},a.clamp=function(c,o,u){return c<o?o:c>u?u:c},a.sign=function(c){return c<0?-1:1},a.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-a._nowStartTime},a.random=function(c,o){return c=typeof c<"u"?c:0,o=typeof o<"u"?o:1,c+p()*(o-c)};var p=function(){return a._seed=(a._seed*9301+49297)%233280,a._seed/233280};a.colorToNumber=function(c){return c=c.replace("#",""),c.length==3&&(c=c.charAt(0)+c.charAt(0)+c.charAt(1)+c.charAt(1)+c.charAt(2)+c.charAt(2)),parseInt(c,16)},a.logLevel=1,a.log=function(){console&&a.logLevel>0&&a.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},a.info=function(){console&&a.logLevel>0&&a.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},a.warn=function(){console&&a.logLevel>0&&a.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},a.warnOnce=function(){var c=Array.prototype.slice.call(arguments).join(" ");a._warnedOnce[c]||(a.warn(c),a._warnedOnce[c]=!0)},a.deprecated=function(c,o,u){c[o]=a.chain(function(){a.warnOnce(" deprecated ",u)},c[o])},a.nextId=function(){return a._nextId++},a.indexOf=function(c,o){if(c.indexOf)return c.indexOf(o);for(var u=0;u<c.length;u++)if(c[u]===o)return u;return-1},a.map=function(c,o){if(c.map)return c.map(o);for(var u=[],l=0;l<c.length;l+=1)u.push(o(c[l]));return u},a.topologicalSort=function(c){var o=[],u=[],l=[];for(var d in c)!u[d]&&!l[d]&&a._topologicalSort(d,u,l,c,o);return o},a._topologicalSort=function(c,o,u,l,d){var f=l[c]||[];u[c]=!0;for(var h=0;h<f.length;h+=1){var A=f[h];u[A]||o[A]||a._topologicalSort(A,o,u,l,d)}u[c]=!1,o[c]=!0,d.push(c)},a.chain=function(){for(var c=[],o=0;o<arguments.length;o+=1){var u=arguments[o];u._chained?c.push.apply(c,u._chained):c.push(u)}var l=function(){for(var d,f=new Array(arguments.length),h=0,A=arguments.length;h<A;h++)f[h]=arguments[h];for(h=0;h<c.length;h+=1){var g=c[h].apply(d,f);typeof g<"u"&&(d=g)}return d};return l._chained=c,l},a.chainPathBefore=function(c,o,u){return a.set(c,o,a.chain(u,a.get(c,o)))},a.chainPathAfter=function(c,o,u){return a.set(c,o,a.chain(a.get(c,o),u))},a.setDecomp=function(c){a._decomp=c},a.getDecomp=function(){var c=a._decomp;try{!c&&typeof window<"u"&&(c=window.decomp),!c&&typeof i.g<"u"&&(c=i.g.decomp)}catch{c=null}return c}}()},48413:(r,x,i)=>{var a={};r.exports=a;var p=i(53614),c=i(66272),o=i(81388),u=i(99561),l=i(35810),d=i(69351),f=i(48140),h=i(53402),A=i(22562);(function(){a._deltaMax=16.666666666666668,a.create=function(g){g=g||{};var v={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},y=h.extend(v,g);return y.world=g.world||d.create({label:"World"}),y.pairs=g.pairs||u.create(),y.detector=g.detector||o.create(),y.detector.pairs=y.pairs,y.grid={buckets:[]},y.world.gravity=y.gravity,y.broadphase=y.grid,y.metrics={},y},a.update=function(g,v){var y=h.now(),C=g.world,b=g.detector,T=g.pairs,S=g.timing,F=S.timestamp,B;v>a._deltaMax&&h.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",a._deltaMax.toFixed(3),"ms."),v=typeof v<"u"?v:h._baseDelta,v*=S.timeScale,S.timestamp+=v,S.lastDelta=v;var N={timestamp:S.timestamp,delta:v};l.trigger(g,"beforeUpdate",N);var L=d.allBodies(C),R=d.allConstraints(C),I=d.allComposites(C);for(C.isModified&&(o.setBodies(b,L),d.setModified(C,!1,!1,!0)),g.enableSleeping&&p.update(L,v),a._bodiesApplyGravity(L,g.gravity),a.wrap(L,I),a.attractors(L),v>0&&a._bodiesUpdate(L,v),l.trigger(g,"beforeSolve",N),f.preSolveAll(L),B=0;B<g.constraintIterations;B++)f.solveAll(R,v);f.postSolveAll(L);var M=o.collisions(b);u.update(T,M,F),g.enableSleeping&&p.afterCollisions(T.list),T.collisionStart.length>0&&l.trigger(g,"collisionStart",{pairs:T.collisionStart,timestamp:S.timestamp,delta:v});var P=h.clamp(20/g.positionIterations,0,1);for(c.preSolvePosition(T.list),B=0;B<g.positionIterations;B++)c.solvePosition(T.list,v,P);for(c.postSolvePosition(L),f.preSolveAll(L),B=0;B<g.constraintIterations;B++)f.solveAll(R,v);for(f.postSolveAll(L),c.preSolveVelocity(T.list),B=0;B<g.velocityIterations;B++)c.solveVelocity(T.list,v);return a._bodiesUpdateVelocities(L),T.collisionActive.length>0&&l.trigger(g,"collisionActive",{pairs:T.collisionActive,timestamp:S.timestamp,delta:v}),T.collisionEnd.length>0&&l.trigger(g,"collisionEnd",{pairs:T.collisionEnd,timestamp:S.timestamp,delta:v}),a._bodiesClearForces(L),l.trigger(g,"afterUpdate",N),g.timing.lastElapsed=h.now()-y,g},a.merge=function(g,v){if(h.extend(g,v),v.world){g.world=v.world,a.clear(g);for(var y=d.allBodies(g.world),C=0;C<y.length;C++){var b=y[C];p.set(b,!1),b.id=h.nextId()}}},a.clear=function(g){u.clear(g.pairs),o.clear(g.detector)},a._bodiesClearForces=function(g){for(var v=g.length,y=0;y<v;y++){var C=g[y];C.force.x=0,C.force.y=0,C.torque=0}},a._bodiesApplyGravity=function(g,v){var y=typeof v.scale<"u"?v.scale:.001,C=g.length;if(!(v.x===0&&v.y===0||y===0))for(var b=0;b<C;b++){var T=g[b];T.ignoreGravity||T.isStatic||T.isSleeping||(T.force.y+=T.mass*v.y*y,T.force.x+=T.mass*v.x*y)}},a._bodiesUpdate=function(g,v){for(var y=g.length,C=0;C<y;C++){var b=g[C];b.isStatic||b.isSleeping||A.update(b,v)}},a._bodiesUpdateVelocities=function(g){for(var v=g.length,y=0;y<v;y++)A.updateVelocities(g[y])},a.wrap=function(g,v){for(var y=0;y<g.length;y+=1){var C=g[y];C.wrapBounds!==null&&A.wrap(C,C.wrapBounds)}for(y=0;y<v.length;y+=1){var b=v[y];b.wrapBounds!==null&&d.wrap(b,b.wrapBounds)}},a.attractors=function(g){for(var v=0;v<g.length;v++){var y=g[v],C=y.attractors;if(C&&C.length>0)for(var b=0;b<g.length;b++){var T=g[b];if(v!==b)for(var S=0;S<C.length;S++){var F=C[S],B=F;h.isFunction(F)&&(B=F(y,T)),B&&A.applyForce(T,T.position,B)}}}}})()},35810:(r,x,i)=>{var a={};r.exports=a;var p=i(53402);(function(){a.on=function(c,o,u){for(var l=o.split(" "),d,f=0;f<l.length;f++)d=l[f],c.events=c.events||{},c.events[d]=c.events[d]||[],c.events[d].push(u);return u},a.off=function(c,o,u){if(!o){c.events={};return}typeof o=="function"&&(u=o,o=p.keys(c.events).join(" "));for(var l=o.split(" "),d=0;d<l.length;d++){var f=c.events[l[d]],h=[];if(u&&f)for(var A=0;A<f.length;A++)f[A]!==u&&h.push(f[A]);c.events[l[d]]=h}},a.trigger=function(c,o,u){var l,d,f,h,A=c.events;if(A&&p.keys(A).length>0){u||(u={}),l=o.split(" ");for(var g=0;g<l.length;g++)if(d=l[g],f=A[d],f){h=p.clone(u,!1),h.name=d,h.source=c;for(var v=0;v<f.length;v++)f[v].apply(c,[h])}}}})()},6790:(r,x,i)=>{var a={};r.exports=a;var p=i(73832),c=i(53402);(function(){a.name="matter-js",a.version="0.20.0",a.uses=[],a.used=[],a.use=function(){p.use(a,Array.prototype.slice.call(arguments))},a.before=function(o,u){return o=o.replace(/^Matter./,""),c.chainPathBefore(a,o,u)},a.after=function(o,u){return o=o.replace(/^Matter./,""),c.chainPathAfter(a,o,u)}})()},73832:(r,x,i)=>{var a={};r.exports=a;var p=i(53402);(function(){a._registry={},a.register=function(c){if(a.isPlugin(c)||p.warn("Plugin.register:",a.toString(c),"does not implement all required fields."),c.name in a._registry){var o=a._registry[c.name],u=a.versionParse(c.version).number,l=a.versionParse(o.version).number;u>l?(p.warn("Plugin.register:",a.toString(o),"was upgraded to",a.toString(c)),a._registry[c.name]=c):u<l?p.warn("Plugin.register:",a.toString(o),"can not be downgraded to",a.toString(c)):c!==o&&p.warn("Plugin.register:",a.toString(c),"is already registered to different plugin object")}else a._registry[c.name]=c;return c},a.resolve=function(c){return a._registry[a.dependencyParse(c).name]},a.toString=function(c){return typeof c=="string"?c:(c.name||"anonymous")+"@"+(c.version||c.range||"0.0.0")},a.isPlugin=function(c){return c&&c.name&&c.version&&c.install},a.isUsed=function(c,o){return c.used.indexOf(o)>-1},a.isFor=function(c,o){var u=c.for&&a.dependencyParse(c.for);return!c.for||o.name===u.name&&a.versionSatisfies(o.version,u.range)},a.use=function(c,o){if(c.uses=(c.uses||[]).concat(o||[]),c.uses.length===0){p.warn("Plugin.use:",a.toString(c),"does not specify any dependencies to install.");return}for(var u=a.dependencies(c),l=p.topologicalSort(u),d=[],f=0;f<l.length;f+=1)if(l[f]!==c.name){var h=a.resolve(l[f]);if(!h){d.push(" "+l[f]);continue}a.isUsed(c,h.name)||(a.isFor(h,c)||(p.warn("Plugin.use:",a.toString(h),"is for",h.for,"but installed on",a.toString(c)+"."),h._warned=!0),h.install?h.install(c):(p.warn("Plugin.use:",a.toString(h),"does not specify an install function."),h._warned=!0),h._warned?(d.push(" "+a.toString(h)),delete h._warned):d.push(" "+a.toString(h)),c.used.push(h.name))}d.length>0&&!h.silent&&p.info(d.join("  "))},a.dependencies=function(c,o){var u=a.dependencyParse(c),l=u.name;if(o=o||{},!(l in o)){c=a.resolve(c)||c,o[l]=p.map(c.uses||[],function(f){a.isPlugin(f)&&a.register(f);var h=a.dependencyParse(f),A=a.resolve(f);return A&&!a.versionSatisfies(A.version,h.range)?(p.warn("Plugin.dependencies:",a.toString(A),"does not satisfy",a.toString(h),"used by",a.toString(u)+"."),A._warned=!0,c._warned=!0):A||(p.warn("Plugin.dependencies:",a.toString(f),"used by",a.toString(u),"could not be resolved."),c._warned=!0),h.name});for(var d=0;d<o[l].length;d+=1)a.dependencies(o[l][d],o);return o}},a.dependencyParse=function(c){if(p.isString(c)){var o=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return o.test(c)||p.warn("Plugin.dependencyParse:",c,"is not a valid dependency string."),{name:c.split("@")[0],range:c.split("@")[1]||"*"}}return{name:c.name,range:c.range||c.version}},a.versionParse=function(c){var o=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;o.test(c)||p.warn("Plugin.versionParse:",c,"is not a valid version or range.");var u=o.exec(c),l=Number(u[4]),d=Number(u[5]),f=Number(u[6]);return{isRange:!!(u[1]||u[2]),version:u[3],range:c,operator:u[1]||u[2]||"",major:l,minor:d,patch:f,parts:[l,d,f],prerelease:u[7],number:l*1e8+d*1e4+f}},a.versionSatisfies=function(c,o){o=o||"*";var u=a.versionParse(o),l=a.versionParse(c);if(u.isRange){if(u.operator==="*"||c==="*")return!0;if(u.operator===">")return l.number>u.number;if(u.operator===">=")return l.number>=u.number;if(u.operator==="~")return l.major===u.major&&l.minor===u.minor&&l.patch>=u.patch;if(u.operator==="^")return u.major>0?l.major===u.major&&l.number>=u.number:u.minor>0?l.minor===u.minor&&l.patch>=u.patch:l.patch===u.patch}return c===o||c==="*"}})()},13037:(r,x,i)=>{var a={};r.exports=a;var p=i(35810),c=i(48413),o=i(53402);(function(){a._maxFrameDelta=66.66666666666667,a._frameDeltaFallback=16.666666666666668,a._timeBufferMargin=1.5,a._elapsedNextEstimate=1,a._smoothingLowerBound=.1,a._smoothingUpperBound=.9,a.create=function(l){var d={delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},f=o.extend(d,l);return f.fps=0,f},a.run=function(l,d){return l.timeBuffer=a._frameDeltaFallback,function f(h){l.frameRequestId=a._onNextFrame(l,f),h&&l.enabled&&a.tick(l,d,h)}(),l},a.tick=function(l,d,f){var h=o.now(),A=l.delta,g=0,v=f-l.timeLastTick;if((!v||!l.timeLastTick||v>Math.max(a._maxFrameDelta,l.maxFrameTime))&&(v=l.frameDelta||a._frameDeltaFallback),l.frameDeltaSmoothing){l.frameDeltaHistory.push(v),l.frameDeltaHistory=l.frameDeltaHistory.slice(-l.frameDeltaHistorySize);var y=l.frameDeltaHistory.slice(0).sort(),C=l.frameDeltaHistory.slice(y.length*a._smoothingLowerBound,y.length*a._smoothingUpperBound),b=u(C);v=b||v}l.frameDeltaSnapping&&(v=1e3/Math.round(1e3/v)),l.frameDelta=v,l.timeLastTick=f,l.timeBuffer+=l.frameDelta,l.timeBuffer=o.clamp(l.timeBuffer,0,l.frameDelta+A*a._timeBufferMargin),l.lastUpdatesDeferred=0;var T=l.maxUpdates||Math.ceil(l.maxFrameTime/A),S={timestamp:d.timing.timestamp};p.trigger(l,"beforeTick",S),p.trigger(l,"tick",S);for(var F=o.now();A>0&&l.timeBuffer>=A*a._timeBufferMargin;){p.trigger(l,"beforeUpdate",S),c.update(d,A),p.trigger(l,"afterUpdate",S),l.timeBuffer-=A,g+=1;var B=o.now()-h,N=o.now()-F,L=B+a._elapsedNextEstimate*N/g;if(g>=T||L>l.maxFrameTime){l.lastUpdatesDeferred=Math.round(Math.max(0,l.timeBuffer/A-a._timeBufferMargin));break}}d.timing.lastUpdatesPerFrame=g,p.trigger(l,"afterTick",S),l.frameDeltaHistory.length>=100&&(l.lastUpdatesDeferred&&Math.round(l.frameDelta/A)>T?o.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):l.lastUpdatesDeferred&&o.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof l.isFixed<"u"&&o.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(l.deltaMin||l.deltaMax)&&o.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),l.fps!==0&&o.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},a.stop=function(l){a._cancelNextFrame(l)},a._onNextFrame=function(l,d){if(typeof window<"u"&&window.requestAnimationFrame)l.frameRequestId=window.requestAnimationFrame(d);else throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return l.frameRequestId},a._cancelNextFrame=function(l){if(typeof window<"u"&&window.cancelAnimationFrame)window.cancelAnimationFrame(l.frameRequestId);else throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.")};var u=function(l){for(var d=0,f=l.length,h=0;h<f;h+=1)d+=l[h];return d/f||0};a._mean=u})()},53614:(r,x,i)=>{var a={};r.exports=a;var p=i(22562),c=i(35810),o=i(53402);(function(){a._motionWakeThreshold=.18,a._motionSleepThreshold=.08,a._minBias=.9,a.update=function(u,l){for(var d=l/o._baseDelta,f=a._motionSleepThreshold,h=0;h<u.length;h++){var A=u[h],g=p.getSpeed(A),v=p.getAngularSpeed(A),y=g*g+v*v;if(A.force.x!==0||A.force.y!==0){a.set(A,!1);continue}var C=Math.min(A.motion,y),b=Math.max(A.motion,y);A.motion=a._minBias*C+(1-a._minBias)*b,A.sleepThreshold>0&&A.motion<f?(A.sleepCounter+=1,A.sleepCounter>=A.sleepThreshold/d&&a.set(A,!0)):A.sleepCounter>0&&(A.sleepCounter-=1)}},a.afterCollisions=function(u){for(var l=a._motionSleepThreshold,d=0;d<u.length;d++){var f=u[d];if(f.isActive){var h=f.collision,A=h.bodyA.parent,g=h.bodyB.parent;if(!(A.isSleeping&&g.isSleeping||A.isStatic||g.isStatic)&&(A.isSleeping||g.isSleeping)){var v=A.isSleeping&&!A.isStatic?A:g,y=v===A?g:A;!v.isStatic&&y.motion>l&&a.set(v,!1)}}}},a.set=function(u,l){var d=u.isSleeping;l?(u.isSleeping=!0,u.sleepCounter=u.sleepThreshold,u.positionImpulse.x=0,u.positionImpulse.y=0,u.positionPrev.x=u.position.x,u.positionPrev.y=u.position.y,u.anglePrev=u.angle,u.speed=0,u.angularSpeed=0,u.motion=0,d||c.trigger(u,"sleepStart")):(u.isSleeping=!1,u.sleepCounter=0,d&&c.trigger(u,"sleepEnd"))}})()},66280:(r,x,i)=>{var a={};r.exports=a;var p=i(41598),c=i(53402),o=i(22562),u=i(15647),l=i(31725);(function(){a.rectangle=function(d,f,h,A,g){g=g||{};var v={label:"Rectangle Body",position:{x:d,y:f},vertices:p.fromPath("L 0 0 L "+h+" 0 L "+h+" "+A+" L 0 "+A)};if(g.chamfer){var y=g.chamfer;v.vertices=p.chamfer(v.vertices,y.radius,y.quality,y.qualityMin,y.qualityMax),delete g.chamfer}return o.create(c.extend({},v,g))},a.trapezoid=function(d,f,h,A,g,v){v=v||{},g>=1&&c.warn("Bodies.trapezoid: slope parameter must be < 1."),g*=.5;var y=(1-g*2)*h,C=h*g,b=C+y,T=b+C,S;g<.5?S="L 0 0 L "+C+" "+-A+" L "+b+" "+-A+" L "+T+" 0":S="L 0 0 L "+b+" "+-A+" L "+T+" 0";var F={label:"Trapezoid Body",position:{x:d,y:f},vertices:p.fromPath(S)};if(v.chamfer){var B=v.chamfer;F.vertices=p.chamfer(F.vertices,B.radius,B.quality,B.qualityMin,B.qualityMax),delete v.chamfer}return o.create(c.extend({},F,v))},a.circle=function(d,f,h,A,g){A=A||{};var v={label:"Circle Body",circleRadius:h};g=g||25;var y=Math.ceil(Math.max(10,Math.min(g,h)));return y%2===1&&(y+=1),a.polygon(d,f,y,h,c.extend({},v,A))},a.polygon=function(d,f,h,A,g){if(g=g||{},h<3)return a.circle(d,f,A,g);for(var v=2*Math.PI/h,y="",C=v*.5,b=0;b<h;b+=1){var T=C+b*v,S=Math.cos(T)*A,F=Math.sin(T)*A;y+="L "+S.toFixed(3)+" "+F.toFixed(3)+" "}var B={label:"Polygon Body",position:{x:d,y:f},vertices:p.fromPath(y)};if(g.chamfer){var N=g.chamfer;B.vertices=p.chamfer(B.vertices,N.radius,N.quality,N.qualityMin,N.qualityMax),delete g.chamfer}return o.create(c.extend({},B,g))},a.fromVertices=function(d,f,h,A,g,v,y,C){var b=c.getDecomp(),T,S,F,B,N,L,R,I,M,P,U;for(T=!!(b&&b.quickDecomp),A=A||{},F=[],g=typeof g<"u"?g:!1,v=typeof v<"u"?v:.01,y=typeof y<"u"?y:10,C=typeof C<"u"?C:.01,c.isArray(h[0])||(h=[h]),P=0;P<h.length;P+=1)if(L=h[P],B=p.isConvex(L),N=!B,N&&!T&&c.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),B||!T)B?L=p.clockwiseSort(L):L=p.hull(L),F.push({position:{x:d,y:f},vertices:L});else{var z=L.map(function(_){return[_.x,_.y]});b.makeCCW(z),v!==!1&&b.removeCollinearPoints(z,v),C!==!1&&b.removeDuplicatePoints&&b.removeDuplicatePoints(z,C);var W=b.quickDecomp(z);for(R=0;R<W.length;R++){var Z=W[R],j=Z.map(function(_){return{x:_[0],y:_[1]}});y>0&&p.area(j)<y||F.push({position:p.centre(j),vertices:j})}}for(R=0;R<F.length;R++)F[R]=o.create(c.extend(F[R],A));if(g){var H=5;for(R=0;R<F.length;R++){var V=F[R];for(I=R+1;I<F.length;I++){var k=F[I];if(u.overlaps(V.bounds,k.bounds)){var X=V.vertices,Q=k.vertices;for(M=0;M<V.vertices.length;M++)for(U=0;U<k.vertices.length;U++){var J=l.magnitudeSquared(l.sub(X[(M+1)%X.length],Q[U])),$=l.magnitudeSquared(l.sub(X[M],Q[(U+1)%Q.length]));J<H&&$<H&&(X[M].isInternal=!0,Q[U].isInternal=!0)}}}}}return F.length>1?(S=o.create(c.extend({parts:F.slice(0)},A)),o.setPosition(S,{x:d,y:f}),S):F[0]},a.flagCoincidentParts=function(d,f){f===void 0&&(f=5);for(var h=0;h<d.length;h++)for(var A=d[h],g=h+1;g<d.length;g++){var v=d[g];if(u.overlaps(A.bounds,v.bounds))for(var y=A.vertices,C=v.vertices,b=0;b<A.vertices.length;b++)for(var T=0;T<v.vertices.length;T++){var S=l.magnitudeSquared(l.sub(y[(b+1)%y.length],C[T])),F=l.magnitudeSquared(l.sub(y[b],C[(T+1)%C.length]));S<f&&F<f&&(y[b].isInternal=!0,C[T].isInternal=!0)}}return d}})()},74116:(r,x,i)=>{var a={};r.exports=a;var p=i(69351),c=i(48140),o=i(53402),u=i(22562),l=i(66280);(function(){a.stack=function(d,f,h,A,g,v,y){for(var C=p.create({label:"Stack"}),b=d,T=f,S,F=0,B=0;B<A;B++){for(var N=0,L=0;L<h;L++){var R=y(b,T,L,B,S,F);if(R){var I=R.bounds.max.y-R.bounds.min.y,M=R.bounds.max.x-R.bounds.min.x;I>N&&(N=I),u.translate(R,{x:M*.5,y:I*.5}),b=R.bounds.max.x+g,p.addBody(C,R),S=R,F+=1}else b+=g}T+=N+v,b=d}return C},a.chain=function(d,f,h,A,g,v){for(var y=d.bodies,C=1;C<y.length;C++){var b=y[C-1],T=y[C],S=b.bounds.max.y-b.bounds.min.y,F=b.bounds.max.x-b.bounds.min.x,B=T.bounds.max.y-T.bounds.min.y,N=T.bounds.max.x-T.bounds.min.x,L={bodyA:b,pointA:{x:F*f,y:S*h},bodyB:T,pointB:{x:N*A,y:B*g}},R=o.extend(L,v);p.addConstraint(d,c.create(R))}return d.label+=" Chain",d},a.mesh=function(d,f,h,A,g){var v=d.bodies,y,C,b,T,S;for(y=0;y<h;y++){for(C=1;C<f;C++)b=v[C-1+y*f],T=v[C+y*f],p.addConstraint(d,c.create(o.extend({bodyA:b,bodyB:T},g)));if(y>0)for(C=0;C<f;C++)b=v[C+(y-1)*f],T=v[C+y*f],p.addConstraint(d,c.create(o.extend({bodyA:b,bodyB:T},g))),A&&C>0&&(S=v[C-1+(y-1)*f],p.addConstraint(d,c.create(o.extend({bodyA:S,bodyB:T},g)))),A&&C<f-1&&(S=v[C+1+(y-1)*f],p.addConstraint(d,c.create(o.extend({bodyA:S,bodyB:T},g))))}return d.label+=" Mesh",d},a.pyramid=function(d,f,h,A,g,v,y){return a.stack(d,f,h,A,g,v,function(C,b,T,S,F,B){var N=Math.min(A,Math.ceil(h/2)),L=F?F.bounds.max.x-F.bounds.min.x:0;if(!(S>N)){S=N-S;var R=S,I=h-1-S;if(!(T<R||T>I)){B===1&&u.translate(F,{x:(T+(h%2===1?1:-1))*L,y:0});var M=F?T*L:0;return y(d+M+T*g,b,T,S,F,B)}}})},a.newtonsCradle=function(d,f,h,A,g){for(var v=p.create({label:"Newtons Cradle"}),y=0;y<h;y++){var C=1.9,b=l.circle(d+y*(A*C),f+g,A,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),T=c.create({pointA:{x:d+y*(A*C),y:f},bodyB:b});p.addBody(v,b),p.addConstraint(v,T)}return v},a.car=function(d,f,h,A,g){var v=u.nextGroup(!0),y=20,C=-h*.5+y,b=h*.5-y,T=0,S=p.create({label:"Car"}),F=l.rectangle(d,f,h,A,{collisionFilter:{group:v},chamfer:{radius:A*.5},density:2e-4}),B=l.circle(d+C,f+T,g,{collisionFilter:{group:v},friction:.8}),N=l.circle(d+b,f+T,g,{collisionFilter:{group:v},friction:.8}),L=c.create({bodyB:F,pointB:{x:C,y:T},bodyA:B,stiffness:1,length:0}),R=c.create({bodyB:F,pointB:{x:b,y:T},bodyA:N,stiffness:1,length:0});return p.addBody(S,F),p.addBody(S,B),p.addBody(S,N),p.addConstraint(S,L),p.addConstraint(S,R),S},a.softBody=function(d,f,h,A,g,v,y,C,b,T){b=o.extend({inertia:1/0},b),T=o.extend({stiffness:.2,render:{type:"line",anchors:!1}},T);var S=a.stack(d,f,h,A,g,v,function(F,B){return l.circle(F,B,C,b)});return a.mesh(S,h,A,y,T),S.label="Soft Body",S}})()},66615:(r,x,i)=>{var a={};r.exports=a;var p=i(31725),c=i(53402);(function(){a.fromVertices=function(o){for(var u={},l=0;l<o.length;l++){var d=(l+1)%o.length,f=p.normalise({x:o[d].y-o[l].y,y:o[l].x-o[d].x}),h=f.y===0?1/0:f.x/f.y;h=h.toFixed(3).toString(),u[h]=f}return c.values(u)},a.rotate=function(o,u){if(u!==0)for(var l=Math.cos(u),d=Math.sin(u),f=0;f<o.length;f++){var h=o[f],A;A=h.x*l-h.y*d,h.y=h.x*d+h.y*l,h.x=A}}})()},15647:r=>{var x={};r.exports=x,function(){x.create=function(i){var a={min:{x:0,y:0},max:{x:0,y:0}};return i&&x.update(a,i),a},x.update=function(i,a,p){i.min.x=1/0,i.max.x=-1/0,i.min.y=1/0,i.max.y=-1/0;for(var c=0;c<a.length;c++){var o=a[c];o.x>i.max.x&&(i.max.x=o.x),o.x<i.min.x&&(i.min.x=o.x),o.y>i.max.y&&(i.max.y=o.y),o.y<i.min.y&&(i.min.y=o.y)}p&&(p.x>0?i.max.x+=p.x:i.min.x+=p.x,p.y>0?i.max.y+=p.y:i.min.y+=p.y)},x.contains=function(i,a){return a.x>=i.min.x&&a.x<=i.max.x&&a.y>=i.min.y&&a.y<=i.max.y},x.overlaps=function(i,a){return i.min.x<=a.max.x&&i.max.x>=a.min.x&&i.max.y>=a.min.y&&i.min.y<=a.max.y},x.translate=function(i,a){i.min.x+=a.x,i.max.x+=a.x,i.min.y+=a.y,i.max.y+=a.y},x.shift=function(i,a){var p=i.max.x-i.min.x,c=i.max.y-i.min.y;i.min.x=a.x,i.max.x=a.x+p,i.min.y=a.y,i.max.y=a.y+c},x.wrap=function(i,a,p){var c=null,o=null;if(typeof a.min.x<"u"&&typeof a.max.x<"u"&&(i.min.x>a.max.x?c=a.min.x-i.max.x:i.max.x<a.min.x&&(c=a.max.x-i.min.x)),typeof a.min.y<"u"&&typeof a.max.y<"u"&&(i.min.y>a.max.y?o=a.min.y-i.max.y:i.max.y<a.min.y&&(o=a.max.y-i.min.y)),c!==null||o!==null)return{x:c||0,y:o||0}}}()},74058:(r,x,i)=>{var a={};r.exports=a,i(15647);var p=i(53402);(function(){a.pathToVertices=function(c,o){typeof window<"u"&&!("SVGPathSeg"in window)&&p.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var u,l,d,f,h,A,g,v,y,C,b=[],T,S,F=0,B=0,N=0;o=o||15;var L=function(I,M,P){var U=P%2===1&&P>1;if(!y||I!=y.x||M!=y.y){y&&U?(T=y.x,S=y.y):(T=0,S=0);var z={x:T+I,y:S+M};(U||!y)&&(y=z),b.push(z),B=T+I,N=S+M}},R=function(I){var M=I.pathSegTypeAsLetter.toUpperCase();if(M!=="Z"){switch(M){case"M":case"L":case"T":case"C":case"S":case"Q":B=I.x,N=I.y;break;case"H":B=I.x;break;case"V":N=I.y;break}L(B,N,I.pathSegType)}};for(a._svgPathToAbsolute(c),d=c.getTotalLength(),A=[],u=0;u<c.pathSegList.numberOfItems;u+=1)A.push(c.pathSegList.getItem(u));for(g=A.concat();F<d;){if(C=c.getPathSegAtLength(F),h=A[C],h!=v){for(;g.length&&g[0]!=h;)R(g.shift());v=h}switch(h.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":f=c.getPointAtLength(F),L(f.x,f.y,0);break}F+=o}for(u=0,l=g.length;u<l;++u)R(g[u]);return b},a._svgPathToAbsolute=function(c){for(var o,u,l,d,f,h,A=c.pathSegList,g=0,v=0,y=A.numberOfItems,C=0;C<y;++C){var b=A.getItem(C),T=b.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(T))"x"in b&&(g=b.x),"y"in b&&(v=b.y);else switch("x1"in b&&(l=g+b.x1),"x2"in b&&(f=g+b.x2),"y1"in b&&(d=v+b.y1),"y2"in b&&(h=v+b.y2),"x"in b&&(g+=b.x),"y"in b&&(v+=b.y),T){case"m":A.replaceItem(c.createSVGPathSegMovetoAbs(g,v),C);break;case"l":A.replaceItem(c.createSVGPathSegLinetoAbs(g,v),C);break;case"h":A.replaceItem(c.createSVGPathSegLinetoHorizontalAbs(g),C);break;case"v":A.replaceItem(c.createSVGPathSegLinetoVerticalAbs(v),C);break;case"c":A.replaceItem(c.createSVGPathSegCurvetoCubicAbs(g,v,l,d,f,h),C);break;case"s":A.replaceItem(c.createSVGPathSegCurvetoCubicSmoothAbs(g,v,f,h),C);break;case"q":A.replaceItem(c.createSVGPathSegCurvetoQuadraticAbs(g,v,l,d),C);break;case"t":A.replaceItem(c.createSVGPathSegCurvetoQuadraticSmoothAbs(g,v),C);break;case"a":A.replaceItem(c.createSVGPathSegArcAbs(g,v,b.r1,b.r2,b.angle,b.largeArcFlag,b.sweepFlag),C);break;case"z":case"Z":g=o,v=u;break}(T=="M"||T=="m")&&(o=g,u=v)}}})()},31725:r=>{var x={};r.exports=x,function(){x.create=function(i,a){return{x:i||0,y:a||0}},x.clone=function(i){return{x:i.x,y:i.y}},x.magnitude=function(i){return Math.sqrt(i.x*i.x+i.y*i.y)},x.magnitudeSquared=function(i){return i.x*i.x+i.y*i.y},x.rotate=function(i,a,p){var c=Math.cos(a),o=Math.sin(a);p||(p={});var u=i.x*c-i.y*o;return p.y=i.x*o+i.y*c,p.x=u,p},x.rotateAbout=function(i,a,p,c){var o=Math.cos(a),u=Math.sin(a);c||(c={});var l=p.x+((i.x-p.x)*o-(i.y-p.y)*u);return c.y=p.y+((i.x-p.x)*u+(i.y-p.y)*o),c.x=l,c},x.normalise=function(i){var a=x.magnitude(i);return a===0?{x:0,y:0}:{x:i.x/a,y:i.y/a}},x.dot=function(i,a){return i.x*a.x+i.y*a.y},x.cross=function(i,a){return i.x*a.y-i.y*a.x},x.cross3=function(i,a,p){return(a.x-i.x)*(p.y-i.y)-(a.y-i.y)*(p.x-i.x)},x.add=function(i,a,p){return p||(p={}),p.x=i.x+a.x,p.y=i.y+a.y,p},x.sub=function(i,a,p){return p||(p={}),p.x=i.x-a.x,p.y=i.y-a.y,p},x.mult=function(i,a){return{x:i.x*a,y:i.y*a}},x.div=function(i,a){return{x:i.x/a,y:i.y/a}},x.perp=function(i,a){return a=a===!0?-1:1,{x:a*-i.y,y:a*i.x}},x.neg=function(i){return{x:-i.x,y:-i.y}},x.angle=function(i,a){return Math.atan2(a.y-i.y,a.x-i.x)},x._temp=[x.create(),x.create(),x.create(),x.create(),x.create(),x.create()]}()},41598:(r,x,i)=>{var a={};r.exports=a;var p=i(31725),c=i(53402);(function(){a.create=function(o,u){for(var l=[],d=0;d<o.length;d++){var f=o[d],h={x:f.x,y:f.y,index:d,body:u,isInternal:!1};l.push(h)}return l},a.fromPath=function(o,u){var l=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,d=[];return o.replace(l,function(f,h,A){d.push({x:parseFloat(h),y:parseFloat(A)})}),a.create(d,u)},a.centre=function(o){for(var u=a.area(o,!0),l={x:0,y:0},d,f,h,A=0;A<o.length;A++)h=(A+1)%o.length,d=p.cross(o[A],o[h]),f=p.mult(p.add(o[A],o[h]),d),l=p.add(l,f);return p.div(l,6*u)},a.mean=function(o){for(var u={x:0,y:0},l=0;l<o.length;l++)u.x+=o[l].x,u.y+=o[l].y;return p.div(u,o.length)},a.area=function(o,u){for(var l=0,d=o.length-1,f=0;f<o.length;f++)l+=(o[d].x-o[f].x)*(o[d].y+o[f].y),d=f;return u?l/2:Math.abs(l)/2},a.inertia=function(o,u){for(var l=0,d=0,f=o,h,A,g=0;g<f.length;g++)A=(g+1)%f.length,h=Math.abs(p.cross(f[A],f[g])),l+=h*(p.dot(f[A],f[A])+p.dot(f[A],f[g])+p.dot(f[g],f[g])),d+=h;return u/6*(l/d)},a.translate=function(o,u,l){l=typeof l<"u"?l:1;var d=o.length,f=u.x*l,h=u.y*l,A;for(A=0;A<d;A++)o[A].x+=f,o[A].y+=h;return o},a.rotate=function(o,u,l){if(u!==0){var d=Math.cos(u),f=Math.sin(u),h=l.x,A=l.y,g=o.length,v,y,C,b;for(b=0;b<g;b++)v=o[b],y=v.x-h,C=v.y-A,v.x=h+(y*d-C*f),v.y=A+(y*f+C*d);return o}},a.contains=function(o,u){for(var l=u.x,d=u.y,f=o.length,h=o[f-1],A,g=0;g<f;g++){if(A=o[g],(l-h.x)*(A.y-h.y)+(d-h.y)*(h.x-A.x)>0)return!1;h=A}return!0},a.scale=function(o,u,l,d){if(u===1&&l===1)return o;d=d||a.centre(o);for(var f,h,A=0;A<o.length;A++)f=o[A],h=p.sub(f,d),o[A].x=d.x+h.x*u,o[A].y=d.y+h.y*l;return o},a.chamfer=function(o,u,l,d,f){typeof u=="number"?u=[u]:u=u||[8],l=typeof l<"u"?l:-1,d=d||2,f=f||14;for(var h=[],A=0;A<o.length;A++){var g=o[A-1>=0?A-1:o.length-1],v=o[A],y=o[(A+1)%o.length],C=u[A<u.length?A:u.length-1];if(C===0){h.push(v);continue}var b=p.normalise({x:v.y-g.y,y:g.x-v.x}),T=p.normalise({x:y.y-v.y,y:v.x-y.x}),S=Math.sqrt(2*Math.pow(C,2)),F=p.mult(c.clone(b),C),B=p.normalise(p.mult(p.add(b,T),.5)),N=p.sub(v,p.mult(B,S)),L=l;l===-1&&(L=Math.pow(C,.32)*1.75),L=c.clamp(L,d,f),L%2===1&&(L+=1);for(var R=Math.acos(p.dot(b,T)),I=R/L,M=0;M<L;M++)h.push(p.add(p.rotate(F,I*M),N))}return h},a.clockwiseSort=function(o){var u=a.mean(o);return o.sort(function(l,d){return p.angle(u,l)-p.angle(u,d)}),o},a.isConvex=function(o){var u=0,l=o.length,d,f,h,A;if(l<3)return null;for(d=0;d<l;d++)if(f=(d+1)%l,h=(d+2)%l,A=(o[f].x-o[d].x)*(o[h].y-o[f].y),A-=(o[f].y-o[d].y)*(o[h].x-o[f].x),A<0?u|=1:A>0&&(u|=2),u===3)return!1;return u!==0?!0:null},a.hull=function(o){var u=[],l=[],d,f;for(o=o.slice(0),o.sort(function(h,A){var g=h.x-A.x;return g!==0?g:h.y-A.y}),f=0;f<o.length;f+=1){for(d=o[f];l.length>=2&&p.cross3(l[l.length-2],l[l.length-1],d)<=0;)l.pop();l.push(d)}for(f=o.length-1;f>=0;f-=1){for(d=o[f];u.length>=2&&p.cross3(u[u.length-2],u[u.length-1],d)<=0;)u.pop();u.push(d)}return u.pop(),l.pop(),u.concat(l)}})()},55973:r=>{/**
 * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={decomp:R,quickDecomp:U,isSimple:M,removeCollinearPoints:z,removeDuplicatePoints:W,makeCCW:y};function x(H,V,k){k=k||0;var X=[0,0],Q,J,$,_,te,se,ce;return Q=H[1][1]-H[0][1],J=H[0][0]-H[1][0],$=Q*H[0][0]+J*H[0][1],_=V[1][1]-V[0][1],te=V[0][0]-V[1][0],se=_*V[0][0]+te*V[0][1],ce=Q*te-_*J,Z(ce,0,k)||(X[0]=(te*$-J*se)/ce,X[1]=(Q*se-_*$)/ce),X}function i(H,V,k,X){var Q=V[0]-H[0],J=V[1]-H[1],$=X[0]-k[0],_=X[1]-k[1];if($*J-_*Q===0)return!1;var te=(Q*(k[1]-H[1])+J*(H[0]-k[0]))/($*J-_*Q),se=($*(H[1]-k[1])+_*(k[0]-H[0]))/(_*Q-$*J);return te>=0&&te<=1&&se>=0&&se<=1}function a(H,V,k){return(V[0]-H[0])*(k[1]-H[1])-(k[0]-H[0])*(V[1]-H[1])}function p(H,V,k){return a(H,V,k)>0}function c(H,V,k){return a(H,V,k)>=0}function o(H,V,k){return a(H,V,k)<0}function u(H,V,k){return a(H,V,k)<=0}var l=[],d=[];function f(H,V,k,X){if(X){var Q=l,J=d;Q[0]=V[0]-H[0],Q[1]=V[1]-H[1],J[0]=k[0]-V[0],J[1]=k[1]-V[1];var $=Q[0]*J[0]+Q[1]*J[1],_=Math.sqrt(Q[0]*Q[0]+Q[1]*Q[1]),te=Math.sqrt(J[0]*J[0]+J[1]*J[1]),se=Math.acos($/(_*te));return se<X}else return a(H,V,k)===0}function h(H,V){var k=V[0]-H[0],X=V[1]-H[1];return k*k+X*X}function A(H,V){var k=H.length;return H[V<0?V%k+k:V%k]}function g(H){H.length=0}function v(H,V,k,X){for(var Q=k;Q<X;Q++)H.push(V[Q])}function y(H){for(var V=0,k=H,X=1;X<H.length;++X)(k[X][1]<k[V][1]||k[X][1]===k[V][1]&&k[X][0]>k[V][0])&&(V=X);return p(A(H,V-1),A(H,V),A(H,V+1))?!1:(C(H),!0)}function C(H){for(var V=[],k=H.length,X=0;X!==k;X++)V.push(H.pop());for(var X=0;X!==k;X++)H[X]=V[X]}function b(H,V){return o(A(H,V-1),A(H,V),A(H,V+1))}var T=[],S=[];function F(H,V,k){var X,Q,J=T,$=S;if(c(A(H,V+1),A(H,V),A(H,k))&&u(A(H,V-1),A(H,V),A(H,k)))return!1;Q=h(A(H,V),A(H,k));for(var _=0;_!==H.length;++_)if(!((_+1)%H.length===V||_===V)&&c(A(H,V),A(H,k),A(H,_+1))&&u(A(H,V),A(H,k),A(H,_))&&(J[0]=A(H,V),J[1]=A(H,k),$[0]=A(H,_),$[1]=A(H,_+1),X=x(J,$),h(A(H,V),X)<Q))return!1;return!0}function B(H,V,k){for(var X=0;X!==H.length;++X)if(!(X===V||X===k||(X+1)%H.length===V||(X+1)%H.length===k)&&i(A(H,V),A(H,k),A(H,X),A(H,X+1)))return!1;return!0}function N(H,V,k,X){var Q=X||[];if(g(Q),V<k)for(var J=V;J<=k;J++)Q.push(H[J]);else{for(var J=0;J<=k;J++)Q.push(H[J]);for(var J=V;J<H.length;J++)Q.push(H[J])}return Q}function L(H){for(var V=[],k=[],X=[],Q=[],J=Number.MAX_VALUE,$=0;$<H.length;++$)if(b(H,$)){for(var _=0;_<H.length;++_)if(F(H,$,_)){k=L(N(H,$,_,Q)),X=L(N(H,_,$,Q));for(var te=0;te<X.length;te++)k.push(X[te]);k.length<J&&(V=k,J=k.length,V.push([A(H,$),A(H,_)]))}}return V}function R(H){var V=L(H);return V.length>0?I(H,V):[H]}function I(H,V){if(V.length===0)return[H];if(V instanceof Array&&V.length&&V[0]instanceof Array&&V[0].length===2&&V[0][0]instanceof Array){for(var k=[H],X=0;X<V.length;X++)for(var Q=V[X],J=0;J<k.length;J++){var $=k[J],_=I($,Q);if(_){k.splice(J,1),k.push(_[0],_[1]);break}}return k}else{var Q=V,X=H.indexOf(Q[0]),J=H.indexOf(Q[1]);return X!==-1&&J!==-1?[N(H,X,J),N(H,J,X)]:!1}}function M(H){var V=H,k;for(k=0;k<V.length-1;k++)for(var X=0;X<k-1;X++)if(i(V[k],V[k+1],V[X],V[X+1]))return!1;for(k=1;k<V.length-2;k++)if(i(V[0],V[V.length-1],V[k],V[k+1]))return!1;return!0}function P(H,V,k,X,Q){Q=Q||0;var J=V[1]-H[1],$=H[0]-V[0],_=J*H[0]+$*H[1],te=X[1]-k[1],se=k[0]-X[0],ce=te*k[0]+se*k[1],ge=J*se-te*$;return Z(ge,0,Q)?[0,0]:[(se*_-$*ce)/ge,(J*ce-te*_)/ge]}function U(H,V,k,X,Q,J,$){J=J||100,$=$||0,Q=Q||25,V=typeof V<"u"?V:[],k=k||[],X=X||[];var _=[0,0],te=[0,0],se=[0,0],ce=0,ge=0,ue=0,re=0,Ce=0,ye=0,Ee=0,Me=[],Be=[],ve=H,Re=H;if(Re.length<3)return V;if($++,$>J)return console.warn("quickDecomp: max level ("+J+") reached."),V;for(var Pe=0;Pe<H.length;++Pe)if(b(ve,Pe)){k.push(ve[Pe]),ce=ge=Number.MAX_VALUE;for(var Ge=0;Ge<H.length;++Ge)p(A(ve,Pe-1),A(ve,Pe),A(ve,Ge))&&u(A(ve,Pe-1),A(ve,Pe),A(ve,Ge-1))&&(se=P(A(ve,Pe-1),A(ve,Pe),A(ve,Ge),A(ve,Ge-1)),o(A(ve,Pe+1),A(ve,Pe),se)&&(ue=h(ve[Pe],se),ue<ge&&(ge=ue,te=se,ye=Ge))),p(A(ve,Pe+1),A(ve,Pe),A(ve,Ge+1))&&u(A(ve,Pe+1),A(ve,Pe),A(ve,Ge))&&(se=P(A(ve,Pe+1),A(ve,Pe),A(ve,Ge),A(ve,Ge+1)),p(A(ve,Pe-1),A(ve,Pe),se)&&(ue=h(ve[Pe],se),ue<ce&&(ce=ue,_=se,Ce=Ge)));if(ye===(Ce+1)%H.length)se[0]=(te[0]+_[0])/2,se[1]=(te[1]+_[1])/2,X.push(se),Pe<Ce?(v(Me,ve,Pe,Ce+1),Me.push(se),Be.push(se),ye!==0&&v(Be,ve,ye,ve.length),v(Be,ve,0,Pe+1)):(Pe!==0&&v(Me,ve,Pe,ve.length),v(Me,ve,0,Ce+1),Me.push(se),Be.push(se),v(Be,ve,ye,Pe+1));else{if(ye>Ce&&(Ce+=H.length),re=Number.MAX_VALUE,Ce<ye)return V;for(var Ge=ye;Ge<=Ce;++Ge)c(A(ve,Pe-1),A(ve,Pe),A(ve,Ge))&&u(A(ve,Pe+1),A(ve,Pe),A(ve,Ge))&&(ue=h(A(ve,Pe),A(ve,Ge)),ue<re&&B(ve,Pe,Ge)&&(re=ue,Ee=Ge%H.length));Pe<Ee?(v(Me,ve,Pe,Ee+1),Ee!==0&&v(Be,ve,Ee,Re.length),v(Be,ve,0,Pe+1)):(Pe!==0&&v(Me,ve,Pe,Re.length),v(Me,ve,0,Ee+1),v(Be,ve,Ee,Pe+1))}return Me.length<Be.length?(U(Me,V,k,X,Q,J,$),U(Be,V,k,X,Q,J,$)):(U(Be,V,k,X,Q,J,$),U(Me,V,k,X,Q,J,$)),V}return V.push(H),V}function z(H,V){for(var k=0,X=H.length-1;H.length>3&&X>=0;--X)f(A(H,X-1),A(H,X),A(H,X+1),V)&&(H.splice(X%H.length,1),k++);return k}function W(H,V){for(var k=H.length-1;k>=1;--k)for(var X=H[k],Q=k-1;Q>=0;--Q)if(j(X,H[Q],V)){H.splice(k,1);continue}}function Z(H,V,k){return k=k||0,Math.abs(H-V)<=k}function j(H,V,k){return Z(H[0],V[0],k)&&Z(H[1],V[1],k)}},52018:(r,x,i)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2025 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var a=i(83419),p=new a({initialize:function(o){this.pluginManager=o,this.game=o.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});r.exports=p},42363:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};r.exports=x},37277:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={},i={},a={};a.register=function(p,c,o,u){u===void 0&&(u=!1),x[p]={plugin:c,mapping:o,custom:u}},a.registerCustom=function(p,c,o,u){i[p]={plugin:c,mapping:o,data:u}},a.hasCore=function(p){return x.hasOwnProperty(p)},a.hasCustom=function(p){return i.hasOwnProperty(p)},a.getCore=function(p){return x[p]},a.getCustom=function(p){return i[p]},a.getCustomClass=function(p){return i.hasOwnProperty(p)?i[p].plugin:null},a.remove=function(p){x.hasOwnProperty(p)&&delete x[p]},a.removeCustom=function(p){i.hasOwnProperty(p)&&delete i[p]},a.destroyCorePlugins=function(){for(var p in x)x.hasOwnProperty(p)&&delete x[p]},a.destroyCustomPlugins=function(){for(var p in i)i.hasOwnProperty(p)&&delete i[p]},r.exports=a},77332:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(8443),c=i(50792),o=i(74099),u=i(44603),l=i(39429),d=i(95540),f=i(37277),h=i(72905),A=i(8054),g=new a({Extends:c,initialize:function(y){c.call(this),this.game=y,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],y.isBooted||y.config.renderType===A.HEADLESS?this.boot():y.events.once(p.BOOT,this.boot,this)},boot:function(){var v,y,C,b,T,S,F,B=this.game.config,N=B.installGlobalPlugins;for(N=N.concat(this._pendingGlobal),v=0;v<N.length;v++)y=N[v],C=d(y,"key",null),b=d(y,"plugin",null),T=d(y,"start",!1),S=d(y,"mapping",null),F=d(y,"data",null),C&&(b?this.install(C,b,T,S,F):console.warn("Missing `plugin` for key: "+C));for(N=B.installScenePlugins,N=N.concat(this._pendingScene),v=0;v<N.length;v++)y=N[v],C=d(y,"key",null),b=d(y,"plugin",null),S=d(y,"mapping",null),C&&(b?this.installScenePlugin(C,b,S):console.warn("Missing `plugin` for key: "+C));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(p.DESTROY,this.destroy,this)},addToScene:function(v,y,C){var b,T,S,F=this.game,B=v.scene,N=v.settings.map,L=v.settings.isBooted;for(b=0;b<y.length;b++)T=y[b],F[T]?(v[T]=F[T],N.hasOwnProperty(T)&&(B[N[T]]=v[T])):T==="game"&&N.hasOwnProperty(T)&&(B[N[T]]=F);for(var R=0;R<C.length;R++)for(S=C[R],b=0;b<S.length;b++)if(T=S[b],!!f.hasCore(T)){var I=f.getCore(T),M=I.mapping,P=new I.plugin(B,this,M);v[M]=P,I.custom?B[M]=P:N.hasOwnProperty(M)&&(B[N[M]]=P),L&&P.boot()}for(S=this.plugins,b=0;b<S.length;b++){var U=S[b];U.mapping&&(B[U.mapping]=U.plugin)}},getDefaultScenePlugins:function(){var v=this.game.config.defaultPlugins;return v=v.concat(this.scenePlugins),v},installScenePlugin:function(v,y,C,b,T){if(T===void 0&&(T=!1),typeof y!="function"){console.warn("Invalid Scene Plugin: "+v);return}if(f.hasCore(v)||f.register(v,y,C,!0),this.scenePlugins.indexOf(v)===-1)this.scenePlugins.push(v);else if(!T&&f.hasCore(v)){console.warn("Scene Plugin key in use: "+v);return}if(b){var S=new y(b,this,v);b.sys[v]=S,C&&C!==""&&(b[C]=S),S.boot()}},install:function(v,y,C,b,T){if(C===void 0&&(C=!1),b===void 0&&(b=null),T===void 0&&(T=null),typeof y!="function")return console.warn("Invalid Plugin: "+v),null;if(f.hasCustom(v))return console.warn("Plugin key in use: "+v),null;if(b!==null&&(C=!0),!this.game.isBooted)this._pendingGlobal.push({key:v,plugin:y,start:C,mapping:b,data:T});else if(f.registerCustom(v,y,b,T),C)return this.start(v);return null},getIndex:function(v){for(var y=this.plugins,C=0;C<y.length;C++){var b=y[C];if(b.key===v)return C}return-1},getEntry:function(v){var y=this.getIndex(v);if(y!==-1)return this.plugins[y]},isActive:function(v){var y=this.getEntry(v);return y&&y.active},start:function(v,y){y===void 0&&(y=v);var C=this.getEntry(y);return C&&!C.active?(C.active=!0,C.plugin.start()):C||(C=this.createEntry(v,y)),C?C.plugin:null},createEntry:function(v,y){var C=f.getCustom(v);if(C){var b=new C.plugin(this);C={key:y,plugin:b,active:!0,mapping:C.mapping,data:C.data},this.plugins.push(C),b.init(C.data),b.start()}return C},stop:function(v){var y=this.getEntry(v);return y&&y.active&&(y.active=!1,y.plugin.stop()),this},get:function(v,y){y===void 0&&(y=!0);var C=this.getEntry(v);if(C)return C.plugin;var b=this.getClass(v);return b&&y?(C=this.createEntry(v,v),C?C.plugin:null):b||null},getClass:function(v){return f.getCustomClass(v)},removeGlobalPlugin:function(v){var y=this.getEntry(v);y&&h(this.plugins,y),f.removeCustom(v)},removeScenePlugin:function(v){h(this.scenePlugins,v),f.remove(v)},registerGameObject:function(v,y,C){return y&&l.register(v,y),C&&u.register(v,C),this},removeGameObject:function(v,y,C){return y===void 0&&(y=!0),C===void 0&&(C=!0),y&&l.remove(v),C&&u.remove(v),this},registerFileType:function(v,y,C){o.register(v,y),C&&C.sys.load&&(C.sys.load[v]=y)},destroy:function(){for(var v=0;v<this.plugins.length;v++)this.plugins[v].plugin.destroy();f.destroyCustomPlugins(),this.game.noReturn&&f.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});r.exports=g},45145:(r,x,i)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2025 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var a=i(52018),p=i(83419),c=i(44594),o=new p({Extends:a,initialize:function(l,d,f){a.call(this,d),this.scene=l,this.systems=l.sys,this.pluginKey=f,l.sys.events.once(c.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});r.exports=o},18922:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={BasePlugin:i(52018),DefaultPlugins:i(42363),PluginCache:i(37277),PluginManager:i(77332),ScenePlugin:i(45145)}},63595:()=>{typeof HTMLVideoElement<"u"&&!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(r){const x=performance.now(),i=this.getVideoPlaybackQuality(),a=this.mozPresentedFrames||this.mozPaintedFrames||i.totalVideoFrames-i.droppedVideoFrames,p=(c,o)=>{const u=this.getVideoPlaybackQuality(),l=this.mozPresentedFrames||this.mozPaintedFrames||u.totalVideoFrames-u.droppedVideoFrames;if(l>a){const d=this.mozFrameDelay||u.totalFrameDelay-i.totalFrameDelay||0,f=o-c;r(o,{presentationTime:o+d*1e3,expectedDisplayTime:o+f,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+f/1e3,presentedFrames:l,processingDuration:d}),delete this._rvfcpolyfillmap[x]}else this._rvfcpolyfillmap[x]=requestAnimationFrame(d=>p(o,d))};return this._rvfcpolyfillmap[x]=requestAnimationFrame(c=>p(x,c)),x},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(r){cancelAnimationFrame(this._rvfcpolyfillmap[r]),delete this._rvfcpolyfillmap[r]})},10312:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},29795:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={DEFAULT:0,LINEAR:0,NEAREST:1};r.exports=x},68627:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(19715),p=i(32880),c=i(83419),o=i(8054),u=i(50792),l=i(92503),d=i(56373),f=i(97480),h=i(69442),A=i(8443),g=i(61340),v=new c({Extends:u,initialize:function(C){u.call(this);var b=C.config;this.config={clearBeforeRender:b.clearBeforeRender,backgroundColor:b.backgroundColor,antialias:b.antialias,roundPixels:b.roundPixels,transparent:b.transparent},this.game=C,this.type=o.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=C.canvas;var T={alpha:b.transparent,desynchronized:b.desynchronized,willReadFrequently:!1};this.gameContext=b.context?b.context:this.gameCanvas.getContext("2d",T),this.currentContext=this.gameContext,this.antialias=b.antialias,this.blendModes=d(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new g,this._tempMatrix2=new g,this._tempMatrix3=new g,this.isBooted=!1,this.init()},init:function(){var y=this.game;y.events.once(A.BOOT,function(){var C=this.config;if(!C.transparent){var b=this.gameContext,T=this.gameCanvas;b.fillStyle=C.backgroundColor.rgba,b.fillRect(0,0,T.width,T.height)}},this),y.textures.once(h.READY,this.boot,this)},boot:function(){var y=this.game,C=y.scale.baseSize;this.width=C.width,this.height=C.height,this.isBooted=!0,y.scale.on(f.RESIZE,this.onResize,this),this.resize(C.width,C.height)},onResize:function(y,C){(C.width!==this.width||C.height!==this.height)&&this.resize(C.width,C.height)},resize:function(y,C){this.width=y,this.height=C,this.emit(l.RESIZE,y,C)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(y){return this.currentContext.globalCompositeOperation=y,this},setContext:function(y){return this.currentContext=y||this.gameContext,this},setAlpha:function(y){return this.currentContext.globalAlpha=y,this},preRender:function(){var y=this.gameContext,C=this.config,b=this.width,T=this.height;y.globalAlpha=1,y.globalCompositeOperation="source-over",y.setTransform(1,0,0,1,0,0),this.emit(l.PRE_RENDER_CLEAR),C.clearBeforeRender&&(y.clearRect(0,0,b,T),C.transparent||(y.fillStyle=C.backgroundColor.rgba,y.fillRect(0,0,b,T))),y.save(),this.drawCount=0,this.emit(l.PRE_RENDER)},render:function(y,C,b){var T=C.length;this.emit(l.RENDER,y,b);var S=b.x,F=b.y,B=b.width,N=b.height,L=b.renderToTexture?b.context:y.sys.context;L.save(),this.game.scene.customViewports&&(L.beginPath(),L.rect(S,F,B,N),L.clip()),b.emit(a.PRE_RENDER,b),this.currentContext=L;var R=b.mask;R&&R.preRenderCanvas(this,null,b._maskCamera),b.transparent||(L.fillStyle=b.backgroundColor.rgba,L.fillRect(S,F,B,N)),L.globalAlpha=b.alpha,L.globalCompositeOperation="source-over",this.drawCount+=T,b.renderToTexture&&b.emit(a.PRE_RENDER,b),b.matrix.copyToContext(L);for(var I=0;I<T;I++){var M=C[I];M.mask&&M.mask.preRenderCanvas(this,M,b),M.renderCanvas(this,M,b),M.mask&&M.mask.postRenderCanvas(this,M,b)}L.setTransform(1,0,0,1,0,0),L.globalCompositeOperation="source-over",L.globalAlpha=1,b.flashEffect.postRenderCanvas(L),b.fadeEffect.postRenderCanvas(L),b.dirty=!1,R&&R.postRenderCanvas(this),L.restore(),b.renderToTexture&&(b.emit(a.POST_RENDER,b),b.renderToGame&&y.sys.context.drawImage(b.canvas,S,F)),b.emit(a.POST_RENDER,b)},postRender:function(){var y=this.gameContext;y.restore(),this.emit(l.POST_RENDER);var C=this.snapshotState;C.callback&&(p(this.gameCanvas,C),C.callback=null)},snapshotCanvas:function(y,C,b,T,S,F,B,N,L){b===void 0&&(b=!1),this.snapshotArea(T,S,F,B,C,N,L);var R=this.snapshotState;return R.getPixel=b,p(y,R),R.callback=null,this},snapshot:function(y,C,b){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,y,C,b)},snapshotArea:function(y,C,b,T,S,F,B){var N=this.snapshotState;return N.callback=S,N.type=F,N.encoder=B,N.getPixel=!1,N.x=y,N.y=C,N.width=Math.min(b,this.gameCanvas.width),N.height=Math.min(T,this.gameCanvas.height),this},snapshotPixel:function(y,C,b){return this.snapshotArea(y,C,1,1,b),this.snapshotState.getPixel=!0,this},batchSprite:function(y,C,b,T){var S=b.alpha*y.alpha;if(S!==0){var F=this.currentContext,B=this._tempMatrix1,N=this._tempMatrix2,L=C.canvasData,R=L.x,I=L.y,M=C.cutWidth,P=C.cutHeight,U=C.customPivot,z=C.source.resolution,W=y.displayOriginX,Z=y.displayOriginY,j=-W+C.x,H=-Z+C.y;if(y.isCropped){var V=y._crop;(V.flipX!==y.flipX||V.flipY!==y.flipY)&&C.updateCropUVs(V,y.flipX,y.flipY),M=V.cw,P=V.ch,R=V.cx,I=V.cy,j=-W+V.x,H=-Z+V.y,y.flipX&&(j>=0?j=-(j+M):j<0&&(j=Math.abs(j)-M)),y.flipY&&(H>=0?H=-(H+P):H<0&&(H=Math.abs(H)-P))}var k=1,X=1;y.flipX&&(U||(j+=-C.realWidth+W*2),k=-1),y.flipY&&(U||(H+=-C.realHeight+Z*2),X=-1);var Q=y.x,J=y.y;if(b.roundPixels&&(Q=Math.floor(Q),J=Math.floor(J)),N.applyITRS(Q,J,y.rotation,y.scaleX*k,y.scaleY*X),B.copyFrom(b.matrix),T?(B.multiplyWithOffset(T,-b.scrollX*y.scrollFactorX,-b.scrollY*y.scrollFactorY),N.e=Q,N.f=J):(N.e-=b.scrollX*y.scrollFactorX,N.f-=b.scrollY*y.scrollFactorY),B.multiply(N),b.renderRoundPixels&&(B.e=Math.floor(B.e+.5),B.f=Math.floor(B.f+.5)),F.save(),B.setToContext(F),F.globalCompositeOperation=this.blendModes[y.blendMode],F.globalAlpha=S,F.imageSmoothingEnabled=!C.source.scaleMode,y.mask&&y.mask.preRenderCanvas(this,y,b),M>0&&P>0){var $=M/z,_=P/z;b.roundPixels&&(j=Math.floor(j+.5),H=Math.floor(H+.5),$+=.5,_+=.5),F.drawImage(C.source.image,R,I,M,P,j,H,$,_)}y.mask&&y.mask.postRenderCanvas(this,y,b),F.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});r.exports=v},55830:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={CanvasRenderer:i(68627),GetBlendModes:i(56373),SetTransform:i(20926)}},56373:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(10312),p=i(89289),c=function(){var o=[],u=p.supportNewBlendModes,l="source-over";return o[a.NORMAL]=l,o[a.ADD]="lighter",o[a.MULTIPLY]=u?"multiply":l,o[a.SCREEN]=u?"screen":l,o[a.OVERLAY]=u?"overlay":l,o[a.DARKEN]=u?"darken":l,o[a.LIGHTEN]=u?"lighten":l,o[a.COLOR_DODGE]=u?"color-dodge":l,o[a.COLOR_BURN]=u?"color-burn":l,o[a.HARD_LIGHT]=u?"hard-light":l,o[a.SOFT_LIGHT]=u?"soft-light":l,o[a.DIFFERENCE]=u?"difference":l,o[a.EXCLUSION]=u?"exclusion":l,o[a.HUE]=u?"hue":l,o[a.SATURATION]=u?"saturation":l,o[a.COLOR]=u?"color":l,o[a.LUMINOSITY]=u?"luminosity":l,o[a.ERASE]="destination-out",o[a.SOURCE_IN]="source-in",o[a.SOURCE_OUT]="source-out",o[a.SOURCE_ATOP]="source-atop",o[a.DESTINATION_OVER]="destination-over",o[a.DESTINATION_IN]="destination-in",o[a.DESTINATION_OUT]="destination-out",o[a.DESTINATION_ATOP]="destination-atop",o[a.LIGHTER]="lighter",o[a.COPY]="copy",o[a.XOR]="xor",o};r.exports=c},20926:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(91296),p=function(c,o,u,l,d){var f=l.alpha*u.alpha;if(f<=0)return!1;var h=a(u,l,d).calc;return o.globalCompositeOperation=c.blendModes[u.blendMode],o.globalAlpha=f,o.save(),h.setToContext(o),o.imageSmoothingEnabled=u.frame?!u.frame.source.scaleMode:c.antialias,!0};r.exports=p},63899:r=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="losewebgl"},6119:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="postrender"},48070:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="prerender"},15640:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="render"},8912:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="resize"},87124:r=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="restorewebgl"},92503:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={LOSE_WEBGL:i(63899),POST_RENDER:i(6119),PRE_RENDER:i(48070),RENDER:i(15640),RESIZE:i(8912),RESTORE_WEBGL:i(87124)}},36909:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Events:i(92503),Snapshot:i(89966)},r.exports.Canvas=i(55830),r.exports.WebGL=i(4159)},32880:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(27919),p=i(40987),c=i(95540),o=function(u,l){var d=c(l,"callback"),f=c(l,"type","image/png"),h=c(l,"encoder",.92),A=Math.abs(Math.round(c(l,"x",0))),g=Math.abs(Math.round(c(l,"y",0))),v=Math.floor(c(l,"width",u.width)),y=Math.floor(c(l,"height",u.height)),C=c(l,"getPixel",!1);if(C){var b=u.getContext("2d",{willReadFrequently:!1}),T=b.getImageData(A,g,1,1),S=T.data;d.call(null,new p(S[0],S[1],S[2],S[3]))}else if(A!==0||g!==0||v!==u.width||y!==u.height){var F=a.createWebGL(this,v,y),B=F.getContext("2d",{willReadFrequently:!0});v>0&&y>0&&B.drawImage(u,A,g,v,y,0,0,v,y);var N=new Image;N.onerror=function(){d.call(null),a.remove(F)},N.onload=function(){d.call(null,N),a.remove(F)},N.src=F.toDataURL(f,h)}else{var L=new Image;L.onerror=function(){d.call(null)},L.onload=function(){d.call(null,L)},L.src=u.toDataURL(f,h)}};r.exports=o},88815:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(27919),p=i(40987),c=i(95540),o=function(u,l){var d=u,f=c(l,"callback"),h=c(l,"type","image/png"),A=c(l,"encoder",.92),g=Math.abs(Math.round(c(l,"x",0))),v=Math.abs(Math.round(c(l,"y",0))),y=c(l,"getPixel",!1),C=c(l,"isFramebuffer",!1),b=C?c(l,"bufferWidth",1):d.drawingBufferWidth,T=C?c(l,"bufferHeight",1):d.drawingBufferHeight;if(y){var S=new Uint8Array(4),F=C?v:T-v;d.readPixels(g,F,1,1,d.RGBA,d.UNSIGNED_BYTE,S),f.call(null,new p(S[0],S[1],S[2],S[3]))}else{var B=Math.floor(c(l,"width",b)),N=Math.floor(c(l,"height",T)),L=B*N*4,R=new Uint8Array(L);d.readPixels(g,T-v-N,B,N,d.RGBA,d.UNSIGNED_BYTE,R);for(var I=a.createWebGL(this,B,N),M=I.getContext("2d",{willReadFrequently:!0}),P=M.getImageData(0,0,B,N),U=P.data,z=0;z<N;z++)for(var W=0;W<B;W++){var Z=((N-z-1)*B+W)*4,j=C?L-(z*B+(B-W))*4:(z*B+W)*4;U[j+0]=R[Z+0],U[j+1]=R[Z+1],U[j+2]=R[Z+2],U[j+3]=R[Z+3]}M.putImageData(P,0,0);var H=new Image;H.onerror=function(){f.call(null),a.remove(I)},H.onload=function(){f.call(null,H),a.remove(I)},H.src=I.toDataURL(h,A)}};r.exports=o},89966:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Canvas:i(32880),WebGL:i(88815)}},7530:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(36060),c=i(90330),o=i(82264),u=i(95540),l=i(32302),d=i(63448),f=i(31302),h=i(58918),A=i(14811),g=i(92651),v=i(96569),y=i(56527),C=i(57516),b=i(43439),T=i(81041),S=i(12385),F=i(7589),B=i(95428),N=i(72905),L=new a({initialize:function(I){this.game=I.game,this.renderer=I,this.classes=new c([[p.UTILITY_PIPELINE,F],[p.MULTI_PIPELINE,C],[p.BITMAPMASK_PIPELINE,f],[p.SINGLE_PIPELINE,S],[p.ROPE_PIPELINE,T],[p.LIGHT_PIPELINE,v],[p.POINTLIGHT_PIPELINE,b],[p.MOBILE_PIPELINE,y]]),this.postPipelineClasses=new c,this.pipelines=new c,this.postPipelineInstances=[],this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(R,I,M){var P=this.renderer,U=this.renderTargets;this.frameInc=Math.floor(u(R,"frameInc",32));var z=P.width,W=P.height,Z=this.game.config.disablePreFX,j=this.game.config.disablePostFX;if(j||this.postPipelineClasses.setAll([[String(A.BARREL),h.Barrel],[String(A.BLOOM),h.Bloom],[String(A.BLUR),h.Blur],[String(A.BOKEH),h.Bokeh],[String(A.CIRCLE),h.Circle],[String(A.COLOR_MATRIX),h.ColorMatrix],[String(A.DISPLACEMENT),h.Displacement],[String(A.GLOW),h.Glow],[String(A.GRADIENT),h.Gradient],[String(A.PIXELATE),h.Pixelate],[String(A.SHADOW),h.Shadow],[String(A.SHINE),h.Shine],[String(A.VIGNETTE),h.Vignette],[String(A.WIPE),h.Wipe]]),!Z){this.classes.set(p.FX_PIPELINE,g);for(var H=Math.min(z,W),V=Math.ceil(H/this.frameInc),k=1;k<V;k++){var X=k*this.frameInc;U.push(new l(P,X,X)),U.push(new l(P,X,X)),U.push(new l(P,X,X)),this.maxDimension=X}U.push(new l(P,z,W,1,0,!0,!0)),U.push(new l(P,z,W,1,0,!0,!0)),U.push(new l(P,z,W,1,0,!0,!0))}var Q,J,$=this,_=this.game;if(this.classes.each(function(se,ce){Q=$.add(se,new ce({game:_})),se===p.UTILITY_PIPELINE&&($.UTILITY_PIPELINE=Q,$.fullFrame1=Q.fullFrame1,$.fullFrame2=Q.fullFrame2,$.halfFrame1=Q.halfFrame1,$.halfFrame2=Q.halfFrame2)}),this.MULTI_PIPELINE=this.get(p.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(p.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(p.MOBILE_PIPELINE),Z||(this.FX_PIPELINE=this.get(p.FX_PIPELINE)),R)for(J in R){var te=R[J];Q=new te(_),Q.name=J,Q.isPostFX?this.postPipelineClasses.set(J,te):this.has(J)||(this.classes.set(J,te),this.add(J,Q))}this.default=this.get(I),M&&!o.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(R){var I=this.get(R);return I&&(this.default=I),I},add:function(R,I){if(I.isPostFX){console.warn(R+" is a Post Pipeline. Use `addPostPipeline` instead");return}var M=this.pipelines,P=this.renderer;return M.has(R)?console.warn("Pipeline exists: "+R):(I.name=R,I.manager=this,M.set(R,I)),I.hasBooted||I.boot(),P.width!==0&&P.height!==0&&!I.isPreFX&&I.resize(P.width,P.height),I},addPostPipeline:function(R,I){this.postPipelineClasses.has(R)||this.postPipelineClasses.set(R,I)},flush:function(){this.current&&this.current.flush()},has:function(R){var I=this.pipelines;return typeof R=="string"?I.has(R):!!I.contains(R)},get:function(R){var I=this.pipelines;if(typeof R=="string")return I.get(R);if(I.contains(R))return R},getPostPipeline:function(R,I,M){var P=this.postPipelineClasses,U,z="",W=typeof R;if(W==="string"||W==="number"?(U=P.get(R),z=R):W==="function"?(P.contains(R)&&(U=R),z=R.name):W==="object"&&(U=P.get(R.name),z=R.name),U){var Z=new U(this.game,M);return Z.name=z,I&&(Z.gameObject=I),this.postPipelineInstances.push(Z),Z}},removePostPipeline:function(R){N(this.postPipelineInstances,R)},remove:function(R,I,M){I===void 0&&(I=!0),M===void 0&&(M=!0),this.pipelines.delete(R),I&&this.classes.delete(R),M&&this.postPipelineClasses.delete(R)},set:function(R,I,M){if(!R.isPostFX)return this.isCurrent(R,M)||(this.flush(),this.current&&this.current.unbind(),this.current=R,R.bind(M)),R.updateProjectionMatrix(),R.onBind(I),R},preBatch:function(R){if(R.hasPostPipeline){this.flush();for(var I=R.postPipelines,M=I.length-1;M>=0;M--){var P=I[M];P.active&&P.preBatch(R)}}},postBatch:function(R){if(R.hasPostPipeline){this.flush();for(var I=R.postPipelines,M=0;M<I.length;M++){var P=I[M];P.active&&P.postBatch(R)}}},preBatchCamera:function(R){if(R.hasPostPipeline){this.flush();for(var I=R.postPipelines,M=I.length-1;M>=0;M--){var P=I[M];P.active&&P.preBatch(R)}}},postBatchCamera:function(R){if(R.hasPostPipeline){this.flush();for(var I=R.postPipelines,M=0;M<I.length;M++){var P=I[M];P.active&&P.postBatch(R)}}},isCurrent:function(R,I){var M=this.renderer,P=this.current;return P&&!I&&(I=P.currentShader),!(P!==R||I.program!==M.currentProgram)},copyFrame:function(R,I,M,P,U){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(R,I,M,P,U),this},copyToGame:function(R){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(R),this},drawFrame:function(R,I,M,P){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(R,I,M,P),this},blendFrames:function(R,I,M,P,U){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(R,I,M,P,U),this},blendFramesAdditive:function(R,I,M,P,U){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(R,I,M,P,U),this},clearFrame:function(R,I){return this.UTILITY_PIPELINE.clearFrame(R,I),this},blitFrame:function(R,I,M,P,U,z){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(R,I,M,P,U,z),this},copyFrameRect:function(R,I,M,P,U,z,W,Z){return this.UTILITY_PIPELINE.copyFrameRect(R,I,M,P,U,z,W,Z),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(R){return this.UTILITY_PIPELINE.bind(R)},setFX:function(){return this.set(this.FX_PIPELINE)},restoreContext:function(){this.rebind(),this.pipelines.each(function(R,I){I.restoreContext()}),B(this.postPipelineInstances,function(R){R.restoreContext()})},rebind:function(R){R===void 0&&this.previous&&(R=this.previous);var I=this.renderer,M=I.gl;M.disable(M.DEPTH_TEST),M.disable(M.CULL_FACE),I.hasActiveStencilMask()?M.clear(M.DEPTH_BUFFER_BIT):(M.disable(M.STENCIL_TEST),M.clear(M.DEPTH_BUFFER_BIT|M.STENCIL_BUFFER_BIT)),M.viewport(0,0,I.width,I.height),I.currentProgram=null,I.setBlendMode(0,!0);var P=I.vaoExtension;P&&P.bindVertexArrayOES(null);var U=this.pipelines.entries;for(var z in U)U[z].glReset=!0;R&&(this.current=R,R.rebind())},clear:function(){var R=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,R.currentProgram=null,R.setBlendMode(0,!0);var I=R.vaoExtension;I&&I.bindVertexArrayOES(null)},getRenderTarget:function(R){var I=this.renderTargets,M=3;if(R>this.maxDimension)return this.targetIndex=I.length-M,I[this.targetIndex];var P=(d(R,this.frameInc,0,!0)-1)*M;return this.targetIndex=P,I[P]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});r.exports=L},32302:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(92503),c=new a({initialize:function(u,l,d,f,h,A,g,v,y){f===void 0&&(f=1),h===void 0&&(h=0),A===void 0&&(A=!0),g===void 0&&(g=!1),v===void 0&&(v=!0),y===void 0&&(y=!0),this.renderer=u,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=f,this.minFilter=h,this.autoClear=A,this.autoResize=!0,this.hasDepthBuffer=v,this.forceClamp=y,this.init(l,d),g?this.renderer.on(p.RESIZE,this.resize,this):this.autoResize=!1},init:function(o,u){var l=this.renderer;this.texture=l.createTextureFromSource(null,o,u,this.minFilter,this.forceClamp),this.framebuffer=l.createFramebuffer(o,u,this.texture,this.hasDepthBuffer),this.width=o,this.height=u},setAutoResize:function(o){return o&&!this.autoResize?(this.renderer.on(p.RESIZE,this.resize,this),this.autoResize=!0):!o&&this.autoResize&&(this.renderer.off(p.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(o,u){if(this.autoResize&&this.willResize(o,u)){var l=this.renderer;l.deleteFramebuffer(this.framebuffer),l.deleteTexture(this.texture),this.texture=l.createTextureFromSource(null,o,u,this.minFilter,this.forceClamp),this.framebuffer=l.createFramebuffer(o,u,this.texture,this.hasDepthBuffer),this.width=o,this.height=u}return this},willResize:function(o,u){return typeof o!="number"||typeof u!="number"?!1:(o=Math.round(o*this.scale),u=Math.round(u*this.scale),o=Math.max(o,1),u=Math.max(u,1),o!==this.width||u!==this.height)},bind:function(o,u,l){o===void 0&&(o=!1);var d=this.renderer;if(o&&d.flush(),u&&l&&this.resize(u,l),d.pushFramebuffer(this.framebuffer,!1,!1),o&&this.adjustViewport(),this.autoClear){var f=this.renderer.gl;f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT)}d.clearStencilMask()},adjustViewport:function(){var o=this.renderer.gl;o.viewport(0,0,this.width,this.height),o.disable(o.SCISSOR_TEST)},clear:function(o,u,l,d){var f=this.renderer,h=f.gl;f.pushFramebuffer(this.framebuffer),o!==void 0&&u!==void 0&&l!==void 0&&d!==void 0?(h.enable(h.SCISSOR_TEST),h.scissor(o,u,l,d)):h.disable(h.SCISSOR_TEST),h.clearColor(0,0,0,0),h.clear(h.COLOR_BUFFER_BIT),f.popFramebuffer(),f.resetScissor()},unbind:function(o){o===void 0&&(o=!1);var u=this.renderer;return o&&u.flush(),u.popFramebuffer()},destroy:function(){var o=this.renderer;o.off(p.RESIZE,this.resize,this),o.deleteFramebuffer(this.framebuffer),o.deleteTexture(this.texture),this.renderer=null,this.framebuffer=null,this.texture=null}});r.exports=c},70554:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @author       Matthew Groves <@doormat>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={getTintFromFloats:function(x,i,a,p){var c=(x*255|0)&255,o=(i*255|0)&255,u=(a*255|0)&255,l=(p*255|0)&255;return(l<<24|c<<16|o<<8|u)>>>0},getTintAppendFloatAlpha:function(x,i){var a=(i*255|0)&255;return(a<<24|x)>>>0},getTintAppendFloatAlphaAndSwap:function(x,i){var a=(x>>16|0)&255,p=(x>>8|0)&255,c=(x|0)&255,o=(i*255|0)&255;return(o<<24|c<<16|p<<8|a)>>>0},getFloatsFromUintRGB:function(x){var i=(x>>16|0)&255,a=(x>>8|0)&255,p=(x|0)&255;return[i/255,a/255,p/255]},checkShaderMax:function(x,i){var a=Math.min(16,x.getParameter(x.MAX_TEXTURE_IMAGE_UNITS));return!i||i===-1?a:Math.min(a,i)},parseFragmentShaderMaxTextures:function(x,i){if(!x)return"";for(var a="",p=0;p<i;p++)p>0&&(a+=`
	else `),p<i-1&&(a+="if (outTexId < "+p+".5)"),a+=`
	{`,a+=`
		texture = texture2D(uMainSampler[`+p+"], outTexCoord);",a+=`
	}`;return x=x.replace(/%count%/gi,i.toString()),x.replace(/%forloop%/gi,a)},setGlowQuality:function(x,i,a,p){return a===void 0&&(a=i.config.glowFXQuality),p===void 0&&(p=i.config.glowFXDistance),x=x.replace(/__SIZE__/gi,(1/a/p).toFixed(7)),x=x.replace(/__DIST__/gi,p.toFixed(0)+".0"),x}}},29100:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(62644),c=i(50792),o=i(77085),u=i(95540),l=i(37867),d=i(92503),f=i(32302),h=i(70554),A=i(38683),g=new a({Extends:c,initialize:function(y){c.call(this);var C=y.game,b=C.renderer,T=b.gl;this.name=u(y,"name","WebGLPipeline"),this.game=C,this.renderer=b,this.manager,this.gl=T,this.view=C.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.activeBuffer,this.topology=u(y,"topology",T.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.forceZero=u(y,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=y,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[],this.resizeUniform=u(y,"resizeUniform","")},boot:function(){var v,y=this.gl,C=this.config,b=this.renderer;this.isPostFX||(this.projectionMatrix=new l().identity());var T=this.renderTargets,S=u(C,"renderTarget",!1);typeof S=="boolean"&&S&&(S=1);var F=b.width,B=b.height;if(typeof S=="number")for(v=0;v<S;v++)T.push(new f(b,F,B,1,0,!0));else if(Array.isArray(S))for(v=0;v<S.length;v++){var N=u(S[v],"scale",1),L=u(S[v],"minFilter",0),R=u(S[v],"autoClear",1),I=u(S[v],"autoResize",!1),M=u(S[v],"width",null),P=u(S[v],"height",M);M?T.push(new f(b,M,P,1,L,R,I)):T.push(new f(b,F,B,N,L,R,I))}T.length&&(this.currentRenderTarget=T[0]),this.setShadersFromConfig(C);var U=this.shaders,z=0;for(v=0;v<U.length;v++)U[v].vertexSize>z&&(z=U[v].vertexSize);var W=u(C,"batchSize",b.config.batchSize);this.vertexCapacity=W*6;var Z=new ArrayBuffer(this.vertexCapacity*z);this.vertexData=Z,this.bytes=new Uint8Array(Z),this.vertexViewF32=new Float32Array(Z),this.vertexViewU32=new Uint32Array(Z);var j=u(C,"vertices",null);for(j?(this.vertexViewF32.set(j),this.vertexBuffer=b.createVertexBuffer(Z,y.STATIC_DRAW)):this.vertexBuffer=b.createVertexBuffer(Z.byteLength,y.DYNAMIC_DRAW),this.setVertexBuffer(),v=U.length-1;v>=0;v--)U[v].rebind();this.hasBooted=!0,b.on(d.RESIZE,this.resize,this),b.on(d.PRE_RENDER,this.onPreRender,this),b.on(d.RENDER,this.onRender,this),b.on(d.POST_RENDER,this.onPostRender,this),this.emit(o.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(v,y,C){var b=this.renderer;if(v!==this.currentShader||b.currentProgram!==this.currentShader.program){this.flush();var T=this.setVertexBuffer(C);T&&!y&&(y=!0),v.bind(y,!1),this.currentShader=v}return this},getShaderByName:function(v){for(var y=this.shaders,C=0;C<y.length;C++)if(y[C].name===v)return y[C]},setShadersFromConfig:function(v){var y,C=this.shaders,b=this.renderer;for(y=0;y<C.length;y++)C[y].destroy();var T="vertShader",S="fragShader",F="attributes",B=u(v,T,null),N=h.parseFragmentShaderMaxTextures(u(v,S,null),b.maxTextures),L=u(v,F,null),R=u(v,"shaders",[]),I=R.length;if(I===0)B&&N&&(this.shaders=[new A(this,"default",B,N,p(L))]);else{var M=[];for(y=0;y<I;y++){var P=R[y],U,z,W,Z;if(typeof P=="string"?(U="default",z=B,W=h.parseFragmentShaderMaxTextures(P,b.maxTextures),Z=L):(U=u(P,"name","default"),z=u(P,T,B),W=h.parseFragmentShaderMaxTextures(u(P,S,N),b.maxTextures),Z=u(P,F,L)),U==="default"){var j=W.split(`
`),H=j[0].trim();H.indexOf("#define SHADER_NAME")>-1&&(U=H.substring(20))}z&&W&&M.push(new A(this,U,z,W,p(Z)))}this.shaders=M}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(v){return this.currentBatch={start:this.vertexCount,count:0,texture:[v],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=v,this.batch.push(this.currentBatch),0},addTextureToBatch:function(v){var y=this.currentBatch;y&&(y.texture.push(v),y.unit++,y.maxUnit++)},pushBatch:function(v){if(!this.currentBatch||this.forceZero&&v!==this.currentTexture)return this.createBatch(v);if(v===this.currentTexture)return this.currentUnit;var y=this.currentBatch,C=y.texture.indexOf(v);return C===-1?y.texture.length===this.renderer.maxTextures?this.createBatch(v):(y.unit++,y.maxUnit++,y.texture.push(v),this.currentUnit=y.unit,this.currentTexture=v,y.unit):(this.currentUnit=C,this.currentTexture=v,C)},setGameObject:function(v,y){return y===void 0&&(y=v.frame),this.pushBatch(y.source.glTexture)},shouldFlush:function(v){return v===void 0&&(v=0),this.vertexCount+v>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(v,y){(v!==this.width||y!==this.height)&&this.flush(),this.width=v,this.height=y;for(var C=this.renderTargets,b=0;b<C.length;b++)C[b].resize(v,y);return this.setProjectionMatrix(v,y),this.resizeUniform&&this.set2f(this.resizeUniform,v,y),this.emit(o.RESIZE,v,y,this),this.onResize(v,y),this},setProjectionMatrix:function(v,y){var C=this.projectionMatrix;if(!C)return this;this.projectionWidth=v,this.projectionHeight=y,C.ortho(0,v,y,0,-1e3,1e3);for(var b=this.shaders,T="uProjectionMatrix",S=0;S<b.length;S++){var F=b[S];F.hasUniform(T)&&(F.resetUniform(T),F.setMatrix4fv(T,!1,C.val,F))}return this},flipProjectionMatrix:function(v){v===void 0&&(v=!0);var y=this.projectionMatrix;if(!y)return this;var C=this.projectionWidth,b=this.projectionHeight;v?y.ortho(0,C,0,b,-1e3,1e3):y.ortho(0,C,b,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,y.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var v=this.renderer.projectionWidth,y=this.renderer.projectionHeight;(this.projectionWidth!==v||this.projectionHeight!==y)&&this.setProjectionMatrix(v,y)}},bind:function(v){if(v===void 0&&(v=this.currentShader),this.glReset)return this.rebind(v);var y=!1,C=this.gl;return C.getParameter(C.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(C.bindBuffer(C.ARRAY_BUFFER,this.vertexBuffer.webGLBuffer),this.activeBuffer=this.vertexBuffer,y=!0),v.bind(y),this.currentShader=v,this.activeTextures.length=0,this.emit(o.BIND,this,v),this.onActive(v),this},rebind:function(v){this.activeBuffer=null,this.setVertexBuffer();for(var y=this.shaders,C=y.length-1;C>=0;C--){var b=y[C].rebind();(!v||b===v)&&(this.currentShader=b)}return this.activeTextures.length=0,this.emit(o.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},restoreContext:function(){var v=this.shaders,y=!!this.vertexBuffer;this.activeBuffer=null,this.activeTextures.length=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,y&&this.setVertexBuffer();for(var C=0;C<v.length;C++){var b=v[C];b.syncUniforms(),y&&b.rebind()}},setVertexBuffer:function(v){if(v===void 0&&(v=this.vertexBuffer),v!==this.activeBuffer){var y=this.gl;return this.gl.bindBuffer(y.ARRAY_BUFFER,v.webGLBuffer),this.activeBuffer=v,!0}return!1},preBatch:function(v){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(v),this},postBatch:function(v){return this.onDraw(this.currentRenderTarget),this.onPostBatch(v),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(v){if(v===void 0&&(v=!1),this.vertexCount>0){this.emit(o.BEFORE_FLUSH,this,v),this.onBeforeFlush(v);var y=this.gl,C=this.vertexCount,b=this.currentShader.vertexSize,T=this.topology;if(this.active){this.setVertexBuffer(),C===this.vertexCapacity?y.bufferData(y.ARRAY_BUFFER,this.vertexData,y.DYNAMIC_DRAW):y.bufferSubData(y.ARRAY_BUFFER,0,this.bytes.subarray(0,C*b));var S,F,B,N=this.batch,L=this.activeTextures;if(this.forceZero)for(L[0]||y.activeTexture(y.TEXTURE0),S=0;S<N.length;S++)F=N[S],B=F.texture[0],L[0]!==B&&(y.bindTexture(y.TEXTURE_2D,B.webGLTexture),L[0]=B),y.drawArrays(T,F.start,F.count);else for(S=0;S<N.length;S++){F=N[S];for(var R=0;R<=F.maxUnit;R++)B=F.texture[R],L[R]!==B&&(y.activeTexture(y.TEXTURE0+R),y.bindTexture(y.TEXTURE_2D,B.webGLTexture),L[R]=B);y.drawArrays(T,F.start,F.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(o.AFTER_FLUSH,this,v),this.onAfterFlush(v)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(v,y,C,b,T,S,F){var B=this.vertexViewF32,N=this.vertexViewU32,L=this.vertexCount*this.currentShader.vertexComponentCount-1;B[++L]=v,B[++L]=y,B[++L]=C,B[++L]=b,B[++L]=T,B[++L]=S,N[++L]=F,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(v,y,C,b,T,S,F,B,N,L,R,I,M,P,U,z,W,Z,j,H){H===void 0&&(H=this.currentUnit);var V=!1;this.shouldFlush(6)&&(this.flush(),V=!0),this.currentBatch||(H=this.setTexture2D(j));var k=this.vertexViewF32,X=this.vertexViewU32,Q=this.vertexCount*this.currentShader.vertexComponentCount-1;return k[++Q]=y,k[++Q]=C,k[++Q]=L,k[++Q]=R,k[++Q]=H,k[++Q]=Z,X[++Q]=P,k[++Q]=b,k[++Q]=T,k[++Q]=L,k[++Q]=M,k[++Q]=H,k[++Q]=Z,X[++Q]=z,k[++Q]=S,k[++Q]=F,k[++Q]=I,k[++Q]=M,k[++Q]=H,k[++Q]=Z,X[++Q]=W,k[++Q]=y,k[++Q]=C,k[++Q]=L,k[++Q]=R,k[++Q]=H,k[++Q]=Z,X[++Q]=P,k[++Q]=S,k[++Q]=F,k[++Q]=I,k[++Q]=M,k[++Q]=H,k[++Q]=Z,X[++Q]=W,k[++Q]=B,k[++Q]=N,k[++Q]=I,k[++Q]=R,k[++Q]=H,k[++Q]=Z,X[++Q]=U,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(v),V},batchTri:function(v,y,C,b,T,S,F,B,N,L,R,I,M,P,U,z,W){W===void 0&&(W=this.currentUnit);var Z=!1;this.shouldFlush(3)&&(this.flush(),Z=!0),this.currentBatch||(W=this.setTexture2D(z));var j=this.vertexViewF32,H=this.vertexViewU32,V=this.vertexCount*this.currentShader.vertexComponentCount-1;return j[++V]=y,j[++V]=C,j[++V]=B,j[++V]=N,j[++V]=W,j[++V]=U,H[++V]=I,j[++V]=b,j[++V]=T,j[++V]=B,j[++V]=R,j[++V]=W,j[++V]=U,H[++V]=M,j[++V]=S,j[++V]=F,j[++V]=L,j[++V]=R,j[++V]=W,j[++V]=U,H[++V]=P,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(v),Z},drawFillRect:function(v,y,C,b,T,S,F,B){F===void 0&&(F=this.renderer.whiteTexture),B===void 0&&(B=!0),v=Math.floor(v),y=Math.floor(y);var N=Math.floor(v+C),L=Math.floor(y+b),R=this.setTexture2D(F),I=h.getTintAppendFloatAlphaAndSwap(T,S),M=0,P=0,U=1,z=1;B&&(P=1,z=0),this.batchQuad(null,v,y,v,L,N,L,N,y,M,P,U,z,I,I,I,I,0,F,R)},setTexture2D:function(v){return v===void 0&&(v=this.renderer.whiteTexture),this.pushBatch(v)},bindTexture:function(v,y){y===void 0&&(y=0);var C=this.gl;return C.activeTexture(C.TEXTURE0+y),C.bindTexture(C.TEXTURE_2D,v.webGLTexture),this},bindRenderTarget:function(v,y){return this.bindTexture(v.texture,y)},setTime:function(v,y){return this.set1f(v,this.game.loop.getDuration(),y),this},setBoolean:function(v,y,C){return C===void 0&&(C=this.currentShader),C.setBoolean(v,y),this},set1f:function(v,y,C){return C===void 0&&(C=this.currentShader),C.set1f(v,y),this},set2f:function(v,y,C,b){return b===void 0&&(b=this.currentShader),b.set2f(v,y,C),this},set3f:function(v,y,C,b,T){return T===void 0&&(T=this.currentShader),T.set3f(v,y,C,b),this},set4f:function(v,y,C,b,T,S){return S===void 0&&(S=this.currentShader),S.set4f(v,y,C,b,T),this},set1fv:function(v,y,C){return C===void 0&&(C=this.currentShader),C.set1fv(v,y),this},set2fv:function(v,y,C){return C===void 0&&(C=this.currentShader),C.set2fv(v,y),this},set3fv:function(v,y,C){return C===void 0&&(C=this.currentShader),C.set3fv(v,y),this},set4fv:function(v,y,C){return C===void 0&&(C=this.currentShader),C.set4fv(v,y),this},set1iv:function(v,y,C){return C===void 0&&(C=this.currentShader),C.set1iv(v,y),this},set2iv:function(v,y,C){return C===void 0&&(C=this.currentShader),C.set2iv(v,y),this},set3iv:function(v,y,C){return C===void 0&&(C=this.currentShader),C.set3iv(v,y),this},set4iv:function(v,y,C){return C===void 0&&(C=this.currentShader),C.set4iv(v,y),this},set1i:function(v,y,C){return C===void 0&&(C=this.currentShader),C.set1i(v,y),this},set2i:function(v,y,C,b){return b===void 0&&(b=this.currentShader),b.set2i(v,y,C),this},set3i:function(v,y,C,b,T){return T===void 0&&(T=this.currentShader),T.set3i(v,y,C,b),this},set4i:function(v,y,C,b,T,S){return S===void 0&&(S=this.currentShader),S.set4i(v,y,C,b,T),this},setMatrix2fv:function(v,y,C,b){return b===void 0&&(b=this.currentShader),b.setMatrix2fv(v,y,C),this},setMatrix3fv:function(v,y,C,b){return b===void 0&&(b=this.currentShader),b.setMatrix3fv(v,y,C),this},setMatrix4fv:function(v,y,C,b){return b===void 0&&(b=this.currentShader),b.setMatrix4fv(v,y,C),this},destroy:function(){this.emit(o.DESTROY,this);var v,y=this.shaders;for(v=0;v<y.length;v++)y[v].destroy();var C=this.renderTargets;for(v=0;v<C.length;v++)C[v].destroy();var b=this.renderer;return b.deleteBuffer(this.vertexBuffer),b.off(d.RESIZE,this.resize,this),b.off(d.PRE_RENDER,this.onPreRender,this),b.off(d.RENDER,this.onRender,this),b.off(d.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});r.exports=g},74797:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(95428),p=i(72905),c=i(19715),o=i(83419),u=i(8054),l=i(50792),d=i(92503),f=i(50030),h=i(37867),A=i(29747),g=i(7530),v=i(32302),y=i(97480),C=i(69442),b=i(70554),T=i(88815),S=i(26128),F=i(1482),B=i(82751),N=i(84387),L=i(93567),R=i(57183),I=new o({Extends:l,initialize:function(P){l.call(this);var U=P.config,z={alpha:U.transparent,desynchronized:U.desynchronized,depth:!0,antialias:U.antialiasGL,premultipliedAlpha:U.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:U.failIfMajorPerformanceCaveat,powerPreference:U.powerPreference,preserveDrawingBuffer:U.preserveDrawingBuffer,willReadFrequently:!1};this.config={clearBeforeRender:U.clearBeforeRender,antialias:U.antialias,backgroundColor:U.backgroundColor,contextCreation:z,roundPixels:U.roundPixels,maxTextures:U.maxTextures,maxTextureSize:U.maxTextureSize,batchSize:U.batchSize,maxLights:U.maxLights,mipmapFilter:U.mipmapFilter},this.game=P,this.type=u.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=P.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.textureIndexes,this.glBufferWrappers=[],this.glProgramWrappers=[],this.glTextureWrappers=[],this.glFramebufferWrappers=[],this.glAttribLocationWrappers=[],this.glUniformLocationWrappers=[],this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=A,this.contextRestoredHandler=A,this.previousContextLostHandler=A,this.previousContextRestoredHandler=A,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats,this.compression,this.drawingBufferHeight=0,this.blankTexture=null,this.normalTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(M){var P,U=this.game,z=this.canvas,W=M.backgroundColor;if(U.config.context?P=U.config.context:P=z.getContext("webgl",M.contextCreation)||z.getContext("experimental-webgl",M.contextCreation),!P||P.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=P,this.setExtensions(),this.setContextHandlers(),U.context=P;for(var Z=0;Z<=27;Z++)this.blendModes.push({func:[P.ONE,P.ONE_MINUS_SRC_ALPHA],equation:P.FUNC_ADD});this.blendModes[1].func=[P.ONE,P.DST_ALPHA],this.blendModes[2].func=[P.DST_COLOR,P.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[P.ONE,P.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[P.ZERO,P.ONE_MINUS_SRC_ALPHA],equation:P.FUNC_REVERSE_SUBTRACT},this.glFormats=[P.BYTE,P.SHORT,P.UNSIGNED_BYTE,P.UNSIGNED_SHORT,P.FLOAT],this.glFuncMap={mat2:{func:P.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:P.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:P.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:P.uniform1f,length:1},"1fv":{func:P.uniform1fv,length:1},"1i":{func:P.uniform1i,length:1},"1iv":{func:P.uniform1iv,length:1},"2f":{func:P.uniform2f,length:2},"2fv":{func:P.uniform2fv,length:1},"2i":{func:P.uniform2i,length:2},"2iv":{func:P.uniform2iv,length:1},"3f":{func:P.uniform3f,length:3},"3fv":{func:P.uniform3fv,length:1},"3i":{func:P.uniform3i,length:3},"3iv":{func:P.uniform3iv,length:1},"4f":{func:P.uniform4f,length:4},"4fv":{func:P.uniform4fv,length:1},"4i":{func:P.uniform4i,length:4},"4iv":{func:P.uniform4iv,length:1}},(!M.maxTextures||M.maxTextures===-1)&&(M.maxTextures=P.getParameter(P.MAX_TEXTURE_IMAGE_UNITS)),M.maxTextureSize||(M.maxTextureSize=P.getParameter(P.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),P.disable(P.DEPTH_TEST),P.disable(P.CULL_FACE),P.enable(P.BLEND),P.clearColor(W.redGL,W.greenGL,W.blueGL,W.alphaGL),P.clear(P.COLOR_BUFFER_BIT);var j=["NEAREST","LINEAR","NEAREST_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR"];return j.indexOf(M.mipmapFilter)!==-1&&(this.mipmapFilter=P[M.mipmapFilter]),this.maxTextures=b.checkShaderMax(P,M.maxTextures),this.textureIndexes=[],this.createTemporaryTextures(),this.pipelines=new g(this),this.setBlendMode(u.BlendModes.NORMAL),this.projectionMatrix=new h().identity(),U.textures.once(C.READY,this.boot,this),this},boot:function(){var M=this.game,P=this.pipelines,U=M.scale.baseSize,z=U.width,W=U.height;this.width=z,this.height=W,this.isBooted=!0,this.renderTarget=new v(this,z,W,1,0,!0,!0),this.maskTarget=new v(this,z,W,1,0,!0,!0),this.maskSource=new v(this,z,W,1,0,!0,!0);var Z=M.config;P.boot(Z.pipeline,Z.defaultPipeline,Z.autoMobilePipeline),this.blankTexture=M.textures.getFrame("__DEFAULT").glTexture,this.normalTexture=M.textures.getFrame("__NORMAL").glTexture,this.whiteTexture=M.textures.getFrame("__WHITE").glTexture;var j=this.gl;j.bindFramebuffer(j.FRAMEBUFFER,null),j.enable(j.SCISSOR_TEST),M.scale.on(y.RESIZE,this.onResize,this),this.resize(z,W)},setExtensions:function(){var M=this.gl,P=M.getSupportedExtensions();this.supportedExtensions=P;var U="ANGLE_instanced_arrays";this.instancedArraysExtension=P.indexOf(U)>-1?M.getExtension(U):null;var z="OES_vertex_array_object";this.vaoExtension=P.indexOf(z)>-1?M.getExtension(z):null},setContextHandlers:function(M,P){this.previousContextLostHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextLostHandler,!1),this.previousContextRestoredHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextRestoredHandler,!1),typeof M=="function"?this.contextLostHandler=M.bind(this):this.contextLostHandler=this.dispatchContextLost.bind(this),typeof P=="function"?this.contextRestoredHandler=P.bind(this):this.contextRestoredHandler=this.dispatchContextRestored.bind(this),this.canvas.addEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),this.previousContextLostHandler=this.contextLostHandler,this.previousContextRestoredHandler=this.contextRestoredHandler},dispatchContextLost:function(M){this.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),this.emit(d.LOSE_WEBGL,this),M.preventDefault()},dispatchContextRestored:function(M){var P=this.gl;if(P.isContextLost()){console&&console.log("WebGL Context restored, but context is still lost");return}this.currentProgram=null,this.currentFramebuffer=null,this.setBlendMode(u.BlendModes.NORMAL),P.disable(P.BLEND),P.disable(P.DEPTH_TEST),P.enable(P.CULL_FACE),this.compression=this.getCompressedTextures();var U=function(z){z.createResource()};a(this.glTextureWrappers,U),a(this.glBufferWrappers,U),a(this.glFramebufferWrappers,U),a(this.glProgramWrappers,U),a(this.glAttribLocationWrappers,U),a(this.glUniformLocationWrappers,U),this.createTemporaryTextures(),this.pipelines.restoreContext(),this.resize(this.game.scale.baseSize.width,this.game.scale.baseSize.height),this.setExtensions(),this.contextLost=!1,console&&console.warn("WebGL Context restored. Renderer running again."),this.emit(d.RESTORE_WEBGL,this),M.preventDefault()},createTemporaryTextures:function(){for(var M=this.gl,P=0;P<this.maxTextures;P++){var U=M.createTexture();M.activeTexture(M.TEXTURE0+P),M.bindTexture(M.TEXTURE_2D,U),M.texImage2D(M.TEXTURE_2D,0,M.RGBA,1,1,0,M.RGBA,M.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(P)}},captureFrame:function(M,P){},captureNextFrame:function(){},getFps:function(){},log:function(){},startCapture:function(M,P,U){},stopCapture:function(){},onCapture:function(M){},onResize:function(M,P){(P.width!==this.width||P.height!==this.height)&&this.resize(P.width,P.height)},beginCapture:function(M,P){M===void 0&&(M=this.width),P===void 0&&(P=this.height),this.renderTarget.bind(!0,M,P),this.setProjectionMatrix(M,P)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(M,P){var U=this.gl;return this.width=M,this.height=P,this.setProjectionMatrix(M,P),U.viewport(0,0,M,P),this.drawingBufferHeight=U.drawingBufferHeight,U.scissor(0,U.drawingBufferHeight-P,M,P),this.defaultScissor[2]=M,this.defaultScissor[3]=P,this.emit(d.RESIZE,M,P),this},getCompressedTextures:function(){var M="WEBGL_compressed_texture_",P="WEBKIT_"+M,U="EXT_texture_compression_",z=function(Z,j){var H=Z.getExtension(M+j)||Z.getExtension(P+j)||Z.getExtension(U+j);if(H){var V={};for(var k in H)V[H[k]]=k;return V}},W=this.gl;return{ETC:z(W,"etc"),ETC1:z(W,"etc1"),ATC:z(W,"atc"),ASTC:z(W,"astc"),BPTC:z(W,"bptc"),RGTC:z(W,"rgtc"),PVRTC:z(W,"pvrtc"),S3TC:z(W,"s3tc"),S3TCSRGB:z(W,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(M,P){var U=this.compression[M.toUpperCase()];if(P in U)return U[P]},supportsCompressedTexture:function(M,P){var U=this.compression[M.toUpperCase()];return U?P?P in U:!0:!1},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(M,P){return(M!==this.projectionWidth||P!==this.projectionHeight)&&(this.projectionWidth=M,this.projectionHeight=P,this.projectionMatrix.ortho(0,M,P,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(M){return this.supportedExtensions?this.supportedExtensions.indexOf(M):!1},getExtension:function(M){return this.hasExtension(M)?(M in this.extensions||(this.extensions[M]=this.gl.getExtension(M)),this.extensions[M]):null},flush:function(){this.pipelines.flush()},pushScissor:function(M,P,U,z,W){W===void 0&&(W=this.drawingBufferHeight);var Z=this.scissorStack,j=[M,P,U,z];return Z.push(j),this.setScissor(M,P,U,z,W),this.currentScissor=j,j},setScissor:function(M,P,U,z,W){W===void 0&&(W=this.drawingBufferHeight);var Z=this.gl,j=this.currentScissor,H=U>0&&z>0;if(j&&H){var V=j[0],k=j[1],X=j[2],Q=j[3];H=V!==M||k!==P||X!==U||Q!==z}H&&(this.flush(),Z.scissor(M,W-P-z,U,z))},resetScissor:function(){var M=this.gl;M.enable(M.SCISSOR_TEST);var P=this.currentScissor;if(P){var U=P[0],z=P[1],W=P[2],Z=P[3];W>0&&Z>0&&M.scissor(U,this.drawingBufferHeight-z-Z,W,Z)}},popScissor:function(){var M=this.scissorStack;M.pop();var P=M[M.length-1];P&&this.setScissor(P[0],P[1],P[2],P[3]),this.currentScissor=P},hasActiveStencilMask:function(){var M=this.currentMask.mask,P=this.currentCameraMask.mask;return M&&M.isStencil||P&&P.isStencil},resetViewport:function(){var M=this.gl;M.viewport(0,0,this.width,this.height),this.drawingBufferHeight=M.drawingBufferHeight},setBlendMode:function(M,P){P===void 0&&(P=!1);var U=this.gl,z=this.blendModes[M];return P||M!==u.BlendModes.SKIP_CHECK&&this.currentBlendMode!==M?(this.flush(),U.enable(U.BLEND),U.blendEquation(z.equation),z.func.length>2?U.blendFuncSeparate(z.func[0],z.func[1],z.func[2],z.func[3]):U.blendFunc(z.func[0],z.func[1]),this.currentBlendMode=M,!0):!1},addBlendMode:function(M,P){var U=this.blendModes.push({func:M,equation:P});return U-1},updateBlendMode:function(M,P,U){return this.blendModes[M]&&(this.blendModes[M].func=P,U&&(this.blendModes[M].equation=U)),this},removeBlendMode:function(M){return M>17&&this.blendModes[M]&&this.blendModes.splice(M,1),this},pushFramebuffer:function(M,P,U,z,W){return M===this.currentFramebuffer?this:(this.fboStack.push(M),this.setFramebuffer(M,P,U,z,W))},setFramebuffer:function(M,P,U,z,W){if(P===void 0&&(P=!1),U===void 0&&(U=!0),z===void 0&&(z=null),W===void 0&&(W=!1),M===this.currentFramebuffer)return this;var Z=this.gl,j=this.width,H=this.height;return M&&M.renderTexture&&U?(j=M.renderTexture.width,H=M.renderTexture.height):this.flush(),M?Z.bindFramebuffer(Z.FRAMEBUFFER,M.webGLFramebuffer):Z.bindFramebuffer(Z.FRAMEBUFFER,null),U&&Z.viewport(0,0,j,H),z&&Z.framebufferTexture2D(Z.FRAMEBUFFER,Z.COLOR_ATTACHMENT0,Z.TEXTURE_2D,z.webGLTexture,0),W&&(Z.clearColor(0,0,0,0),Z.clear(Z.COLOR_BUFFER_BIT)),P&&(M?(this.drawingBufferHeight=H,this.pushScissor(0,0,j,H)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=M,this},popFramebuffer:function(M,P){M===void 0&&(M=!1),P===void 0&&(P=!0);var U=this.fboStack;U.pop();var z=U[U.length-1];return z||(z=null),this.setFramebuffer(z,M,P),z},restoreFramebuffer:function(M,P){M===void 0&&(M=!1),P===void 0&&(P=!0);var U=this.fboStack,z=U[U.length-1];z||(z=null),this.currentFramebuffer=null,this.setFramebuffer(z,M,P)},setProgram:function(M){return M!==this.currentProgram?(this.flush(),this.gl.useProgram(M.webGLProgram),this.currentProgram=M,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram.webGLProgramWrapper),this},createTextureFromSource:function(M,P,U,z,W){W===void 0&&(W=!1);var Z=this.gl,j=Z.NEAREST,H=Z.NEAREST,V=Z.CLAMP_TO_EDGE,k=null;P=M?M.width:P,U=M?M.height:U;var X=f(P,U);if(X&&!W&&(V=Z.REPEAT),z===u.ScaleModes.LINEAR&&this.config.antialias){var Q=M&&M.compressed,J=!Q&&X||Q&&M.mipmaps.length>1;j=this.mipmapFilter&&J?this.mipmapFilter:Z.LINEAR,H=Z.LINEAR}return!M&&typeof P=="number"&&typeof U=="number"?k=this.createTexture2D(0,j,H,V,V,Z.RGBA,null,P,U):k=this.createTexture2D(0,j,H,V,V,Z.RGBA,M),k},createTexture2D:function(M,P,U,z,W,Z,j,H,V,k,X,Q){typeof H!="number"&&(H=j?j.width:1),typeof V!="number"&&(V=j?j.height:1);var J=new B(this.gl,M,P,U,z,W,Z,j,H,V,k,X,Q);return this.glTextureWrappers.push(J),J},createFramebuffer:function(M,P,U,z){this.currentFramebuffer=null;var W=new N(this.gl,M,P,U,z);return this.glFramebufferWrappers.push(W),W},beginBitmapMask:function(M,P){var U=this.gl;U&&(this.flush(),this.maskTarget.bind(!0),this.currentCameraMask.mask!==M&&(this.currentMask.mask=M,this.currentMask.camera=P))},drawBitmapMask:function(M,P,U){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),M.renderWebGL(this,M,P),this.maskSource.unbind(!0),this.maskTarget.unbind();var z=this.gl,W=this.getCurrentStencilMask();W?(z.enable(z.STENCIL_TEST),W.mask.applyStencil(this,W.camera,!0)):this.currentMask.mask=null,this.pipelines.set(U),z.activeTexture(z.TEXTURE0),z.bindTexture(z.TEXTURE_2D,this.maskTarget.texture.webGLTexture),z.activeTexture(z.TEXTURE1),z.bindTexture(z.TEXTURE_2D,this.maskSource.texture.webGLTexture)},createProgram:function(M,P){var U=new F(this.gl,M,P);return this.glProgramWrappers.push(U),U},createVertexBuffer:function(M,P){var U=this.gl,z=new S(U,M,U.ARRAY_BUFFER,P);return this.glBufferWrappers.push(z),z},createAttribLocation:function(M,P){var U=new L(this.gl,M,P);return this.glAttribLocationWrappers.push(U),U},createUniformLocation:function(M,P){var U=new R(this.gl,M,P);return this.glUniformLocationWrappers.push(U),U},createIndexBuffer:function(M,P){var U=this.gl,z=new S(U,M,U.ELEMENT_ARRAY_BUFFER,P);return this.glBufferWrappers.push(z),z},deleteTexture:function(M){if(M)return p(this.glTextureWrappers,M),M.destroy(),this},deleteFramebuffer:function(M){return M?(p(this.fboStack,M),p(this.glFramebufferWrappers,M),M.destroy(),this):this},deleteProgram:function(M){return M&&(p(this.glProgramWrappers,M),M.destroy()),this},deleteAttribLocation:function(M){return M&&(p(this.glAttribLocationWrappers,M),M.destroy()),this},deleteUniformLocation:function(M){return M&&(p(this.glUniformLocationWrappers,M),M.destroy()),this},deleteBuffer:function(M){return M?(p(this.glBufferWrappers,M),M.destroy(),this):this},preRenderCamera:function(M){var P=M.x,U=M.y,z=M.width,W=M.height,Z=M.backgroundColor;if(M.emit(c.PRE_RENDER,M),this.pipelines.preBatchCamera(M),this.pushScissor(P,U,z,W),M.mask&&(this.currentCameraMask.mask=M.mask,this.currentCameraMask.camera=M._maskCamera,M.mask.preRenderWebGL(this,M,M._maskCamera)),Z.alphaGL>0){var j=this.pipelines.setMulti();j.drawFillRect(P,U,z,W,b.getTintFromFloats(Z.blueGL,Z.greenGL,Z.redGL,1),Z.alphaGL)}},getCurrentStencilMask:function(){var M=null,P=this.maskStack,U=this.currentCameraMask;return P.length>0?M=P[P.length-1]:U.mask&&U.mask.isStencil&&(M=U),M},postRenderCamera:function(M){var P=M.flashEffect,U=M.fadeEffect;if(P.isRunning||U.isRunning||U.isComplete){var z=this.pipelines.setMulti();P.postRenderWebGL(z,b.getTintFromFloats),U.postRenderWebGL(z,b.getTintFromFloats)}M.dirty=!1,this.popScissor(),M.mask&&(this.currentCameraMask.mask=null,M.mask.postRenderWebGL(this,M._maskCamera)),this.pipelines.postBatchCamera(M),M.emit(c.POST_RENDER,M)},preRender:function(){if(!this.contextLost){var M=this.gl;if(M.bindFramebuffer(M.FRAMEBUFFER,null),this.emit(d.PRE_RENDER_CLEAR),this.config.clearBeforeRender){var P=this.config.backgroundColor;M.clearColor(P.redGL,P.greenGL,P.blueGL,P.alphaGL),M.clear(M.COLOR_BUFFER_BIT|M.DEPTH_BUFFER_BIT|M.STENCIL_BUFFER_BIT)}M.enable(M.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&M.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(d.PRE_RENDER)}},render:function(M,P,U){if(!this.contextLost){var z=P.length;if(this.emit(d.RENDER,M,U),this.preRenderCamera(U),z===0){this.setBlendMode(u.BlendModes.NORMAL),this.postRenderCamera(U);return}this.currentType="";for(var W=this.currentMask,Z=0;Z<z;Z++){this.finalType=Z===z-1;var j=P[Z],H=j.mask;W=this.currentMask,W.mask&&W.mask!==H&&W.mask.postRenderWebGL(this,W.camera),H&&W.mask!==H&&H.preRenderWebGL(this,j,U),j.blendMode!==this.currentBlendMode&&this.setBlendMode(j.blendMode);var V=j.type;V!==this.currentType&&(this.newType=!0,this.currentType=V),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=P[Z+1].type===this.currentType,j.renderWebGL(this,j,U),this.newType=!1}W=this.currentMask,W.mask&&W.mask.postRenderWebGL(this,W.camera),this.setBlendMode(u.BlendModes.NORMAL),this.postRenderCamera(U)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(d.POST_RENDER);var M=this.snapshotState;M.callback&&(T(this.gl,M),M.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var M=this.gl,P=this.getCurrentStencilMask();if(P){var U=P.mask;M.enable(M.STENCIL_TEST),U.invertAlpha?M.stencilFunc(M.NOTEQUAL,U.level,255):M.stencilFunc(M.EQUAL,U.level,255)}},snapshot:function(M,P,U){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,M,P,U)},snapshotArea:function(M,P,U,z,W,Z,j){var H=this.snapshotState;return H.callback=W,H.type=Z,H.encoder=j,H.getPixel=!1,H.x=M,H.y=P,H.width=U,H.height=z,this},snapshotPixel:function(M,P,U){return this.snapshotArea(M,P,1,1,U),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(M,P,U,z,W,Z,j,H,V,k,X){W===void 0&&(W=!1),Z===void 0&&(Z=0),j===void 0&&(j=0),H===void 0&&(H=P),V===void 0&&(V=U),k==="pixel"&&(W=!0,k="image/png");var Q=this.currentFramebuffer;this.snapshotArea(Z,j,H,V,z,k,X);var J=this.snapshotState;return J.getPixel=W,J.isFramebuffer=!0,J.bufferWidth=P,J.bufferHeight=U,J.width=Math.min(J.width,P),J.height=Math.min(J.height,U),this.setFramebuffer(M),T(this.gl,J),this.setFramebuffer(Q),J.callback=null,J.isFramebuffer=!1,this},canvasToTexture:function(M,P,U,z){U===void 0&&(U=!1),z===void 0&&(z=!1);var W=this.gl,Z=W.NEAREST,j=W.NEAREST,H=M.width,V=M.height,k=W.CLAMP_TO_EDGE,X=f(H,V);return!U&&X&&(k=W.REPEAT),this.config.antialias&&(Z=X&&this.mipmapFilter?this.mipmapFilter:W.LINEAR,j=W.LINEAR),P?(P.update(M,H,V,z,k,k,Z,j,P.format),P):this.createTexture2D(0,Z,j,k,k,W.RGBA,M,H,V,!0,!1,z)},createCanvasTexture:function(M,P,U){return P===void 0&&(P=!1),U===void 0&&(U=!1),this.canvasToTexture(M,null,P,U)},updateCanvasTexture:function(M,P,U,z){return U===void 0&&(U=!1),z===void 0&&(z=!1),this.canvasToTexture(M,P,z,U)},videoToTexture:function(M,P,U,z){U===void 0&&(U=!1),z===void 0&&(z=!1);var W=this.gl,Z=W.NEAREST,j=W.NEAREST,H=M.videoWidth,V=M.videoHeight,k=W.CLAMP_TO_EDGE,X=f(H,V);return!U&&X&&(k=W.REPEAT),this.config.antialias&&(Z=X&&this.mipmapFilter?this.mipmapFilter:W.LINEAR,j=W.LINEAR),P?(P.update(M,H,V,z,k,k,Z,j,P.format),P):this.createTexture2D(0,Z,j,k,k,W.RGBA,M,H,V,!0,!0,z)},createVideoTexture:function(M,P,U){return P===void 0&&(P=!1),U===void 0&&(U=!1),this.videoToTexture(M,null,P,U)},updateVideoTexture:function(M,P,U,z){return U===void 0&&(U=!1),z===void 0&&(z=!1),this.videoToTexture(M,P,z,U)},createUint8ArrayTexture:function(M,P,U){var z=this.gl,W=z.NEAREST,Z=z.NEAREST,j=z.CLAMP_TO_EDGE,H=f(P,U);return H&&(j=z.REPEAT),this.createTexture2D(0,W,Z,j,j,z.RGBA,M,P,U)},setTextureFilter:function(M,P){var U=this.gl,z=P===0?U.LINEAR:U.NEAREST;U.activeTexture(U.TEXTURE0);var W=U.getParameter(U.TEXTURE_BINDING_2D);return U.bindTexture(U.TEXTURE_2D,M.webGLTexture),U.texParameteri(U.TEXTURE_2D,U.TEXTURE_MIN_FILTER,z),U.texParameteri(U.TEXTURE_2D,U.TEXTURE_MAG_FILTER,z),M.minFilter=z,M.magFilter=z,W&&U.bindTexture(U.TEXTURE_2D,W),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);var M=function(P){P.destroy()};a(this.glAttribLocationWrappers,M),a(this.glBufferWrappers,M),a(this.glFramebufferWrappers,M),a(this.glProgramWrappers,M),a(this.glTextureWrappers,M),a(this.glUniformLocationWrappers,M),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});r.exports=I},38683:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(95428),c=i(95540),o=i(14500),u=new a({initialize:function(d,f,h,A,g){this.pipeline=d,this.name=f,this.renderer=d.renderer,this.gl=this.renderer.gl,this.fragSrc=A,this.vertSrc=h,this.program=this.renderer.createProgram(h,A),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(g),this.createUniforms()},createAttributes:function(l){var d=0,f=0,h=[];this.vertexComponentCount=0;for(var A=0;A<l.length;A++){var g=l[A],v=g.name,y=c(g,"size",1),C=c(g,"type",o.FLOAT),b=C.enum,T=C.size,S=!!g.normalized;h.push({name:v,size:y,type:b,normalized:S,offset:f,enabled:!1,location:-1}),T===4?d+=y:d++,f+=y*T}this.vertexSize=f,this.vertexComponentCount=d,this.attributes=h},bind:function(l,d){return l===void 0&&(l=!1),d===void 0&&(d=!1),d&&this.pipeline.flush(),this.renderer.setProgram(this.program),l&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(l){l===void 0&&(l=!1);for(var d=this.gl,f=this.renderer,h=this.vertexSize,A=this.attributes,g=this.program,v=0;v<A.length;v++){var y=A[v],C=y.size,b=y.type,T=y.offset,S=y.enabled,F=y.location,B=!!y.normalized;if(l){F!==-1&&f.deleteAttribLocation(F);var N=this.renderer.createAttribLocation(g,y.name);N.webGLAttribLocation>=0?(d.enableVertexAttribArray(N.webGLAttribLocation),d.vertexAttribPointer(N.webGLAttribLocation,C,b,B,h,T),y.enabled=!0,y.location=N):N.webGLAttribLocation!==-1&&d.disableVertexAttribArray(N.webGLAttribLocation)}else S?d.vertexAttribPointer(F.webGLAttribLocation,C,b,B,h,T):!S&&F!==-1&&F.webGLAttribLocation>-1&&(d.disableVertexAttribArray(F.webGLAttribLocation),y.location=-1)}return this},createUniforms:function(){var l=this.gl,d=this.program,f=this.uniforms,h,A,g,v=l.getProgramParameter(d.webGLProgram,l.ACTIVE_UNIFORMS);for(h=0;h<v;h++){var y=l.getActiveUniform(d.webGLProgram,h);if(y){A=y.name,g=this.renderer.createUniformLocation(d,A),g!==null&&(f[A]={name:A,location:g,setter:null,value1:null,value2:null,value3:null,value4:null});var C=A.indexOf("[");C>0&&(A=A.substr(0,C),f.hasOwnProperty(A)||(g=this.renderer.createUniformLocation(d,A),g!==null&&(f[A]={name:A,location:g,setter:null,value1:null,value2:null,value3:null,value4:null})))}}return this},syncUniforms:function(){var l=this.gl;this.renderer.setProgram(this.program);for(var d in this.uniforms){var f=this.uniforms[d];f.setter&&f.setter.call(l,f.location.webGLUniformLocation,f.value1,f.value2,f.value3,f.value4)}},hasUniform:function(l){return this.uniforms.hasOwnProperty(l)},resetUniform:function(l){var d=this.uniforms[l];return d&&(d.value1=null,d.value2=null,d.value3=null,d.value4=null),this},setUniform1:function(l,d,f,h){var A=this.uniforms[d];return A?((h||A.value1!==f)&&(A.setter||(A.setter=l),A.value1=f,this.renderer.setProgram(this.program),l.call(this.gl,A.location.webGLUniformLocation,f),this.pipeline.currentShader=this),this):this},setUniform2:function(l,d,f,h,A){var g=this.uniforms[d];return g?((A||g.value1!==f||g.value2!==h)&&(g.setter||(g.setter=l),g.value1=f,g.value2=h,this.renderer.setProgram(this.program),l.call(this.gl,g.location.webGLUniformLocation,f,h),this.pipeline.currentShader=this),this):this},setUniform3:function(l,d,f,h,A,g){var v=this.uniforms[d];return v?((g||v.value1!==f||v.value2!==h||v.value3!==A)&&(v.setter||(v.setter=l),v.value1=f,v.value2=h,v.value3=A,this.renderer.setProgram(this.program),l.call(this.gl,v.location.webGLUniformLocation,f,h,A),this.pipeline.currentShader=this),this):this},setUniform4:function(l,d,f,h,A,g,v){var y=this.uniforms[d];return y?((v||y.value1!==f||y.value2!==h||y.value3!==A||y.value4!==g)&&(y.setter||(y.setter=l),y.value1=f,y.value2=h,y.value3=A,y.value4=g,this.renderer.setProgram(this.program),l.call(this.gl,y.location.webGLUniformLocation,f,h,A,g),this.pipeline.currentShader=this),this):this},setBoolean:function(l,d){return this.setUniform1(this.gl.uniform1i,l,Number(d))},set1f:function(l,d){return this.setUniform1(this.gl.uniform1f,l,d)},set2f:function(l,d,f){return this.setUniform2(this.gl.uniform2f,l,d,f)},set3f:function(l,d,f,h){return this.setUniform3(this.gl.uniform3f,l,d,f,h)},set4f:function(l,d,f,h,A){return this.setUniform4(this.gl.uniform4f,l,d,f,h,A)},set1fv:function(l,d){return this.setUniform1(this.gl.uniform1fv,l,d,!0)},set2fv:function(l,d){return this.setUniform1(this.gl.uniform2fv,l,d,!0)},set3fv:function(l,d){return this.setUniform1(this.gl.uniform3fv,l,d,!0)},set4fv:function(l,d){return this.setUniform1(this.gl.uniform4fv,l,d,!0)},set1iv:function(l,d){return this.setUniform1(this.gl.uniform1iv,l,d,!0)},set2iv:function(l,d){return this.setUniform1(this.gl.uniform2iv,l,d,!0)},set3iv:function(l,d){return this.setUniform1(this.gl.uniform3iv,l,d,!0)},set4iv:function(l,d){return this.setUniform1(this.gl.uniform4iv,l,d,!0)},set1i:function(l,d){return this.setUniform1(this.gl.uniform1i,l,d)},set2i:function(l,d,f){return this.setUniform2(this.gl.uniform2i,l,d,f)},set3i:function(l,d,f,h){return this.setUniform3(this.gl.uniform3i,l,d,f,h)},set4i:function(l,d,f,h,A){return this.setUniform4(this.gl.uniform4i,l,d,f,h,A)},setMatrix2fv:function(l,d,f){return this.setUniform2(this.gl.uniformMatrix2fv,l,d,f,!0)},setMatrix3fv:function(l,d,f){return this.setUniform2(this.gl.uniformMatrix3fv,l,d,f,!0)},setMatrix4fv:function(l,d,f){return this.setUniform2(this.gl.uniformMatrix4fv,l,d,f,!0)},createProgram:function(l,d){return l===void 0&&(l=this.vertSrc),d===void 0&&(d=this.fragSrc),this.program&&this.renderer.deleteProgram(this.program),this.vertSrc=l,this.fragSrc=d,this.program=this.renderer.createProgram(l,d),this.createUniforms(),this.rebind()},destroy:function(){var l=this.renderer;p(this.uniforms,function(d){l.deleteUniformLocation(d.location)}),this.uniforms=null,p(this.attributes,function(d){l.deleteAttribLocation(d.location)}),this.attributes=null,l.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null}});r.exports=u},14500:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};r.exports=x},4159:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(14500),p=i(79291),c={PipelineManager:i(7530),Pipelines:i(96615),RenderTarget:i(32302),Utils:i(70554),WebGLPipeline:i(29100),WebGLRenderer:i(74797),WebGLShader:i(38683),Wrappers:i(9503)};c=p(!1,c,a),r.exports=c},31302:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(95540),c=i(78908),o=i(85191),u=i(14500),l=i(29100),d=new a({Extends:l,initialize:function(h){h.fragShader=p(h,"fragShader",c),h.vertShader=p(h,"vertShader",o),h.batchSize=p(h,"batchSize",1),h.vertices=p(h,"vertices",[-1,1,-1,-7,7,1]),h.attributes=p(h,"attributes",[{name:"inPosition",size:2,type:u.FLOAT}]),l.call(this,h)},boot:function(){l.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(f,h){l.prototype.resize.call(this,f,h),this.set2f("uResolution",f,h)},beginMask:function(f,h,A){this.renderer.beginBitmapMask(f,A)},endMask:function(f,h,A){var g=this.gl,v=this.renderer,y=f.bitmapMask;y&&g&&(v.drawBitmapMask(y,h,this),A&&this.set2f("uResolution",A.width,A.height),this.set1i("uInvertMaskAlpha",f.invertAlpha),g.drawArrays(this.topology,0,3),A&&this.set2f("uResolution",this.width,this.height),g.bindTexture(g.TEXTURE_2D,null))}});r.exports=d},92651:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(58918),c=i(14811),o=i(95540),u=i(43558),l=i(89350),d=i(70554),f=new a({Extends:u,initialize:function(A){A.shaders=[d.setGlowQuality(l.FXGlowFrag,A.game),l.FXShadowFrag,l.FXPixelateFrag,l.FXVignetteFrag,l.FXShineFrag,l.FXBlurLowFrag,l.FXBlurMedFrag,l.FXBlurHighFrag,l.FXGradientFrag,l.FXBloomFrag,l.ColorMatrixFrag,l.FXCircleFrag,l.FXBarrelFrag,l.FXDisplacementFrag,l.FXWipeFrag,l.FXBokehFrag],u.call(this,A);var g=this.game;this.glow=new p.Glow(g),this.shadow=new p.Shadow(g),this.pixelate=new p.Pixelate(g),this.vignette=new p.Vignette(g),this.shine=new p.Shine(g),this.gradient=new p.Gradient(g),this.circle=new p.Circle(g),this.barrel=new p.Barrel(g),this.wipe=new p.Wipe(g),this.bokeh=new p.Bokeh(g);var v=[];v[c.GLOW]=this.onGlow,v[c.SHADOW]=this.onShadow,v[c.PIXELATE]=this.onPixelate,v[c.VIGNETTE]=this.onVignette,v[c.SHINE]=this.onShine,v[c.BLUR]=this.onBlur,v[c.GRADIENT]=this.onGradient,v[c.BLOOM]=this.onBloom,v[c.COLOR_MATRIX]=this.onColorMatrix,v[c.CIRCLE]=this.onCircle,v[c.BARREL]=this.onBarrel,v[c.DISPLACEMENT]=this.onDisplacement,v[c.WIPE]=this.onWipe,v[c.BOKEH]=this.onBokeh,this.fxHandlers=v,this.source,this.target,this.swap},onDraw:function(h,A,g){this.source=h,this.target=A,this.swap=g;var v=h.width,y=h.height,C=this.tempSprite,b=this.fxHandlers;if(C&&C.preFX)for(var T=C.preFX.list,S=0;S<T.length;S++){var F=T[S];F.active&&b[F.type].call(this,F,v,y)}this.drawToGame(this.source)},runDraw:function(){var h=this.source,A=this.target;this.copy(h,A),this.source=A,this.target=h},onGlow:function(h,A,g){var v=this.shaders[c.GLOW];this.setShader(v),this.glow.onPreRender(h,v,A,g),this.runDraw()},onShadow:function(h){var A=this.shaders[c.SHADOW];this.setShader(A),this.shadow.onPreRender(h,A),this.runDraw()},onPixelate:function(h,A,g){var v=this.shaders[c.PIXELATE];this.setShader(v),this.pixelate.onPreRender(h,v,A,g),this.runDraw()},onVignette:function(h){var A=this.shaders[c.VIGNETTE];this.setShader(A),this.vignette.onPreRender(h,A),this.runDraw()},onShine:function(h,A,g){var v=this.shaders[c.SHINE];this.setShader(v),this.shine.onPreRender(h,v,A,g),this.runDraw()},onBlur:function(h,A,g){var v=o(h,"quality"),y=this.shaders[c.BLUR+v];this.setShader(y),this.set1i("uMainSampler",0),this.set2f("resolution",A,g),this.set1f("strength",o(h,"strength")),this.set3fv("color",o(h,"glcolor"));for(var C=o(h,"x"),b=o(h,"y"),T=o(h,"steps"),S=0;S<T;S++)this.set2f("offset",C,0),this.runDraw(),this.set2f("offset",0,b),this.runDraw()},onGradient:function(h){var A=this.shaders[c.GRADIENT];this.setShader(A),this.gradient.onPreRender(h,A),this.runDraw()},onBloom:function(h,A,g){var v=this.shaders[c.BLOOM];this.copySprite(this.source,this.swap),this.setShader(v),this.set1i("uMainSampler",0),this.set1f("strength",o(h,"blurStrength")),this.set3fv("color",o(h,"glcolor"));for(var y=2/A*o(h,"offsetX"),C=2/g*o(h,"offsetY"),b=o(h,"steps"),T=0;T<b;T++)this.set2f("offset",y,0),this.runDraw(),this.set2f("offset",0,C),this.runDraw();this.blendFrames(this.swap,this.source,this.target,o(h,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(h){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",h.getData()),this.set1f("uAlpha",h.alpha),this.runDraw()},onCircle:function(h,A,g){var v=this.shaders[c.CIRCLE];this.setShader(v),this.circle.onPreRender(h,v,A,g),this.runDraw()},onBarrel:function(h){var A=this.shaders[c.BARREL];this.setShader(A),this.barrel.onPreRender(h,A),this.runDraw()},onDisplacement:function(h){this.setShader(this.shaders[c.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",h.x,h.y),this.bindTexture(h.glTexture,1),this.runDraw()},onWipe:function(h){var A=this.shaders[c.WIPE];this.setShader(A),this.wipe.onPreRender(h,A),this.runDraw()},onBokeh:function(h,A,g){var v=this.shaders[c.BOKEH];this.setShader(v),this.bokeh.onPreRender(h,v,A,g),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,u.prototype.destroy.call(this),this}});r.exports=f},96569:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(95540),c=i(31063),o=i(57516),u=i(61340),l=i(26099),d=i(29100),f=new a({Extends:o,initialize:function(A){var g=p(A,"fragShader",c);A.fragShader=g.replace("%LIGHT_COUNT%",A.game.renderer.config.maxLights),o.call(this,A),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.currentNormalMap,this.lightsActive=!0,this.tempVec2=new l,this._tempMatrix=new u,this._tempMatrix2=new u},boot:function(){d.prototype.boot.call(this)},onRender:function(h,A){var g=h.sys.lights;if(this.lightsActive=!1,!(!g||!g.active)){var v=g.getLights(A),y=v.length;this.lightsActive=!0;var C,b=this.renderer,T=b.height,S=A.matrix,F=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",A.x,A.y,A.rotation,A.zoom),this.set3f("uAmbientLightColor",g.ambientColor.r,g.ambientColor.g,g.ambientColor.b),this.set1i("uLightCount",y),C=0;C<y;C++){var B=v[C].light,N=B.color,L="uLights["+C+"].";S.transformPoint(B.x,B.y,F),this.set2f(L+"position",F.x-A.scrollX*B.scrollFactorX*A.zoom,T-(F.y-A.scrollY*B.scrollFactorY*A.zoom)),this.set3f(L+"color",N.r,N.g,N.b),this.set1f(L+"intensity",B.intensity),this.set1f(L+"radius",B.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(h){if(h!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var A=this.inverseRotationMatrix;if(h){var g=-h,v=Math.cos(g),y=Math.sin(g);A[1]=y,A[3]=-y,A[0]=A[4]=v}else A[0]=A[4]=1,A[1]=A[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,A),this.currentNormalMapRotation=h}},setTexture2D:function(h,A){var g=this.renderer;h===void 0&&(h=g.whiteTexture);var v=this.getNormalMap(A);this.isNewNormalMap(h,v)&&(this.flush(),this.createBatch(h),this.addTextureToBatch(v),this.currentNormalMap=v);var y=0;if(A&&A.parentContainer){var C=A.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);y=C.rotationNormalized}else A&&(y=A.rotation);return this.currentBatch===null&&(this.createBatch(h),this.addTextureToBatch(v)),this.setNormalMapRotation(y),0},setGameObject:function(h,A){A===void 0&&(A=h.frame);var g=A.glTexture,v=this.getNormalMap(h);if(this.isNewNormalMap(g,v)&&(this.flush(),this.createBatch(g),this.addTextureToBatch(v),this.currentNormalMap=v),h.parentContainer){var y=h.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(y.rotationNormalized)}else this.setNormalMapRotation(h.rotation);return this.currentBatch===null&&(this.createBatch(g),this.addTextureToBatch(v)),0},isNewNormalMap:function(h,A){return this.currentTexture!==h||this.currentNormalMap!==A},getNormalMap:function(h){var A;if(h)h.displayTexture?A=h.displayTexture.dataSource[h.displayFrame.sourceIndex]:h.texture?A=h.texture.dataSource[h.frame.sourceIndex]:h.tileset&&(Array.isArray(h.tileset)?A=h.tileset[0].image.dataSource[0]:A=h.tileset.image.dataSource[0]);else return this.renderer.normalTexture;return A?A.glTexture:this.renderer.normalTexture},batchSprite:function(h,A,g){this.lightsActive&&o.prototype.batchSprite.call(this,h,A,g)},batchTexture:function(h,A,g,v,y,C,b,T,S,F,B,N,L,R,I,M,P,U,z,W,Z,j,H,V,k,X,Q,J,$,_,te,se){this.lightsActive&&o.prototype.batchTexture.call(this,h,A,g,v,y,C,b,T,S,F,B,N,L,R,I,M,P,U,z,W,Z,j,H,V,k,X,Q,J,$,_,te,se)},batchTextureFrame:function(h,A,g,v,y,C,b){this.lightsActive&&o.prototype.batchTextureFrame.call(this,h,A,g,v,y,C,b)}});r.exports=f},56527:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(95540),c=i(57516),o=i(45561),u=i(60722),l=i(14500),d=i(29100),f=new a({Extends:c,initialize:function(A){A.fragShader=p(A,"fragShader",o),A.vertShader=p(A,"vertShader",u),A.attributes=p(A,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:l.UNSIGNED_BYTE,normalized:!0}]),A.forceZero=!0,A.resizeUniform="uResolution",c.call(this,A)},boot:function(){d.prototype.boot.call(this);var h=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",h.width,h.height)}});r.exports=f},57516:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(94811),c=i(95540),o=i(98840),u=i(44667),l=i(61340),d=i(70554),f=i(14500),h=i(29100),A=new a({Extends:h,initialize:function(v){var y=v.game.renderer,C=c(v,"fragShader",o);v.fragShader=d.parseFragmentShaderMaxTextures(C,y.maxTextures),v.vertShader=c(v,"vertShader",u),v.attributes=c(v,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:f.UNSIGNED_BYTE,normalized:!0}]),v.resizeUniform="uResolution",h.call(this,v),this._tempMatrix1=new l,this._tempMatrix2=new l,this._tempMatrix3=new l,this.calcMatrix=new l,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){h.prototype.boot.call(this);var g=this.renderer;this.set1iv("uMainSampler",g.textureIndexes),this.set2f("uResolution",g.width,g.height)},batchSprite:function(g,v,y){this.manager.set(this,g);var C=this._tempMatrix1,b=this._tempMatrix2,T=this._tempMatrix3,S=g.frame,F=S.glTexture,B=S.u0,N=S.v0,L=S.u1,R=S.v1,I=S.x,M=S.y,P=S.cutWidth,U=S.cutHeight,z=S.customPivot,W=g.displayOriginX,Z=g.displayOriginY,j=-W+I,H=-Z+M;if(g.isCropped){var V=g._crop;(V.flipX!==g.flipX||V.flipY!==g.flipY)&&S.updateCropUVs(V,g.flipX,g.flipY),B=V.u0,N=V.v0,L=V.u1,R=V.v1,P=V.width,U=V.height,I=V.x,M=V.y,j=-W+I,H=-Z+M}var k=1,X=1;g.flipX&&(z||(j+=-S.realWidth+W*2),k=-1),g.flipY&&(z||(H+=-S.realHeight+Z*2),X=-1);var Q=g.x,J=g.y;v.roundPixels&&(Q=Math.floor(Q),J=Math.floor(J)),b.applyITRS(Q,J,g.rotation,g.scaleX*k,g.scaleY*X),C.copyFrom(v.matrix),y?(C.multiplyWithOffset(y,-v.scrollX*g.scrollFactorX,-v.scrollY*g.scrollFactorY),b.e=Q,b.f=J):(b.e-=v.scrollX*g.scrollFactorX,b.f-=v.scrollY*g.scrollFactorY),C.multiply(b,T);var $=T.setQuad(j,H,j+P,H+U,v.renderRoundPixels),_=d.getTintAppendFloatAlpha,te=v.alpha,se=_(g.tintTopLeft,te*g._alphaTL),ce=_(g.tintTopRight,te*g._alphaTR),ge=_(g.tintBottomLeft,te*g._alphaBL),ue=_(g.tintBottomRight,te*g._alphaBR);this.shouldFlush(6)&&this.flush();var re=this.setGameObject(g,S);this.manager.preBatch(g),this.batchQuad(g,$[0],$[1],$[2],$[3],$[4],$[5],$[6],$[7],B,N,L,R,se,ce,ge,ue,g.tintFill,F,re),this.manager.postBatch(g)},batchTexture:function(g,v,y,C,b,T,S,F,B,N,L,R,I,M,P,U,z,W,Z,j,H,V,k,X,Q,J,$,_,te,se,ce,ge,ue){ue===void 0&&(ue=!1),this.manager.set(this,g);var re=this._tempMatrix1,Ce=this._tempMatrix2,ye=this._tempMatrix3,Ee=W/y+$,Me=Z/C+_,Be=(W+j)/y+$,ve=(Z+H)/C+_,Re=S,Pe=F,Ge=-U,We=-z;if(g.isCropped){var at=g._crop,qe=at.width,Ye=at.height;Re=qe,Pe=Ye,S=qe,F=Ye,W=at.x,Z=at.y;var tt=W,Ve=Z;R&&(tt=j-at.x-qe),I&&(Ve=H-at.y-Ye),Ee=tt/y+$,Me=Ve/C+_,Be=(tt+qe)/y+$,ve=(Ve+Ye)/C+_,Ge=-U+W,We=-z+Z}I=I^(!ce&&v.isRenderTexture?1:0),R&&(Re*=-1,Ge+=S),I&&(Pe*=-1,We+=F),te.roundPixels&&(b=Math.floor(b),T=Math.floor(T)),Ce.applyITRS(b,T,L,B,N),re.copyFrom(te.matrix),se?(re.multiplyWithOffset(se,-te.scrollX*M,-te.scrollY*P),Ce.e=b,Ce.f=T):(Ce.e-=te.scrollX*M,Ce.f-=te.scrollY*P),re.multiply(Ce,ye);var ct=ye.setQuad(Ge,We,Ge+Re,We+Pe,te.renderRoundPixels);ge==null&&(ge=this.setTexture2D(v)),g&&!ue&&this.manager.preBatch(g),this.batchQuad(g,ct[0],ct[1],ct[2],ct[3],ct[4],ct[5],ct[6],ct[7],Ee,Me,Be,ve,V,k,X,Q,J,v,ge),g&&!ue&&this.manager.postBatch(g)},batchTextureFrame:function(g,v,y,C,b,T,S){this.manager.set(this);var F=this._tempMatrix1.copyFrom(T),B=this._tempMatrix2;S?F.multiply(S,B):B=F;var N=B.setQuad(v,y,v+g.width,y+g.height),L=this.setTexture2D(g.source.glTexture);C=d.getTintAppendFloatAlpha(C,b),this.batchQuad(null,N[0],N[1],N[2],N[3],N[4],N[5],N[6],N[7],g.u0,g.v0,g.u1,g.v1,C,C,C,C,0,g.glTexture,L)},batchFillRect:function(g,v,y,C,b,T){this.renderer.pipelines.set(this);var S=this.calcMatrix;T&&T.multiply(b,S);var F=S.setQuad(g,v,g+y,v+C),B=this.fillTint;this.batchQuad(null,F[0],F[1],F[2],F[3],F[4],F[5],F[6],F[7],0,0,1,1,B.TL,B.TR,B.BL,B.BR,2)},batchFillTriangle:function(g,v,y,C,b,T,S,F){this.renderer.pipelines.set(this);var B=this.calcMatrix;F&&F.multiply(S,B);var N=B.getX(g,v),L=B.getY(g,v),R=B.getX(y,C),I=B.getY(y,C),M=B.getX(b,T),P=B.getY(b,T),U=this.fillTint;this.batchTri(null,N,L,R,I,M,P,0,0,1,1,U.TL,U.TR,U.BL,2)},batchStrokeTriangle:function(g,v,y,C,b,T,S,F,B){var N=this.tempTriangle;N[0].x=g,N[0].y=v,N[0].width=S,N[1].x=y,N[1].y=C,N[1].width=S,N[2].x=b,N[2].y=T,N[2].width=S,N[3].x=g,N[3].y=v,N[3].width=S,this.batchStrokePath(N,S,!1,F,B)},batchFillPath:function(g,v,y){this.renderer.pipelines.set(this);var C=this.calcMatrix;y&&y.multiply(v,C);for(var b=g.length,T=this.polygonCache,S,F,B=this.fillTint.TL,N=this.fillTint.TR,L=this.fillTint.BL,R=0;R<b;++R)F=g[R],T.push(F.x,F.y);S=p(T),b=S.length;for(var I=0;I<b;I+=3){var M=S[I+0]*2,P=S[I+1]*2,U=S[I+2]*2,z=T[M+0],W=T[M+1],Z=T[P+0],j=T[P+1],H=T[U+0],V=T[U+1],k=C.getX(z,W),X=C.getY(z,W),Q=C.getX(Z,j),J=C.getY(Z,j),$=C.getX(H,V),_=C.getY(H,V);this.batchTri(null,k,X,Q,J,$,_,0,0,1,1,B,N,L,2)}T.length=0},batchStrokePath:function(g,v,y,C,b){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var T=g.length-1,S=0;S<T;S++){var F=g[S],B=g[S+1];this.batchLine(F.x,F.y,B.x,B.y,F.width/2,B.width/2,v,S,!y&&S===T-1,C,b)}},batchLine:function(g,v,y,C,b,T,S,F,B,N,L){this.renderer.pipelines.set(this);var R=this.calcMatrix;L&&L.multiply(N,R);var I=y-g,M=C-v,P=Math.sqrt(I*I+M*M);if(P!==0){var U=b*(C-v)/P,z=b*(g-y)/P,W=T*(C-v)/P,Z=T*(g-y)/P,j=y-W,H=C-Z,V=g-U,k=v-z,X=y+W,Q=C+Z,J=g+U,$=v+z,_=R.getX(j,H),te=R.getY(j,H),se=R.getX(V,k),ce=R.getY(V,k),ge=R.getX(X,Q),ue=R.getY(X,Q),re=R.getX(J,$),Ce=R.getY(J,$),ye=this.strokeTint,Ee=ye.TL,Me=ye.TR,Be=ye.BL,ve=ye.BR;if(this.batchQuad(null,re,Ce,se,ce,_,te,ge,ue,0,0,1,1,Ee,Me,Be,ve,2),!(S<=2)){var Re=this.prevQuad,Pe=this.firstQuad;F>0&&Re[4]?this.batchQuad(null,re,Ce,se,ce,Re[0],Re[1],Re[2],Re[3],0,0,1,1,Ee,Me,Be,ve,2):(Pe[0]=re,Pe[1]=Ce,Pe[2]=se,Pe[3]=ce,Pe[4]=1),B&&Pe[4]?this.batchQuad(null,_,te,ge,ue,Pe[0],Pe[1],Pe[2],Pe[3],0,0,1,1,Ee,Me,Be,ve,2):(Re[0]=_,Re[1]=te,Re[2]=ge,Re[3]=ue,Re[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,h.prototype.destroy.call(this),this}});r.exports=A},43439:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(95540),c=i(4127),o=i(89924),u=i(29100),l=new a({Extends:u,initialize:function(f){f.vertShader=p(f,"vertShader",o),f.fragShader=p(f,"fragShader",c),f.attributes=p(f,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),u.call(this,f)},onRender:function(d,f){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",f.zoom)},batchPointLight:function(d,f,h,A,g,v,y,C,b,T,S,F){var B=d.color,N=d.intensity,L=d.radius,R=d.attenuation,I=B.r*N,M=B.g*N,P=B.b*N,U=f.alpha*d.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(h,A,S,F,L,R,I,M,P,U),this.batchLightVert(g,v,S,F,L,R,I,M,P,U),this.batchLightVert(y,C,S,F,L,R,I,M,P,U),this.batchLightVert(h,A,S,F,L,R,I,M,P,U),this.batchLightVert(y,C,S,F,L,R,I,M,P,U),this.batchLightVert(b,T,S,F,L,R,I,M,P,U),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(d,f,h,A,g,v,y,C,b,T){var S=this.vertexViewF32,F=this.vertexCount*this.currentShader.vertexComponentCount-1;S[++F]=d,S[++F]=f,S[++F]=h,S[++F]=A,S[++F]=g,S[++F]=v,S[++F]=y,S[++F]=C,S[++F]=b,S[++F]=T,this.vertexCount++}});r.exports=l},84057:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(89422),c=i(95540),o=i(27681),u=i(49627),l=i(29100),d=new a({Extends:l,initialize:function(h){h.renderTarget=c(h,"renderTarget",1),h.fragShader=c(h,"fragShader",o),h.vertShader=c(h,"vertShader",u),h.attributes=c(h,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),h.batchSize=1,h.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],l.call(this,h),this.isPostFX=!0,this.gameObject,this.controller,this.colorMatrix=new p,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines)},bootFX:function(){l.prototype.boot.call(this);var f=this.manager.UTILITY_PIPELINE;this.fullFrame1=f.fullFrame1,this.fullFrame2=f.fullFrame2,this.halfFrame1=f.halfFrame1,this.halfFrame2=f.halfFrame2;var h=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",h.width,h.height);for(var A=this.renderTargets,g=0;g<A.length;g++)A[g].autoResize=!0},postBatch:function(f){return this.hasBooted||(this.bootFX(),this.currentRenderTarget&&this.currentRenderTarget.bind()),this.onDraw(this.currentRenderTarget),this.onPostBatch(f),this},onDraw:function(f){this.bindAndDraw(f)},getController:function(f){return f!==void 0?f:this.controller?this.controller:this},copySprite:function(f,h,A){A===void 0&&(A=!1);var g=this.gl;g.activeTexture(g.TEXTURE0),g.bindTexture(g.TEXTURE_2D,f.texture.webGLTexture);var v=g.getParameter(g.FRAMEBUFFER_BINDING);g.bindFramebuffer(g.FRAMEBUFFER,h.framebuffer.webGLFramebuffer),g.framebufferTexture2D(g.FRAMEBUFFER,g.COLOR_ATTACHMENT0,g.TEXTURE_2D,h.texture.webGLTexture,0),g.clearColor(0,0,0,0),g.clear(g.COLOR_BUFFER_BIT),g.bufferData(g.ARRAY_BUFFER,this.vertexData,g.STATIC_DRAW),g.drawArrays(g.TRIANGLES,0,6),A&&(g.bindTexture(g.TEXTURE_2D,null),g.bindFramebuffer(g.FRAMEBUFFER,v))},copyFrame:function(f,h,A,g,v){this.manager.copyFrame(f,h,A,g,v)},copyToGame:function(f){this.manager.copyToGame(f)},drawFrame:function(f,h,A){this.manager.drawFrame(f,h,A,this.colorMatrix)},blendFrames:function(f,h,A,g,v){this.manager.blendFrames(f,h,A,g,v)},blendFramesAdditive:function(f,h,A,g,v){this.manager.blendFramesAdditive(f,h,A,g,v)},clearFrame:function(f,h){this.manager.clearFrame(f,h)},blitFrame:function(f,h,A,g,v,y){this.manager.blitFrame(f,h,A,g,v,y)},copyFrameRect:function(f,h,A,g,v,y,C,b){this.manager.copyFrameRect(f,h,A,g,v,y,C,b)},bindAndDraw:function(f,h,A,g,v){A===void 0&&(A=!0),g===void 0&&(g=!0);var y=this.gl,C=this.renderer;this.bind(v),this.set1i("uMainSampler",0),h?(y.viewport(0,0,h.width,h.height),y.bindFramebuffer(y.FRAMEBUFFER,h.framebuffer.webGLFramebuffer),y.framebufferTexture2D(y.FRAMEBUFFER,y.COLOR_ATTACHMENT0,y.TEXTURE_2D,h.texture.webGLTexture,0),A&&(g?y.clearColor(0,0,0,0):y.clearColor(0,0,0,1),y.clear(y.COLOR_BUFFER_BIT))):(C.popFramebuffer(!1,!1),C.currentFramebuffer||y.viewport(0,0,C.width,C.height)),C.restoreStencilMask(),y.activeTexture(y.TEXTURE0),y.bindTexture(y.TEXTURE_2D,f.texture.webGLTexture),y.bufferData(y.ARRAY_BUFFER,this.vertexData,y.STATIC_DRAW),y.drawArrays(y.TRIANGLES,0,6),h&&(y.bindTexture(y.TEXTURE_2D,null),y.bindFramebuffer(y.FRAMEBUFFER,C.currentFramebuffer.webGLFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,this.manager.removePostPipeline(this),l.prototype.destroy.call(this),this}});r.exports=d},43558:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(10312),p=i(67502),c=i(83419),o=i(96293),u=i(95540),l=i(57516),d=i(27681),f=i(87841),h=i(32302),A=i(45561),g=i(60722),v=i(29100),y=new c({Extends:l,initialize:function(b){var T=u(b,"fragShader",d),S=u(b,"vertShader",g),F=u(b,"drawShader",d),B=[{name:"DrawSprite",fragShader:A,vertShader:g},{name:"CopySprite",fragShader:T,vertShader:S},{name:"DrawGame",fragShader:F,vertShader:g},{name:"ColorMatrix",fragShader:o}],N=u(b,"shaders",[]);b.shaders=B.concat(N),b.vertShader||(b.vertShader=S),b.batchSize=1,l.call(this,b),this.isPreFX=!0,this.customMainSampler=null,this.drawSpriteShader,this.copyShader,this.gameShader,this.colorMatrixShader,this.quadVertexData,this.quadVertexBuffer,this.quadVertexViewF32,this.spriteBounds=new f,this.targetBounds=new f,this.fsTarget,this.tempSprite,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){v.prototype.boot.call(this);var C=this.shaders,b=this.renderer;this.drawSpriteShader=C[0],this.copyShader=C[1],this.gameShader=C[2],this.colorMatrixShader=C[3],this.fsTarget=new h(b,b.width,b.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var T=new ArrayBuffer(168);this.quadVertexData=T,this.quadVertexViewF32=new Float32Array(T),this.quadVertexBuffer=b.createVertexBuffer(T,this.gl.STATIC_DRAW),this.onResize(b.width,b.height),this.currentShader=this.copyShader,this.set2f("uResolution",b.width,b.height)},onResize:function(C,b){var T=this.quadVertexViewF32;T[1]=b,T[22]=b,T[14]=C,T[28]=C,T[35]=C,T[36]=b},batchQuad:function(C,b,T,S,F,B,N,L,R,I,M,P,U,z,W,Z,j,H,V){var k=Math.min(b,S,B,L),X=Math.min(T,F,N,R),Q=Math.max(b,S,B,L),J=Math.max(T,F,N,R),$=Q-k,_=J-X,te=this.spriteBounds.setTo(k,X,$,_),se=C?C.preFX.padding:0,ce=$+se*2,ge=_+se*2,ue=Math.abs(Math.max(ce,ge)),re=this.manager.getRenderTarget(ue),Ce=this.targetBounds.setTo(0,0,re.width,re.height);p(Ce,Math.round(te.centerX),Math.round(te.centerY)),this.tempSprite=C;var ye=this.gl,Ee=this.renderer;Ee.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.set2f("uResolution",Ee.width,Ee.height),this.flipProjectionMatrix(!0),C&&(this.onDrawSprite(C,re),C.preFX.onFX(this));var Me=this.fsTarget;return this.flush(),ye.viewport(0,0,Ee.width,Ee.height),ye.bindFramebuffer(ye.FRAMEBUFFER,Me.framebuffer.webGLFramebuffer),ye.framebufferTexture2D(ye.FRAMEBUFFER,ye.COLOR_ATTACHMENT0,ye.TEXTURE_2D,Me.texture.webGLTexture,0),ye.clearColor(0,0,0,0),ye.clear(ye.COLOR_BUFFER_BIT),this.setTexture2D(V),this.batchVert(b,T,I,M,0,H,z),this.batchVert(S,F,I,U,0,H,Z),this.batchVert(B,N,P,U,0,H,j),this.batchVert(b,T,I,M,0,H,z),this.batchVert(B,N,P,U,0,H,j),this.batchVert(L,R,P,M,0,H,W),this.flush(),this.flipProjectionMatrix(!1),ye.activeTexture(ye.TEXTURE0),ye.bindTexture(ye.TEXTURE_2D,re.texture.webGLTexture),ye.copyTexSubImage2D(ye.TEXTURE_2D,0,0,0,Ce.x,Ce.y,Ce.width,Ce.height),ye.bindFramebuffer(ye.FRAMEBUFFER,null),ye.bindTexture(ye.TEXTURE_2D,null),this.onBatch(C),this.currentShader=this.copyShader,this.onDraw(re,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(C,b,T,S,F,B,N){T===void 0&&(T=!0),S===void 0&&(S=!0),F===void 0&&(F=!1),N===void 0&&(N=this.copyShader);var L=this.gl,R=this.tempSprite;B&&(N=this.colorMatrixShader),this.currentShader=N;var I=this.setVertexBuffer(this.quadVertexBuffer);N.bind(I,!1);var M=this.renderer;if(this.set1i("uMainSampler",0),this.set2f("uResolution",M.width,M.height),R.preFX.onFXCopy(this),this.onCopySprite(C,b,R),B&&(this.set1fv("uColorMatrix",B.getData()),this.set1f("uAlpha",B.alpha)),L.activeTexture(L.TEXTURE0),L.bindTexture(L.TEXTURE_2D,C.texture.webGLTexture),C.height>b.height)L.viewport(0,0,C.width,C.height),this.setTargetUVs(C,b);else{var P=b.height-C.height;L.viewport(0,P,C.width,C.height),this.resetUVs()}if(L.bindFramebuffer(L.FRAMEBUFFER,b.framebuffer.webGLFramebuffer),L.framebufferTexture2D(L.FRAMEBUFFER,L.COLOR_ATTACHMENT0,L.TEXTURE_2D,b.texture.webGLTexture,0),T&&(L.clearColor(0,0,0,+!S),L.clear(L.COLOR_BUFFER_BIT)),F){var U=this.renderer.currentBlendMode;this.renderer.setBlendMode(a.ERASE)}L.bufferData(L.ARRAY_BUFFER,this.quadVertexData,L.STATIC_DRAW),L.drawArrays(L.TRIANGLES,0,6),F&&this.renderer.setBlendMode(U),L.bindFramebuffer(L.FRAMEBUFFER,null)},copy:function(C,b){var T=this.gl;this.set1i("uMainSampler",0),T.activeTexture(T.TEXTURE0),T.bindTexture(T.TEXTURE_2D,C.texture.webGLTexture),T.viewport(0,0,C.width,C.height),this.setUVs(0,0,0,1,1,1,1,0),T.bindFramebuffer(T.FRAMEBUFFER,b.framebuffer.webGLFramebuffer),T.framebufferTexture2D(T.FRAMEBUFFER,T.COLOR_ATTACHMENT0,T.TEXTURE_2D,b.texture.webGLTexture,0),T.clearColor(0,0,0,0),T.clear(T.COLOR_BUFFER_BIT),T.bufferData(T.ARRAY_BUFFER,this.quadVertexData,T.STATIC_DRAW),T.drawArrays(T.TRIANGLES,0,6),T.bindFramebuffer(T.FRAMEBUFFER,null)},blendFrames:function(C,b,T,S,F){this.manager.blendFrames(C,b,T,S,F)},blendFramesAdditive:function(C,b,T,S,F){this.manager.blendFramesAdditive(C,b,T,S,F)},drawToGame:function(C){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(C)},copyToGame:function(C){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(C)},bindAndDraw:function(C){var b=this.gl,T=this.renderer;this.set1i("uMainSampler",0),this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(C.texture);var S=this._tempMatrix1.loadIdentity(),F=this.targetBounds.x,B=this.targetBounds.y,N=F+C.width,L=B+C.height,R=S.getX(F,B),I=S.getX(F,L),M=S.getX(N,L),P=S.getX(N,B),U=S.getY(F,B),z=S.getY(F,L),W=S.getY(N,L),Z=S.getY(N,B),j=16777215;this.batchVert(R,U,0,0,0,0,j),this.batchVert(I,z,0,1,0,0,j),this.batchVert(M,W,1,1,0,0,j),this.batchVert(R,U,0,0,0,0,j),this.batchVert(M,W,1,1,0,0,j),this.batchVert(P,Z,1,0,0,0,j),T.restoreFramebuffer(!1,!0),T.currentFramebuffer||b.viewport(0,0,T.width,T.height),T.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(C){this.drawToGame(C)},setUVs:function(C,b,T,S,F,B,N,L){var R=this.quadVertexViewF32;R[2]=C,R[3]=b,R[9]=T,R[10]=S,R[16]=F,R[17]=B,R[23]=C,R[24]=b,R[30]=F,R[31]=B,R[37]=N,R[38]=L},setTargetUVs:function(C,b){var T=b.height/C.height;T>.5?T=.5-(T-.5):T=.5+(.5-T),this.setUVs(0,T,0,1+T,1,1+T,1,T)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.renderer.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,l.prototype.destroy.call(this),this}});r.exports=y},81041:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(95540),c=i(57516),o=new a({Extends:c,initialize:function(l){l.topology=5,l.batchSize=p(l,"batchSize",256),c.call(this,l)}});r.exports=o},12385:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(95540),c=i(57516),o=i(45561),u=i(60722),l=i(29100),d=new a({Extends:c,initialize:function(h){h.fragShader=p(h,"fragShader",o),h.vertShader=p(h,"vertShader",u),h.forceZero=!0,c.call(this,h)},boot:function(){l.prototype.boot.call(this);var f=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",f.width,f.height)}});r.exports=d},7589:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(35407),p=i(10312),c=i(83419),o=i(89422),u=i(96293),l=i(36682),d=i(95540),f=i(48247),h=i(49627),A=i(29100),g=new c({Extends:A,initialize:function(y){y.renderTarget=d(y,"renderTarget",[{scale:1,autoResize:!0},{scale:1,autoResize:!0},{scale:.5,autoResize:!0},{scale:.5,autoResize:!0}]),y.vertShader=d(y,"vertShader",h),y.shaders=d(y,"shaders",[{name:"Copy",fragShader:l},{name:"AddBlend",fragShader:a},{name:"LinearBlend",fragShader:f},{name:"ColorMatrix",fragShader:u}]),y.attributes=d(y,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),y.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],y.batchSize=1,A.call(this,y),this.colorMatrix=new o,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){A.prototype.boot.call(this);var v=this.shaders,y=this.renderTargets;this.copyShader=v[0],this.addShader=v[1],this.linearShader=v[2],this.colorMatrixShader=v[3],this.fullFrame1=y[0],this.fullFrame2=y[1],this.halfFrame1=y[2],this.halfFrame2=y[3]},copyFrame:function(v,y,C,b,T){C===void 0&&(C=1),b===void 0&&(b=!0),T===void 0&&(T=!0);var S=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",C),S.activeTexture(S.TEXTURE0),S.bindTexture(S.TEXTURE_2D,v.texture.webGLTexture),y?(S.viewport(0,0,y.width,y.height),S.bindFramebuffer(S.FRAMEBUFFER,y.framebuffer.webGLFramebuffer),S.framebufferTexture2D(S.FRAMEBUFFER,S.COLOR_ATTACHMENT0,S.TEXTURE_2D,y.texture.webGLTexture,0)):S.viewport(0,0,v.width,v.height),b&&(T?S.clearColor(0,0,0,0):S.clearColor(0,0,0,1),S.clear(S.COLOR_BUFFER_BIT)),S.bufferData(S.ARRAY_BUFFER,this.vertexData,S.STATIC_DRAW),S.drawArrays(S.TRIANGLES,0,6),S.bindFramebuffer(S.FRAMEBUFFER,null),S.bindTexture(S.TEXTURE_2D,null)},blitFrame:function(v,y,C,b,T,S,F){C===void 0&&(C=1),b===void 0&&(b=!0),T===void 0&&(T=!0),S===void 0&&(S=!1),F===void 0&&(F=!1);var B=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",C),B.activeTexture(B.TEXTURE0),B.bindTexture(B.TEXTURE_2D,v.texture.webGLTexture),v.height>y.height)B.viewport(0,0,v.width,v.height),this.setTargetUVs(v,y);else{var N=y.height-v.height;B.viewport(0,N,v.width,v.height)}if(B.bindFramebuffer(B.FRAMEBUFFER,y.framebuffer.webGLFramebuffer),B.framebufferTexture2D(B.FRAMEBUFFER,B.COLOR_ATTACHMENT0,B.TEXTURE_2D,y.texture.webGLTexture,0),b&&(T?B.clearColor(0,0,0,0):B.clearColor(0,0,0,1),B.clear(B.COLOR_BUFFER_BIT)),S){var L=this.renderer.currentBlendMode;this.renderer.setBlendMode(p.ERASE)}F&&this.flipY(),B.bufferData(B.ARRAY_BUFFER,this.vertexData,B.STATIC_DRAW),B.drawArrays(B.TRIANGLES,0,6),S&&this.renderer.setBlendMode(L),B.bindFramebuffer(B.FRAMEBUFFER,null),B.bindTexture(B.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(v,y,C,b,T,S,F,B){F===void 0&&(F=!0),B===void 0&&(B=!0);var N=this.gl;N.bindFramebuffer(N.FRAMEBUFFER,v.framebuffer.webGLFramebuffer),N.framebufferTexture2D(N.FRAMEBUFFER,N.COLOR_ATTACHMENT0,N.TEXTURE_2D,v.texture.webGLTexture,0),F&&(B?N.clearColor(0,0,0,0):N.clearColor(0,0,0,1),N.clear(N.COLOR_BUFFER_BIT)),N.activeTexture(N.TEXTURE0),N.bindTexture(N.TEXTURE_2D,y.texture.webGLTexture),N.copyTexSubImage2D(N.TEXTURE_2D,0,0,0,C,b,T,S),N.bindFramebuffer(N.FRAMEBUFFER,null),N.bindTexture(N.TEXTURE_2D,null)},copyToGame:function(v){var y=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),y.activeTexture(y.TEXTURE0),y.bindTexture(y.TEXTURE_2D,v.texture.webGLTexture),y.bufferData(y.ARRAY_BUFFER,this.vertexData,y.STATIC_DRAW),y.drawArrays(y.TRIANGLES,0,6)},drawFrame:function(v,y,C,b){C===void 0&&(C=!0),b===void 0&&(b=this.colorMatrix);var T=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",b.getData()),this.set1f("uAlpha",b.alpha),T.activeTexture(T.TEXTURE0),T.bindTexture(T.TEXTURE_2D,v.texture.webGLTexture),y?(T.viewport(0,0,y.width,y.height),T.bindFramebuffer(T.FRAMEBUFFER,y.framebuffer.webGLFramebuffer),T.framebufferTexture2D(T.FRAMEBUFFER,T.COLOR_ATTACHMENT0,T.TEXTURE_2D,y.texture.webGLTexture,0)):T.viewport(0,0,v.width,v.height),C?T.clearColor(0,0,0,0):T.clearColor(0,0,0,1),T.clear(T.COLOR_BUFFER_BIT),T.bufferData(T.ARRAY_BUFFER,this.vertexData,T.STATIC_DRAW),T.drawArrays(T.TRIANGLES,0,6),T.bindFramebuffer(T.FRAMEBUFFER,null),T.bindTexture(T.TEXTURE_2D,null)},blendFrames:function(v,y,C,b,T,S){b===void 0&&(b=1),T===void 0&&(T=!0),S===void 0&&(S=this.linearShader);var F=this.gl;this.setShader(S),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",b),F.activeTexture(F.TEXTURE0),F.bindTexture(F.TEXTURE_2D,v.texture.webGLTexture),F.activeTexture(F.TEXTURE1),F.bindTexture(F.TEXTURE_2D,y.texture.webGLTexture),C?(F.bindFramebuffer(F.FRAMEBUFFER,C.framebuffer.webGLFramebuffer),F.framebufferTexture2D(F.FRAMEBUFFER,F.COLOR_ATTACHMENT0,F.TEXTURE_2D,C.texture.webGLTexture,0),F.viewport(0,0,C.width,C.height)):F.viewport(0,0,v.width,v.height),T?F.clearColor(0,0,0,0):F.clearColor(0,0,0,1),F.clear(F.COLOR_BUFFER_BIT),F.bufferData(F.ARRAY_BUFFER,this.vertexData,F.STATIC_DRAW),F.drawArrays(F.TRIANGLES,0,6),F.bindFramebuffer(F.FRAMEBUFFER,null),F.bindTexture(F.TEXTURE_2D,null)},blendFramesAdditive:function(v,y,C,b,T){this.blendFrames(v,y,C,b,T,this.addShader)},clearFrame:function(v,y){y===void 0&&(y=!0);var C=this.gl;C.viewport(0,0,v.width,v.height),C.bindFramebuffer(C.FRAMEBUFFER,v.framebuffer.webGLFramebuffer),y?C.clearColor(0,0,0,0):C.clearColor(0,0,0,1),C.clear(C.COLOR_BUFFER_BIT);var b=this.renderer.currentFramebuffer;C.bindFramebuffer(C.FRAMEBUFFER,b.webGLFramebuffer)},setUVs:function(v,y,C,b,T,S,F,B){var N=this.vertexViewF32;N[2]=v,N[3]=y,N[6]=C,N[7]=b,N[10]=T,N[11]=S,N[14]=v,N[15]=y,N[18]=T,N[19]=S,N[22]=F,N[23]=B},setTargetUVs:function(v,y){var C=y.height/v.height;C>.5?C=.5-(C-.5):C=.5+(.5-C),this.setUVs(0,C,0,1+C,1,1+C,1,C)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});r.exports=g},36060:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"};r.exports=x},84817:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pipelineafterflush"},36712:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pipelinebeforeflush"},40285:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pipelinebind"},65918:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pipelineboot"},92852:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pipelinedestroy"},56072:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pipelinerebind"},57566:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pipelineresize"},77085:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={AFTER_FLUSH:i(84817),BEFORE_FLUSH:i(36712),BIND:i(40285),BOOT:i(65918),DESTROY:i(92852),REBIND:i(56072),RESIZE:i(57566)}},54812:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(99155),c=i(84057),o=new a({Extends:c,initialize:function(l){c.call(this,{game:l,fragShader:p}),this.amount=1},onPreRender:function(u,l){u=this.getController(u),this.set1f("amount",u.amount,l)}});r.exports=o},67329:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(24400),c=i(84057),o=new a({Extends:c,initialize:function(l){c.call(this,{game:l,fragShader:p}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(u){u=this.getController(u),this.set1f("strength",u.blurStrength),this.set3fv("color",u.glcolor)},onDraw:function(u){var l=this.getController(),d=this.fullFrame1,f=this.fullFrame2;this.copyFrame(u,f);for(var h=2/u.width*l.offsetX,A=2/u.height*l.offsetY,g=0;g<l.steps;g++)this.set2f("offset",h,0),this.copySprite(u,d),this.set2f("offset",0,A),this.copySprite(d,u);this.blendFrames(f,u,d,l.strength),this.copyToGame(d)}});r.exports=o},8861:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(41514),c=i(51078),o=i(94328),u=i(84057),l=new a({Extends:u,initialize:function(f){u.call(this,{game:f,shaders:[{name:"Gaussian5",fragShader:p},{name:"Gaussian9",fragShader:c},{name:"Gaussian13",fragShader:o}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(d){var f=this.getController(),h=this.gl,A=this.fullFrame1,g=h.getParameter(h.FRAMEBUFFER_BINDING);this.bind(this.shaders[f.quality]),h.activeTexture(h.TEXTURE0),h.viewport(0,0,d.width,d.height),this.set1i("uMainSampler",0),this.set2f("resolution",d.width,d.height),this.set1f("strength",f.strength),this.set3fv("color",f.glcolor);for(var v=0;v<f.steps;v++)this.set2f("offset",f.x,0),this.copySprite(d,A),this.set2f("offset",0,f.y),this.copySprite(A,d);h.bindFramebuffer(h.FRAMEBUFFER,g),h.bindTexture(h.TEXTURE_2D,null),this.copyToGame(d)}});r.exports=l},51051:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(90610),c=i(84057),o=new a({Extends:c,initialize:function(l){c.call(this,{game:l,fragShader:p}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(u,l,d,f){u=this.getController(u),this.set1f("radius",u.radius,l),this.set1f("amount",u.amount,l),this.set1f("contrast",u.contrast,l),this.set1f("strength",u.strength,l),this.set2f("blur",u.blurX,u.blurY,l),this.setBoolean("isTiltShift",u.isTiltShift,l),d&&f&&this.set2f("resolution",d,f,l)},onDraw:function(u){this.set2f("resolution",u.width,u.height),this.bindAndDraw(u)}});r.exports=o},89428:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(91899),c=i(84057),o=new a({Extends:c,initialize:function(l){c.call(this,{game:l,fragShader:p}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(u,l,d,f){u=this.getController(u),this.set1f("scale",u.scale,l),this.set1f("feather",u.feather,l),this.set1f("thickness",u.thickness,l),this.set3fv("color",u.glcolor,l),this.set4fv("backgroundColor",u.glcolor2,l),d&&f&&this.set2f("resolution",d,f,l)},onDraw:function(u){this.set2f("resolution",u.width,u.height),this.bindAndDraw(u)}});r.exports=o},88904:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(84057),c=new a({Extends:p,initialize:function(u){p.call(this,{game:u})},onDraw:function(o){var u=this.fullFrame1;this.controller?this.manager.drawFrame(o,u,!0,this.controller):this.drawFrame(o,u),this.copyToGame(u)}});r.exports=c},63563:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(47838),c=i(84057),o=new a({Extends:c,initialize:function(l){c.call(this,{game:l,fragShader:p}),this.x=.005,this.y=.005,this.glTexture},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(u){var l=this.game.textures.getFrame(u);l&&(this.glTexture=l.glTexture)},onDraw:function(u){var l=this.getController(),d=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",l.x,l.y),this.bindTexture(l.glTexture,1),this.copySprite(u,d),this.copyToGame(d)}});r.exports=o},94045:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(95540),c=i(98656),o=i(84057),u=i(70554),l=new a({Extends:o,initialize:function(f,h){var A=p(h,"quality",.1),g=p(h,"distance",10);o.call(this,{game:f,fragShader:u.setGlowQuality(c,f,A,g)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(d,f,h,A){d=this.getController(d),this.set1f("outerStrength",d.outerStrength,f),this.set1f("innerStrength",d.innerStrength,f),this.set4fv("glowColor",d.glcolor,f),this.setBoolean("knockout",d.knockout,f),h&&A&&this.set2f("resolution",h,A,f)},onDraw:function(d){this.set2f("resolution",d.width,d.height),this.bindAndDraw(d)}});r.exports=l},74088:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(70463),c=i(84057),o=new a({Extends:c,initialize:function(l){c.call(this,{game:l,fragShader:p}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(u,l){u=this.getController(u),this.set1f("alpha",u.alpha,l),this.set1i("size",u.size,l),this.set3fv("color1",u.glcolor1,l),this.set3fv("color2",u.glcolor2,l),this.set2f("positionFrom",u.fromX,u.fromY,l),this.set2f("positionTo",u.toX,u.toY,l)}});r.exports=o},99636:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(50831),c=i(84057),o=new a({Extends:c,initialize:function(l){c.call(this,{game:l,fragShader:p}),this.amount=1},onPreRender:function(u,l,d,f){u=this.getController(u),this.set1f("amount",u.amount,l),d&&f&&this.set2f("resolution",d,f,l)},onDraw:function(u){this.set2f("resolution",u.width,u.height),this.bindAndDraw(u)}});r.exports=o},34700:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(92595),c=i(84057),o=new a({Extends:c,initialize:function(l){c.call(this,{game:l,fragShader:p}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(u,l){u=this.getController(u);var d=u.samples;this.set1i("samples",d,l),this.set1f("intensity",u.intensity,l),this.set1f("decay",u.decay,l),this.set1f("power",u.power/d,l),this.set2f("lightPosition",u.x,u.y,l),this.set4fv("color",u.glcolor,l)}});r.exports=o},91157:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(72464),c=i(84057),o=new a({Extends:c,initialize:function(l){c.call(this,{game:l,fragShader:p}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(u,l,d,f){u=this.getController(u),this.setTime("time",l),this.set1f("speed",u.speed,l),this.set1f("lineWidth",u.lineWidth,l),this.set1f("gradient",u.gradient,l),this.setBoolean("reveal",u.reveal,l),d&&f&&this.set2f("resolution",d,f,l)},onDraw:function(u){this.set2f("resolution",u.width,u.height),this.bindAndDraw(u)}});r.exports=o},27797:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(39249),c=i(84057),o=new a({Extends:c,initialize:function(l){c.call(this,{game:l,fragShader:p}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(u,l){u=this.getController(u),this.set1f("radius",u.radius,l),this.set1f("strength",u.strength,l),this.set2f("position",u.x,u.y,l)}});r.exports=o},67603:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(2878),c=i(84057),o=new a({Extends:c,initialize:function(l){c.call(this,{game:l,fragShader:p}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(u,l){u=this.getController(u);var d=u.progress,f=u.wipeWidth,h=u.direction,A=u.axis;this.set4f("config",d,f,h,A,l),this.setBoolean("reveal",u.reveal,l)}});r.exports=o},58918:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={Barrel:i(54812),Bloom:i(67329),Blur:i(8861),Bokeh:i(51051),Circle:i(89428),ColorMatrix:i(88904),Displacement:i(63563),Glow:i(94045),Gradient:i(74088),Pixelate:i(99636),Shadow:i(34700),Shine:i(91157),Vignette:i(27797),Wipe:i(67603)};r.exports=a},96615:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(36060),p=i(79291),c={FX:i(58918),BitmapMaskPipeline:i(31302),Events:i(77085),FXPipeline:i(92651),LightPipeline:i(96569),MobilePipeline:i(56527),MultiPipeline:i(57516),PointLightPipeline:i(43439),PostFXPipeline:i(84057),PreFXPipeline:i(43558),RopePipeline:i(81041),SinglePipeline:i(12385),UtilityPipeline:i(7589)};c=p(!1,c,a),r.exports=c},35407:r=>{r.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join(`
`)},78908:r=>{r.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join(`
`)},85191:r=>{r.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join(`
`)},96293:r=>{r.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join(`
`)},36682:r=>{r.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join(`
`)},99155:r=>{r.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join(`
`)},24400:r=>{r.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join(`
`)},94328:r=>{r.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},41514:r=>{r.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},51078:r=>{r.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},90610:r=>{r.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join(`
`)},91899:r=>{r.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join(`
`)},47838:r=>{r.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join(`
`)},98656:r=>{r.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join(`
`)},70463:r=>{r.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join(`
`)},50831:r=>{r.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join(`
`)},92595:r=>{r.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join(`
`)},72464:r=>{r.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","	vec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join(`
`)},39249:r=>{r.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    	col = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join(`
`)},2878:r=>{r.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join(`
`)},31063:r=>{r.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join(`
`)},48247:r=>{r.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join(`
`)},41214:r=>{r.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join(`
`)},39653:r=>{r.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join(`
`)},62143:r=>{r.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},47940:r=>{r.exports=["#define SHADER_NAME PHASER_MOBILE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},98840:r=>{r.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},44667:r=>{r.exports=["#define SHADER_NAME PHASER_MULTI_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},4127:r=>{r.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join(`
`)},89924:r=>{r.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join(`
`)},27681:r=>{r.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join(`
`)},49627:r=>{r.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join(`
`)},45561:r=>{r.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},60722:r=>{r.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},89350:(r,x,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={AddBlendFrag:i(35407),BitmapMaskFrag:i(78908),BitmapMaskVert:i(85191),ColorMatrixFrag:i(96293),CopyFrag:i(36682),FXBarrelFrag:i(99155),FXBloomFrag:i(24400),FXBlurHighFrag:i(94328),FXBlurLowFrag:i(41514),FXBlurMedFrag:i(51078),FXBokehFrag:i(90610),FXCircleFrag:i(91899),FXDisplacementFrag:i(47838),FXGlowFrag:i(98656),FXGradientFrag:i(70463),FXPixelateFrag:i(50831),FXShadowFrag:i(92595),FXShineFrag:i(72464),FXVignetteFrag:i(39249),FXWipeFrag:i(2878),LightFrag:i(31063),LinearBlendFrag:i(48247),MeshFrag:i(41214),MeshVert:i(39653),MobileFrag:i(62143),MobileVert:i(47940),MultiFrag:i(98840),MultiVert:i(44667),PointLightFrag:i(4127),PointLightVert:i(89924),PostFXFrag:i(27681),QuadVert:i(49627),SingleFrag:i(45561),SingleVert:i(60722)}},93567:(r,x,i)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=new a({initialize:function(o,u,l){this.webGLAttribLocation=-1,this.gl=o,this.program=u,this.name=l,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLAttribLocation=-1;return}var c=this.gl;c.isContextLost()||(this.webGLAttribLocation=c.getAttribLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLAttribLocation=-1}});r.exports=p},26128:(r,x,i)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=new a({initialize:function(o,u,l,d){this.webGLBuffer=null,this.gl=o,this.initialDataOrSize=u,this.bufferType=l,this.bufferUsage=d,this.createResource()},createResource:function(){if(this.initialDataOrSize!==null){var c=this.gl;if(!c.isContextLost()){var o=this.bufferType,u=c.createBuffer();this.webGLBuffer=u,c.bindBuffer(o,this.webGLBuffer),c.bufferData(o,this.initialDataOrSize,this.bufferUsage),c.bindBuffer(o,null)}}},destroy:function(){var c=this.gl;c.isContextLost()||c.deleteBuffer(this.webGLBuffer),this.webGLBuffer=null,this.initialDataOrSize=null,this.gl=null}});r.exports=p},84387:(r,x,i)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"},c=new a({initialize:function(u,l,d,f,h){this.webGLFramebuffer=null,this.gl=u,this.width=l,this.height=d,this.renderTexture=f,this.addDepthStencilBuffer=!!h,this.createResource()},createResource:function(){var o=this.gl;if(!o.isContextLost()){var u=this.renderTexture,l=0,d=o.createFramebuffer();if(this.webGLFramebuffer=d,o.bindFramebuffer(o.FRAMEBUFFER,d),u.isRenderTexture=!0,u.isAlphaPremultiplied=!1,o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,u.webGLTexture,0),l=o.checkFramebufferStatus(o.FRAMEBUFFER),l!==o.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer status: "+(p[l]||l));if(this.addDepthStencilBuffer){var f=o.createRenderbuffer();o.bindRenderbuffer(o.RENDERBUFFER,f),o.renderbufferStorage(o.RENDERBUFFER,o.DEPTH_STENCIL,this.width,this.height),o.framebufferRenderbuffer(o.FRAMEBUFFER,o.DEPTH_STENCIL_ATTACHMENT,o.RENDERBUFFER,f)}o.bindFramebuffer(o.FRAMEBUFFER,null)}},destroy:function(){if(this.webGLFramebuffer!==null){var o=this.gl;if(!o.isContextLost()){o.bindFramebuffer(o.FRAMEBUFFER,this.webGLFramebuffer);var u=o.getFramebufferAttachmentParameter(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);u!==null&&(o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,null,0),o.deleteTexture(u));var l=o.getFramebufferAttachmentParameter(o.FRAMEBUFFER,o.DEPTH_STENCIL_ATTACHMENT,o.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);l!==null&&o.deleteRenderbuffer(l),o.bindFramebuffer(o.FRAMEBUFFER,null),o.deleteFramebuffer(this.webGLFramebuffer)}this.renderTexture=null,this.webGLFramebuffer=null,this.gl=null}}});r.exports=c},1482:(r,x,i)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=new a({initialize:function(o,u,l){this.webGLProgram=null,this.gl=o,this.vertexSource=u,this.fragmentSource=l,this.createResource()},createResource:function(){var c=this.gl;if(!c.isContextLost()){var o=c.createProgram(),u=c.createShader(c.VERTEX_SHADER),l=c.createShader(c.FRAGMENT_SHADER);c.shaderSource(u,this.vertexSource),c.shaderSource(l,this.fragmentSource),c.compileShader(u),c.compileShader(l);var d=`Shader failed:
`;if(!c.getShaderParameter(u,c.COMPILE_STATUS))throw new Error("Vertex "+d+c.getShaderInfoLog(u));if(!c.getShaderParameter(l,c.COMPILE_STATUS))throw new Error("Fragment "+d+c.getShaderInfoLog(l));if(c.attachShader(o,u),c.attachShader(o,l),c.linkProgram(o),!c.getProgramParameter(o,c.LINK_STATUS))throw new Error("Link "+d+c.getProgramInfoLog(o));c.useProgram(o),this.webGLProgram=o}},destroy:function(){this.webGLProgram&&(this.gl.isContextLost()||this.gl.deleteProgram(this.webGLProgram),this.webGLProgram=null,this.gl=null)}});r.exports=p},82751:(r,x,i)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(50030),c=new a({initialize:function(u,l,d,f,h,A,g,v,y,C,b,T,S){this.webGLTexture=null,this.isRenderTexture=!1,this.gl=u,this.mipLevel=l,this.minFilter=d,this.magFilter=f,this.wrapT=h,this.wrapS=A,this.format=g,this.pixels=v,this.width=y,this.height=C,this.pma=b??!0,this.forceSize=!!T,this.flipY=!!S,this.__SPECTOR_Metadata={},this.createResource()},createResource:function(){var o=this.gl;if(!o.isContextLost()){if(this.pixels instanceof c){this.webGLTexture=this.pixels.webGLTexture;return}var u=o.createTexture();u.__SPECTOR_Metadata=this.__SPECTOR_Metadata,this.webGLTexture=u,this._processTexture()}},update:function(o,u,l,d,f,h,A,g,v){if(!(u===0||l===0)){this.pixels=o,this.width=u,this.height=l,this.flipY=d,this.wrapS=f,this.wrapT=h,this.minFilter=A,this.magFilter=g,this.format=v;var y=this.gl;y.isContextLost()||this._processTexture()}},_processTexture:function(){var o=this.gl;o.activeTexture(o.TEXTURE0);var u=o.getParameter(o.TEXTURE_BINDING_2D);o.bindTexture(o.TEXTURE_2D,this.webGLTexture),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,this.minFilter),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,this.magFilter),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,this.wrapS),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,this.wrapT),o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.pma),o.pixelStorei(o.UNPACK_FLIP_Y_WEBGL,this.flipY);var l=this.pixels,d=this.mipLevel,f=this.width,h=this.height,A=this.format,g=!1;if(l==null)o.texImage2D(o.TEXTURE_2D,d,A,f,h,0,A,o.UNSIGNED_BYTE,null),g=p(f,h);else if(l.compressed){f=l.width,h=l.height,g=l.generateMipmap;for(var v=0;v<l.mipmaps.length;v++)o.compressedTexImage2D(o.TEXTURE_2D,v,l.internalFormat,l.mipmaps[v].width,l.mipmaps[v].height,0,l.mipmaps[v].data)}else l instanceof Uint8Array?(o.texImage2D(o.TEXTURE_2D,d,A,f,h,0,A,o.UNSIGNED_BYTE,l),g=p(f,h)):(this.forceSize||(f=l.width,h=l.height),o.texImage2D(o.TEXTURE_2D,d,A,A,o.UNSIGNED_BYTE,l),g=p(f,h));g&&o.generateMipmap(o.TEXTURE_2D),u?o.bindTexture(o.TEXTURE_2D,u):o.bindTexture(o.TEXTURE_2D,null)},spectorMetadata:{get:function(){return this.__SPECTOR_Metadata},set:function(o){this.__SPECTOR_Metadata=o,this.gl.isContextLost()||(this.webGLTexture.__SPECTOR_Metadata=o)}},destroy:function(){this.webGLTexture!==null&&(this.gl.isContextLost()||this.pixels instanceof c||this.gl.deleteTexture(this.webGLTexture),this.pixels=null,this.webGLTexture=null,this.gl=null)}});r.exports=c},57183:(r,x,i)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=new a({initialize:function(o,u,l){this.webGLUniformLocation=null,this.gl=o,this.program=u,this.name=l,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLUniformLocation=null;return}var c=this.gl;c.isContextLost()||(this.webGLUniformLocation=c.getUniformLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLUniformLocation=null}});r.exports=p},9503:(r,x,i)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={WebGLAttribLocationWrapper:i(93567),WebGLBufferWrapper:i(26128),WebGLProgramWrapper:i(1482),WebGLTextureWrapper:i(82751),WebGLFramebufferWrapper:i(84387),WebGLUniformLocationWrapper:i(57183)};r.exports=a},76531:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(13560),p=i(83419),c=i(45319),o=i(50792),u=i(97480),l=i(8443),d=i(57811),f=i(74403),h=i(45818),A=i(29747),g=i(87841),v=i(86555),y=i(56583),C=i(26099),b=i(38058),T=new p({Extends:o,initialize:function(F){o.call(this),this.game=F,this.canvas,this.canvasBounds=new g,this.parent=null,this.parentIsWindow=!1,this.parentSize=new v,this.gameSize=new v,this.baseSize=new v,this.displaySize=new v,this.scaleMode=a.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new C(1,1),this.autoRound=!1,this.autoCenter=a.CENTER.NO_CENTER,this.orientation=a.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:A,windowResize:A,fullScreenChange:A,fullScreenError:A}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(l.BOOT,this.boot,this)},boot:function(){var S=this.game;this.canvas=S.canvas,this.fullscreen=S.device.fullscreen;var F=this.scaleMode;F!==a.SCALE_MODE.RESIZE&&F!==a.SCALE_MODE.EXPAND&&this.displaySize.setAspectMode(F),F===a.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),S.events.on(l.PRE_STEP,this.step,this),S.events.once(l.READY,this.refresh,this),S.events.once(l.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(S){this.getParent(S),this.getParentBounds();var F=S.width,B=S.height,N=S.scaleMode,L=S.zoom,R=S.autoRound;if(typeof F=="string")if(F.substr(-1)!=="%")F=parseInt(F,10);else{var I=this.parentSize.width;I===0&&(I=window.innerWidth);var M=parseInt(F,10)/100;F=Math.floor(I*M)}if(typeof B=="string")if(B.substr(-1)!=="%")B=parseInt(B,10);else{var P=this.parentSize.height;P===0&&(P=window.innerHeight);var U=parseInt(B,10)/100;B=Math.floor(P*U)}this.scaleMode=N,this.autoRound=R,this.autoCenter=S.autoCenter,this.resizeInterval=S.resizeInterval,R&&(F=Math.floor(F),B=Math.floor(B)),this.gameSize.setSize(F,B),L===a.ZOOM.MAX_ZOOM&&(L=this.getMaxZoom()),this.zoom=L,L!==1&&(this._resetZoom=!0),this.baseSize.setSize(F,B),R&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),S.minWidth>0&&this.displaySize.setMin(S.minWidth*L,S.minHeight*L),S.maxWidth>0&&this.displaySize.setMax(S.maxWidth*L,S.maxHeight*L),this.displaySize.setSize(F,B),(S.snapWidth>0||S.snapHeight>0)&&this.displaySize.setSnap(S.snapWidth,S.snapHeight),this.orientation=h(F,B)},getParent:function(S){var F=S.parent;if(F!==null){if(this.parent=f(F),this.parentIsWindow=this.parent===document.body,S.expandParent&&S.scaleMode!==a.SCALE_MODE.NONE){var B=this.parent.getBoundingClientRect();(this.parentIsWindow||B.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",B=this.parent.getBoundingClientRect(),!this.parentIsWindow&&B.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}S.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=f(S.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var S=this.parentSize,F=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(F.height=d(!0));var B=F.width,N=F.height;if(S.width!==B||S.height!==N)return S.setSize(B,N),!0;if(this.canvas){var L=this.canvasBounds,R=this.canvas.getBoundingClientRect();if(R.x!==L.x||R.y!==L.y)return!0}return!1},lockOrientation:function(S){var F=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return F?F.call(screen,S):!1},setParentSize:function(S,F){return this.parentSize.setSize(S,F),this.refresh()},setGameSize:function(S,F){var B=this.autoRound;B&&(S=Math.floor(S),F=Math.floor(F));var N=this.width,L=this.height;return this.gameSize.resize(S,F),this.baseSize.resize(S,F),B&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(S/F),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(N,L)},resize:function(S,F){var B=this.zoom,N=this.autoRound;N&&(S=Math.floor(S),F=Math.floor(F));var L=this.width,R=this.height;this.gameSize.resize(S,F),this.baseSize.resize(S,F),N&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(S*B,F*B),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var I=this.canvas.style,M=S*B,P=F*B;return N&&(M=Math.floor(M),P=Math.floor(P)),(M!==S||P!==F)&&(I.width=M+"px",I.height=P+"px"),this.refresh(L,R)},setZoom:function(S){return this.zoom=S,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},setSnap:function(S,F){return S===void 0&&(S=0),F===void 0&&(F=S),this.displaySize.setSnap(S,F),this.refresh()},refresh:function(S,F){S===void 0&&(S=this.width),F===void 0&&(F=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var B=this.game.domContainer;if(B){this.baseSize.setCSS(B);var N=this.canvas.style,L=B.style;L.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",L.marginLeft=N.marginLeft,L.marginTop=N.marginTop}return this.emit(u.RESIZE,this.gameSize,this.baseSize,this.displaySize,S,F),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var S=h(this.width,this.height);S!==this.orientation&&(this.orientation=S,this.emit(u.ORIENTATION_CHANGE,S))}},updateScale:function(){var S=this.canvas.style,F=this.gameSize.width,B=this.gameSize.height,N,L,R=this.zoom,I=this.autoRound;if(this.scaleMode===a.SCALE_MODE.NONE)this.displaySize.setSize(F*R,B*R),N=this.displaySize.width,L=this.displaySize.height,I&&(N=Math.floor(N),L=Math.floor(L)),this._resetZoom&&(S.width=N+"px",S.height=L+"px",this._resetZoom=!1);else if(this.scaleMode===a.SCALE_MODE.RESIZE)this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),N=this.displaySize.width,L=this.displaySize.height,I&&(N=Math.floor(N),L=Math.floor(L)),this.canvas.width=N,this.canvas.height=L;else if(this.scaleMode===a.SCALE_MODE.EXPAND){var M=this.game.config.width,P=this.game.config.height,U=this.parentSize.width,z=this.parentSize.height,W=U/M,Z=z/P,j,H;W<Z?(j=M,H=W!==0?z/W:P):(j=Z!==0?U/Z:M,H=P);var V=c(j,this.displaySize.minWidth,this.displaySize.maxWidth),k=c(H,this.displaySize.minHeight,this.displaySize.maxHeight);this.baseSize.setSize(V,k),this.gameSize.setSize(V,k),I&&(V=Math.floor(V),k=Math.floor(k)),this.canvas.width=V,this.canvas.height=k;var X=U*(V/j),Q=z*(k/H);this.displaySize.setSize(X,Q),N=this.displaySize.width,L=this.displaySize.height,I&&(N=Math.floor(N),L=Math.floor(L)),S.width=N+"px",S.height=L+"px"}else this.displaySize.setSize(this.parentSize.width,this.parentSize.height),N=this.displaySize.width,L=this.displaySize.height,I&&(N=Math.floor(N),L=Math.floor(L)),S.width=N+"px",S.height=L+"px";this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var S=y(this.parentSize.width,this.gameSize.width,0,!0),F=y(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(S,F),1)},updateCenter:function(){var S=this.autoCenter;if(S!==a.CENTER.NO_CENTER){var F=this.canvas,B=F.style,N=F.getBoundingClientRect(),L=N.width,R=N.height,I=Math.floor((this.parentSize.width-L)/2),M=Math.floor((this.parentSize.height-R)/2);S===a.CENTER.CENTER_HORIZONTALLY?M=0:S===a.CENTER.CENTER_VERTICALLY&&(I=0),B.marginLeft=I+"px",B.marginTop=M+"px"}},updateBounds:function(){var S=this.canvasBounds,F=this.canvas.getBoundingClientRect();S.x=F.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),S.y=F.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),S.width=F.width,S.height=F.height},transformX:function(S){return(S-this.canvasBounds.left)*this.displayScale.x},transformY:function(S){return(S-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(S){S===void 0&&(S={navigationUI:"hide"});var F=this.fullscreen;if(!F.available){this.emit(u.FULLSCREEN_UNSUPPORTED);return}if(!F.active){var B=this.getFullscreenTarget();F.keyboard?B[F.request](Element.ALLOW_KEYBOARD_INPUT):B[F.request](S)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(u.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(S){this.removeFullscreenTarget(),this.emit(u.FULLSCREEN_FAILED,S)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var S=document.createElement("div");S.style.margin="0",S.style.padding="0",S.style.width="100%",S.style.height="100%",this.fullscreenTarget=S,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var F=this.canvas.parentNode;F.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var S=this.fullscreenTarget;if(S&&S.parentNode){var F=S.parentNode;F.insertBefore(this.canvas,S),F.removeChild(S)}}},stopFullscreen:function(){var S=this.fullscreen;if(!S.available)return this.emit(u.FULLSCREEN_UNSUPPORTED),!1;S.active&&document[S.cancel](),this.removeFullscreenTarget()},leaveFullScreenSuccessHandler:function(){this.getParentBounds(),this.emit(u.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(S){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(S)},startListeners:function(){var S=this,F=this.domlisteners;if(F.orientationChange=function(){S.updateBounds(),S._checkOrientation=!0,S.dirty=!0,S.refresh()},F.windowResize=function(){S.updateBounds(),S.dirty=!0},screen.orientation&&screen.orientation.addEventListener?screen.orientation.addEventListener("change",F.orientationChange,!1):window.addEventListener("orientationchange",F.orientationChange,!1),window.addEventListener("resize",F.windowResize,!1),this.fullscreen.available){F.fullScreenChange=function(N){return S.onFullScreenChange(N)},F.fullScreenError=function(N){return S.onFullScreenError(N)};var B=["webkit","moz",""];B.forEach(function(N){document.addEventListener(N+"fullscreenchange",F.fullScreenChange,!1),document.addEventListener(N+"fullscreenerror",F.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",F.fullScreenChange,!1),document.addEventListener("MSFullscreenError",F.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():(this.stopFullscreen(),this.leaveFullScreenSuccessHandler())},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(S,F){S instanceof b||(F=S,S=void 0),F===void 0&&(F=new g);var B=this.baseSize,N=this.parentSize,L=this.canvasBounds,R=this.displayScale,I=L.x>=0?0:-(L.x*R.x),M=L.y>=0?0:-(L.y*R.y),P;N.width>=L.width?P=B.width:P=B.width-(L.width-N.width)*R.x;var U;return N.height>=L.height?U=B.height:U=B.height-(L.height-N.height)*R.y,F.setTo(I,M,P,U),S&&(F.width/=S.zoomX,F.height/=S.zoomY,F.centerX=S.centerX+S.scrollX,F.centerY=S.centerY+S.scrollY),F},step:function(S,F){this.parent&&(this._lastCheck+=F,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var S=this.domlisteners;screen.orientation&&screen.orientation.addEventListener?screen.orientation.removeEventListener("change",S.orientationChange,!1):window.removeEventListener("orientationchange",S.orientationChange,!1),window.removeEventListener("resize",S.windowResize,!1);var F=["webkit","moz",""];F.forEach(function(B){document.removeEventListener(B+"fullscreenchange",S.fullScreenChange,!1),document.removeEventListener(B+"fullscreenerror",S.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",S.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",S.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===a.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===a.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});r.exports=T},64743:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},39218:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={LANDSCAPE:"landscape-primary",LANDSCAPE_SECONDARY:"landscape-secondary",PORTRAIT:"portrait-primary",PORTRAIT_SECONDARY:"portrait-secondary"}},81050:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5,EXPAND:6}},80805:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},13560:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={CENTER:i(64743),ORIENTATION:i(39218),SCALE_MODE:i(81050),ZOOM:i(80805)};r.exports=a},56139:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="enterfullscreen"},2336:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="fullscreenfailed"},47412:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="fullscreenunsupported"},51452:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="leavefullscreen"},20666:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="orientationchange"},47945:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="resize"},97480:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ENTER_FULLSCREEN:i(56139),FULLSCREEN_FAILED:i(2336),FULLSCREEN_UNSUPPORTED:i(47412),LEAVE_FULLSCREEN:i(51452),ORIENTATION_CHANGE:i(20666),RESIZE:i(47945)}},93364:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(79291),p=i(13560),c={Center:i(64743),Events:i(97480),Orientation:i(39218),ScaleManager:i(76531),ScaleModes:i(81050),Zoom:i(80805)};c=a(!1,c,p.CENTER),c=a(!1,c,p.ORIENTATION),c=a(!1,c,p.SCALE_MODE),c=a(!1,c,p.ZOOM),r.exports=c},27397:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(95540),p=i(35355),c=function(o){var u=o.game.config.defaultPhysicsSystem,l=a(o.settings,"physics",!1);if(!(!u&&!l)){var d=[];if(u&&d.push(p(u+"Physics")),l)for(var f in l)f=p(f.concat("Physics")),d.indexOf(f)===-1&&d.push(f);return d}};r.exports=c},52106:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(95540),p=function(c){var o=c.plugins.getDefaultScenePlugins(),u=a(c.settings,"plugins",!1);return Array.isArray(u)?u:o||[]};r.exports=p},87033:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};r.exports=x},97482:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(2368),c=new a({initialize:function(u){this.sys=new p(this,u),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});r.exports=c},60903:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(89993),c=i(44594),o=i(8443),u=i(35154),l=i(54899),d=i(29747),f=i(97482),h=i(2368),A=new a({initialize:function(v,y){if(this.game=v,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,this.systemScene,y){Array.isArray(y)||(y=[y]);for(var C=0;C<y.length;C++)this._pending.push({key:"default",scene:y[C],autoStart:C===0,data:{}})}v.events.once(o.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){this.systemScene=this.createSceneFromInstance("__SYSTEM",new f),this.game.events.emit(o.SYSTEM_READY,this.systemScene,this);var g,v,y,C;for(g=0;g<this._pending.length;g++){v=this._pending[g],y=v.key,C=v.scene;var b;C instanceof f?b=this.createSceneFromInstance(y,C):typeof C=="object"?b=this.createSceneFromObject(y,C):typeof C=="function"&&(b=this.createSceneFromFunction(y,C)),y=b.sys.settings.key,this.keys[y]=b,this.scenes.push(b),this._data[y]&&(b.sys.settings.data=this._data[y].data,this._data[y].autoStart&&(v.autoStart=!0)),(v.autoStart||b.sys.settings.active)&&this._start.push(y)}for(this._pending.length=0,this._data={},this.isBooted=!0,g=0;g<this._start.length;g++)v=this._start[g],this.start(v);this._start.length=0}},processQueue:function(){var g=this._pending.length,v=this._queue.length;if(!(g===0&&v===0)){var y,C;if(g){for(y=0;y<g;y++)C=this._pending[y],this.add(C.key,C.scene,C.autoStart,C.data);for(y=0;y<this._start.length;y++)C=this._start[y],this.start(C);this._start.length=0,this._pending.length=0}for(y=0;y<this._queue.length;y++)C=this._queue[y],this[C.op](C.keyA,C.keyB,C.data);this._queue.length=0}},add:function(g,v,y,C){if(y===void 0&&(y=!1),C===void 0&&(C={}),this.isProcessing||!this.isBooted)return this._pending.push({key:g,scene:v,autoStart:y,data:C}),this.isBooted||(this._data[g]={data:C}),null;g=this.getKey(g,v);var b;return v instanceof f?b=this.createSceneFromInstance(g,v):typeof v=="object"?(v.key=g,b=this.createSceneFromObject(g,v)):typeof v=="function"&&(b=this.createSceneFromFunction(g,v)),b.sys.settings.data=C,g=b.sys.settings.key,this.keys[g]=b,this.scenes.push(b),(y||b.sys.settings.active)&&(this._pending.length?this._start.push(g):this.start(g)),b},remove:function(g){if(this.isProcessing)return this.queueOp("remove",g);var v=this.getScene(g);if(!v||v.sys.isTransitioning())return this;var y=this.scenes.indexOf(v),C=v.sys.settings.key;return y>-1&&(delete this.keys[C],this.scenes.splice(y,1),this._start.indexOf(C)>-1&&(y=this._start.indexOf(C),this._start.splice(y,1)),v.sys.destroy()),this},bootScene:function(g){var v=g.sys,y=v.settings;v.sceneUpdate=d,g.init&&(g.init.call(g,y.data),y.status=p.INIT,y.isTransition&&v.events.emit(c.TRANSITION_INIT,y.transitionFrom,y.transitionDuration));var C;v.load&&(C=v.load,C.reset()),C&&g.preload?(g.preload.call(g),y.status=p.LOADING,C.once(l.COMPLETE,this.loadComplete,this),C.start()):this.create(g)},loadComplete:function(g){this.create(g.scene)},payloadComplete:function(g){this.bootScene(g.scene)},update:function(g,v){this.processQueue(),this.isProcessing=!0;for(var y=this.scenes.length-1;y>=0;y--){var C=this.scenes[y].sys;C.settings.status>p.START&&C.settings.status<=p.RUNNING&&C.step(g,v),C.scenePlugin&&C.scenePlugin._target&&C.scenePlugin.step(g,v)}},render:function(g){for(var v=0;v<this.scenes.length;v++){var y=this.scenes[v].sys;y.settings.visible&&y.settings.status>=p.LOADING&&y.settings.status<p.SLEEPING&&y.render(g)}this.isProcessing=!1},create:function(g){var v=g.sys,y=v.settings;g.create&&(y.status=p.CREATING,g.create.call(g,y.data),y.status===p.DESTROYED)||(y.isTransition&&v.events.emit(c.TRANSITION_START,y.transitionFrom,y.transitionDuration),g.update&&(v.sceneUpdate=g.update),y.status=p.RUNNING,v.events.emit(c.CREATE,g))},createSceneFromFunction:function(g,v){var y=new v;if(y instanceof f){var C=y.sys.settings.key;if(C!==""&&(g=C),this.keys.hasOwnProperty(g))throw new Error("Cannot add Scene with duplicate key: "+g);return this.createSceneFromInstance(g,y)}else return y.sys=new h(y),y.sys.settings.key=g,y.sys.init(this.game),y},createSceneFromInstance:function(g,v){var y=v.sys.settings.key;return y===""&&(v.sys.settings.key=g),v.sys.init(this.game),v},createSceneFromObject:function(g,v){var y=new f(v),C=y.sys.settings.key;C!==""?g=C:y.sys.settings.key=g,y.sys.init(this.game);for(var b=["init","preload","create","update","render"],T=0;T<b.length;T++){var S=u(v,b[T],null);S&&(y[b[T]]=S)}if(v.hasOwnProperty("extend")){for(var F in v.extend)if(v.extend.hasOwnProperty(F)){var B=v.extend[F];F==="data"&&y.hasOwnProperty("data")&&typeof B=="object"?y.data.merge(B):F!=="sys"&&(y[F]=B)}}return y},getKey:function(g,v){if(g||(g="default"),typeof v=="function")return g;if(v instanceof f?g=v.sys.settings.key:typeof v=="object"&&v.hasOwnProperty("key")&&(g=v.key),this.keys.hasOwnProperty(g))throw new Error("Cannot add Scene with duplicate key: "+g);return g},getScenes:function(g,v){g===void 0&&(g=!0),v===void 0&&(v=!1);for(var y=[],C=this.scenes,b=0;b<C.length;b++){var T=C[b];T&&(!g||g&&T.sys.isActive())&&y.push(T)}return v?y.reverse():y},getScene:function(g){if(typeof g=="string"){if(this.keys[g])return this.keys[g]}else for(var v=0;v<this.scenes.length;v++)if(g===this.scenes[v])return g;return null},isActive:function(g){var v=this.getScene(g);return v?v.sys.isActive():null},isPaused:function(g){var v=this.getScene(g);return v?v.sys.isPaused():null},isVisible:function(g){var v=this.getScene(g);return v?v.sys.isVisible():null},isSleeping:function(g){var v=this.getScene(g);return v?v.sys.isSleeping():null},pause:function(g,v){var y=this.getScene(g);return y&&y.sys.pause(v),this},resume:function(g,v){var y=this.getScene(g);return y&&y.sys.resume(v),this},sleep:function(g,v){var y=this.getScene(g);return y&&!y.sys.isTransitioning()&&y.sys.sleep(v),this},wake:function(g,v){var y=this.getScene(g);return y&&y.sys.wake(v),this},run:function(g,v){var y=this.getScene(g);if(!y){for(var C=0;C<this._pending.length;C++)if(this._pending[C].key===g){this.queueOp("start",g,v);break}return this}y.sys.isSleeping()?y.sys.wake(v):y.sys.isPaused()?y.sys.resume(v):this.start(g,v)},start:function(g,v){if(!this.isBooted)return this._data[g]={autoStart:!0,data:v},this;var y=this.getScene(g);if(!y)return console.warn("Scene key not found: "+g),this;var C=y.sys,b=C.settings.status;if(b>=p.START&&b<=p.CREATING)return this;if(b>=p.RUNNING&&b<=p.SLEEPING)C.shutdown(),C.sceneUpdate=d,C.start(v);else{C.sceneUpdate=d,C.start(v);var T;if(C.load&&(T=C.load),T&&C.settings.hasOwnProperty("pack")&&(T.reset(),T.addPack({payload:C.settings.pack})))return C.settings.status=p.LOADING,T.once(l.COMPLETE,this.payloadComplete,this),T.start(),this}return this.bootScene(y),this},stop:function(g,v){var y=this.getScene(g);if(y&&!y.sys.isTransitioning()&&y.sys.settings.status!==p.SHUTDOWN){var C=y.sys.load;C&&(C.off(l.COMPLETE,this.loadComplete,this),C.off(l.COMPLETE,this.payloadComplete,this)),y.sys.shutdown(v)}return this},switch:function(g,v,y){var C=this.getScene(g),b=this.getScene(v);return C&&b&&C!==b&&(this.sleep(g),this.isSleeping(v)?this.wake(v,y):this.start(v,y)),this},getAt:function(g){return this.scenes[g]},getIndex:function(g){var v=this.getScene(g);return this.scenes.indexOf(v)},bringToTop:function(g){if(this.isProcessing)return this.queueOp("bringToTop",g);var v=this.getIndex(g),y=this.scenes;if(v!==-1&&v<y.length){var C=this.getScene(g);y.splice(v,1),y.push(C)}return this},sendToBack:function(g){if(this.isProcessing)return this.queueOp("sendToBack",g);var v=this.getIndex(g);if(v!==-1&&v>0){var y=this.getScene(g);this.scenes.splice(v,1),this.scenes.unshift(y)}return this},moveDown:function(g){if(this.isProcessing)return this.queueOp("moveDown",g);var v=this.getIndex(g);if(v>0){var y=v-1,C=this.getScene(g),b=this.getAt(y);this.scenes[v]=b,this.scenes[y]=C}return this},moveUp:function(g){if(this.isProcessing)return this.queueOp("moveUp",g);var v=this.getIndex(g);if(v<this.scenes.length-1){var y=v+1,C=this.getScene(g),b=this.getAt(y);this.scenes[v]=b,this.scenes[y]=C}return this},moveAbove:function(g,v){if(g===v)return this;if(this.isProcessing)return this.queueOp("moveAbove",g,v);var y=this.getIndex(g),C=this.getIndex(v);if(y!==-1&&C!==-1&&C<y){var b=this.getAt(C);this.scenes.splice(C,1),this.scenes.splice(y+(C>y),0,b)}return this},moveBelow:function(g,v){if(g===v)return this;if(this.isProcessing)return this.queueOp("moveBelow",g,v);var y=this.getIndex(g),C=this.getIndex(v);if(y!==-1&&C!==-1&&C>y){var b=this.getAt(C);this.scenes.splice(C,1),y===0?this.scenes.unshift(b):this.scenes.splice(y-(C<y),0,b)}return this},queueOp:function(g,v,y,C){return this._queue.push({op:g,keyA:v,keyB:y,data:C}),this},swapPosition:function(g,v){if(g===v)return this;if(this.isProcessing)return this.queueOp("swapPosition",g,v);var y=this.getIndex(g),C=this.getIndex(v);if(y!==C&&y!==-1&&C!==-1){var b=this.getAt(y);this.scenes[y]=this.scenes[C],this.scenes[C]=b}return this},dump:function(){for(var g=[],v=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],y=0;y<this.scenes.length;y++){var C=this.scenes[y].sys,b=C.settings.visible&&(C.settings.status===p.RUNNING||C.settings.status===p.PAUSED)?"[*] ":"[-] ";b+=C.settings.key+" ("+v[C.settings.status]+")",g.push(b)}console.log(g.join(`
`))},destroy:function(){for(var g=0;g<this.scenes.length;g++){var v=this.scenes[g].sys;v.destroy()}this.systemScene.sys.destroy(),this.update=d,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});r.exports=A},52209:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(45319),p=i(83419),c=i(44594),o=i(95540),u=i(37277),l=new p({initialize:function(f){this.scene=f,this.systems=f.sys,this.settings=f.sys.settings,this.key=f.sys.settings.key,this.manager=f.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,f.sys.events.once(c.BOOT,this.boot,this),f.sys.events.on(c.START,this.pluginStart,this)},boot:function(){this.systems.events.once(c.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(c.SHUTDOWN,this.shutdown,this)},start:function(d,f){return d===void 0&&(d=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",d,f),this},restart:function(d){var f=this.key;return this.manager.queueOp("stop",f),this.manager.queueOp("start",f,d),this},transition:function(d){d===void 0&&(d={});var f=o(d,"target",!1),h=this.manager.getScene(f);if(!f||!this.checkValidTransition(h))return!1;var A=o(d,"duration",1e3);this._elapsed=0,this._target=h,this._duration=A,this._willSleep=o(d,"sleep",!1),this._willRemove=o(d,"remove",!1);var g=o(d,"onUpdate",null);g&&(this._onUpdate=g,this._onUpdateScope=o(d,"onUpdateScope",this.scene));var v=o(d,"allowInput",!1);this.settings.transitionAllowInput=v;var y=h.sys.settings;y.isTransition=!0,y.transitionFrom=this.scene,y.transitionDuration=A,y.transitionAllowInput=v,o(d,"moveAbove",!1)?this.manager.moveAbove(this.key,f):o(d,"moveBelow",!1)&&this.manager.moveBelow(this.key,f),h.sys.isSleeping()?h.sys.wake(o(d,"data")):this.manager.start(f,o(d,"data"));var C=o(d,"onStart",null),b=o(d,"onStartScope",this.scene);return C&&C.call(b,this.scene,h,A),this.systems.events.emit(c.TRANSITION_OUT,h,A),!0},checkValidTransition:function(d){return!(!d||d.sys.isActive()||d.sys.isTransitioning()||d===this.scene||this.systems.isTransitioning())},step:function(d,f){this._elapsed+=f,this.transitionProgress=a(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var d=this._target.sys,f=this._target.sys.settings;d.events.emit(c.TRANSITION_COMPLETE,this.scene),f.isTransition=!1,f.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(d,f,h,A){return this.manager.add(d,f,h,A)},launch:function(d,f){return d&&d!==this.key&&this.manager.queueOp("start",d,f),this},run:function(d,f){return d&&d!==this.key&&this.manager.queueOp("run",d,f),this},pause:function(d,f){return d===void 0&&(d=this.key),this.manager.queueOp("pause",d,f),this},resume:function(d,f){return d===void 0&&(d=this.key),this.manager.queueOp("resume",d,f),this},sleep:function(d,f){return d===void 0&&(d=this.key),this.manager.queueOp("sleep",d,f),this},wake:function(d,f){return d===void 0&&(d=this.key),this.manager.queueOp("wake",d,f),this},switch:function(d,f){return d!==this.key&&this.manager.queueOp("switch",this.key,d,f),this},stop:function(d,f){return d===void 0&&(d=this.key),this.manager.queueOp("stop",d,f),this},setActive:function(d,f,h){f===void 0&&(f=this.key);var A=this.manager.getScene(f);return A&&A.sys.setActive(d,h),this},setVisible:function(d,f){f===void 0&&(f=this.key);var h=this.manager.getScene(f);return h&&h.sys.setVisible(d),this},isSleeping:function(d){return d===void 0&&(d=this.key),this.manager.isSleeping(d)},isActive:function(d){return d===void 0&&(d=this.key),this.manager.isActive(d)},isPaused:function(d){return d===void 0&&(d=this.key),this.manager.isPaused(d)},isVisible:function(d){return d===void 0&&(d=this.key),this.manager.isVisible(d)},swapPosition:function(d,f){return f===void 0&&(f=this.key),d!==f&&this.manager.swapPosition(d,f),this},moveAbove:function(d,f){return f===void 0&&(f=this.key),d!==f&&this.manager.moveAbove(d,f),this},moveBelow:function(d,f){return f===void 0&&(f=this.key),d!==f&&this.manager.moveBelow(d,f),this},remove:function(d){return d===void 0&&(d=this.key),this.manager.remove(d),this},moveUp:function(d){return d===void 0&&(d=this.key),this.manager.moveUp(d),this},moveDown:function(d){return d===void 0&&(d=this.key),this.manager.moveDown(d),this},bringToTop:function(d){return d===void 0&&(d=this.key),this.manager.bringToTop(d),this},sendToBack:function(d){return d===void 0&&(d=this.key),this.manager.sendToBack(d),this},get:function(d){return this.manager.getScene(d)},getStatus:function(d){var f=this.manager.getScene(d);if(f)return f.sys.getStatus()},getIndex:function(d){return d===void 0&&(d=this.key),this.manager.getIndex(d)},shutdown:function(){var d=this.systems.events;d.off(c.SHUTDOWN,this.shutdown,this),d.off(c.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(c.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});u.register("ScenePlugin",l,"scenePlugin"),r.exports=l},55681:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(89993),p=i(35154),c=i(46975),o=i(87033),u={create:function(l){return typeof l=="string"?l={key:l}:l===void 0&&(l={}),{status:a.PENDING,key:p(l,"key",""),active:p(l,"active",!1),visible:p(l,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:p(l,"pack",!1),cameras:p(l,"cameras",null),map:p(l,"map",c(o,p(l,"mapAdd",{}))),physics:p(l,"physics",{}),loader:p(l,"loader",{}),plugins:p(l,"plugins",!1),input:p(l,"input",{})}}};r.exports=u},2368:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(89993),c=i(42363),o=i(44594),u=i(27397),l=i(52106),d=i(29747),f=i(55681),h=new a({initialize:function(g,v){this.scene=g,this.game,this.renderer,this.config=v,this.settings=f.create(v),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=d},init:function(A){this.settings.status=p.INIT,this.sceneUpdate=d,this.game=A,this.renderer=A.renderer,this.canvas=A.canvas,this.context=A.context;var g=A.plugins;this.plugins=g,g.addToScene(this,c.Global,[c.CoreScene,l(this),u(this)]),this.events.emit(o.BOOT,this),this.settings.isBooted=!0},step:function(A,g){var v=this.events;v.emit(o.PRE_UPDATE,A,g),v.emit(o.UPDATE,A,g),this.sceneUpdate.call(this.scene,A,g),v.emit(o.POST_UPDATE,A,g)},render:function(A){var g=this.displayList;g.depthSort(),this.events.emit(o.PRE_RENDER,A),this.cameras.render(A,g),this.events.emit(o.RENDER,A)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(A){var g=this.settings,v=this.getStatus();return v!==p.CREATING&&v!==p.RUNNING?console.warn("Cannot pause non-running Scene",g.key):this.settings.active&&(g.status=p.PAUSED,g.active=!1,this.events.emit(o.PAUSE,this,A)),this},resume:function(A){var g=this.events,v=this.settings;return this.settings.active||(v.status=p.RUNNING,v.active=!0,g.emit(o.RESUME,this,A)),this},sleep:function(A){var g=this.settings,v=this.getStatus();return v!==p.CREATING&&v!==p.RUNNING?console.warn("Cannot sleep non-running Scene",g.key):(g.status=p.SLEEPING,g.active=!1,g.visible=!1,this.events.emit(o.SLEEP,this,A)),this},wake:function(A){var g=this.events,v=this.settings;return v.status=p.RUNNING,v.active=!0,v.visible=!0,g.emit(o.WAKE,this,A),v.isTransition&&g.emit(o.TRANSITION_WAKE,v.transitionFrom,v.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var A=this.settings.status;return A>p.PENDING&&A<=p.RUNNING},isSleeping:function(){return this.settings.status===p.SLEEPING},isActive:function(){return this.settings.status===p.RUNNING},isPaused:function(){return this.settings.status===p.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(A){return this.settings.visible=A,this},setActive:function(A,g){return A?this.resume(g):this.pause(g)},start:function(A){var g=this.events,v=this.settings;A&&(v.data=A),v.status=p.START,v.active=!0,v.visible=!0,g.emit(o.START,this),g.emit(o.READY,this,A)},shutdown:function(A){var g=this.events,v=this.settings;g.off(o.TRANSITION_INIT),g.off(o.TRANSITION_START),g.off(o.TRANSITION_COMPLETE),g.off(o.TRANSITION_OUT),v.status=p.SHUTDOWN,v.active=!1,v.visible=!1,g.emit(o.SHUTDOWN,this,A)},destroy:function(){var A=this.events,g=this.settings;g.status=p.DESTROYED,g.active=!1,g.visible=!1,A.emit(o.DESTROY,this),A.removeAllListeners();for(var v=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],y=0;y<v.length;y++)this[v[y]]=null}});r.exports=h},89993:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};r.exports=x},69830:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="addedtoscene"},7919:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="boot"},46763:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="create"},11763:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="destroy"},71555:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pause"},36735:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="postupdate"},3809:r=>{/**
 * @author       samme
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="prerender"},90716:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="preupdate"},58262:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="ready"},91633:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="removedfromscene"},10319:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="render"},87132:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="resume"},81961:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="shutdown"},90194:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="sleep"},6265:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="start"},33178:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="transitioncomplete"},43063:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="transitioninit"},11259:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="transitionout"},61611:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="transitionstart"},45209:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="transitionwake"},22966:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="update"},21747:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="wake"},44594:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ADDED_TO_SCENE:i(69830),BOOT:i(7919),CREATE:i(46763),DESTROY:i(11763),PAUSE:i(71555),POST_UPDATE:i(36735),PRE_RENDER:i(3809),PRE_UPDATE:i(90716),READY:i(58262),REMOVED_FROM_SCENE:i(91633),RENDER:i(10319),RESUME:i(87132),SHUTDOWN:i(81961),SLEEP:i(90194),START:i(6265),TRANSITION_COMPLETE:i(33178),TRANSITION_INIT:i(43063),TRANSITION_OUT:i(11259),TRANSITION_START:i(61611),TRANSITION_WAKE:i(45209),UPDATE:i(22966),WAKE:i(21747)}},62194:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(89993),p=i(79291),c={Events:i(44594),GetPhysicsPlugins:i(27397),GetScenePlugins:i(52106),SceneManager:i(60903),ScenePlugin:i(52209),Settings:i(55681),Systems:i(2368)};c=p(!1,c,a),r.exports=c},30341:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(50792),c=i(14463),o=i(79291),u=i(29747),l=new a({Extends:p,initialize:function(f,h,A){p.call(this),this.manager=f,this.key=h,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=o(this.config,A),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(d){return!d||!d.name||typeof d.name!="string"?!1:this.markers[d.name]?(console.error("addMarker "+d.name+" already exists in Sound"),!1):(d=o(!0,{name:"",start:0,duration:this.totalDuration-(d.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},d),this.markers[d.name]=d,!0)},updateMarker:function(d){return!d||!d.name||typeof d.name!="string"?!1:this.markers[d.name]?(this.markers[d.name]=o(!0,this.markers[d.name],d),!0):(console.warn("Audio Marker: "+d.name+" missing in Sound: "+this.key),!1)},removeMarker:function(d){var f=this.markers[d];return f?(this.markers[d]=null,f):null},play:function(d,f){if(d===void 0&&(d=""),typeof d=="object"&&(f=d,d=""),typeof d!="string")return!1;if(!d)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[d])return console.warn("Marker: "+d+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[d],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=o(this.currentConfig,f),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:u,calculateRate:function(){var d=1.0005777895065548,f=this.currentConfig.detune+this.manager.detune,h=Math.pow(d,f);this.totalRate=this.currentConfig.rate*this.manager.rate*h},destroy:function(){this.pendingRemove||(this.stop(),this.emit(c.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});r.exports=l},85034:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(41786),c=i(50792),o=i(14463),u=i(8443),l=i(46710),d=i(58731),f=i(29747),h=i(26099),A=new a({Extends:c,initialize:function(v){c.call(this),this.game=v,this.jsonCache=v.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new h;var y=v.events;y.on(u.BLUR,this.onGameBlur,this),y.on(u.FOCUS,this.onGameFocus,this),y.on(u.PRE_STEP,this.update,this),y.once(u.DESTROY,this.destroy,this)},add:f,addAudioSprite:function(g,v){v===void 0&&(v={});var y=this.add(g,v);y.spritemap=this.jsonCache.get(g).spritemap;for(var C in y.spritemap)if(y.spritemap.hasOwnProperty(C)){var b=p(v),T=y.spritemap[C];b.loop=T.hasOwnProperty("loop")?T.loop:!1,y.addMarker({name:C,start:T.start,duration:T.end-T.start,config:b})}return y},get:function(g){return d(this.sounds,"key",g)},getAll:function(g){return g?l(this.sounds,"key",g):l(this.sounds)},getAllPlaying:function(){return l(this.sounds,"isPlaying",!0)},play:function(g,v){var y=this.add(g);return y.once(o.COMPLETE,y.destroy,y),v?v.name?(y.addMarker(v),y.play(v.name)):y.play(v):y.play()},playAudioSprite:function(g,v,y){var C=this.addAudioSprite(g);return C.once(o.COMPLETE,C.destroy,C),C.play(v,y)},remove:function(g){var v=this.sounds.indexOf(g);return v!==-1?(g.destroy(),this.sounds.splice(v,1),!0):!1},removeAll:function(){this.sounds.forEach(function(g){g.destroy()}),this.sounds.length=0},removeByKey:function(g){for(var v=0,y=this.sounds.length-1;y>=0;y--){var C=this.sounds[y];C.key===g&&(C.destroy(),this.sounds.splice(y,1),v++)}return v},pauseAll:function(){this.forEachActiveSound(function(g){g.pause()}),this.emit(o.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(g){g.resume()}),this.emit(o.RESUME_ALL,this)},setListenerPosition:f,stopAll:function(){this.forEachActiveSound(function(g){g.stop()}),this.emit(o.STOP_ALL,this)},stopByKey:function(g){var v=0;return this.getAll(g).forEach(function(y){y.stop()&&v++}),v},isPlaying:function(g){var v=this.sounds,y=v.length-1,C;if(g===void 0){for(;y>=0;y--)if(C=this.sounds[y],C.isPlaying)return!0}else for(;y>=0;y--)if(C=this.sounds[y],C.key===g&&C.isPlaying)return!0;return!1},unlock:f,onBlur:f,onFocus:f,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(g,v){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(o.UNLOCKED,this));for(var y=this.sounds.length-1;y>=0;y--)this.sounds[y].pendingRemove&&this.sounds.splice(y,1);this.sounds.forEach(function(C){C.update(g,v)})},destroy:function(){this.game.events.off(u.BLUR,this.onGameBlur,this),this.game.events.off(u.FOCUS,this.onGameFocus,this),this.game.events.off(u.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(g,v){var y=this;this.sounds.forEach(function(C,b){C&&!C.pendingRemove&&g.call(v||y,C,b,y.sounds)})},setRate:function(g){return this.rate=g,this},rate:{get:function(){return this._rate},set:function(g){this._rate=g,this.forEachActiveSound(function(v){v.calculateRate()}),this.emit(o.GLOBAL_RATE,this,g)}},setDetune:function(g){return this.detune=g,this},detune:{get:function(){return this._detune},set:function(g){this._detune=g,this.forEachActiveSound(function(v){v.calculateRate()}),this.emit(o.GLOBAL_DETUNE,this,g)}}});r.exports=A},14747:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(33684),p=i(25960),c=i(57490),o={create:function(u){var l=u.config.audio,d=u.device.audio;return l.noAudio||!d.webAudio&&!d.audioData?new p(u):d.webAudio&&!l.disableWebAudio?new c(u):new a(u)}};r.exports=o},19723:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="complete"},98882:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="decodedall"},57506:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="decoded"},73146:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="destroy"},11305:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="detune"},40577:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="detune"},30333:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="mute"},20394:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="rate"},21802:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="volume"},1299:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="looped"},99190:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="loop"},97125:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="mute"},89259:r=>{/**
 * @author       pi-kei
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pan"},79986:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pauseall"},17586:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pause"},19618:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="play"},42306:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="rate"},10387:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="resumeall"},48959:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="resume"},9960:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="seek"},19180:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="stopall"},98328:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="stop"},50401:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="unlocked"},52498:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="volume"},14463:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={COMPLETE:i(19723),DECODED:i(57506),DECODED_ALL:i(98882),DESTROY:i(73146),DETUNE:i(11305),GLOBAL_DETUNE:i(40577),GLOBAL_MUTE:i(30333),GLOBAL_RATE:i(20394),GLOBAL_VOLUME:i(21802),LOOP:i(99190),LOOPED:i(1299),MUTE:i(97125),PAN:i(89259),PAUSE_ALL:i(79986),PAUSE:i(17586),PLAY:i(19618),RATE:i(42306),RESUME_ALL:i(10387),RESUME:i(48959),SEEK:i(9960),STOP_ALL:i(19180),STOP:i(98328),UNLOCKED:i(50401),VOLUME:i(52498)}},64895:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(30341),p=i(83419),c=i(14463),o=i(45319),u=new p({Extends:a,initialize:function(d,f,h){if(h===void 0&&(h={}),this.tags=d.game.cache.audio.get(f),!this.tags)throw new Error('No cached audio asset with key "'+f);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,a.call(this,d,f,h)},play:function(l,d){return this.manager.isLocked(this,"play",[l,d])||!a.prototype.play.call(this,l,d)||!this.pickAndPlayAudioTag()?!1:(this.emit(c.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!a.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(c.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!a.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(c.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!a.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(c.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var l=this.currentConfig.seek,d=this.currentConfig.delay,f=(this.currentMarker?this.currentMarker.start:0)+l;return this.previousTime=f,this.audio.currentTime=f,this.applyConfig(),d===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+d*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var l=0;l<this.tags.length;l++){var d=this.tags[l];if(d.dataset.used==="false")return d.dataset.used="true",this.audio=d,!0}if(!this.manager.override)return!1;var f=[];this.manager.forEachActiveSound(function(A){A.key===this.key&&A.audio&&f.push(A)},this),f.sort(function(A,g){return A.loop===g.loop?g.seek/g.duration-A.seek/A.duration:A.loop?1:-1});var h=f[0];return this.audio=h.audio,h.reset(),h.audio=null,h.startTime=0,h.previousTime=0,!0},playCatchPromise:function(){var l=this.audio.play();l&&l.catch(function(d){console.warn(d)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){a.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(l){if(this.isPlaying){if(this.startTime>0){this.startTime<l-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,l-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var d=this.currentMarker?this.currentMarker.start:0,f=d+this.duration,h=this.audio.currentTime;if(this.currentConfig.loop)h>=f-this.manager.loopEndOffset?(this.audio.currentTime=d+Math.max(0,h-f),h=this.audio.currentTime):h<d&&(this.audio.currentTime+=d,h=this.audio.currentTime),h<this.previousTime&&this.emit(c.LOOPED,this);else if(h>=f){this.reset(),this.stopAndReleaseAudioTag(),this.emit(c.COMPLETE,this);return}this.previousTime=h}},destroy:function(){a.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=o(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){a.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(l){this.currentConfig.mute=l,!this.manager.isLocked(this,"mute",l)&&(this.updateMute(),this.emit(c.MUTE,this,l))}},setMute:function(l){return this.mute=l,this},volume:{get:function(){return this.currentConfig.volume},set:function(l){this.currentConfig.volume=l,!this.manager.isLocked(this,"volume",l)&&(this.updateVolume(),this.emit(c.VOLUME,this,l))}},setVolume:function(l){return this.volume=l,this},rate:{get:function(){return this.currentConfig.rate},set:function(l){this.currentConfig.rate=l,!this.manager.isLocked(this,c.RATE,l)&&(this.calculateRate(),this.emit(c.RATE,this,l))}},setRate:function(l){return this.rate=l,this},detune:{get:function(){return this.currentConfig.detune},set:function(l){this.currentConfig.detune=l,!this.manager.isLocked(this,c.DETUNE,l)&&(this.calculateRate(),this.emit(c.DETUNE,this,l))}},setDetune:function(l){return this.detune=l,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(l){this.manager.isLocked(this,"seek",l)||this.startTime>0||(this.isPlaying||this.isPaused)&&(l=Math.min(Math.max(0,l),this.duration),this.isPlaying?(this.previousTime=l,this.audio.currentTime=l):this.isPaused&&(this.currentConfig.seek=l),this.emit(c.SEEK,this,l))}},setSeek:function(l){return this.seek=l,this},loop:{get:function(){return this.currentConfig.loop},set:function(l){this.currentConfig.loop=l,!this.manager.isLocked(this,"loop",l)&&(this.audio&&(this.audio.loop=l),this.emit(c.LOOP,this,l))}},setLoop:function(l){return this.loop=l,this},pan:{get:function(){return this.currentConfig.pan},set:function(l){this.currentConfig.pan=l,this.emit(c.PAN,this,l)}},setPan:function(l){return this.pan=l,this}});r.exports=u},33684:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(85034),p=i(83419),c=i(14463),o=i(64895),u=new p({Extends:a,initialize:function(d){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,a.call(this,d)},add:function(l,d){var f=new o(this,l,d);return this.sounds.push(f),f},unlock:function(){this.locked=!1;var l=this;if(this.game.cache.audio.entries.each(function(A,g){for(var v=0;v<g.length;v++)if(g[v].dataset.locked==="true")return l.locked=!0,!1;return!0}),!!this.locked){var d=!1,f=function(){d=!0},h=function(){if(d){d=!1;return}document.body.removeEventListener("touchmove",f),document.body.removeEventListener("touchend",h);var A=[];if(l.game.cache.audio.entries.each(function(v,y){for(var C=0;C<y.length;C++){var b=y[C];b.dataset.locked==="true"&&A.push(b)}return!0}),A.length!==0){var g=A[A.length-1];g.oncanplaythrough=function(){g.oncanplaythrough=null,A.forEach(function(v){v.dataset.locked="false"}),l.unlocked=!0},A.forEach(function(v){v.load()})}};this.once(c.UNLOCKED,function(){for(this.forEachActiveSound(function(g){g.currentMarker===null&&g.duration===0&&(g.duration=g.tags[0].duration),g.totalDuration=g.tags[0].duration});this.lockedActionsQueue.length;){var A=this.lockedActionsQueue.shift();A.sound[A.prop].apply?A.sound[A.prop].apply(A.sound,A.value||[]):A.sound[A.prop]=A.value}},this),document.body.addEventListener("touchmove",f,!1),document.body.addEventListener("touchend",h,!1)}},onBlur:function(){this.forEachActiveSound(function(l){l.isPlaying&&(this.onBlurPausedSounds.push(l),l.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(l){l.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){a.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(l,d,f){return l.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:l,prop:d,value:f}),!0):!1},setMute:function(l){return this.mute=l,this},mute:{get:function(){return this._mute},set:function(l){this._mute=l,this.forEachActiveSound(function(d){d.updateMute()}),this.emit(c.GLOBAL_MUTE,this,l)}},setVolume:function(l){return this.volume=l,this},volume:{get:function(){return this._volume},set:function(l){this._volume=l,this.forEachActiveSound(function(d){d.updateVolume()}),this.emit(c.GLOBAL_VOLUME,this,l)}}});r.exports=u},23717:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={SoundManagerCreator:i(14747),Events:i(14463),BaseSound:i(30341),BaseSoundManager:i(85034),WebAudioSound:i(71741),WebAudioSoundManager:i(57490),HTML5AudioSound:i(64895),HTML5AudioSoundManager:i(33684),NoAudioSound:i(4603),NoAudioSoundManager:i(25960)}},4603:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(30341),p=i(83419),c=i(50792),o=i(79291),u=i(29747),l=function(){return!1},d=function(){return null},f=function(){return this},h=new p({Extends:c,initialize:function(g,v,y){y===void 0&&(y={}),c.call(this),this.manager=g,this.key=v,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=o({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},y),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:l,updateMarker:l,removeMarker:d,play:l,pause:l,resume:l,stop:l,setMute:f,setVolume:f,setRate:f,setDetune:f,setSeek:f,setLoop:f,setPan:f,applyConfig:d,resetConfig:d,update:u,calculateRate:d,destroy:function(){a.prototype.destroy.call(this)}});r.exports=h},25960:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(85034),p=i(83419),c=i(50792),o=i(4603),u=i(29747),l=new p({Extends:c,initialize:function(f){c.call(this),this.game=f,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(d,f){var h=new o(this,d,f);return this.sounds.push(h),h},addAudioSprite:function(d,f){var h=this.add(d,f);return h.spritemap={},h},get:function(d){return a.prototype.get.call(this,d)},getAll:function(d){return a.prototype.getAll.call(this,d)},play:function(d,f){return!1},playAudioSprite:function(d,f,h){return!1},remove:function(d){return a.prototype.remove.call(this,d)},removeAll:function(){return a.prototype.removeAll.call(this)},removeByKey:function(d){return a.prototype.removeByKey.call(this,d)},stopByKey:function(d){return a.prototype.stopByKey.call(this,d)},onBlur:u,onFocus:u,onGameBlur:u,onGameFocus:u,pauseAll:u,resumeAll:u,stopAll:u,update:u,setRate:u,setDetune:u,setMute:u,setVolume:u,unlock:u,forEachActiveSound:function(d,f){a.prototype.forEachActiveSound.call(this,d,f)},destroy:function(){a.prototype.destroy.call(this)}});r.exports=l},71741:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(30341),p=i(83419),c=i(14463),o=i(95540),u=new p({Extends:a,initialize:function(d,f,h){if(h===void 0&&(h={}),this.audioBuffer=d.game.cache.audio.get(f),!this.audioBuffer)throw new Error('Audio key "'+f+'" not found in cache');this.source=null,this.loopSource=null,this.muteNode=d.context.createGain(),this.volumeNode=d.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),d.context.createPanner&&(this.spatialNode=d.context.createPanner(),this.volumeNode.connect(this.spatialNode)),d.context.createStereoPanner?(this.pannerNode=d.context.createStereoPanner(),d.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(d.destination)):d.context.createPanner?this.spatialNode.connect(d.destination):this.volumeNode.connect(d.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,a.call(this,d,f,h)},play:function(l,d){return a.prototype.play.call(this,l,d)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(c.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!a.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(c.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!a.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(c.RESUME,this),!0)},stop:function(){return a.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(c.STOP,this),!0):!1},createAndStartBufferSource:function(){var l=this.currentConfig.seek,d=this.currentConfig.delay,f=this.manager.context.currentTime+d,h=(this.currentMarker?this.currentMarker.start:0)+l,A=this.duration-l;this.playTime=f-l,this.startTime=f,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,f),Math.max(0,h),Math.max(0,A)),this.resetConfig()},createAndStartLoopBufferSource:function(){var l=this.getLoopTime(),d=this.currentMarker?this.currentMarker.start:0,f=this.duration;this.loopTime=l,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,l),Math.max(0,d),Math.max(0,f))},createBufferSource:function(){var l=this,d=this.manager.context.createBufferSource();return d.buffer=this.audioBuffer,d.connect(this.muteNode),d.onended=function(f){var h=f.target;(h===l.source||h===l.loopSource)&&(l.currentConfig.loop?l.hasLooped=!0:l.hasEnded=!0)},d},stopAndRemoveBufferSource:function(){if(this.source){var l=this.source;this.source=null,l.stop(),l.disconnect()}this.playTime=0,this.startTime=0,this.hasEnded=!1,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var l=this.currentConfig.source;if(l&&this.manager.context.createPanner){var d=this.spatialNode;d.panningModel=o(l,"panningModel","equalpower"),d.distanceModel=o(l,"distanceModel","inverse"),d.orientationX.value=o(l,"orientationX",0),d.orientationY.value=o(l,"orientationY",0),d.orientationZ.value=o(l,"orientationZ",-1),d.refDistance=o(l,"refDistance",1),d.maxDistance=o(l,"maxDistance",1e4),d.rolloffFactor=o(l,"rolloffFactor",1),d.coneInnerAngle=o(l,"coneInnerAngle",360),d.coneOuterAngle=o(l,"coneOuterAngle",0),d.coneOuterGain=o(l,"coneOuterGain",0),this.spatialSource=o(l,"follow",null),this.spatialSource||(d.positionX.value=o(l,"x",0),d.positionY.value=o(l,"y",0),d.positionZ.value=o(l,"z",0))}a.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(l){this.spatialNode&&(this.spatialNode.positionX.value=l)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(l){this.spatialNode&&(this.spatialNode.positionY.value=l)}},update:function(){if(this.isPlaying&&this.spatialSource){var l=o(this.spatialSource,"x",null),d=o(this.spatialSource,"y",null);l&&l!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=l),d&&d!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=d)}this.hasEnded?(a.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(c.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(c.LOOPED,this))},destroy:function(){this.pendingRemove||(a.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){a.prototype.calculateRate.call(this);var l=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,l),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,l)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var l=0,d=0;d<this.rateUpdates.length;d++){var f=0;d<this.rateUpdates.length-1?f=this.rateUpdates[d+1].time:f=this.manager.context.currentTime-this.playTime,l+=(f-this.rateUpdates[d].time)*this.rateUpdates[d].rate}return l},getLoopTime:function(){for(var l=0,d=0;d<this.rateUpdates.length-1;d++)l+=(this.rateUpdates[d+1].time-this.rateUpdates[d].time)*this.rateUpdates[d].rate;var f=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+f.time+(this.duration-l)/f.rate},rate:{get:function(){return this.currentConfig.rate},set:function(l){this.currentConfig.rate=l,this.calculateRate(),this.emit(c.RATE,this,l)}},setRate:function(l){return this.rate=l,this},detune:{get:function(){return this.currentConfig.detune},set:function(l){this.currentConfig.detune=l,this.calculateRate(),this.emit(c.DETUNE,this,l)}},setDetune:function(l){return this.detune=l,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(l){this.currentConfig.mute=l,this.muteNode.gain.setValueAtTime(l?0:1,0),this.emit(c.MUTE,this,l)}},setMute:function(l){return this.mute=l,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(l){this.currentConfig.volume=l,this.volumeNode.gain.setValueAtTime(l,0),this.emit(c.VOLUME,this,l)}},setVolume:function(l){return this.volume=l,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(l){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(l=Math.min(Math.max(0,l),this.duration),this.currentConfig.seek=l,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(c.SEEK,this,l))}},setSeek:function(l){return this.seek=l,this},loop:{get:function(){return this.currentConfig.loop},set:function(l){this.currentConfig.loop=l,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),l&&this.createAndStartLoopBufferSource()),this.emit(c.LOOP,this,l)}},setLoop:function(l){return this.loop=l,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(l){this.currentConfig.pan=l,this.pannerNode&&this.pannerNode.pan.setValueAtTime(l,this.manager.context.currentTime),this.emit(c.PAN,this,l)}},setPan:function(l){return this.pan=l,this}});r.exports=u},57490:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(53134),p=i(85034),c=i(83419),o=i(14463),u=i(8443),l=i(71741),d=i(95540),f=new c({Extends:p,initialize:function(A){this.context=this.createAudioContext(A),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended",p.call(this,A),this.locked&&(A.isBooted?this.unlock():A.events.once(u.BOOT,this.unlock,this)),A.events.on(u.VISIBLE,this.onGameVisible,this)},onGameVisible:function(){var h=this.context;window.setTimeout(function(){h&&(h.suspend(),h.resume())},100)},createAudioContext:function(h){var A=h.config.audio;if(A.context)return A.context.resume(),A.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(h){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=h,this.masterMuteNode=h.createGain(),this.masterVolumeNode=h.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(h.destination),this.destination=this.masterMuteNode,this},add:function(h,A){var g=new l(this,h,A);return this.sounds.push(g),g},decodeAudio:function(h,A){var g;Array.isArray(h)?g=h:g=[{key:h,data:A}];for(var v=this.game.cache.audio,y=g.length,C=0;C<g.length;C++){var b=g[C],T=b.key,S=b.data;typeof S=="string"&&(S=a(S));var F=(function(N,L){v.add(N,L),this.emit(o.DECODED,N),y--,y===0&&this.emit(o.DECODED_ALL)}).bind(this,T),B=(function(N,L){console.error("Error decoding audio: "+N+" - ",L?L.message:""),y--,y===0&&this.emit(o.DECODED_ALL)}).bind(this,T);this.context.decodeAudioData(S,F,B)}},setListenerPosition:function(h,A){return h===void 0&&(h=this.game.scale.width/2),A===void 0&&(A=this.game.scale.height/2),this.listenerPosition.set(h,A),this},unlock:function(){var h=this,A=document.body,g=function v(){if(h.context&&A){var y=A.removeEventListener.bind(A);h.context.resume().then(function(){y("touchstart",v),y("touchend",v),y("mousedown",v),y("mouseup",v),y("keydown",v),h.unlocked=!0},function(){y("touchstart",v),y("touchend",v),y("mousedown",v),y("mouseup",v),y("keydown",v)})}};A&&(A.addEventListener("touchstart",g,!1),A.addEventListener("touchend",g,!1),A.addEventListener("mousedown",g,!1),A.addEventListener("mouseup",g,!1),A.addEventListener("keydown",g,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var h=this.context;h&&!this.locked&&(h.state==="suspended"||h.state==="interrupted")&&h.resume()},update:function(h,A){var g=this.context.listener,v=d(this.listenerPosition,"x",null),y=d(this.listenerPosition,"y",null);if(g&&g.positionX!==void 0)v&&v!==this._spatialx&&(this._spatialx=g.positionX.value=v),y&&y!==this._spatialy&&(this._spatialy=g.positionY.value=y);else if(g){v&&v!==this._spatialx&&(this._spatialx=v),y&&y!==this._spatialy&&(this._spatialy=y);var C=d(g,"z",0);g.setPosition(this._spatialx||0,this._spatialy||0,C)}p.prototype.update.call(this,h,A),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var h=this;this.context.close().then(function(){h.context=null})}this.game.events.off(u.VISIBLE,this.onGameVisible,this),p.prototype.destroy.call(this)},setMute:function(h){return this.mute=h,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(h){this.masterMuteNode.gain.setValueAtTime(h?0:1,0),this.emit(o.GLOBAL_MUTE,this,h)}},setVolume:function(h){return this.volume=h,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(h){this.masterVolumeNode.gain.setValueAtTime(h,0),this.emit(o.GLOBAL_VOLUME,this,h)}}});r.exports=f},73162:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(37105),p=i(83419),c=i(29747),o=i(19186),u=new p({initialize:function(d){this.parent=d,this.list=[],this.position=0,this.addCallback=c,this.removeCallback=c,this._sortKey=""},add:function(l,d){return d?a.Add(this.list,l):a.Add(this.list,l,0,this.addCallback,this)},addAt:function(l,d,f){return f?a.AddAt(this.list,l,d):a.AddAt(this.list,l,d,0,this.addCallback,this)},getAt:function(l){return this.list[l]},getIndex:function(l){return this.list.indexOf(l)},sort:function(l,d){return l?(d===void 0&&(d=function(f,h){return f[l]-h[l]}),o(this.list,d),this):this},getByName:function(l){return a.GetFirst(this.list,"name",l)},getRandom:function(l,d){return a.GetRandom(this.list,l,d)},getFirst:function(l,d,f,h){return a.GetFirst(this.list,l,d,f,h)},getAll:function(l,d,f,h){return a.GetAll(this.list,l,d,f,h)},count:function(l,d){return a.CountAllMatching(this.list,l,d)},swap:function(l,d){a.Swap(this.list,l,d)},moveTo:function(l,d){return a.MoveTo(this.list,l,d)},moveAbove:function(l,d){return a.MoveAbove(this.list,l,d)},moveBelow:function(l,d){return a.MoveBelow(this.list,l,d)},remove:function(l,d){return d?a.Remove(this.list,l):a.Remove(this.list,l,this.removeCallback,this)},removeAt:function(l,d){return d?a.RemoveAt(this.list,l):a.RemoveAt(this.list,l,this.removeCallback,this)},removeBetween:function(l,d,f){return f?a.RemoveBetween(this.list,l,d):a.RemoveBetween(this.list,l,d,this.removeCallback,this)},removeAll:function(l){for(var d=this.list.length;d--;)this.remove(this.list[d],l);return this},bringToTop:function(l){return a.BringToTop(this.list,l)},sendToBack:function(l){return a.SendToBack(this.list,l)},moveUp:function(l){return a.MoveUp(this.list,l),l},moveDown:function(l){return a.MoveDown(this.list,l),l},reverse:function(){return this.list.reverse(),this},shuffle:function(){return a.Shuffle(this.list),this},replace:function(l,d){return a.Replace(this.list,l,d)},exists:function(l){return this.list.indexOf(l)>-1},setAll:function(l,d,f,h){return a.SetAll(this.list,l,d,f,h),this},each:function(l,d){for(var f=[null],h=2;h<arguments.length;h++)f.push(arguments[h]);for(h=0;h<this.list.length;h++)f[0]=this.list[h],l.apply(d,f)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});r.exports=u},90330:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=new a({initialize:function(o){this.entries={},this.size=0,this.setAll(o)},setAll:function(c){if(Array.isArray(c))for(var o=0;o<c.length;o++)this.set(c[o][0],c[o][1]);return this},set:function(c,o){return this.has(c)||this.size++,this.entries[c]=o,this},get:function(c){if(this.has(c))return this.entries[c]},getArray:function(){var c=[],o=this.entries;for(var u in o)c.push(o[u]);return c},has:function(c){return this.entries.hasOwnProperty(c)},delete:function(c){return this.has(c)&&(delete this.entries[c],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(c){delete this.entries[c]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var c=[],o=this.entries;for(var u in o)c.push(o[u]);return c},dump:function(){var c=this.entries;console.group("Map");for(var o in c)console.log(o,c[o]);console.groupEnd()},each:function(c){var o=this.entries;for(var u in o)if(c(u,o[u])===!1)break;return this},contains:function(c){var o=this.entries;for(var u in o)if(o[u]===c)return!0;return!1},merge:function(c,o){o===void 0&&(o=!1);var u=this.entries,l=c.entries;for(var d in l)u.hasOwnProperty(d)&&o?u[d]=l[d]:this.set(d,l[d]);return this}});r.exports=p},25774:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(50792),c=i(82348),o=new a({Extends:p,initialize:function(){p.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(u){return this._active.indexOf(u)>-1},isPending:function(u){return this._toProcess>0&&this._pending.indexOf(u)>-1},isDestroying:function(u){return this._destroy.indexOf(u)>-1},add:function(u){return this.checkQueue&&this.isActive(u)&&!this.isDestroying(u)||this.isPending(u)||(this._pending.push(u),this._toProcess++),u},remove:function(u){if(this.isPending(u)){var l=this._pending,d=l.indexOf(u);d!==-1&&l.splice(d,1)}else this.isActive(u)&&(this._destroy.push(u),this._toProcess++);return u},removeAll:function(){for(var u=this._active,l=this._destroy,d=u.length;d--;)l.push(u[d]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var u=this._destroy,l=this._active,d,f;for(d=0;d<u.length;d++){f=u[d];var h=l.indexOf(f);h!==-1&&(l.splice(h,1),this.emit(c.PROCESS_QUEUE_REMOVE,f))}for(u.length=0,u=this._pending,d=0;d<u.length;d++)f=u[d],(!this.checkQueue||this.checkQueue&&l.indexOf(f)===-1)&&(l.push(f),this.emit(c.PROCESS_QUEUE_ADD,f));return u.length=0,this._toProcess=0,l},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});r.exports=o},59542:(r,x,i)=>{/**
 * @author       Vladimir Agafonkin
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(43886);function p(S){if(!(this instanceof p))return new p(S);this._maxEntries=Math.max(4,S||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}p.prototype={all:function(){return this._all(this.data,[])},search:function(S){var F=this.data,B=[],N=this.toBBox;if(!C(S,F))return B;for(var L=[],R,I,M,P;F;){for(R=0,I=F.children.length;R<I;R++)M=F.children[R],P=F.leaf?N(M):M,C(S,P)&&(F.leaf?B.push(M):y(S,P)?this._all(M,B):L.push(M));F=L.pop()}return B},collides:function(S){var F=this.data,B=this.toBBox;if(!C(S,F))return!1;for(var N=[],L,R,I,M;F;){for(L=0,R=F.children.length;L<R;L++)if(I=F.children[L],M=F.leaf?B(I):I,C(S,M)){if(F.leaf||y(S,M))return!0;N.push(I)}F=N.pop()}return!1},load:function(S){if(!(S&&S.length))return this;if(S.length<this._minEntries){for(var F=0,B=S.length;F<B;F++)this.insert(S[F]);return this}var N=this._build(S.slice(),0,S.length-1,0);if(!this.data.children.length)this.data=N;else if(this.data.height===N.height)this._splitRoot(this.data,N);else{if(this.data.height<N.height){var L=this.data;this.data=N,N=L}this._insert(N,this.data.height-N.height-1,!0)}return this},insert:function(S){return S&&this._insert(S,this.data.height-1),this},clear:function(){return this.data=b([]),this},remove:function(S,F){if(!S)return this;for(var B=this.data,N=this.toBBox(S),L=[],R=[],I,M,P,U;B||L.length;){if(B||(B=L.pop(),M=L[L.length-1],I=R.pop(),U=!0),B.leaf&&(P=c(S,B.children,F),P!==-1))return B.children.splice(P,1),L.push(B),this._condense(L),this;!U&&!B.leaf&&y(B,N)?(L.push(B),R.push(I),I=0,M=B,B=B.children[0]):M?(I++,B=M.children[I],U=!1):B=null}return this},toBBox:function(S){return S},compareMinX:d,compareMinY:f,toJSON:function(){return this.data},fromJSON:function(S){return this.data=S,this},_all:function(S,F){for(var B=[];S;)S.leaf?F.push.apply(F,S.children):B.push.apply(B,S.children),S=B.pop();return F},_build:function(S,F,B,N){var L=B-F+1,R=this._maxEntries,I;if(L<=R)return I=b(S.slice(F,B+1)),o(I,this.toBBox),I;N||(N=Math.ceil(Math.log(L)/Math.log(R)),R=Math.ceil(L/Math.pow(R,N-1))),I=b([]),I.leaf=!1,I.height=N;var M=Math.ceil(L/R),P=M*Math.ceil(Math.sqrt(R)),U,z,W,Z;for(T(S,F,B,P,this.compareMinX),U=F;U<=B;U+=P)for(W=Math.min(U+P-1,B),T(S,U,W,M,this.compareMinY),z=U;z<=W;z+=M)Z=Math.min(z+M-1,W),I.children.push(this._build(S,z,Z,N-1));return o(I,this.toBBox),I},_chooseSubtree:function(S,F,B,N){for(var L,R,I,M,P,U,z,W;N.push(F),!(F.leaf||N.length-1===B);){for(z=W=1/0,L=0,R=F.children.length;L<R;L++)I=F.children[L],P=h(I),U=g(S,I)-P,U<W?(W=U,z=P<z?P:z,M=I):U===W&&P<z&&(z=P,M=I);F=M||F.children[0]}return F},_insert:function(S,F,B){var N=this.toBBox,L=B?S:N(S),R=[],I=this._chooseSubtree(L,this.data,F,R);for(I.children.push(S),l(I,L);F>=0&&R[F].children.length>this._maxEntries;)this._split(R,F),F--;this._adjustParentBBoxes(L,R,F)},_split:function(S,F){var B=S[F],N=B.children.length,L=this._minEntries;this._chooseSplitAxis(B,L,N);var R=this._chooseSplitIndex(B,L,N),I=b(B.children.splice(R,B.children.length-R));I.height=B.height,I.leaf=B.leaf,o(B,this.toBBox),o(I,this.toBBox),F?S[F-1].children.push(I):this._splitRoot(B,I)},_splitRoot:function(S,F){this.data=b([S,F]),this.data.height=S.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},_chooseSplitIndex:function(S,F,B){var N,L,R,I,M,P,U,z;for(P=U=1/0,N=F;N<=B-F;N++)L=u(S,0,N,this.toBBox),R=u(S,N,B,this.toBBox),I=v(L,R),M=h(L)+h(R),I<P?(P=I,z=N,U=M<U?M:U):I===P&&M<U&&(U=M,z=N);return z},_chooseSplitAxis:function(S,F,B){var N=S.leaf?this.compareMinX:d,L=S.leaf?this.compareMinY:f,R=this._allDistMargin(S,F,B,N),I=this._allDistMargin(S,F,B,L);R<I&&S.children.sort(N)},_allDistMargin:function(S,F,B,N){S.children.sort(N);var L=this.toBBox,R=u(S,0,F,L),I=u(S,B-F,B,L),M=A(R)+A(I),P,U;for(P=F;P<B-F;P++)U=S.children[P],l(R,S.leaf?L(U):U),M+=A(R);for(P=B-F-1;P>=F;P--)U=S.children[P],l(I,S.leaf?L(U):U),M+=A(I);return M},_adjustParentBBoxes:function(S,F,B){for(var N=B;N>=0;N--)l(F[N],S)},_condense:function(S){for(var F=S.length-1,B;F>=0;F--)S[F].children.length===0?F>0?(B=S[F-1].children,B.splice(B.indexOf(S[F]),1)):this.clear():o(S[F],this.toBBox)},compareMinX:function(S,F){return S.left-F.left},compareMinY:function(S,F){return S.top-F.top},toBBox:function(S){return{minX:S.left,minY:S.top,maxX:S.right,maxY:S.bottom}}};function c(S,F,B){if(!B)return F.indexOf(S);for(var N=0;N<F.length;N++)if(B(S,F[N]))return N;return-1}function o(S,F){u(S,0,S.children.length,F,S)}function u(S,F,B,N,L){L||(L=b(null)),L.minX=1/0,L.minY=1/0,L.maxX=-1/0,L.maxY=-1/0;for(var R=F,I;R<B;R++)I=S.children[R],l(L,S.leaf?N(I):I);return L}function l(S,F){return S.minX=Math.min(S.minX,F.minX),S.minY=Math.min(S.minY,F.minY),S.maxX=Math.max(S.maxX,F.maxX),S.maxY=Math.max(S.maxY,F.maxY),S}function d(S,F){return S.minX-F.minX}function f(S,F){return S.minY-F.minY}function h(S){return(S.maxX-S.minX)*(S.maxY-S.minY)}function A(S){return S.maxX-S.minX+(S.maxY-S.minY)}function g(S,F){return(Math.max(F.maxX,S.maxX)-Math.min(F.minX,S.minX))*(Math.max(F.maxY,S.maxY)-Math.min(F.minY,S.minY))}function v(S,F){var B=Math.max(S.minX,F.minX),N=Math.max(S.minY,F.minY),L=Math.min(S.maxX,F.maxX),R=Math.min(S.maxY,F.maxY);return Math.max(0,L-B)*Math.max(0,R-N)}function y(S,F){return S.minX<=F.minX&&S.minY<=F.minY&&F.maxX<=S.maxX&&F.maxY<=S.maxY}function C(S,F){return F.minX<=S.maxX&&F.minY<=S.maxY&&F.maxX>=S.minX&&F.maxY>=S.minY}function b(S){return{children:S,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function T(S,F,B,N,L){for(var R=[F,B],I;R.length;)B=R.pop(),F=R.pop(),!(B-F<=N)&&(I=F+Math.ceil((B-F)/N/2)*N,a(S,I,F,B,L),R.push(F,I,I,B))}r.exports=p},35072:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=new a({initialize:function(o){if(this.entries=[],Array.isArray(o))for(var u=0;u<o.length;u++)this.set(o[u])},set:function(c){return this.entries.indexOf(c)===-1&&this.entries.push(c),this},get:function(c,o){for(var u=0;u<this.entries.length;u++){var l=this.entries[u];if(l[c]===o)return l}},getArray:function(){return this.entries.slice(0)},delete:function(c){var o=this.entries.indexOf(c);return o>-1&&this.entries.splice(o,1),this},dump:function(){console.group("Set");for(var c=0;c<this.entries.length;c++){var o=this.entries[c];console.log(o)}console.groupEnd()},each:function(c,o){var u,l=this.entries.slice(),d=l.length;if(o)for(u=0;u<d&&c.call(o,l[u],u)!==!1;u++);else for(u=0;u<d&&c(l[u],u)!==!1;u++);return this},iterate:function(c,o){var u,l=this.entries.length;if(o)for(u=0;u<l&&c.call(o,this.entries[u],u)!==!1;u++);else for(u=0;u<l&&c(this.entries[u],u)!==!1;u++);return this},iterateLocal:function(c){var o,u=[];for(o=1;o<arguments.length;o++)u.push(arguments[o]);var l=this.entries.length;for(o=0;o<l;o++){var d=this.entries[o];d[c].apply(d,u)}return this},clear:function(){return this.entries.length=0,this},contains:function(c){return this.entries.indexOf(c)>-1},union:function(c){var o=new p;return c.entries.forEach(function(u){o.set(u)}),this.entries.forEach(function(u){o.set(u)}),o},intersect:function(c){var o=new p;return this.entries.forEach(function(u){c.contains(u)&&o.set(u)}),o},difference:function(c){var o=new p;return this.entries.forEach(function(u){c.contains(u)||o.set(u)}),o},size:{get:function(){return this.entries.length},set:function(c){return c<this.entries.length?this.entries.length=c:this.entries.length}}});r.exports=p},86555:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(45319),p=i(83419),c=i(56583),o=i(26099),u=new p({initialize:function(d,f,h,A){d===void 0&&(d=0),f===void 0&&(f=d),h===void 0&&(h=0),A===void 0&&(A=null),this._width=d,this._height=f,this._parent=A,this.aspectMode=h,this.aspectRatio=f===0?1:d/f,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new o},setAspectMode:function(l){return l===void 0&&(l=0),this.aspectMode=l,this.setSize(this._width,this._height)},setSnap:function(l,d){return l===void 0&&(l=0),d===void 0&&(d=l),this.snapTo.set(l,d),this.setSize(this._width,this._height)},setParent:function(l){return this._parent=l,this.setSize(this._width,this._height)},setMin:function(l,d){return l===void 0&&(l=0),d===void 0&&(d=l),this.minWidth=a(l,0,this.maxWidth),this.minHeight=a(d,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(l,d){return l===void 0&&(l=Number.MAX_VALUE),d===void 0&&(d=l),this.maxWidth=a(l,this.minWidth,Number.MAX_VALUE),this.maxHeight=a(d,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(l,d){switch(l===void 0&&(l=0),d===void 0&&(d=l),this.aspectMode){case u.NONE:this._width=this.getNewWidth(c(l,this.snapTo.x)),this._height=this.getNewHeight(c(d,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case u.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(c(l,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case u.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(c(d,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case u.FIT:this.constrain(l,d,!0);break;case u.ENVELOP:this.constrain(l,d,!1);break}return this},setAspectRatio:function(l){return this.aspectRatio=l,this.setSize(this._width,this._height)},resize:function(l,d){return this._width=this.getNewWidth(c(l,this.snapTo.x)),this._height=this.getNewHeight(c(d,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(l,d){return d===void 0&&(d=!0),l=a(l,this.minWidth,this.maxWidth),d&&this._parent&&l>this._parent.width&&(l=Math.max(this.minWidth,this._parent.width)),l},getNewHeight:function(l,d){return d===void 0&&(d=!0),l=a(l,this.minHeight,this.maxHeight),d&&this._parent&&l>this._parent.height&&(l=Math.max(this.minHeight,this._parent.height)),l},constrain:function(l,d,f){l===void 0&&(l=0),d===void 0&&(d=l),f===void 0&&(f=!0),l=this.getNewWidth(l),d=this.getNewHeight(d);var h=this.snapTo,A=d===0?1:l/d;return f&&this.aspectRatio>A||!f&&this.aspectRatio<A?(l=c(l,h.x),d=l/this.aspectRatio,h.y>0&&(d=c(d,h.y),l=d*this.aspectRatio)):(f&&this.aspectRatio<A||!f&&this.aspectRatio>A)&&(d=c(d,h.y),l=d*this.aspectRatio,h.x>0&&(l=c(l,h.x),d=l*(1/this.aspectRatio))),this._width=l,this._height=d,this},fitTo:function(l,d){return this.constrain(l,d,!0)},envelop:function(l,d){return this.constrain(l,d,!1)},setWidth:function(l){return this.setSize(l,this._height)},setHeight:function(l){return this.setSize(this._width,l)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(l){l&&l.style&&(l.style.width=this._width+"px",l.style.height=this._height+"px")},copy:function(l){return l.setAspectMode(this.aspectMode),l.aspectRatio=this.aspectRatio,l.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(l){this.setSize(l,this._height)}},height:{get:function(){return this._height},set:function(l){this.setSize(this._width,l)}}});u.NONE=0,u.WIDTH_CONTROLS_HEIGHT=1,u.HEIGHT_CONTROLS_WIDTH=2,u.FIT=3,u.ENVELOP=4,r.exports=u},15238:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="add"},56187:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="remove"},82348:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={PROCESS_QUEUE_ADD:i(15238),PROCESS_QUEUE_REMOVE:i(56187)}},41392:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Events:i(82348),List:i(73162),Map:i(90330),ProcessQueue:i(25774),RTree:i(59542),Set:i(35072),Size:i(86555)}},57382:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(45319),c=i(40987),o=i(8054),u=i(50030),l=i(79237),d=new a({Extends:l,initialize:function(h,A,g,v,y){l.call(this,h,A,g,v,y),this.add("__BASE",0,0,0,v,y),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=v,this.height=y,this.imageData=this.context.getImageData(0,0,v,y),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===o.WEBGL&&this.refresh(),this},draw:function(f,h,A,g){return g===void 0&&(g=!0),this.context.drawImage(A,f,h),g&&this.update(),this},drawFrame:function(f,h,A,g,v){A===void 0&&(A=0),g===void 0&&(g=0),v===void 0&&(v=!0);var y=this.manager.getFrame(f,h);if(y){var C=y.canvasData,b=y.cutWidth,T=y.cutHeight,S=y.source.resolution;this.context.drawImage(y.source.image,C.x,C.y,b,T,A,g,b/S,T/S),v&&this.update()}return this},setPixel:function(f,h,A,g,v,y){y===void 0&&(y=255),f=Math.abs(Math.floor(f)),h=Math.abs(Math.floor(h));var C=this.getIndex(f,h);if(C>-1){var b=this.context.getImageData(f,h,1,1);b.data[0]=A,b.data[1]=g,b.data[2]=v,b.data[3]=y,this.context.putImageData(b,f,h)}return this},putData:function(f,h,A,g,v,y,C){return g===void 0&&(g=0),v===void 0&&(v=0),y===void 0&&(y=f.width),C===void 0&&(C=f.height),this.context.putImageData(f,h,A,g,v,y,C),this},getData:function(f,h,A,g){f=p(Math.floor(f),0,this.width-1),h=p(Math.floor(h),0,this.height-1),A=p(A,1,this.width-f),g=p(g,1,this.height-h);var v=this.context.getImageData(f,h,A,g);return v},getPixel:function(f,h,A){A||(A=new c);var g=this.getIndex(f,h);if(g>-1){var v=this.data,y=v[g+0],C=v[g+1],b=v[g+2],T=v[g+3];A.setTo(y,C,b,T)}return A},getPixels:function(f,h,A,g){f===void 0&&(f=0),h===void 0&&(h=0),A===void 0&&(A=this.width),g===void 0&&(g=A),f=Math.abs(Math.round(f)),h=Math.abs(Math.round(h));for(var v=p(f,0,this.width),y=p(f+A,0,this.width),C=p(h,0,this.height),b=p(h+g,0,this.height),T=new c,S=[],F=C;F<b;F++){for(var B=[],N=v;N<y;N++)T=this.getPixel(N,F,T),B.push({x:N,y:F,color:T.color,alpha:T.alphaGL});S.push(B)}return S},getIndex:function(f,h){return f=Math.abs(Math.round(f)),h=Math.abs(Math.round(h)),f<this.width&&h<this.height?(f+h*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(f,h,A,g,v){return f===void 0&&(f=0),h===void 0&&(h=0),A===void 0&&(A=this.width),g===void 0&&(g=this.height),v===void 0&&(v=!0),this.context.clearRect(f,h,A,g),v&&this.update(),this},setSize:function(f,h){return h===void 0&&(h=f),(f!==this.width||h!==this.height)&&(this.canvas.width=f,this.canvas.height=h,this._source.width=f,this._source.height=h,this._source.isPowerOf2=u(f,h),this.frames.__BASE.setSize(f,h,0,0),this.width=f,this.height=h,this.refresh()),this},destroy:function(){l.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});r.exports=d},81320:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(10312),p=i(38058),c=i(27919),o=i(83419),u=i(8054),l=i(4327),d=i(95540),f=i(36060),h=i(32302),A=i(79237),g=i(70554),v=new o({Extends:A,initialize:function(C,b,T,S,F){T===void 0&&(T=256),S===void 0&&(S=256),F===void 0&&(F=!0),this.type="DynamicTexture";var B=C.game.renderer,N=B&&B.type===u.CANVAS,L=N?c.create2D(this,T,S):[this];A.call(this,C,b,L,T,S),this.add("__BASE",0,0,0,T,S),this.renderer=B,this.width=-1,this.height=-1,this.isDrawing=!1,this.canvas=N?L:null,this.context=N?L.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new p(0,0,T,S).setScene(C.game.scene.systemScene,!1),this.renderTarget=N?null:new h(B,T,S,1,0,!1,!1,!0,!1),this.pipeline=N?null:B.pipelines.get(f.SINGLE_PIPELINE),this.setSize(T,S,F)},setSize:function(y,C,b){C===void 0&&(C=y),b===void 0&&(b=!0),b&&(y=Math.floor(y),C=Math.floor(C),y%2!==0&&y++,C%2!==0&&C++);var T=this.get(),S=T.source;if(y!==this.width||C!==this.height){this.canvas&&(this.canvas.width=y,this.canvas.height=C);var F=this.renderTarget;F&&(F.willResize(y,C)&&F.resize(y,C),F.texture!==S.glTexture&&this.renderer.deleteTexture(S.glTexture),this.setFromRenderTarget()),this.camera.setSize(y,C),S.width=y,S.height=C,T.setSize(y,C),this.width=y,this.height=C}else{var B=this.getSourceImage();T.cutX+y>B.width&&(y=B.width-T.cutX),T.cutY+C>B.height&&(C=B.height-T.cutY),T.setSize(y,C,T.cutX,T.cutY)}return this},setFromRenderTarget:function(){var y=this.get(),C=y.source,b=this.renderTarget;return C.isRenderTexture=!0,C.isGLTexture=!0,C.glTexture=b.texture,this},setIsSpriteTexture:function(y){return this.isSpriteTexture=y,this},fill:function(y,C,b,T,S,F){var B=this.camera,N=this.renderer;C===void 0&&(C=1),b===void 0&&(b=0),T===void 0&&(T=0),S===void 0&&(S=this.width),F===void 0&&(F=this.height);var L=y>>16&255,R=y>>8&255,I=y&255,M=this.renderTarget;if(B.preRender(),M){M.bind(!0);var P=this.pipeline.manager.set(this.pipeline),U=N.width/M.width,z=N.height/M.height,W=M.height-(T+F);P.drawFillRect(b*U,W*z,S*U,F*z,g.getTintFromFloats(I/255,R/255,L/255,1),C),M.unbind(!0)}else{var Z=this.context;N.setContext(Z),Z.globalCompositeOperation="source-over",Z.fillStyle="rgba("+L+","+R+","+I+","+C+")",Z.fillRect(b,T,S,F),N.setContext()}return this.dirty=!0,this},clear:function(y,C,b,T){if(this.dirty){var S=this.context,F=this.renderTarget;F?F.clear(y,C,b,T):S&&(y!==void 0&&C!==void 0&&b!==void 0&&T!==void 0?S.clearRect(y,C,b,T):(S.save(),S.setTransform(1,0,0,1,0,0),S.clearRect(0,0,this.width,this.height),S.restore())),this.dirty=!1}return this},stamp:function(y,C,b,T,S){b===void 0&&(b=0),T===void 0&&(T=0);var F=d(S,"alpha",1),B=d(S,"tint",16777215),N=d(S,"angle",0),L=d(S,"rotation",0),R=d(S,"scale",1),I=d(S,"scaleX",R),M=d(S,"scaleY",R),P=d(S,"originX",.5),U=d(S,"originY",.5),z=d(S,"blendMode",0),W=d(S,"erase",!1),Z=d(S,"skipBatch",!1),j=this.manager.resetStamp(F,B);return j.setAngle(0),N!==0?j.setAngle(N):L!==0&&j.setRotation(L),j.setScale(I,M),j.setTexture(y,C),j.setOrigin(P,U),j.setBlendMode(z),W&&(this._eraseMode=!0),Z?this.batchGameObject(j,b,T):this.draw(j,b,T),W&&(this._eraseMode=!1),this},erase:function(y,C,b){return this._eraseMode=!0,this.draw(y,C,b),this._eraseMode=!1,this},draw:function(y,C,b,T,S){return this.beginDraw(),this.batchDraw(y,C,b,T,S),this.endDraw(),this},drawFrame:function(y,C,b,T,S,F){return this.beginDraw(),this.batchDrawFrame(y,C,b,T,S,F),this.endDraw(),this},repeat:function(y,C,b,T,S,F,B,N,L){if(b===void 0&&(b=0),T===void 0&&(T=0),S===void 0&&(S=this.width),F===void 0&&(F=this.height),B===void 0&&(B=1),N===void 0&&(N=16777215),L===void 0&&(L=!1),y instanceof l?C=y:C=this.manager.getFrame(y,C),!C)return this;var R=this.manager.resetStamp(B,N);R.setFrame(C),R.setOrigin(0);var I=C.width,M=C.height;S=Math.floor(S),F=Math.floor(F);var P=Math.ceil(S/I),U=Math.ceil(F/M),z=P*I-S,W=U*M-F;z>0&&(z=I-z),W>0&&(W=M-W),b<0&&(P+=Math.ceil(Math.abs(b)/I)),T<0&&(U+=Math.ceil(Math.abs(T)/M));var Z=b,j=T,H=!1,V=this.manager.stampCrop.setTo(0,0,I,M);L||this.beginDraw();for(var k=0;k<U;k++){if(j+M<0){j+=M;continue}for(var X=0;X<P;X++){if(H=!1,Z+I<0){Z+=I;continue}else Z<0&&(H=!0,V.width=I+Z,V.x=I-V.width);j<0&&(H=!0,V.height=M+j,V.y=M-V.height),z>0&&X===P-1&&(H=!0,V.width=z),W>0&&k===U-1&&(H=!0,V.height=W),H&&R.setCrop(V),this.batchGameObject(R,Z,j),R.isCropped=!1,V.setTo(0,0,I,M),Z+=I}Z=b,j+=M}return L||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var y=this.camera,C=this.renderer,b=this.renderTarget;y.preRender(),b?C.beginCapture(b.width,b.height):C.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(y,C,b,T,S){return Array.isArray(y)||(y=[y]),this.batchList(y,C,b,T,S),this},batchDrawFrame:function(y,C,b,T,S,F){b===void 0&&(b=0),T===void 0&&(T=0),S===void 0&&(S=1),F===void 0&&(F=16777215);var B=this.manager.getFrame(y,C);return B&&(this.renderTarget?this.pipeline.batchTextureFrame(B,b,T,F,S,this.camera.matrix,null):this.batchTextureFrame(B,b,T,S,F)),this},endDraw:function(y){if(y===void 0&&(y=this._eraseMode),this.isDrawing){var C=this.renderer,b=this.renderTarget;if(b){var T=C.endCapture(),S=C.pipelines.setUtility();S.blitFrame(T,b,1,!1,!1,y,this.isSpriteTexture),C.resetScissor(),C.resetViewport()}else C.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(y,C,b,T,S){var F=y.length;if(F!==0)for(var B=0;B<F;B++){var N=y[B];!N||N===this||(N.renderWebGL||N.renderCanvas?this.batchGameObject(N,C,b):N.isParent||N.list?this.batchGroup(N.getChildren(),C,b):typeof N=="string"?this.batchTextureFrameKey(N,null,C,b,T,S):N instanceof l?this.batchTextureFrame(N,C,b,T,S):Array.isArray(N)&&this.batchList(N,C,b,T,S))}},batchGroup:function(y,C,b){C===void 0&&(C=0),b===void 0&&(b=0);for(var T=0;T<y.length;T++){var S=y[T];S.willRender(this.camera)&&this.batchGameObject(S,S.x+C,S.y+b)}},batchGameObject:function(y,C,b){C===void 0&&(C=y.x),b===void 0&&(b=y.y);var T=y.x,S=y.y,F=this.camera,B=this.renderer,N=this._eraseMode,L=y.mask;if(y.setPosition(C,b),this.canvas){if(N){var R=y.blendMode;y.blendMode=a.ERASE}L&&L.preRenderCanvas(B,y,F),y.renderCanvas(B,y,F,null),L&&L.postRenderCanvas(B,y,F),N&&(y.blendMode=R)}else B&&(L&&L.preRenderWebGL(B,y,F),N||B.setBlendMode(y.blendMode),y.renderWebGL(B,y,F),L&&L.postRenderWebGL(B,F,this.renderTarget));y.setPosition(T,S)},batchTextureFrameKey:function(y,C,b,T,S,F){var B=this.manager.getFrame(y,C);B&&this.batchTextureFrame(B,b,T,S,F)},batchTextureFrame:function(y,C,b,T,S){C===void 0&&(C=0),b===void 0&&(b=0),T===void 0&&(T=1),S===void 0&&(S=16777215);var F=this.camera.matrix,B=this.renderTarget;if(B)this.pipeline.batchTextureFrame(y,C,b,S,T,F,null);else{var N=this.context,L=y.canvasData,R=y.source.image;N.save(),N.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",N.globalAlpha=T,F.setToContext(N),L.width>0&&L.height>0&&N.drawImage(R,L.x,L.y,L.width,L.height,C,b,L.width,L.height),N.restore()}},snapshotArea:function(y,C,b,T,S,F,B){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,S,!1,y,C,b,T,F,B):this.renderer.snapshotCanvas(this.canvas,S,!1,y,C,b,T,F,B),this},snapshot:function(y,C,b){return this.snapshotArea(0,0,this.width,this.height,y,C,b)},snapshotPixel:function(y,C,b){return this.snapshotArea(y,C,1,1,b,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(y,C,b,T){var S=this.manager.resetStamp();S.setTexture(this),S.setOrigin(0),S.renderWebGL(y,S,b,T)},renderCanvas:function(){},destroy:function(){var y=this.manager.stamp;y&&y.texture===this&&this.manager.resetStamp(),A.prototype.destroy.call(this),c.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.renderer=null}});r.exports=v},4327:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(45319),c=i(79291),o=new a({initialize:function(l,d,f,h,A,g,v){this.texture=l,this.name=d,this.source=l.source[f],this.sourceIndex=f,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0},is3Slice:!1,scale9:!1,scale9Borders:{x:0,y:0,w:0,h:0}},this.setSize(g,v,h,A)},setCutPosition:function(u,l){return u===void 0&&(u=0),l===void 0&&(l=0),this.cutX=u,this.cutY=l,this.updateUVs()},setCutSize:function(u,l){return this.cutWidth=u,this.cutHeight=l,this.updateUVs()},setSize:function(u,l,d,f){d===void 0&&(d=0),f===void 0&&(f=0),this.setCutPosition(d,f),this.setCutSize(u,l),this.width=u,this.height=l,this.halfWidth=Math.floor(u*.5),this.halfHeight=Math.floor(l*.5),this.centerX=Math.floor(u/2),this.centerY=Math.floor(l/2);var h=this.data,A=h.cut;A.x=d,A.y=f,A.w=u,A.h=l,A.r=d+u,A.b=f+l,h.sourceSize.w=u,h.sourceSize.h=l,h.spriteSourceSize.w=u,h.spriteSourceSize.h=l,h.radius=.5*Math.sqrt(u*u+l*l);var g=h.drawImage;return g.x=d,g.y=f,g.width=u,g.height=l,this.updateUVs()},setTrim:function(u,l,d,f,h,A){var g=this.data,v=g.spriteSourceSize;return g.trim=!0,g.sourceSize.w=u,g.sourceSize.h=l,v.x=d,v.y=f,v.w=h,v.h=A,v.r=d+h,v.b=f+A,this.x=d,this.y=f,this.width=h,this.height=A,this.halfWidth=h*.5,this.halfHeight=A*.5,this.centerX=Math.floor(h/2),this.centerY=Math.floor(A/2),this.updateUVs()},setScale9:function(u,l,d,f){var h=this.data;return h.scale9=!0,h.is3Slice=l===0&&f===this.height,h.scale9Borders.x=u,h.scale9Borders.y=l,h.scale9Borders.w=d,h.scale9Borders.h=f,this},setCropUVs:function(u,l,d,f,h,A,g){var v=this.cutX,y=this.cutY,C=this.cutWidth,b=this.cutHeight,T=this.realWidth,S=this.realHeight;l=p(l,0,T),d=p(d,0,S),f=p(f,0,T-l),h=p(h,0,S-d);var F=v+l,B=y+d,N=f,L=h,R=this.data;if(R.trim){var I=R.spriteSourceSize;f=p(f,0,I.x+C-l),h=p(h,0,I.y+b-d);var M=l+f,P=d+h,U=!(I.r<l||I.b<d||I.x>M||I.y>P);if(U){var z=Math.max(I.x,l),W=Math.max(I.y,d),Z=Math.min(I.r,M)-z,j=Math.min(I.b,P)-W;N=Z,L=j,A?F=v+(C-(z-I.x)-Z):F=v+(z-I.x),g?B=y+(b-(W-I.y)-j):B=y+(W-I.y),l=z,d=W,f=Z,h=j}else F=0,B=0,N=0,L=0}else A&&(F=v+(C-l-f)),g&&(B=y+(b-d-h));var H=this.source.width,V=this.source.height;return u.u0=Math.max(0,F/H),u.v0=Math.max(0,B/V),u.u1=Math.min(1,(F+N)/H),u.v1=Math.min(1,(B+L)/V),u.x=l,u.y=d,u.cx=F,u.cy=B,u.cw=N,u.ch=L,u.width=f,u.height=h,u.flipX=A,u.flipY=g,u},updateCropUVs:function(u,l,d){return this.setCropUVs(u,u.x,u.y,u.width,u.height,l,d)},setUVs:function(u,l,d,f,h,A){var g=this.data.drawImage;return g.width=u,g.height=l,this.u0=d,this.v0=f,this.u1=h,this.v1=A,this},updateUVs:function(){var u=this.cutX,l=this.cutY,d=this.cutWidth,f=this.cutHeight,h=this.data.drawImage;h.width=d,h.height=f;var A=this.source.width,g=this.source.height;return this.u0=u/A,this.v0=l/g,this.u1=(u+d)/A,this.v1=(l+f)/g,this},updateUVsInverted:function(){var u=this.source.width,l=this.source.height;return this.u0=(this.cutX+this.cutHeight)/u,this.v0=this.cutY/l,this.u1=this.cutX/u,this.v1=(this.cutY+this.cutWidth)/l,this},clone:function(){var u=new o(this.texture,this.name,this.sourceIndex);return u.cutX=this.cutX,u.cutY=this.cutY,u.cutWidth=this.cutWidth,u.cutHeight=this.cutHeight,u.x=this.x,u.y=this.y,u.width=this.width,u.height=this.height,u.halfWidth=this.halfWidth,u.halfHeight=this.halfHeight,u.centerX=this.centerX,u.centerY=this.centerY,u.rotated=this.rotated,u.data=c(!0,u.data,this.data),u.updateUVs(),u},destroy:function(){this.texture=null,this.source=null,this.customData=null,this.data=null},glTexture:{get:function(){return this.source.glTexture}},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},scale9:{get:function(){return this.data.scale9}},is3Slice:{get:function(){return this.data.is3Slice}},canvasData:{get:function(){return this.data.drawImage}}});r.exports=o},79237:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(4327),c=i(11876),o='Texture "%s" has no frame "%s"',u=new a({initialize:function(d,f,h,A,g){Array.isArray(h)||(h=[h]),this.manager=d,this.key=f,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var v=0;v<h.length;v++)this.source.push(new c(this,h[v],A,g))},add:function(l,d,f,h,A,g){if(this.has(l))return null;var v=new p(this,l,d,f,h,A,g);return this.frames[l]=v,this.firstFrame==="__BASE"&&(this.firstFrame=l),this.frameTotal++,v},remove:function(l){if(this.has(l)){var d=this.get(l);return d.destroy(),delete this.frames[l],!0}return!1},has:function(l){return this.frames.hasOwnProperty(l)},get:function(l){l||(l=this.firstFrame);var d=this.frames[l];return d||(console.warn(o,this.key,l),d=this.frames[this.firstFrame]),d},getTextureSourceIndex:function(l){for(var d=0;d<this.source.length;d++)if(this.source[d]===l)return d;return-1},getFramesFromTextureSource:function(l,d){d===void 0&&(d=!1);var f=[];for(var h in this.frames)if(!(h==="__BASE"&&!d)){var A=this.frames[h];A.sourceIndex===l&&f.push(A)}return f},getFrameBounds:function(l){l===void 0&&(l=0);for(var d=this.getFramesFromTextureSource(l,!0),f=d[0],h=f.cutX,A=f.cutY,g=f.cutX+f.cutWidth,v=f.cutY+f.cutHeight,y=1;y<d.length;y++){var C=d[y];C.cutX<h&&(h=C.cutX),C.cutY<A&&(A=C.cutY),C.cutX+C.cutWidth>g&&(g=C.cutX+C.cutWidth),C.cutY+C.cutHeight>v&&(v=C.cutY+C.cutHeight)}return{x:h,y:A,width:g-h,height:v-A}},getFrameNames:function(l){l===void 0&&(l=!1);var d=Object.keys(this.frames);if(!l){var f=d.indexOf("__BASE");f!==-1&&d.splice(f,1)}return d},getSourceImage:function(l){(l==null||this.frameTotal===1)&&(l="__BASE");var d=this.frames[l];return d?d.source.image:(console.warn(o,this.key,l),this.frames.__BASE.source.image)},getDataSourceImage:function(l){(l==null||this.frameTotal===1)&&(l="__BASE");var d=this.frames[l],f;return d?f=d.sourceIndex:(console.warn(o,this.key,l),f=this.frames.__BASE.sourceIndex),this.dataSource[f].image},setDataSource:function(l){Array.isArray(l)||(l=[l]);for(var d=0;d<l.length;d++){var f=this.source[d];this.dataSource.push(new c(this,l[d],f.width,f.height))}},setFilter:function(l){var d;for(d=0;d<this.source.length;d++)this.source[d].setFilter(l);for(d=0;d<this.dataSource.length;d++)this.dataSource[d].setFilter(l)},destroy:function(){var l,d=this.source,f=this.dataSource;for(l=0;l<d.length;l++)d[l]&&d[l].destroy();for(l=0;l<f.length;l++)f[l]&&f[l].destroy();for(var h in this.frames){var A=this.frames[h];A&&A.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});r.exports=u},17130:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(27919),p=i(57382),c=i(83419),o=i(40987),u=i(8054),l=i(81320),d=i(50792),f=i(69442),h=i(4327),A=i(8443),g=i(99584),v=i(35154),y=i(88571),C=i(41212),b=i(61309),T=i(87841),S=i(79237),F=new c({Extends:d,initialize:function(N){d.call(this),this.game=N,this.name="TextureManager",this.list={},this._tempCanvas=a.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stamp,this.stampCrop=new T,this.silentWarnings=!1,N.events.once(A.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(f.LOAD,this.updatePending,this),this.on(f.ERROR,this.updatePending,this);var B=this.game.config;B.defaultImage!==null&&this.addBase64("__DEFAULT",B.defaultImage),B.missingImage!==null&&this.addBase64("__MISSING",B.missingImage),B.whiteImage!==null&&this.addBase64("__WHITE",B.whiteImage),this.game.renderer&&this.game.renderer.gl&&this.addUint8Array("__NORMAL",new Uint8Array([127,127,255,255]),1,1),this.game.events.once(A.DESTROY,this.destroy,this),this.game.events.once(A.SYSTEM_READY,function(N){this.stamp=new y(N).setOrigin(0)},this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(f.LOAD),this.off(f.ERROR),this.emit(f.READY))},checkKey:function(B){return!B||typeof B!="string"||this.exists(B)?(this.silentWarnings||console.error("Texture key already in use: "+B),!1):!0},remove:function(B){if(typeof B=="string")if(this.exists(B))B=this.get(B);else return this.silentWarnings||console.warn("No texture found matching key: "+B),this;var N=B.key;return this.list.hasOwnProperty(N)&&(B.destroy(),this.emit(f.REMOVE,N),this.emit(f.REMOVE_KEY+N)),this},removeKey:function(B){return this.list.hasOwnProperty(B)&&delete this.list[B],this},addBase64:function(B,N){if(this.checkKey(B)){var L=this,R=new Image;R.onerror=function(){L.emit(f.ERROR,B)},R.onload=function(){var I=L.create(B,R);I&&(b.Image(I,0),L.emit(f.ADD,B,I),L.emit(f.ADD_KEY+B,I),L.emit(f.LOAD,B,I))},R.src=N}return this},getBase64:function(B,N,L,R){L===void 0&&(L="image/png"),R===void 0&&(R=.92);var I="",M=this.getFrame(B,N);if(M&&(M.source.isRenderTexture||M.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(M){var P=M.canvasData,U=a.create2D(this,P.width,P.height),z=U.getContext("2d",{willReadFrequently:!0});P.width>0&&P.height>0&&z.drawImage(M.source.image,P.x,P.y,P.width,P.height,0,0,P.width,P.height),I=U.toDataURL(L,R),a.remove(U)}return I},addImage:function(B,N,L){var R=null;return this.checkKey(B)&&(R=this.create(B,N),b.Image(R,0),L&&R.setDataSource(L),this.emit(f.ADD,B,R),this.emit(f.ADD_KEY+B,R)),R},addGLTexture:function(B,N){var L=null;if(this.checkKey(B)){var R=N.width,I=N.height;L=this.create(B,N,R,I),L.add("__BASE",0,0,0,R,I),this.emit(f.ADD,B,L),this.emit(f.ADD_KEY+B,L)}return L},addCompressedTexture:function(B,N,L){var R=null;if(this.checkKey(B)){if(R=this.create(B,N),R.add("__BASE",0,0,0,N.width,N.height),L){var I=function(P,U,z){Array.isArray(z.textures)||Array.isArray(z.frames)?b.JSONArray(P,U,z):b.JSONHash(P,U,z)};if(Array.isArray(L))for(var M=0;M<L.length;M++)I(R,M,L[M]);else I(R,0,L)}this.emit(f.ADD,B,R),this.emit(f.ADD_KEY+B,R)}return R},addRenderTexture:function(B,N){var L=null;return this.checkKey(B)&&(L=this.create(B,N),L.add("__BASE",0,0,0,N.width,N.height),this.emit(f.ADD,B,L),this.emit(f.ADD_KEY+B,L)),L},generate:function(B,N){if(this.checkKey(B)){var L=a.create(this,1,1);return N.canvas=L,g(N),this.addCanvas(B,L)}else return null},createCanvas:function(B,N,L){if(N===void 0&&(N=256),L===void 0&&(L=256),this.checkKey(B)){var R=a.create(this,N,L,u.CANVAS,!0);return this.addCanvas(B,R)}return null},addCanvas:function(B,N,L){L===void 0&&(L=!1);var R=null;return L?R=new p(this,B,N,N.width,N.height):this.checkKey(B)&&(R=new p(this,B,N,N.width,N.height),this.list[B]=R,this.emit(f.ADD,B,R),this.emit(f.ADD_KEY+B,R)),R},addDynamicTexture:function(B,N,L){var R=null;return typeof B=="string"&&!this.exists(B)?R=new l(this,B,N,L):(R=B,B=R.key),this.checkKey(B)?(this.list[B]=R,this.emit(f.ADD,B,R),this.emit(f.ADD_KEY+B,R)):R=null,R},addAtlas:function(B,N,L,R){return Array.isArray(L.textures)||Array.isArray(L.frames)?this.addAtlasJSONArray(B,N,L,R):this.addAtlasJSONHash(B,N,L,R)},addAtlasJSONArray:function(B,N,L,R){var I=null;if(N instanceof S?(B=N.key,I=N):this.checkKey(B)&&(I=this.create(B,N)),I){if(Array.isArray(L))for(var M=L.length===1,P=0;P<I.source.length;P++){var U=M?L[0]:L[P];b.JSONArray(I,P,U)}else b.JSONArray(I,0,L);R&&I.setDataSource(R),this.emit(f.ADD,B,I),this.emit(f.ADD_KEY+B,I)}return I},addAtlasJSONHash:function(B,N,L,R){var I=null;if(N instanceof S?(B=N.key,I=N):this.checkKey(B)&&(I=this.create(B,N)),I){if(Array.isArray(L))for(var M=0;M<L.length;M++)b.JSONHash(I,M,L[M]);else b.JSONHash(I,0,L);R&&I.setDataSource(R),this.emit(f.ADD,B,I),this.emit(f.ADD_KEY+B,I)}return I},addAtlasXML:function(B,N,L,R){var I=null;return N instanceof S?(B=N.key,I=N):this.checkKey(B)&&(I=this.create(B,N)),I&&(b.AtlasXML(I,0,L),R&&I.setDataSource(R),this.emit(f.ADD,B,I),this.emit(f.ADD_KEY+B,I)),I},addUnityAtlas:function(B,N,L,R){var I=null;return N instanceof S?(B=N.key,I=N):this.checkKey(B)&&(I=this.create(B,N)),I&&(b.UnityYAML(I,0,L),R&&I.setDataSource(R),this.emit(f.ADD,B,I),this.emit(f.ADD_KEY+B,I)),I},addSpriteSheet:function(B,N,L,R){var I=null;if(N instanceof S?(B=N.key,I=N):this.checkKey(B)&&(I=this.create(B,N)),I){var M=I.source[0].width,P=I.source[0].height;b.SpriteSheet(I,0,0,0,M,P,L),R&&I.setDataSource(R),this.emit(f.ADD,B,I),this.emit(f.ADD_KEY+B,I)}return I},addSpriteSheetFromAtlas:function(B,N){if(!this.checkKey(B))return null;var L=v(N,"atlas",null),R=v(N,"frame",null);if(!(!L||!R)){var I=this.get(L),M=I.get(R);if(M){var P=M.source.image;P||(P=M.source.glTexture);var U=this.create(B,P);return M.trimmed?b.SpriteSheetFromAtlas(U,M,N):b.SpriteSheet(U,0,M.cutX,M.cutY,M.cutWidth,M.cutHeight,N),this.emit(f.ADD,B,U),this.emit(f.ADD_KEY+B,U),U}}},addUint8Array:function(B,N,L,R){if(!this.checkKey(B)||N.length/4!==L*R)return null;var I=this.create(B,N,L,R);return I.add("__BASE",0,0,0,L,R),this.emit(f.ADD,B,I),this.emit(f.ADD_KEY+B,I),I},create:function(B,N,L,R){var I=null;return this.checkKey(B)&&(I=new S(this,B,N,L,R),this.list[B]=I),I},exists:function(B){return this.list.hasOwnProperty(B)},get:function(B){return B===void 0&&(B="__DEFAULT"),this.list[B]?this.list[B]:B instanceof S?B:B instanceof h?B.texture:this.list.__MISSING},cloneFrame:function(B,N){if(this.list[B])return this.list[B].get(N).clone()},getFrame:function(B,N){if(this.list[B])return this.list[B].get(N)},parseFrame:function(B){if(B){if(typeof B=="string")return this.getFrame(B);if(Array.isArray(B)&&B.length===2)return this.getFrame(B[0],B[1]);if(C(B))return this.getFrame(B.key,B.frame);if(B instanceof S)return B.get();if(B instanceof h)return B}else return},getTextureKeys:function(){var B=[];for(var N in this.list)N!=="__DEFAULT"&&N!=="__MISSING"&&N!=="__WHITE"&&N!=="__NORMAL"&&B.push(N);return B},getPixel:function(B,N,L,R){var I=this.getFrame(L,R);if(I){B-=I.x,N-=I.y;var M=I.data.cut;if(B+=M.x,N+=M.y,B>=M.x&&B<M.r&&N>=M.y&&N<M.b){var P=this._tempContext;P.clearRect(0,0,1,1),P.drawImage(I.source.image,B,N,1,1,0,0,1,1);var U=P.getImageData(0,0,1,1);return new o(U.data[0],U.data[1],U.data[2],U.data[3])}}return null},getPixelAlpha:function(B,N,L,R){var I=this.getFrame(L,R);if(I){B-=I.x,N-=I.y;var M=I.data.cut;if(B+=M.x,N+=M.y,B>=M.x&&B<M.r&&N>=M.y&&N<M.b){var P=this._tempContext;P.clearRect(0,0,1,1),P.drawImage(I.source.image,B,N,1,1,0,0,1,1);var U=P.getImageData(0,0,1,1);return U.data[3]}}return null},setTexture:function(B,N,L){return this.list[N]&&(B.texture=this.list[N],B.frame=B.texture.get(L)),B},renameTexture:function(B,N){var L=this.get(B);return L&&B!==N?(L.key=N,this.list[N]=L,delete this.list[B],!0):!1},each:function(B,N){for(var L=[null],R=1;R<arguments.length;R++)L.push(arguments[R]);for(var I in this.list)L[0]=this.list[I],B.apply(N,L)},resetStamp:function(B,N){B===void 0&&(B=1),N===void 0&&(N=16777215);var L=this.stamp;return L.setCrop(),L.setPosition(0),L.setAngle(0),L.setScale(1),L.setAlpha(B),L.setTint(N),L.setTexture("__WHITE"),L},destroy:function(){for(var B in this.list)this.list[B].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,a.remove(this._tempCanvas)}});r.exports=F},11876:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(27919),p=i(83419),c=i(50030),o=i(29795),u=i(82751),l=new p({initialize:function(f,h,A,g,v){v===void 0&&(v=!1);var y=f.manager.game;this.renderer=y.renderer,this.texture=f,this.source=h,this.image=h.compressed?null:h,this.compressionAlgorithm=h.compressed?h.format:null,this.resolution=1,this.width=A||h.naturalWidth||h.videoWidth||h.width||0,this.height=g||h.naturalHeight||h.videoHeight||h.height||0,this.scaleMode=o.DEFAULT,this.isCanvas=h instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&h instanceof HTMLVideoElement,this.isRenderTexture=h.type==="RenderTexture"||h.type==="DynamicTexture",this.isGLTexture=h instanceof u,this.isPowerOf2=c(this.width,this.height),this.glTexture=null,this.flipY=v,this.init(y)},init:function(d){var f=this.renderer;if(f){var h=this.source;if(f.gl){var A=this.image,g=this.flipY,v=this.width,y=this.height,C=this.scaleMode;this.isCanvas?this.glTexture=f.createCanvasTexture(A,!1,g):this.isVideo?this.glTexture=f.createVideoTexture(A,!1,g):this.isRenderTexture?this.glTexture=f.createTextureFromSource(null,v,y,C):this.isGLTexture?this.glTexture=h:this.compressionAlgorithm?this.glTexture=f.createTextureFromSource(h,void 0,void 0,C):h instanceof Uint8Array?this.glTexture=f.createUint8ArrayTexture(h,v,y,C):this.glTexture=f.createTextureFromSource(A,v,y,C)}else this.isRenderTexture&&(this.image=h.canvas)}d.config.antialias||this.setFilter(1)},setFilter:function(d){this.renderer&&this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,d),this.scaleMode=d},setFlipY:function(d){return d===void 0&&(d=!0),d===this.flipY?this:(this.flipY=d,this.update(),this)},update:function(){var d=this.renderer,f=this.image,h=this.flipY,A=d.gl;A&&this.isCanvas?d.updateCanvasTexture(f,this.glTexture,h):A&&this.isVideo&&d.updateVideoTexture(f,this.glTexture,h)},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&a.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});r.exports=l},19673:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={LINEAR:0,NEAREST:1};r.exports=x},44538:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="addtexture"},63486:r=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="addtexture-"},94851:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="onerror"},29099:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="onload"},8678:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="ready"},86415:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="removetexture"},30879:r=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="removetexture-"},69442:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ADD:i(44538),ADD_KEY:i(63486),ERROR:i(94851),LOAD:i(29099),READY:i(8678),REMOVE:i(86415),REMOVE_KEY:i(30879)}},27458:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(79291),p=i(19673),c={CanvasTexture:i(57382),DynamicTexture:i(81320),Events:i(69442),FilterMode:p,Frame:i(4327),Parsers:i(61309),Texture:i(79237),TextureManager:i(17130),TextureSource:i(11876)};c=a(!1,c,p),r.exports=c},89905:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p){if(!p.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var c=i.source[a];i.add("__BASE",a,0,0,c.width,c.height);for(var o=p.getElementsByTagName("SubTexture"),u,l=0;l<o.length;l++){var d=o[l].attributes,f=d.name.value,h=parseInt(d.x.value,10),A=parseInt(d.y.value,10),g=parseInt(d.width.value,10),v=parseInt(d.height.value,10);if(u=i.add(f,a,h,A,g,v),d.frameX){var y=Math.abs(parseInt(d.frameX.value,10)),C=Math.abs(parseInt(d.frameY.value,10)),b=parseInt(d.frameWidth.value,10),T=parseInt(d.frameHeight.value,10);u.setTrim(g,v,y,C,b,T)}}return i};r.exports=x},72893:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){var p=i.source[a];return i.add("__BASE",a,0,0,p.width,p.height),i};r.exports=x},4832:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){var p=i.source[a];return i.add("__BASE",a,0,0,p.width,p.height),i};r.exports=x},78566:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(41786),p=function(c,o,u){if(!u.frames&&!u.textures){console.warn("Invalid Texture Atlas JSON Array");return}var l=c.source[o];c.add("__BASE",o,0,0,l.width,l.height);for(var d=Array.isArray(u.textures)?u.textures[o].frames:u.frames,f,h=0;h<d.length;h++){var A=d[h];if(f=c.add(A.filename,o,A.frame.x,A.frame.y,A.frame.w,A.frame.h),!f){console.warn("Invalid atlas json, frame already exists: "+A.filename);continue}A.trimmed&&f.setTrim(A.sourceSize.w,A.sourceSize.h,A.spriteSourceSize.x,A.spriteSourceSize.y,A.spriteSourceSize.w,A.spriteSourceSize.h),A.rotated&&(f.rotated=!0,f.updateUVsInverted());var g=A.anchor||A.pivot;g&&(f.customPivot=!0,f.pivotX=g.x,f.pivotY=g.y),A.scale9Borders&&f.setScale9(A.scale9Borders.x,A.scale9Borders.y,A.scale9Borders.w,A.scale9Borders.h),f.customData=a(A)}for(var v in u)v!=="frames"&&(Array.isArray(u[v])?c.customData[v]=u[v].slice(0):c.customData[v]=u[v]);return c};r.exports=p},39711:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(41786),p=function(c,o,u){if(!u.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var l=c.source[o];c.add("__BASE",o,0,0,l.width,l.height);var d=u.frames,f;for(var h in d)if(d.hasOwnProperty(h)){var A=d[h];if(f=c.add(h,o,A.frame.x,A.frame.y,A.frame.w,A.frame.h),!f){console.warn("Invalid atlas json, frame already exists: "+h);continue}A.trimmed&&f.setTrim(A.sourceSize.w,A.sourceSize.h,A.spriteSourceSize.x,A.spriteSourceSize.y,A.spriteSourceSize.w,A.spriteSourceSize.h),A.rotated&&(f.rotated=!0,f.updateUVsInverted());var g=A.anchor||A.pivot;g&&(f.customPivot=!0,f.pivotX=g.x,f.pivotY=g.y),A.scale9Borders&&f.setScale9(A.scale9Borders.x,A.scale9Borders.y,A.scale9Borders.w,A.scale9Borders.h),f.customData=a(A)}for(var v in u)v!=="frames"&&(Array.isArray(u[v])?c.customData[v]=u[v].slice(0):c.customData[v]=u[v]);return c};r.exports=p},31403:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){var a=[171,75,84,88,32,49,49,187,13,10,26,10],p,c=new Uint8Array(i,0,12);for(p=0;p<c.length;p++)if(c[p]!==a[p]){console.warn("KTXParser - Invalid file format");return}var o=Uint32Array.BYTES_PER_ELEMENT,u=new DataView(i,12,13*o),l=u.getUint32(0,!0)===67305985,d=u.getUint32(1*o,l);if(d!==0){console.warn("KTXParser - Only compressed formats supported");return}var f=u.getUint32(4*o,l),h=u.getUint32(6*o,l),A=u.getUint32(7*o,l),g=Math.max(1,u.getUint32(11*o,l)),v=u.getUint32(12*o,l),y=new Array(g),C=12+13*4+v,b=h,T=A;for(p=0;p<g;p++){var S=new Int32Array(i,C,1)[0];C+=4,y[p]={data:new Uint8Array(i,C,S),width:b,height:T},b=Math.max(1,b>>1),T=Math.max(1,T>>1),C+=S}return{mipmaps:y,width:h,height:A,internalFormat:f,compressed:!0,generateMipmap:!1}};r.exports=x},82038:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function x(N,L,R,I,M,P,U){return U===void 0&&(U=16),Math.floor((N+R)/M)*Math.floor((L+I)/P)*U}function i(N,L){return N=Math.max(N,16),L=Math.max(L,8),N*L/4}function a(N,L){return N=Math.max(N,8),L=Math.max(L,8),N*L/2}function p(N,L){return Math.ceil(N/4)*Math.ceil(L/4)*16}function c(N,L){return x(N,L,3,3,4,4,8)}function o(N,L){return x(N,L,3,3,4,4)}function u(N,L){return x(N,L,4,3,5,4)}function l(N,L){return x(N,L,4,4,5,5)}function d(N,L){return x(N,L,5,4,6,5)}function f(N,L){return x(N,L,5,5,6,6)}function h(N,L){return x(N,L,7,4,8,5)}function A(N,L){return x(N,L,7,5,8,6)}function g(N,L){return x(N,L,7,7,8,8)}function v(N,L){return x(N,L,9,4,10,5)}function y(N,L){return x(N,L,9,5,10,6)}function C(N,L){return x(N,L,9,7,10,8)}function b(N,L){return x(N,L,9,9,10,10)}function T(N,L){return x(N,L,11,9,12,10)}function S(N,L){return x(N,L,11,11,12,12)}var F={0:{sizeFunc:i,glFormat:[35841]},1:{sizeFunc:i,glFormat:[35843]},2:{sizeFunc:a,glFormat:[35840]},3:{sizeFunc:a,glFormat:[35842]},6:{sizeFunc:c,glFormat:[36196]},7:{sizeFunc:c,glFormat:[33776,35916]},8:{sizeFunc:o,glFormat:[33777,35917]},9:{sizeFunc:o,glFormat:[33778,35918]},11:{sizeFunc:o,glFormat:[33779,35919]},14:{sizeFunc:p,glFormat:[36494,36495]},15:{sizeFunc:p,glFormat:[36492,36493]},22:{sizeFunc:c,glFormat:[37492,37493]},23:{sizeFunc:o,glFormat:[37496,37497]},24:{sizeFunc:c,glFormat:[37494,37495]},25:{sizeFunc:c,glFormat:[37488]},26:{sizeFunc:o,glFormat:[37490]},27:{sizeFunc:o,glFormat:[37808,37840]},28:{sizeFunc:u,glFormat:[37809,37841]},29:{sizeFunc:l,glFormat:[37810,37842]},30:{sizeFunc:d,glFormat:[37811,37843]},31:{sizeFunc:f,glFormat:[37812,37844]},32:{sizeFunc:h,glFormat:[37813,37845]},33:{sizeFunc:A,glFormat:[37814,37846]},34:{sizeFunc:g,glFormat:[37815,37847]},35:{sizeFunc:v,glFormat:[37816,37848]},36:{sizeFunc:y,glFormat:[37817,37849]},37:{sizeFunc:C,glFormat:[37818,37850]},38:{sizeFunc:b,glFormat:[37819,37851]},39:{sizeFunc:T,glFormat:[37820,37852]},40:{sizeFunc:S,glFormat:[37821,37853]}},B=function(N){for(var L=new Uint32Array(N,0,13),R=L[0],I=R===55727696,M=I?L[2]:L[3],P=L[4],U=F[M].glFormat[P],z=F[M].sizeFunc,W=L[11],Z=L[7],j=L[6],H=52+L[12],V=new Uint8Array(N,H),k=new Array(W),X=0,Q=Z,J=j,$=0;$<W;$++){var _=z(Q,J);k[$]={data:new Uint8Array(V.buffer,V.byteOffset+X,_),width:Q,height:J},Q=Math.max(1,Q>>1),J=Math.max(1,J>>1),X+=_}return{mipmaps:k,width:Z,height:j,internalFormat:U,compressed:!0,generateMipmap:!1}};r.exports=B},75549:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(95540),p=function(c,o,u,l,d,f,h){var A=a(h,"frameWidth",null),g=a(h,"frameHeight",A);if(A===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var v=c.source[o];c.add("__BASE",o,0,0,v.width,v.height);var y=a(h,"startFrame",0),C=a(h,"endFrame",-1),b=a(h,"margin",0),T=a(h,"spacing",0),S=Math.floor((d-b+T)/(A+T)),F=Math.floor((f-b+T)/(g+T)),B=S*F;B===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",c.key),(y>B||y<-B)&&(y=0),y<0&&(y=B+y),(C===-1||C>B||C<y)&&(C=B);for(var N=b,L=b,R=0,I=0,M=0,P=0;P<B;P++){R=0,I=0;var U=N+A,z=L+g;U>d&&(R=U-d),z>f&&(I=z-f),P>=y&&P<=C&&(c.add(M,o,u+N,l+L,A-R,g-I),M++),N+=A+T,N+A>d&&(N=b,L+=g+T)}return c};r.exports=p},47534:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(95540),p=function(c,o,u){var l=a(u,"frameWidth",null),d=a(u,"frameHeight",l);if(!l)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var f=c.source[0];c.add("__BASE",0,0,0,f.width,f.height),a(u,"startFrame",0),a(u,"endFrame",-1);for(var h=a(u,"margin",0),A=a(u,"spacing",0),g=o.cutX,v=o.cutY,y=o.cutWidth,C=o.cutHeight,b=o.realWidth,T=o.realHeight,S=Math.floor((b-h+A)/(l+A)),F=Math.floor((T-h+A)/(d+A)),B=o.x,N=l-B,L=l-(b-y-B),R=o.y,I=d-R,M=d-(T-C-R),P,U=h,z=h,W=0,Z=0,j=0;j<F;j++){for(var H=j===0,V=j===F-1,k=0;k<S;k++){var X=k===0,Q=k===S-1;if(P=c.add(W,Z,g+U,v+z,l,d),X||H||Q||V){var J=X?B:0,$=H?R:0,_=0,te=0;X&&(_+=l-N),Q&&(_+=l-L),H&&(te+=d-I),V&&(te+=d-M);var se=l-_,ce=d-te;P.cutWidth=se,P.cutHeight=ce,P.setTrim(l,d,J,$,se,ce)}U+=A,X?U+=N:Q?U+=L:U+=l,W++}U=h,z+=A,H?z+=I:V?z+=M:z+=d}return c};r.exports=p},86147:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=0,i=function(p,c,o,u){var l=x-u.y-u.height;p.add(o,c,u.x,l,u.width,u.height)},a=function(p,c,o){var u=p.source[c];p.add("__BASE",c,0,0,u.width,u.height),x=u.height;for(var l=o.split(`
`),d=/^[ ]*(- )*(\w+)+[: ]+(.*)/,f="",h="",A={x:0,y:0,width:0,height:0},g=0;g<l.length;g++){var v=l[g].match(d);if(v){var y=v[1]==="- ",C=v[2],b=v[3];if(y&&(h!==f&&(i(p,c,h,A),f=h),A={x:0,y:0,width:0,height:0}),C==="name"){h=b;continue}switch(C){case"x":case"y":case"width":case"height":A[C]=parseInt(b,10);break}}}return h!==f&&i(p,c,h,A),p};r.exports=a},55222:(r,x,i)=>{/**
 * @author       Ben Richards <benjamindrichards@gmail.com>
 * @copyright    2024 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(50030),p=function(f){for(var h=f.mipmaps,A=1;A<h.length;A++){var g=h[A].width,v=h[A].height;if(!a(g,v))return console.warn("Mip level "+A+" is not a power-of-two size: "+g+"x"+v),!1}var y=d[f.internalFormat];return y?y(f):(console.warn("No format checker found for internal format "+f.internalFormat+". Assuming valid."),!0)};function c(f){for(var h=f.mipmaps,A=0;A<h.length;A++){var g=h[A].width,v=h[A].height;if((g<<A)%4!==0||(v<<A)%4!==0)return console.warn("BPTC, RGTC, and S3TC dimensions must be a multiple of 4 pixels, and each successive mip level must be half the size of the previous level, rounded down. Mip level "+A+" is "+g+"x"+v),!1}return!0}function o(){return!0}function u(f){var h=f.mipmaps,A=h[0];return a(A.width,A.height)?!0:(console.warn("PVRTC base dimensions must be power of two. Base level is "+A.width+"x"+A.height),!1)}function l(f){var h=f.mipmaps,A=h[0];return A.width%4!==0||A.height%4!==0?(console.warn("S3TC SRGB base dimensions must be a multiple of 4 pixels. Base level is "+A.width+"x"+A.height+" pixels"),!1):!0}var d={37488:o,37489:o,37490:o,37491:o,37492:o,37493:o,37494:o,37495:o,37496:o,37497:o,36196:o,37808:o,37809:o,37810:o,37811:o,37812:o,37813:o,37814:o,37815:o,37816:o,37817:o,37818:o,37819:o,37820:o,37821:o,37840:o,37841:o,37842:o,37843:o,37844:o,37845:o,37846:o,37847:o,37848:o,37849:o,37850:o,37851:o,37852:o,37853:o,36492:c,36493:c,36494:c,36495:c,36283:c,36284:c,36285:c,36286:c,35840:u,35841:u,35842:u,35843:u,33776:c,33777:c,33778:c,33779:c,35916:l,35917:l,35918:l,35919:l};r.exports=p},61309:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={AtlasXML:i(89905),Canvas:i(72893),Image:i(4832),JSONArray:i(78566),JSONHash:i(39711),KTXParser:i(31403),PVRParser:i(82038),SpriteSheet:i(75549),SpriteSheetFromAtlas:i(47534),UnityYAML:i(86147)}},80341:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},16536:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=new a({initialize:function(o,u,l,d,f,h,A){(l===void 0||l<=0)&&(l=32),(d===void 0||d<=0)&&(d=32),f===void 0&&(f=0),h===void 0&&(h=0),this.name=o,this.firstgid=u|0,this.imageWidth=l|0,this.imageHeight=d|0,this.imageMargin=f|0,this.imageSpacing=h|0,this.properties=A||{},this.images=[],this.total=0},containsImageIndex:function(c){return c>=this.firstgid&&c<this.firstgid+this.total},addImage:function(c,o,u,l){return this.images.push({gid:c,image:o,width:u,height:l}),this.total++,this}});r.exports=p},27462:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=new a({initialize:function(o){if(this.gids=[],o!==void 0)for(var u=0;u<o.length;++u)for(var l=o[u],d=0;d<l.total;++d)this.gids[l.firstgid+d]=l;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(c){this.gids=c?this._gids:void 0}},getTypeIncludingTile:function(c){if(c.type!==void 0&&c.type!=="")return c.type;if(!(!this.gids||c.gid===void 0)){var o=this.gids[c.gid];if(o){var u=o.getTileData(c.gid);if(u)return u.type}}},setTextureAndFrame:function(c,o,u,l){if(o===null&&this.gids&&l.gid!==void 0){var d=this.gids[l.gid];d&&(o===null&&d.image!==void 0&&(o=d.image.key),u===null&&(u=l.gid-d.firstgid),c.scene.textures.getFrame(o,u)||(o=null,u=null))}c.setTexture(o,u)},setPropertiesFromTiledObject:function(c,o){if(this.gids!==void 0&&o.gid!==void 0){var u=this.gids[o.gid];u!==void 0&&this.setFromJSON(c,u.getTileProperties(o.gid))}this.setFromJSON(c,o.properties)},setFromJSON:function(c,o){if(o){if(Array.isArray(o)){for(var u=0;u<o.length;u++){var l=o[u];c[l.name]!==void 0?c[l.name]=l.value:c.setData(l.name,l.value)}return}for(var d in o)c[d]!==void 0?c[d]=o[d]:c.setData(d,o[d])}}});r.exports=p},31989:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(80341),p=i(87010),c=i(46177),o=i(49075),u=function(l,d,f,h,A,g,v,y){f===void 0&&(f=32),h===void 0&&(h=32),A===void 0&&(A=10),g===void 0&&(g=10),y===void 0&&(y=!1);var C=null;if(Array.isArray(v)){var b=d!==void 0?d:"map";C=c(b,a.ARRAY_2D,v,f,h,y)}else if(d!==void 0){var T=l.cache.tilemap.get(d);T?C=c(d,T.format,T.data,f,h,y):console.warn("No map data found for key "+d)}return C===null&&(C=new p({tileWidth:f,tileHeight:h,width:A,height:g})),new o(l,C)};r.exports=u},23029:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(31401),c=i(91907),o=i(62644),u=i(93232),l=new a({Mixins:[p.AlphaSingle,p.Flip,p.Visible],initialize:function(f,h,A,g,v,y,C,b){this.layer=f,this.index=h,this.x=A,this.y=g,this.width=v,this.height=y,this.right,this.bottom,this.baseWidth=C!==void 0?C:v,this.baseHeight=b!==void 0?b:y,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.tintFill=!1,this.physics={}},containsPoint:function(d,f){return!(d<this.pixelX||f<this.pixelY||d>this.right||f>this.bottom)},copy:function(d){return this.index=d.index,this.alpha=d.alpha,this.properties=o(d.properties),this.visible=d.visible,this.setFlip(d.flipX,d.flipY),this.tint=d.tint,this.rotation=d.rotation,this.collideUp=d.collideUp,this.collideDown=d.collideDown,this.collideLeft=d.collideLeft,this.collideRight=d.collideRight,this.collisionCallback=d.collisionCallback,this.collisionCallbackContext=d.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(d){var f=this.tilemapLayer;if(f){var h=f.tileToWorldXY(this.x,this.y,void 0,d);return h.x}return this.x*this.baseWidth},getRight:function(d){var f=this.tilemapLayer;return f?this.getLeft(d)+this.width*f.scaleX:this.getLeft(d)+this.width},getTop:function(d){var f=this.tilemapLayer;if(f){var h=f.tileToWorldXY(this.x,this.y,void 0,d);return h.y}return this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(d){var f=this.tilemapLayer;return f?this.getTop(d)+this.height*f.scaleY:this.getTop(d)+this.height},getBounds:function(d,f){return f===void 0&&(f=new u),f.x=this.getLeft(d),f.y=this.getTop(d),f.width=this.getRight(d)-f.x,f.height=this.getBottom(d)-f.y,f},getCenterX:function(d){return(this.getLeft(d)+this.getRight(d))/2},getCenterY:function(d){return(this.getTop(d)+this.getBottom(d))/2},intersects:function(d,f,h,A){return!(h<=this.pixelX||A<=this.pixelY||d>=this.right||f>=this.bottom)},isInteresting:function(d,f){return d&&f?this.canCollide||this.hasInterestingFace:d?this.collides:f?this.hasInterestingFace:!1},resetCollision:function(d){if(d===void 0&&(d=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,d){var f=this.tilemapLayer;f&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(d,f,h,A,g){if(f===void 0&&(f=d),h===void 0&&(h=d),A===void 0&&(A=d),g===void 0&&(g=!0),this.collideLeft=d,this.collideRight=f,this.collideUp=h,this.collideDown=A,this.faceLeft=d,this.faceRight=f,this.faceTop=h,this.faceBottom=A,g){var v=this.tilemapLayer;v&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(d,f){return d===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=d,this.collisionCallbackContext=f),this},setSize:function(d,f,h,A){return d!==void 0&&(this.width=d),f!==void 0&&(this.height=f),h!==void 0&&(this.baseWidth=h),A!==void 0&&(this.baseHeight=A),this.updatePixelXY(),this},updatePixelXY:function(){var d=this.layer.orientation;if(d===c.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(d===c.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(d===c.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(d===c.HEXAGONAL){var f=this.layer.staggerAxis,h=this.layer.staggerIndex,A=this.layer.hexSideLength,g,v;f==="y"?(v=(this.baseHeight-A)/2+A,h==="odd"?this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.pixelX=this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*v):f==="x"&&(g=(this.baseWidth-A)/2+A,this.pixelX=this.x*g,h==="odd"?this.pixelY=this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.pixelY=this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var d=this.layer.tilemapLayer;if(d){var f=d.gidMap[this.index];if(f)return f}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var d=this.tilemapLayer;return d?d.tilemap:null}}});r.exports=l},49075:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(84101),p=i(83419),c=i(39506),o=i(80341),u=i(95540),l=i(14977),d=i(27462),f=i(91907),h=i(36305),A=i(19133),g=i(68287),v=i(23029),y=i(81086),C=i(20442),b=i(33629),T=new p({initialize:function(F,B){this.scene=F,this.tileWidth=B.tileWidth,this.tileHeight=B.tileHeight,this.width=B.width,this.height=B.height,this.orientation=B.orientation,this.renderOrder=B.renderOrder,this.format=B.format,this.version=B.version,this.properties=B.properties,this.widthInPixels=B.widthInPixels,this.heightInPixels=B.heightInPixels,this.imageCollections=B.imageCollections,this.images=B.images,this.layers=B.layers,this.tiles=B.tiles,this.tilesets=B.tilesets,this.objects=B.objects,this.currentLayerIndex=0,this.hexSideLength=B.hexSideLength;var N=this.orientation;this._convert={WorldToTileXY:y.GetWorldToTileXYFunction(N),WorldToTileX:y.GetWorldToTileXFunction(N),WorldToTileY:y.GetWorldToTileYFunction(N),TileToWorldXY:y.GetTileToWorldXYFunction(N),TileToWorldX:y.GetTileToWorldXFunction(N),TileToWorldY:y.GetTileToWorldYFunction(N),GetTileCorners:y.GetTileCornersFunction(N)}},setRenderOrder:function(S){var F=["right-down","left-down","right-up","left-up"];return typeof S=="number"&&(S=F[S]),F.indexOf(S)>-1&&(this.renderOrder=S),this},addTilesetImage:function(S,F,B,N,L,R,I,M){if(S===void 0)return null;F==null&&(F=S);var P=this.scene.sys.textures;if(!P.exists(F))return console.warn('Texture key "%s" not found',F),null;var U=P.get(F),z=this.getTilesetIndex(S);if(z===null&&this.format===o.TILED_JSON)return console.warn('Tilemap has no tileset "%s". Its tilesets are %o',S,this.tilesets),null;var W=this.tilesets[z];return W?((B||N)&&W.setTileSize(B,N),(L||R)&&W.setSpacing(L,R),W.setImage(U),W):(B===void 0&&(B=this.tileWidth),N===void 0&&(N=this.tileHeight),L===void 0&&(L=0),R===void 0&&(R=0),I===void 0&&(I=0),M===void 0&&(M={x:0,y:0}),W=new b(S,I,B,N,L,R,void 0,void 0,M),W.setImage(U),this.tilesets.push(W),this.tiles=a(this),W)},copy:function(S,F,B,N,L,R,I,M){return M=this.getLayer(M),M!==null?(y.Copy(S,F,B,N,L,R,I,M),this):null},createBlankLayer:function(S,F,B,N,L,R,I,M){B===void 0&&(B=0),N===void 0&&(N=0),L===void 0&&(L=this.width),R===void 0&&(R=this.height),I===void 0&&(I=this.tileWidth),M===void 0&&(M=this.tileHeight);var P=this.getLayerIndex(S);if(P!==null)return console.warn("Invalid Tilemap Layer ID: "+S),null;for(var U=new l({name:S,tileWidth:I,tileHeight:M,width:L,height:R,orientation:this.orientation,hexSideLength:this.hexSideLength}),z,W=0;W<R;W++){z=[];for(var Z=0;Z<L;Z++)z.push(new v(U,-1,Z,W,I,M,this.tileWidth,this.tileHeight));U.data.push(z)}this.layers.push(U),this.currentLayerIndex=this.layers.length-1;var j=new C(this.scene,this,this.currentLayerIndex,F,B,N);return j.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(j),j},createLayer:function(S,F,B,N){var L=this.getLayerIndex(S);if(L===null)return console.warn("Invalid Tilemap Layer ID: "+S),typeof S=="string"&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var R=this.layers[L];if(R.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+S),null;this.currentLayerIndex=L,B===void 0&&(B=R.x),N===void 0&&(N=R.y);var I=new C(this.scene,this,L,F,B,N);return I.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(I),I},createFromObjects:function(S,F,B){B===void 0&&(B=!0);var N=[],L=this.getObjectLayer(S);if(!L)return console.warn("createFromObjects: Invalid objectLayerName given: "+S),N;var R=new d(B?this.tilesets:void 0);Array.isArray(F)||(F=[F]);for(var I=L.objects,M=0;M<F.length;M++){var P=F[M],U=u(P,"id",null),z=u(P,"gid",null),W=u(P,"name",null),Z=u(P,"type",null);R.enabled=!u(P,"ignoreTileset",null);for(var j,H=[],V=0;V<I.length;V++)j=I[V],(U===null&&z===null&&W===null&&Z===null||U!==null&&j.id===U||z!==null&&j.gid===z||W!==null&&j.name===W||Z!==null&&R.getTypeIncludingTile(j)===Z)&&H.push(j);for(var k=u(P,"classType",g),X=u(P,"scene",this.scene),Q=u(P,"container",null),J=u(P,"key",null),$=u(P,"frame",null),_=0;_<H.length;_++){j=H[_];var te=new k(X);if(te.setName(j.name),te.setPosition(j.x,j.y),R.setTextureAndFrame(te,J,$,j),j.width&&(te.displayWidth=j.width),j.height&&(te.displayHeight=j.height),this.orientation===f.ISOMETRIC){var se=this.tileWidth/this.tileHeight,ce={x:te.x-te.y,y:(te.x+te.y)/se};te.x=ce.x,te.y=ce.y}var ge={x:te.originX*j.width,y:(te.originY-(j.gid?1:0))*j.height};if(j.rotation){var ue=c(j.rotation);h(ge,ue),te.rotation=ue}te.x+=ge.x,te.y+=ge.y,(j.flippedHorizontal!==void 0||j.flippedVertical!==void 0)&&te.setFlip(j.flippedHorizontal,j.flippedVertical),j.visible||(te.visible=!1),R.setPropertiesFromTiledObject(te,j),Q?Q.add(te):X.add.existing(te),N.push(te)}}return N},createFromTiles:function(S,F,B,N,L,R){return R=this.getLayer(R),R===null?null:y.CreateFromTiles(S,F,B,N,L,R)},fill:function(S,F,B,N,L,R,I){return R===void 0&&(R=!0),I=this.getLayer(I),I===null?null:(y.Fill(S,F,B,N,L,R,I),this)},filterObjects:function(S,F,B){if(typeof S=="string"){var N=S;if(S=this.getObjectLayer(S),!S)return console.warn("No object layer found with the name: "+N),null}return S.objects.filter(F,B)},filterTiles:function(S,F,B,N,L,R,I,M){return M=this.getLayer(M),M===null?null:y.FilterTiles(S,F,B,N,L,R,I,M)},findByIndex:function(S,F,B,N){return N=this.getLayer(N),N===null?null:y.FindByIndex(S,F,B,N)},findObject:function(S,F,B){if(typeof S=="string"){var N=S;if(S=this.getObjectLayer(S),!S)return console.warn("No object layer found with the name: "+N),null}return S.objects.find(F,B)||null},findTile:function(S,F,B,N,L,R,I,M){return M=this.getLayer(M),M===null?null:y.FindTile(S,F,B,N,L,R,I,M)},forEachTile:function(S,F,B,N,L,R,I,M){return M=this.getLayer(M),M===null?null:(y.ForEachTile(S,F,B,N,L,R,I,M),this)},getImageIndex:function(S){return this.getIndex(this.images,S)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(S){return S.name})},getIndex:function(S,F){for(var B=0;B<S.length;B++)if(S[B].name===F)return B;return null},getLayer:function(S){var F=this.getLayerIndex(S);return F!==null?this.layers[F]:null},getObjectLayer:function(S){var F=this.getIndex(this.objects,S);return F!==null?this.objects[F]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(S){return S.name})},getLayerIndex:function(S){return S===void 0?this.currentLayerIndex:typeof S=="string"?this.getLayerIndexByName(S):typeof S=="number"&&S<this.layers.length?S:S instanceof C&&S.tilemap===this?S.layerIndex:null},getLayerIndexByName:function(S){return this.getIndex(this.layers,S)},getTileAt:function(S,F,B,N){return N=this.getLayer(N),N===null?null:y.GetTileAt(S,F,B,N)},getTileAtWorldXY:function(S,F,B,N,L){return L=this.getLayer(L),L===null?null:y.GetTileAtWorldXY(S,F,B,N,L)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(S){return S.name})},getTilesWithin:function(S,F,B,N,L,R){return R=this.getLayer(R),R===null?null:y.GetTilesWithin(S,F,B,N,L,R)},getTilesWithinShape:function(S,F,B,N){return N=this.getLayer(N),N===null?null:y.GetTilesWithinShape(S,F,B,N)},getTilesWithinWorldXY:function(S,F,B,N,L,R,I){return I=this.getLayer(I),I===null?null:y.GetTilesWithinWorldXY(S,F,B,N,L,R,I)},getTileset:function(S){var F=this.getIndex(this.tilesets,S);return F!==null?this.tilesets[F]:null},getTilesetIndex:function(S){return this.getIndex(this.tilesets,S)},hasTileAt:function(S,F,B){return B=this.getLayer(B),B===null?null:y.HasTileAt(S,F,B)},hasTileAtWorldXY:function(S,F,B,N){return N=this.getLayer(N),N===null?null:y.HasTileAtWorldXY(S,F,B,N)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(S){this.setLayer(S)}},putTileAt:function(S,F,B,N,L){return N===void 0&&(N=!0),L=this.getLayer(L),L===null?null:y.PutTileAt(S,F,B,N,L)},putTileAtWorldXY:function(S,F,B,N,L,R){return N===void 0&&(N=!0),R=this.getLayer(R),R===null?null:y.PutTileAtWorldXY(S,F,B,N,L,R)},putTilesAt:function(S,F,B,N,L){return N===void 0&&(N=!0),L=this.getLayer(L),L===null?null:(y.PutTilesAt(S,F,B,N,L),this)},randomize:function(S,F,B,N,L,R){return R=this.getLayer(R),R===null?null:(y.Randomize(S,F,B,N,L,R),this)},calculateFacesAt:function(S,F,B){return B=this.getLayer(B),B===null?null:(y.CalculateFacesAt(S,F,B),this)},calculateFacesWithin:function(S,F,B,N,L){return L=this.getLayer(L),L===null?null:(y.CalculateFacesWithin(S,F,B,N,L),this)},removeLayer:function(S){var F=this.getLayerIndex(S);if(F!==null){A(this.layers,F);for(var B=F;B<this.layers.length;B++)this.layers[B].tilemapLayer&&this.layers[B].tilemapLayer.layerIndex--;return this.currentLayerIndex===F&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(S){var F=this.getLayerIndex(S);return F!==null?(S=this.layers[F],S.tilemapLayer.destroy(),A(this.layers,F),this.currentLayerIndex===F&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var S=this.layers,F=0;F<S.length;F++)S[F].tilemapLayer&&S[F].tilemapLayer.destroy(!1);return S.length=0,this.currentLayerIndex=0,this},removeTile:function(S,F,B){F===void 0&&(F=-1),B===void 0&&(B=!0);var N=[];Array.isArray(S)||(S=[S]);for(var L=0;L<S.length;L++){var R=S[L];N.push(this.removeTileAt(R.x,R.y,!0,B,R.tilemapLayer)),F>-1&&this.putTileAt(F,R.x,R.y,B,R.tilemapLayer)}return N},removeTileAt:function(S,F,B,N,L){return B===void 0&&(B=!0),N===void 0&&(N=!0),L=this.getLayer(L),L===null?null:y.RemoveTileAt(S,F,B,N,L)},removeTileAtWorldXY:function(S,F,B,N,L,R){return B===void 0&&(B=!0),N===void 0&&(N=!0),R=this.getLayer(R),R===null?null:y.RemoveTileAtWorldXY(S,F,B,N,L,R)},renderDebug:function(S,F,B){return B=this.getLayer(B),B===null?null:(this.orientation===f.ORTHOGONAL&&y.RenderDebug(S,F,B),this)},renderDebugFull:function(S,F){for(var B=this.layers,N=0;N<B.length;N++)y.RenderDebug(S,F,B[N]);return this},replaceByIndex:function(S,F,B,N,L,R,I){return I=this.getLayer(I),I===null?null:(y.ReplaceByIndex(S,F,B,N,L,R,I),this)},setCollision:function(S,F,B,N,L){return F===void 0&&(F=!0),B===void 0&&(B=!0),L===void 0&&(L=!0),N=this.getLayer(N),N===null?null:(y.SetCollision(S,F,B,N,L),this)},setCollisionBetween:function(S,F,B,N,L){return B===void 0&&(B=!0),N===void 0&&(N=!0),L=this.getLayer(L),L===null?null:(y.SetCollisionBetween(S,F,B,N,L),this)},setCollisionByProperty:function(S,F,B,N){return F===void 0&&(F=!0),B===void 0&&(B=!0),N=this.getLayer(N),N===null?null:(y.SetCollisionByProperty(S,F,B,N),this)},setCollisionByExclusion:function(S,F,B,N){return F===void 0&&(F=!0),B===void 0&&(B=!0),N=this.getLayer(N),N===null?null:(y.SetCollisionByExclusion(S,F,B,N),this)},setCollisionFromCollisionGroup:function(S,F,B){return S===void 0&&(S=!0),F===void 0&&(F=!0),B=this.getLayer(B),B===null?null:(y.SetCollisionFromCollisionGroup(S,F,B),this)},setTileIndexCallback:function(S,F,B,N){return N=this.getLayer(N),N===null?null:(y.SetTileIndexCallback(S,F,B,N),this)},setTileLocationCallback:function(S,F,B,N,L,R,I){return I=this.getLayer(I),I===null?null:(y.SetTileLocationCallback(S,F,B,N,L,R,I),this)},setLayer:function(S){var F=this.getLayerIndex(S);return F!==null&&(this.currentLayerIndex=F),this},setBaseTileSize:function(S,F){this.tileWidth=S,this.tileHeight=F,this.widthInPixels=this.width*S,this.heightInPixels=this.height*F;for(var B=0;B<this.layers.length;B++){this.layers[B].baseTileWidth=S,this.layers[B].baseTileHeight=F;for(var N=this.layers[B].data,L=this.layers[B].width,R=this.layers[B].height,I=0;I<R;I++)for(var M=0;M<L;M++){var P=N[I][M];P!==null&&P.setSize(void 0,void 0,S,F)}}return this},setLayerTileSize:function(S,F,B){if(B=this.getLayer(B),B===null)return this;B.tileWidth=S,B.tileHeight=F;for(var N=B.data,L=B.width,R=B.height,I=0;I<R;I++)for(var M=0;M<L;M++){var P=N[I][M];P!==null&&P.setSize(S,F)}return this},shuffle:function(S,F,B,N,L){return L=this.getLayer(L),L===null?null:(y.Shuffle(S,F,B,N,L),this)},swapByIndex:function(S,F,B,N,L,R,I){return I=this.getLayer(I),I===null?null:(y.SwapByIndex(S,F,B,N,L,R,I),this)},tileToWorldX:function(S,F,B){return B=this.getLayer(B),B===null?null:this._convert.TileToWorldX(S,F,B)},tileToWorldY:function(S,F,B){return B=this.getLayer(B),B===null?null:this._convert.TileToWorldY(S,F,B)},tileToWorldXY:function(S,F,B,N,L){return L=this.getLayer(L),L===null?null:this._convert.TileToWorldXY(S,F,B,N,L)},getTileCorners:function(S,F,B,N){return N=this.getLayer(N),N===null?null:this._convert.GetTileCorners(S,F,B,N)},weightedRandomize:function(S,F,B,N,L,R){return R=this.getLayer(R),R===null?null:(y.WeightedRandomize(F,B,N,L,S,R),this)},worldToTileX:function(S,F,B,N){return N=this.getLayer(N),N===null?null:this._convert.WorldToTileX(S,F,B,N)},worldToTileY:function(S,F,B,N){return N=this.getLayer(N),N===null?null:this._convert.WorldToTileY(S,F,B,N)},worldToTileXY:function(S,F,B,N,L,R){return R=this.getLayer(R),R===null?null:this._convert.WorldToTileXY(S,F,B,N,L,R)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});r.exports=T},45939:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(44603),p=i(31989);a.register("tilemap",function(c){var o=c!==void 0?c:{};return p(this.scene,o.key,o.tileWidth,o.tileHeight,o.width,o.height,o.data,o.insertNull)})},46029:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(39429),p=i(31989);a.register("tilemap",function(c,o,u,l,d,f,h){return c===null&&(c=void 0),o===null&&(o=void 0),u===null&&(u=void 0),l===null&&(l=void 0),d===null&&(d=void 0),p(this.scene,c,o,u,l,d,f,h)})},20442:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(78389),c=i(31401),o=i(95643),u=i(81086),l=i(19218),d=i(26099),f=new a({Extends:o,Mixins:[c.Alpha,c.BlendMode,c.ComputedSize,c.Depth,c.Flip,c.GetBounds,c.Mask,c.Origin,c.Pipeline,c.PostPipeline,c.Transform,c.Visible,c.ScrollFactor,p,l],initialize:function(A,g,v,y,C,b){o.call(this,A,"TilemapLayer"),this.isTilemap=!0,this.tilemap=g,this.layerIndex=v,this.layer=g.layers[v],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=u.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new d,this.collisionCategory=1,this.collisionMask=1,this.setTilesets(y),this.setAlpha(this.layer.alpha),this.setPosition(C,b),this.setOrigin(0,0),this.setSize(g.tileWidth*this.layer.width,g.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(h){var A=[],g=[],v=this.tilemap;Array.isArray(h)||(h=[h]);for(var y=0;y<h.length;y++){var C=h[y];if(typeof C=="string"&&(C=v.getTileset(C)),C){g.push(C);for(var b=C.firstgid,T=0;T<C.total;T++)A[b+T]=C}}this.gidMap=A,this.tileset=g},setRenderOrder:function(h){var A=["right-down","left-down","right-up","left-up"];return typeof h=="string"&&(h=A.indexOf(h)),h>=0&&h<4&&(this._renderOrder=h),this},calculateFacesAt:function(h,A){return u.CalculateFacesAt(h,A,this.layer),this},calculateFacesWithin:function(h,A,g,v){return u.CalculateFacesWithin(h,A,g,v,this.layer),this},createFromTiles:function(h,A,g,v,y){return u.CreateFromTiles(h,A,g,v,y,this.layer)},cull:function(h){return this.cullCallback(this.layer,h,this.culledTiles,this._renderOrder)},copy:function(h,A,g,v,y,C,b){return u.Copy(h,A,g,v,y,C,b,this.layer),this},fill:function(h,A,g,v,y,C){return u.Fill(h,A,g,v,y,C,this.layer),this},filterTiles:function(h,A,g,v,y,C,b){return u.FilterTiles(h,A,g,v,y,C,b,this.layer)},findByIndex:function(h,A,g){return u.FindByIndex(h,A,g,this.layer)},findTile:function(h,A,g,v,y,C,b){return u.FindTile(h,A,g,v,y,C,b,this.layer)},forEachTile:function(h,A,g,v,y,C,b){return u.ForEachTile(h,A,g,v,y,C,b,this.layer),this},setTint:function(h,A,g,v,y,C){h===void 0&&(h=16777215);var b=function(T){T.tint=h,T.tintFill=!1};return this.forEachTile(b,this,A,g,v,y,C)},setTintFill:function(h,A,g,v,y,C){h===void 0&&(h=16777215);var b=function(T){T.tint=h,T.tintFill=!0};return this.forEachTile(b,this,A,g,v,y,C)},getTileAt:function(h,A,g){return u.GetTileAt(h,A,g,this.layer)},getTileAtWorldXY:function(h,A,g,v){return u.GetTileAtWorldXY(h,A,g,v,this.layer)},getIsoTileAtWorldXY:function(h,A,g,v,y){g===void 0&&(g=!0);var C=this.tempVec;return u.IsometricWorldToTileXY(h,A,!0,C,y,this.layer,g),this.getTileAt(C.x,C.y,v)},getTilesWithin:function(h,A,g,v,y){return u.GetTilesWithin(h,A,g,v,y,this.layer)},getTilesWithinShape:function(h,A,g){return u.GetTilesWithinShape(h,A,g,this.layer)},getTilesWithinWorldXY:function(h,A,g,v,y,C){return u.GetTilesWithinWorldXY(h,A,g,v,y,C,this.layer)},hasTileAt:function(h,A){return u.HasTileAt(h,A,this.layer)},hasTileAtWorldXY:function(h,A,g){return u.HasTileAtWorldXY(h,A,g,this.layer)},putTileAt:function(h,A,g,v){return u.PutTileAt(h,A,g,v,this.layer)},putTileAtWorldXY:function(h,A,g,v,y){return u.PutTileAtWorldXY(h,A,g,v,y,this.layer)},putTilesAt:function(h,A,g,v){return u.PutTilesAt(h,A,g,v,this.layer),this},randomize:function(h,A,g,v,y){return u.Randomize(h,A,g,v,y,this.layer),this},removeTileAt:function(h,A,g,v){return u.RemoveTileAt(h,A,g,v,this.layer)},removeTileAtWorldXY:function(h,A,g,v,y){return u.RemoveTileAtWorldXY(h,A,g,v,y,this.layer)},renderDebug:function(h,A){return u.RenderDebug(h,A,this.layer),this},replaceByIndex:function(h,A,g,v,y,C){return u.ReplaceByIndex(h,A,g,v,y,C,this.layer),this},setSkipCull:function(h){return h===void 0&&(h=!0),this.skipCull=h,this},setCullPadding:function(h,A){return h===void 0&&(h=1),A===void 0&&(A=1),this.cullPaddingX=h,this.cullPaddingY=A,this},setCollision:function(h,A,g,v){return u.SetCollision(h,A,g,this.layer,v),this},setCollisionBetween:function(h,A,g,v){return u.SetCollisionBetween(h,A,g,v,this.layer),this},setCollisionByProperty:function(h,A,g){return u.SetCollisionByProperty(h,A,g,this.layer),this},setCollisionByExclusion:function(h,A,g){return u.SetCollisionByExclusion(h,A,g,this.layer),this},setCollisionFromCollisionGroup:function(h,A){return u.SetCollisionFromCollisionGroup(h,A,this.layer),this},setTileIndexCallback:function(h,A,g){return u.SetTileIndexCallback(h,A,g,this.layer),this},setTileLocationCallback:function(h,A,g,v,y,C){return u.SetTileLocationCallback(h,A,g,v,y,C,this.layer),this},shuffle:function(h,A,g,v){return u.Shuffle(h,A,g,v,this.layer),this},swapByIndex:function(h,A,g,v,y,C){return u.SwapByIndex(h,A,g,v,y,C,this.layer),this},tileToWorldX:function(h,A){return this.tilemap.tileToWorldX(h,A,this)},tileToWorldY:function(h,A){return this.tilemap.tileToWorldY(h,A,this)},tileToWorldXY:function(h,A,g,v){return this.tilemap.tileToWorldXY(h,A,g,v,this)},getTileCorners:function(h,A,g){return this.tilemap.getTileCorners(h,A,g,this)},weightedRandomize:function(h,A,g,v,y){return u.WeightedRandomize(A,g,v,y,h,this.layer),this},worldToTileX:function(h,A,g){return this.tilemap.worldToTileX(h,A,g,this)},worldToTileY:function(h,A,g){return this.tilemap.worldToTileY(h,A,g,this)},worldToTileXY:function(h,A,g,v,y){return this.tilemap.worldToTileXY(h,A,g,v,y,this)},destroy:function(h){h===void 0&&(h=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),h&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],o.prototype.destroy.call(this))}});r.exports=f},16153:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(61340),p=new a,c=new a,o=new a,u=function(l,d,f,h){var A=d.cull(f),g=A.length,v=f.alpha*d.alpha;if(!(g===0||v<=0)){var y=p,C=c,b=o;C.applyITRS(d.x,d.y,d.rotation,d.scaleX,d.scaleY),y.copyFrom(f.matrix);var T=l.currentContext,S=d.gidMap;T.save(),h?(y.multiplyWithOffset(h,-f.scrollX*d.scrollFactorX,-f.scrollY*d.scrollFactorY),C.e=d.x,C.f=d.y,y.multiply(C,b),b.copyToContext(T)):(C.e-=f.scrollX*d.scrollFactorX,C.f-=f.scrollY*d.scrollFactorY,C.copyToContext(T)),(!l.antialias||d.scaleX>1||d.scaleY>1)&&(T.imageSmoothingEnabled=!1);for(var F=0;F<g;F++){var B=A[F],N=S[B.index];if(N){var L=N.image.getSourceImage(),R=N.getTileTextureCoordinates(B.index),I=N.tileWidth,M=N.tileHeight;if(!(R===null||I===0||M===0)){var P=I*.5,U=M*.5;R.x+=N.tileOffset.x,R.y+=N.tileOffset.y,T.save(),T.translate(B.pixelX+P,B.pixelY+U),B.rotation!==0&&T.rotate(B.rotation),(B.flipX||B.flipY)&&T.scale(B.flipX?-1:1,B.flipY?-1:1),T.globalAlpha=v*B.alpha,T.drawImage(L,R.x,R.y,I,M,-P,-U,I,M),T.restore()}}}T.restore()}};r.exports=u},19218:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(29747),p=a,c=a;p=i(99558),c=i(16153),r.exports={renderWebGL:p,renderCanvas:c}},99558:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(70554),p=function(c,o,u){var l=o.cull(u),d=l.length,f=u.alpha*o.alpha;if(!(d===0||f<=0)){var h=o.gidMap,A=c.pipelines.set(o.pipeline,o),g=a.getTintAppendFloatAlpha,v=o.scrollFactorX,y=o.scrollFactorY,C=o.x,b=o.y,T=o.scaleX,S=o.scaleY;c.pipelines.preBatch(o);for(var F=0;F<d;F++){var B=l[F],N=h[B.index];if(N){var L=N.getTileTextureCoordinates(B.index),R=N.tileWidth,I=N.tileHeight;if(!(!L||R===0||I===0)){var M=R*.5,P=I*.5,U=N.glTexture,z=A.setTexture2D(U,o),W=R,Z=I,j=L.x,H=L.y,V=N.tileOffset.x,k=N.tileOffset.y,X=g(B.tint,f*B.alpha);A.batchTexture(o,U,U.width,U.height,C+B.pixelX*T+(M*T-V),b+B.pixelY*S+(P*S-k),R,I,T,S,B.rotation,B.flipX,B.flipY,v,y,M,P,j,H,W,Z,X,X,X,X,B.tintFill,0,0,u,null,!0,z,!0)}}}c.pipelines.postBatch(o)}};r.exports=p},33629:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(26099),c=new a({initialize:function(u,l,d,f,h,A,g,v,y){(d===void 0||d<=0)&&(d=32),(f===void 0||f<=0)&&(f=32),h===void 0&&(h=0),A===void 0&&(A=0),g===void 0&&(g={}),v===void 0&&(v={}),this.name=u,this.firstgid=l,this.tileWidth=d,this.tileHeight=f,this.tileMargin=h,this.tileSpacing=A,this.tileProperties=g,this.tileData=v,this.tileOffset=new p,y!==void 0&&this.tileOffset.set(y.x,y.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(o){return this.containsTileIndex(o)?this.tileProperties[o-this.firstgid]:null},getTileData:function(o){return this.containsTileIndex(o)?this.tileData[o-this.firstgid]:null},getTileCollisionGroup:function(o){var u=this.getTileData(o);return u&&u.objectgroup?u.objectgroup:null},containsTileIndex:function(o){return o>=this.firstgid&&o<this.firstgid+this.total},getTileTextureCoordinates:function(o){return this.containsTileIndex(o)?this.texCoordinates[o-this.firstgid]:null},setImage:function(o){this.image=o;var u=o.get(),l=o.getFrameBounds();return this.glTexture=u.source.glTexture,u.width>l.width||u.height>l.height?this.updateTileData(u.width,u.height):this.updateTileData(l.width,l.height,l.x,l.y),this},setTileSize:function(o,u){return o!==void 0&&(this.tileWidth=o),u!==void 0&&(this.tileHeight=u),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(o,u){return o!==void 0&&(this.tileMargin=o),u!==void 0&&(this.tileSpacing=u),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(o,u,l,d){l===void 0&&(l=0),d===void 0&&(d=0);var f=(u-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),h=(o-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(f%1!==0||h%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),f=Math.floor(f),h=Math.floor(h),this.rows=f,this.columns=h,this.total=f*h,this.texCoordinates.length=0;for(var A=this.tileMargin+l,g=this.tileMargin+d,v=0;v<this.rows;v++){for(var y=0;y<this.columns;y++)this.texCoordinates.push({x:A,y:g}),A+=this.tileWidth+this.tileSpacing;A=this.tileMargin+l,g+=this.tileHeight+this.tileSpacing}return this}});r.exports=c},72023:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(7423),p=function(c,o,u){var l=a(c,o,!0,u),d=a(c,o-1,!0,u),f=a(c,o+1,!0,u),h=a(c-1,o,!0,u),A=a(c+1,o,!0,u),g=l&&l.collides;return g&&(l.faceTop=!0,l.faceBottom=!0,l.faceLeft=!0,l.faceRight=!0),d&&d.collides&&(g&&(l.faceTop=!1),d.faceBottom=!g),f&&f.collides&&(g&&(l.faceBottom=!1),f.faceTop=!g),h&&h.collides&&(g&&(l.faceLeft=!1),h.faceRight=!g),A&&A.collides&&(g&&(l.faceRight=!1),A.faceLeft=!g),l&&!l.collides&&l.resetFaces(),l};r.exports=p},42573:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(7423),p=i(7386),c=function(o,u,l,d,f){for(var h=null,A=null,g=null,v=null,y=p(o,u,l,d,null,f),C=0;C<y.length;C++){var b=y[C];b&&(b.collides?(h=a(b.x,b.y-1,!0,f),A=a(b.x,b.y+1,!0,f),g=a(b.x-1,b.y,!0,f),v=a(b.x+1,b.y,!0,f),b.faceTop=!(h&&h.collides),b.faceBottom=!(A&&A.collides),b.faceLeft=!(g&&g.collides),b.faceRight=!(v&&v.collides)):b.resetFaces())}};r.exports=c},33528:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(26099),p=new a,c=function(o,u,l,d){var f=l.tilemapLayer,h=f.cullPaddingX,A=f.cullPaddingY,g=f.tilemap.tileToWorldXY(o,u,p,d,f);return g.x>d.worldView.x+f.scaleX*l.tileWidth*(-h-.5)&&g.x<d.worldView.right+f.scaleX*l.tileWidth*(h-.5)&&g.y>d.worldView.y+f.scaleY*l.tileHeight*(-A-1)&&g.y<d.worldView.bottom+f.scaleY*l.tileHeight*(A-.5)};r.exports=c},1785:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(42573),p=i(7386),c=i(62991),o=i(23029),u=function(l,d,f,h,A,g,v,y){v===void 0&&(v=!0);var C=p(l,d,f,h,null,y),b=[];C.forEach(function(R){var I=new o(R.layer,R.index,R.x,R.y,R.width,R.height,R.baseWidth,R.baseHeight);I.copy(R),b.push(I)});for(var T=A-l,S=g-d,F=0;F<b.length;F++){var B=b[F],N=B.x+T,L=B.y+S;c(N,L,y)&&y.data[L][N]&&(B.x=N,B.y=L,B.updatePixelXY(),y.data[L][N]=B)}v&&a(A-1,g-1,f+2,h+2,y),C.length=0,b.length=0};r.exports=u},78419:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(62644),p=i(7386),c=i(27987),o=function(u,l,d,f,h,A){d||(d={}),Array.isArray(u)||(u=[u]);var g=A.tilemapLayer;f||(f=g.scene),h||(h=f.cameras.main);var v=A.width,y=A.height,C=p(0,0,v,y,null,A),b=[],T,S=function(L,R,I){for(var M=0;M<I.length;M++){var P=I[M];L.hasOwnProperty(P)||(L[P]=R[P])}};for(T=0;T<C.length;T++){var F=C[T],B=a(d);if(u.indexOf(F.index)!==-1){var N=g.tileToWorldXY(F.x,F.y,void 0,h,A);B.x=N.x,B.y=N.y,S(B,F,["rotation","flipX","flipY","alpha","visible","tint"]),B.hasOwnProperty("origin")||(B.x+=F.width*.5,B.y+=F.height*.5),B.hasOwnProperty("useSpriteSheet")&&(B.key=F.tileset.image,B.frame=F.index-F.tileset.firstgid),b.push(f.make.sprite(B))}}if(Array.isArray(l))for(T=0;T<u.length;T++)c(u[T],l[T],0,0,v,y,A);else if(l!==null)for(T=0;T<u.length;T++)c(u[T],l,0,0,v,y,A);return b};r.exports=o},19545:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(87841),p=i(63448),c=i(56583),o=new a,u=function(l,d){var f=l.tilemapLayer.tilemap,h=l.tilemapLayer,A=Math.floor(f.tileWidth*h.scaleX),g=Math.floor(f.tileHeight*h.scaleY),v=c(d.worldView.x-h.x,A,0,!0)-h.cullPaddingX,y=p(d.worldView.right-h.x,A,0,!0)+h.cullPaddingX,C=c(d.worldView.y-h.y,g,0,!0)-h.cullPaddingY,b=p(d.worldView.bottom-h.y,g,0,!0)+h.cullPaddingY;return o.setTo(v,C,y-v,b-C)};r.exports=u},30003:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(19545),p=i(32483),c=function(o,u,l,d){l===void 0&&(l=[]),d===void 0&&(d=0),l.length=0;var f=o.tilemapLayer,h=a(o,u);return(f.skipCull||f.scrollFactorX!==1||f.scrollFactorY!==1)&&(h.left=0,h.right=o.width,h.top=0,h.bottom=o.height),p(o,h,d,l),l};r.exports=c},35137:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(7386),p=i(42573),c=i(20576),o=function(u,l,d,f,h,A,g){for(var v=g.collideIndexes.indexOf(u)!==-1,y=a(l,d,f,h,null,g),C=0;C<y.length;C++)y[C].index=u,c(y[C],v);A&&p(l-1,d-1,f+2,h+2,g)};r.exports=o},40253:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(7386),p=function(c,o,u,l,d,f,h,A){var g=a(u,l,d,f,h,A);return g.filter(c,o)};r.exports=p},52692:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p,c){a===void 0&&(a=0),p===void 0&&(p=!1);var o=0,u,l,d;if(p){for(l=c.height-1;l>=0;l--)for(u=c.width-1;u>=0;u--)if(d=c.data[l][u],d&&d.index===i){if(o===a)return d;o+=1}}else for(l=0;l<c.height;l++)for(u=0;u<c.width;u++)if(d=c.data[l][u],d&&d.index===i){if(o===a)return d;o+=1}return null};r.exports=x},66151:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(7386),p=function(c,o,u,l,d,f,h,A){var g=a(u,l,d,f,h,A);return g.find(c,o)||null};r.exports=p},97560:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(7386),p=function(c,o,u,l,d,f,h,A){var g=a(u,l,d,f,h,A);g.forEach(c,o)};r.exports=p},43305:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(91907),p=i(30003),c=i(9474),o=i(14018),u=i(29747),l=i(54503),d=function(f){return f===a.ORTHOGONAL?p:f===a.HEXAGONAL?c:f===a.STAGGERED?l:f===a.ISOMETRIC?o:u};r.exports=d},7423:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(62991),p=function(c,o,u,l){if(a(c,o,l)){var d=l.data[o][c]||null;return d?d.index===-1?u?d:null:d:null}else return null};r.exports=p},60540:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(7423),p=i(26099),c=new p,o=function(u,l,d,f,h){return h.tilemapLayer.worldToTileXY(u,l,!0,c,f),a(c.x,c.y,d,h)};r.exports=o},55826:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(26099),p=function(c,o,u,l){var d=l.baseTileWidth,f=l.baseTileHeight,h=l.tilemapLayer,A=0,g=0;h&&(u||(u=h.scene.cameras.main),A=h.x+u.scrollX*(1-h.scrollFactorX),g=h.y+u.scrollY*(1-h.scrollFactorY),d*=h.scaleX,f*=h.scaleY);var v=A+c*d,y=g+o*f;return[new a(v,y),new a(v+d,y),new a(v+d,y+f),new a(v,y+f)]};r.exports=p},11758:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(91907),p=i(27229),c=i(29747),o=i(55826),u=function(l){return l===a.ORTHOGONAL?o:l===a.ISOMETRIC?c:l===a.HEXAGONAL?p:(l===a.STAGGERED,c)};r.exports=u},39167:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(91907),p=i(29747),c=i(97281),o=function(u){return u===a.ORTHOGONAL?c:p};r.exports=o},62e3:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(91907),p=i(19951),c=i(14127),o=i(29747),u=i(97202),l=i(70326),d=function(f){return f===a.ORTHOGONAL?l:f===a.ISOMETRIC?c:f===a.HEXAGONAL?p:f===a.STAGGERED?u:o};r.exports=d},5984:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(91907),p=i(29747),c=i(28054),o=i(29650),u=function(l){return l===a.ORTHOGONAL?o:l===a.STAGGERED?c:p};r.exports=u},7386:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(95540),p=function(c,o,u,l,d,f){c===void 0&&(c=0),o===void 0&&(o=0),u===void 0&&(u=f.width),l===void 0&&(l=f.height),d||(d={});var h=a(d,"isNotEmpty",!1),A=a(d,"isColliding",!1),g=a(d,"hasInterestingFace",!1);c<0&&(u+=c,c=0),o<0&&(l+=o,o=0),c+u>f.width&&(u=Math.max(f.width-c,0)),o+l>f.height&&(l=Math.max(f.height-o,0));for(var v=[],y=o;y<o+l;y++)for(var C=c;C<c+u;C++){var b=f.data[y][C];if(b!==null){if(h&&b.index===-1||A&&!b.collides||g&&!b.hasInterestingFace)continue;v.push(b)}}return v};r.exports=p},91141:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(55738),p=i(7386),c=i(91865),o=i(29747),u=i(26099),l=i(91907),d=function(v,y){return c.RectangleToTriangle(y,v)},f=new u,h=new u,A=new u,g=function(v,y,C,b){if(b.orientation!==l.ORTHOGONAL)return console.warn("GetTilesWithinShape only works with orthogonal tilemaps"),[];if(v===void 0)return[];var T=o;v instanceof a.Circle?T=c.CircleToRectangle:v instanceof a.Rectangle?T=c.RectangleToRectangle:v instanceof a.Triangle?T=d:v instanceof a.Line&&(T=c.LineToRectangle),b.tilemapLayer.worldToTileXY(v.left,v.top,!0,h,C);var S=h.x,F=h.y;b.tilemapLayer.worldToTileXY(v.right,v.bottom,!1,A,C);var B=Math.ceil(A.x),N=Math.ceil(A.y),L=Math.max(B-S,1),R=Math.max(N-F,1),I=p(S,F,L,R,y,b),M=b.tileWidth,P=b.tileHeight;b.tilemapLayer&&(M*=b.tilemapLayer.scaleX,P*=b.tilemapLayer.scaleY);for(var U=[],z=new a.Rectangle(0,0,M,P),W=0;W<I.length;W++){var Z=I[W];b.tilemapLayer.tileToWorldXY(Z.x,Z.y,f,C),z.x=f.x,z.y=f.y,T(v,z)&&U.push(Z)}return U};r.exports=g},96523:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(7386),p=i(26099),c=new p,o=new p,u=function(l,d,f,h,A,g,v){var y=v.tilemapLayer.tilemap._convert.WorldToTileXY;y(l,d,!0,c,g,v);var C=c.x,b=c.y;y(l+f,d+h,!1,o,g,v);var T=Math.ceil(o.x),S=Math.ceil(o.y);return a(C,b,T-C,S-b,A,v)};r.exports=u},96113:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(91907),p=i(20242),c=i(10095),o=function(u){return u===a.ORTHOGONAL?c:p};r.exports=o},16926:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(91907),p=i(86625),c=i(96897),o=i(29747),u=i(15108),l=i(85896),d=function(f){return f===a.ORTHOGONAL?l:f===a.ISOMETRIC?c:f===a.HEXAGONAL?p:f===a.STAGGERED?u:o};r.exports=d},55762:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(91907),p=i(20242),c=i(51900),o=i(63288),u=function(l){return l===a.ORTHOGONAL?o:l===a.STAGGERED?c:p};r.exports=u},45091:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(62991),p=function(c,o,u){if(a(c,o,u)){var l=u.data[o][c];return l!==null&&l.index>-1}else return!1};r.exports=p},24152:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(45091),p=i(26099),c=new p,o=function(u,l,d,f){f.tilemapLayer.worldToTileXY(u,l,!0,c,d);var h=c.x,A=c.y;return a(h,A,f)};r.exports=o},90454:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(63448),p=i(56583),c=function(o,u){var l=o.tilemapLayer.tilemap,d=o.tilemapLayer,f=Math.floor(l.tileWidth*d.scaleX),h=Math.floor(l.tileHeight*d.scaleY),A=o.hexSideLength,g,v,y,C;if(o.staggerAxis==="y"){var b=(h-A)/2+A;g=p(u.worldView.x-d.x,f,0,!0)-d.cullPaddingX,v=a(u.worldView.right-d.x,f,0,!0)+d.cullPaddingX,y=p(u.worldView.y-d.y,b,0,!0)-d.cullPaddingY,C=a(u.worldView.bottom-d.y,b,0,!0)+d.cullPaddingY}else{var T=(f-A)/2+A;g=p(u.worldView.x-d.x,T,0,!0)-d.cullPaddingX,v=a(u.worldView.right-d.x,T,0,!0)+d.cullPaddingX,y=p(u.worldView.y-d.y,h,0,!0)-d.cullPaddingY,C=a(u.worldView.bottom-d.y,h,0,!0)+d.cullPaddingY}return{left:g,right:v,top:y,bottom:C}};r.exports=c},9474:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(90454),p=i(32483),c=function(o,u,l,d){l===void 0&&(l=[]),d===void 0&&(d=0),l.length=0;var f=o.tilemapLayer,h=a(o,u);return f.skipCull&&f.scrollFactorX===1&&f.scrollFactorY===1&&(h.left=0,h.right=o.width,h.top=0,h.bottom=o.height),p(o,h,d,l),l};r.exports=c},27229:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(19951),p=i(26099),c=new p,o=function(u,l,d,f){var h=f.baseTileWidth,A=f.baseTileHeight,g=f.tilemapLayer;g&&(h*=g.scaleX,A*=g.scaleY);var v=a(u,l,c,d,f),y=[],C=.5773502691896257,b,T;f.staggerAxis==="y"?(b=C*h,T=A/2):(b=h/2,T=C*A);for(var S=0;S<6;S++){var F=2*Math.PI*(.5-S)/6;y.push(new p(v.x+b*Math.cos(F),v.y+T*Math.sin(F)))}return y};r.exports=o},19951:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(26099),p=function(c,o,u,l,d){u||(u=new a);var f=d.baseTileWidth,h=d.baseTileHeight,A=d.tilemapLayer,g=0,v=0;A&&(l||(l=A.scene.cameras.main),g=A.x+l.scrollX*(1-A.scrollFactorX),v=A.y+l.scrollY*(1-A.scrollFactorY),f*=A.scaleX,h*=A.scaleY);var y=f/2,C=h/2,b,T,S=d.staggerAxis,F=d.staggerIndex;return S==="y"?(b=g+f*c+f,T=v+1.5*o*C+C,o%2===0&&(F==="odd"?b-=y:b+=y)):S==="x"&&F==="odd"&&(b=g+1.5*c*y+y,T=v+h*c+h,c%2===0&&(F==="odd"?T-=C:T+=C)),u.set(b,T)};r.exports=p},86625:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(26099),p=function(c,o,u,l,d,f){l||(l=new a);var h=f.baseTileWidth,A=f.baseTileHeight,g=f.tilemapLayer;g&&(d||(d=g.scene.cameras.main),c=c-(g.x+d.scrollX*(1-g.scrollFactorX)),o=o-(g.y+d.scrollY*(1-g.scrollFactorY)),h*=g.scaleX,A*=g.scaleY);var v=.5773502691896257,y=-.3333333333333333,C=0,b=.6666666666666666,T=h/2,S=A/2,F,B,N,L,R;f.staggerAxis==="y"?(F=(c-T)/(v*h),B=(o-S)/S,N=v*F+y*B,L=C*F+b*B):(F=(c-T)/T,B=(o-S)/(v*A),N=y*F+v*B,L=b*F+C*B),R=-N-L;var I=Math.round(N),M=Math.round(L),P=Math.round(R),U=Math.abs(I-N),z=Math.abs(M-L),W=Math.abs(P-R);U>z&&U>W?I=-M-P:z>W&&(M=-I-P);var Z,j=M;return f.staggerIndex==="odd"?Z=j%2===0?M/2+I:M/2+I-.5:Z=j%2===0?M/2+I:M/2+I+.5,l.set(Z,j)};r.exports=p},62991:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p){return i>=0&&i<p.width&&a>=0&&a<p.height};r.exports=x},14018:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(33528),p=function(c,o,u,l){u===void 0&&(u=[]),l===void 0&&(l=0),u.length=0;var d=c.tilemapLayer,f=c.data,h=c.width,A=c.height,g=d.skipCull,v=0,y=h,C=0,b=A,T,S,F;if(l===0)for(S=C;S<b;S++)for(T=v;T<y;T++)F=f[S][T],!(!F||F.index===-1||!F.visible||F.alpha===0)&&(!g&&!a(T,S,c,o)||u.push(F));else if(l===1)for(S=C;S<b;S++)for(T=y;T>=v;T--)F=f[S][T],!(!F||F.index===-1||!F.visible||F.alpha===0)&&(!g&&!a(T,S,c,o)||u.push(F));else if(l===2)for(S=b;S>=C;S--)for(T=v;T<y;T++)F=f[S][T],!(!F||F.index===-1||!F.visible||F.alpha===0)&&(!g&&!a(T,S,c,o)||u.push(F));else if(l===3)for(S=b;S>=C;S--)for(T=y;T>=v;T--)F=f[S][T],!(!F||F.index===-1||!F.visible||F.alpha===0)&&(!g&&!a(T,S,c,o)||u.push(F));return d.tilesDrawn=u.length,d.tilesTotal=h*A,u};r.exports=p},14127:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(26099),p=function(c,o,u,l,d){u||(u=new a);var f=d.baseTileWidth,h=d.baseTileHeight,A=d.tilemapLayer,g=0,v=0;A&&(l||(l=A.scene.cameras.main),g=A.x+l.scrollX*(1-A.scrollFactorX),f*=A.scaleX,v=A.y+l.scrollY*(1-A.scrollFactorY),h*=A.scaleY);var y=g+(c-o)*(f/2),C=v+(c+o)*(h/2);return u.set(y,C)};r.exports=p},96897:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(26099),p=function(c,o,u,l,d,f,h){l||(l=new a);var A=f.baseTileWidth,g=f.baseTileHeight,v=f.tilemapLayer;v&&(d||(d=v.scene.cameras.main),o=o-(v.y+d.scrollY*(1-v.scrollFactorY)),g*=v.scaleY,c=c-(v.x+d.scrollX*(1-v.scrollFactorX)),A*=v.scaleX);var y=A/2,C=g/2;c=c-y,h||(o=o-g);var b=.5*(c/y+o/C),T=.5*(-c/y+o/C);return u&&(b=Math.floor(b),T=Math.floor(T)),l.set(b,T)};r.exports=p},71558:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(23029),p=i(62991),c=i(72023),o=i(20576),u=function(l,d,f,h,A){if(h===void 0&&(h=!0),!p(d,f,A))return null;var g,v=A.data[f][d],y=v&&v.collides;l instanceof a?(A.data[f][d]===null&&(A.data[f][d]=new a(A,l.index,d,f,A.tileWidth,A.tileHeight)),A.data[f][d].copy(l)):(g=l,A.data[f][d]===null?A.data[f][d]=new a(A,g,d,f,A.tileWidth,A.tileHeight):A.data[f][d].index=g);var C=A.data[f][d],b=A.collideIndexes.indexOf(C.index)!==-1;if(g=l instanceof a?l.index:l,g===-1)C.width=A.tileWidth,C.height=A.tileHeight;else{var T=A.tilemapLayer.tilemap,S=T.tiles,F=S[g][2],B=T.tilesets[F];C.width=B.tileWidth,C.height=B.tileHeight}return o(C,b),h&&y!==C.collides&&c(d,f,A),C};r.exports=u},26303:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(71558),p=i(26099),c=new p,o=function(u,l,d,f,h,A){return A.tilemapLayer.worldToTileXY(l,d,!0,c,h,A),a(u,c.x,c.y,f,A)};r.exports=o},14051:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(42573),p=i(71558),c=function(o,u,l,d,f){if(d===void 0&&(d=!0),!Array.isArray(o))return null;Array.isArray(o[0])||(o=[o]);for(var h=o.length,A=o[0].length,g=0;g<h;g++)for(var v=0;v<A;v++){var y=o[g][v];p(y,u+v,l+g,!1,f)}d&&a(u-1,l-1,A+2,h+2,f)};r.exports=c},77389:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(7386),p=i(26546),c=function(o,u,l,d,f,h){var A,g=a(o,u,l,d,{},h);if(!f)for(f=[],A=0;A<g.length;A++)f.indexOf(g[A].index)===-1&&f.push(g[A].index);for(A=0;A<g.length;A++)g[A].index=p(f)};r.exports=c},63557:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(23029),p=i(62991),c=i(72023),o=function(u,l,d,f,h){if(d===void 0&&(d=!0),f===void 0&&(f=!0),!p(u,l,h))return null;var A=h.data[l][u];if(A)h.data[l][u]=d?null:new a(h,-1,u,l,h.tileWidth,h.tileHeight);else return null;return f&&A&&A.collides&&c(u,l,h),A};r.exports=o},94178:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(63557),p=i(26099),c=new p,o=function(u,l,d,f,h,A){return A.tilemapLayer.worldToTileXY(u,l,!0,c,h,A),a(c.x,c.y,d,f,A)};r.exports=o},15533:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(7386),p=i(3956),c=new p(105,210,231,150),o=new p(243,134,48,200),u=new p(40,39,37,150),l=function(d,f,h){f===void 0&&(f={});var A=f.tileColor!==void 0?f.tileColor:c,g=f.collidingTileColor!==void 0?f.collidingTileColor:o,v=f.faceColor!==void 0?f.faceColor:u,y=a(0,0,h.width,h.height,null,h);d.translateCanvas(h.tilemapLayer.x,h.tilemapLayer.y),d.scaleCanvas(h.tilemapLayer.scaleX,h.tilemapLayer.scaleY);for(var C=0;C<y.length;C++){var b=y[C],T=b.tileset?b.tileset.tileOffset:{x:0,y:0},S=b.width,F=b.height,B=b.pixelX-T.x,N=b.pixelY-T.y,L=b.collides?g:A;L!==null&&(d.fillStyle(L.color,L.alpha/255),d.fillRect(B,N,S,F)),B+=1,N+=1,S-=2,F-=2,v!==null&&(d.lineStyle(1,v.color,v.alpha/255),b.faceTop&&d.lineBetween(B,N,B+S,N),b.faceRight&&d.lineBetween(B+S,N,B+S,N+F),b.faceBottom&&d.lineBetween(B,N+F,B+S,N+F),b.faceLeft&&d.lineBetween(B,N,B,N+F))}};r.exports=l},27987:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(7386),p=function(c,o,u,l,d,f,h){for(var A=a(u,l,d,f,null,h),g=0;g<A.length;g++)A[g]&&A[g].index===c&&(A[g].index=o)};r.exports=p},32483:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p,c){var o=i.data,u=i.width,l=i.height,d=i.tilemapLayer,f=Math.max(0,a.left),h=Math.min(u,a.right),A=Math.max(0,a.top),g=Math.min(l,a.bottom),v,y,C;if(p===0)for(y=A;y<g;y++)for(v=f;o[y]&&v<h;v++)C=o[y][v],!(!C||C.index===-1||!C.visible||C.alpha===0)&&c.push(C);else if(p===1)for(y=A;y<g;y++)for(v=h;o[y]&&v>=f;v--)C=o[y][v],!(!C||C.index===-1||!C.visible||C.alpha===0)&&c.push(C);else if(p===2)for(y=g;y>=A;y--)for(v=f;o[y]&&v<h;v++)C=o[y][v],!(!C||C.index===-1||!C.visible||C.alpha===0)&&c.push(C);else if(p===3)for(y=g;y>=A;y--)for(v=h;o[y]&&v>=f;v--)C=o[y][v],!(!C||C.index===-1||!C.visible||C.alpha===0)&&c.push(C);return d.tilesDrawn=c.length,d.tilesTotal=u*l,c};r.exports=x},57068:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(20576),p=i(42573),c=i(9589),o=function(u,l,d,f,h){l===void 0&&(l=!0),d===void 0&&(d=!0),h===void 0&&(h=!0),Array.isArray(u)||(u=[u]);for(var A=0;A<u.length;A++)c(u[A],l,f);if(h)for(var g=0;g<f.height;g++)for(var v=0;v<f.width;v++){var y=f.data[g][v];y&&u.indexOf(y.index)!==-1&&a(y,l)}d&&p(0,0,f.width,f.height,f)};r.exports=o},37266:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(20576),p=i(42573),c=i(9589),o=function(u,l,d,f,h,A){if(d===void 0&&(d=!0),f===void 0&&(f=!0),A===void 0&&(A=!0),!(u>l)){for(var g=u;g<=l;g++)c(g,d,h);if(A)for(var v=0;v<h.height;v++)for(var y=0;y<h.width;y++){var C=h.data[v][y];C&&C.index>=u&&C.index<=l&&a(C,d)}f&&p(0,0,h.width,h.height,h)}};r.exports=o},75661:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(20576),p=i(42573),c=i(9589),o=function(u,l,d,f){l===void 0&&(l=!0),d===void 0&&(d=!0),Array.isArray(u)||(u=[u]);for(var h=0;h<f.height;h++)for(var A=0;A<f.width;A++){var g=f.data[h][A];g&&u.indexOf(g.index)===-1&&(a(g,l),c(g.index,l,f))}d&&p(0,0,f.width,f.height,f)};r.exports=o},64740:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(20576),p=i(42573),c=i(97022),o=function(u,l,d,f){l===void 0&&(l=!0),d===void 0&&(d=!0);for(var h=0;h<f.height;h++)for(var A=0;A<f.width;A++){var g=f.data[h][A];if(g){for(var v in u)if(c(g.properties,v)){var y=u[v];Array.isArray(y)||(y=[y]);for(var C=0;C<y.length;C++)g.properties[v]===y[C]&&a(g,l)}}}d&&p(0,0,f.width,f.height,f)};r.exports=o},63307:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(20576),p=i(42573),c=function(o,u,l){o===void 0&&(o=!0),u===void 0&&(u=!0);for(var d=0;d<l.height;d++)for(var f=0;f<l.width;f++){var h=l.data[d][f];if(h){var A=h.getCollisionGroup();A&&A.objects&&A.objects.length>0&&a(h,o)}}u&&p(0,0,l.width,l.height,l)};r.exports=c},9589:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p){var c=p.collideIndexes.indexOf(i);a&&c===-1?p.collideIndexes.push(i):!a&&c!==-1&&p.collideIndexes.splice(c,1)};r.exports=x},20576:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){a?i.setCollision(!0,!0,!0,!0,!1):i.resetCollision(!1)};r.exports=x},79583:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p,c){if(typeof i=="number")c.callbacks[i]=a!==null?{callback:a,callbackContext:p}:void 0;else for(var o=0,u=i.length;o<u;o++)c.callbacks[i[o]]=a!==null?{callback:a,callbackContext:p}:void 0};r.exports=x},93254:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(7386),p=function(c,o,u,l,d,f,h){for(var A=a(c,o,u,l,null,h),g=0;g<A.length;g++)A[g].setCollisionCallback(d,f)};r.exports=p},32903:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(7386),p=i(33680),c=function(o,u,l,d,f){var h=a(o,u,l,d,null,f),A=h.map(function(v){return v.index});p(A);for(var g=0;g<h.length;g++)h[g].index=A[g]};r.exports=c},61325:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(63448),p=i(56583),c=function(o,u){var l=o.tilemapLayer.tilemap,d=o.tilemapLayer,f=Math.floor(l.tileWidth*d.scaleX),h=Math.floor(l.tileHeight*d.scaleY),A=p(u.worldView.x-d.x,f,0,!0)-d.cullPaddingX,g=a(u.worldView.right-d.x,f,0,!0)+d.cullPaddingX,v=p(u.worldView.y-d.y,h/2,0,!0)-d.cullPaddingY,y=a(u.worldView.bottom-d.y,h/2,0,!0)+d.cullPaddingY;return{left:A,right:g,top:v,bottom:y}};r.exports=c},54503:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(61325),p=i(32483),c=function(o,u,l,d){l===void 0&&(l=[]),d===void 0&&(d=0),l.length=0;var f=o.tilemapLayer,h=a(o,u);return f.skipCull&&f.scrollFactorX===1&&f.scrollFactorY===1&&(h.left=0,h.right=o.width,h.top=0,h.bottom=o.height),p(o,h,d,l),l};r.exports=c},97202:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(26099),p=function(c,o,u,l,d){u||(u=new a);var f=d.baseTileWidth,h=d.baseTileHeight,A=d.tilemapLayer,g=0,v=0;A&&(l||(l=A.scene.cameras.main),g=A.x+l.scrollX*(1-A.scrollFactorX),f*=A.scaleX,v=A.y+l.scrollY*(1-A.scrollFactorY),h*=A.scaleY);var y=g+c*f+o%2*(f/2),C=v+o*(h/2);return u.set(y,C)};r.exports=p},28054:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p){var c=p.baseTileHeight,o=p.tilemapLayer,u=0;return o&&(a===void 0&&(a=o.scene.cameras.main),u=o.y+a.scrollY*(1-o.scrollFactorY),c*=o.scaleY),u+i*(c/2)+c};r.exports=x},15108:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(26099),p=function(c,o,u,l,d,f){l||(l=new a);var h=f.baseTileWidth,A=f.baseTileHeight,g=f.tilemapLayer;g&&(d||(d=g.scene.cameras.main),o=o-(g.y+d.scrollY*(1-g.scrollFactorY)),A*=g.scaleY,c=c-(g.x+d.scrollX*(1-g.scrollFactorX)),h*=g.scaleX);var v=u?Math.floor(o/(A/2)):o/(A/2),y=u?Math.floor((c+v%2*.5*h)/h):(c+v%2*.5*h)/h;return l.set(y,v)};r.exports=p},51900:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p,c){var o=c.baseTileHeight,u=c.tilemapLayer;return u&&(p||(p=u.scene.cameras.main),i=i-(u.y+p.scrollY*(1-u.scrollFactorY)),o*=u.scaleY),a?Math.floor(i/(o/2)):i/(o/2)};r.exports=x},86560:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(7386),p=function(c,o,u,l,d,f,h){for(var A=a(u,l,d,f,null,h),g=0;g<A.length;g++)A[g]&&(A[g].index===c?A[g].index=o:A[g].index===o&&(A[g].index=c))};r.exports=p},97281:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p){var c=p.baseTileWidth,o=p.tilemapLayer,u=0;return o&&(a||(a=o.scene.cameras.main),u=o.x+a.scrollX*(1-o.scrollFactorX),c*=o.scaleX),u+i*c};r.exports=x},70326:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(97281),p=i(29650),c=i(26099),o=function(u,l,d,f,h){return d||(d=new c(0,0)),d.x=a(u,f,h),d.y=p(l,f,h),d};r.exports=o},29650:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p){var c=p.baseTileHeight,o=p.tilemapLayer,u=0;return o&&(a||(a=o.scene.cameras.main),u=o.y+a.scrollY*(1-o.scrollFactorY),c*=o.scaleY),u+i*c};r.exports=x},77366:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(7386),p=i(75508),c=function(o,u,l,d,f,h){if(f){var A,g=a(o,u,l,d,null,h),v=0;for(A=0;A<f.length;A++)v+=f[A].weight;if(!(v<=0))for(A=0;A<g.length;A++){for(var y=p.RND.frac()*v,C=0,b=-1,T=0;T<f.length;T++)if(C+=f[T].weight,y<=C){var S=f[T].index;b=Array.isArray(S)?S[Math.floor(p.RND.frac()*S.length)]:S;break}g[A].index=b}}};r.exports=c},10095:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(85896),p=i(26099),c=new p,o=function(u,l,d,f){return a(u,0,l,c,d,f),c.x};r.exports=o},85896:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(26099),p=function(c,o,u,l,d,f){u===void 0&&(u=!0),l||(l=new a);var h=f.baseTileWidth,A=f.baseTileHeight,g=f.tilemapLayer;g&&(d||(d=g.scene.cameras.main),c=c-(g.x+d.scrollX*(1-g.scrollFactorX)),o=o-(g.y+d.scrollY*(1-g.scrollFactorY)),h*=g.scaleX,A*=g.scaleY);var v=c/h,y=o/A;return u&&(v=Math.floor(v),y=Math.floor(y)),l.set(v,y)};r.exports=p},63288:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(85896),p=i(26099),c=new p,o=function(u,l,d,f){return a(0,u,l,c,d,f),c.y};r.exports=o},81086:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={CalculateFacesAt:i(72023),CalculateFacesWithin:i(42573),CheckIsoBounds:i(33528),Copy:i(1785),CreateFromTiles:i(78419),CullBounds:i(19545),CullTiles:i(30003),Fill:i(35137),FilterTiles:i(40253),FindByIndex:i(52692),FindTile:i(66151),ForEachTile:i(97560),GetCullTilesFunction:i(43305),GetTileAt:i(7423),GetTileAtWorldXY:i(60540),GetTileCorners:i(55826),GetTileCornersFunction:i(11758),GetTilesWithin:i(7386),GetTilesWithinShape:i(91141),GetTilesWithinWorldXY:i(96523),GetTileToWorldXFunction:i(39167),GetTileToWorldXYFunction:i(62e3),GetTileToWorldYFunction:i(5984),GetWorldToTileXFunction:i(96113),GetWorldToTileXYFunction:i(16926),GetWorldToTileYFunction:i(55762),HasTileAt:i(45091),HasTileAtWorldXY:i(24152),HexagonalCullBounds:i(90454),HexagonalCullTiles:i(9474),HexagonalGetTileCorners:i(27229),HexagonalTileToWorldXY:i(19951),HexagonalWorldToTileXY:i(86625),IsInLayerBounds:i(62991),IsometricCullTiles:i(14018),IsometricTileToWorldXY:i(14127),IsometricWorldToTileXY:i(96897),PutTileAt:i(71558),PutTileAtWorldXY:i(26303),PutTilesAt:i(14051),Randomize:i(77389),RemoveTileAt:i(63557),RemoveTileAtWorldXY:i(94178),RenderDebug:i(15533),ReplaceByIndex:i(27987),RunCull:i(32483),SetCollision:i(57068),SetCollisionBetween:i(37266),SetCollisionByExclusion:i(75661),SetCollisionByProperty:i(64740),SetCollisionFromCollisionGroup:i(63307),SetLayerCollisionIndex:i(9589),SetTileCollision:i(20576),SetTileIndexCallback:i(79583),SetTileLocationCallback:i(93254),Shuffle:i(32903),StaggeredCullBounds:i(61325),StaggeredCullTiles:i(54503),StaggeredTileToWorldXY:i(97202),StaggeredTileToWorldY:i(28054),StaggeredWorldToTileXY:i(15108),StaggeredWorldToTileY:i(51900),SwapByIndex:i(86560),TileToWorldX:i(97281),TileToWorldXY:i(70326),TileToWorldY:i(29650),WeightedRandomize:i(77366),WorldToTileX:i(10095),WorldToTileXY:i(85896),WorldToTileY:i(63288)}},91907:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},21829:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={ORIENTATION:i(91907)};r.exports=a},62501:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(79291),p=i(21829),c={Components:i(81086),Parsers:i(57442),Formats:i(80341),ImageCollection:i(16536),ParseToTilemap:i(31989),Tile:i(23029),Tilemap:i(49075),TilemapCreator:i(45939),TilemapFactory:i(46029),Tileset:i(33629),TilemapLayer:i(20442),Orientation:i(91907),LayerData:i(14977),MapData:i(87010),ObjectLayer:i(48700)};c=a(!1,c,p.ORIENTATION),r.exports=c},14977:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(91907),c=i(95540),o=new a({initialize:function(l){l===void 0&&(l={}),this.name=c(l,"name","layer"),this.id=c(l,"id",0),this.x=c(l,"x",0),this.y=c(l,"y",0),this.width=c(l,"width",0),this.height=c(l,"height",0),this.tileWidth=c(l,"tileWidth",0),this.tileHeight=c(l,"tileHeight",0),this.baseTileWidth=c(l,"baseTileWidth",this.tileWidth),this.baseTileHeight=c(l,"baseTileHeight",this.tileHeight),this.orientation=c(l,"orientation",p.ORTHOGONAL),this.widthInPixels=c(l,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=c(l,"heightInPixels",this.height*this.baseTileHeight),this.alpha=c(l,"alpha",1),this.visible=c(l,"visible",!0),this.properties=c(l,"properties",[]),this.indexes=c(l,"indexes",[]),this.collideIndexes=c(l,"collideIndexes",[]),this.callbacks=c(l,"callbacks",[]),this.bodies=c(l,"bodies",[]),this.data=c(l,"data",[]),this.tilemapLayer=c(l,"tilemapLayer",null),this.hexSideLength=c(l,"hexSideLength",0),this.staggerAxis=c(l,"staggerAxis","y"),this.staggerIndex=c(l,"staggerIndex","odd")}});r.exports=o},87010:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(91907),c=i(95540),o=new a({initialize:function(l){l===void 0&&(l={}),this.name=c(l,"name","map"),this.width=c(l,"width",0),this.height=c(l,"height",0),this.infinite=c(l,"infinite",!1),this.tileWidth=c(l,"tileWidth",0),this.tileHeight=c(l,"tileHeight",0),this.widthInPixels=c(l,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=c(l,"heightInPixels",this.height*this.tileHeight),this.format=c(l,"format",null),this.orientation=c(l,"orientation",p.ORTHOGONAL),this.renderOrder=c(l,"renderOrder","right-down"),this.version=c(l,"version","1"),this.properties=c(l,"properties",{}),this.layers=c(l,"layers",[]),this.images=c(l,"images",[]),this.objects=c(l,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=c(l,"collision",{}),this.tilesets=c(l,"tilesets",[]),this.imageCollections=c(l,"imageCollections",[]),this.tiles=c(l,"tiles",[]),this.hexSideLength=c(l,"hexSideLength",0),this.staggerAxis=c(l,"staggerAxis","y"),this.staggerIndex=c(l,"staggerIndex","odd")}});r.exports=o},48700:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(95540),c=new a({initialize:function(u){u===void 0&&(u={}),this.name=p(u,"name","object layer"),this.id=p(u,"id",0),this.opacity=p(u,"opacity",1),this.properties=p(u,"properties",{}),this.propertyTypes=p(u,"propertytypes",{}),this.type=p(u,"type","objectgroup"),this.visible=p(u,"visible",!0),this.objects=p(u,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});r.exports=c},6641:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(91907),p=function(c){return c=c.toLowerCase(),c==="isometric"?a.ISOMETRIC:c==="staggered"?a.STAGGERED:c==="hexagonal"?a.HEXAGONAL:a.ORTHOGONAL};r.exports=p},46177:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(80341),p=i(2342),c=i(82593),o=i(46594),u=i(87021),l=function(d,f,h,A,g,v){var y;switch(f){case a.ARRAY_2D:y=p(d,h,A,g,v);break;case a.CSV:y=c(d,h,A,g,v);break;case a.TILED_JSON:y=o(d,h,v);break;case a.WELTMEISTER:y=u(d,h,v);break;default:console.warn("Unrecognized tilemap data format: "+f),y=null}return y};r.exports=l},2342:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(80341),p=i(14977),c=i(87010),o=i(23029),u=function(l,d,f,h,A){for(var g=new p({tileWidth:f,tileHeight:h}),v=new c({name:l,tileWidth:f,tileHeight:h,format:a.ARRAY_2D,layers:[g]}),y=[],C=d.length,b=0,T=0;T<d.length;T++){y[T]=[];for(var S=d[T],F=0;F<S.length;F++){var B=parseInt(S[F],10);isNaN(B)||B===-1?y[T][F]=A?null:new o(g,-1,F,T,f,h):y[T][F]=new o(g,B,F,T,f,h)}b===0&&(b=S.length)}return v.width=g.width=b,v.height=g.height=C,v.widthInPixels=g.widthInPixels=b*f,v.heightInPixels=g.heightInPixels=C*h,g.data=y,v};r.exports=u},82593:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(80341),p=i(2342),c=function(o,u,l,d,f){var h=u.trim().split(`
`).map(function(g){return g.split(",")}),A=p(o,h,l,d,f);return A.format=a.CSV,A};r.exports=c},6656:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(14977),p=i(23029),c=function(o,u){for(var l=[],d=0;d<o.layer.length;d++){for(var f=o.layer[d],h=new a({name:f.name,width:f.width,height:f.height,tileWidth:f.tilesize,tileHeight:f.tilesize,visible:f.visible===1}),A=[],g=[],v=0;v<f.data.length;v++){for(var y=0;y<f.data[v].length;y++){var C=f.data[v][y]-1,b;C>-1?b=new p(h,C,y,v,f.tilesize,f.tilesize):b=u?null:new p(h,-1,y,v,f.tilesize,f.tilesize),A.push(b)}g.push(A),A=[]}h.data=g,l.push(h)}return l};r.exports=c},96483:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(33629),p=function(c){for(var o=[],u=[],l=0;l<c.layer.length;l++){var d=c.layer[l],f=d.tilesetName;f!==""&&u.indexOf(f)===-1&&(u.push(f),o.push(new a(f,0,d.tilesize,d.tilesize,0,0)))}return o};r.exports=p},87021:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(80341),p=i(87010),c=i(6656),o=i(96483),u=function(l,d,f){if(d.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+l),null;for(var h=0,A=0,g=0;g<d.layer.length;g++)d.layer[g].width>h&&(h=d.layer[g].width),d.layer[g].height>A&&(A=d.layer[g].height);var v=new p({width:h,height:A,name:l,tileWidth:d.layer[0].tilesize,tileHeight:d.layer[0].tilesize,format:a.WELTMEISTER});return v.layers=c(d,f),v.tilesets=o(d),v};r.exports=u},52833:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ParseTileLayers:i(6656),ParseTilesets:i(96483),ParseWeltmeister:i(87021)}},57442:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={FromOrientationString:i(6641),Parse:i(46177),Parse2DArray:i(2342),ParseCSV:i(82593),Impact:i(52833),Tiled:i(96761)}},51233:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(79291),p=function(c){for(var o,u,l,d,f,h=0;h<c.layers.length;h++){o=c.layers[h],d=null;for(var A=0;A<o.data.length;A++){f=o.data[A];for(var g=0;g<f.length;g++)u=f[g],!(u===null||u.index<0)&&(l=c.tiles[u.index][2],d=c.tilesets[l],u.width=d.tileWidth,u.height=d.tileHeight,d.tileProperties&&d.tileProperties[u.index-d.firstgid]&&(u.properties=a(u.properties,d.tileProperties[u.index-d.firstgid])))}}};r.exports=p},41868:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){for(var a=window.atob(i),p=a.length,c=new Array(p/4),o=0;o<p;o+=4)c[o/4]=(a.charCodeAt(o)|a.charCodeAt(o+1)<<8|a.charCodeAt(o+2)<<16|a.charCodeAt(o+3)<<24)>>>0;return c};r.exports=x},84101:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(33629),p=function(c){var o,u,l=[];for(o=0;o<c.imageCollections.length;o++)for(var d=c.imageCollections[o],f=d.images,h=0;h<f.length;h++){var A=f[h],g={x:0,y:A.height-c.tileHeight};u=new a(A.image,A.gid,A.width,A.height,0,0,void 0,void 0,g),u.updateTileData(A.width,A.height),c.tilesets.push(u)}for(o=0;o<c.tilesets.length;o++){u=c.tilesets[o];for(var v=u.tileMargin,y=u.tileMargin,C=0,b=0,T=0,S=u.firstgid;S<u.firstgid+u.total&&(l[S]=[v,y,o],v+=u.tileWidth+u.tileSpacing,C++,!(C===u.total||(b++,b===u.columns&&(v=u.tileMargin,y+=u.tileHeight+u.tileSpacing,b=0,T++,T===u.rows))));S++);}return l};r.exports=p},79677:(r,x,i)=>{/**
 * @author       Seth Berrier <berriers@uwstout.edu>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(95540),p=function(c,o,u){if(!o)return{i:0,layers:c.layers,name:"",opacity:1,visible:!0,x:0,y:0};var l=o.x+a(o,"startx",0)*c.tilewidth+a(o,"offsetx",0),d=o.y+a(o,"starty",0)*c.tileheight+a(o,"offsety",0);return{i:0,layers:o.layers,name:u.name+o.name+"/",opacity:u.opacity*o.opacity,visible:u.visible&&o.visible,x:u.x+l,y:u.y+d}};r.exports=p},29920:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=2147483648,i=1073741824,a=536870912,p=function(c){var o=!!(c&x),u=!!(c&i),l=!!(c&a);c=c&536870911;var d=0,f=!1;return o&&u&&l?(d=Math.PI/2,f=!0):o&&u&&!l?(d=Math.PI,f=!1):o&&!u&&l?(d=Math.PI/2,f=!1):o&&!u&&!l?(d=0,f=!0):!o&&u&&l?(d=3*Math.PI/2,f=!1):!o&&u&&!l?(d=Math.PI,f=!0):!o&&!u&&l?(d=3*Math.PI/2,f=!0):!o&&!u&&!l&&(d=0,f=!1),{gid:c,flippedHorizontal:o,flippedVertical:u,flippedAntiDiagonal:l,rotation:d,flipped:f}};r.exports=p},12635:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(95540),p=i(79677),c=function(o){for(var u=[],l=[],d=p(o);d.i<d.layers.length||l.length>0;){if(d.i>=d.layers.length){if(l.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}d=l.pop();continue}var f=d.layers[d.i];if(d.i++,f.type!=="imagelayer"){if(f.type==="group"){var h=p(o,f,d);l.push(d),d=h}continue}var A=a(f,"offsetx",0)+a(f,"startx",0),g=a(f,"offsety",0)+a(f,"starty",0);u.push({name:d.name+f.name,image:f.image,x:d.x+A+f.x,y:d.y+g+f.y,alpha:d.opacity*f.opacity,visible:d.visible&&f.visible,properties:a(f,"properties",{})})}return u};r.exports=c},46594:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(51233),p=i(84101),c=i(91907),o=i(62644),u=i(80341),l=i(6641),d=i(87010),f=i(12635),h=i(22611),A=i(28200),g=i(24619),v=function(y,C,b){var T=o(C),S=new d({width:T.width,height:T.height,name:y,tileWidth:T.tilewidth,tileHeight:T.tileheight,orientation:l(T.orientation),format:u.TILED_JSON,version:T.version,properties:T.properties,renderOrder:T.renderorder,infinite:T.infinite});if(S.orientation===c.HEXAGONAL)if(S.hexSideLength=T.hexsidelength,S.staggerAxis=T.staggeraxis,S.staggerIndex=T.staggerindex,S.staggerAxis==="y"){var F=(S.tileHeight-S.hexSideLength)/2;S.widthInPixels=S.tileWidth*(S.width+.5),S.heightInPixels=S.height*(S.hexSideLength+F)+F}else{var B=(S.tileWidth-S.hexSideLength)/2;S.widthInPixels=S.width*(S.hexSideLength+B)+B,S.heightInPixels=S.tileHeight*(S.height+.5)}S.layers=A(T,b),S.images=f(T);var N=g(T);return S.tilesets=N.tilesets,S.imageCollections=N.imageCollections,S.objects=h(T),S.tiles=p(S),a(S),S};r.exports=v},52205:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(18254),p=i(29920),c=function(l){return{x:l.x,y:l.y}},o=["id","name","type","rotation","properties","visible","x","y","width","height"],u=function(l,d,f){d===void 0&&(d=0),f===void 0&&(f=0);var h=a(l,o);if(h.x+=d,h.y+=f,l.gid){var A=p(l.gid);h.gid=A.gid,h.flippedHorizontal=A.flippedHorizontal,h.flippedVertical=A.flippedVertical,h.flippedAntiDiagonal=A.flippedAntiDiagonal}else l.polyline?h.polyline=l.polyline.map(c):l.polygon?h.polygon=l.polygon.map(c):l.ellipse?h.ellipse=l.ellipse:l.text?h.text=l.text:l.point?h.point=!0:h.rectangle=!0;return h};r.exports=u},22611:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(95540),p=i(52205),c=i(48700),o=i(79677),u=function(l){for(var d=[],f=[],h=o(l);h.i<h.layers.length||f.length>0;){if(h.i>=h.layers.length){if(f.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}h=f.pop();continue}var A=h.layers[h.i];if(h.i++,A.opacity*=h.opacity,A.visible=h.visible&&A.visible,A.type!=="objectgroup"){if(A.type==="group"){var g=o(l,A,h);f.push(h),h=g}continue}A.name=h.name+A.name;for(var v=h.x+a(A,"startx",0)+a(A,"offsetx",0),y=h.y+a(A,"starty",0)+a(A,"offsety",0),C=[],b=0;b<A.objects.length;b++){var T=p(A.objects[b],v,y);C.push(T)}var S=new c(A);S.objects=C,d.push(S)}return d};r.exports=u},28200:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(41868),p=i(91907),c=i(79677),o=i(6641),u=i(95540),l=i(14977),d=i(29920),f=i(23029),h=function(A,g){for(var v=u(A,"infinite",!1),y=[],C=[],b=c(A);b.i<b.layers.length||C.length>0;){if(b.i>=b.layers.length){if(C.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}b=C.pop();continue}var T=b.layers[b.i];if(b.i++,T.type!=="tilelayer"){if(T.type==="group"){var S=c(A,T,b);C.push(b),b=S}continue}if(T.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+T.name+"'");continue}else if(T.encoding&&T.encoding==="base64"){if(T.chunks)for(var F=0;F<T.chunks.length;F++)T.chunks[F].data=a(T.chunks[F].data);T.data&&(T.data=a(T.data)),delete T.encoding}var B,N,L,R,I,M,P=[],U=0;if(v){var z=u(T,"startx",0)+T.x,W=u(T,"starty",0)+T.y;B=new l({name:b.name+T.name,id:T.id,x:b.x+u(T,"offsetx",0)+z*A.tilewidth,y:b.y+u(T,"offsety",0)+W*A.tileheight,width:T.width,height:T.height,tileWidth:A.tilewidth,tileHeight:A.tileheight,alpha:b.opacity*T.opacity,visible:b.visible&&T.visible,properties:u(T,"properties",[]),orientation:o(A.orientation)}),B.orientation===p.HEXAGONAL&&(B.hexSideLength=A.hexsidelength,B.staggerAxis=A.staggeraxis,B.staggerIndex=A.staggerindex,B.staggerAxis==="y"?(I=(B.tileHeight-B.hexSideLength)/2,B.widthInPixels=B.tileWidth*(B.width+.5),B.heightInPixels=B.height*(B.hexSideLength+I)+I):(M=(B.tileWidth-B.hexSideLength)/2,B.widthInPixels=B.width*(B.hexSideLength+M)+M,B.heightInPixels=B.tileHeight*(B.height+.5)));for(var Z=0;Z<T.height;Z++){P[Z]=[null];for(var j=0;j<T.width;j++)P[Z][j]=null}for(Z=0,ce=T.chunks.length;Z<ce;Z++)for(var H=T.chunks[Z],V=H.x-z,k=H.y-W,X=0,Q=0,J=H.data.length;Q<J;Q++){var $=U+V,_=X+k;N=d(H.data[Q]),N.gid>0?(L=new f(B,N.gid,$,_,A.tilewidth,A.tileheight),L.rotation=N.rotation,L.flipX=N.flipped,P[_][$]=L):(R=g?null:new f(B,-1,$,_,A.tilewidth,A.tileheight),P[_][$]=R),U++,U===H.width&&(X++,U=0)}}else{B=new l({name:b.name+T.name,id:T.id,x:b.x+u(T,"offsetx",0)+T.x,y:b.y+u(T,"offsety",0)+T.y,width:T.width,height:T.height,tileWidth:A.tilewidth,tileHeight:A.tileheight,alpha:b.opacity*T.opacity,visible:b.visible&&T.visible,properties:u(T,"properties",[]),orientation:o(A.orientation)}),B.orientation===p.HEXAGONAL&&(B.hexSideLength=A.hexsidelength,B.staggerAxis=A.staggeraxis,B.staggerIndex=A.staggerindex,B.staggerAxis==="y"?(I=(B.tileHeight-B.hexSideLength)/2,B.widthInPixels=B.tileWidth*(B.width+.5),B.heightInPixels=B.height*(B.hexSideLength+I)+I):(M=(B.tileWidth-B.hexSideLength)/2,B.widthInPixels=B.width*(B.hexSideLength+M)+M,B.heightInPixels=B.tileHeight*(B.height+.5)));for(var te=[],se=0,ce=T.data.length;se<ce;se++)N=d(T.data[se]),N.gid>0?(L=new f(B,N.gid,U,P.length,A.tilewidth,A.tileheight),L.rotation=N.rotation,L.flipX=N.flipped,te.push(L)):(R=g?null:new f(B,-1,U,P.length,A.tilewidth,A.tileheight),te.push(R)),U++,U===T.width&&(P.push(te),U=0,te=[])}B.data=P,y.push(B)}return y};r.exports=h},24619:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(33629),p=i(16536),c=i(52205),o=i(57880),u=function(l){for(var d=[],f=[],h=null,A,g=0;g<l.tilesets.length;g++){var v=l.tilesets[g];if(v.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(v.image){var y=new a(v.name,v.firstgid,v.tilewidth,v.tileheight,v.margin,v.spacing,void 0,void 0,v.tileoffset);if(l.version>1){var C=void 0,b=void 0;if(Array.isArray(v.tiles)){C=C||{},b=b||{};for(var T=0;T<v.tiles.length;T++){var S=v.tiles[T];if(S.properties){var F={};S.properties.forEach(function(Z){F[Z.name]=Z.value}),b[S.id]=F}if(S.objectgroup&&((C[S.id]||(C[S.id]={})).objectgroup=S.objectgroup,S.objectgroup.objects)){var B=S.objectgroup.objects.map(function(Z){return c(Z)});C[S.id].objectgroup.objects=B}S.animation&&((C[S.id]||(C[S.id]={})).animation=S.animation),S.type&&((C[S.id]||(C[S.id]={})).type=S.type)}}Array.isArray(v.wangsets)&&(C=C||{},b=b||{},o(v.wangsets,C)),C&&(y.tileData=C,y.tileProperties=b)}else if(v.tileproperties&&(y.tileProperties=v.tileproperties),v.tiles){y.tileData=v.tiles;for(A in y.tileData){var N=y.tileData[A].objectgroup;if(N&&N.objects){var L=N.objects.map(function(Z){return c(Z)});y.tileData[A].objectgroup.objects=L}}}y.updateTileData(v.imagewidth,v.imageheight),d.push(y)}else{var R=new p(v.name,v.firstgid,v.tilewidth,v.tileheight,v.margin,v.spacing,v.properties),I=0;for(T=0;T<v.tiles.length;T++){S=v.tiles[T];var M=S.image,P=parseInt(S.id,10),U=v.firstgid+P,z=S.imagewidth,W=S.imageheight;R.addImage(U,M,z,W),I=Math.max(P,I)}R.maxId=I,f.push(R)}h&&(h.lastgid=v.firstgid-1),h=v}return{tilesets:d,imageCollections:f}};r.exports=u},57880:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){for(var p=0;p<i.length;p++){var c=i[p],o=p;if(c.name&&c.name!==""&&(o=c.name),Array.isArray(c.wangtiles)&&c.wangtiles.length>0){var u={},l={},d,f,h;if(Array.isArray(c.edgecolors))for(d=0;d<c.edgecolors.length;d++)h=1+d,f=c.edgecolors[d],f.name!==""&&(u[h]=f.name);if(Array.isArray(c.cornercolors))for(d=0;d<c.cornercolors.length;d++)h=1+d,f=c.cornercolors[d],f.name!==""&&(l[h]=f.name);if(Array.isArray(c.colors))for(d=0;d<c.colors.length;d++)f=c.colors[d],h=1+d,f.name!==""&&(u[h]=l[h]=f.name);for(var A=[u,l,u,l,u,l,u,l],g=0;g<c.wangtiles.length;g++){var v=c.wangtiles[g],y=a[v.tileid]||(a[v.tileid]={});y=y.wangid||(y.wangid={});for(var C=[],b=0;b<Math.min(A.length,v.wangid.length);b++){if(f=v.wangid[b],f===0){C.push(void 0);continue}var T=A[b][f];if(T!==void 0){C.push(T);continue}C.push(f)}y[o]=C}}}};r.exports=x},96761:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={AssignTileProperties:i(51233),Base64Decode:i(41868),BuildTilesetIndex:i(84101),CreateGroupLayer:i(79677),ParseGID:i(29920),ParseImageLayers:i(12635),ParseJSONTiled:i(46594),ParseObject:i(52205),ParseObjectLayers:i(22611),ParseTileLayers:i(28200),ParseTilesets:i(24619)}},33385:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(37277),c=i(44594),o=i(94880),u=i(72905),l=new a({initialize:function(f){this.scene=f,this.systems=f.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],f.sys.events.once(c.BOOT,this.boot,this),f.sys.events.on(c.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(c.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var d=this.systems.events;d.on(c.PRE_UPDATE,this.preUpdate,this),d.on(c.UPDATE,this.update,this),d.once(c.SHUTDOWN,this.shutdown,this)},addEvent:function(d){var f;if(d instanceof o){if(f=d,this.removeEvent(f),f.elapsed=f.startAt,f.hasDispatched=!1,f.repeatCount=f.repeat===-1||f.loop?999999999999:f.repeat,f.delay<=0&&f.repeatCount>0)throw new Error("TimerEvent infinite loop created via zero delay")}else f=new o(d);return this._pendingInsertion.push(f),f},delayedCall:function(d,f,h,A){return this.addEvent({delay:d,callback:f,args:h,callbackScope:A})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(d){Array.isArray(d)||(d=[d]);for(var f=0;f<d.length;f++){var h=d[f];u(this._pendingRemoval,h),u(this._pendingInsertion,h),u(this._active,h)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var d=this._pendingRemoval.length,f=this._pendingInsertion.length;if(!(d===0&&f===0)){var h,A;for(h=0;h<d;h++){A=this._pendingRemoval[h];var g=this._active.indexOf(A);g>-1&&this._active.splice(g,1),A.destroy()}for(h=0;h<f;h++)A=this._pendingInsertion[h],this._active.push(A);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(d,f){if(this.now=d,!this.paused){f*=this.timeScale;for(var h=0;h<this._active.length;h++){var A=this._active[h];if(!A.paused&&(A.elapsed+=f*A.timeScale,A.elapsed>=A.delay)){var g=A.elapsed-A.delay;if(A.elapsed=A.delay,!A.hasDispatched&&A.callback&&(A.hasDispatched=!0,A.callback.apply(A.callbackScope,A.args)),A.repeatCount>0){if(A.repeatCount--,g>=A.delay)for(;g>=A.delay&&A.repeatCount>0;)A.callback&&A.callback.apply(A.callbackScope,A.args),g-=A.delay,A.repeatCount--;A.elapsed=g,A.hasDispatched=!1}else A.hasDispatched&&this._pendingRemoval.push(A)}}}},shutdown:function(){var d;for(d=0;d<this._pendingInsertion.length;d++)this._pendingInsertion[d].destroy();for(d=0;d<this._active.length;d++)this._active[d].destroy();for(d=0;d<this._pendingRemoval.length;d++)this._pendingRemoval[d].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var f=this.systems.events;f.off(c.PRE_UPDATE,this.preUpdate,this),f.off(c.UPDATE,this.update,this),f.off(c.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(c.START,this.start,this),this.scene=null,this.systems=null}});p.register("Clock",l,"time"),r.exports=l},96120:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(50792),c=i(39429),o=i(95540),u=i(44594),l=i(89809),d=new a({Extends:p,initialize:function(h,A){p.call(this),this.scene=h,this.systems=h.sys,this.elapsed=0,this.timeScale=1,this.paused=!0,this.complete=!1,this.totalComplete=0,this.loop=0,this.iteration=0,this.events=[];var g=this.systems.events;g.on(u.PRE_UPDATE,this.preUpdate,this),g.on(u.UPDATE,this.update,this),g.once(u.SHUTDOWN,this.destroy,this),A&&this.add(A)},preUpdate:function(f,h){this.paused||(this.elapsed+=h*this.timeScale)},update:function(){if(!(this.paused||this.complete)){var f,h=this.events,A=!1,g=this.systems,v;for(f=0;f<h.length;f++){var y=h[f];if(!y.complete&&y.time<=this.elapsed){if(y.complete=!0,this.totalComplete++,v=y.target?y.target:this,y.if&&!y.if.call(v,y))continue;if(y.once&&(A=!0),y.set&&y.target)for(var C in y.set)y.target[C]=y.set[C];this.iteration&&y.repeat++,y.loop&&y.repeat&&y.loop.call(v),y.tween&&(y.tweenInstance=g.tweens.add(y.tween)),y.sound&&(typeof y.sound=="string"?g.sound.play(y.sound):g.sound.play(y.sound.key,y.sound.config)),y.event&&this.emit(y.event,v),y.run&&y.run.call(v),y.stop&&this.stop()}}if(A)for(f=0;f<h.length;f++)h[f].complete&&h[f].once&&(h.splice(f,1),f--);this.totalComplete>=h.length&&(this.loop!==0&&(this.loop===-1||this.loop>this.iteration)?(this.iteration++,this.reset(!0)):this.complete=!0),this.complete&&this.emit(l.COMPLETE,this)}},play:function(f){return f===void 0&&(f=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,f&&this.reset(),this},pause:function(){this.paused=!0;for(var f=this.events,h=0;h<f.length;h++){var A=f[h];A.tweenInstance&&(A.tweenInstance.paused=!0)}return this},repeat:function(f){return(f===void 0||f===!0)&&(f=-1),f===!1&&(f=0),this.loop=f,this},resume:function(){this.paused=!1;for(var f=this.events,h=0;h<f.length;h++){var A=f[h];A.tweenInstance&&(A.tweenInstance.paused=!1)}return this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(f){f===void 0&&(f=!1),this.elapsed=0,f||(this.iteration=0);for(var h=this.events,A=0;A<h.length;A++){var g=h[A];g.complete=!1,f||(g.repeat=0),g.tweenInstance&&g.tweenInstance.stop()}return this.play(!1)},add:function(f){Array.isArray(f)||(f=[f]);var h=this.events,A=0;h.length>0&&(A=h[h.length-1].time);for(var g=0;g<f.length;g++){var v=f[g],y=o(v,"at",0),C=o(v,"in",null);C!==null&&(y=this.elapsed+C);var b=o(v,"from",null);b!==null&&(y=A+b),h.push({complete:!1,time:y,repeat:0,if:o(v,"if",null),run:o(v,"run",null),loop:o(v,"loop",null),event:o(v,"event",null),target:o(v,"target",null),set:o(v,"set",null),tween:o(v,"tween",null),sound:o(v,"sound",null),once:o(v,"once",!1),stop:o(v,"stop",!1)}),A=y}return this.complete=!1,this},clear:function(){for(var f=this.events,h=0;h<f.length;h++){var A=f[h];A.tweenInstance&&A.tweenInstance.stop()}return f=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){var f=Math.min(this.totalComplete,this.events.length);return f/this.events.length},destroy:function(){var f=this.systems.events;f.off(u.PRE_UPDATE,this.preUpdate,this),f.off(u.UPDATE,this.update,this),f.off(u.SHUTDOWN,this.destroy,this),this.clear(),this.scene=null,this.systems=null}});c.register("timeline",function(f){return new d(this.scene,f)}),r.exports=d},94880:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(95540),c=new a({initialize:function(u){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(u)},reset:function(o){if(this.delay=p(o,"delay",0),this.repeat=p(o,"repeat",0),this.loop=p(o,"loop",!1),this.callback=p(o,"callback",void 0),this.callbackScope=p(o,"callbackScope",this),this.args=p(o,"args",[]),this.timeScale=p(o,"timeScale",1),this.startAt=p(o,"startAt",0),this.paused=p(o,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this.delay<=0&&this.repeatCount>0)throw new Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var o=this.delay+this.delay*this.repeat,u=this.elapsed+this.delay*(this.repeat-this.repeatCount);return u/o}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(o){o===void 0&&(o=!1),this.elapsed=this.delay,this.hasDispatched=!o,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});r.exports=c},35945:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="complete"},89809:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={COMPLETE:i(35945)}},90291:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Clock:i(33385),Events:i(89809),Timeline:i(96120),TimerEvent:i(94880)}},40382:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(72905),p=i(83419),c=i(43491),o=i(88032),u=i(37277),l=i(44594),d=i(93109),f=i(86081),h=i(8357),A=i(43960),g=i(26012),v=new p({initialize:function(C){this.scene=C,this.events=C.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(l.BOOT,this.boot,this),this.events.on(l.START,this.start,this)},boot:function(){this.events.once(l.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(l.UPDATE,this.update,this),this.events.once(l.SHUTDOWN,this.shutdown,this)},create:function(y){Array.isArray(y)||(y=[y]);for(var C=[],b=0;b<y.length;b++){var T=y[b];T instanceof f||T instanceof A?C.push(T):Array.isArray(T.tweens)?C.push(g(this,T)):C.push(h(this,T))}return C.length===1?C[0]:C},add:function(y){var C=y,b=this.tweens;return C instanceof f||C instanceof A||(Array.isArray(C.tweens)?C=g(this,C):C=h(this,C)),b.push(C.reset()),C},addMultiple:function(y){for(var C,b=[],T=this.tweens,S=0;S<y.length;S++)C=y[S],C instanceof f||C instanceof A||(Array.isArray(C.tweens)?C=g(this,C):C=h(this,C)),T.push(C.reset()),b.push(C);return b},chain:function(y){var C=g(this,y);return this.tweens.push(C.init()),C},getChainedTweens:function(y){return y.getChainedTweens()},has:function(y){return this.tweens.indexOf(y)>-1},existing:function(y){return this.has(y)||this.tweens.push(y.reset()),this},addCounter:function(y){var C=o(this,y);return this.tweens.push(C.reset()),C},stagger:function(y,C){return d(y,C)},setLagSmooth:function(y,C){return y===void 0&&(y=1/1e-8),C===void 0&&(C=0),this.maxLag=y,this.lagSkip=Math.min(C,this.maxLag),this},setFps:function(y){return y===void 0&&(y=240),this.gap=1e3/y,this.nextTime=this.time*1e3+this.gap,this},getDelta:function(y){var C=Date.now()-this.prevTime;C>this.maxLag&&(this.startTime+=C-this.lagSkip),this.prevTime+=C;var b=this.prevTime-this.startTime,T=b-this.nextTime,S=b-this.time*1e3;return T>0||y?(b/=1e3,this.time=b,this.nextTime+=T+(T>=this.gap?4:this.gap-T)):S=0,S},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(y){y===void 0&&(y=!1);var C=this.getDelta(y);if(!(C<=0)){this.processing=!0;var b,T,S=[],F=this.tweens;for(b=0;b<F.length;b++)T=F[b],T.update(C)&&S.push(T);var B=S.length;if(B&&F.length>0){for(b=0;b<B;b++){T=S[b];var N=F.indexOf(T);N>-1&&(T.isPendingRemove()||T.isDestroyed())&&(F.splice(N,1),T.destroy())}S.length=0}this.processing=!1}},remove:function(y){return this.processing?y.setPendingRemoveState():(a(this.tweens,y),y.setRemovedState()),this},reset:function(y){return this.existing(y),y.seek(),y.setActiveState(),this},makeActive:function(y){return this.existing(y),y.setActiveState(),this},each:function(y,C){var b,T=[null];for(b=1;b<arguments.length;b++)T.push(arguments[b]);return this.tweens.forEach(function(S){T[0]=S,y.apply(C,T)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(y){var C=[],b=this.tweens;Array.isArray(y)?y=c(y):y=[y];for(var T=y.length,S=0;S<b.length;S++)for(var F=b[S],B=0;B<T;B++)!F.isDestroyed()&&F.hasTarget(y[B])&&C.push(F);return C},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(y){return this.timeScale=y,this},isTweening:function(y){for(var C=this.tweens,b,T=0;T<C.length;T++)if(b=C[T],b.isPlaying()&&b.hasTarget(y))return!0;return!1},killAll:function(){for(var y=this.processing?this.getTweens():this.tweens,C=0;C<y.length;C++)y[C].destroy();return this.processing||(y.length=0),this},killTweensOf:function(y){for(var C=this.getTweensOf(y),b=0;b<C.length;b++)C[b].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(l.UPDATE,this.update,this),this.events.off(l.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(l.START,this.start,this),this.scene=null,this.events=null}});u.register("TweenManager",v,"tweens"),r.exports=v},57355:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p){return i&&i.hasOwnProperty(a)?i[a]:p};r.exports=x},6113:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(62640),p=i(35355),c=function(o,u){var l=a.Power0;if(typeof o=="string")if(a.hasOwnProperty(o))l=a[o];else{var d="";if(o.indexOf(".")){d=o.substring(o.indexOf(".")+1);var f=d.toLowerCase();f==="in"?d="easeIn":f==="out"?d="easeOut":f==="inout"&&(d="easeInOut")}o=p(o.substring(0,o.indexOf(".")+1)+d),a.hasOwnProperty(o)&&(l=a[o])}else typeof o=="function"&&(l=o);if(!u)return l;var h=u.slice(0);return h.unshift(0),function(A){return h[0]=A,l.apply(this,h)}};r.exports=c},91389:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(89318),p=i(77259),c=i(28392),o={bezier:a,catmull:p,catmullrom:p,linear:c},u=function(l){if(l===null)return null;var d=o.linear;return typeof l=="string"?o.hasOwnProperty(l)&&(d=o[l]):typeof l=="function"&&(d=l),d};r.exports=u},55292:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p){var c;if(i.hasOwnProperty(a)){var o=typeof i[a];o==="function"?c=function(u,l,d,f,h,A){return i[a](u,l,d,f,h,A)}:c=function(){return i[a]}}else typeof p=="function"?c=p:c=function(){return p};return c};r.exports=x},82985:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(81076),p=function(c){var o,u=[];if(c.hasOwnProperty("props"))for(o in c.props)o.substring(0,1)!=="_"&&u.push({key:o,value:c.props[o]});else for(o in c)a.indexOf(o)===-1&&o.substring(0,1)!=="_"&&u.push({key:o,value:c[o]});return u};r.exports=p},62329:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(35154),p=function(c){var o=a(c,"targets",null);return o===null||(typeof o=="function"&&(o=o.call()),Array.isArray(o)||(o=[o])),o};r.exports=p},17777:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(30976),p=i(99472);function c(f){return!!f.getActive&&typeof f.getActive=="function"}function o(f){return!!f.getStart&&typeof f.getStart=="function"}function u(f){return!!f.getEnd&&typeof f.getEnd=="function"}function l(f){return o(f)||u(f)||c(f)}var d=function(f,h){var A,g=function(Z,j,H){return H},v=function(Z,j,H){return H},y=null,C=typeof h;if(C==="number")g=function(){return h};else if(Array.isArray(h))v=function(){return h[0]},g=function(){return h[h.length-1]};else if(C==="string"){var b=h.toLowerCase(),T=b.substring(0,6)==="random",S=b.substring(0,3)==="int";if(T||S){var F=b.indexOf("("),B=b.indexOf(")"),N=b.indexOf(",");if(F&&B&&N){var L=parseFloat(b.substring(F+1,N)),R=parseFloat(b.substring(N+1,B));T?g=function(){return p(L,R)}:g=function(){return a(L,R)}}else throw new Error("invalid random() format")}else{b=b[0];var I=parseFloat(h.substr(2));switch(b){case"+":g=function(Z,j,H){return H+I};break;case"-":g=function(Z,j,H){return H-I};break;case"*":g=function(Z,j,H){return H*I};break;case"/":g=function(Z,j,H){return H/I};break;default:g=function(){return parseFloat(h)}}}}else if(C==="function")g=h;else if(C==="object")if(l(h))c(h)&&(y=h.getActive),u(h)&&(g=h.getEnd),o(h)&&(v=h.getStart);else if(h.hasOwnProperty("value"))A=d(f,h.value);else{var M=h.hasOwnProperty("to"),P=h.hasOwnProperty("from"),U=h.hasOwnProperty("start");if(M&&(P||U)){if(A=d(f,h.to),U){var z=d(f,h.start);A.getActive=z.getEnd}if(P){var W=d(f,h.from);A.getStart=W.getEnd}}}return A||(A={getActive:y,getEnd:g,getStart:v}),A};r.exports=d},88032:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(70402),p=i(69902),c=i(23568),o=i(57355),u=i(6113),l=i(95540),d=i(55292),f=i(35154),h=i(17777),A=i(269),g=i(86081),v=function(y,C,b){if(C instanceof g)return C.parent=y,C;b===void 0?b=p:b=A(p,b);var T=l(C,"from",0),S=l(C,"to",1),F=[{value:T}],B=l(C,"delay",b.delay),N=l(C,"easeParams",b.easeParams),L=l(C,"ease",b.ease),R=h("value",S),I=new g(y,F),M=I.add(0,"value",R.getEnd,R.getStart,R.getActive,u(l(C,"ease",L),l(C,"easeParams",N)),d(C,"delay",B),l(C,"duration",b.duration),o(C,"yoyo",b.yoyo),l(C,"hold",b.hold),l(C,"repeat",b.repeat),l(C,"repeatDelay",b.repeatDelay),!1,!1);M.start=T,M.current=T,I.completeDelay=c(C,"completeDelay",0),I.loop=Math.round(c(C,"loop",0)),I.loopDelay=Math.round(c(C,"loopDelay",0)),I.paused=o(C,"paused",!1),I.persist=o(C,"persist",!1),I.isNumberTween=!0,I.callbackScope=f(C,"callbackScope",I);for(var P=a.TYPES,U=0;U<P.length;U++){var z=P[U],W=f(C,z,!1);if(W){var Z=f(C,z+"Params",[]);I.setCallback(z,W,Z)}}return I};r.exports=v},93109:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(6113),p=i(35154),c=i(36383),o=function(u,l){l===void 0&&(l={});var d,f=p(l,"start",0),h=p(l,"ease",null),A=p(l,"grid",null),g=p(l,"from",0),v=g==="first",y=g==="center",C=g==="last",b=typeof g=="number",T=Array.isArray(u),S=parseFloat(T?u[0]:u),F=T?parseFloat(u[1]):0,B=Math.max(S,F);if(T&&(f+=S),A){var N=A[0],L=A[1],R=0,I=0,M=0,P=0,U=[];C?(R=N-1,I=L-1):b?(R=g%N,I=Math.floor(g/N)):y&&(R=(N-1)/2,I=(L-1)/2);for(var z=c.MIN_SAFE_INTEGER,W=0;W<L;W++){U[W]=[];for(var Z=0;Z<N;Z++){M=R-Z,P=I-W;var j=Math.sqrt(M*M+P*P);j>z&&(z=j),U[W][Z]=j}}}var H=h?a(h):null;return A?d=function(V,k,X,Q){var J=0,$=Q%N,_=Math.floor(Q/N);$>=0&&$<N&&_>=0&&_<L&&(J=U[_][$]);var te;if(T){var se=F-S;H?te=J/z*se*H(J/z):te=J/z*se}else H?te=J*S*H(J/z):te=J*S;return te+f}:d=function(V,k,X,Q,J){J--;var $;v?$=Q:y?$=Math.abs(J/2-Q):C?$=J-Q:b&&($=Math.abs(g-Q));var _;if(T){var te;y?te=(F-S)/J*($*2):te=(F-S)/J*$,H?_=te*H($/J):_=te}else H?_=J*B*H($/J):_=$*S;return _+f},d};r.exports=o},8357:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(70402),p=i(69902),c=i(23568),o=i(57355),u=i(6113),l=i(95540),d=i(91389),f=i(55292),h=i(82985),A=i(62329),g=i(35154),v=i(17777),y=i(269),C=i(86081),b=function(T,S,F){if(S instanceof C)return S.parent=T,S;F===void 0?F=p:F=y(p,F);var B=A(S);!B&&F.targets&&(B=F.targets);for(var N=h(S),L=l(S,"delay",F.delay),R=l(S,"duration",F.duration),I=l(S,"easeParams",F.easeParams),M=l(S,"ease",F.ease),P=l(S,"hold",F.hold),U=l(S,"repeat",F.repeat),z=l(S,"repeatDelay",F.repeatDelay),W=o(S,"yoyo",F.yoyo),Z=o(S,"flipX",F.flipX),j=o(S,"flipY",F.flipY),H=l(S,"interpolation",F.interpolation),V=function(ue,re,Ce,ye){if(Ce==="texture"){var Ee=ye,Me=void 0;Array.isArray(ye)?(Ee=ye[0],Me=ye[1]):ye.hasOwnProperty("value")?(Ee=ye.value,Array.isArray(ye.value)?(Ee=ye.value[0],Me=ye.value[1]):typeof ye.value=="string"&&(Ee=ye.value)):typeof ye=="string"&&(Ee=ye),ue.addFrame(re,Ee,Me,f(ye,"delay",L),l(ye,"duration",R),l(ye,"hold",P),l(ye,"repeat",U),l(ye,"repeatDelay",z),o(ye,"flipX",Z),o(ye,"flipY",j))}else{var Be=v(Ce,ye),ve=d(l(ye,"interpolation",H));ue.add(re,Ce,Be.getEnd,Be.getStart,Be.getActive,u(l(ye,"ease",M),l(ye,"easeParams",I)),f(ye,"delay",L),l(ye,"duration",R),o(ye,"yoyo",W),l(ye,"hold",P),l(ye,"repeat",U),l(ye,"repeatDelay",z),o(ye,"flipX",Z),o(ye,"flipY",j),ve,ve?ye:null)}},k=new C(T,B),X=0;X<N.length;X++)for(var Q=N[X].key,J=N[X].value,$=0;$<B.length;$++)Q==="scale"&&!B[$].hasOwnProperty("scale")?(V(k,$,"scaleX",J),V(k,$,"scaleY",J)):V(k,$,Q,J);k.completeDelay=c(S,"completeDelay",0),k.loop=Math.round(c(S,"loop",0)),k.loopDelay=Math.round(c(S,"loopDelay",0)),k.paused=o(S,"paused",!1),k.persist=o(S,"persist",!1),k.callbackScope=l(S,"callbackScope",k);for(var _=a.TYPES,te=0;te<_.length;te++){var se=_[te],ce=g(S,se,!1);if(ce){var ge=g(S,se+"Params",[]);k.setCallback(se,ce,ge)}}return k};r.exports=b},26012:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(70402),p=i(23568),c=i(57355),o=i(62329),u=i(35154),l=i(8357),d=i(43960),f=function(h,A){if(A instanceof d)return A.parent=h,A;var g=new d(h);g.startDelay=u(A,"delay",0),g.completeDelay=p(A,"completeDelay",0),g.loop=Math.round(p(A,"loop",u(A,"repeat",0))),g.loopDelay=Math.round(p(A,"loopDelay",u(A,"repeatDelay",0))),g.paused=c(A,"paused",!1),g.persist=c(A,"persist",!1),g.callbackScope=u(A,"callbackScope",g);var v,y=a.TYPES;for(v=0;v<y.length;v++){var C=y[v],b=u(A,C,!1);if(b){var T=u(A,C+"Params",[]);g.setCallback(C,b,T)}}var S=u(A,"tweens",null);if(Array.isArray(S)){var F=[],B=o(A),N=void 0;for(B&&(N={targets:B}),v=0;v<S.length;v++)F.push(l(g,S[v],N));g.add(F)}return g};r.exports=f},30231:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={GetBoolean:i(57355),GetEaseFunction:i(6113),GetInterpolationFunction:i(91389),GetNewValue:i(55292),GetProps:i(82985),GetTargets:i(62329),GetValueOp:i(17777),NumberTweenBuilder:i(88032),StaggerBuilder:i(93109),TweenBuilder:i(8357)}},73685:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="active"},98540:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="complete"},67233:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="loop"},2859:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pause"},98336:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="repeat"},25764:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="resume"},32193:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="start"},84371:r=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="stop"},70766:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="update"},55659:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="yoyo"},842:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={TWEEN_ACTIVE:i(73685),TWEEN_COMPLETE:i(98540),TWEEN_LOOP:i(67233),TWEEN_PAUSE:i(2859),TWEEN_RESUME:i(25764),TWEEN_REPEAT:i(98336),TWEEN_START:i(32193),TWEEN_STOP:i(84371),TWEEN_UPDATE:i(70766),TWEEN_YOYO:i(55659)}},43066:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={States:i(86353),Builders:i(30231),Events:i(842),TweenManager:i(40382),Tween:i(86081),TweenData:i(48177),TweenFrameData:i(42220),BaseTween:i(70402),TweenChain:i(43960)};r.exports=a},70402:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(50792),c=i(842),o=i(86353),u=new a({Extends:p,initialize:function(d){p.call(this),this.parent=d,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=o.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope,this.persist=!1},setTimeScale:function(l){return this.timeScale=l,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(c.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(c.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(c.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(c.TWEEN_COMPLETE,"onComplete")},complete:function(l){return l===void 0&&(l=0),l?(this.setCompleteDelayState(),this.countdown=l):this.onCompleteHandler(),this},completeAfterLoop:function(l){return l===void 0&&(l=0),this.loopCounter>l&&(this.loopCounter=l),this},remove:function(){return this.parent&&this.parent.remove(this),this},stop:function(){return this.parent&&!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(c.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(l){this.countdown-=l,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(c.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(l){return this.countdown-=l,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(c.TWEEN_START,"onStart"),l=0),l},updateCompleteDelay:function(l){this.countdown-=l,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(l,d,f){return f===void 0&&(f=[]),this.callbacks.hasOwnProperty(l)&&(this.callbacks[l]={func:d,params:f}),this},setPendingState:function(){this.state=o.PENDING},setActiveState:function(){this.state=o.ACTIVE,this.hasStarted=!1},setLoopDelayState:function(){this.state=o.LOOP_DELAY},setCompleteDelayState:function(){this.state=o.COMPLETE_DELAY},setStartDelayState:function(){this.state=o.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=o.PENDING_REMOVE},setRemovedState:function(){this.state=o.REMOVED},setFinishedState:function(){this.state=o.FINISHED},setDestroyedState:function(){this.state=o.DESTROYED},isPending:function(){return this.state===o.PENDING},isActive:function(){return this.state===o.ACTIVE},isLoopDelayed:function(){return this.state===o.LOOP_DELAY},isCompleteDelayed:function(){return this.state===o.COMPLETE_DELAY},isStartDelayed:function(){return this.state===o.START_DELAY},isPendingRemove:function(){return this.state===o.PENDING_REMOVE},isRemoved:function(){return this.state===o.REMOVED},isFinished:function(){return this.state===o.FINISHED},isDestroyed:function(){return this.state===o.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(l){l.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});u.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],r.exports=u},95042:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),p=i(842),c=i(86353),o=new a({initialize:function(l,d,f,h,A,g,v,y,C,b){this.tween=l,this.targetIndex=d,this.duration=h<=0?.01:h,this.totalDuration=0,this.delay=0,this.getDelay=f,this.yoyo=A,this.hold=g,this.repeat=v,this.repeatDelay=y,this.repeatCounter=0,this.flipX=C,this.flipY=b,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(u){u===void 0&&(u=this.current),this.tween.targets[this.targetIndex][this.key]=u},setCreatedState:function(){this.state=c.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=c.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=c.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=c.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=c.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=c.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=c.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=c.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===c.CREATED},isDelayed:function(){return this.state===c.DELAY},isPendingRender:function(){return this.state===c.PENDING_RENDER},isPlayingForward:function(){return this.state===c.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===c.PLAYING_BACKWARD},isHolding:function(){return this.state===c.HOLD_DELAY},isRepeating:function(){return this.state===c.REPEAT_DELAY},isComplete:function(){return this.state===c.COMPLETE},setStateFromEnd:function(u){this.yoyo?this.onRepeat(u,!0,!0):this.repeatCounter>0?this.onRepeat(u,!0,!1):this.setCompleteState()},setStateFromStart:function(u){this.repeatCounter>0?this.onRepeat(u,!1):this.setCompleteState()},reset:function(){var u=this.tween,l=u.totalTargets,d=this.targetIndex,f=u.targets[d],h=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(f,h,0,d,l,u),this.repeatCounter=this.repeat===-1?c.MAX:this.repeat,this.setPendingRenderState();var A=this.duration+this.hold;this.yoyo&&(A+=this.duration);var g=A+this.repeatDelay;this.totalDuration=this.delay+A,this.repeat===-1?(this.totalDuration+=g*c.MAX,u.isInfinite=!0):this.repeat>0&&(this.totalDuration+=g*this.repeat),this.totalDuration>u.duration&&(u.duration=this.totalDuration),this.delay<u.startDelay&&(u.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(u,l,d){var f=this.tween,h=f.totalTargets,A=this.targetIndex,g=f.targets[A],v=this.key,y=v!=="texture";if(this.elapsed=u,this.progress=u/this.duration,this.flipX&&g.toggleFlipX(),this.flipY&&g.toggleFlipY(),y&&(l||d)&&(this.start=this.getStartValue(g,v,this.start,A,h,f)),d){this.setPlayingBackwardState(),this.dispatchEvent(p.TWEEN_YOYO,"onYoyo");return}this.repeatCounter--,y&&(this.end=this.getEndValue(g,v,this.start,A,h,f)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-u,y&&(this.current=this.start,g[v]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(p.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});r.exports=o},69902:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null};r.exports=x},81076:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]},86081:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(70402),p=i(83419),c=i(842),o=i(44603),u=i(39429),l=i(36383),d=i(86353),f=i(48177),h=i(42220),A=new p({Extends:a,initialize:function(v,y){a.call(this,v),this.targets=y,this.totalTargets=y.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.isNumberTween=!1},add:function(g,v,y,C,b,T,S,F,B,N,L,R,I,M,P,U){var z=new f(this,g,v,y,C,b,T,S,F,B,N,L,R,I,M,P,U);return this.totalData=this.data.push(z),z},addFrame:function(g,v,y,C,b,T,S,F,B,N){var L=new h(this,g,v,y,C,b,T,S,F,B,N);return this.totalData=this.data.push(L),L},getValue:function(g){g===void 0&&(g=0);var v=null;return this.data&&(v=this.data[g].current),v},hasTarget:function(g){return this.targets&&this.targets.indexOf(g)!==-1},updateTo:function(g,v,y){if(y===void 0&&(y=!1),g!=="texture")for(var C=0;C<this.totalData;C++){var b=this.data[C];b.key===g&&(b.isPlayingForward()||b.isPlayingBackward())&&(b.end=v,y&&(b.start=b.current))}return this},restart:function(){switch(this.state){case d.REMOVED:case d.FINISHED:this.seek(),this.parent.makeActive(this);break;case d.PENDING:case d.PENDING_REMOVE:this.parent.reset(this);break;case d.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek();break}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(c.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,a.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},seek:function(g,v,y){if(g===void 0&&(g=0),v===void 0&&(v=16.6),y===void 0&&(y=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;y||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(c.TWEEN_ACTIVE,"onActive");var C=this.paused;if(this.paused=!1,g>0){for(var b=Math.floor(g/v),T=g-b*v,S=0;S<b;S++)this.update(v);T>0&&this.update(T)}return this.paused=C,this.isSeeking=!1,this},initTweenData:function(g){g===void 0&&(g=!1),this.duration=0,this.startDelay=l.MAX_SAFE_INTEGER;for(var v=this.data,y=0;y<this.totalData;y++)v[y].reset(g);this.duration=Math.max(this.duration,.01);var C=this.duration,b=this.completeDelay,T=this.loopCounter,S=this.loopDelay;T>0?this.totalDuration=C+b+(C+S)*T:this.totalDuration=C+b},reset:function(g){return g===void 0&&(g=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,this.loop===-1&&(this.isInfinite=!0,this.loopCounter=d.MAX),g||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(c.TWEEN_ACTIVE,"onActive")),this},update:function(g){if(this.isPendingRemove()||this.isDestroyed())return this.persist?(this.setFinishedState(),!1):!0;if(this.paused||this.isFinished())return!1;if(g*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(g),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(g),!1;this.hasStarted||(this.startDelay-=g,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(c.TWEEN_START,"onStart"),g=0));var v=!1;if(this.isActive())for(var y=this.data,C=0;C<this.totalData;C++)y[C].update(g)&&(v=!0);this.elapsed+=g,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=g,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),v||this.nextState();var b=this.isPendingRemove();return b&&this.persist&&(this.setFinishedState(),b=!1),b},forward:function(g){return this.update(g),this},rewind:function(g){return this.update(-g),this},dispatchEvent:function(g,v){if(!this.isSeeking){if(this.emit(g,this,this.targets),!this.callbacks)return;var y=this.callbacks[v];y&&y.func.apply(this.callbackScope,[this,this.targets].concat(y.params))}},destroy:function(){a.prototype.destroy.call(this),this.targets=null}});u.register("tween",function(g){return this.scene.sys.tweens.add(g)}),o.register("tween",function(g){return this.scene.sys.tweens.create(g)}),r.exports=A},43960:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(72905),p=i(70402),c=i(83419),o=i(842),u=i(44603),l=i(39429),d=i(86353),f=new c({Extends:p,initialize:function(A){p.call(this,A),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=this.loop===-1?d.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this},add:function(h){var A=this.parent.create(h);Array.isArray(A)||(A=[A]);for(var g=this.data,v=0;v<A.length;v++){var y=A[v];y.parent=this,g.push(y.reset())}return this.totalData=g.length,this},remove:function(h){return a(this.data,h),h.setRemovedState(),h===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(h){for(var A=this.data,g=0;g<this.totalData;g++)if(A[g].hasTarget(h))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(h){return h.seek(),h.setActiveState(),this},makeActive:function(h){return h.reset(),h.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(o.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},resetTweens:function(){for(var h=this.data,A=this.totalData,g=0;g<A;g++)h[g].reset(!1);this.setCurrentTween(0)},update:function(h){if(this.isPendingRemove()||this.isDestroyed())return this.persist?(this.setFinishedState(),!1):!0;if(this.isFinished()||this.paused)return!1;if(h*=this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(h),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(h),!1;this.hasStarted||(this.startDelay-=h,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(o.TWEEN_START,"onStart"),h=0));var A=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(h)&&this.nextTween()&&this.nextState(),A=this.isPendingRemove(),A&&this.persist&&(this.setFinishedState(),A=!1)),A},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData?!0:(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(h){this.currentIndex=h,this.currentTween=this.data[h],this.currentTween.setActiveState()},dispatchEvent:function(h,A){this.emit(h,this);var g=this.callbacks[A];g&&g.func.apply(this.callbackScope,[this].concat(g.params))},destroy:function(){p.prototype.destroy.call(this),this.currentTween=null}});l.register("tweenchain",function(h){return this.scene.sys.tweens.chain(h)}),u.register("tweenchain",function(h){return this.scene.sys.tweens.create(h)}),r.exports=f},48177:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(95042),p=i(45319),c=i(83419),o=i(842),u=new c({Extends:a,initialize:function(d,f,h,A,g,v,y,C,b,T,S,F,B,N,L,R,I){a.call(this,d,f,C,b,T,S,F,B,N,L),this.key=h,this.getActiveValue=v,this.getEndValue=A,this.getStartValue=g,this.ease=y,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=R,this.interpolationData=I},reset:function(l){a.prototype.reset.call(this);var d=this.tween.targets[this.targetIndex],f=this.key;l&&(d[f]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(d[f]=this.getActiveValue(d,f,0))},update:function(l){var d=this.tween,f=d.totalTargets,h=this.targetIndex,A=d.targets[h],g=this.key;if(!A)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=l,this.elapsed<=0&&(this.elapsed=0,l=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(o.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(A,g,A[g],h,f,d),this.end=this.getEndValue(A,g,this.start,h,f,d),this.current=this.start,A[g]=this.start,this.setPlayingForwardState(),!0;var v=this.isPlayingForward(),y=this.isPlayingBackward();if(v||y){var C=this.elapsed,b=this.duration,T=0,S=!1;C+=l,C>=b?(T=C-b,C=b,S=!0):C<0&&(C=0);var F=p(C/b,0,1);this.elapsed=C,this.progress=F,this.previous=this.current,v||(F=1-F);var B=this.ease(F);this.interpolation?this.current=this.interpolation(this.interpolationData,B):this.current=this.start+(this.end-this.start)*B,A[g]=this.current,S&&(v?(d.isNumberTween&&(this.current=this.end,A[g]=this.current),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(T)):(d.isNumberTween&&(this.current=this.start,A[g]=this.current),this.setStateFromStart(T))),this.dispatchEvent(o.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(l,d){var f=this.tween;if(!f.isSeeking){var h=f.targets[this.targetIndex],A=this.key,g=this.current,v=this.previous;f.emit(l,f,A,h,g,v);var y=f.callbacks[d];y&&y.func.apply(f.callbackScope,[f,h,A,g,v].concat(y.params))}},destroy:function(){a.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});r.exports=u},42220:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(95042),p=i(45319),c=i(83419),o=i(842),u=new c({Extends:a,initialize:function(d,f,h,A,g,v,y,C,b,T,S){a.call(this,d,f,g,v,!1,y,C,b,T,S),this.key="texture",this.startTexture=null,this.endTexture=h,this.startFrame=null,this.endFrame=A,this.yoyo=C!==0},reset:function(l){a.prototype.reset.call(this);var d=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=d.texture.key,this.startFrame=d.frame.name),l&&d.setTexture(this.startTexture,this.startFrame)},update:function(l){var d=this.tween,f=this.targetIndex,h=d.targets[f];if(!h)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=l,this.elapsed<=0&&(this.elapsed=0,l=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(o.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&h.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var A=this.isPlayingForward(),g=this.isPlayingBackward();if(A||g){var v=this.elapsed,y=this.duration,C=0,b=!1;v+=l,v>=y?(C=v-y,v=y,b=!0):v<0&&(v=0);var T=p(v/y,0,1);this.elapsed=v,this.progress=T,b&&(A?(h.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(C)):(h.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(C))),this.dispatchEvent(o.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(l,d){var f=this.tween;if(!f.isSeeking){var h=f.targets[this.targetIndex],A=this.key;f.emit(l,f,A,h);var g=f.callbacks[d];g&&g.func.apply(f.callbackScope,[f,h,A].concat(g.params))}},destroy:function(){a.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});r.exports=u},86353:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999};r.exports=x},83419:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function x(u){return!!u.get&&typeof u.get=="function"||!!u.set&&typeof u.set=="function"}function i(u,l,d){var f=d?u[l]:Object.getOwnPropertyDescriptor(u,l);return!d&&f.value&&typeof f.value=="object"&&(f=f.value),f&&x(f)?(typeof f.enumerable>"u"&&(f.enumerable=!0),typeof f.configurable>"u"&&(f.configurable=!0),f):!1}function a(u,l){var d=Object.getOwnPropertyDescriptor(u,l);return d?(d.value&&typeof d.value=="object"&&(d=d.value),d.configurable===!1):!1}function p(u,l,d,f){for(var h in l)if(l.hasOwnProperty(h)){var A=i(l,h,d);if(A!==!1){var g=f||u;if(a(g.prototype,h)){if(o.ignoreFinals)continue;throw new Error("cannot override final property '"+h+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(u.prototype,h,A)}else u.prototype[h]=l[h]}}function c(u,l){if(l){Array.isArray(l)||(l=[l]);for(var d=0;d<l.length;d++)p(u,l[d].prototype||l[d])}}function o(u){u||(u={});var l,d;if(u.initialize){if(typeof u.initialize!="function")throw new Error("initialize must be a function");l=u.initialize,delete u.initialize}else if(u.Extends){var f=u.Extends;l=function(){f.apply(this,arguments)}}else l=function(){};u.Extends?(l.prototype=Object.create(u.Extends.prototype),l.prototype.constructor=l,d=u.Extends,delete u.Extends):l.prototype.constructor=l;var h=null;return u.Mixins&&(h=u.Mixins,delete u.Mixins),c(l,h),p(l,u,!0,d),l}o.extend=p,o.mixin=c,o.ignoreFinals=!1,r.exports=o},29747:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(){};r.exports=x},20242:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(){return null};r.exports=x},71146:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p,c,o){if(o===void 0&&(o=i),p>0){var u=p-i.length;if(u<=0)return null}if(!Array.isArray(a))return i.indexOf(a)===-1?(i.push(a),c&&c.call(o,a),a):null;for(var l=a.length-1;l>=0;)i.indexOf(a[l])!==-1&&a.splice(l,1),l--;if(l=a.length,l===0)return null;p>0&&l>u&&(a.splice(u),l=u);for(var d=0;d<l;d++){var f=a[d];i.push(f),c&&c.call(o,f)}return a};r.exports=x},51067:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p,c,o,u){if(p===void 0&&(p=0),u===void 0&&(u=i),c>0){var l=c-i.length;if(l<=0)return null}if(!Array.isArray(a))return i.indexOf(a)===-1?(i.splice(p,0,a),o&&o.call(u,a),a):null;for(var d=a.length-1;d>=0;)i.indexOf(a[d])!==-1&&a.pop(),d--;if(d=a.length,d===0)return null;c>0&&d>l&&(a.splice(l),d=l);for(var f=d-1;f>=0;f--){var h=a[f];i.splice(p,0,h),o&&o.call(u,h)}return a};r.exports=x},66905:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){var p=i.indexOf(a);return p!==-1&&p<i.length&&(i.splice(p,1),i.push(a)),a};r.exports=x},21612:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(82011),p=function(c,o,u,l,d){l===void 0&&(l=0),d===void 0&&(d=c.length);var f=0;if(a(c,l,d))for(var h=l;h<d;h++){var A=c[h];A[o]===u&&f++}return f};r.exports=p},95428:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p){var c,o=[null];for(c=3;c<arguments.length;c++)o.push(arguments[c]);for(c=0;c<i.length;c++)o[0]=i[c],a.apply(p,o);return i};r.exports=x},36914:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(82011),p=function(c,o,u,l,d){if(l===void 0&&(l=0),d===void 0&&(d=c.length),a(c,l,d)){var f,h=[null];for(f=5;f<arguments.length;f++)h.push(arguments[f]);for(f=l;f<d;f++)h[0]=c[f],o.apply(u,h)}return c};r.exports=p},81957:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p){if(a.length){if(a.length===1)return a[0]}else return NaN;var c=1,o,u;if(p){if(i<a[0][p])return a[0];for(;a[c][p]<i;)c++}else for(;a[c]<i;)c++;return c>a.length&&(c=a.length),p?(o=a[c-1][p],u=a[c][p],u-i<=i-o?a[c]:a[c-1]):(o=a[c-1],u=a[c],u-i<=i-o?u:o)};r.exports=x},43491:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){a===void 0&&(a=[]);for(var p=0;p<i.length;p++)Array.isArray(i[p])?x(i[p],a):a.push(i[p]);return a};r.exports=x},46710:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(82011),p=function(c,o,u,l,d){l===void 0&&(l=0),d===void 0&&(d=c.length);var f=[];if(a(c,l,d))for(var h=l;h<d;h++){var A=c[h];(!o||o&&u===void 0&&A.hasOwnProperty(o)||o&&u!==void 0&&A[o]===u)&&f.push(A)}return f};r.exports=p},58731:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(82011),p=function(c,o,u,l,d){if(l===void 0&&(l=0),d===void 0&&(d=c.length),l!==-1){if(a(c,l,d))for(var f=l;f<d;f++){var h=c[f];if(!o||o&&u===void 0&&h.hasOwnProperty(o)||o&&u!==void 0&&h[o]===u)return h}}else if(a(c,0,d))for(var f=d;f>=0;f--){var h=c[f];if(!o||o&&u===void 0&&h.hasOwnProperty(o)||o&&u!==void 0&&h[o]===u)return h}return null};r.exports=p},26546:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p){a===void 0&&(a=0),p===void 0&&(p=i.length);var c=a+Math.floor(Math.random()*p);return i[c]===void 0?null:i[c]};r.exports=x},85835:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p){if(a===p)return i;var c=i.indexOf(a),o=i.indexOf(p);if(c<0||o<0)throw new Error("Supplied items must be elements of the same array");return c>o||(i.splice(c,1),o=i.indexOf(p),i.splice(o+1,0,a)),i};r.exports=x},83371:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p){if(a===p)return i;var c=i.indexOf(a),o=i.indexOf(p);if(c<0||o<0)throw new Error("Supplied items must be elements of the same array");return c<o||(i.splice(c,1),o===0?i.unshift(a):i.splice(o,0,a)),i};r.exports=x},70864:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){var p=i.indexOf(a);if(p>0){var c=i[p-1],o=i.indexOf(c);i[p]=c,i[o]=a}return i};r.exports=x},69693:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p){var c=i.indexOf(a);if(c===-1||p<0||p>=i.length)throw new Error("Supplied index out of bounds");return c!==p&&(i.splice(c,1),i.splice(p,0,a)),a};r.exports=x},40853:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){var p=i.indexOf(a);if(p!==-1&&p<i.length-1){var c=i[p+1],o=i.indexOf(c);i[p]=c,i[o]=a}return i};r.exports=x},20283:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p,c){var o=[],u,l=!1;if((p||c)&&(l=!0,p||(p=""),c||(c="")),a<i)for(u=i;u>=a;u--)l?o.push(p+u.toString()+c):o.push(u);else for(u=i;u<=a;u++)l?o.push(p+u.toString()+c):o.push(u);return o};r.exports=x},593:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(2284),p=function(c,o,u){c===void 0&&(c=0),o===void 0&&(o=null),u===void 0&&(u=1),o===null&&(o=c,c=0);for(var l=[],d=Math.max(a((o-c)/(u||1)),0),f=0;f<d;f++)l.push(c),c+=u;return l};r.exports=p},43886:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function x(p,c,o){var u=p[c];p[c]=p[o],p[o]=u}function i(p,c){return p<c?-1:p>c?1:0}var a=function(p,c,o,u,l){for(o===void 0&&(o=0),u===void 0&&(u=p.length-1),l===void 0&&(l=i);u>o;){if(u-o>600){var d=u-o+1,f=c-o+1,h=Math.log(d),A=.5*Math.exp(2*h/3),g=.5*Math.sqrt(h*A*(d-A)/d)*(f-d/2<0?-1:1),v=Math.max(o,Math.floor(c-f*A/d+g)),y=Math.min(u,Math.floor(c+(d-f)*A/d+g));a(p,c,v,y,l)}var C=p[c],b=o,T=u;for(x(p,o,c),l(p[u],C)>0&&x(p,o,u);b<T;){for(x(p,b,T),b++,T--;l(p[b],C)<0;)b++;for(;l(p[T],C)>0;)T--}l(p[o],C)===0?x(p,o,T):(T++,x(p,T,u)),T<=c&&(o=T+1),c<=T&&(u=T-1)}};r.exports=a},88492:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(35154),p=i(33680),c=function(u,l,d){for(var f=[],h=0;h<u.length;h++)for(var A=0;A<l.length;A++)for(var g=0;g<d;g++)f.push({a:u[h],b:l[A]});return f},o=function(u,l,d){var f=a(d,"max",0),h=a(d,"qty",1),A=a(d,"random",!1),g=a(d,"randomB",!1),v=a(d,"repeat",0),y=a(d,"yoyo",!1),C=[];if(g&&p(l),v===-1)if(f===0)v=0;else{var b=u.length*l.length*h;y&&(b*=2),v=Math.ceil(f/b)}for(var T=0;T<=v;T++){var S=c(u,l,h);A&&p(S),C=C.concat(S),y&&(S.reverse(),C=C.concat(S))}return f&&C.splice(f),C};r.exports=o},72905:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(19133),p=function(c,o,u,l){l===void 0&&(l=c);var d;if(!Array.isArray(o))return d=c.indexOf(o),d!==-1?(a(c,d),u&&u.call(l,o),o):null;for(var f=o.length-1,h=[];f>=0;){var A=o[f];d=c.indexOf(A),d!==-1&&(a(c,d),h.push(A),u&&u.call(l,A)),f--}return h};r.exports=p},60248:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(19133),p=function(c,o,u,l){if(l===void 0&&(l=c),o<0||o>c.length-1)throw new Error("Index out of bounds");var d=a(c,o);return u&&u.call(l,d),d};r.exports=p},81409:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(82011),p=function(c,o,u,l,d){if(o===void 0&&(o=0),u===void 0&&(u=c.length),d===void 0&&(d=c),a(c,o,u)){var f=u-o,h=c.splice(o,f);if(l)for(var A=0;A<h.length;A++){var g=h[A];l.call(d,g)}return h}else return[]};r.exports=p},31856:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(19133),p=function(c,o,u){o===void 0&&(o=0),u===void 0&&(u=c.length);var l=o+Math.floor(Math.random()*u);return a(c,l)};r.exports=p},42169:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p){var c=i.indexOf(a),o=i.indexOf(p);return c!==-1&&o===-1?(i[c]=p,!0):!1};r.exports=x},86003:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){a===void 0&&(a=1);for(var p=null,c=0;c<a;c++)p=i.shift(),i.push(p);return p};r.exports=x},49498:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){a===void 0&&(a=1);for(var p=null,c=0;c<a;c++)p=i.pop(),i.unshift(p);return p};r.exports=x},82011:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p,c){var o=i.length;if(a<0||a>=o||a>=p||p>o){if(c)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};r.exports=x},89545:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){var p=i.indexOf(a);return p!==-1&&p>0&&(i.splice(p,1),i.unshift(a)),a};r.exports=x},17810:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(82011),p=function(c,o,u,l,d){if(l===void 0&&(l=0),d===void 0&&(d=c.length),a(c,l,d))for(var f=l;f<d;f++){var h=c[f];h.hasOwnProperty(o)&&(h[o]=u)}return c};r.exports=p},33680:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){for(var a=i.length-1;a>0;a--){var p=Math.floor(Math.random()*(a+1)),c=i[a];i[a]=i[p],i[p]=c}return i};r.exports=x},90126:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){var a=/\D/g;return i.sort(function(p,c){return parseInt(p.replace(a,""),10)-parseInt(c.replace(a,""),10)}),i};r.exports=x},19133:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){if(!(a>=i.length)){for(var p=i.length-1,c=i[a],o=a;o<p;o++)i[o]=i[o+1];return i.length=p,c}};r.exports=x},19186:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Angry Bytes (and contributors)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(82264);function p(l,d){return String(l).localeCompare(d)}function c(l,d){var f=l.length;if(f<=1)return l;for(var h=new Array(f),A=1;A<f;A*=2){o(l,d,A,h);var g=l;l=h,h=g}return l}function o(l,d,f,h){var A=l.length,g=0,v=f*2,y,C,b,T,S;for(y=0;y<A;y+=v)for(C=y+f,b=C+f,C>A&&(C=A),b>A&&(b=A),T=y,S=C;;)if(T<C&&S<b)d(l[T],l[S])<=0?h[g++]=l[T++]:h[g++]=l[S++];else if(T<C)h[g++]=l[T++];else if(S<b)h[g++]=l[S++];else break}var u=function(l,d){if(d===void 0&&(d=p),!l||l.length<2)return l;if(a.features.stableSort)return l.sort(d);var f=c(l,d);return f!==l&&o(f,null,l.length,l),l};r.exports=u},25630:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p){if(a===p)return i;var c=i.indexOf(a),o=i.indexOf(p);if(c<0||o<0)throw new Error("Supplied items must be elements of the same array");return i[c]=p,i[o]=a,i};r.exports=x},37105:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Matrix:i(54915),Add:i(71146),AddAt:i(51067),BringToTop:i(66905),CountAllMatching:i(21612),Each:i(95428),EachInRange:i(36914),FindClosestInSorted:i(81957),Flatten:i(43491),GetAll:i(46710),GetFirst:i(58731),GetRandom:i(26546),MoveDown:i(70864),MoveTo:i(69693),MoveUp:i(40853),MoveAbove:i(85835),MoveBelow:i(83371),NumberArray:i(20283),NumberArrayStep:i(593),QuickSelect:i(43886),Range:i(88492),Remove:i(72905),RemoveAt:i(60248),RemoveBetween:i(81409),RemoveRandomElement:i(31856),Replace:i(42169),RotateLeft:i(86003),RotateRight:i(49498),SafeRange:i(82011),SendToBack:i(89545),SetAll:i(17810),Shuffle:i(33680),SortByDigits:i(90126),SpliceOne:i(19133),StableSort:i(19186),Swap:i(25630)}},86922:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){if(!Array.isArray(i)||!Array.isArray(i[0]))return!1;for(var a=i[0].length,p=1;p<i.length;p++)if(i[p].length!==a)return!1;return!0};r.exports=x},63362:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(41836),p=i(86922),c=function(o){var u="";if(!p(o))return u;for(var l=0;l<o.length;l++){for(var d=0;d<o[l].length;d++){var f=o[l][d].toString();f!=="undefined"?u+=a(f,2):u+="?",d<o[l].length-1&&(u+=" |")}if(l<o.length-1){u+=`
`;for(var h=0;h<o[l].length;h++)u+="---",h<o[l].length-1&&(u+="+");u+=`
`}}return u};r.exports=c},92598:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){return i.reverse()};r.exports=x},21224:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){for(var a=0;a<i.length;a++)i[a].reverse();return i};r.exports=x},98717:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(37829),p=function(c){return a(c,180)};r.exports=p},44657:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(37829),p=function(c,o){o===void 0&&(o=1);for(var u=0;u<o;u++)c=a(c,90);return c};r.exports=p},37829:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(86922),p=i(2429),c=function(o,u){if(u===void 0&&(u=90),!a(o))return null;if(typeof u!="string"&&(u=(u%360+360)%360),u===90||u===-270||u==="rotateLeft")o=p(o),o.reverse();else if(u===-90||u===270||u==="rotateRight")o.reverse(),o=p(o);else if(Math.abs(u)===180||u==="rotate180"){for(var l=0;l<o.length;l++)o[l].reverse();o.reverse()}return o};r.exports=c},92632:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(37829),p=function(c,o){o===void 0&&(o=1);for(var u=0;u<o;u++)c=a(c,-90);return c};r.exports=p},69512:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(86003),p=i(49498),c=function(o,u,l){if(u===void 0&&(u=0),l===void 0&&(l=0),l!==0&&(l<0?a(o,Math.abs(l)):p(o,l)),u!==0)for(var d=0;d<o.length;d++){var f=o[d];u<0?a(f,Math.abs(u)):p(f,u)}return o};r.exports=c},2429:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){for(var a=i.length,p=i[0].length,c=new Array(p),o=0;o<p;o++){c[o]=new Array(a);for(var u=a-1;u>-1;u--)c[o][u]=i[u][o]}return c};r.exports=x},54915:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={CheckMatrix:i(86922),MatrixToString:i(63362),ReverseColumns:i(92598),ReverseRows:i(21224),Rotate180:i(98717),RotateLeft:i(44657),RotateMatrix:i(37829),RotateRight:i(92632),Translate:i(69512),TransposeMatrix:i(2429)}},71334:r=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=function(a,p){for(var c=new Uint8Array(a),o=c.length,u=p?"data:"+p+";base64,":"",l=0;l<o;l+=3)u+=x[c[l]>>2],u+=x[(c[l]&3)<<4|c[l+1]>>4],u+=x[(c[l+1]&15)<<2|c[l+2]>>6],u+=x[c[l+2]&63];return o%3===2?u=u.substring(0,u.length-1)+"=":o%3===1&&(u=u.substring(0,u.length-2)+"=="),u};r.exports=i},53134:r=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */for(var x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=new Uint8Array(256),a=0;a<x.length;a++)i[x.charCodeAt(a)]=a;var p=function(c){c=c.substr(c.indexOf(",")+1);var o=c.length,u=o*.75,l=0,d,f,h,A;c[o-1]==="="&&(u--,c[o-2]==="="&&u--);for(var g=new ArrayBuffer(u),v=new Uint8Array(g),y=0;y<o;y+=4)d=i[c.charCodeAt(y)],f=i[c.charCodeAt(y+1)],h=i[c.charCodeAt(y+2)],A=i[c.charCodeAt(y+3)],v[l++]=d<<2|f>>4,v[l++]=(f&15)<<4|h>>2,v[l++]=(h&3)<<6|A&63;return g};r.exports=p},65839:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ArrayBufferToBase64:i(71334),Base64ToArrayBuffer:i(53134)}},91799:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Array:i(37105),Base64:i(65839),Objects:i(1183),String:i(31749),NOOP:i(29747),NULL:i(20242)}},41786:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){var a={};for(var p in i)Array.isArray(i[p])?a[p]=i[p].slice(0):a[p]=i[p];return a};r.exports=x},62644:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){var a,p,c;if(typeof i!="object"||i===null)return i;a=Array.isArray(i)?[]:{};for(c in i)p=i[c],a[c]=x(p);return a};r.exports=x},79291:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(41212),p=function(){var c,o,u,l,d,f,h=arguments[0]||{},A=1,g=arguments.length,v=!1;for(typeof h=="boolean"&&(v=h,h=arguments[1]||{},A=2),g===A&&(h=this,--A);A<g;A++)if((c=arguments[A])!=null)for(o in c)u=h[o],l=c[o],h!==l&&(v&&l&&(a(l)||(d=Array.isArray(l)))?(d?(d=!1,f=u&&Array.isArray(u)?u:[]):f=u&&a(u)?u:{},h[o]=p(v,f,l)):l!==void 0&&(h[o]=l));return h};r.exports=p},23568:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(75508),p=i(35154),c=function(o,u,l){var d=p(o,u,null);if(d===null)return l;if(Array.isArray(d))return a.RND.pick(d);if(typeof d=="object"){if(d.hasOwnProperty("randInt"))return a.RND.integerInRange(d.randInt[0],d.randInt[1]);if(d.hasOwnProperty("randFloat"))return a.RND.realInRange(d.randFloat[0],d.randFloat[1])}else if(typeof d=="function")return d(u);return d};r.exports=c},95540:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p){var c=typeof i;return!i||c==="number"||c==="string"?p:i.hasOwnProperty(a)&&i[a]!==void 0?i[a]:p};r.exports=x},82840:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(35154),p=i(45319),c=function(o,u,l,d,f){f===void 0&&(f=l);var h=a(o,u,f);return p(h,l,d)};r.exports=c},35154:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p,c){if(!i&&!c||typeof i=="number")return p;if(i&&i.hasOwnProperty(a))return i[a];if(c&&c.hasOwnProperty(a))return c[a];if(a.indexOf(".")!==-1){for(var o=a.split("."),u=i,l=c,d=p,f=p,h=!0,A=!0,g=0;g<o.length;g++)u&&u.hasOwnProperty(o[g])?(d=u[o[g]],u=u[o[g]]):h=!1,l&&l.hasOwnProperty(o[g])?(f=l[o[g]],l=l[o[g]]):A=!1;return h?d:A?f:p}else return p};r.exports=x},69036:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){for(var p=0;p<a.length;p++)if(!i.hasOwnProperty(a[p]))return!1;return!0};r.exports=x},1985:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){for(var p=0;p<a.length;p++)if(i.hasOwnProperty(a[p]))return!0;return!1};r.exports=x},97022:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){return i.hasOwnProperty(a)};r.exports=x},41212:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){if(!i||typeof i!="object"||i.nodeType||i===i.window)return!1;try{if(i.constructor&&!{}.hasOwnProperty.call(i.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};r.exports=x},46975:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(41786),p=function(c,o){var u=a(c);for(var l in o)u.hasOwnProperty(l)||(u[l]=o[l]);return u};r.exports=p},269:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(41786),p=function(c,o){var u=a(c);for(var l in o)u.hasOwnProperty(l)&&(u[l]=o[l]);return u};r.exports=p},18254:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(97022),p=function(c,o){for(var u={},l=0;l<o.length;l++){var d=o[l];a(c,d)&&(u[d]=c[d])}return u};r.exports=p},61622:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p){if(!i||typeof i=="number")return!1;if(i.hasOwnProperty(a))return i[a]=p,!0;if(a.indexOf(".")!==-1){for(var c=a.split("."),o=i,u=i,l=0;l<c.length;l++)if(o.hasOwnProperty(c[l]))u=o,o=o[c[l]];else return!1;return u[c[c.length-1]]=p,!0}return!1};r.exports=x},1183:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Clone:i(41786),DeepCopy:i(62644),Extend:i(79291),GetAdvancedValue:i(23568),GetFastValue:i(95540),GetMinMaxValue:i(82840),GetValue:i(35154),HasAll:i(69036),HasAny:i(1985),HasValue:i(97022),IsPlainObject:i(41212),Merge:i(46975),MergeRight:i(269),Pick:i(18254),SetValue:i(61622)}},27902:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){return i.replace(/%([0-9]+)/g,function(p,c){return a[Number(c)-1]})};r.exports=x},41836:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a,p,c){a===void 0&&(a=0),p===void 0&&(p=" "),c===void 0&&(c=3),i=i.toString();var o=0;if(a+1>=i.length)switch(c){case 1:i=new Array(a+1-i.length).join(p)+i;break;case 3:var u=Math.ceil((o=a-i.length)/2),l=o-u;i=new Array(l+1).join(p)+i+new Array(u+1).join(p);break;default:i=i+new Array(a+1-i.length).join(p);break}return i};r.exports=x},33628:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i,a){return a===0?i.slice(1):i.slice(0,a)+i.slice(a+1)};r.exports=x},27671:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){return i.split("").reverse().join("")};r.exports=x},45650:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){var a=Math.random()*16|0,p=i==="x"?a:a&3|8;return p.toString(16)})};r.exports=x},35355:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(i){return i&&i[0].toUpperCase()+i.slice(1)};r.exports=x},31749:(r,x,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Format:i(27902),Pad:i(41836),RemoveAt:i(33628),Reverse:i(27671),UppercaseFirst:i(35355),UUID:i(45650)}}},s={};function m(r){var x=s[r];if(x!==void 0)return x.exports;var i=s[r]={exports:{}};return n[r](i,i.exports,m),i.exports}m.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var w=m(85454);return w})())})(oI);var nie=oI.exports;const _d=T2(nie),uo=10;class sie extends _d.Scene{constructor(){super("MainScene");Kn(this,"player");Kn(this,"house");Kn(this,"cursors");Kn(this,"playerPos",{x:0,y:0});Kn(this,"housePos",{x:0,y:0});Kn(this,"moveTimer",0);Kn(this,"gameTimerEvent");Kn(this,"scoreValue",0);Kn(this,"timeValue",30);Kn(this,"cellSize",50)}preload(){}create(){const{width:n}=this.sys.game.canvas;this.cellSize=n/uo,this.scoreValue=0,this.timeValue=30;const s=this.add.graphics();s.lineStyle(2,15067115,1);for(let m=0;m<=uo;m++)s.moveTo(m*this.cellSize,0),s.lineTo(m*this.cellSize,uo*this.cellSize),s.moveTo(0,m*this.cellSize),s.lineTo(uo*this.cellSize,m*this.cellSize);s.strokePath(),this.playerPos={x:0,y:0},this.player=this.add.rectangle(this.cellSize/2,this.cellSize/2,this.cellSize-10,this.cellSize-10,2450411),this.spawnHouse(),this.input.keyboard&&(this.cursors=this.input.keyboard.createCursorKeys()),this.gameTimerEvent=this.time.addEvent({delay:1e3,callback:this.onSecond,callbackScope:this,loop:!0})}spawnHouse(){let n,s;do n=_d.Math.Between(0,uo-1),s=_d.Math.Between(0,uo-1);while(n===this.playerPos.x&&s===this.playerPos.y);this.housePos={x:n,y:s},this.house&&this.house.destroy(),this.house=this.add.rectangle(n*this.cellSize+this.cellSize/2,s*this.cellSize+this.cellSize/2,this.cellSize-10,this.cellSize-10,15680580)}onSecond(){if(this.timeValue>0){this.timeValue-=1;const n=this.registry.get("onTimeUpdate");n&&n(this.timeValue)}else{this.gameTimerEvent.remove(),this.scene.pause();const n=this.registry.get("onGameOver");n&&n(this.scoreValue)}}update(n,s){if(this.timeValue<=0||(this.moveTimer-=s,this.moveTimer>0))return;let m=!1;if(this.cursors.left.isDown&&this.playerPos.x>0?(this.playerPos.x--,m=!0):this.cursors.right.isDown&&this.playerPos.x<uo-1?(this.playerPos.x++,m=!0):this.cursors.up.isDown&&this.playerPos.y>0?(this.playerPos.y--,m=!0):this.cursors.down.isDown&&this.playerPos.y<uo-1&&(this.playerPos.y++,m=!0),m&&(this.player.x=this.playerPos.x*this.cellSize+this.cellSize/2,this.player.y=this.playerPos.y*this.cellSize+this.cellSize/2,this.moveTimer=150,this.playerPos.x===this.housePos.x&&this.playerPos.y===this.housePos.y)){this.scoreValue+=10,this.timeValue+=5;const w=this.registry.get("onScoreUpdate"),r=this.registry.get("onTimeUpdate");w&&w(this.scoreValue),r&&r(this.timeValue),this.spawnHouse()}}}const rie=({onBack:t})=>{const e=de.useRef(null),[n,s]=de.useState(!1),[m,w]=de.useState(0),[r,x]=de.useState(30),[i,a]=de.useState(!0),[p,c]=de.useState(!1),{completeGame:o}=Mt(),{consumeEnergy:u}=s0(),l=de.useRef(null),d=()=>{if(!u()){c(!0);return}if(a(!1),!e.current)return;const f=Math.min(window.innerWidth-48,500),h={type:_d.AUTO,width:f,height:f,parent:e.current,backgroundColor:"#ffffff",scene:sie,physics:{default:"arcade",arcade:{debug:!1}}},A=new _d.Game(h);l.current=A,A.registry.set("onScoreUpdate",w),A.registry.set("onTimeUpdate",x),A.registry.set("onGameOver",g=>{s(!0),o(g,g*2)})};return de.useEffect(()=>()=>{l.current&&(l.current.destroy(!0),l.current=null)},[]),E.jsxs("div",{className:"flex flex-col items-center justify-center bg-gray-50 rounded-3xl p-4 md:p-8 border border-gray-200 shadow-xl relative h-[calc(100vh-140px)] md:h-[calc(100vh-100px)] overflow-hidden",children:[E.jsx(iu,{isOpen:p,onClose:()=>c(!1)}),i&&E.jsx(qA,{onStart:d,title:"Pizza Rush",description:"Deliver hot pizzas to hungry customers before they get cold!",icon:"",color:"bg-red-500",instructions:["You are the Blue Scooter.","Use Arrow Keys to move.","Drive to the Red House to deliver.","Each delivery gives +5 seconds.","Don't run out of time!"]}),E.jsxs("div",{className:"w-full max-w-[500px] flex items-center justify-between mb-4 shrink-0",children:[E.jsx("button",{onClick:t,className:"text-gray-400 font-bold hover:text-gray-600",children:" Exit"}),E.jsx("h2",{className:"text-xl md:text-2xl font-black text-gray-800",children:"Pizza Rush "}),E.jsxs("div",{className:`px-3 py-1 rounded-full font-black ${r<10?"bg-red-100 text-red-600":"bg-green-100 text-green-600"}`,children:[r,"s"]})]}),E.jsxs("div",{className:"relative flex-1 flex items-center justify-center w-full",children:[E.jsx("div",{ref:e,className:"rounded-xl overflow-hidden border-4 border-gray-800 shadow-2xl bg-gray-200"}),n&&E.jsxs("div",{className:"absolute inset-0 bg-black/80 flex flex-col items-center justify-center text-white backdrop-blur-sm z-20 rounded-xl",children:[E.jsx("h3",{className:"text-4xl font-black text-yellow-400 mb-2",children:"Time's Up!"}),E.jsxs("p",{className:"text-xl font-bold mb-8",children:["Pizzas Delivered: ",m/10]}),E.jsxs("div",{className:"flex gap-4",children:[E.jsx("button",{onClick:t,className:"bg-gray-700 hover:bg-gray-600 px-6 py-3 rounded-xl font-bold",children:"Exit"}),E.jsxs("button",{onClick:()=>{s(!1),w(0),x(30),l.current&&l.current.destroy(!0),d()},className:"bg-kid-primary text-black px-6 py-3 rounded-xl font-black hover:bg-yellow-400 flex items-center gap-2",children:[E.jsx(jA,{size:20})," Play Again"]})]})]})]})]})},aie=({onBack:t})=>{const{completeGame:e}=Mt(),{consumeEnergy:n}=s0(),[s,m]=de.useState("PREP"),[w,r]=de.useState(50),[x,i]=de.useState({beans:0,milk:0,cups:0}),[a,p]=de.useState({roast:5,foam:5,price:3.5}),[c,o]=de.useState("Sunny"),[u,l]=de.useState(!0),[d,f]=de.useState(!1),[h,A]=de.useState(0),[g,v]=de.useState({sold:0,revenue:0,tips:0});de.useEffect(()=>{const b=Math.random();o(b>.6?"Rainy":b>.3?"Cloudy":"Sunny")},[]);const y=(b,T,S)=>{w>=T&&(r(F=>F-T),i(F=>({...F,[b]:F[b]+S})))},C=()=>{if(x.cups===0)return alert("You need cups!");if(!n()){f(!0);return}m("BREW");let b=0;const T=c==="Rainy"?40:c==="Cloudy"?25:15,S=(a.roast+a.foam)/20,F=5/a.price,B=Math.floor(T*S*F);b=Math.min(B,x.cups,x.beans,x.milk);const N=b*a.price,L=Math.floor(b*S),R=setInterval(()=>{A(I=>I>=100?(clearInterval(R),v({sold:b,revenue:N,tips:L}),e(N+L,(N+L)*2),m("RESULT"),100):I+2)},50)};return E.jsxs("div",{className:"bg-[#3e2723] rounded-3xl overflow-hidden shadow-2xl text-[#d7ccc8] flex flex-col relative h-[calc(100vh-140px)] md:h-[calc(100vh-100px)]",children:[E.jsx(iu,{isOpen:d,onClose:()=>f(!1)}),u&&E.jsx(qA,{onStart:()=>l(!1),title:"Coffee Cart",description:"Become a barista! Brew the perfect cup and manage your stock.",icon:"",color:"bg-[#5d4037]",instructions:["Buy Beans, Milk, and Cups.","Adjust your recipe: Roast & Foam.","Set your price.","Rainy days = More customers!"]}),E.jsxs("div",{className:"p-4 md:p-6 flex justify-between items-center bg-[#281916] shrink-0 z-10",children:[E.jsx("button",{onClick:t,className:"text-[#a1887f] hover:text-white",children:E.jsx(ja,{})}),E.jsx("div",{className:"text-xl md:text-2xl font-black",children:"Coffee Cart "}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("button",{onClick:()=>l(!0),className:"bg-[#5d4037] hover:bg-[#8d6e63] px-3 py-1 rounded text-xs font-bold",children:"Help"}),E.jsxs("div",{className:"bg-[#5d4037] px-3 py-1 md:px-4 md:py-1 rounded-full font-mono font-bold text-sm md:text-base",children:["$",w.toFixed(2)]})]})]}),E.jsxs("div",{className:"flex-1 p-4 md:p-8 flex flex-col items-center overflow-y-auto",children:[s==="PREP"&&E.jsxs("div",{className:"w-full max-w-2xl space-y-6 md:space-y-8",children:[E.jsxs("div",{className:"flex justify-between items-center bg-[#4e342e] p-4 rounded-2xl",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[c==="Sunny"?E.jsx(sL,{className:"text-yellow-500"}):c==="Rainy"?E.jsx(h9,{className:"text-blue-400"}):E.jsx(d9,{className:"text-gray-400"}),E.jsxs("span",{className:"font-bold text-sm md:text-base",children:[c," Forecast"]})]}),E.jsx("div",{className:"text-xs md:text-sm opacity-70",children:"Tip: Rain boosts demand!"})]}),E.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[E.jsxs("div",{className:"bg-[#5d4037] p-4 rounded-xl text-center",children:[E.jsx("div",{className:"text-3xl mb-2",children:""}),E.jsxs("div",{className:"font-bold mb-1 text-sm md:text-base",children:["Beans: ",x.beans]}),E.jsx("button",{onClick:()=>y("beans",5,10),className:"w-full bg-[#8d6e63] hover:bg-[#a1887f] py-2 rounded font-bold text-xs",children:"Buy 10 ($5)"})]}),E.jsxs("div",{className:"bg-[#5d4037] p-4 rounded-xl text-center",children:[E.jsx("div",{className:"text-3xl mb-2",children:""}),E.jsxs("div",{className:"font-bold mb-1 text-sm md:text-base",children:["Milk: ",x.milk]}),E.jsx("button",{onClick:()=>y("milk",3,10),className:"w-full bg-[#8d6e63] hover:bg-[#a1887f] py-2 rounded font-bold text-xs",children:"Buy 10 ($3)"})]}),E.jsxs("div",{className:"bg-[#5d4037] p-4 rounded-xl text-center col-span-2 md:col-span-1",children:[E.jsx("div",{className:"text-3xl mb-2",children:""}),E.jsxs("div",{className:"font-bold mb-1 text-sm md:text-base",children:["Cups: ",x.cups]}),E.jsx("button",{onClick:()=>y("cups",2,20),className:"w-full bg-[#8d6e63] hover:bg-[#a1887f] py-2 rounded font-bold text-xs",children:"Buy 20 ($2)"})]})]}),E.jsxs("div",{className:"bg-[#4e342e] p-6 rounded-2xl space-y-4",children:[E.jsxs("div",{children:[E.jsxs("div",{className:"flex justify-between mb-1 text-sm font-bold",children:["Price: $",a.price]}),E.jsx("input",{type:"range",min:"1",max:"8",step:"0.5",value:a.price,onChange:b=>p({...a,price:parseFloat(b.target.value)}),className:"w-full accent-[#d7ccc8]"})]}),E.jsxs("div",{children:[E.jsxs("div",{className:"flex justify-between mb-1 text-sm font-bold",children:["Roast Strength: ",a.roast]}),E.jsx("input",{type:"range",min:"1",max:"10",value:a.roast,onChange:b=>p({...a,roast:parseInt(b.target.value)}),className:"w-full accent-[#d7ccc8]"})]})]}),E.jsx("button",{onClick:C,className:"w-full py-4 bg-[#8d6e63] hover:bg-[#a1887f] text-white font-black text-xl rounded-2xl shadow-lg mb-8",children:"Start Brewing"})]}),s==="BREW"&&E.jsxs("div",{className:"text-center my-auto",children:[E.jsx("div",{className:"text-9xl mb-8 animate-bounce",children:""}),E.jsx("div",{className:"w-64 h-4 bg-[#4e342e] rounded-full overflow-hidden mx-auto",children:E.jsx("div",{className:"h-full bg-[#d7ccc8] transition-all duration-75",style:{width:`${h}%`}})}),E.jsx("div",{className:"mt-4 font-bold text-xl",children:"Serving Customers..."})]}),s==="RESULT"&&E.jsxs("div",{className:"text-center space-y-6 my-auto w-full max-w-md",children:[E.jsx("h2",{className:"text-3xl md:text-4xl font-black",children:"Day Complete!"}),E.jsxs("div",{className:"grid grid-cols-2 gap-4 text-left bg-[#4e342e] p-6 rounded-2xl",children:[E.jsx("div",{children:"Sold:"}),E.jsxs("div",{className:"font-black text-right",children:[g.sold," Cups"]}),E.jsx("div",{children:"Revenue:"}),E.jsxs("div",{className:"font-black text-right text-green-400",children:["$",g.revenue.toFixed(2)]}),E.jsx("div",{children:"Tips:"}),E.jsxs("div",{className:"font-black text-right text-yellow-400",children:["$",g.tips.toFixed(2)]}),E.jsx("div",{className:"pt-2 border-t border-[#5d4037]",children:"Total:"}),E.jsxs("div",{className:"pt-2 border-t border-[#5d4037] font-black text-right text-xl",children:["$",(g.revenue+g.tips).toFixed(2)]})]}),E.jsxs("div",{className:"flex gap-4 justify-center",children:[E.jsx("button",{onClick:t,className:"px-6 py-3 rounded-xl border border-[#a1887f] hover:bg-[#4e342e]",children:"Leave"}),E.jsx("button",{onClick:()=>{m("PREP"),r(b=>b+g.revenue+g.tips)},className:"px-6 py-3 rounded-xl bg-[#8d6e63] hover:bg-[#a1887f] font-black text-white",children:"Next Day"})]})]})]})]})},oie=({config:t,onExit:e})=>{var W,Z;const{user:n,completeGame:s,getSkillModifiers:m}=Mt(),w=t.business_id,[r,x]=de.useState(1),[i,a]=de.useState(100),[p,c]=de.useState("STRATEGY"),[o,u]=de.useState({}),[l,d]=de.useState([]),[f,h]=de.useState(0),[A,g]=de.useState({}),[v,y]=de.useState(null),[C,b]=de.useState(!1),T=de.useRef(null),S=de.useCallback(()=>!n||!w?null:`kidcap_save_${n.id}_${w}`,[n,w]),F=de.useCallback(()=>{var H,V;const j=S();if(!j)return!1;try{const k=localStorage.getItem(j);if(!k)return!1;const X=JSON.parse(k);if(typeof X.day!="number"||typeof X.funds!="number")return!1;x(X.day),a(X.funds),d(X.upgrades||[]);const Q={};return(V=(H=t.variables)==null?void 0:H.player_inputs)==null||V.forEach(J=>{var _;const $=String(J);Q[$]=typeof((_=X.sliderValues)==null?void 0:_[$])=="number"?X.sliderValues[$]:50}),u(Q),!0}catch(k){return console.error("Load failed:",k),!1}},[S,t]),B=de.useCallback(()=>{const j=S();if(!j)return;const H={day:r,funds:i,upgrades:l,sliderValues:o,timestamp:Date.now()};try{localStorage.setItem(j,JSON.stringify(H)),b(!0),setTimeout(()=>b(!1),1e3)}catch(V){console.error("Save failed:",V)}},[r,i,l,o,S]);de.useEffect(()=>{var H,V;if(!F()){const k={};(V=(H=t.variables)==null?void 0:H.player_inputs)==null||V.forEach(X=>{k[String(X)]=50}),u(k)}},[t,F]),de.useEffect(()=>{if(!(r===1&&i===100&&l.length===0))return T.current&&clearTimeout(T.current),T.current=setTimeout(B,1e3),()=>{T.current&&clearTimeout(T.current)}},[r,i,l,o,B]);const N=()=>{var V,k;if(!window.confirm("Restart this business? You will lose all progress."))return;const j=S();j&&localStorage.removeItem(j),x(1),a(100),d([]);const H={};(k=(V=t.variables)==null?void 0:V.player_inputs)==null||k.forEach(X=>{H[String(X)]=50}),u(H),c("STRATEGY")},L=()=>{B();const j=Math.min(200,Math.floor(i*.2));s(i,j),e()},R=()=>{var J,$;c("SIMULATION"),h(0);const j=m(),H=Math.random();let V=1,k=null;H>.8&&((J=t.event_triggers)!=null&&J.positive)?(V=1.5,k=t.event_triggers.positive.event_name):H<.2&&(($=t.event_triggers)!=null&&$.negative)&&(V=.6,k=t.event_triggers.negative.event_name),y(k);let X=0;const Q=setInterval(()=>{X+=2,h(X),X>=100&&(clearInterval(Q),I(V,j))},50)},I=(j,H)=>{const V=Object.values(o),Q=60+(V.length>0?V.reduce((ue,re)=>ue+re,0)/V.length:50)/100*40,J=j>1?1.1:j<1?.9:1,$=Math.min(100,Math.round(Q*J)),_=20*(1+l.length*.2),te=Math.floor(_*j*($/100)),se=Math.floor(te*5*H.priceMultiplier),ce=Math.floor((te*2+10)*H.costMultiplier),ge=se-ce;g({revenue:se,expenses:ce,profit:ge,customers:te,satisfaction:$}),a(ue=>Math.max(0,ue+ge)),c("RESULT")},M=j=>{i>=j.cost&&!l.includes(j.id)&&(a(H=>H-j.cost),d([...l,j.id]))},P=t.visual_config||{colors:{primary:"#FFC800",background:"#FFF"}},U=j=>typeof j=="string"||typeof j=="number"?j:JSON.stringify(j),z=Array.isArray(t.upgrade_tree)?t.upgrade_tree:[];return E.jsxs("div",{className:"h-full flex flex-col",style:{backgroundColor:P.colors.background},children:[E.jsxs("div",{className:"p-4 flex justify-between items-center shadow-sm bg-white/50 backdrop-blur-sm",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsxs("div",{className:"font-bold text-gray-600 flex items-center gap-2",children:["Day ",r,E.jsx(an,{children:C&&E.jsx(ot.span,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-green-500 text-xs flex items-center gap-1",children:E.jsx(Zv,{size:12})})})]}),E.jsx("button",{onClick:N,className:"text-gray-400 hover:text-red-500 transition-colors p-1",title:"Reset Business",children:E.jsx(kn,{size:16})})]}),E.jsxs("div",{className:"bg-green-100 text-green-800 px-4 py-2 rounded-xl font-black font-mono text-xl",children:["$",i]})]}),E.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:E.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[p==="STRATEGY"&&E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[E.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm",children:[E.jsxs("h3",{className:"font-black text-xl mb-4 flex items-center gap-2",children:[E.jsx(zA,{size:20})," Strategy"]}),E.jsx("div",{className:"space-y-6",children:(Z=(W=t.variables)==null?void 0:W.player_inputs)==null?void 0:Z.map(j=>{const H=String(j);return E.jsxs("div",{children:[E.jsxs("div",{className:"flex justify-between mb-2 font-bold text-gray-600 text-xs uppercase tracking-widest",children:[H.replace(/_/g," "),E.jsxs("span",{children:[o[H]||50,"%"]})]}),E.jsx("input",{type:"range",className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer",style:{accentColor:P.colors.primary},value:o[H]||50,onChange:V=>u({...o,[H]:parseInt(V.target.value)})})]},H)})})]}),E.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm",children:[E.jsxs("h3",{className:"font-black text-xl mb-4 flex items-center gap-2",children:[E.jsx(k7,{size:20})," Shop"]}),E.jsxs("div",{className:"space-y-3",children:[z.length===0&&E.jsx("div",{className:"text-gray-400 text-sm",children:"No upgrades available."}),z.map(j=>{const H=l.includes(j.id);return E.jsxs("button",{disabled:H||i<j.cost,onClick:()=>M(j),className:`w-full p-3 rounded-xl border-2 text-left flex justify-between items-center transition-all
                                                ${H?"bg-green-50 border-green-200 opacity-70":i>=j.cost?"bg-white border-gray-100 hover:border-blue-300":"bg-gray-50 border-gray-100 opacity-50 cursor-not-allowed"}
                                            `,children:[E.jsxs("div",{children:[E.jsx("div",{className:"font-bold text-sm text-gray-800",children:U(j.name)}),E.jsx("div",{className:"text-xs text-gray-400",children:U(j.effect)})]}),H?E.jsx(Jv,{size:16,className:"text-green-500"}):E.jsxs("span",{className:"font-mono font-bold text-sm",children:["$",j.cost]})]},j.id)})]})]})]}),p==="SIMULATION"&&E.jsxs("div",{className:"text-center py-20",children:[E.jsx("h3",{className:"text-2xl font-black text-gray-400 animate-pulse mb-8",children:"Simulating Day..."}),E.jsx("div",{className:"w-full h-4 bg-gray-200 rounded-full overflow-hidden mb-8",children:E.jsx(ot.div,{className:"h-full bg-blue-500",style:{width:`${f}%`}})}),v&&E.jsxs(ot.div,{initial:{scale:0},animate:{scale:1},className:"inline-flex items-center gap-2 bg-yellow-100 text-yellow-800 px-6 py-3 rounded-full font-bold",children:[E.jsx(qv,{size:20})," ",v]})]}),p==="RESULT"&&E.jsxs("div",{className:"text-center py-10",children:[E.jsx("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest mb-2",children:"Results"}),E.jsxs("div",{className:`text-6xl font-black mb-2 ${A.profit>=0?"text-green-500":"text-red-500"}`,children:[A.profit>=0?"+":"-","$",Math.abs(A.profit)]}),E.jsxs("div",{className:"grid grid-cols-3 gap-4 max-w-lg mx-auto mt-8",children:[E.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm",children:[E.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase",children:"Customers"}),E.jsx("div",{className:"text-xl font-black text-blue-600",children:A.customers})]}),E.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm",children:[E.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase",children:"Revenue"}),E.jsxs("div",{className:"text-xl font-black text-green-600",children:["$",A.revenue]})]}),E.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm",children:[E.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase",children:"Expenses"}),E.jsxs("div",{className:"text-xl font-black text-red-600",children:["$",A.expenses]})]})]})]})]})}),E.jsxs("div",{className:"p-4 bg-white border-t border-gray-100 flex justify-between",children:[E.jsx("button",{onClick:L,className:"font-bold text-gray-400 hover:text-gray-600 px-4",children:"Save & Exit"}),p==="STRATEGY"&&E.jsxs("button",{onClick:R,className:"bg-kid-primary text-yellow-900 px-8 py-3 rounded-xl font-black shadow-[0_4px_0_0_rgba(202,138,4,1)] btn-juicy hover:bg-yellow-400 flex items-center gap-2",children:[E.jsx(QA,{fill:"currentColor",size:18})," Start Day"]}),p==="RESULT"&&E.jsxs("button",{onClick:()=>{x(j=>j+1),c("STRATEGY")},className:"bg-kid-secondary text-white px-8 py-3 rounded-xl font-black shadow-[0_4px_0_0_rgba(21,128,61,1)] btn-juicy hover:bg-green-600 flex items-center gap-2",children:[E.jsx(jA,{size:18})," Next Day"]})]})]})},lie=({config:t,onExit:e})=>{var h,A;const{completeGame:n}=Mt(),[s,m]=de.useState(0),[w,r]=de.useState(((h=t.game_mechanics)==null?void 0:h.click_value)||1),[x,i]=de.useState(((A=t.game_mechanics)==null?void 0:A.auto_click_rate)||0),[a,p]=de.useState([]),c=()=>{const g=Math.floor(s/10),v=Math.floor(s/20);n(g,v),e()};de.useEffect(()=>{if(x<=0)return;const g=setInterval(()=>{m(v=>v+x)},1e3);return()=>clearInterval(g)},[x]);const o=()=>{m(g=>g+w)},u=g=>{s>=g.cost&&(m(v=>v-g.cost),p([...a,g.id]),g.modifier_target==="click_value"&&r(v=>v+(g.modifier_value||0)),g.modifier_target==="auto_click_rate"&&i(v=>v+(g.modifier_value||0)))},l=t.visual_config||{colors:{secondary:"#1E3A8A",background:"#0F172A"},icon:""},d=g=>typeof g=="string"||typeof g=="number"?g:JSON.stringify(g),f=Array.isArray(t.upgrade_tree)?t.upgrade_tree:[];return E.jsxs("div",{className:"h-full flex flex-col text-white",style:{backgroundColor:l.colors.background},children:[E.jsx("div",{className:"absolute top-4 right-4 z-20",children:E.jsxs("button",{onClick:c,className:"bg-white/10 hover:bg-white/20 px-4 py-2 rounded-lg font-bold flex items-center gap-2 text-sm",children:[E.jsx(tL,{size:16})," Save & Exit"]})}),E.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center relative overflow-hidden",children:[E.jsx(ot.button,{whileTap:{scale:.9},onClick:o,className:"w-64 h-64 rounded-full flex items-center justify-center text-8xl shadow-[0_0_50px_rgba(255,255,255,0.2)] border-8 border-white/10 relative z-10",style:{backgroundColor:l.colors.secondary},children:l.icon||""}),E.jsxs("div",{className:"mt-12 text-center",children:[E.jsx("h2",{className:"text-6xl font-black mb-2",children:Math.floor(s)}),E.jsx("p",{className:"text-white/50 font-bold uppercase tracking-widest text-sm",children:"Lines of Code / Assets"}),E.jsxs("div",{className:"flex justify-center gap-6 mt-4 text-sm font-bold text-white/70",children:[E.jsxs("span",{className:"flex items-center gap-1",children:[E.jsx(d7,{size:14})," ",w," / click"]}),E.jsxs("span",{className:"flex items-center gap-1",children:[E.jsx(gs,{size:14})," ",x," / sec"]})]})]})]}),E.jsxs("div",{className:"h-1/3 bg-white/5 border-t border-white/10 p-6 overflow-y-auto",children:[E.jsx("h3",{className:"font-bold text-white/80 mb-4 uppercase text-xs tracking-widest",children:"Available Upgrades"}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[f.length===0&&E.jsx("div",{className:"text-white/30 text-sm",children:"No upgrades configured."}),f.map(g=>E.jsxs("button",{disabled:s<g.cost,onClick:()=>u(g),className:`p-4 rounded-xl border border-white/10 text-left transition-all
                            ${s>=g.cost?"bg-white/10 hover:bg-white/20":"opacity-50 cursor-not-allowed"}
                        `,children:[E.jsxs("div",{className:"flex justify-between items-start mb-1",children:[E.jsx("span",{className:"font-bold",children:d(g.name)}),E.jsx("span",{className:"bg-white/20 px-2 py-0.5 rounded text-xs font-mono",children:g.cost})]}),E.jsx("div",{className:"text-xs text-white/50",children:d(g.effect)})]},g.id))]})]})]})},uie=({config:t,onExit:e})=>{var o,u,l,d,f,h;const{completeGame:n}=Mt(),[s,m]=de.useState(0),[w,r]=de.useState(null),x=Array.isArray(t.entities)?t.entities.filter(A=>A.type==="item"):[];de.useEffect(()=>{a()},[]);const i=()=>{n(s,Math.floor(s*.4)),e()},a=()=>{if(x.length===0)return;const A=x[Math.floor(Math.random()*x.length)];r({...A,key:Math.random()})},p=A=>{if(x.length<3)return;const g=x.findIndex(y=>y.id===(w==null?void 0:w.id));let v=!1;A==="left"&&g===0&&(v=!0),A==="down"&&g===1&&(v=!0),A==="right"&&g===2&&(v=!0),m(v?y=>y+10:y=>Math.max(0,y-5)),a()},c=t.visual_config||{colors:{primary:"#22C55E",background:"#F0FDF4"}};return x.length<3?E.jsxs("div",{className:"h-full flex items-center justify-center text-gray-500 font-bold p-8 text-center",children:["Game Configuration Error: Sorting games require at least 3 'item' entities.",E.jsx("button",{onClick:e,className:"mt-4 bg-gray-200 px-4 py-2 rounded",children:"Exit"})]}):E.jsxs("div",{className:"h-full flex flex-col items-center justify-center relative",style:{backgroundColor:c.colors.background},children:[E.jsxs("div",{className:"absolute top-4 left-4 font-black text-2xl",style:{color:c.colors.primary},children:["Score: ",s]}),E.jsx("button",{onClick:i,className:"absolute top-4 right-4 text-gray-400 font-bold hover:text-gray-600",children:"Save & Exit"}),E.jsx("div",{className:"flex-1 flex items-center justify-center w-full max-w-lg relative",children:E.jsx(an,{mode:"wait",children:w&&E.jsx(ot.div,{initial:{y:-200,opacity:0},animate:{y:0,opacity:1},exit:{scale:0,opacity:0},className:"text-9xl cursor-grab active:cursor-grabbing",children:w.emoji},w.key)})}),E.jsxs("div",{className:"w-full max-w-2xl grid grid-cols-3 gap-4 p-8",children:[E.jsxs("button",{onClick:()=>p("left"),className:"h-32 rounded-3xl bg-blue-100 border-4 border-blue-300 flex flex-col items-center justify-center hover:bg-blue-200 transition-colors",children:[E.jsx("span",{className:"text-4xl mb-2",children:(o=x[0])==null?void 0:o.emoji}),E.jsx("span",{className:"font-bold text-blue-800",children:(u=x[0])==null?void 0:u.name})]}),E.jsxs("button",{onClick:()=>p("down"),className:"h-32 rounded-3xl bg-yellow-100 border-4 border-yellow-300 flex flex-col items-center justify-center hover:bg-yellow-200 transition-colors",children:[E.jsx("span",{className:"text-4xl mb-2",children:(l=x[1])==null?void 0:l.emoji}),E.jsx("span",{className:"font-bold text-yellow-800",children:(d=x[1])==null?void 0:d.name})]}),E.jsxs("button",{onClick:()=>p("right"),className:"h-32 rounded-3xl bg-green-100 border-4 border-green-300 flex flex-col items-center justify-center hover:bg-green-200 transition-colors",children:[E.jsx("span",{className:"text-4xl mb-2",children:(f=x[2])==null?void 0:f.emoji}),E.jsx("span",{className:"font-bold text-green-800",children:(h=x[2])==null?void 0:h.name})]})]})]})},ds=10,hie=({config:t,onExit:e})=>{var g,v,y,C,b;const{completeGame:n}=Mt(),[s,m]=de.useState({x:0,y:0}),[w,r]=de.useState({x:5,y:5}),[x,i]=de.useState(0),[a,p]=de.useState(((g=t.scoring)==null?void 0:g.time_limit)||30),[c,o]=de.useState(!1),u=t.visual_config||{colors:{primary:"#3B82F6",background:"#F3F4F6"}},l=((y=(v=t.entities)==null?void 0:v.find(T=>T.type==="resource"))==null?void 0:y.emoji)||"",d=((b=(C=t.entities)==null?void 0:C.find(T=>T.type==="target"))==null?void 0:b.emoji)||"",f=()=>{n(x,Math.floor(x*.5)),e()};de.useEffect(()=>{if(c)return;const T=setInterval(()=>{p(S=>S<=1?(o(!0),0):S-1)},1e3);return()=>clearInterval(T)},[c]);const h=()=>{let T,S;do T=Math.floor(Math.random()*ds),S=Math.floor(Math.random()*ds);while(T===s.x&&S===s.y);r({x:T,y:S})},A=(T,S)=>{c||m(F=>{const B=Math.max(0,Math.min(ds-1,F.x+T)),N=Math.max(0,Math.min(ds-1,F.y+S));return B===w.x&&N===w.y&&(i(L=>{var R;return L+(((R=t.scoring)==null?void 0:R.base_points)||10)}),p(L=>L+5),setTimeout(h,0)),{x:B,y:N}})};return de.useEffect(()=>{const T=S=>{S.key==="ArrowUp"&&A(0,-1),S.key==="ArrowDown"&&A(0,1),S.key==="ArrowLeft"&&A(-1,0),S.key==="ArrowRight"&&A(1,0)};return window.addEventListener("keydown",T),()=>window.removeEventListener("keydown",T)},[s,w,c]),E.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-4",style:{backgroundColor:u.colors.background},children:[E.jsxs("div",{className:"w-full max-w-md flex justify-between items-center mb-6",children:[E.jsxs("div",{className:"font-black text-2xl",style:{color:u.colors.primary},children:["Score: ",x]}),E.jsxs("div",{className:`px-4 py-1 rounded-full font-black text-white ${a<10?"bg-red-500 animate-pulse":"bg-gray-800"}`,children:[a,"s"]})]}),E.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl overflow-hidden",style:{width:"min(90vw, 400px)",height:"min(90vw, 400px)"},children:[E.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-20",style:{backgroundImage:"linear-gradient(#000 1px, transparent 1px), linear-gradient(90deg, #000 1px, transparent 1px)",backgroundSize:`${100/ds}% ${100/ds}%`}}),E.jsx("div",{className:"absolute flex items-center justify-center text-3xl transition-all duration-300",style:{width:`${100/ds}%`,height:`${100/ds}%`,left:`${w.x*(100/ds)}%`,top:`${w.y*(100/ds)}%`},children:d}),E.jsx("div",{className:"absolute flex items-center justify-center text-3xl transition-all duration-150",style:{width:`${100/ds}%`,height:`${100/ds}%`,left:`${s.x*(100/ds)}%`,top:`${s.y*(100/ds)}%`},children:l}),c&&E.jsxs("div",{className:"absolute inset-0 bg-black/80 flex flex-col items-center justify-center text-white backdrop-blur-sm z-20",children:[E.jsx("h3",{className:"text-3xl font-black mb-2 text-yellow-400",children:"Time's Up!"}),E.jsxs("p",{className:"text-xl font-bold mb-6",children:["Final Score: ",x]}),E.jsxs("div",{className:"flex gap-4",children:[E.jsx("button",{onClick:f,className:"bg-gray-700 px-4 py-2 rounded-lg font-bold",children:"Collect Rewards"}),E.jsxs("button",{onClick:()=>{var T;i(0),p(((T=t.scoring)==null?void 0:T.time_limit)||30),o(!1),m({x:0,y:0}),h()},className:"bg-green-500 text-white px-4 py-2 rounded-lg font-bold flex items-center gap-2",children:[E.jsx(jA,{size:18})," Retry"]})]})]})]}),E.jsxs("div",{className:"mt-8 grid grid-cols-3 gap-2",children:[E.jsx("div",{}),E.jsx("button",{onClick:()=>A(0,-1),className:"p-4 bg-gray-200 rounded-xl active:bg-gray-300",children:E.jsx(ID,{})}),E.jsx("div",{}),E.jsx("button",{onClick:()=>A(-1,0),className:"p-4 bg-gray-200 rounded-xl active:bg-gray-300",children:E.jsx(ja,{})}),E.jsx("button",{onClick:()=>A(0,1),className:"p-4 bg-gray-200 rounded-xl active:bg-gray-300",children:E.jsx(BD,{})}),E.jsx("button",{onClick:()=>A(1,0),className:"p-4 bg-gray-200 rounded-xl active:bg-gray-300",children:E.jsx(Qo,{})})]})]})},cie=({config:t,onExit:e})=>{var f;const{completeGame:n}=Mt(),s=t.visual_config||{colors:{primary:"#EC4899",background:"#FDF2F8"}},m=((f=t.entities)==null?void 0:f.filter(h=>h.type==="resource"))||[],[w,r]=de.useState([]),[x,i]=de.useState([]),[a,p]=de.useState(0),[c,o]=de.useState(null);de.useEffect(()=>{l()},[]);const u=()=>{n(a,Math.floor(a*.5)),e()},l=()=>{const h=[];for(let A=0;A<3;A++){const g=m[Math.floor(Math.random()*m.length)];g&&h.push(g.id)}r(h),i([]),o(null)},d=h=>{if(c)return;const A=[...x,h];i(A),A.length===w.length&&(A.every((v,y)=>v===w[y])?(p(v=>{var y;return v+(((y=t.scoring)==null?void 0:y.base_points)||10)}),o("CORRECT"),setTimeout(l,1e3)):(o("WRONG"),setTimeout(()=>{i([]),o(null)},1e3)))};return E.jsxs("div",{className:"h-full flex flex-col items-center p-6",style:{backgroundColor:s.colors.background},children:[E.jsxs("div",{className:"w-full max-w-md flex justify-between items-center mb-8",children:[E.jsxs("div",{className:"font-black text-2xl",style:{color:s.colors.primary},children:["Orders: ",Math.floor(a/10)]}),E.jsx("button",{onClick:u,className:"text-gray-400 font-bold hover:text-gray-600",children:"Save & Exit"})]}),E.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-lg border-4 border-gray-100 mb-12 w-full max-w-md text-center relative",children:[E.jsx("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2 bg-gray-800 text-white px-4 py-1 rounded-full text-xs font-bold uppercase tracking-widest",children:"Current Order"}),E.jsx("div",{className:"flex justify-center gap-4 text-5xl min-h-[60px]",children:w.map((h,A)=>{const g=m.find(v=>v.id===h);return E.jsx("div",{children:g==null?void 0:g.emoji},A)})})]}),E.jsxs("div",{className:"flex-1 w-full max-w-md flex flex-col items-center",children:[E.jsx("div",{className:"flex justify-center gap-4 text-6xl mb-8 min-h-[80px] p-4 bg-white/50 rounded-2xl border-2 border-dashed border-gray-300 w-full",children:E.jsx(an,{children:x.map((h,A)=>{const g=m.find(v=>v.id===h);return E.jsx(ot.div,{initial:{scale:0,y:20},animate:{scale:1,y:0},exit:{scale:0,opacity:0},children:g==null?void 0:g.emoji},`${h}-${A}`)})})}),E.jsx(an,{children:c&&E.jsx(ot.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},exit:{opacity:0},className:`absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 p-8 rounded-full shadow-2xl z-50
                            ${c==="CORRECT"?"bg-green-500 text-white":"bg-red-500 text-white"}
                        `,children:c==="CORRECT"?E.jsx(En,{size:64,strokeWidth:4}):E.jsx(qn,{size:64,strokeWidth:4})})}),E.jsx("div",{className:"grid grid-cols-3 gap-4 w-full",children:m.map(h=>E.jsxs("button",{onClick:()=>d(h.id),className:"bg-white p-4 rounded-2xl shadow-sm border-b-4 border-gray-200 hover:border-gray-300 active:border-t-4 active:border-b-0 transition-all flex flex-col items-center gap-2",children:[E.jsx("span",{className:"text-4xl",children:h.emoji}),E.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase",children:h.name})]},h.id))})]})]})},die=({config:t,onExit:e})=>{var v;const{completeGame:n}=Mt(),s=t.visual_config||{colors:{background:"#EFF6FF"}},[m,w]=de.useState(0),[r,x]=de.useState(0),[i,a]=de.useState([[],[],[]]),[p,c]=de.useState(null),o=de.useRef(0),u=de.useRef(0),l=((v=t.game_mechanics)==null?void 0:v.spawn_rate)||1500,d=2,f=400,h=50,A=()=>{n(Math.floor(m),Math.floor(m*.2)),e()};de.useEffect(()=>{const y=C=>{var b;if(C-u.current>l){const T=Math.floor(Math.random()*3),S=((b=t.entities)==null?void 0:b[0])||{emoji:""};a(F=>{const B=F.map(N=>[...N]);return B[T].push({...S,id:Math.random(),y:-50}),B}),u.current=C}a(T=>T.map(S=>S.map(F=>({...F,y:F.y+d})).filter(F=>F.y<600))),o.current=requestAnimationFrame(y)};return o.current=requestAnimationFrame(y),()=>{o.current&&cancelAnimationFrame(o.current)}},[l,t.entities]);const g=y=>{const C=i[y],b=C.findIndex(T=>Math.abs(T.y-f)<h);if(b!==-1){const T=C[b],S=Math.abs(T.y-f);let F=10,B="Good";S<10?(F=50,B="PERFECT!"):S<30&&(F=25,B="Great!"),w(N=>N+F*(1+Math.floor(r/5)*.1)),x(N=>N+1),c(B),setTimeout(()=>c(null),500),a(N=>{const L=N.map(R=>[...R]);return L[y].splice(b,1),L})}else x(0),c("MISS"),setTimeout(()=>c(null),500)};return E.jsxs("div",{className:"h-full flex flex-col items-center relative overflow-hidden",style:{backgroundColor:s.colors.background},children:[E.jsxs("div",{className:"absolute top-4 left-4 z-20",children:[E.jsx("div",{className:"font-black text-4xl text-gray-800",children:Math.floor(m)}),E.jsxs("div",{className:"text-sm font-bold text-gray-400",children:["Combo x",r]})]}),E.jsx("button",{onClick:A,className:"absolute top-4 right-4 z-20 bg-white/50 px-4 py-2 rounded-lg font-bold hover:bg-white/80",children:"Save & Exit"}),E.jsxs("div",{className:"relative w-full max-w-md h-full bg-white/50 border-x-4 border-gray-200 grid grid-cols-3",children:[E.jsx("div",{className:"absolute w-full h-2 bg-gray-300 z-0",style:{top:f}}),E.jsx("div",{className:"absolute w-full h-16 bg-blue-500/10 z-0 border-y-2 border-blue-500/30",style:{top:f-h/2}}),[0,1,2].map(y=>E.jsxs("div",{className:"relative h-full border-r border-gray-100 last:border-r-0 flex justify-center",children:[i[y].map(C=>E.jsx("div",{className:"absolute text-4xl drop-shadow-md",style:{top:C.y},children:C.emoji},C.id)),E.jsx("button",{className:"absolute bottom-10 w-20 h-20 rounded-full border-4 border-gray-300 active:bg-blue-200 active:border-blue-500 active:scale-95 transition-all flex items-center justify-center bg-white shadow-lg z-10",onClick:()=>g(y),children:E.jsx(Z7,{className:"text-gray-400"})})]},y))]}),E.jsx(an,{children:p&&E.jsx(ot.div,{initial:{scale:.5,opacity:0,y:f},animate:{scale:1.5,opacity:1,y:f-50},exit:{opacity:0},className:`absolute z-30 font-black text-4xl uppercase tracking-widest drop-shadow-lg
                        ${p==="MISS"?"text-red-500":"text-yellow-500"}
                    `,style:{top:0},children:p})})]})},b2=1e3,Aie=.2,dB=b2*(1-Aie),fie=({onExit:t})=>{const{completeGame:e,user:n}=Mt(),[s,m]=de.useState("START"),[w,r]=de.useState(b2),[x,i]=de.useState(100),[a,p]=de.useState("PLAYER"),[c,o]=de.useState(["Supplier: The price is $1,000. Take it or leave it."]),[u,l]=de.useState(!0);de.useEffect(()=>{if(s==="PLAYING"&&a==="SUPPLIER"){const g=setTimeout(()=>{h()},1500);return()=>clearTimeout(g)}},[a,s]),de.useEffect(()=>{s==="PLAYING"&&(w<=dB?(m("WON"),e(200,100)):x<=0&&m("LOST"))},[w,x,s]);const d=g=>{o(v=>[g,...v].slice(0,5))},f=g=>{if(a==="PLAYER"){switch(g){case"LOWBALL":if(Math.random()>.4){const b=Math.floor(Math.random()*50)+30;r(T=>T-b),i(T=>Math.max(0,T-15)),d(`You: "That's way too high! How about $${w-b}?"`)}else i(b=>Math.max(0,b-25)),d('You: "Your prices are a joke!" (Supplier looks angry)');break;case"FLATTER":i(b=>Math.min(100,b+20)),d(`You: "I've heard your quality is the best in the market."`);break;case"FACTS":const y=Math.floor(Math.random()*20)+10;r(b=>b-y),i(b=>Math.max(0,b-5)),d('You: "Competitor X sells this for less..."');break;case"WALK":Math.random()>.6?(r(T=>T-150),d(`You: "I'm leaving." (Supplier panics: "Wait! $${w-150}!")`)):(i(0),d(`You: "I'm leaving." (Supplier: "Goodbye then.")`));break}p("SUPPLIER")}},h=()=>{x>70?d("Supplier: I'm listening, but I have a business to run."):x>30?d("Supplier: You're pushing your luck, kid."):d("Supplier: I'm about to kick you out of my office."),p("PLAYER")},A=()=>{m("PLAYING"),l(!1)};return E.jsxs("div",{className:"h-full bg-slate-900 text-white flex flex-col relative overflow-hidden font-sans",children:[E.jsx("div",{className:"absolute inset-0 opacity-10 pointer-events-none",style:{backgroundImage:"radial-gradient(#F59E0B 1px, transparent 1px)",backgroundSize:"30px 30px"}}),u&&E.jsx(qA,{onStart:A,title:"Negotiation Battle",description:"You are in the boardroom. The Supplier wants $1,000. You need to get the price under $800 before they lose patience!",icon:"",color:"bg-slate-800",instructions:["Lower the price to $800 to win.","Watch the Patience meter! If it hits 0, you lose.","Use 'Flatter' to restore patience.","Use 'Lowball' for big price drops (Risk!)"]}),E.jsxs("div",{className:"p-6 bg-slate-800 border-b border-slate-700 flex justify-between items-center shadow-lg relative z-10",children:[E.jsx("button",{onClick:t,className:"text-slate-400 hover:text-white transition-colors",children:E.jsx(ja,{size:24})}),E.jsxs("div",{className:"flex flex-col items-center",children:[E.jsx("h2",{className:"text-2xl font-black text-yellow-500 tracking-wider",children:"NEGOTIATION"}),E.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase",children:"Tycoon Exclusive"})]}),E.jsx("div",{className:"w-8"})," "]}),E.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-6 relative z-10 max-w-2xl mx-auto w-full",children:[E.jsxs("div",{className:"w-full bg-slate-800 rounded-3xl p-6 border-2 border-slate-600 shadow-2xl mb-8 relative",children:[E.jsx("div",{className:"absolute -top-10 left-1/2 -translate-x-1/2 w-20 h-20 bg-slate-700 rounded-full border-4 border-slate-600 flex items-center justify-center text-4xl shadow-lg",children:""}),E.jsxs("div",{className:"mt-8 text-center space-y-4",children:[E.jsx("h3",{className:"font-bold text-xl",children:"Tough Supplier"}),E.jsxs("div",{className:"relative pt-2",children:[E.jsxs("div",{className:"flex justify-between text-xs font-bold text-slate-400 mb-1 uppercase",children:[E.jsx("span",{children:"Patience"}),E.jsxs("span",{children:[x,"%"]})]}),E.jsx("div",{className:"h-4 bg-slate-900 rounded-full overflow-hidden border border-slate-700",children:E.jsx(ot.div,{initial:{width:"100%"},animate:{width:`${x}%`,backgroundColor:x<30?"#EF4444":x<60?"#EAB308":"#22C55E"},className:"h-full transition-all duration-500"})})]}),E.jsx("div",{className:"bg-slate-900/50 p-4 rounded-xl h-24 overflow-hidden flex flex-col justify-end text-sm font-medium text-slate-300 border border-slate-700/50 text-left",children:E.jsx(an,{mode:"popLayout",children:c.map((g,v)=>E.jsx(ot.div,{initial:{opacity:0,x:-10},animate:{opacity:v===0?1:.6,x:0},className:"truncate",children:g},v))})})]})]}),E.jsxs("div",{className:"mb-8 text-center",children:[E.jsx("div",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest mb-1",children:"Current Price"}),E.jsxs("div",{className:"text-6xl font-black text-white font-mono",children:["$",w]}),E.jsxs("div",{className:"text-xs font-bold text-green-400 mt-2",children:["Target: $",dB]})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4 w-full",children:[E.jsxs("button",{disabled:a!=="PLAYER"||s!=="PLAYING",onClick:()=>f("LOWBALL"),className:"bg-red-900/50 border-2 border-red-700 hover:bg-red-900 text-red-100 p-4 rounded-2xl font-bold flex flex-col items-center gap-1 disabled:opacity-50 transition-all active:scale-95",children:[E.jsx(q7,{size:24}),E.jsx("span",{children:"Lowball"}),E.jsx("span",{className:"text-[10px] opacity-70 uppercase",children:"High Risk"})]}),E.jsxs("button",{disabled:a!=="PLAYER"||s!=="PLAYING",onClick:()=>f("FACTS"),className:"bg-blue-900/50 border-2 border-blue-700 hover:bg-blue-900 text-blue-100 p-4 rounded-2xl font-bold flex flex-col items-center gap-1 disabled:opacity-50 transition-all active:scale-95",children:[E.jsx(Kh,{size:24}),E.jsx("span",{children:"State Facts"}),E.jsx("span",{className:"text-[10px] opacity-70 uppercase",children:"Safe Drop"})]}),E.jsxs("button",{disabled:a!=="PLAYER"||s!=="PLAYING",onClick:()=>f("FLATTER"),className:"bg-green-900/50 border-2 border-green-700 hover:bg-green-900 text-green-100 p-4 rounded-2xl font-bold flex flex-col items-center gap-1 disabled:opacity-50 transition-all active:scale-95",children:[E.jsx(eO,{size:24}),E.jsx("span",{children:"Flatter"}),E.jsx("span",{className:"text-[10px] opacity-70 uppercase",children:"+ Patience"})]}),E.jsxs("button",{disabled:a!=="PLAYER"||s!=="PLAYING",onClick:()=>f("WALK"),className:"bg-slate-700 border-2 border-slate-500 hover:bg-slate-600 text-white p-4 rounded-2xl font-bold flex flex-col items-center gap-1 disabled:opacity-50 transition-all active:scale-95",children:[E.jsx(a7,{size:24}),E.jsx("span",{children:"Walk Away"}),E.jsx("span",{className:"text-[10px] opacity-70 uppercase",children:"All or Nothing"})]})]})]}),s==="WON"&&E.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center p-8 z-50",children:E.jsxs("div",{className:"bg-slate-800 border-4 border-yellow-500 p-8 rounded-3xl text-center max-w-sm w-full",children:[E.jsx("div",{className:"text-6xl mb-4",children:""}),E.jsx("h2",{className:"text-3xl font-black text-white mb-2",children:"Deal Closed!"}),E.jsxs("p",{className:"text-slate-300 font-bold mb-6",children:["You secured the price of $",w,"."]}),E.jsx("button",{onClick:t,className:"w-full bg-yellow-500 hover:bg-yellow-400 text-black font-black py-4 rounded-xl",children:"Collect Commission"})]})}),s==="LOST"&&E.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center p-8 z-50",children:E.jsxs("div",{className:"bg-slate-800 border-4 border-red-500 p-8 rounded-3xl text-center max-w-sm w-full",children:[E.jsx("div",{className:"text-6xl mb-4",children:""}),E.jsx("h2",{className:"text-3xl font-black text-white mb-2",children:"Deal Failed"}),E.jsx("p",{className:"text-slate-300 font-bold mb-6",children:"The supplier kicked you out."}),E.jsxs("button",{onClick:()=>{m("START"),r(b2),i(100),o(["Supplier: Let's try this again. $1,000."]),l(!1),m("PLAYING")},className:"w-full bg-red-600 hover:bg-red-500 text-white font-black py-4 rounded-xl flex items-center justify-center gap-2",children:[E.jsx(jA,{size:20})," Try Again"]}),E.jsx("button",{onClick:t,className:"mt-4 text-slate-400 font-bold hover:text-white",children:"Exit"})]})})]})},lI=({gameId:t,onExit:e,previewConfig:n})=>{var a,p;const{games:s}=Mt(),[m,w]=de.useState(!0),r=n||s.find(c=>c.business_id===t);if(!r)return E.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-100 dark:bg-gray-900 text-gray-500 dark:text-gray-400 relative z-[100]",children:[E.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Game Not Found"}),E.jsx("button",{onClick:e,className:"bg-gray-800 dark:bg-gray-700 text-white px-6 py-2 rounded-xl font-bold",children:"Exit"})]});const x=c=>{switch(c){case"simulation_tycoon":return["Set your strategy sliders before the day starts.","Buy upgrades to attract more customers.","Watch out for random daily events!"];case"clicker_idle":return["Tap the screen to earn points/money.","Buy auto-clickers to earn while idle.","Unlock powerful upgrades to scale up."];case"driving_game":return["Use Arrow Keys (or buttons) to move.","Reach the targets before time runs out.","Avoid obstacles to keep your speed."];case"matching_game":return["Look at the customer's order carefully.","Select the correct ingredients in order.","Be fast to earn bonus points!"];case"rhythm_game":return["Watch the falling notes.","Tap the button when they hit the line.","Keep your combo streak alive!"];case"sorting_game":return["Sort items into the correct bins.","Left, Down, or Right based on the type.","Don't let the trash pile up!"];case"negotiation_game":return["Lower the supplier's price to the target.","Use 'Flatter' to keep their patience up.","Don't let patience hit zero!"];default:return["Play and have fun!"]}},i=()=>{switch(r.game_type){case"simulation_tycoon":return E.jsx(oie,{config:r,onExit:e});case"clicker_idle":return E.jsx(lie,{config:r,onExit:e});case"sorting_game":return E.jsx(uie,{config:r,onExit:e});case"driving_game":return E.jsx(hie,{config:r,onExit:e});case"matching_game":return E.jsx(cie,{config:r,onExit:e});case"rhythm_game":return E.jsx(die,{config:r,onExit:e});case"negotiation_game":return E.jsx(fie,{onExit:e});default:return E.jsxs("div",{className:"text-center p-10",children:[E.jsxs("h2",{className:"text-xl font-bold text-gray-800 dark:text-white",children:["Game Type '",r.game_type,"' Not Implemented Yet"]}),E.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Please check back later."})]})}};return E.jsxs("div",{className:"fixed inset-0 bg-gray-900 z-[100] flex flex-col",children:[m&&E.jsx(qA,{onStart:()=>w(!1),title:r.name,description:r.description,icon:(a=r.visual_config)==null?void 0:a.icon,color:`bg-[${(p=r.visual_config)==null?void 0:p.colors.primary}]`,instructions:x(r.game_type)}),E.jsxs("div",{className:"bg-gray-800 p-4 flex items-center justify-between shadow-md z-10 shrink-0",children:[E.jsxs("div",{className:"flex items-center gap-4 text-white",children:[E.jsx("button",{onClick:e,className:"p-2 bg-red-500 hover:bg-red-600 text-white rounded-full transition-colors shadow-sm shrink-0",children:E.jsx(qn,{size:20})}),E.jsxs("div",{children:[E.jsx("h1",{className:"font-black text-lg",children:r.name}),E.jsx("div",{className:"text-xs text-gray-400 font-bold uppercase tracking-widest",children:r.category})]})]}),E.jsx("button",{onClick:()=>w(!0),className:"px-3 py-1 bg-gray-700 hover:bg-gray-600 rounded text-xs font-bold text-gray-300",children:"? Help"})]}),E.jsx("div",{className:"flex-1 overflow-hidden bg-gray-50 dark:bg-gray-900 relative",children:i()})]})},pie={"Retail & Food":Kh,"Services & E-Commerce":aO,"Production & Manufacturing":gs,"Creative & Events":Nw,"Digital & Tech":$h,"Social Impact":$N,"Tycoon Exclusive":Zh},gie=({onSelectGame:t})=>{const{games:e,user:n}=Mt(),[s,m]=de.useState("All"),[w,r]=de.useState(!1),{t:x}=Ri(),i=Array.isArray(e)?e:[],a=["All",...Array.from(new Set(i.map(l=>l.category||"Other")))],p=l=>l==="All"?x("arcade.cat_all"):l==="Retail & Food"?x("arcade.cat_retail"):l==="Services & E-Commerce"?x("arcade.cat_service"):l==="Production & Manufacturing"?x("arcade.cat_production"):l==="Creative & Events"?x("arcade.cat_creative"):l==="Digital & Tech"?x("arcade.cat_tech"):l==="Social Impact"?x("arcade.cat_social"):l==="Tycoon Exclusive"?"VIP Tycoon":l,c=(s==="All"?i:i.filter(l=>l.category===s)).filter(l=>l.business_id!=="BIZ_01_LEMONADE"),o=(n==null?void 0:n.subscriptionTier)==="tycoon",u=(n==null?void 0:n.subscriptionTier)==="intern";return E.jsxs("div",{className:"pb-20",children:[E.jsx(iu,{isOpen:w,onClose:()=>r(!1)}),E.jsxs("div",{className:"text-center mb-12",children:[E.jsx("h2",{className:"text-4xl font-black text-gray-800 dark:text-white mb-2",children:x("arcade.title")}),E.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-bold",children:x("arcade.subtitle")})]}),E.jsx("div",{className:"flex overflow-x-auto pb-4 gap-2 mb-8 no-scrollbar",children:a.map(l=>E.jsx("button",{onClick:()=>m(l),className:`px-6 py-2 rounded-full font-bold whitespace-nowrap transition-colors
                    ${s===l?"bg-kid-primary text-yellow-900 border-2 border-yellow-500":"bg-white dark:bg-gray-800 text-gray-500 dark:text-gray-400 border-2 border-gray-100 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700"}
                `,children:p(l)},l))}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(s==="All"||s==="Retail & Food")&&E.jsx(_y,{title:"Lemonade Tycoon",description:"The classic starter business. Manage inventory and weather.",icon:E.jsx(Kh,{size:40,className:"text-yellow-600"}),backgroundColor:"#FEFCE8",borderColor:"#FEF08A",onClick:()=>t("lemonade"),isSpecial:!0,badge:"CLASSIC",playText:x("arcade.play_now"),isLocked:!1}),(s==="All"||s==="Creative & Events")&&E.jsx(_y,{title:"Brand Builder",description:"Design logos and company identities.",icon:E.jsx(Nw,{size:40,className:"text-pink-600"}),backgroundColor:"#FDF2F8",borderColor:"#FBCFE8",onClick:()=>{u?r(!0):t("brand")},isSpecial:!0,badge:"CREATIVE",playText:u?"Upgrade to Unlock":x("arcade.play_now"),isLocked:u}),c.map(l=>{var v,y;const d=pie[l.category]||Kh,f=l.visual_config||{colors:{background:"#FFFFFF",primary:"#E5E7EB"},icon:void 0},h=l.category==="Tycoon Exclusive"||l.business_id==="BIZ_NEGOTIATION";let A=!1,g="LOCKED";return u?(A=!0,g="PREMIUM ONLY"):h&&!o&&(A=!0,g="TYCOON ONLY"),E.jsx(_y,{title:l.name,description:l.description,icon:E.jsx("span",{className:"text-4xl",children:f.icon||E.jsx(d,{size:40})}),backgroundColor:(v=f.colors)==null?void 0:v.background,borderColor:`${((y=f.colors)==null?void 0:y.primary)||"#E5E7EB"}40`,onClick:()=>{A?r(!0):t(l.business_id)},playText:A?"Upgrade to Unlock":x("arcade.play_now"),isLocked:A,lockLabel:g},l.business_id)})]})]})},_y=({title:t,description:e,icon:n,backgroundColor:s,borderColor:m,onClick:w,isSpecial:r,badge:x,playText:i,isLocked:a,lockLabel:p})=>E.jsxs(ot.button,{whileHover:a?{}:{y:-5},whileTap:a?{}:{scale:.95},onClick:w,className:`w-full p-6 rounded-3xl border-4 text-left shadow-sm transition-all flex flex-col h-full relative overflow-hidden group
                dark:!bg-gray-800 dark:!border-gray-700
                ${a?"grayscale opacity-80 cursor-pointer":""}
            `,style:{backgroundColor:s||"#FFFFFF",borderColor:m||"#E5E7EB"},children:[r&&!a&&E.jsx("div",{className:"absolute top-0 right-0 rtl:left-0 rtl:right-auto bg-yellow-400 text-yellow-900 text-xs font-black px-3 py-1 rounded-bl-xl rtl:rounded-bl-none rtl:rounded-br-xl z-10",children:x||"PRO"}),a&&E.jsxs("div",{className:"absolute top-0 right-0 bg-gray-900 text-white text-xs font-black px-3 py-1 rounded-bl-xl z-20 flex items-center gap-1",children:[E.jsx(Nn,{size:12})," ",p||"LOCKED"]}),E.jsx("div",{className:"mb-4 p-4 rounded-2xl bg-white/60 dark:bg-black/20 w-fit backdrop-blur-sm border border-black/5 dark:border-white/5 shadow-sm",children:n}),E.jsx("h3",{className:"text-xl font-black text-gray-800 dark:text-white mb-2 group-hover:opacity-80 transition-opacity",children:typeof t=="string"?t:"Unknown Game"}),E.jsx("p",{className:"text-gray-600 dark:text-gray-300 font-bold text-sm leading-relaxed mb-6 opacity-80",children:typeof e=="string"?e:"Description unavailable"}),E.jsxs("div",{className:"mt-auto pt-4 border-t border-black/5 dark:border-white/5 w-full flex justify-between items-center text-gray-500 dark:text-gray-400 font-black text-xs uppercase tracking-widest",children:[E.jsx("span",{className:a?"text-red-500":"",children:i}),E.jsx("div",{className:`bg-white/50 dark:bg-black/20 p-2 rounded-full transition-all shadow-sm ${a?"text-red-500 bg-red-50":"group-hover:bg-white text-gray-700"}`,children:a?E.jsx(Nn,{size:16}):E.jsx($h,{size:16})})]})]}),vie=()=>{const{user:t,buyItem:e}=Mt(),[n,s]=de.useState("AVATAR"),{t:m}=Ri();if(!t)return null;const w=qg.filter(x=>n==="AVATAR"?x.type==="AVATAR":x.type==="CONSUMABLE"||x.type==="POWERUP"),r=typeof t.bizCoins=="number"?t.bizCoins:0;return E.jsxs("div",{className:"pb-20",children:[E.jsxs("div",{className:"bg-gradient-to-r from-purple-500 to-indigo-600 rounded-3xl p-8 text-white mb-8 relative overflow-hidden shadow-lg",children:[E.jsxs("div",{className:"relative z-10 flex items-center justify-between",children:[E.jsxs("div",{children:[E.jsx("h2",{className:"text-3xl font-black mb-1",children:m("store.title")}),E.jsx("p",{className:"font-bold opacity-90",children:m("store.subtitle")})]}),E.jsxs("div",{className:"bg-white/20 backdrop-blur-md px-6 py-3 rounded-2xl flex items-center gap-3 border border-white/30",children:[E.jsx(gA,{size:32,className:"text-yellow-300"}),E.jsx("span",{className:"text-3xl font-black",children:r})]})]}),E.jsx("div",{className:"absolute right-0 bottom-0 text-9xl opacity-10 rotate-12 -mr-10 -mb-10",children:""})]}),E.jsxs("div",{className:"flex gap-4 mb-8 overflow-x-auto no-scrollbar pb-1",children:[E.jsx("button",{onClick:()=>s("AVATAR"),className:`px-6 py-2 rounded-full font-bold transition-all border-2 whitespace-nowrap
                ${n==="AVATAR"?"bg-kid-primary text-yellow-900 border-yellow-500":"bg-white dark:bg-gray-800 text-gray-500 dark:text-gray-400 border-gray-100 dark:border-gray-700"}
             `,children:E.jsxs("span",{className:"flex items-center gap-2",children:[E.jsx(P7,{size:18})," ",m("store.filter_apparel")]})}),E.jsx("button",{onClick:()=>s("CONSUMABLE"),className:`px-6 py-2 rounded-full font-bold transition-all border-2 whitespace-nowrap
                ${n==="CONSUMABLE"?"bg-kid-primary text-yellow-900 border-yellow-500":"bg-white dark:bg-gray-800 text-gray-500 dark:text-gray-400 border-gray-100 dark:border-gray-700"}
             `,children:E.jsxs("span",{className:"flex items-center gap-2",children:[E.jsx(gs,{size:18})," ",m("store.filter_boosters")]})})]}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:w.map(x=>{const i=t.inventory.includes(x.id)&&x.type!=="CONSUMABLE"&&x.type!=="POWERUP",a=r>=x.cost;return E.jsxs(ot.div,{whileHover:{y:-5},className:`bg-white dark:bg-gray-800 rounded-3xl p-6 border-2 flex flex-col items-center text-center shadow-sm transition-colors relative overflow-hidden
                ${i?"border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-gray-900":"border-gray-100 dark:border-gray-700 hover:border-kid-accent"}
              `,children:[E.jsx("div",{className:"w-24 h-24 bg-gray-50 dark:bg-gray-700 rounded-full flex items-center justify-center text-5xl mb-4 border-2 border-dashed border-gray-200 dark:border-gray-600",children:x.icon}),E.jsx("h3",{className:"text-xl font-black text-gray-800 dark:text-white mb-1",children:x.name}),E.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm font-bold mb-6 flex-1",children:x.description}),i?E.jsxs("button",{disabled:!0,className:"w-full py-3 rounded-xl bg-gray-200 dark:bg-gray-700 text-gray-400 dark:text-gray-500 font-bold flex items-center justify-center gap-2 cursor-default",children:[E.jsx(En,{size:20})," ",m("store.owned")]}):E.jsxs("button",{onClick:()=>e(x),disabled:!a,className:`w-full py-3 rounded-xl font-bold flex items-center justify-center gap-2 btn-juicy shadow-[0_4px_0_0_rgba(0,0,0,0.1)]
                      ${a?"bg-kid-primary text-yellow-900 shadow-[0_4px_0_0_rgba(202,138,4,1)] hover:bg-yellow-400":"bg-gray-100 dark:bg-gray-700 text-gray-400 dark:text-gray-500 cursor-not-allowed shadow-none"}
                    `,children:[E.jsx(gA,{size:18})," ",x.cost]})]},x.id)})})]})},mie=()=>{const{user:t}=Mt(),{t:e}=Ri(),n=[...ON].sort((s,m)=>m.xp-s.xp);return E.jsxs("div",{className:"max-w-2xl mx-auto pb-20",children:[E.jsxs("div",{className:"text-center mb-10",children:[E.jsxs("h2",{className:"text-4xl font-black text-gray-800 dark:text-white flex items-center justify-center gap-3",children:[E.jsx(Zl,{className:"text-yellow-500 fill-current",size:40}),e("leaderboard.title")]}),E.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-bold mt-2 bg-gray-100 dark:bg-gray-800 inline-block px-4 py-1 rounded-full text-sm",children:e("leaderboard.weekly_reset")})]}),E.jsx("div",{className:"space-y-4",children:n.map((s,m)=>{const w=m+1,r=w<=3;return E.jsxs(ot.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:m*.1},className:`flex items-center p-4 rounded-3xl border-4 shadow-sm relative transition-transform hover:scale-[1.02]
                  ${s.isCurrentUser?"bg-blue-50 dark:bg-blue-900/20 border-blue-300 dark:border-blue-700 z-10":r?"bg-white dark:bg-gray-800 border-yellow-200 dark:border-yellow-700":"bg-white dark:bg-gray-800 border-gray-100 dark:border-gray-700"}
               `,children:[E.jsxs("div",{className:`w-12 font-black text-2xl text-center mr-2 rtl:mr-0 rtl:ml-2 italic ${r?"text-yellow-500":"text-gray-300 dark:text-gray-600"}`,children:["#",w]}),E.jsxs("div",{className:`w-14 h-14 rounded-full border-4 shadow-sm flex items-center justify-center text-3xl relative
                    ${r?"border-yellow-200 bg-yellow-50 dark:bg-yellow-900/20 dark:border-yellow-800":"border-gray-100 dark:border-gray-600 bg-gray-50 dark:bg-gray-700"}
                `,children:[s.avatar,w===1&&E.jsx("div",{className:"absolute -top-4 -right-2 rtl:-left-2 rtl:right-auto text-2xl drop-shadow-md",children:E.jsx(Zh,{className:"fill-yellow-400 text-yellow-600",size:32})})]}),E.jsxs("div",{className:"flex-1 ml-4 rtl:ml-0 rtl:mr-4",children:[E.jsxs("h3",{className:`font-black text-lg ${s.isCurrentUser?"text-blue-700 dark:text-blue-400":"text-gray-700 dark:text-gray-200"}`,children:[s.name," ",s.isCurrentUser&&E.jsx("span",{className:"text-xs bg-blue-200 dark:bg-blue-800 text-blue-800 dark:text-blue-200 px-2 py-0.5 rounded-full ml-2 rtl:ml-0 rtl:mr-2 align-middle",children:e("leaderboard.you")})]}),E.jsxs("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:[e("stats.level")," ",Math.floor(s.xp/100)+1," CEO"]})]}),E.jsx("div",{className:"text-right rtl:text-left bg-gray-50 dark:bg-gray-700 px-4 py-2 rounded-xl border border-gray-100 dark:border-gray-600",children:E.jsxs("div",{className:"font-black text-gray-800 dark:text-white text-xl",children:[s.xp," XP"]})})]},s.id)})})]})},yie=()=>{const{showLevelUpModal:t,levelUpData:e,closeLevelUpModal:n}=Mt();return!t||!e?null:E.jsx(an,{children:E.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-[250] backdrop-blur-sm p-4",children:E.jsxs(ot.div,{initial:{scale:.5,opacity:0,rotate:-10},animate:{scale:1,opacity:1,rotate:0},exit:{scale:.5,opacity:0},className:"bg-white rounded-3xl p-8 max-w-sm w-full text-center relative overflow-hidden shadow-2xl",children:[E.jsx("div",{className:"absolute inset-0 bg-yellow-50 z-0"}),E.jsx(ot.div,{animate:{rotate:360},transition:{repeat:1/0,duration:10,ease:"linear"},className:"absolute -top-20 -left-20 w-[150%] h-[150%] bg-[conic-gradient(from_90deg_at_50%_50%,#FFC800_0deg,transparent_60deg,transparent_300deg,#FFC800_360deg)] opacity-20 z-0 pointer-events-none"}),E.jsxs("div",{className:"relative z-10",children:[E.jsx(ot.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"text-kid-secondary font-black text-2xl uppercase tracking-widest mb-2",children:"Level Up!"}),E.jsxs("div",{className:"relative w-32 h-32 mx-auto mb-6",children:[E.jsx(ot.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",bounce:.5,delay:.3},className:"w-full h-full bg-kid-primary rounded-full flex items-center justify-center border-4 border-yellow-300 shadow-inner",children:E.jsx("span",{className:"text-6xl font-black text-white drop-shadow-md",children:e.level})}),E.jsx(ot.div,{initial:{scale:0},animate:{scale:1.2},transition:{delay:.6},className:"absolute -top-2 -right-2 bg-kid-accent text-white p-2 rounded-full border-2 border-white",children:E.jsx(pn,{size:24,fill:"currentColor"})})]}),E.jsxs("h3",{className:"text-gray-800 font-bold text-lg mb-6",children:["You're now a Level ",e.level," Entrepreneur!"]}),E.jsx("button",{onClick:n,className:"w-full bg-kid-secondary hover:bg-green-600 text-white font-black py-3 rounded-2xl shadow-[0_4px_0_0_rgba(21,128,61,1)] btn-juicy",children:"Awesome!"})]})]})})})},uI=({onSuccess:t,onCancel:e,planName:n="KidCap Pro (Monthly)",price:s=9.99})=>{const[m,w]=de.useState(!1),[r,x]=de.useState("FORM"),[i,a]=de.useState("parent@example.com"),[p,c]=de.useState(""),[o,u]=de.useState(""),[l,d]=de.useState(""),[f,h]=de.useState(""),A=async y=>{y.preventDefault(),w(!0),x("PROCESSING"),await new Promise(C=>setTimeout(C,2e3)),x("SUCCESS"),setTimeout(()=>{t()},1500)},g=y=>{let C=y.target.value.replace(/\D/g,"");C=C.substring(0,16),C=C.replace(/(.{4})/g,"$1 ").trim(),u(C)},v=y=>{let C=y.target.value.replace(/\D/g,"");C.length>=2&&(C=C.substring(0,2)+"/"+C.substring(2,4)),d(C)};return E.jsxs("div",{className:"fixed inset-0 z-[160] bg-gray-50 flex flex-col md:flex-row overflow-hidden font-sans text-gray-900",children:[E.jsxs("div",{className:"w-full md:w-1/2 bg-gray-900 text-white p-8 md:p-12 flex flex-col justify-between relative overflow-hidden",children:[E.jsxs("div",{className:"relative z-10",children:[E.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-gray-400 hover:text-white mb-12 transition-colors font-bold text-sm",children:[E.jsx(ja,{size:16})," Cancel payment"]}),E.jsxs("div",{className:"flex items-center gap-3 mb-6 opacity-50",children:[E.jsx("div",{className:"w-8 h-8 bg-gray-700 rounded-lg flex items-center justify-center font-black",children:"K"}),E.jsx("span",{className:"font-bold",children:"KidCap HQ Inc."})]}),E.jsx("div",{className:"mb-2 text-gray-400 font-medium",children:"Subscribe to"}),E.jsx("h1",{className:"text-4xl font-black mb-8",children:n}),E.jsxs("div",{className:"flex items-end gap-2 mb-12",children:[E.jsxs("span",{className:"text-6xl font-black",children:["$",s]}),E.jsx("span",{className:"text-gray-400 font-bold mb-2",children:"per month"})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"flex items-center gap-3 text-gray-300 font-medium",children:[E.jsx("div",{className:"bg-green-500/20 p-1 rounded-full text-green-400",children:E.jsx(En,{size:14,strokeWidth:3})}),"Unlimited Game Access"]}),E.jsxs("div",{className:"flex items-center gap-3 text-gray-300 font-medium",children:[E.jsx("div",{className:"bg-green-500/20 p-1 rounded-full text-green-400",children:E.jsx(En,{size:14,strokeWidth:3})}),"AI Tutor (Ollie)"]}),E.jsxs("div",{className:"flex items-center gap-3 text-gray-300 font-medium",children:[E.jsx("div",{className:"bg-green-500/20 p-1 rounded-full text-green-400",children:E.jsx(En,{size:14,strokeWidth:3})}),"Parent Analytics Dashboard"]})]})]}),E.jsxs("div",{className:"relative z-10 mt-12 md:mt-0 flex items-center gap-2 text-xs text-gray-500 font-bold",children:[E.jsx("div",{className:"bg-white/10 p-1 rounded",children:E.jsx(VA,{size:12})}),"Powered by ",E.jsx("span",{className:"text-white",children:"Stripe"})]}),E.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-blue-600/20 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"})]}),E.jsx("div",{className:"w-full md:w-1/2 bg-white p-8 md:p-12 overflow-y-auto flex items-center justify-center",children:E.jsx("div",{className:"w-full max-w-md",children:r==="SUCCESS"?E.jsxs("div",{className:"text-center py-20",children:[E.jsx(ot.div,{initial:{scale:0},animate:{scale:1},className:"w-24 h-24 bg-green-500 rounded-full flex items-center justify-center text-white mx-auto mb-6 shadow-xl",children:E.jsx(En,{size:48,strokeWidth:4})}),E.jsx("h2",{className:"text-3xl font-black text-gray-900 mb-2",children:"Payment Successful!"}),E.jsx("p",{className:"text-gray-500 font-bold",children:"Upgrading your account..."})]}):E.jsxs("form",{onSubmit:A,className:"space-y-6",children:[E.jsxs("div",{className:"mb-8",children:[E.jsx("h2",{className:"text-2xl font-black text-gray-800 mb-2",children:"Pay with card"}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("div",{className:"h-8 w-12 bg-gray-100 rounded border border-gray-200 flex items-center justify-center grayscale opacity-50",children:E.jsx(V5,{size:16})}),E.jsx("div",{className:"h-8 w-12 bg-gray-100 rounded border border-gray-200 flex items-center justify-center grayscale opacity-50 font-black text-xs italic text-blue-800",children:"VISA"}),E.jsx("div",{className:"h-8 w-12 bg-gray-100 rounded border border-gray-200 flex items-center justify-center grayscale opacity-50 font-black text-xs text-red-500",children:"MC"})]})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-1",children:"Email"}),E.jsx("input",{type:"email",required:!0,value:i,onChange:y=>a(y.target.value),className:"w-full p-3 rounded-lg border-2 border-gray-200 font-medium focus:border-blue-500 outline-none transition-colors",placeholder:"you@example.com"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-1",children:"Card Information"}),E.jsxs("div",{className:"border-2 border-gray-200 rounded-lg overflow-hidden focus-within:border-blue-500 transition-colors",children:[E.jsxs("div",{className:"relative",children:[E.jsx("input",{type:"text",required:!0,placeholder:"1234 5678 1234 5678",value:o,onChange:g,className:"w-full p-3 outline-none font-mono text-gray-700"}),E.jsx("div",{className:"absolute right-3 top-3 text-gray-400",children:E.jsx(V5,{size:20})})]}),E.jsxs("div",{className:"flex border-t border-gray-200",children:[E.jsx("input",{type:"text",required:!0,placeholder:"MM / YY",maxLength:5,value:l,onChange:v,className:"w-1/2 p-3 outline-none border-r border-gray-200 font-mono text-gray-700"}),E.jsx("input",{type:"text",required:!0,placeholder:"CVC",maxLength:3,value:f,onChange:y=>h(y.target.value.replace(/\D/g,"")),className:"w-1/2 p-3 outline-none font-mono text-gray-700"})]})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-1",children:"Name on card"}),E.jsx("input",{type:"text",required:!0,value:p,onChange:y=>c(y.target.value),className:"w-full p-3 rounded-lg border-2 border-gray-200 font-medium focus:border-blue-500 outline-none transition-colors",placeholder:"John Doe"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-1",children:"Country or region"}),E.jsxs("select",{className:"w-full p-3 rounded-lg border-2 border-gray-200 font-medium bg-white focus:border-blue-500 outline-none",children:[E.jsx("option",{children:"United States"}),E.jsx("option",{children:"United Kingdom"}),E.jsx("option",{children:"Canada"}),E.jsx("option",{children:"Australia"})]})]})]}),E.jsx("button",{type:"submit",disabled:m,className:"w-full bg-blue-600 text-white font-bold py-4 rounded-xl shadow-lg hover:bg-blue-700 transition-all flex items-center justify-center gap-2 mt-8 disabled:opacity-70 disabled:cursor-not-allowed",children:m?E.jsxs(E.Fragment,{children:[E.jsx(Jl,{className:"animate-spin"})," Processing..."]}):E.jsxs(E.Fragment,{children:[E.jsx(Nn,{size:16})," Pay $",s]})}),E.jsx("p",{className:"text-center text-xs text-gray-400 font-medium mt-4",children:"Payments are secure and encrypted."})]})})})]})},AB=()=>{const{user:t,users:e,updateUserSettings:n,upgradeSubscription:s,library:m}=Mt(),[w,r]=de.useState(!1),[x,i]=de.useState(!1),[a,p]=de.useState(!1),{t:c}=Ri();if(!t)return null;let o=t;if(t.role===vt.PARENT&&t.linkedChildId){const B=e.find(N=>N.id===t.linkedChildId);B&&(o=B)}if(t.role===vt.PARENT&&!t.linkedChildId)return E.jsxs("div",{className:"flex flex-col items-center justify-center h-[60vh] text-center p-8 bg-white rounded-3xl shadow-sm border border-gray-100",children:[E.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mb-6 text-gray-400",children:E.jsx(i1,{size:48})}),E.jsx("h2",{className:"text-2xl font-black text-gray-800 mb-2",children:"No Child Account Linked"}),E.jsx("p",{className:"text-gray-500 font-medium max-w-md mb-8",children:"It looks like you haven't linked a student account yet. Please contact support or have your child join a class to sync data."}),E.jsx("div",{className:"bg-blue-50 p-4 rounded-xl border border-blue-100 text-sm text-blue-700 font-bold",children:'Demo Mode: Sign up a new Kid account named "Leo" to see this dashboard populate automatically.'})]});t.subscriptionStatus;const u=o.inventory.reduce((B,N)=>{const L=qg.find(R=>R.id===N);return B+((L==null?void 0:L.cost)||0)},0),l=o.portfolio.reduce((B,N)=>B+N.managerLevel*1e3,0),d=o.bizCoins+u*.5+l,f=[...ON.map(B=>B.xp),o.xp].sort((B,N)=>B-N),h=f.indexOf(o.xp),A=Math.round((h+1)/f.length*100),g=A>=90?"Top 10%":A>=50?"Top 50%":"Rising Star",v={CHARISMA:0,EFFICIENCY:0,WISDOM:0};o.unlockedSkills.forEach(B=>{const N=_g.find(L=>L.id===B);N&&v[N.category]++});let y="NONE";o.unlockedSkills.length>0&&(y=Object.keys(v).reduce((B,N)=>v[B]>v[N]?B:N));const C=(o.readBookIds||[]).map(B=>m.find(N=>N.id===B)).filter(Boolean),T=[{day:"Mon",xp:Math.max(0,o.xp-300)},{day:"Tue",xp:Math.max(0,o.xp-250)},{day:"Wed",xp:Math.max(0,o.xp-180)},{day:"Thu",xp:Math.max(0,o.xp-100)},{day:"Fri",xp:Math.max(0,o.xp-50)},{day:"Sat",xp:o.xp},{day:"Sun",xp:0}].map((B,N,L)=>{const R=N>0?L[N-1].xp:0;return{day:B.day,xp:Math.max(0,B.xp-R)}});T[5].xp=50;const S=Math.max(...T.map(B=>B.xp),100),F=()=>{s("tycoon"),i(!1),p(!0),setTimeout(()=>p(!1),4e3)};return E.jsxs(E.Fragment,{children:[E.jsx(an,{children:x&&E.jsx(uI,{onSuccess:F,onCancel:()=>i(!1),planName:"KidCap Pro (Monthly)",price:9.99})}),E.jsx(an,{children:a&&E.jsxs(ot.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},exit:{opacity:0,y:-50},className:"fixed top-8 left-1/2 -translate-x-1/2 z-[150] bg-green-600 text-white px-8 py-4 rounded-2xl shadow-2xl flex items-center gap-4 border-4 border-green-400",children:[E.jsx("div",{className:"bg-white text-green-600 rounded-full p-1",children:E.jsx(En,{size:24,strokeWidth:4})}),E.jsxs("div",{children:[E.jsx("h4",{className:"font-black text-lg",children:"Welcome to Premium!"}),E.jsx("p",{className:"font-medium text-sm text-green-100",children:"Your account has been upgraded."})]})]})}),E.jsxs("div",{className:"space-y-8 pb-20",children:[E.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[E.jsxs("div",{children:[E.jsx("h2",{className:"text-3xl font-black text-gray-800 dark:text-white",children:t.role===vt.KID?"CEO Report Card":c("parent.title")}),E.jsxs("p",{className:"text-gray-500 dark:text-gray-400 font-medium",children:[t.role===vt.KID?"Track your empire's growth.":c("parent.monitoring"),E.jsx("span",{className:"text-kid-accent font-bold ml-1",children:o.name})]})]}),t.role===vt.PARENT&&E.jsxs("button",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 text-gray-600 dark:text-gray-300 px-4 py-2 rounded-xl font-bold hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center gap-2 transition-colors",children:[E.jsx(x7,{size:18})," ",c("parent.sync")]})]}),E.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-8 shadow-lg border border-gray-200 dark:border-gray-700 relative overflow-hidden",children:[E.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:E.jsx(UD,{size:150})}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 relative z-10",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx("div",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Est. Net Worth"}),E.jsxs("div",{className:"text-4xl font-black text-green-600 dark:text-green-400",children:["$",Math.floor(d).toLocaleString()]}),E.jsxs("div",{className:"text-xs font-bold text-gray-500 dark:text-gray-400 flex items-center gap-1",children:[E.jsx(zA,{size:12,className:A>50?"text-green-500":"text-yellow-500"})," ",g]})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("div",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"CEO Rank"}),E.jsxs("div",{className:"text-4xl font-black text-gray-800 dark:text-white",children:["Level ",o.level]}),E.jsx("div",{className:"w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:E.jsx("div",{className:"h-full bg-blue-500 w-3/4"})}),E.jsxs("div",{className:"text-xs font-bold text-gray-500 dark:text-gray-400",children:[o.xp," XP Earned"]})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("div",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Top Skill"}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("div",{className:`p-2 rounded-lg ${y==="NONE"?"bg-gray-100 text-gray-400":y==="CHARISMA"?"bg-pink-100 text-pink-600":y==="EFFICIENCY"?"bg-blue-100 text-blue-600":"bg-purple-100 text-purple-600"}`,children:y==="NONE"?E.jsx(gs,{size:24}):y==="CHARISMA"?E.jsx(gs,{size:24}):y==="EFFICIENCY"?E.jsx(Jh,{size:24}):E.jsx(GA,{size:24})}),E.jsx("div",{className:"text-2xl font-black text-gray-800 dark:text-white",children:y==="NONE"?"None Yet":y})]}),E.jsxs("div",{className:"text-xs font-bold text-gray-500 dark:text-gray-400",children:[o.unlockedSkills.length," Skills Unlocked"]})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("div",{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Library"}),E.jsx("div",{className:"text-4xl font-black text-yellow-500",children:C.length}),E.jsx("div",{className:"text-xs font-bold text-gray-500 dark:text-gray-400",children:"Books Completed"})]})]})]}),C.length>0&&E.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/10 border border-amber-100 dark:border-amber-800 rounded-3xl p-6",children:[E.jsxs("h3",{className:"text-lg font-black text-amber-900 dark:text-amber-100 mb-4 flex items-center gap-2",children:[E.jsx(Wh,{size:20})," CEO Reading List"]}),E.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2 custom-scrollbar",children:C.map(B=>E.jsxs("div",{className:"min-w-[200px] bg-white dark:bg-gray-800 p-3 rounded-xl border border-amber-100 dark:border-gray-700 shadow-sm flex gap-3 items-center",children:[E.jsx("img",{src:B.coverUrl,alt:"Cover",className:"w-10 h-14 object-cover rounded bg-gray-200"}),E.jsxs("div",{className:"flex-1 min-w-0",children:[E.jsx("div",{className:"font-bold text-gray-800 dark:text-white text-sm truncate",children:B.title}),E.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:B.author})]}),E.jsx("div",{className:"text-green-500",children:E.jsx(Jv,{size:16})})]},B.id))})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[E.jsx(ex,{icon:E.jsx(Jh,{className:"text-blue-500"}),label:c("parent.stat_xp"),value:o.xp.toString(),color:"bg-blue-50 dark:bg-blue-900/20"}),E.jsx(ex,{icon:E.jsx(Kh,{className:"text-green-500"}),label:c("parent.stat_lessons"),value:o.completedLessonIds.length.toString(),color:"bg-green-50 dark:bg-green-900/20"}),E.jsx(ex,{icon:E.jsx(JN,{className:"text-orange-500"}),label:c("parent.stat_streak"),value:`${o.streak} ${c("stats.days")}`,color:"bg-orange-50 dark:bg-orange-900/20"})]}),E.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-700",children:[E.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white mb-6",children:c("parent.graph_title")}),E.jsx("div",{className:"h-64 flex items-end justify-between gap-4",dir:"ltr",children:T.map((B,N)=>E.jsxs("div",{className:"flex-1 flex flex-col items-center gap-2 group",children:[E.jsx("div",{className:"relative w-full flex justify-end flex-col h-full rounded-t-xl overflow-hidden bg-gray-50 dark:bg-gray-700 group-hover:bg-gray-100 dark:group-hover:bg-gray-600 transition-colors",children:E.jsx("div",{className:"w-full bg-kid-primary rounded-t-xl transition-all duration-1000 ease-out relative group-hover:opacity-80",style:{height:`${B.xp/S*100}%`},children:E.jsxs("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-gray-800 text-white text-xs py-1 px-2 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:[B.xp,"xp"]})})}),E.jsx("span",{className:"text-xs font-bold text-gray-400",children:B.day})]},N))})]}),t.role===vt.PARENT&&E.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-700",children:[E.jsxs("h3",{className:"text-xl font-bold text-gray-800 dark:text-white mb-6 flex items-center gap-2",children:[E.jsx("span",{children:""})," ",c("parent.settings_title")]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-bold text-gray-500 dark:text-gray-400 mb-2",children:c("parent.label_goal")}),E.jsxs("select",{value:o.settings.dailyGoalMinutes,onChange:B=>n({dailyGoalMinutes:parseInt(B.target.value)}),className:"w-full p-3 rounded-xl border-2 border-gray-200 dark:border-gray-600 dark:bg-gray-700 font-bold text-gray-700 dark:text-white focus:border-kid-accent outline-none",children:[E.jsx("option",{value:10,children:"10 Min"}),E.jsx("option",{value:15,children:"15 Min"}),E.jsx("option",{value:30,children:"30 Min"})]})]}),E.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-xl",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900 rounded-lg text-blue-600 dark:text-blue-300",children:E.jsx(HD,{size:20})}),E.jsx("span",{className:"font-bold text-gray-700 dark:text-gray-200",children:c("parent.label_sound")})]}),E.jsx(fB,{checked:o.settings.soundEnabled,onChange:()=>n({soundEnabled:!o.settings.soundEnabled})})]}),E.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-xl",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900 rounded-lg text-purple-600 dark:text-purple-300",children:E.jsx(Fw,{size:20})}),E.jsx("span",{className:"font-bold text-gray-700 dark:text-gray-200",children:c("parent.label_music")})]}),E.jsx(fB,{checked:o.settings.musicEnabled,onChange:()=>n({musicEnabled:!o.settings.musicEnabled})})]})]}),E.jsx("div",{className:"space-y-4",children:E.jsxs("div",{className:"p-4 rounded-xl border-l-4 border-red-400 bg-red-50 dark:bg-red-900/20",children:[E.jsx("h4",{className:"font-bold text-red-700 dark:text-red-400 mb-1",children:c("parent.danger_zone")}),E.jsx("p",{className:"text-xs text-red-500 dark:text-red-300 mb-4",children:c("parent.danger_desc")}),E.jsx("button",{className:"text-sm bg-white dark:bg-gray-800 border border-red-200 dark:border-red-800 text-red-600 dark:text-red-400 font-bold py-2 px-4 rounded-lg hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors",children:c("parent.reset_pwd")})]})})]})]})]})]})},ex=({icon:t,label:e,value:n,color:s})=>E.jsxs("div",{className:`${s} p-6 rounded-2xl flex items-center gap-4`,children:[E.jsx("div",{className:"p-3 bg-white dark:bg-gray-800 rounded-xl shadow-sm",children:t}),E.jsxs("div",{children:[E.jsx("div",{className:"text-sm font-bold text-gray-500 dark:text-gray-400 uppercase",children:e}),E.jsx("div",{className:"text-2xl font-black text-gray-800 dark:text-white",children:n})]})]}),fB=({checked:t,onChange:e})=>E.jsx("button",{onClick:e,className:`w-14 h-8 rounded-full p-1 transition-colors ${t?"bg-kid-secondary":"bg-gray-300 dark:bg-gray-600"}`,children:E.jsx("div",{className:`w-6 h-6 bg-white rounded-full shadow-sm transition-transform ${t?"translate-x-6":"translate-x-0"}`})}),xie=()=>{const{classroom:t,users:e,lessons:n,toggleModuleLock:s,updateUser:m,deleteUser:w,assignments:r,addAssignment:x,deleteAssignment:i,studentGroups:a,addStudentGroup:p,deleteStudentGroup:c,updateStudentGroup:o,rubrics:u,addRubric:l,deleteRubric:d,updateRubric:f,submissions:h,updateSubmission:A,addSubmission:g}=Mt(),{t:v}=Ri(),[y,C]=de.useState("OVERVIEW"),[b,T]=de.useState(null),[S,F]=de.useState(!1),[B,N]=de.useState(""),[L,R]=de.useState(""),[I,M]=de.useState(""),[P,U]=de.useState(""),[z,W]=de.useState(""),[Z,j]=de.useState(100),[H,V]=de.useState(""),[k,X]=de.useState("ALL"),[Q,J]=de.useState([]),[$,_]=de.useState(null),[te,se]=de.useState(""),[ce,ge]=de.useState(null),ue=de.useMemo(()=>t?e.filter(Se=>Se.classId===t.id&&Se.role===vt.KID):[],[e,t]),re=de.useMemo(()=>{if(!t)return{actionItems:0,atRisk:[],schedule:[]};const Se=h.filter(Rt=>r.some(ft=>ft.id===Rt.assignmentId&&ft.classId===t.id)&&Rt.status==="PENDING").length,Xe=ue.map(Rt=>{const ft=Rt.completedLessonIds.length,Ci=Math.min(100,Math.max(40,100-(10-ft)*5));return{...Rt,avgGrade:Ci}}).filter(Rt=>Rt.avgGrade<70).slice(0,5),rt=r.filter(Rt=>Rt.classId===t.id).sort((Rt,ft)=>new Date(ft.createdAt).getTime()-new Date(Rt.createdAt).getTime()).slice(0,3);return{actionItems:Se,atRisk:Xe,schedule:rt}},[t,h,r,ue]);if(!t)return E.jsx("div",{className:"p-8",children:"Loading Classroom..."});const Ce=Se=>{const Xe=Se.completedLessonIds.length/(n.length||1)*100;return Math.round(Xe)},ye=()=>{navigator.clipboard.writeText(t.code),alert("Class code copied to clipboard!")},Ee=()=>{b&&(m(b.id,b),T(null))},Me=Se=>{if(window.confirm("Are you sure you want to remove this student from the class?")){const Xe=ue.find(rt=>rt.id===Se);Xe&&m(Se,{...Xe,classId:void 0}),T(null)}},Be=Se=>{Q.includes(Se)?J(Q.filter(Xe=>Xe!==Se)):J([...Q,Se])},ve=()=>{if(!B||!L||!z){alert("Please provide a title, lesson, and due date.");return}const Se={id:`assign_${Date.now()}`,classId:t.id,lessonId:L,title:B,description:P,dueDate:new Date(z).toISOString(),maxPoints:Z,resourceUrl:H||void 0,rubricId:I||void 0,status:"PUBLISHED",createdAt:new Date().toISOString(),specificStudentIds:k==="SPECIFIC"?Q:void 0};x(Se),N(""),U(""),W(""),j(100),V(""),R(""),M(""),X("ALL"),J([]),F(!1)},Re=()=>{if(!te)return;const Se={id:`grp_${Date.now()}`,classId:t.id,name:te,studentIds:[],color:"#dbeafe"};p(Se),se("")},Pe=(Se,Xe)=>{const rt=a.find(Ci=>Ci.id===Se);if(!rt)return;const ft=rt.studentIds.includes(Xe)?rt.studentIds.filter(Ci=>Ci!==Xe):[...rt.studentIds,Xe];o(Se,{studentIds:ft})},Ge=()=>{const Se=r.find(rt=>rt.classId===(t==null?void 0:t.id)),Xe=ue[0];Se&&Xe?g({id:`sub_demo_${Date.now()}`,assignmentId:Se.id,studentId:Xe.id,submittedAt:new Date().toISOString(),status:"PENDING",content:"I traded my apple for a cookie!"}):alert("Please create an assignment and ensure you have students first.")},We=(Se,Xe,rt)=>{$&&(A($,{status:"GRADED",grade:Se,feedback:Xe,rubricScores:rt}),_(null))},at=()=>{const Se={id:`rub_${Date.now()}`,teacherId:t.teacherId,title:"Untitled Rubric",criteria:[{id:`crit_${Date.now()}_1`,title:"Criteria 1",description:"Description...",maxScore:10}]};l(Se),ge(Se)},qe=Se=>{const Xe={...Se,id:`rub_${Date.now()}`,title:`${Se.title} (Copy)`,criteria:Se.criteria.map(rt=>({...rt,id:`crit_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}))};l(Xe)},Ye=Se=>{f(Se.id,Se),ge(null)},tt=h.find(Se=>Se.id===$),Ve=tt?r.find(Se=>Se.id===tt.assignmentId):null,ct=tt?ue.find(Se=>Se.id===tt.studentId):null,ut=Ve!=null&&Ve.rubricId?u.find(Se=>Se.id===Ve.rubricId):void 0;return E.jsxs("div",{className:"pb-20 space-y-8",children:[E.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-sm border border-gray-100 flex flex-col md:flex-row justify-between md:items-center gap-4",children:[E.jsxs("div",{children:[E.jsx("h2",{className:"text-3xl font-black text-gray-800",children:t.name}),E.jsxs("div",{className:"flex gap-4 mt-2 overflow-x-auto no-scrollbar",children:[E.jsx("button",{onClick:()=>C("OVERVIEW"),className:`font-bold pb-1 border-b-4 transition-colors whitespace-nowrap ${y==="OVERVIEW"?"text-kid-accent border-kid-accent":"text-gray-400 border-transparent"}`,children:v("teacher.tabs.overview")}),E.jsx("button",{onClick:()=>C("ASSIGNMENTS"),className:`font-bold pb-1 border-b-4 transition-colors whitespace-nowrap ${y==="ASSIGNMENTS"?"text-kid-accent border-kid-accent":"text-gray-400 border-transparent"}`,children:v("teacher.tabs.assignments")}),E.jsxs("button",{onClick:()=>C("GRADING"),className:`font-bold pb-1 border-b-4 transition-colors whitespace-nowrap ${y==="GRADING"?"text-kid-accent border-kid-accent":"text-gray-400 border-transparent"}`,children:[v("teacher.tabs.grading")," ",re.actionItems>0&&E.jsx("span",{className:"ml-1 bg-red-500 text-white text-[10px] px-1.5 rounded-full align-top",children:re.actionItems})]}),E.jsx("button",{onClick:()=>C("GROUPS"),className:`font-bold pb-1 border-b-4 transition-colors whitespace-nowrap ${y==="GROUPS"?"text-kid-accent border-kid-accent":"text-gray-400 border-transparent"}`,children:v("teacher.tabs.groups")}),E.jsx("button",{onClick:()=>C("RUBRICS"),className:`font-bold pb-1 border-b-4 transition-colors whitespace-nowrap ${y==="RUBRICS"?"text-kid-accent border-kid-accent":"text-gray-400 border-transparent"}`,children:v("teacher.tabs.rubrics")})]})]}),E.jsxs("div",{className:"bg-blue-50 border-2 border-blue-100 p-4 rounded-2xl flex items-center gap-4 shrink-0",children:[E.jsxs("div",{children:[E.jsx("div",{className:"text-xs font-bold text-blue-400 uppercase",children:v("teacher.code")}),E.jsx("div",{className:"text-3xl font-black text-blue-700 tracking-widest",children:t.code})]}),E.jsx("button",{onClick:ye,className:"p-2 hover:bg-blue-100 rounded-lg text-blue-600 transition-colors",title:"Copy Code",children:E.jsx(j5,{size:20})})]})]}),y==="OVERVIEW"&&E.jsxs("div",{className:"space-y-8",children:[E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[E.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-gray-100 flex flex-col",children:[E.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[E.jsx("div",{className:"bg-blue-100 p-2 rounded-xl text-blue-600",children:E.jsx(Ko,{size:24})}),E.jsx("h3",{className:"font-bold text-gray-700",children:v("teacher.widget_action.title")})]}),E.jsxs("div",{className:"flex-1 flex flex-col justify-center items-center text-center",children:[E.jsx("div",{className:"text-5xl font-black text-gray-800 mb-2",children:re.actionItems}),E.jsx("p",{className:"text-gray-500 font-medium text-sm",children:v("teacher.widget_action.desc")}),re.actionItems>0&&E.jsx("button",{onClick:()=>C("GRADING"),className:"mt-4 text-blue-600 font-bold text-sm hover:underline",children:v("teacher.widget_action.btn")})]})]}),E.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-gray-100 flex flex-col",children:[E.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[E.jsx("div",{className:"bg-red-100 p-2 rounded-xl text-red-600",children:E.jsx(qh,{size:24})}),E.jsx("h3",{className:"font-bold text-gray-700",children:v("teacher.widget_risk.title")})]}),E.jsx("div",{className:"flex-1",children:re.atRisk.length===0?E.jsx("div",{className:"h-full flex items-center justify-center text-center text-green-600 font-bold",children:E.jsxs("div",{children:[E.jsx(En,{size:32,className:"mx-auto mb-2"}),v("teacher.widget_risk.safe")]})}):E.jsx("div",{className:"space-y-3",children:re.atRisk.map(Se=>E.jsxs("div",{className:"flex justify-between items-center bg-red-50 p-2 rounded-lg",children:[E.jsx("span",{className:"font-bold text-gray-700 text-sm",children:Se.name}),E.jsxs("span",{className:"text-xs font-black text-red-500 bg-white px-2 py-1 rounded border border-red-100",children:[Math.round(Se.avgGrade),"% Avg"]})]},Se.id))})})]}),E.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-gray-100 flex flex-col",children:[E.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[E.jsx("div",{className:"bg-yellow-100 p-2 rounded-xl text-yellow-600",children:E.jsx(Q5,{size:24})}),E.jsx("h3",{className:"font-bold text-gray-700",children:v("teacher.widget_schedule.title")})]}),E.jsx("div",{className:"flex-1 space-y-3",children:re.schedule.length===0?E.jsx("div",{className:"text-gray-400 text-sm font-bold text-center mt-8",children:v("teacher.widget_schedule.empty")}):re.schedule.map(Se=>E.jsxs("div",{className:"border-l-4 border-yellow-400 pl-3 py-1",children:[E.jsx("div",{className:"font-bold text-gray-800 text-sm truncate",children:Se.title}),E.jsx("div",{className:"text-xs text-gray-400 font-medium",children:Se.dueDate?new Date(Se.dueDate).toLocaleDateString():"No Due Date"})]},Se.id))})]})]}),E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[E.jsxs("div",{className:"lg:col-span-2 bg-white rounded-3xl shadow-sm border border-gray-100 overflow-hidden",children:[E.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[E.jsx("h3",{className:"font-bold text-xl text-gray-800",children:v("teacher.roster_title")}),E.jsx("button",{onClick:()=>C("GROUPS"),className:"text-kid-accent font-bold text-sm hover:underline",children:v("teacher.manage_groups")})]}),E.jsx("div",{className:"overflow-x-auto",children:E.jsxs("table",{className:"w-full",children:[E.jsx("thead",{className:"bg-gray-50 text-left text-gray-500 font-bold text-xs uppercase",children:E.jsxs("tr",{children:[E.jsx("th",{className:"p-4 pl-6",children:"Name"}),E.jsx("th",{className:"p-4",children:"Level"}),E.jsx("th",{className:"p-4",children:"Progress"}),E.jsx("th",{className:"p-4",children:"Action"})]})}),E.jsx("tbody",{className:"divide-y divide-gray-100",children:ue.length===0?E.jsx("tr",{children:E.jsxs("td",{colSpan:4,className:"p-8 text-center text-gray-400 font-bold",children:["No students have joined yet. Share code: ",t.code]})}):ue.map(Se=>E.jsxs("tr",{className:"hover:bg-gray-50",children:[E.jsx("td",{className:"p-4 pl-6 font-bold text-gray-700",children:Se.name}),E.jsx("td",{className:"p-4",children:E.jsxs("span",{className:"bg-yellow-100 text-yellow-800 text-xs px-2 py-1 rounded-full font-bold",children:["Lvl ",Se.level]})}),E.jsx("td",{className:"p-4",children:E.jsx("div",{className:"w-24 h-2 bg-gray-200 rounded-full overflow-hidden",dir:"ltr",children:E.jsx("div",{className:"h-full bg-kid-secondary",style:{width:`${Ce(Se)}%`}})})}),E.jsx("td",{className:"p-4",children:E.jsx("button",{onClick:()=>T(Se),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg",children:E.jsx(B7,{size:16})})})]},Se.id))})]})})]}),E.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-gray-100 p-6 h-fit max-h-[600px] overflow-y-auto",children:[E.jsx("h3",{className:"font-bold text-xl text-gray-800 mb-4",children:v("teacher.controls_title")}),E.jsx("p",{className:"text-gray-500 text-sm mb-6",children:v("teacher.controls_desc")}),E.jsxs("div",{className:"space-y-4",children:[UN.map(Se=>E.jsx(pB,{title:Se.title,icon:Se.icon,isLocked:t.lockedModules.includes(Se.id),onToggle:()=>s(Se.id)},Se.id)),E.jsx(pB,{title:"Arcade: Lemonade Stand",icon:"",isLocked:t.lockedModules.includes("g_lemon"),onToggle:()=>s("g_lemon")})]})]})]})]}),y==="ASSIGNMENTS"&&E.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-gray-100 p-8",children:[E.jsxs("div",{className:"flex justify-between items-center mb-8",children:[E.jsx("h3",{className:"font-bold text-xl text-gray-800",children:v("teacher.assign_title")}),E.jsxs("button",{onClick:()=>F(!0),className:"bg-kid-accent text-white px-4 py-2 rounded-xl font-bold flex items-center gap-2 hover:bg-blue-600",children:[E.jsx(vo,{size:18})," ",v("teacher.new_assign")]})]}),S&&E.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm overflow-y-auto",children:E.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl shadow-2xl overflow-hidden my-auto",children:[E.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[E.jsx("h4",{className:"font-black text-gray-800 text-lg",children:v("teacher.new_assign")}),E.jsx("button",{onClick:()=>F(!1),className:"p-2 hover:bg-gray-200 rounded-full",children:E.jsx(qn,{size:20})})]}),E.jsxs("div",{className:"p-8 space-y-6 max-h-[70vh] overflow-y-auto",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-bold text-gray-500 mb-2",children:"Assignment Title"}),E.jsx("input",{type:"text",placeholder:"e.g. Barter System Challenge",value:B,onChange:Se=>N(Se.target.value),className:"w-full p-3 rounded-xl border-2 border-gray-200 font-bold focus:border-kid-accent outline-none"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-bold text-gray-500 mb-2",children:"Instructions / Description"}),E.jsx("textarea",{placeholder:"Provide detailed instructions for the students...",value:P,onChange:Se=>U(Se.target.value),className:"w-full p-3 rounded-xl border-2 border-gray-200 font-medium h-32 focus:border-kid-accent outline-none resize-none"})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-bold text-gray-500 mb-2",children:"Linked Lesson"}),E.jsxs("select",{value:L,onChange:Se=>R(Se.target.value),className:"w-full p-3 rounded-xl border-2 border-gray-200 font-bold focus:border-kid-accent outline-none bg-white",children:[E.jsx("option",{value:"",children:"Select a Lesson..."}),n.map(Se=>E.jsxs("option",{value:Se.id,children:[Se.topic_tag," - ",Se.lesson_payload.headline]},Se.id))]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-bold text-gray-500 mb-2",children:"Due Date"}),E.jsx("input",{type:"datetime-local",value:z,onChange:Se=>W(Se.target.value),className:"w-full p-3 rounded-xl border-2 border-gray-200 font-bold focus:border-kid-accent outline-none"})]})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-bold text-gray-500 mb-2",children:"Grading Criteria"}),E.jsxs("select",{value:I,onChange:Se=>M(Se.target.value),className:"w-full p-3 rounded-xl border-2 border-gray-200 font-bold focus:border-kid-accent outline-none bg-white",children:[E.jsx("option",{value:"",children:"No Rubric (Points Only)"}),u.filter(Se=>Se.teacherId===t.teacherId).map(Se=>E.jsx("option",{value:Se.id,children:Se.title},Se.id))]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-bold text-gray-500 mb-2",children:"Max Points"}),E.jsx("input",{type:"number",value:Z,onChange:Se=>j(parseInt(Se.target.value)),disabled:!!I,className:"w-full p-3 rounded-xl border-2 border-gray-200 font-bold focus:border-kid-accent outline-none disabled:bg-gray-100 disabled:text-gray-400"})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-bold text-gray-500 mb-2",children:"Resource Link (PDF, Video, Doc)"}),E.jsxs("div",{className:"flex items-center gap-2 border-2 border-gray-200 rounded-xl px-3 focus-within:border-kid-accent",children:[E.jsx(eL,{className:"text-gray-400",size:20}),E.jsx("input",{type:"url",placeholder:"https://example.com/resource.pdf",value:H,onChange:Se=>V(Se.target.value),className:"w-full p-3 font-bold outline-none bg-transparent"})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-bold text-gray-500 mb-2",children:"Assign To"}),E.jsxs("div",{className:"flex gap-4 mb-4",children:[E.jsxs("button",{onClick:()=>X("ALL"),className:`flex-1 py-3 rounded-xl font-bold border-2 transition-all flex items-center justify-center gap-2
                                            ${k==="ALL"?"bg-blue-50 border-blue-500 text-blue-700":"bg-white border-gray-200 text-gray-500 hover:bg-gray-50"}
                                          `,children:[E.jsx(qh,{size:18})," Whole Class"]}),E.jsxs("button",{onClick:()=>X("SPECIFIC"),className:`flex-1 py-3 rounded-xl font-bold border-2 transition-all flex items-center justify-center gap-2
                                            ${k==="SPECIFIC"?"bg-blue-50 border-blue-500 text-blue-700":"bg-white border-gray-200 text-gray-500 hover:bg-gray-50"}
                                          `,children:[E.jsx(i1,{size:18})," Specific Students"]})]}),k==="SPECIFIC"&&E.jsx("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-200 max-h-48 overflow-y-auto",children:E.jsx("div",{className:"space-y-2",children:ue.map(Se=>{const Xe=Q.includes(Se.id);return E.jsxs("div",{onClick:()=>Be(Se.id),className:`flex items-center gap-3 p-3 rounded-lg cursor-pointer transition-all border-2
                                                              ${Xe?"bg-blue-100 border-blue-300":"bg-white border-transparent hover:border-gray-200"}
                                                          `,children:[E.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center
                                                               ${Xe?"bg-blue-500 border-blue-500 text-white":"border-gray-300 bg-white"}
                                                           `,children:Xe&&E.jsx(En,{size:14,strokeWidth:4})}),E.jsx("span",{className:`font-bold ${Xe?"text-blue-800":"text-gray-600"}`,children:Se.name})]},Se.id)})})})]})]}),E.jsxs("div",{className:"p-6 border-t border-gray-100 flex gap-4 bg-white",children:[E.jsx("button",{onClick:()=>F(!1),className:"px-6 bg-gray-100 text-gray-600 py-3 rounded-xl font-bold hover:bg-gray-200 transition-colors",children:"Cancel"}),E.jsx("button",{onClick:ve,className:"flex-1 bg-green-600 text-white py-3 rounded-xl font-bold hover:bg-green-700 transition-colors shadow-md",children:"Publish Assignment"})]})]})}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.filter(Se=>Se.classId===t.id).map(Se=>E.jsxs("div",{className:"p-6 rounded-2xl border-2 border-gray-100 hover:border-kid-accent transition-all relative group bg-white",children:[E.jsxs("div",{className:"flex justify-between items-start mb-4",children:[E.jsx("div",{className:"p-3 bg-blue-50 text-blue-600 rounded-xl",children:E.jsx(Ko,{size:24})}),E.jsx("button",{onClick:()=>i(Se.id),className:"text-gray-300 hover:text-red-500",children:E.jsx(kn,{size:18})})]}),E.jsx("h4",{className:"font-black text-lg text-gray-800 mb-1",children:Se.title}),E.jsx("p",{className:"text-xs text-gray-400 font-bold mb-4 line-clamp-2",children:Se.description||"No description provided."}),E.jsxs("div",{className:"space-y-2",children:[E.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-gray-500",children:[E.jsx(Q5,{size:14})," Due: ",Se.dueDate?new Date(Se.dueDate).toLocaleDateString():"No Due Date"]}),E.jsxs("div",{className:"flex flex-wrap gap-2 text-xs font-bold text-gray-400 uppercase",children:[E.jsx("span",{className:"bg-gray-100 px-2 py-1 rounded",children:Se.status}),Se.rubricId&&E.jsx("span",{className:"bg-purple-100 text-purple-600 px-2 py-1 rounded",children:"Rubric"}),Se.specificStudentIds&&Se.specificStudentIds.length>0&&E.jsxs("span",{className:"bg-orange-100 text-orange-600 px-2 py-1 rounded flex items-center gap-1",children:[E.jsx(i1,{size:10})," ",Se.specificStudentIds.length," Students"]})]})]})]},Se.id))})]}),y==="GRADING"&&E.jsx("div",{className:"bg-white rounded-3xl shadow-sm border border-gray-100 overflow-hidden min-h-[500px]",children:tt&&Ve&&ct?E.jsx(Cie,{submission:tt,assignment:Ve,student:ct,rubric:ut,onSave:We,onCancel:()=>_(null)}):E.jsxs("div",{className:"p-8",children:[E.jsxs("div",{className:"flex justify-between items-center mb-6",children:[E.jsx("h3",{className:"font-bold text-xl text-gray-800",children:v("teacher.subs_title")}),E.jsx("button",{onClick:Ge,className:"text-xs font-bold text-blue-500 bg-blue-50 px-3 py-1 rounded-lg hover:bg-blue-100",children:v("teacher.demo_sub")})]}),h.filter(Se=>{const Xe=r.find(rt=>rt.id===Se.assignmentId);return Xe&&Xe.classId===t.id}).length===0?E.jsxs("div",{className:"text-center py-12 text-gray-400",children:[E.jsx("div",{className:"text-4xl mb-2",children:""}),E.jsx("p",{className:"font-bold",children:"No submissions yet."})]}):E.jsx("div",{className:"space-y-4",children:h.filter(Se=>{const Xe=r.find(rt=>rt.id===Se.assignmentId);return Xe&&Xe.classId===t.id}).map(Se=>{const Xe=r.find(Rt=>Rt.id===Se.assignmentId),rt=ue.find(Rt=>Rt.id===Se.studentId);return E.jsxs("div",{onClick:()=>_(Se.id),className:`flex items-center justify-between p-4 rounded-xl border-2 cursor-pointer transition-all hover:border-kid-accent hover:shadow-sm
                                              ${Se.status==="GRADED"?"bg-gray-50 border-gray-100 opacity-75":"bg-white border-blue-100"}
                                          `,children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-white
                                                   ${Se.status==="GRADED"?"bg-green-500":"bg-blue-500"}
                                               `,children:(rt==null?void 0:rt.name[0])||"?"}),E.jsxs("div",{children:[E.jsx("div",{className:"font-black text-gray-800",children:rt==null?void 0:rt.name}),E.jsx("div",{className:"text-sm text-gray-500 font-medium",children:Xe==null?void 0:Xe.title})]})]}),E.jsxs("div",{className:"text-right",children:[E.jsx("div",{className:`text-xs font-black uppercase px-2 py-1 rounded mb-1 inline-block
                                                   ${Se.status==="GRADED"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}
                                               `,children:Se.status}),Se.status==="GRADED"&&E.jsxs("div",{className:"font-black text-gray-800",children:[Se.grade," / ",Xe==null?void 0:Xe.maxPoints]})]})]},Se.id)})})]})}),y==="GROUPS"&&E.jsx("div",{className:"space-y-8",children:E.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-sm border border-gray-100",children:[E.jsxs("div",{className:"flex justify-between items-center mb-6",children:[E.jsx("h3",{className:"font-bold text-xl text-gray-800",children:v("teacher.groups_title")}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("input",{type:"text",placeholder:"New Group Name",value:te,onChange:Se=>se(Se.target.value),className:"p-2 border border-gray-300 rounded-lg"}),E.jsx("button",{onClick:Re,className:"bg-green-600 text-white px-4 py-2 rounded-lg font-bold",children:v("teacher.add_group")})]})]}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:a.filter(Se=>Se.classId===t.id).map(Se=>E.jsxs("div",{className:"border-2 border-gray-200 rounded-2xl p-6",children:[E.jsxs("div",{className:"flex justify-between items-center mb-4",children:[E.jsx("h4",{className:"font-black text-lg",style:{color:Se.color||"#333"},children:Se.name}),E.jsx("button",{onClick:()=>c(Se.id),className:"text-gray-400 hover:text-red-500",children:E.jsx(kn,{size:16})})]}),E.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:ue.map(Xe=>{const rt=Se.studentIds.includes(Xe.id);return E.jsxs("div",{onClick:()=>Pe(Se.id,Xe.id),className:`flex items-center gap-3 p-2 rounded-lg cursor-pointer transition-colors ${rt?"bg-blue-50 border border-blue-200":"hover:bg-gray-50"}`,children:[E.jsx("div",{className:`w-5 h-5 rounded border flex items-center justify-center ${rt?"bg-blue-500 border-blue-500 text-white":"border-gray-300"}`,children:rt&&E.jsx(Y5,{size:14})}),E.jsx("span",{className:`text-sm font-bold ${rt?"text-blue-700":"text-gray-600"}`,children:Xe.name})]},Xe.id)})})]},Se.id))})]})}),y==="RUBRICS"&&(ce?E.jsx(wie,{rubric:ce,onSave:Ye,onCancel:()=>ge(null)}):E.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-gray-100 p-8",children:[E.jsxs("div",{className:"flex justify-between items-center mb-8",children:[E.jsxs("h3",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[E.jsx(z9,{size:24})," ",v("teacher.rubrics_title")]}),E.jsxs("button",{onClick:at,className:"bg-kid-accent text-white px-6 py-3 rounded-xl font-bold shadow-md hover:bg-blue-600 transition-colors flex items-center gap-2",children:[E.jsx(YN,{size:20})," ",v("teacher.new_rubric")]})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[u.filter(Se=>Se.teacherId===t.teacherId).map(Se=>{const Xe=Se.criteria.reduce((rt,Rt)=>rt+Rt.maxScore,0);return E.jsxs("div",{className:"p-6 border-2 border-gray-100 rounded-2xl hover:border-blue-200 transition-all group bg-white shadow-sm hover:shadow-md",children:[E.jsxs("div",{className:"flex justify-between items-start mb-4",children:[E.jsx("h4",{className:"font-black text-lg text-gray-800",children:Se.title}),E.jsxs("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[E.jsx("button",{onClick:()=>ge(Se),className:"p-2 text-blue-500 hover:bg-blue-50 rounded-lg",children:E.jsx(ho,{size:16})}),E.jsx("button",{onClick:()=>qe(Se),className:"p-2 text-green-500 hover:bg-green-50 rounded-lg",children:E.jsx(j5,{size:16})}),E.jsx("button",{onClick:()=>d(Se.id),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg",children:E.jsx(kn,{size:16})})]})]}),E.jsxs("div",{className:"flex justify-between items-center text-sm font-bold text-gray-500",children:[E.jsxs("span",{className:"flex items-center gap-1",children:[E.jsx(Y5,{size:16})," ",Se.criteria.length," Criteria"]}),E.jsxs("span",{className:"bg-blue-50 text-blue-700 px-3 py-1 rounded-full",children:[Xe," Pts"]})]})]},Se.id)}),u.length===0&&E.jsx("div",{className:"col-span-full text-center py-20 text-gray-400 border-2 border-dashed border-gray-200 rounded-3xl",children:E.jsx("p",{className:"font-bold text-lg",children:v("teacher.rubrics_empty")})})]})]})),b&&E.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:E.jsxs("div",{className:"bg-white rounded-2xl p-6 w-full max-w-sm shadow-xl",children:[E.jsx("h3",{className:"font-black text-xl text-gray-800 mb-4",children:v("teacher.edit_student")}),E.jsx("label",{className:"block text-sm font-bold text-gray-500 mb-1",children:"Student Name"}),E.jsx("input",{type:"text",value:b.name,onChange:Se=>T({...b,name:Se.target.value}),className:"w-full p-2 border-2 border-gray-200 rounded-xl font-bold mb-6"}),E.jsxs("div",{className:"flex flex-col gap-3",children:[E.jsx("button",{onClick:Ee,className:"w-full bg-green-600 text-white py-3 rounded-xl font-bold",children:"Save Changes"}),E.jsx("button",{onClick:()=>Me(b.id),className:"w-full bg-red-100 text-red-600 py-3 rounded-xl font-bold",children:v("teacher.remove_student")}),E.jsx("button",{onClick:()=>T(null),className:"w-full text-gray-400 font-bold py-2",children:"Cancel"})]})]})})]})},wie=({rubric:t,onSave:e,onCancel:n})=>{const[s,m]=de.useState(JSON.parse(JSON.stringify(t))),w=()=>{m(a=>({...a,criteria:[...a.criteria,{id:`crit_${Date.now()}`,title:"New Criterion",description:"Description of what is expected...",maxScore:10}]}))},r=a=>{m(p=>({...p,criteria:p.criteria.filter(c=>c.id!==a)}))},x=(a,p,c)=>{m(o=>({...o,criteria:o.criteria.map(u=>u.id===a?{...u,[p]:c}:u)}))},i=s.criteria.reduce((a,p)=>a+(Number(p.maxScore)||0),0);return E.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-gray-100 overflow-hidden flex flex-col h-[calc(100vh-200px)]",children:[E.jsxs("div",{className:"p-6 border-b border-gray-100 flex items-center justify-between bg-gray-50",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("button",{onClick:n,className:"p-2 hover:bg-white rounded-full transition-colors text-gray-500",children:E.jsx(ja,{size:20})}),E.jsxs("div",{children:[E.jsx("input",{type:"text",value:s.title,onChange:a=>m({...s,title:a.target.value}),className:"text-2xl font-black text-gray-800 bg-transparent outline-none border-b-2 border-transparent focus:border-blue-400 placeholder-gray-400",placeholder:"Rubric Title"}),E.jsxs("div",{className:"text-xs font-bold text-gray-400 mt-1 uppercase tracking-wider",children:[s.criteria.length," Criteria  Total: ",i," Pts"]})]})]}),E.jsxs("div",{className:"flex gap-3",children:[E.jsx("button",{onClick:n,className:"px-6 py-3 rounded-xl font-bold text-gray-500 hover:bg-gray-200",children:"Cancel"}),E.jsxs("button",{onClick:()=>e(s),className:"px-8 py-3 rounded-xl font-black bg-green-600 text-white shadow-lg hover:bg-green-700 flex items-center gap-2",children:[E.jsx(Zv,{size:18})," Save Rubric"]})]})]}),E.jsx("div",{className:"flex-1 overflow-y-auto p-8 bg-gray-50/50",children:E.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[s.criteria.map((a,p)=>E.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-200 hover:border-blue-200 transition-colors group relative",children:[E.jsxs("div",{className:"flex gap-4 items-start mb-4",children:[E.jsx("div",{className:"bg-blue-50 text-blue-600 w-8 h-8 rounded-lg flex items-center justify-center font-black text-sm shrink-0",children:p+1}),E.jsxs("div",{className:"flex-1 space-y-4",children:[E.jsxs("div",{className:"flex gap-4",children:[E.jsxs("div",{className:"flex-1",children:[E.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase mb-1 block",children:"Title"}),E.jsx("input",{type:"text",value:a.title,onChange:c=>x(a.id,"title",c.target.value),className:"w-full font-bold text-gray-800 text-lg outline-none border-b border-gray-200 focus:border-blue-400 pb-1",placeholder:"Criterion Title"})]}),E.jsxs("div",{className:"w-24",children:[E.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase mb-1 block",children:"Points"}),E.jsx("input",{type:"number",value:a.maxScore,onChange:c=>x(a.id,"maxScore",parseInt(c.target.value)||0),className:"w-full font-black text-blue-600 text-lg outline-none border-b border-gray-200 focus:border-blue-400 pb-1 text-right"})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase mb-1 block",children:"Description"}),E.jsx("textarea",{value:a.description,onChange:c=>x(a.id,"description",c.target.value),className:"w-full text-sm font-medium text-gray-600 outline-none resize-none bg-gray-50 p-3 rounded-xl focus:bg-white focus:ring-2 focus:ring-blue-100 transition-all",placeholder:"Describe what is required for full points...",rows:2})]})]})]}),E.jsx("button",{onClick:()=>r(a.id),className:"absolute top-4 right-4 p-2 text-gray-300 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors opacity-0 group-hover:opacity-100",children:E.jsx(kn,{size:18})})]},a.id)),E.jsxs("button",{onClick:w,className:"w-full py-4 border-2 border-dashed border-gray-300 rounded-2xl text-gray-400 font-bold hover:border-blue-400 hover:text-blue-500 hover:bg-blue-50 transition-all flex items-center justify-center gap-2",children:[E.jsx(YN,{size:20})," Add Criterion"]})]})})]})},Cie=({submission:t,assignment:e,student:n,rubric:s,onSave:m,onCancel:w})=>{if(!t||!e)return E.jsx("div",{className:"p-8 text-red-500 font-bold",children:"Error loading grading context."});const[r,x]=de.useState(t.rubricScores||{}),[i,a]=de.useState(t.feedback||""),[p,c]=de.useState(t.grade||0),o=!!s,u=o?Object.values(r).reduce((f,h)=>f+h,0):p,l=o?(s==null?void 0:s.criteria.reduce((f,h)=>f+h.maxScore,0))||100:e.maxPoints,d=(f,h)=>f===h?"text-blue-600":f>=h*.8?"text-green-600":f>=h*.5?"text-yellow-600":"text-red-600";return E.jsxs("div",{className:"p-6 h-full flex flex-col",children:[E.jsxs("div",{className:"flex justify-between items-start mb-6 border-b pb-4",children:[E.jsxs("div",{children:[E.jsx("h3",{className:"text-2xl font-black text-gray-800 mb-1",children:(n==null?void 0:n.name)||"Unknown Student"}),E.jsx("p",{className:"text-gray-500 font-bold",children:e==null?void 0:e.title})]}),E.jsxs("div",{className:"text-right",children:[E.jsxs("div",{className:`text-4xl font-black ${d(u,l)}`,children:[u," ",E.jsxs("span",{className:"text-xl text-gray-300",children:["/ ",l]})]}),E.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Final Grade"})]})]}),E.jsxs("div",{className:"mb-6 p-4 bg-gray-100 rounded-xl border border-gray-200",children:[E.jsx("h4",{className:"text-xs font-bold text-gray-500 uppercase mb-2",children:"Student Submission"}),E.jsx("p",{className:"text-gray-800 font-medium whitespace-pre-wrap",children:t.content||"No text content submitted."})]}),E.jsxs("div",{className:"flex-1 overflow-y-auto pr-2 custom-scrollbar",children:[o&&s?E.jsx("div",{className:"space-y-6",children:s.criteria.map(f=>E.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[E.jsxs("div",{className:"flex justify-between items-center mb-2",children:[E.jsx("h4",{className:"font-bold text-gray-800",children:f.title}),E.jsxs("span",{className:"text-xs font-black text-gray-400 uppercase tracking-wider",children:[r[f.id]||0," / ",f.maxScore," pts"]})]}),E.jsx("p",{className:"text-sm text-gray-500 mb-4",children:f.description}),E.jsx("div",{className:"flex gap-2 flex-wrap",children:Array.from({length:f.maxScore+1}).map((h,A)=>E.jsx("button",{onClick:()=>x(g=>({...g,[f.id]:A})),className:`w-10 h-10 rounded-lg font-bold transition-all
                                                ${r[f.id]===A?"bg-blue-600 text-white shadow-md scale-110":"bg-white border-2 border-gray-200 text-gray-400 hover:border-blue-300"}
                                            `,children:A},A))})]},f.id))}):E.jsxs("div",{className:"bg-gray-50 p-6 rounded-xl border border-gray-100 text-center",children:[E.jsx("p",{className:"text-gray-500 font-bold mb-4",children:"No Rubric Attached. Enter Score Manually."}),E.jsx("input",{type:"number",value:p,max:l,onChange:f=>c(Math.min(parseInt(f.target.value)||0,l)),className:"text-4xl font-black text-center w-32 p-2 rounded-xl border-2 border-blue-200 focus:border-blue-500 outline-none text-blue-800 bg-white"}),E.jsxs("div",{className:"text-xs text-gray-400 font-bold mt-2 uppercase",children:["Max: ",l]})]}),E.jsxs("div",{className:"mt-8",children:[E.jsx("label",{className:"block text-sm font-bold text-gray-500 mb-2",children:"Teacher Feedback"}),E.jsx("textarea",{className:"w-full p-4 rounded-xl border-2 border-gray-200 font-medium text-gray-700 focus:border-blue-400 outline-none h-32 resize-none",placeholder:"Great job! Next time try to...",value:i,onChange:f=>a(f.target.value)})]})]}),E.jsxs("div",{className:"mt-6 pt-4 border-t flex justify-end gap-3",children:[E.jsx("button",{onClick:w,className:"px-6 py-3 rounded-xl font-bold text-gray-500 hover:bg-gray-100",children:"Cancel"}),E.jsx("button",{onClick:()=>m(u,i,o?r:void 0),className:"px-8 py-3 rounded-xl font-black bg-green-600 text-white shadow-lg hover:bg-green-700 transition-transform active:scale-95",children:"Save Grade"})]})]})},pB=({title:t,icon:e,isLocked:n,onToggle:s})=>E.jsxs("div",{className:`p-4 rounded-xl border-2 flex items-center justify-between transition-colors ${n?"bg-red-50 border-red-100":"bg-white border-gray-100"}`,children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("span",{className:"text-xl",children:e}),E.jsx("span",{className:`font-bold text-sm ${n?"text-red-700":"text-gray-700"}`,children:t})]}),E.jsx("button",{onClick:s,className:`p-2 rounded-lg transition-colors ${n?"bg-red-200 text-red-700 hover:bg-red-300":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:n?E.jsx(Nn,{size:18}):E.jsx(J9,{size:18})})]}),bie=()=>{const{user:t,login:e,lessons:n,games:s,users:m,classrooms:w,assignments:r,submissions:x,addLesson:i,updateLesson:a,deleteLesson:p,addGame:c,updateGame:o,deleteGame:u,addUser:l,updateUser:d,deleteUser:f,deleteAssignment:h,deleteSubmission:A,cmsContent:g,updateCMSContent:v,deleteClassroom:y,impersonateUser:C,addClassroom:b,updateClassroom:T,library:S,addBook:F,updateBook:B,removeBook:N}=Mt(),[L,R]=de.useState("OVERVIEW"),[I,M]=de.useState("LESSONS"),[P,U]=de.useState("ASSIGNMENTS"),[z,W]=de.useState(null),[Z,j]=de.useState(""),[H,V]=de.useState(null),[k,X]=de.useState(!1),[Q,J]=de.useState(!1),[$,_]=de.useState(null),[te,se]=de.useState(!1),[ce,ge]=de.useState(null),[ue,re]=de.useState(!1),[Ce,ye]=de.useState(null),[Ee,Me]=de.useState(!1),[Be,ve]=de.useState(g),[Re,Pe]=de.useState("LANDING"),[Ge,We]=de.useState(null),[at,qe]=de.useState(!1),Ye={users:m.length,students:m.filter(Ae=>Ae.role===vt.KID).length,teachers:m.filter(Ae=>Ae.role===vt.TEACHER).length,classes:w.length,assignments:r.length,submissions:x.length,lessons:n.length,games:s.length,books:S.length},tt=Ae=>{window.confirm(`Log in as ${Ae.name}?`)&&(C(Ae.id),window.location.reload())},Ve=async()=>{qe(!0);const Ae="https://github.com/abdobody2040/kidcaphq";try{await new Promise(li=>setTimeout(li,800)),await new Promise(li=>setTimeout(li,1500));const Ke=Math.random().toString(16).substring(2,9),$e=new Date().toLocaleTimeString(),Ft=`v${Math.floor(Math.random()*2)}.${Math.floor(Math.random()*10)}.${Math.floor(Math.random()*10)}`;alert(` Git Pull Successful!

Source: ${Ae}
Branch: main
Latest Version: ${Ft} (${Ke})
Timestamp: ${$e}

Local environment successfully synced with latest remote changes.`)}catch{alert("Failed to sync with repository.")}finally{qe(!1)}},ct=(Ae,Ke)=>{W(Ke),j(JSON.stringify(Ae,null,2)),V(null)},ut=(Ae,Ke)=>{var $e;if(Ke==="GAME"){if(!Ae.name||typeof Ae.name!="string")throw new Error("Game 'name' is required.");if(!Ae.game_type)throw new Error("Game 'game_type' is required.")}if(Ke==="LESSON"&&!(($e=Ae.lesson_payload)!=null&&$e.headline))throw new Error("Lesson 'headline' is required.")},Se=Ae=>{const Ke=Ae.target.value;j(Ke);try{const $e=JSON.parse(Ke);ut($e,I==="GAMES"?"GAME":"LESSON"),V(null)}catch($e){V($e.message)}},Xe=()=>{if(!H)try{const Ae=JSON.parse(Z);I==="LESSONS"?z&&z!=="NEW"&&n.find(Ke=>Ke.id===z)?a(z,Ae):i(Ae):z&&z!=="NEW"&&s.some($e=>$e.business_id===z)?o(z,Ae):c(Ae),W(null),j(""),alert("Saved.")}catch(Ae){alert("Save Failed: "+Ae.message)}},rt=(Ae,Ke,$e)=>{Ae.stopPropagation(),window.confirm("Delete this item?")&&($e==="LESSON"&&p(Ke),$e==="GAME"&&u(Ke))},Rt=()=>{const Ae={business_id:`BIZ_${Date.now()}`,name:"New Game",category:"Retail & Food",game_type:"simulation_tycoon",description:"Description...",visual_config:{theme:"light",colors:{primary:"#FFC800",secondary:"#F59E0B",accent:"#10B981",background:"#FFF"},icon:""},variables:{resources:[],dynamic_factors:[],player_inputs:["price"]},upgrade_tree:[],event_triggers:{positive:{event_name:"",effect:"",duration:""},negative:{event_name:"",effect:"",duration:""}}},Ke={id:`LESSON_${Date.now()}`,topic_tag:"Topic",difficulty:1,lesson_payload:{headline:"Title",body_text:"Content..."},challenge_payload:{question_text:"Q?",correct_answer:"A",distractors:["B"]},game_rewards:{base_xp:10,currency_value:5},flavor_text:"Good job!"};W("NEW"),j(JSON.stringify(I==="LESSONS"?Ke:Ae,null,2)),V(null)},ft=Ae=>{_(Ae?{...Ae}:{id:`user_${Date.now()}`,name:"",username:"",password:"",role:vt.KID,xp:0,level:1,bizCoins:0,streak:0,inventory:[],completedLessonIds:[],badges:[],lastActivityDate:new Date().toISOString().split("T")[0],settings:{dailyGoalMinutes:15,soundEnabled:!0,musicEnabled:!0,themeColor:"green",themeMode:"light"},hqLevel:"hq_garage",unlockedSkills:[],portfolio:[],equippedItems:[],subscriptionStatus:"FREE",subscriptionTier:"intern",energy:5,lastEnergyRefill:Date.now()}),J(!0)},Ci=()=>{if(!$||!$.name||!$.username)return alert("Name and Username required!");const Ae={...$,bizCoins:Number($.bizCoins)||0,xp:Number($.xp)||0,level:Number($.level)||1,subscriptionStatus:$.subscriptionTier==="intern"?"FREE":"PREMIUM"},Ke=m.find($e=>$e.id===Ae.id);Ke?d(Ke.id,Ae):l(Ae),J(!1),_(null)},Gt=Ae=>{ge(Ae?{...Ae}:{id:`class_${Date.now()}`,name:"",code:Math.random().toString(36).substring(2,8).toUpperCase(),teacherId:"",studentIds:[],lockedModules:[]}),se(!0)},Cs=()=>{if(!ce||!ce.name||!ce.teacherId)return alert("Name and Teacher are required!");const Ae={...ce},Ke=w.find($e=>$e.id===Ae.id);Ke?T(Ke.id,Ae):b(Ae),se(!1),ge(null)},Gs=Ae=>{ye(Ae?{...Ae}:{id:`book_${Date.now()}`,title:"",author:"",coverUrl:"",summary:"",category:"Finance",keyLessons:[],ageRating:"8+"}),re(!0)},mi=async()=>{if(!(Ce!=null&&Ce.title)||!(Ce!=null&&Ce.author)){alert("Please enter a Title and Author first.");return}Me(!0);const Ae=await UR(Ce.title,Ce.author);Me(!1),Ae?ye(Ke=>({...Ke,summary:Ae.summary,keyLessons:Ae.keyLessons})):alert("Could not generate details. Please try again or fill manually.")},xt=()=>{if(!Ce||!Ce.title||!Ce.author)return alert("Title and Author are required!");const Ae={...Ce};Array.isArray(Ae.keyLessons)||(Ae.keyLessons=[]);const Ke=S.find($e=>$e.id===Ae.id);Ke?B(Ke.id,Ae):F(Ae),re(!1),ye(null)},Qt=()=>{v(Be),alert("Site content updated successfully!")},on=(Ae,Ke)=>{ve($e=>({...$e,landing:{...$e.landing,[Ae]:Ke}}))},Kt=(Ae,Ke)=>{ve($e=>({...$e,features:{...$e.features,[Ae]:Ke}}))},Qs=()=>{const Ae={id:`block_${Date.now()}`,type:"HERO",title:"New Section",content:"Add your content here...",buttonText:"Click Me"},Ke=Be.landing.extraSections||[];ve($e=>({...$e,landing:{...$e.landing,extraSections:[...Ke,Ae]}}))},js=Ae=>{const Ke=Be.landing.extraSections||[];ve($e=>({...$e,landing:{...$e.landing,extraSections:Ke.filter(Ft=>Ft.id!==Ae)}}))},dt=(Ae,Ke)=>{const $e=Be.landing.extraSections||[];ve(Ft=>({...Ft,landing:{...Ft.landing,extraSections:$e.map(li=>li.id===Ae?{...li,...Ke}:li)}}))},bs=()=>{const Ae={id:`page_${Date.now()}`,title:"New Page",slug:"new-page",blocks:[]};ve(Ke=>({...Ke,customPages:[...Ke.customPages||[],Ae]})),We(Ae)},Vs=Ae=>{confirm("Delete this page?")&&(ve(Ke=>({...Ke,customPages:Ke.customPages.filter($e=>$e.id!==Ae)})),(Ge==null?void 0:Ge.id)===Ae&&We(null))},zi=(Ae,Ke)=>{const $e=Be.customPages.map(Ft=>Ft.id===Ae?{...Ft,...Ke}:Ft);ve(Ft=>({...Ft,customPages:$e})),(Ge==null?void 0:Ge.id)===Ae&&We(Ft=>Ft?{...Ft,...Ke}:null)},Ii=Ae=>{const Ke={id:`block_${Date.now()}`,type:"TEXT_IMAGE",title:"New Content Block",content:"Content goes here...",layout:"image_left"},$e=Be.customPages.find(Ft=>Ft.id===Ae);$e&&zi(Ae,{blocks:[...$e.blocks,Ke]})},bi=(Ae,Ke,$e)=>{const Ft=Be.customPages.find(li=>li.id===Ae);if(Ft){const li=Ft.blocks.map(ns=>ns.id===Ke?{...ns,...$e}:ns);zi(Ae,{blocks:li})}},zn=(Ae,Ke)=>{const $e=Be.customPages.find(Ft=>Ft.id===Ae);if($e){const Ft=$e.blocks.filter(li=>li.id!==Ke);zi(Ae,{blocks:Ft})}},Ya=()=>{window.confirm(" FACTORY RESET: Delete ALL data?")&&(localStorage.clear(),window.location.reload())},vr=Ae=>typeof Ae=="string"?Ae:typeof Ae=="number"?String(Ae):"";return E.jsxs("div",{className:"space-y-6 pb-20",children:[E.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center bg-gray-900 text-white p-6 rounded-3xl shadow-lg gap-4",children:[E.jsxs("div",{children:[E.jsx("h2",{className:"text-3xl font-black",children:"Admin Console"}),E.jsx("p",{className:"text-gray-400 font-bold",children:"System Management v2.0"})]}),E.jsxs("div",{className:"flex flex-wrap gap-2 justify-center",children:[E.jsx(yl,{active:L==="OVERVIEW",onClick:()=>R("OVERVIEW"),icon:E.jsx(qN,{size:18}),label:"Overview"}),E.jsx(yl,{active:L==="USERS",onClick:()=>R("USERS"),icon:E.jsx(qh,{size:18}),label:"Users"}),E.jsx(yl,{active:L==="CLASSES",onClick:()=>R("CLASSES"),icon:E.jsx(tv,{size:18}),label:"Classes"}),E.jsx(yl,{active:L==="WORK",onClick:()=>R("WORK"),icon:E.jsx(Ko,{size:18}),label:"Work"}),E.jsx(yl,{active:L==="CONTENT",onClick:()=>R("CONTENT"),icon:E.jsx(Wh,{size:18}),label:"Content"}),E.jsx(yl,{active:L==="LIBRARY",onClick:()=>R("LIBRARY"),icon:E.jsx(ev,{size:18}),label:"Library"}),E.jsx(yl,{active:L==="CMS",onClick:()=>R("CMS"),icon:E.jsx(Bw,{size:18}),label:"CMS"}),E.jsxs("button",{onClick:Ve,disabled:at,className:"flex items-center gap-2 px-4 py-2 rounded-xl font-bold transition-all bg-black text-white hover:bg-gray-800 border-2 border-gray-700 ml-2",title:"Pull latest changes from GitHub",children:[at?E.jsx(Jl,{size:18,className:"animate-spin"}):E.jsx(M9,{size:18}),E.jsx("span",{className:"hidden lg:inline",children:at?"Pulling...":"Sync Repo"})]})]})]}),L==="OVERVIEW"&&E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[E.jsx(ud,{label:"Total Users",value:Ye.users,icon:E.jsx(qh,{}),color:"bg-blue-100 text-blue-700"}),E.jsx(ud,{label:"Students",value:Ye.students,icon:E.jsx(pn,{}),color:"bg-yellow-100 text-yellow-700"}),E.jsx(ud,{label:"Classrooms",value:Ye.classes,icon:E.jsx(tv,{}),color:"bg-purple-100 text-purple-700"}),E.jsx(ud,{label:"Assignments",value:Ye.assignments,icon:E.jsx(Ko,{}),color:"bg-green-100 text-green-700"}),E.jsx(ud,{label:"Books",value:Ye.books,icon:E.jsx(ev,{}),color:"bg-pink-100 text-pink-700"})]}),E.jsxs("div",{className:"bg-red-50 border-2 border-red-200 p-6 rounded-2xl flex justify-between items-center",children:[E.jsxs("div",{className:"flex items-center gap-4 text-red-800",children:[E.jsx(qv,{size:32}),E.jsxs("div",{children:[E.jsx("h4",{className:"font-black text-lg",children:"Emergency Zone"}),E.jsx("p",{className:"font-bold opacity-80",children:"Database corrupted? Reset everything."})]})]}),E.jsxs("button",{onClick:Ya,className:"bg-red-600 hover:bg-red-700 text-white px-6 py-3 rounded-xl font-bold flex items-center gap-2 shadow-md",children:[E.jsx(Lw,{size:18})," Factory Reset"]})]})]}),L==="USERS"&&E.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-gray-200 overflow-hidden",children:[E.jsxs("div",{className:"p-4 border-b bg-gray-50 flex justify-between items-center",children:[E.jsxs("span",{className:"font-bold text-gray-500",children:[m.length," Users"]}),E.jsxs("button",{onClick:()=>ft(),className:"bg-blue-600 text-white px-4 py-2 rounded-xl font-bold text-sm flex items-center gap-2 hover:bg-blue-700",children:[E.jsx(vo,{size:16})," Add User"]})]}),E.jsx("div",{className:"overflow-x-auto",children:E.jsxs("table",{className:"w-full text-sm",children:[E.jsx("thead",{className:"bg-gray-50 text-left font-bold text-gray-400 uppercase",children:E.jsxs("tr",{children:[E.jsx("th",{className:"p-4",children:"Name / ID"}),E.jsx("th",{className:"p-4",children:"Role"}),E.jsx("th",{className:"p-4",children:"Tier"}),E.jsx("th",{className:"p-4",children:"Stats"}),E.jsx("th",{className:"p-4 text-right",children:"Actions"})]})}),E.jsx("tbody",{className:"divide-y divide-gray-100",children:m.map(Ae=>E.jsxs("tr",{className:"hover:bg-gray-50",children:[E.jsxs("td",{className:"p-4",children:[E.jsx("div",{className:"font-bold text-gray-800",children:Ae.name}),E.jsx("div",{className:"text-xs text-gray-400 font-mono",children:Ae.username})]}),E.jsx("td",{className:"p-4",children:E.jsx("span",{className:"bg-gray-100 px-2 py-1 rounded text-xs font-bold",children:Ae.role})}),E.jsx("td",{className:"p-4",children:E.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold uppercase
                                          ${Ae.subscriptionTier==="tycoon"?"bg-purple-100 text-purple-800":Ae.subscriptionTier==="board"?"bg-blue-100 text-blue-800":Ae.subscriptionTier==="founder"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-500"}
                                      `,children:Ae.subscriptionTier})}),E.jsxs("td",{className:"p-4 text-gray-500",children:["Lvl ",Ae.level,"  ",Ae.bizCoins," Coins"]}),E.jsxs("td",{className:"p-4 text-right flex justify-end gap-2",children:[E.jsx("button",{onClick:()=>tt(Ae),className:"bg-purple-100 text-purple-600 p-2 rounded hover:bg-purple-200",title:"Login As",children:E.jsx(q9,{size:16})}),E.jsx("button",{onClick:()=>ft(Ae),className:"bg-blue-50 text-blue-600 p-2 rounded hover:bg-blue-100",children:E.jsx(ho,{size:16})}),E.jsx("button",{onClick:()=>{confirm("Delete user?")&&f(Ae.id)},className:"bg-red-50 text-red-600 p-2 rounded hover:bg-red-100",children:E.jsx(kn,{size:16})})]})]},Ae.id))})]})})]}),L==="CLASSES"&&E.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-gray-200 overflow-hidden",children:[E.jsxs("div",{className:"p-4 border-b bg-gray-50 flex justify-between items-center",children:[E.jsxs("span",{className:"font-bold text-gray-500",children:[w.length," Classrooms"]}),E.jsxs("button",{onClick:()=>Gt(),className:"bg-blue-600 text-white px-4 py-2 rounded-xl font-bold text-sm flex items-center gap-2 hover:bg-blue-700",children:[E.jsx(vo,{size:16})," Create Class"]})]}),E.jsx("div",{className:"overflow-x-auto",children:E.jsxs("table",{className:"w-full text-sm",children:[E.jsx("thead",{className:"bg-gray-50 text-left font-bold text-gray-400 uppercase",children:E.jsxs("tr",{children:[E.jsx("th",{className:"p-4",children:"Class Name"}),E.jsx("th",{className:"p-4",children:"Code"}),E.jsx("th",{className:"p-4",children:"Teacher"}),E.jsx("th",{className:"p-4",children:"Students"}),E.jsx("th",{className:"p-4 text-right",children:"Actions"})]})}),E.jsxs("tbody",{className:"divide-y divide-gray-100",children:[w.map(Ae=>{var Ke;return E.jsxs("tr",{className:"hover:bg-gray-50",children:[E.jsx("td",{className:"p-4 font-bold text-gray-800",children:Ae.name}),E.jsx("td",{className:"p-4 font-mono text-blue-600 font-bold",children:Ae.code}),E.jsx("td",{className:"p-4",children:((Ke=m.find($e=>$e.id===Ae.teacherId))==null?void 0:Ke.name)||E.jsxs("span",{className:"text-red-400",children:["Unknown ID: ",Ae.teacherId]})}),E.jsx("td",{className:"p-4",children:Ae.studentIds.length}),E.jsxs("td",{className:"p-4 text-right flex justify-end gap-2",children:[E.jsx("button",{onClick:()=>Gt(Ae),className:"bg-blue-50 text-blue-600 p-2 rounded hover:bg-blue-100",children:E.jsx(ho,{size:16})}),E.jsx("button",{onClick:()=>{confirm("Delete Class?")&&y(Ae.id)},className:"bg-red-50 text-red-600 p-2 rounded hover:bg-red-100",children:E.jsx(kn,{size:16})})]})]},Ae.id)}),w.length===0&&E.jsx("tr",{children:E.jsx("td",{colSpan:5,className:"p-8 text-center text-gray-400",children:"No classes found."})})]})]})})]}),L==="LIBRARY"&&E.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-gray-200 overflow-hidden",children:[E.jsxs("div",{className:"p-4 border-b bg-gray-50 flex justify-between items-center",children:[E.jsxs("span",{className:"font-bold text-gray-500",children:[S.length," Books in Library"]}),E.jsxs("button",{onClick:()=>Gs(),className:"bg-blue-600 text-white px-4 py-2 rounded-xl font-bold text-sm flex items-center gap-2 hover:bg-blue-700",children:[E.jsx(vo,{size:16})," Add Book"]})]}),E.jsx("div",{className:"overflow-x-auto",children:E.jsxs("table",{className:"w-full text-sm",children:[E.jsx("thead",{className:"bg-gray-50 text-left font-bold text-gray-400 uppercase",children:E.jsxs("tr",{children:[E.jsx("th",{className:"p-4 w-16",children:"Cover"}),E.jsx("th",{className:"p-4",children:"Title / Author"}),E.jsx("th",{className:"p-4",children:"Category"}),E.jsx("th",{className:"p-4",children:"Age"}),E.jsx("th",{className:"p-4 text-right",children:"Actions"})]})}),E.jsxs("tbody",{className:"divide-y divide-gray-100",children:[S.map(Ae=>E.jsxs("tr",{className:"hover:bg-gray-50",children:[E.jsx("td",{className:"p-4",children:E.jsx("img",{src:Ae.coverUrl,alt:"Cover",className:"w-10 h-14 object-cover rounded shadow-sm bg-gray-200"})}),E.jsxs("td",{className:"p-4",children:[E.jsx("div",{className:"font-bold text-gray-800 text-base",children:Ae.title}),E.jsx("div",{className:"text-gray-500 font-bold text-xs",children:Ae.author})]}),E.jsx("td",{className:"p-4",children:E.jsx("span",{className:"bg-blue-50 text-blue-600 px-2 py-1 rounded text-xs font-bold uppercase tracking-wider",children:Ae.category})}),E.jsx("td",{className:"p-4 text-gray-500 font-bold",children:Ae.ageRating}),E.jsxs("td",{className:"p-4 text-right flex justify-end gap-2",children:[E.jsx("button",{onClick:()=>Gs(Ae),className:"bg-blue-50 text-blue-600 p-2 rounded hover:bg-blue-100",children:E.jsx(ho,{size:16})}),E.jsx("button",{onClick:()=>{confirm("Delete book?")&&N(Ae.id)},className:"bg-red-50 text-red-600 p-2 rounded hover:bg-red-100",children:E.jsx(kn,{size:16})})]})]},Ae.id)),S.length===0&&E.jsx("tr",{children:E.jsx("td",{colSpan:5,className:"p-8 text-center text-gray-400 font-bold",children:"The library is empty."})})]})]})})]}),L==="WORK"&&E.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-gray-200 overflow-hidden",children:[E.jsxs("div",{className:"p-4 border-b bg-gray-50 flex gap-4",children:[E.jsx("button",{onClick:()=>U("ASSIGNMENTS"),className:`font-bold ${P==="ASSIGNMENTS"?"text-blue-600":"text-gray-400"}`,children:"Assignments"}),E.jsx("button",{onClick:()=>U("SUBMISSIONS"),className:`font-bold ${P==="SUBMISSIONS"?"text-blue-600":"text-gray-400"}`,children:"Submissions"})]}),E.jsx("div",{className:"overflow-x-auto max-h-[600px]",children:P==="ASSIGNMENTS"?E.jsxs("table",{className:"w-full text-sm",children:[E.jsx("thead",{className:"bg-gray-50 text-left font-bold text-gray-400 uppercase",children:E.jsxs("tr",{children:[E.jsx("th",{className:"p-4",children:"Title"}),E.jsx("th",{className:"p-4",children:"Due Date"}),E.jsx("th",{className:"p-4",children:"Class"}),E.jsx("th",{className:"p-4 text-right",children:"Actions"})]})}),E.jsx("tbody",{className:"divide-y divide-gray-100",children:r.map(Ae=>E.jsxs("tr",{className:"hover:bg-gray-50",children:[E.jsx("td",{className:"p-4 font-bold text-gray-800",children:Ae.title}),E.jsx("td",{className:"p-4",children:Ae.dueDate?new Date(Ae.dueDate).toLocaleDateString():"None"}),E.jsx("td",{className:"p-4 text-xs font-mono text-gray-500",children:Ae.classId}),E.jsx("td",{className:"p-4 text-right",children:E.jsx("button",{onClick:()=>h(Ae.id),className:"text-red-500 hover:bg-red-50 p-2 rounded",children:E.jsx(kn,{size:16})})})]},Ae.id))})]}):E.jsxs("table",{className:"w-full text-sm",children:[E.jsx("thead",{className:"bg-gray-50 text-left font-bold text-gray-400 uppercase",children:E.jsxs("tr",{children:[E.jsx("th",{className:"p-4",children:"Student"}),E.jsx("th",{className:"p-4",children:"Assignment"}),E.jsx("th",{className:"p-4",children:"Status"}),E.jsx("th",{className:"p-4 text-right",children:"Actions"})]})}),E.jsx("tbody",{className:"divide-y divide-gray-100",children:x.map(Ae=>{const Ke=m.find(Ft=>Ft.id===Ae.studentId),$e=r.find(Ft=>Ft.id===Ae.assignmentId);return E.jsxs("tr",{className:"hover:bg-gray-50",children:[E.jsx("td",{className:"p-4 font-bold text-gray-800",children:(Ke==null?void 0:Ke.name)||Ae.studentId}),E.jsx("td",{className:"p-4",children:($e==null?void 0:$e.title)||Ae.assignmentId}),E.jsx("td",{className:"p-4",children:E.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${Ae.status==="GRADED"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:Ae.status})}),E.jsx("td",{className:"p-4 text-right",children:E.jsx("button",{onClick:()=>A(Ae.id),className:"text-red-500 hover:bg-red-50 p-2 rounded",children:E.jsx(kn,{size:16})})})]},Ae.id)})})]})})]}),L==="CONTENT"&&E.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-gray-200 overflow-hidden",children:[E.jsxs("div",{className:"p-4 border-b bg-gray-50 flex justify-between items-center",children:[E.jsxs("div",{className:"flex gap-4",children:[E.jsxs("button",{onClick:()=>M("LESSONS"),className:`font-bold ${I==="LESSONS"?"text-blue-600":"text-gray-400"}`,children:["Lessons (",n.length,")"]}),E.jsxs("button",{onClick:()=>M("GAMES"),className:`font-bold ${I==="GAMES"?"text-blue-600":"text-gray-400"}`,children:["Games (",s.length,")"]})]}),E.jsxs("button",{onClick:Rt,className:"bg-blue-600 text-white px-4 py-2 rounded-xl font-bold text-sm flex items-center gap-2 hover:bg-blue-700",children:[E.jsx(vo,{size:16})," New ",I==="LESSONS"?"Lesson":"Game"]})]}),E.jsxs("div",{className:"divide-y divide-gray-100 max-h-[600px] overflow-y-auto",children:[I==="LESSONS"&&n.map(Ae=>E.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-gray-50 group",children:[E.jsxs("div",{children:[E.jsx("div",{className:"font-bold text-gray-800",children:vr(Ae.lesson_payload.headline)}),E.jsxs("div",{className:"text-xs text-gray-400 font-mono",children:[Ae.id,"  ",Ae.topic_tag]})]}),E.jsxs("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[E.jsx("button",{onClick:()=>ct(Ae,Ae.id),className:"p-2 text-blue-500 hover:bg-blue-100 rounded-lg",children:E.jsx(ho,{size:18})}),E.jsx("button",{onClick:Ke=>rt(Ke,Ae.id,"LESSON"),className:"p-2 text-red-500 hover:bg-red-100 rounded-lg",children:E.jsx(kn,{size:18})})]})]},Ae.id)),I==="GAMES"&&s.map(Ae=>{var Ke;return E.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-gray-50 group",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"text-2xl",children:((Ke=Ae.visual_config)==null?void 0:Ke.icon)||""}),E.jsxs("div",{children:[E.jsx("div",{className:"font-bold text-gray-800",children:Ae.name}),E.jsx("div",{className:"text-xs text-gray-400 font-mono",children:Ae.game_type})]})]}),E.jsxs("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[E.jsx("button",{onClick:()=>ct(Ae,Ae.business_id),className:"p-2 text-blue-500 hover:bg-blue-100 rounded-lg",children:E.jsx(ho,{size:18})}),E.jsx("button",{onClick:$e=>rt($e,Ae.business_id,"GAME"),className:"p-2 text-red-500 hover:bg-red-100 rounded-lg",children:E.jsx(kn,{size:18})})]})]},Ae.business_id)})]})]}),L==="CMS"&&E.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-gray-200 p-8",children:[E.jsxs("div",{className:"flex justify-between items-center mb-8 sticky top-0 bg-white z-10 py-4 border-b border-gray-100",children:[E.jsx("h3",{className:"font-bold text-xl text-gray-800",children:"Site Content Manager"}),E.jsxs("div",{className:"flex gap-4 items-center",children:[E.jsxs("div",{className:"bg-gray-100 p-1 rounded-xl flex gap-1",children:[E.jsx("button",{onClick:()=>Pe("LANDING"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${Re==="LANDING"?"bg-white shadow-sm text-gray-800":"text-gray-500 hover:text-gray-700"}`,children:"Landing Page"}),E.jsx("button",{onClick:()=>Pe("FEATURES"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${Re==="FEATURES"?"bg-white shadow-sm text-gray-800":"text-gray-500 hover:text-gray-700"}`,children:"Features"}),E.jsx("button",{onClick:()=>Pe("PAGES"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${Re==="PAGES"?"bg-white shadow-sm text-gray-800":"text-gray-500 hover:text-gray-700"}`,children:"Pages"})]}),E.jsxs("button",{onClick:Qt,className:"bg-green-600 text-white px-6 py-2 rounded-xl font-bold flex items-center gap-2 hover:bg-green-700 shadow-md",children:[E.jsx(Zv,{size:18})," Save Changes"]})]})]}),Re==="LANDING"&&E.jsxs("div",{className:"space-y-8 animate-fade-in",children:[E.jsxs("div",{className:"bg-gray-50 p-6 rounded-2xl border border-gray-200 space-y-4",children:[E.jsx("div",{className:"text-sm font-bold text-gray-400 uppercase mb-2",children:"Hero Section"}),E.jsx(Zt,{label:"Hero Title",value:Be.landing.heroTitle,onChange:Ae=>on("heroTitle",Ae),type:"textarea"}),E.jsx(Zt,{label:"Hero Subtitle",value:Be.landing.heroSubtitle,onChange:Ae=>on("heroSubtitle",Ae),type:"textarea"}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsx(Zt,{label:"CTA Button",value:Be.landing.heroCta,onChange:Ae=>on("heroCta",Ae)}),E.jsx(Zt,{label:"Hero Image URL",value:Be.landing.heroImage,onChange:Ae=>on("heroImage",Ae),icon:E.jsx(Ku,{size:14})})]})]}),E.jsxs("div",{className:"bg-gray-50 p-6 rounded-2xl border border-gray-200 space-y-4",children:[E.jsx("div",{className:"text-sm font-bold text-gray-400 uppercase mb-2",children:"Standard Sections"}),E.jsx(Zt,{label:"How It Works Title",value:Be.landing.featuresTitle,onChange:Ae=>on("featuresTitle",Ae)}),E.jsx(Zt,{label:"How It Works Subtitle",value:Be.landing.featuresSubtitle,onChange:Ae=>on("featuresSubtitle",Ae)}),E.jsx("div",{className:"border-t border-gray-200 my-4"}),E.jsx(Zt,{label:"Arcade Title",value:Be.landing.arcadeTitle,onChange:Ae=>on("arcadeTitle",Ae)}),E.jsx(Zt,{label:"Arcade Description",value:Be.landing.arcadeDesc,onChange:Ae=>on("arcadeDesc",Ae),type:"textarea"}),E.jsx("div",{className:"border-t border-gray-200 my-4"}),E.jsx(Zt,{label:"Bottom CTA Title",value:Be.landing.ctaTitle,onChange:Ae=>on("ctaTitle",Ae)}),E.jsx(Zt,{label:"Bottom CTA Subtitle",value:Be.landing.ctaSubtitle,onChange:Ae=>on("ctaSubtitle",Ae)})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsx("div",{className:"text-lg font-black text-gray-800",children:"Dynamic Landing Sections"}),E.jsxs("button",{onClick:Qs,className:"text-sm font-bold text-blue-600 hover:bg-blue-50 px-3 py-1 rounded-lg transition-colors flex items-center gap-1",children:[E.jsx(vo,{size:16})," Add Section"]})]}),(Be.landing.extraSections||[]).map((Ae,Ke)=>E.jsxs("div",{className:"bg-white border-2 border-gray-200 rounded-2xl p-6 relative group",children:[E.jsx("div",{className:"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity",children:E.jsx("button",{onClick:()=>js(Ae.id),className:"p-2 text-red-400 hover:text-red-600 hover:bg-red-50 rounded-lg",children:E.jsx(kn,{size:18})})}),E.jsxs("div",{className:"mb-4",children:[E.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase",children:"Section Type"}),E.jsxs("select",{value:Ae.type,onChange:$e=>dt(Ae.id,{type:$e.target.value}),className:"block w-full p-2 border border-gray-200 rounded-lg font-bold mt-1",children:[E.jsx("option",{value:"HERO",children:"Hero Banner"}),E.jsx("option",{value:"TEXT_IMAGE",children:"Text + Image"}),E.jsx("option",{value:"CTA",children:"Call to Action"})]})]}),E.jsx(gB,{block:Ae,onChange:$e=>dt(Ae.id,$e)})]},Ae.id)),(Be.landing.extraSections||[]).length===0&&E.jsx("div",{className:"text-center p-8 bg-gray-50 border-2 border-dashed border-gray-200 rounded-2xl text-gray-400 font-bold",children:"No extra sections added."})]})]}),Re==="FEATURES"&&E.jsxs("div",{className:"bg-gray-50 p-6 rounded-2xl border border-gray-200 space-y-6 animate-fade-in",children:[E.jsxs("div",{children:[E.jsx("div",{className:"text-sm font-bold text-gray-400 uppercase mb-2",children:"Learning Section"}),E.jsx(Zt,{label:"Title",value:Be.features.learningTitle,onChange:Ae=>Kt("learningTitle",Ae)}),E.jsx(Zt,{label:"Description",value:Be.features.learningDesc,onChange:Ae=>Kt("learningDesc",Ae),type:"textarea"}),E.jsx(Zt,{label:"Image URL",value:Be.features.learningImage,onChange:Ae=>Kt("learningImage",Ae),icon:E.jsx(Ku,{size:14})})]}),E.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[E.jsx("div",{className:"text-sm font-bold text-gray-400 uppercase mb-2",children:"Arcade Section"}),E.jsx(Zt,{label:"Title",value:Be.features.arcadeTitle,onChange:Ae=>Kt("arcadeTitle",Ae)}),E.jsx(Zt,{label:"Description",value:Be.features.arcadeDesc,onChange:Ae=>Kt("arcadeDesc",Ae),type:"textarea"}),E.jsx(Zt,{label:"Image URL",value:Be.features.arcadeImage,onChange:Ae=>Kt("arcadeImage",Ae),icon:E.jsx(Ku,{size:14})})]}),E.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[E.jsx("div",{className:"text-sm font-bold text-gray-400 uppercase mb-2",children:"Progression Section"}),E.jsx(Zt,{label:"Title",value:Be.features.progressionTitle,onChange:Ae=>Kt("progressionTitle",Ae)}),E.jsx(Zt,{label:"Description",value:Be.features.progressionDesc,onChange:Ae=>Kt("progressionDesc",Ae),type:"textarea"}),E.jsx(Zt,{label:"Image URL",value:Be.features.progressionImage,onChange:Ae=>Kt("progressionImage",Ae),icon:E.jsx(Ku,{size:14})})]}),E.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[E.jsx("div",{className:"text-sm font-bold text-gray-400 uppercase mb-2",children:"Safety Section"}),E.jsx(Zt,{label:"Title",value:Be.features.safetyTitle,onChange:Ae=>Kt("safetyTitle",Ae)}),E.jsx(Zt,{label:"Description",value:Be.features.safetyDesc,onChange:Ae=>Kt("safetyDesc",Ae),type:"textarea"}),E.jsx(Zt,{label:"Image URL",value:Be.features.safetyImage,onChange:Ae=>Kt("safetyImage",Ae),icon:E.jsx(Ku,{size:14})})]})]}),Re==="PAGES"&&E.jsxs("div",{className:"animate-fade-in space-y-6",children:[E.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-4 rounded-2xl",children:[E.jsx("h3",{className:"font-bold text-lg text-gray-800",children:"Custom Pages"}),E.jsxs("button",{onClick:bs,className:"bg-blue-600 text-white px-4 py-2 rounded-xl font-bold flex items-center gap-2 hover:bg-blue-700 shadow-sm text-sm",children:[E.jsx(vo,{size:16})," New Page"]})]}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:Be.customPages.map(Ae=>E.jsxs("div",{className:"border-2 border-gray-200 bg-white rounded-2xl p-6 hover:border-blue-300 transition-colors group relative",children:[E.jsxs("div",{className:"absolute top-4 right-4 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[E.jsx("button",{onClick:()=>window.open(`#/page/${Ae.slug}`,"_blank"),className:"p-2 bg-gray-100 text-gray-600 rounded-lg hover:bg-gray-200",title:"View",children:E.jsx(T9,{size:16})}),E.jsx("button",{onClick:()=>We(Ae),className:"p-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100",children:E.jsx(ho,{size:16})}),E.jsx("button",{onClick:()=>Vs(Ae.id),className:"p-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100",children:E.jsx(kn,{size:16})})]}),E.jsx("h4",{className:"font-black text-xl text-gray-800 mb-1",children:Ae.title}),E.jsxs("code",{className:"text-xs font-bold text-gray-400 bg-gray-100 px-2 py-1 rounded",children:["/",Ae.slug]}),E.jsxs("div",{className:"mt-4 text-sm font-bold text-gray-500",children:[Ae.blocks.length," Content Blocks"]})]},Ae.id))}),Ge&&E.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:E.jsxs("div",{className:"bg-white w-full max-w-4xl h-[90vh] rounded-3xl shadow-2xl flex flex-col overflow-hidden",children:[E.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("button",{onClick:()=>We(null),className:"p-2 hover:bg-white rounded-full transition-colors text-gray-500",children:E.jsx(ja,{size:20})}),E.jsxs("h3",{className:"font-black text-xl text-gray-800",children:["Editing Page: ",Ge.title]})]}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("button",{onClick:()=>Qt(),className:"bg-green-600 text-white px-4 py-2 rounded-lg font-bold",children:"Save All"}),E.jsx("button",{onClick:()=>We(null),className:"p-2 hover:bg-gray-200 rounded-full",children:E.jsx(qn,{size:20})})]})]}),E.jsxs("div",{className:"flex-1 overflow-y-auto p-8 space-y-8 bg-gray-50",children:[E.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 grid grid-cols-2 gap-6",children:[E.jsx(Zt,{label:"Page Title",value:Ge.title,onChange:Ae=>zi(Ge.id,{title:Ae})}),E.jsx(Zt,{label:"URL Slug",value:Ge.slug,onChange:Ae=>zi(Ge.id,{slug:Ae})})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsx("h4",{className:"font-bold text-gray-500 uppercase text-sm",children:"Content Blocks"}),E.jsx("button",{onClick:()=>Ii(Ge.id),className:"text-blue-600 font-bold text-sm hover:underline",children:"+ Add Block"})]}),Ge.blocks.map((Ae,Ke)=>E.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-gray-200 relative group",children:[E.jsx("div",{className:"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity",children:E.jsx("button",{onClick:()=>zn(Ge.id,Ae.id),className:"text-red-400 hover:text-red-600 p-2",children:E.jsx(kn,{size:18})})}),E.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[E.jsxs("span",{className:"bg-gray-100 text-gray-500 px-2 py-1 rounded text-xs font-bold",children:["#",Ke+1]}),E.jsxs("select",{value:Ae.type,onChange:$e=>bi(Ge.id,Ae.id,{type:$e.target.value}),className:"font-bold text-gray-800 bg-transparent outline-none border-b-2 border-transparent focus:border-blue-500",children:[E.jsx("option",{value:"HERO",children:"Hero Banner"}),E.jsx("option",{value:"TEXT_IMAGE",children:"Text + Image"}),E.jsx("option",{value:"CTA",children:"Call to Action"})]})]}),E.jsx(gB,{block:Ae,onChange:$e=>bi(Ge.id,Ae.id,$e)})]},Ae.id)),Ge.blocks.length===0&&E.jsx("div",{className:"text-center p-12 text-gray-400 font-bold border-2 border-dashed border-gray-200 rounded-2xl",children:"Page is empty. Add a block to get started."})]})]})]})})]})]}),Q&&$&&E.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:E.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-md w-full shadow-xl",children:[E.jsxs("div",{className:"flex justify-between items-center mb-6",children:[E.jsx("h3",{className:"text-2xl font-black text-gray-800",children:m.find(Ae=>Ae.id===$.id)?"Edit User":"Create User"}),E.jsx("button",{onClick:()=>J(!1),className:"text-gray-400 hover:text-gray-600",children:E.jsx(qn,{})})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Name"}),E.jsx("input",{type:"text",value:$.name,onChange:Ae=>_({...$,name:Ae.target.value}),className:"w-full p-2 border-2 border-gray-200 rounded-xl font-bold"})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Username"}),E.jsx("input",{type:"text",value:$.username,onChange:Ae=>_({...$,username:Ae.target.value}),className:"w-full p-2 border-2 border-gray-200 rounded-xl font-bold"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Password"}),E.jsx("input",{type:"text",value:$.password||"",onChange:Ae=>_({...$,password:Ae.target.value}),className:"w-full p-2 border-2 border-gray-200 rounded-xl font-bold"})]})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Role"}),E.jsxs("select",{value:$.role,onChange:Ae=>_({...$,role:Ae.target.value}),className:"w-full p-2 border-2 border-gray-200 rounded-xl font-bold bg-white",children:[E.jsx("option",{value:"KID",children:"Kid"}),E.jsx("option",{value:"TEACHER",children:"Teacher"}),E.jsx("option",{value:"PARENT",children:"Parent"}),E.jsx("option",{value:"ADMIN",children:"Admin"})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Tier"}),E.jsxs("select",{value:$.subscriptionTier||"intern",onChange:Ae=>_({...$,subscriptionTier:Ae.target.value}),className:"w-full p-2 border-2 border-gray-200 rounded-xl font-bold bg-white",children:[E.jsx("option",{value:"intern",children:"Intern"}),E.jsx("option",{value:"founder",children:"Founder"}),E.jsx("option",{value:"board",children:"Board"}),E.jsx("option",{value:"tycoon",children:"Tycoon"})]})]})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"BizCoins"}),E.jsx("input",{type:"number",value:$.bizCoins,onChange:Ae=>_({...$,bizCoins:parseInt(Ae.target.value)}),className:"w-full p-2 border-2 border-gray-200 rounded-xl font-bold"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Level"}),E.jsx("input",{type:"number",value:$.level,onChange:Ae=>_({...$,level:parseInt(Ae.target.value)}),className:"w-full p-2 border-2 border-gray-200 rounded-xl font-bold"})]})]}),E.jsx("button",{onClick:Ci,className:"w-full bg-green-600 text-white font-bold py-3 rounded-xl shadow-md mt-4",children:"Save User"})]})]})}),te&&ce&&E.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:E.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-md w-full shadow-xl",children:[E.jsxs("div",{className:"flex justify-between items-center mb-6",children:[E.jsx("h3",{className:"text-2xl font-black text-gray-800",children:w.find(Ae=>Ae.id===ce.id)?"Edit Class":"Create Class"}),E.jsx("button",{onClick:()=>se(!1),className:"text-gray-400 hover:text-gray-600",children:E.jsx(qn,{})})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Class Name"}),E.jsx("input",{type:"text",value:ce.name,onChange:Ae=>ge({...ce,name:Ae.target.value}),className:"w-full p-2 border-2 border-gray-200 rounded-xl font-bold"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Class Code"}),E.jsx("input",{type:"text",value:ce.code,onChange:Ae=>ge({...ce,code:Ae.target.value.toUpperCase()}),className:"w-full p-2 border-2 border-gray-200 rounded-xl font-bold uppercase tracking-widest"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Teacher"}),E.jsxs("select",{value:ce.teacherId,onChange:Ae=>ge({...ce,teacherId:Ae.target.value}),className:"w-full p-2 border-2 border-gray-200 rounded-xl font-bold bg-white",children:[E.jsx("option",{value:"",children:"Select Teacher"}),m.filter(Ae=>Ae.role===vt.TEACHER||Ae.role===vt.ADMIN).map(Ae=>E.jsxs("option",{value:Ae.id,children:[Ae.name," (",Ae.username,")"]},Ae.id))]})]}),E.jsx("button",{onClick:Cs,className:"w-full bg-blue-600 text-white font-bold py-3 rounded-xl shadow-md mt-4",children:"Save Class"})]})]})}),ue&&Ce&&E.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm overflow-y-auto",children:E.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-lg w-full shadow-xl my-auto",children:[E.jsxs("div",{className:"flex justify-between items-center mb-6",children:[E.jsx("h3",{className:"text-2xl font-black text-gray-800",children:S.find(Ae=>Ae.id===Ce.id)?"Edit Book":"Add New Book"}),E.jsx("button",{onClick:()=>re(!1),className:"text-gray-400 hover:text-gray-600",children:E.jsx(qn,{})})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Title"}),E.jsx("input",{type:"text",value:Ce.title,onChange:Ae=>ye({...Ce,title:Ae.target.value}),className:"w-full p-2 border-2 border-gray-200 rounded-xl font-bold"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Author"}),E.jsx("input",{type:"text",value:Ce.author,onChange:Ae=>ye({...Ce,author:Ae.target.value}),className:"w-full p-2 border-2 border-gray-200 rounded-xl font-bold"})]})]}),E.jsxs("button",{onClick:mi,disabled:Ee,className:"w-full py-2 bg-gradient-to-r from-purple-500 to-indigo-600 text-white rounded-xl font-bold text-sm shadow-md flex items-center justify-center gap-2 hover:brightness-110 disabled:opacity-70",children:[Ee?E.jsx(Jl,{className:"animate-spin",size:16}):E.jsx($v,{size:16}),Ee?"Generating...":"Auto-Fill with AI"]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Cover Image URL"}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("input",{type:"text",value:Ce.coverUrl,onChange:Ae=>ye({...Ce,coverUrl:Ae.target.value}),className:"flex-1 p-2 border-2 border-gray-200 rounded-xl font-bold text-sm"}),Ce.coverUrl&&E.jsx("img",{src:Ce.coverUrl,alt:"Preview",className:"w-10 h-10 rounded object-cover border bg-gray-100"})]})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Category"}),E.jsxs("select",{value:Ce.category,onChange:Ae=>ye({...Ce,category:Ae.target.value}),className:"w-full p-2 border-2 border-gray-200 rounded-xl font-bold bg-white",children:[E.jsx("option",{value:"Finance",children:"Finance"}),E.jsx("option",{value:"Mindset",children:"Mindset"}),E.jsx("option",{value:"Strategy",children:"Strategy"}),E.jsx("option",{value:"Biography",children:"Biography"}),E.jsx("option",{value:"Fiction",children:"Fiction"})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Age Rating"}),E.jsx("input",{type:"text",value:Ce.ageRating,onChange:Ae=>ye({...Ce,ageRating:Ae.target.value}),className:"w-full p-2 border-2 border-gray-200 rounded-xl font-bold"})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Summary"}),E.jsx("textarea",{value:Ce.summary,onChange:Ae=>ye({...Ce,summary:Ae.target.value}),className:"w-full p-2 border-2 border-gray-200 rounded-xl font-medium h-24 text-sm"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Key Lessons (3 Bullet Points)"}),E.jsx("div",{className:"space-y-2",children:[0,1,2].map(Ae=>{var Ke;return E.jsx("input",{type:"text",placeholder:`Lesson ${Ae+1}`,value:((Ke=Ce.keyLessons)==null?void 0:Ke[Ae])||"",onChange:$e=>{const Ft=[...Ce.keyLessons||[]];Ft[Ae]=$e.target.value,ye({...Ce,keyLessons:Ft})},className:"w-full p-2 border-2 border-gray-200 rounded-xl font-medium text-sm"},Ae)})})]}),E.jsx("button",{onClick:xt,className:"w-full bg-blue-600 text-white font-bold py-3 rounded-xl shadow-md mt-2 hover:bg-blue-700",children:"Save Book"})]})]})}),z&&E.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-8 backdrop-blur-sm",children:E.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-5xl h-[85vh] flex flex-col shadow-2xl overflow-hidden",children:[E.jsxs("div",{className:"p-4 border-b flex justify-between items-center bg-gray-100",children:[E.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[E.jsx(ho,{size:18})," JSON Editor"]}),E.jsxs("div",{className:"flex gap-2",children:[I==="GAMES"&&!H&&E.jsxs("button",{onClick:()=>X(!0),className:"bg-purple-600 text-white px-4 py-2 rounded-lg font-bold text-xs flex items-center gap-2 hover:bg-purple-700",children:[E.jsx(QA,{size:14})," Test"]}),E.jsx("button",{onClick:()=>W(null),className:"p-2 hover:bg-gray-200 rounded-full",children:E.jsx(qn,{})})]})]}),E.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[E.jsx("textarea",{className:"flex-1 p-6 font-mono text-sm bg-gray-900 text-green-400 outline-none resize-none",value:Z,onChange:Se,spellCheck:!1}),H&&E.jsx("div",{className:"absolute bottom-20 left-8 bg-red-100 text-red-700 p-2 rounded text-xs font-bold border border-red-300 shadow-xl",children:H})]}),E.jsx("div",{className:"p-4 border-t bg-gray-100 flex justify-end",children:E.jsx("button",{onClick:Xe,disabled:!!H,className:"px-6 py-2 bg-green-600 text-white rounded-xl font-bold hover:bg-green-700 disabled:opacity-50",children:"Save Changes"})})]})}),k&&z&&E.jsx(lI,{gameId:z,onExit:()=>X(!1),previewConfig:JSON.parse(Z)})]})},yl=({active:t,onClick:e,icon:n,label:s})=>E.jsxs("button",{onClick:e,className:`flex items-center gap-2 px-4 py-2 rounded-xl font-bold transition-all ${t?"bg-white text-gray-900 shadow-sm border-2 border-transparent":"bg-gray-800 text-gray-400 hover:bg-gray-700 border-2 border-transparent"}`,children:[n," ",s]}),ud=({label:t,value:e,icon:n,color:s})=>E.jsxs("div",{className:`p-4 rounded-2xl flex flex-col items-center justify-center text-center ${s}`,children:[E.jsx("div",{className:"mb-2 opacity-80",children:n}),E.jsx("div",{className:"text-2xl font-black",children:e}),E.jsx("div",{className:"text-xs font-bold uppercase tracking-widest opacity-60",children:t})]}),Zt=({label:t,value:e,onChange:n,type:s="text",icon:m})=>E.jsxs("div",{children:[E.jsxs("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1 flex items-center gap-2",children:[m," ",t]}),s==="textarea"?E.jsx("textarea",{value:e||"",onChange:w=>n(w.target.value),className:"w-full p-3 rounded-xl border-2 border-gray-200 font-medium focus:border-blue-400 outline-none min-h-[80px] text-sm"}):E.jsx("input",{type:"text",value:e||"",onChange:w=>n(w.target.value),className:"w-full p-3 rounded-xl border-2 border-gray-200 font-medium focus:border-blue-400 outline-none text-sm"})]}),gB=({block:t,onChange:e})=>E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsx(Zt,{label:"Heading",value:t.title,onChange:n=>e({title:n})}),E.jsx(Zt,{label:"Button Label (Opt)",value:t.buttonText,onChange:n=>e({buttonText:n})}),t.type==="TEXT_IMAGE"&&E.jsxs(E.Fragment,{children:[E.jsx(Zt,{label:"Subtitle",value:t.subtitle,onChange:n=>e({subtitle:n})}),E.jsx(Zt,{label:"Image URL",value:t.image,onChange:n=>e({image:n}),icon:E.jsx(Ku,{size:14})}),E.jsxs("div",{className:"col-span-2",children:[E.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Layout"}),E.jsx("div",{className:"flex gap-2",children:["image_left","center","image_right"].map(n=>E.jsx("button",{onClick:()=>e({layout:n}),className:`px-3 py-1 rounded text-xs font-bold border transition-colors ${t.layout===n?"bg-blue-100 border-blue-300 text-blue-700":"bg-white border-gray-200 text-gray-500"}`,children:n.replace("_"," ").toUpperCase()},n))})]})]}),E.jsx("div",{className:"col-span-2",children:E.jsx(Zt,{label:"Content / Body",value:t.content,onChange:n=>e({content:n}),type:"textarea"})}),E.jsx("div",{className:"col-span-2",children:E.jsx(Zt,{label:"Background Color (Hex)",value:t.backgroundColor,onChange:n=>e({backgroundColor:n})})})]}),Sie=({onClose:t})=>{const{joinClass:e}=Mt(),[n,s]=de.useState(""),[m,w]=de.useState(!1),[r,x]=de.useState(!1),{t:i}=Ri(),a=p=>{p.preventDefault(),e(n.toUpperCase())?(x(!0),setTimeout(t,2e3)):(w(!0),setTimeout(()=>w(!1),2e3))};return E.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[180] flex items-center justify-center p-4",children:E.jsxs(ot.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-3xl p-8 max-w-sm w-full relative overflow-hidden shadow-2xl",children:[E.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 rtl:right-auto rtl:left-4",children:E.jsx(qn,{size:24})}),r?E.jsxs("div",{className:"text-center py-8",children:[E.jsx("div",{className:"text-6xl mb-4",children:""}),E.jsx("h3",{className:"text-2xl font-black text-kid-secondary mb-2",children:i("join.success_title")}),E.jsx("p",{className:"text-gray-500 font-bold",children:i("join.success_desc")})]}):E.jsxs("form",{onSubmit:a,className:"text-center",children:[E.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6 text-blue-600",children:E.jsx(tv,{size:32})}),E.jsx("h3",{className:"text-2xl font-black text-gray-800 mb-2",children:i("join.title")}),E.jsx("p",{className:"text-gray-500 font-medium mb-6",children:i("join.desc")}),E.jsx("input",{type:"text",maxLength:6,placeholder:i("join.placeholder"),value:n,onChange:p=>s(p.target.value.toUpperCase()),className:`w-full text-center text-3xl font-black tracking-widest p-4 rounded-xl border-4 outline-none transition-colors mb-6 uppercase placeholder-gray-300
                            ${m?"border-red-300 bg-red-50 text-red-600":"border-gray-100 bg-gray-50 focus:border-blue-400 text-gray-800"}
                        `}),E.jsx("button",{type:"submit",className:"w-full bg-kid-primary text-yellow-900 font-black py-4 rounded-2xl shadow-[0_4px_0_0_rgba(202,138,4,1)] btn-juicy text-lg hover:bg-yellow-400 transition-colors",children:i("join.submit")}),m&&E.jsx("p",{className:"text-red-500 font-bold mt-4 text-sm",children:i("join.error")})]})]})})},Tie={hq_garage:"from-gray-700 to-gray-900",hq_office:"from-blue-500 to-cyan-400",hq_highrise:"from-indigo-600 to-purple-600",hq_island:"from-teal-400 to-emerald-600"},vB={blue:"from-blue-600 to-indigo-800",gold:"from-yellow-500 to-amber-700",modern:"from-slate-700 to-zinc-900"},Eie=()=>{const{user:t,upgradeHQ:e,updateUser:n}=Mt(),{t:s}=Ri();if(!t)return null;const m=yd.findIndex(c=>c.id===t.hqLevel),w=m===-1?0:m,r=yd[w]||yd[0],i=!(t.subscriptionTier==="intern");let a=Tie[r==null?void 0:r.id]||"from-gray-700 to-gray-900";i&&t.hqTheme&&vB[t.hqTheme]&&(a=vB[t.hqTheme]);const p=()=>{const c=Mt.getState().user;if((c==null?void 0:c.subscriptionTier)==="intern"){alert("Custom HQ is a Founder feature!");return}const o=["blue","gold","modern"],u=t.hqTheme||"blue",l=(o.indexOf(u)+1)%o.length;n(t.id,{hqTheme:o[l]})};return E.jsxs("div",{className:"pb-20 space-y-8",children:[E.jsxs("div",{className:"text-center mb-10",children:[E.jsx("h2",{className:"text-4xl font-black text-gray-800 dark:text-white mb-2",children:s("hq.title")}),E.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-bold",children:s("hq.subtitle")})]}),E.jsxs(ot.div,{layout:!0,className:`rounded-3xl p-10 shadow-2xl border-4 border-white dark:border-gray-700 relative overflow-hidden text-center bg-gradient-to-br ${a}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[E.jsx("button",{onClick:p,className:`absolute top-4 right-4 p-2 rounded-full backdrop-blur-sm transition-colors z-20 flex items-center gap-2 group
                ${i?"bg-white/20 hover:bg-white/30 cursor-pointer":"bg-gray-900/50 cursor-pointer hover:bg-red-900/50"}
            `,title:i?"Change Theme":"Locked (Founder Only)",children:i?E.jsxs(E.Fragment,{children:[E.jsx(Nw,{size:20,className:"text-white"}),E.jsx("span",{className:"text-xs font-bold text-white uppercase hidden group-hover:block",children:t.hqTheme||"Default"})]}):E.jsx(Nn,{size:20,className:"text-red-400"})}),r.id==="hq_island"&&E.jsxs(E.Fragment,{children:[E.jsx(ot.div,{animate:{y:[-10,-20,-10],x:[0,10,0],opacity:[.5,1,.5]},transition:{repeat:1/0,duration:3},className:"absolute top-10 left-10 text-white opacity-50",children:""}),E.jsx(ot.div,{animate:{y:[0,-15,0],x:[0,-5,0]},transition:{repeat:1/0,duration:4,delay:1},className:"absolute top-20 right-20 text-white opacity-50",children:""})]}),E.jsx(ot.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1,y:[0,-10,0]},transition:{scale:{duration:.5},y:{repeat:1/0,duration:3,ease:"easeInOut"}},className:"text-9xl mb-6 relative z-10 drop-shadow-2xl filter",children:r.icon},r.id),E.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-b from-white/10 to-transparent pointer-events-none"}),E.jsxs("div",{className:"relative z-10",children:[E.jsx(ot.h3,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},className:"text-4xl font-black text-white drop-shadow-md mb-2",children:r.name},r.name),E.jsx("p",{className:"text-white/90 font-bold text-lg max-w-md mx-auto",children:r.description})]})]}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:yd.map((c,o)=>{const u=o<=w,l=o===w+1,d=l&&t.bizCoins>=c.cost;return E.jsxs(ot.div,{whileHover:l?{scale:1.05}:{},className:`p-6 rounded-2xl border-2 flex flex-col items-center text-center transition-all relative overflow-hidden
                        ${u?"bg-green-50 dark:bg-green-900/30 border-green-200 dark:border-green-800 opacity-80":"bg-white dark:bg-gray-800 border-gray-100 dark:border-gray-700"}
                        ${l?"ring-4 ring-yellow-300 border-yellow-500 shadow-xl z-10 opacity-100":""}
                    `,children:[l&&E.jsx("div",{className:"absolute top-0 right-0 rtl:left-0 rtl:right-auto bg-yellow-400 text-yellow-900 text-xs font-black px-2 py-1 rounded-bl-lg rtl:rounded-br-lg rtl:rounded-bl-none",children:s("hq.next")}),E.jsx("div",{className:"text-4xl mb-3 filter drop-shadow-sm",children:c.icon}),E.jsx("div",{className:"font-bold text-gray-800 dark:text-white mb-1",children:c.name}),u?E.jsxs("div",{className:"mt-auto pt-4 text-green-600 dark:text-green-400 font-bold flex items-center gap-2",children:[E.jsx(Jv,{size:18})," ",s("hq.owned")]}):l?E.jsxs("button",{onClick:()=>e(c.id),disabled:!d,className:`mt-auto w-full py-2 rounded-xl font-bold flex items-center justify-center gap-2 transition-all
                                ${d?"bg-kid-primary text-yellow-900 hover:bg-yellow-400 btn-juicy shadow-md":"bg-gray-200 dark:bg-gray-700 text-gray-400 dark:text-gray-500 cursor-not-allowed"}
                            `,children:[d?E.jsx(_D,{size:18}):E.jsx(Nn,{size:18}),"$",c.cost.toLocaleString()]}):E.jsxs("div",{className:"mt-auto pt-4 text-gray-400 dark:text-gray-500 font-bold flex items-center gap-2",children:[E.jsx(Nn,{size:18})," ",s("hq.locked")]})]},c.id)})})]})},Bie=()=>{const{user:t,unlockSkill:e}=Mt(),{t:n}=Ri();if(!t)return null;const s=["CHARISMA","EFFICIENCY","WISDOM"],m={CHARISMA:Mw,EFFICIENCY:gs,WISDOM:GA},w={CHARISMA:"text-pink-600 dark:text-pink-400 bg-pink-100 dark:bg-pink-900/30 border-pink-200 dark:border-pink-800",EFFICIENCY:"text-blue-600 dark:text-blue-400 bg-blue-100 dark:bg-blue-900/30 border-blue-200 dark:border-blue-800",WISDOM:"text-purple-600 dark:text-purple-400 bg-purple-100 dark:bg-purple-900/30 border-purple-200 dark:border-purple-800"},r={CHARISMA:"bg-pink-300 dark:bg-pink-800",EFFICIENCY:"bg-blue-300 dark:bg-blue-800",WISDOM:"bg-purple-300 dark:bg-purple-800"};return E.jsxs("div",{className:"pb-24 px-4 max-w-6xl mx-auto",children:[E.jsxs("div",{className:"text-center mb-12",children:[E.jsx("h2",{className:"text-4xl font-black text-gray-800 dark:text-white mb-3",children:n("skills.title")}),E.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-bold text-lg",children:n("skills.subtitle")})]}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 lg:gap-12",children:s.map(x=>{const i=_g.filter(a=>a.category===x);return E.jsxs("div",{className:"flex flex-col items-center",children:[E.jsxs("div",{className:`w-full flex items-center justify-center gap-3 p-4 rounded-3xl border-4 shadow-sm mb-2 z-10 relative ${w[x]}`,children:[Nl.createElement(m[x],{size:32,strokeWidth:2.5}),E.jsx("h3",{className:"font-black text-2xl tracking-tight",children:x})]}),E.jsx("div",{className:"flex flex-col items-center w-full",children:i.map((a,p)=>{const c=t.unlockedSkills.includes(a.id),o=p>0?i[p-1]:null,u=!o||t.unlockedSkills.includes(o.id),l=!c&&u,d=!c&&!u;return E.jsxs(Nl.Fragment,{children:[E.jsx("div",{className:`w-2 h-12 rounded-full my-1 transition-colors duration-500
                                          ${u?r[x]:"bg-gray-200 dark:bg-gray-700"}
                                      `}),E.jsxs(ot.div,{whileHover:d?{}:{scale:1.03,translateY:-2},className:`relative w-full p-6 rounded-3xl border-4 text-center transition-all duration-300
                                            ${c?"bg-white dark:bg-gray-800 border-green-500 shadow-lg":l?"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 shadow-md ring-4 ring-yellow-100 dark:ring-yellow-900/30 ring-opacity-50":"bg-gray-100 dark:bg-gray-900 border-gray-200 dark:border-gray-700 opacity-60 grayscale"}
                                         `,children:[d&&E.jsx("div",{className:"absolute top-4 right-4 text-gray-400 dark:text-gray-600",children:E.jsx(Nn,{size:20})}),c&&E.jsx("div",{className:"absolute -top-3 -right-3 bg-green-500 text-white p-1 rounded-full border-4 border-white dark:border-gray-800 shadow-sm",children:E.jsx(En,{size:16,strokeWidth:4})}),E.jsx("h4",{className:`font-black text-xl mb-2 ${c?"text-gray-800 dark:text-white":"text-gray-600 dark:text-gray-400"}`,children:a.name}),E.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-bold leading-relaxed mb-6",children:a.description}),c?E.jsx("div",{className:"w-full py-3 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 font-black rounded-xl text-sm flex items-center justify-center gap-2",children:n("skills.active")}):E.jsx("button",{onClick:()=>e(a.id),disabled:!l||t.bizCoins<a.cost,className:`w-full py-3 rounded-xl font-black flex items-center justify-center gap-2 text-sm transition-all
                                                    ${l?t.bizCoins>=a.cost?"bg-kid-primary text-yellow-900 shadow-[0_4px_0_0_rgba(202,138,4,1)] btn-juicy hover:bg-yellow-400":"bg-gray-200 dark:bg-gray-700 text-gray-400 dark:text-gray-500 cursor-not-allowed":"bg-transparent text-gray-400 dark:text-gray-600 cursor-not-allowed border-2 border-gray-200 dark:border-gray-700"}
                                                 `,children:l?t.bizCoins>=a.cost?E.jsxs(E.Fragment,{children:[n("skills.unlock")," ",E.jsxs("span",{className:"bg-black/10 px-1.5 rounded text-xs py-0.5",children:["$",a.cost]})]}):E.jsxs(E.Fragment,{children:[n("skills.need")," $",a.cost]}):E.jsxs("span",{className:"flex items-center gap-1",children:[E.jsx(Nn,{size:12})," ",n("skills.locked")]})})]})]},a.id)})})]},x)})})]})},Fie=()=>{const{user:t,hireManager:e,collectIdleIncome:n,collectAllIdleIncome:s,games:m}=Mt(),[w,r]=de.useState(new Date),{t:x}=Ri();if(de.useEffect(()=>{const c=setInterval(()=>r(new Date),1e3);return()=>clearInterval(c)},[]),!t)return null;const i=(c,o)=>{const u=new Date(c),l=w.getTime()-u.getTime(),d=Math.min(1440,l/(1e3*60)),f=10*o;return Math.floor(f/60*d)},a=(c,o)=>{const u=new Date(c),l=w.getTime()-u.getTime(),f=36e5/(10*o),h=l%f/f;return Math.min(100,h*100)},p=t.portfolio.reduce((c,o)=>c+i(o.lastCollected,o.managerLevel),0);return E.jsxs("div",{className:"pb-20 max-w-5xl mx-auto",children:[E.jsxs("div",{className:"text-center mb-10",children:[E.jsx("h2",{className:"text-4xl font-black text-gray-800 dark:text-white mb-2",children:x("portfolio.title")}),E.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-bold",children:x("portfolio.subtitle")})]}),E.jsx(an,{children:p>=1&&E.jsx(ot.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"mb-10 flex justify-center",children:E.jsxs("button",{onClick:s,className:"bg-green-500 hover:bg-green-400 text-white px-8 py-4 rounded-2xl font-black text-2xl shadow-[0_6px_0_0_rgba(21,128,61,1)] btn-juicy flex items-center gap-3 animate-pulse",children:[E.jsx(AO,{size:32}),x("portfolio.collect"),": $",p]})})}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map(c=>{const o=t.portfolio.find(f=>f.businessId===c.business_id),u=!!o,l=u?i(o.lastCollected,o.managerLevel):0,d=u?a(o.lastCollected,o.managerLevel):0;return E.jsxs(ot.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`bg-white dark:bg-gray-800 rounded-3xl p-6 border-4 shadow-sm flex flex-col relative overflow-hidden transition-all
                        ${u?"border-blue-100 dark:border-blue-800 hover:border-blue-300 dark:hover:border-blue-600":"border-gray-100 dark:border-gray-700 opacity-80"}
                    `,children:[E.jsxs("div",{className:"flex items-center justify-between mb-4",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center text-2xl
                                  ${u?"bg-blue-100 dark:bg-blue-900/30":"bg-gray-100 dark:bg-gray-700 grayscale"}
                              `,children:""}),E.jsxs("div",{children:[E.jsx("h3",{className:"font-black text-lg text-gray-800 dark:text-white leading-tight",children:c.name}),E.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase",children:c.category.split(" ")[0]})]})]}),u?E.jsxs("div",{className:"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 px-3 py-1 rounded-full text-xs font-black uppercase flex items-center gap-1",children:[E.jsx(zA,{size:12})," ",x("portfolio.active")]}):E.jsx(Nn,{size:20,className:"text-gray-300 dark:text-gray-600"})]}),E.jsx("div",{className:"flex-1 mb-6",children:u?E.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-xl space-y-3 border border-gray-100 dark:border-gray-600",children:[E.jsxs("div",{className:"flex justify-between text-sm",children:[E.jsx("span",{className:"text-gray-500 dark:text-gray-300 font-bold",children:x("portfolio.manager_lvl")}),E.jsx("span",{className:"text-gray-800 dark:text-white font-black",children:o.managerLevel})]}),E.jsxs("div",{className:"flex justify-between text-sm",children:[E.jsx("span",{className:"text-gray-500 dark:text-gray-300 font-bold",children:x("portfolio.rate")}),E.jsxs("span",{className:"text-green-600 dark:text-green-400 font-black",children:["$",10*o.managerLevel,"/hr"]})]}),E.jsxs("div",{className:"space-y-1",children:[E.jsxs("div",{className:"flex justify-between text-xs font-bold text-gray-400",children:[E.jsx("span",{children:x("portfolio.earning")}),E.jsxs("span",{children:[Math.round(d),"%"]})]}),E.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-600 h-2 rounded-full overflow-hidden",dir:"ltr",children:E.jsx("div",{className:"h-full bg-yellow-400 transition-all duration-1000 ease-linear",style:{width:`${d}%`}})})]})]}):E.jsx("div",{className:"h-full flex items-center justify-center text-center p-4",children:E.jsx("p",{className:"text-gray-400 text-sm font-bold",children:x("portfolio.hire_prompt")})})}),u?E.jsx("button",{onClick:()=>n(c.business_id),disabled:l<1,className:`w-full py-3 rounded-xl font-black flex items-center justify-center gap-2 transition-all
                                ${l>=1?"bg-green-500 text-white shadow-[0_4px_0_0_rgba(21,128,61,1)] btn-juicy hover:bg-green-600":"bg-gray-100 dark:bg-gray-700 text-gray-400 dark:text-gray-500 cursor-not-allowed"}
                             `,children:l>=1?E.jsxs(E.Fragment,{children:[E.jsx(KN,{size:20})," ",x("portfolio.collect")," $",l]}):E.jsxs(E.Fragment,{children:[E.jsx(Jh,{size:18})," ",x("portfolio.generating")]})}):E.jsxs("button",{onClick:()=>e(c.business_id),disabled:t.bizCoins<500,className:`w-full py-3 rounded-xl font-black flex items-center justify-center gap-2 transition-all
                                ${t.bizCoins>=500?"bg-kid-primary text-yellow-900 shadow-[0_4px_0_0_rgba(202,138,4,1)] btn-juicy hover:bg-yellow-400":"bg-gray-200 dark:bg-gray-700 text-gray-400 dark:text-gray-500 cursor-not-allowed"}
                             `,children:[E.jsx(rL,{size:20})," ",x("portfolio.hire")," ($500)"]})]},c.business_id)})})]})},Nie=({onHome:t,onFeatures:e,onCurriculum:n,onPricing:s,onLogin:m,onRegister:w})=>E.jsxs("div",{className:"min-h-screen bg-white font-sans text-gray-900 pb-20",children:[E.jsx(n0,{onHome:t,onFeatures:e,onCurriculum:n,onPricing:s,onLogin:m,onRegister:w}),E.jsx("div",{className:"bg-green-50 p-8 border-b border-green-100 pt-32",children:E.jsxs("div",{className:"max-w-5xl mx-auto",children:[E.jsx("h1",{className:"text-5xl font-black text-gray-800 mb-4",children:"The Academy Curriculum"}),E.jsx("p",{className:"text-xl text-gray-600 max-w-2xl",children:"A complete business education designed for kids. From the history of money to launching a global startup."})]})}),E.jsx("div",{className:"max-w-5xl mx-auto px-6 py-12",children:E.jsx("div",{className:"grid gap-8",children:UN.map((r,x)=>E.jsxs(ot.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"flex flex-col md:flex-row gap-8 items-start p-8 rounded-3xl border-2 border-gray-100 hover:border-blue-200 transition-all shadow-sm bg-white",children:[E.jsx("div",{className:"w-20 h-20 bg-blue-50 rounded-2xl flex items-center justify-center text-5xl shrink-0",children:r.icon}),E.jsxs("div",{className:"flex-1",children:[E.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[E.jsxs("span",{className:"text-xs font-black text-blue-500 uppercase tracking-widest bg-blue-50 px-2 py-1 rounded",children:["Module ",x+1]}),E.jsxs("div",{className:"flex items-center gap-1 text-gray-400 text-xs font-bold",children:[E.jsx(Jh,{size:14})," 20 Mins"]})]}),E.jsx("h2",{className:"text-2xl font-black text-gray-800 mb-3",children:r.title}),E.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.lessonIds.slice(0,5).map((i,a)=>E.jsxs("span",{className:"px-3 py-1 bg-gray-100 text-gray-600 rounded-lg text-sm font-medium",children:["Lesson ",x+1,".",a+1]},i)),r.lessonIds.length>5&&E.jsxs("span",{className:"px-3 py-1 bg-gray-50 text-gray-400 rounded-lg text-sm font-medium",children:["+",r.lessonIds.length-5," More"]})]})]}),E.jsx("div",{className:"md:self-center",children:E.jsxs("div",{className:"flex flex-col items-center gap-1 bg-yellow-50 p-4 rounded-xl border border-yellow-100",children:[E.jsx(pn,{className:"text-yellow-500 fill-current",size:24}),E.jsxs("span",{className:"font-black text-yellow-800 text-sm",children:["Level ",x+1]})]})})]},r.id))})})]}),Lie={intern:["feat_limited_energy","feat_standard_lessons","feat_ads"],founder:["feat_unlimited","feat_offline","feat_custom_hq"],board:["feat_family","feat_parent_dash","feat_founder_perks"],tycoon:["feat_ai_consultant","feat_negotiation","feat_board_perks"]},Mie=({onHome:t,onFeatures:e,onCurriculum:n,onPricing:s,onLogin:m,onRegister:w,onGetStarted:r})=>{const{t:x}=Ri(),i=(a,p)=>p===0?x("pricing.btn_start_free"):a==="founder"?`${x("pricing.btn_get_funded")}`:a==="board"?`${x("pricing.btn_start_family")}`:a==="tycoon"?`${x("pricing.btn_hire_ollie")}`:`${x("pricing.btn_select")} ${x(`pricing.tier_${a}`)}`;return E.jsxs("div",{className:"min-h-screen bg-white font-sans text-gray-900 pb-20",children:[E.jsx(n0,{onHome:t,onFeatures:e,onCurriculum:n,onPricing:s,onLogin:m,onRegister:w}),E.jsx("div",{className:"bg-gradient-to-b from-blue-50 to-white p-8 border-b border-blue-100 pt-32",children:E.jsx("div",{className:"max-w-7xl mx-auto",children:E.jsxs("div",{className:"text-center max-w-3xl mx-auto py-10",children:[E.jsx("h1",{className:"text-5xl font-black mb-6 text-gray-900",children:x("pricing.title")}),E.jsx("p",{className:"text-xl text-gray-500 font-medium",children:x("pricing.subtitle")})]})})}),E.jsx("div",{className:"max-w-7xl mx-auto px-6 py-12",children:E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:DN.map(a=>{const p=a.recommended,c=Rie(a.id),o=Lie[a.id]||[];return E.jsxs("div",{className:`relative rounded-3xl p-6 flex flex-col h-full transition-all duration-300
                            ${a.color} ${p?"shadow-xl scale-105 z-10 border-2":"border shadow-sm hover:shadow-md"}
                        `,children:[p&&E.jsx("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2 bg-blue-600 text-white text-xs font-black px-4 py-1.5 rounded-full uppercase tracking-widest shadow-lg whitespace-nowrap",children:x("pricing.most_popular")}),E.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[E.jsx("div",{className:"p-2 rounded-xl bg-white shadow-sm text-gray-700",children:c}),E.jsx("h3",{className:"text-xl font-black text-gray-800",children:x(`pricing.tier_${a.id}`)})]}),E.jsxs("div",{className:"mb-2",children:[E.jsxs("span",{className:"text-4xl font-black text-gray-900",children:["$",a.price]}),a.price>0&&E.jsx("span",{className:"text-gray-500 font-bold",children:x(`pricing.per_${a.interval}`)})]}),E.jsx("p",{className:"text-sm text-gray-500 font-medium mb-6 min-h-[40px]",children:x(`pricing.desc_${a.id}`)}),E.jsx("div",{className:"space-y-3 mb-8 flex-1",children:o.map(u=>E.jsxs("div",{className:"flex items-start gap-2 text-sm font-bold text-gray-700",children:[E.jsx(En,{size:16,className:"text-green-500 shrink-0 mt-0.5",strokeWidth:3}),x(`pricing.${u}`)]},u))}),E.jsx("button",{onClick:r,className:`w-full py-3 rounded-xl font-black transition-all shadow-sm ${a.buttonColor}`,children:i(a.id,a.price)})]},a.id)})})})]})},Rie=t=>{switch(t){case"intern":return E.jsx(VA,{size:24});case"founder":return E.jsx(Jo,{size:24,className:"text-blue-500"});case"board":return E.jsx(qh,{size:24,className:"text-purple-500"});case"tycoon":return E.jsx(Zh,{size:24,className:"text-yellow-500"});default:return E.jsx(pn,{size:24})}},Iie=({onHome:t,onFeatures:e,onCurriculum:n,onPricing:s,onLogin:m,onRegister:w})=>{const{cmsContent:r}=Mt(),x=r.features;return E.jsxs("div",{className:"min-h-screen bg-white font-sans text-gray-900 pb-20",children:[E.jsx(n0,{onHome:t,onFeatures:e,onCurriculum:n,onPricing:s,onLogin:m,onRegister:w}),E.jsx("div",{className:"bg-blue-50 p-8 border-b border-blue-100 pt-32",children:E.jsxs("div",{className:"max-w-5xl mx-auto",children:[E.jsx("h1",{className:"text-5xl font-black text-gray-800 mb-4",children:"Platform Features"}),E.jsx("p",{className:"text-xl text-gray-600 max-w-2xl",children:"Discover how KidCap HQ builds the next generation of leaders through play."})]})}),E.jsxs("div",{className:"max-w-5xl mx-auto px-6 py-12 grid gap-12",children:[E.jsx(Yp,{title:x.learningTitle,desc:x.learningDesc,icon:E.jsx(GA,{size:40,className:"text-white"}),color:"bg-purple-500",items:["100+ Lessons","Quizzes & Challenges","AI Tutoring Support"],image:x.learningImage}),E.jsx(Yp,{title:x.arcadeTitle,desc:x.arcadeDesc,icon:E.jsx($h,{size:40,className:"text-white"}),color:"bg-blue-500",items:["30+ Simulation Games","Dynamic Markets","Upgrade Trees"],image:x.arcadeImage,reverse:!0}),E.jsx(Yp,{title:x.progressionTitle,desc:x.progressionDesc,icon:E.jsx(zA,{size:40,className:"text-white"}),color:"bg-green-500",items:["Customizable HQ","Avatar Shop","Skill Trees"],image:x.progressionImage}),E.jsx(Yp,{title:x.safetyTitle,desc:x.safetyDesc,icon:E.jsx(VA,{size:40,className:"text-white"}),color:"bg-orange-500",items:["Parent Dashboard","No Ads","Teacher Controls"],image:x.safetyImage,reverse:!0})]})]})},Yp=({title:t,desc:e,icon:n,color:s,items:m,image:w,reverse:r})=>E.jsxs(ot.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:`flex flex-col md:flex-row gap-12 items-center ${r?"md:flex-row-reverse":""}`,children:[E.jsxs("div",{className:"flex-1 space-y-6",children:[E.jsx("div",{className:`w-16 h-16 rounded-2xl flex items-center justify-center shadow-lg ${s}`,children:n}),E.jsx("h2",{className:"text-3xl font-black text-gray-800",children:t}),E.jsx("p",{className:"text-lg text-gray-500 font-medium leading-relaxed",children:e}),E.jsx("ul",{className:"space-y-3",children:m.map(x=>E.jsxs("li",{className:"flex items-center gap-3 font-bold text-gray-700",children:[E.jsx("div",{className:`w-2 h-2 rounded-full ${s}`}),x]},x))})]}),E.jsx("div",{className:"flex-1",children:E.jsxs("div",{className:"rounded-3xl overflow-hidden shadow-2xl border-4 border-white bg-gray-100 aspect-video relative group",children:[E.jsx(CA,{src:w,alt:t,type:"feature",className:"w-full h-full object-cover transition-transform group-hover:scale-105 duration-700"}),E.jsx("div",{className:`absolute inset-0 opacity-10 ${s} mix-blend-overlay`})]})})]}),Pie=({page:t,onBack:e})=>E.jsxs("div",{className:"min-h-screen bg-white font-sans text-gray-900 pb-20",children:[E.jsx("div",{className:"bg-gray-50 p-8 border-b border-gray-100",children:E.jsxs("div",{className:"max-w-6xl mx-auto",children:[E.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-gray-500 font-bold mb-6 hover:text-gray-900 transition-colors",children:[E.jsx(ja,{size:20})," Back"]}),E.jsx("h1",{className:"text-5xl font-black text-gray-900",children:t.title})]})}),E.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-12 space-y-16",children:[t.blocks.map(n=>E.jsx(Uie,{block:n},n.id)),t.blocks.length===0&&E.jsx("div",{className:"text-center py-20 text-gray-400 font-bold bg-gray-50 rounded-3xl border-2 border-dashed border-gray-200",children:"This page has no content yet."})]})]}),Uie=({block:t})=>{switch(t.type){case"HERO":return E.jsxs("div",{className:"rounded-3xl overflow-hidden relative text-white bg-gray-900 p-12 text-center",style:t.backgroundColor?{backgroundColor:t.backgroundColor}:{},children:[t.image&&E.jsx("div",{className:"absolute inset-0 z-0 opacity-40",children:E.jsx("img",{src:t.image,alt:t.title,className:"w-full h-full object-cover"})}),E.jsxs("div",{className:"relative z-10 max-w-2xl mx-auto",children:[E.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-4",children:t.title}),E.jsx("p",{className:"text-xl md:text-2xl font-medium mb-8 opacity-90",children:t.content}),t.buttonText&&E.jsx("button",{className:"bg-white text-gray-900 px-8 py-3 rounded-full font-black text-lg hover:scale-105 transition-transform",children:t.buttonText})]})]});case"TEXT_IMAGE":return E.jsxs("div",{className:`flex flex-col md:flex-row gap-12 items-center ${t.layout==="image_right"?"md:flex-row-reverse":""}`,children:[t.image&&E.jsx("div",{className:"flex-1 w-full",children:E.jsx("img",{src:t.image,alt:t.title,className:"w-full rounded-3xl shadow-xl border-4 border-white"})}),E.jsxs("div",{className:`flex-1 space-y-4 ${t.layout==="center"?"text-center":""}`,children:[E.jsx("h2",{className:"text-3xl md:text-4xl font-black text-gray-800",children:t.title}),t.subtitle&&E.jsx("h3",{className:"text-xl font-bold text-blue-600",children:t.subtitle}),E.jsx("div",{className:"text-lg text-gray-600 leading-relaxed font-medium whitespace-pre-wrap",children:t.content}),t.buttonText&&E.jsxs("button",{className:"mt-4 bg-kid-primary text-yellow-900 px-6 py-3 rounded-xl font-black shadow-md flex items-center gap-2 hover:bg-yellow-400 transition-colors inline-flex",children:[t.buttonText," ",E.jsx(Qo,{size:20})]})]})]});case"CTA":return E.jsxs("div",{className:"bg-blue-600 text-white rounded-3xl p-12 text-center",style:t.backgroundColor?{backgroundColor:t.backgroundColor}:{},children:[E.jsx("h2",{className:"text-4xl font-black mb-4",children:t.title}),E.jsx("p",{className:"text-xl mb-8 opacity-90 max-w-2xl mx-auto",children:t.content}),t.buttonText&&E.jsx("button",{className:"bg-white text-blue-600 px-8 py-4 rounded-xl font-black text-xl hover:bg-gray-100 transition-colors shadow-lg",children:t.buttonText})]});default:return null}},Die=()=>{const{user:t,hasAiAccess:e,upgradeSubscription:n}=Mt(),[s,m]=de.useState(!1),[w,r]=de.useState(""),[x,i]=de.useState(!1),[a,p]=de.useState(!1),c=de.useRef(null),{t:o}=Ri(),[u,l]=de.useState(()=>localStorage.getItem("ollie_free_sample_used")==="true"),[d,f]=de.useState(!1),h=e(),A=(t==null?void 0:t.subscriptionTier)==="tycoon",[g,v]=de.useState([]);de.useEffect(()=>{v(F=>F.length===0||F.length===1&&F[0].role==="model"?[{role:"model",parts:[{text:o("chat.initial_greeting")}]}]:F)},[o]);const y=()=>{var F;(F=c.current)==null||F.scrollIntoView({behavior:"smooth"})};de.useEffect(()=>{s&&y()},[g,s]);const C=async()=>{if(!w.trim()||x||!h&&u)return;const F=w.trim();r(""),i(!0);const B=[...g,{role:"user",parts:[{text:F}]}];v(B);let N=await PR(g,F);h||(N+=o("chat.free_limit_reply"),l(!0),localStorage.setItem("ollie_free_sample_used","true")),v(L=>[...L,{role:"model",parts:[{text:N}]}]),i(!1)},b=F=>{F.key==="Enter"&&C()},T=()=>{n("tycoon"),f(!1),l(!1),localStorage.removeItem("ollie_free_sample_used"),v(F=>[...F,{role:"model",parts:[{text:o("chat.hired_reply")}]}])};if(!t)return null;const S=F=>a?E.jsx("span",{className:"text-2xl",children:""}):E.jsx("img",{src:"ollie.png",alt:"Ollie",className:"w-full h-full object-cover",onError:()=>p(!0)});return E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"fixed bottom-24 right-4 md:bottom-6 md:right-6 z-[150] flex flex-col items-end pointer-events-none",children:[E.jsx(an,{children:s&&E.jsxs(ot.div,{initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.9},className:`bg-white dark:bg-gray-800 rounded-3xl shadow-2xl w-80 sm:w-96 mb-4 overflow-hidden flex flex-col h-[500px] max-h-[60vh] pointer-events-auto relative
                ${A?"border-4 border-yellow-500":"border-4 border-yellow-400"}
            `,children:[E.jsxs("div",{className:`p-4 flex justify-between items-center shrink-0
                ${A?"bg-gradient-to-r from-gray-900 to-gray-800 text-white":"bg-yellow-400 text-yellow-900"}
            `,children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:`w-12 h-12 bg-white rounded-full flex items-center justify-center border-2 shadow-sm overflow-hidden flex-shrink-0
                    ${A?"border-yellow-500":"border-yellow-600"}
                `,children:S()}),E.jsxs("div",{children:[E.jsxs("h3",{className:"font-black text-lg leading-none flex items-center gap-2",children:["CEO Ollie",A&&E.jsx(Zh,{size:16,className:"text-yellow-400 fill-yellow-400"})]}),E.jsx("p",{className:`text-xs font-bold flex items-center gap-1 ${A?"text-yellow-400":"opacity-80"}`,children:h?A?"VIP Consultant":o("chat.role_consultant"):o("chat.role_free")})]})]}),E.jsx("div",{className:"flex gap-2",children:E.jsx("button",{onClick:()=>m(!1),className:`p-1 rounded-lg transition-colors ${A?"hover:bg-gray-700":"hover:bg-yellow-500"}`,children:E.jsx(l7,{size:20})})})]}),E.jsx("div",{className:"flex-1 bg-gray-50 dark:bg-gray-900 p-4 overflow-y-auto custom-scrollbar",children:E.jsxs("div",{className:"space-y-4",children:[g.map((F,B)=>{const N=F.role==="user";return E.jsxs(ot.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex ${N?"justify-end":"justify-start"}`,children:[!N&&E.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden border-2 border-white dark:border-gray-600 shadow-sm mr-2 flex-shrink-0 bg-yellow-100 flex items-center justify-center",children:S()}),E.jsx("div",{className:`max-w-[80%] p-3 rounded-2xl text-sm font-bold shadow-sm whitespace-pre-wrap
                          ${N?"bg-blue-50 text-blue-900 rounded-tr-none dark:bg-blue-600 dark:text-white":"bg-white text-gray-800 dark:bg-gray-700 dark:text-white border-2 border-gray-100 dark:border-gray-600 rounded-tl-none"}
                        `,children:F.parts[0].text})]},B)}),x&&E.jsxs("div",{className:"flex justify-start",children:[E.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden border-2 border-white dark:border-gray-600 shadow-sm mr-2 flex-shrink-0 bg-yellow-100 flex items-center justify-center",children:S()}),E.jsxs("div",{className:"bg-white dark:bg-gray-700 border-2 border-gray-100 dark:border-gray-600 p-3 rounded-2xl rounded-tl-none flex gap-1 items-center",children:[E.jsx(ot.div,{animate:{y:[0,-5,0]},transition:{repeat:1/0,duration:.6},className:"w-2 h-2 bg-gray-400 rounded-full"}),E.jsx(ot.div,{animate:{y:[0,-5,0]},transition:{repeat:1/0,duration:.6,delay:.1},className:"w-2 h-2 bg-gray-400 rounded-full"}),E.jsx(ot.div,{animate:{y:[0,-5,0]},transition:{repeat:1/0,duration:.6,delay:.2},className:"w-2 h-2 bg-gray-400 rounded-full"})]})]}),E.jsx("div",{ref:c})]})}),E.jsx("div",{className:"p-3 bg-white dark:bg-gray-800 border-t border-gray-100 dark:border-gray-700 shrink-0",children:!h&&u?E.jsxs("button",{onClick:()=>f(!0),className:"w-full bg-gradient-to-r from-purple-600 to-indigo-600 text-white font-black py-3 rounded-2xl shadow-lg flex items-center justify-center gap-2 hover:brightness-110 transition-all btn-juicy",children:[E.jsx(Zh,{size:20,className:"text-yellow-400"})," ",o("chat.hire_button")]}):E.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 dark:bg-gray-700 rounded-2xl px-2 py-1 border-2 border-transparent focus-within:border-kid-accent focus-within:bg-white dark:focus-within:bg-gray-600 transition-all",children:[E.jsx("input",{type:"text",value:w,onChange:F=>r(F.target.value),onKeyDown:b,placeholder:h?A?"Ask your executive consultant...":o("chat.placeholder_paid"):o("chat.placeholder_free"),className:"flex-1 bg-transparent border-none outline-none p-2 text-sm font-bold text-gray-700 dark:text-white placeholder-gray-400 dark:placeholder-gray-400",disabled:x}),E.jsx("button",{onClick:C,disabled:!w.trim()||x,className:`p-2 rounded-xl transition-all ${w.trim()&&!x?"bg-kid-secondary text-white shadow-md hover:bg-green-600":"bg-gray-200 dark:bg-gray-600 text-gray-400 dark:text-gray-500"}`,children:E.jsx(nL,{size:18})})]})})]})}),E.jsx(ot.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>m(!s),className:`w-16 h-16 rounded-full shadow-[0_4px_0_0_rgba(0,0,0,0.2)] flex items-center justify-center border-4 transition-colors relative overflow-hidden pointer-events-auto
          ${s?"bg-gray-200 dark:bg-gray-600 border-white dark:border-gray-700 text-gray-500 dark:text-gray-300":A?"bg-gray-900 text-yellow-400 border-yellow-500":"bg-yellow-400 text-yellow-900 border-white dark:border-gray-700"}
        `,children:s?E.jsx(qn,{size:32,strokeWidth:3}):E.jsxs(E.Fragment,{children:[S(),!h&&!u&&E.jsx("span",{className:"absolute top-0 right-0 w-4 h-4 bg-green-500 rounded-full border-2 border-white animate-pulse"}),A&&E.jsx("div",{className:"absolute top-0 right-0 bg-yellow-500 rounded-full p-1 border border-white",children:E.jsx($v,{size:10,className:"text-white"})}),!h&&u&&E.jsx("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center",children:E.jsx(Nn,{size:20,className:"text-white"})})]})})]}),E.jsx(an,{children:d&&E.jsx(uI,{onSuccess:T,onCancel:()=>f(!1),planName:"Tycoon Plan (AI Unlocked)",price:14.99})})]})},Oie=()=>{const{user:t,assignments:e,submissions:n,addSubmission:s,lessons:m}=Mt(),[w,r]=de.useState("TODO"),[x,i]=de.useState(null),[a,p]=de.useState("");if(!t||!t.classId)return E.jsxs("div",{className:"flex flex-col items-center justify-center h-96 text-center",children:[E.jsx("div",{className:"w-20 h-20 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mb-4",children:E.jsx(Ko,{size:32,className:"text-gray-400 dark:text-gray-500"})}),E.jsx("h2",{className:"text-xl font-black text-gray-800 dark:text-white",children:"No Assignments Yet"}),E.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-bold max-w-xs mt-2",children:"You need to join a class first! Go to your profile to join."})]});const c=de.useMemo(()=>e.filter(h=>h.classId!==t.classId||h.status!=="PUBLISHED"?!1:h.specificStudentIds&&h.specificStudentIds.length>0?h.specificStudentIds.includes(t.id):!0),[e,t]),{todo:o,submitted:u,graded:l}=de.useMemo(()=>{const h=[],A=[],g=[];return c.forEach(v=>{const y=n.find(C=>C.assignmentId===v.id&&C.studentId===t.id);y?y.status==="GRADED"?g.push({assignment:v,submission:y}):A.push({assignment:v,submission:y}):h.push(v)}),{todo:h,submitted:A,graded:g}},[c,n,t]),d=()=>{if(!x)return;if(!a.trim()){alert("Please type your answer or paste a link.");return}const h={id:`sub_${Date.now()}`,assignmentId:x.id,studentId:t.id,submittedAt:new Date().toISOString(),status:"PENDING",content:a};s(h),p(""),i(null)},f=(h,A)=>h===A?{bg:"bg-blue-50 dark:bg-blue-900/30",text:"text-blue-700 dark:text-blue-300",border:"border-blue-200 dark:border-blue-800"}:h>=A*.8?{bg:"bg-green-50 dark:bg-green-900/30",text:"text-green-700 dark:text-green-300",border:"border-green-200 dark:border-green-800"}:h>=A*.5?{bg:"bg-yellow-50 dark:bg-yellow-900/30",text:"text-yellow-700 dark:text-yellow-300",border:"border-yellow-200 dark:border-yellow-800"}:{bg:"bg-red-50 dark:bg-red-900/30",text:"text-red-700 dark:text-red-300",border:"border-red-200 dark:border-red-800"};return E.jsxs("div",{className:"pb-20 max-w-4xl mx-auto",children:[E.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[E.jsx("div",{className:"w-16 h-16 bg-blue-100 dark:bg-blue-900/30 rounded-2xl flex items-center justify-center text-blue-600 dark:text-blue-400",children:E.jsx(Ko,{size:32})}),E.jsxs("div",{children:[E.jsx("h2",{className:"text-3xl font-black text-gray-800 dark:text-white",children:"My Assignments"}),E.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-bold",children:"Keep up the good work!"})]})]}),E.jsxs("div",{className:"flex gap-4 mb-8 border-b border-gray-200 dark:border-gray-700 pb-1 overflow-x-auto",children:[E.jsx(tx,{active:w==="TODO",onClick:()=>r("TODO"),label:`To Do (${o.length})`}),E.jsx(tx,{active:w==="SUBMITTED",onClick:()=>r("SUBMITTED"),label:"Submitted"}),E.jsx(tx,{active:w==="GRADED",onClick:()=>r("GRADED"),label:"Graded"})]}),E.jsxs("div",{className:"space-y-4",children:[w==="TODO"&&(o.length===0?E.jsx(ix,{message:"You're all caught up! Great job!"}):o.map(h=>E.jsx(kie,{assignment:h,onClick:()=>i(h),ctaLabel:"Start"},h.id))),w==="SUBMITTED"&&(u.length===0?E.jsx(ix,{message:"No pending submissions."}):u.map(({assignment:h,submission:A})=>E.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl border-2 border-yellow-100 dark:border-yellow-900/30 shadow-sm opacity-80",children:[E.jsxs("div",{className:"flex justify-between items-center mb-2",children:[E.jsx("h3",{className:"font-black text-lg text-gray-800 dark:text-white",children:h.title}),E.jsx("span",{className:"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-300 text-xs font-bold px-2 py-1 rounded uppercase tracking-wider",children:"Pending Grade"})]}),E.jsxs("p",{className:"text-xs text-gray-400 font-bold",children:["Submitted: ",new Date(A.submittedAt).toLocaleDateString()]})]},h.id))),w==="GRADED"&&(l.length===0?E.jsx(ix,{message:"No graded assignments yet."}):l.map(({assignment:h,submission:A})=>{const g=f(A.grade||0,h.maxPoints);return E.jsxs("div",{className:`p-6 rounded-2xl border-2 shadow-sm flex justify-between items-center ${g.border} bg-white dark:bg-gray-800`,children:[E.jsxs("div",{children:[E.jsx("h3",{className:"font-black text-lg text-gray-800 dark:text-white",children:h.title}),E.jsx("p",{className:`${g.text} font-bold text-sm mt-1`,children:A.feedback})]}),E.jsxs("div",{className:`text-center p-3 rounded-xl min-w-[80px] ${g.bg}`,children:[E.jsx("div",{className:`text-2xl font-black ${g.text}`,children:A.grade}),E.jsx("div",{className:`text-xs font-bold uppercase opacity-80 ${g.text}`,children:"Score"})]})]},h.id)}))]}),E.jsx(an,{children:x&&E.jsx("div",{className:"fixed inset-0 bg-black/60 z-[200] flex items-center justify-center p-4 backdrop-blur-sm",children:E.jsxs(ot.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white dark:bg-gray-800 rounded-3xl w-full max-w-2xl shadow-2xl overflow-hidden flex flex-col max-h-[85vh]",children:[E.jsxs("div",{className:"p-6 bg-blue-50 dark:bg-gray-900 border-b border-blue-100 dark:border-gray-700 flex justify-between items-start",children:[E.jsxs("div",{children:[E.jsx("div",{className:"text-xs font-bold text-blue-500 dark:text-blue-400 uppercase tracking-widest mb-1",children:"New Assignment"}),E.jsx("h3",{className:"text-2xl font-black text-gray-800 dark:text-white",children:x.title})]}),E.jsx("button",{onClick:()=>i(null),className:"p-2 bg-white dark:bg-gray-700 rounded-full hover:bg-gray-100 dark:hover:bg-gray-600 text-gray-500 dark:text-gray-400 font-bold transition-colors",children:"Close"})]}),E.jsxs("div",{className:"p-8 overflow-y-auto flex-1 bg-white dark:bg-gray-800",children:[E.jsxs("div",{className:"mb-8",children:[E.jsx("h4",{className:"text-sm font-bold text-gray-400 uppercase mb-2",children:"Instructions"}),E.jsx("div",{className:"text-gray-700 dark:text-gray-300 font-medium whitespace-pre-wrap leading-relaxed",children:x.description||"No instructions provided."})]}),x.resourceUrl&&E.jsxs("div",{className:"mb-8 bg-gray-50 dark:bg-gray-700 p-4 rounded-xl border border-gray-200 dark:border-gray-600 flex items-center gap-3",children:[E.jsx("div",{className:"bg-white dark:bg-gray-600 p-2 rounded-lg text-blue-500 dark:text-blue-400 border border-gray-100 dark:border-gray-500",children:E.jsx(eL,{size:20})}),E.jsxs("div",{className:"flex-1 overflow-hidden",children:[E.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase",children:"Attached Resource"}),E.jsx("a",{href:x.resourceUrl,target:"_blank",rel:"noreferrer",className:"text-blue-600 dark:text-blue-400 font-bold truncate block hover:underline",children:x.resourceUrl})]})]}),E.jsxs("div",{className:"border-t border-gray-100 dark:border-gray-700 pt-6",children:[E.jsxs("h4",{className:"text-sm font-bold text-gray-400 uppercase mb-4 flex items-center gap-2",children:[E.jsx(lO,{size:16})," Submit Your Work"]}),E.jsx("textarea",{className:"w-full p-4 rounded-xl border-2 border-gray-200 dark:border-gray-600 dark:bg-gray-700 dark:text-white font-medium focus:border-kid-accent outline-none h-32 resize-none",placeholder:"Type your answer here or paste a link to your project...",value:a,onChange:h=>p(h.target.value)})]})]}),E.jsx("div",{className:"p-4 border-t border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 flex justify-end",children:E.jsxs("button",{onClick:d,className:"bg-green-600 hover:bg-green-700 text-white px-8 py-3 rounded-xl font-black text-lg shadow-[0_4px_0_0_rgba(21,128,61,1)] btn-juicy flex items-center gap-2",children:[E.jsx(nL,{size:20})," Submit Assignment"]})})]})})})]})},tx=({active:t,onClick:e,label:n})=>E.jsx("button",{onClick:e,className:`px-6 py-2 font-black text-sm uppercase tracking-wide transition-all border-b-4 whitespace-nowrap
            ${t?"text-blue-600 dark:text-blue-400 border-blue-600 dark:border-blue-400":"text-gray-400 border-transparent hover:text-gray-600 dark:hover:text-gray-300"}
        `,children:n}),kie=({assignment:t,onClick:e,ctaLabel:n})=>{const s=t.dueDate?new Date(t.dueDate).getTime()-Date.now()<2592e5:!1;return E.jsxs("div",{onClick:e,className:"group bg-white dark:bg-gray-800 p-6 rounded-2xl border-2 border-gray-100 dark:border-gray-700 hover:border-blue-200 dark:hover:border-blue-600 shadow-sm transition-all cursor-pointer flex items-center gap-6",children:[E.jsxs("div",{className:"flex-1",children:[E.jsxs("div",{className:"flex justify-between items-start mb-2",children:[E.jsx("h3",{className:"font-black text-xl text-gray-800 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:t.title}),s&&E.jsx("span",{className:"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 text-xs font-black px-2 py-1 rounded",children:"DUE SOON"})]}),E.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400 font-bold",children:[E.jsxs("span",{className:"flex items-center gap-1",children:[E.jsx(Jh,{size:14})," Due: ",t.dueDate?new Date(t.dueDate).toLocaleDateString():"No Date"]}),E.jsx("span",{className:"flex items-center gap-1 text-gray-300 dark:text-gray-600",children:"|"}),E.jsxs("span",{className:"text-gray-400 dark:text-gray-500",children:[t.maxPoints," Pts"]})]})]}),E.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 group-hover:bg-blue-600 group-hover:text-white p-3 rounded-full transition-colors text-gray-300 dark:text-gray-500",children:E.jsx($D,{size:24,strokeWidth:3})})]})},ix=({message:t})=>E.jsxs("div",{className:"text-center py-12 bg-gray-50 dark:bg-gray-800 rounded-2xl border-2 border-dashed border-gray-200 dark:border-gray-700",children:[E.jsx("div",{className:"text-4xl mb-2 opacity-50",children:""}),E.jsx("p",{className:"font-bold text-gray-400 dark:text-gray-500",children:t})]}),Hie=()=>{const{library:t,toggleAdminMode:e,completeGame:n,readBook:s,user:m}=Mt(),[w,r]=de.useState(null),[x,i]=de.useState(0),[a,p]=de.useState(!1),{t:c}=Ri(),o=()=>{const f=x+1;i(f),f===5&&(e(),i(0),alert("Admin Mode Toggled! Scroll down."))},u=(f,h)=>{if(h){p(!0);return}r(f),s(f.id),n(0,15)},l=(f,h)=>`book_${f.replace(/-/g,"_")}_${h}`,d=(m==null?void 0:m.subscriptionTier)==="intern";return E.jsxs("div",{className:"pb-20 max-w-6xl mx-auto",children:[E.jsx(iu,{isOpen:a,onClose:()=>p(!1)}),E.jsxs("div",{className:"flex justify-between items-end mb-8 px-4",children:[E.jsxs("div",{children:[E.jsxs("h2",{className:"text-4xl font-black text-gray-800 dark:text-white mb-2 flex items-center gap-3",children:[E.jsx(Wh,{className:"text-amber-700 dark:text-amber-500",size:40}),c("library.title")]}),E.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-bold text-lg",children:c("library.subtitle")})]}),E.jsx("button",{onClick:o,className:"text-gray-200 dark:text-gray-700 hover:text-gray-300 dark:hover:text-gray-600 transition-colors p-2",children:E.jsx(Nn,{size:20})})]}),E.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 px-4",children:t.map((f,h)=>{var v;const A=(v=m==null?void 0:m.readBookIds)==null?void 0:v.includes(f.id),g=d&&h>=3;return E.jsxs(ot.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:h*.1},className:`group relative bg-amber-50 dark:bg-gray-800 rounded-r-2xl rounded-l-md shadow-md border-r-8 border-b-8 border-amber-200 dark:border-gray-700 flex flex-col overflow-hidden
                  ${g?"cursor-pointer":"hover:-translate-y-2 hover:shadow-xl transition-all duration-300"}
              `,onClick:()=>g&&p(!0),children:[g&&E.jsxs("div",{className:"absolute inset-0 bg-gray-900/60 z-20 flex flex-col items-center justify-center text-white backdrop-blur-[2px]",children:[E.jsx("div",{className:"bg-yellow-500 p-4 rounded-full shadow-lg mb-2",children:E.jsx(Nn,{size:32})}),E.jsx("span",{className:"font-black uppercase tracking-widest text-sm",children:"Premium Only"})]}),E.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-4 bg-amber-800 dark:bg-gray-900 rounded-l-md opacity-20"}),A&&!g&&E.jsx("div",{className:"absolute top-4 right-4 z-10 bg-green-500 text-white rounded-full p-1 shadow-md",children:E.jsx(Jv,{size:20,strokeWidth:3})}),E.jsxs("div",{className:`p-6 flex gap-6 items-start ${g?"opacity-50":""}`,children:[E.jsx("div",{className:"w-24 h-36 shrink-0 rounded-lg shadow-md overflow-hidden border-2 border-white dark:border-gray-600 transform -rotate-2 group-hover:rotate-0 transition-transform duration-300 bg-gray-200 dark:bg-gray-700",children:E.jsx(CA,{src:f.coverUrl,alt:f.title,type:"book",className:"w-full h-full object-cover"})}),E.jsxs("div",{className:"flex-1 min-w-0",children:[E.jsx("div",{className:"inline-block bg-white dark:bg-gray-700 text-amber-800 dark:text-amber-400 text-[10px] font-black uppercase px-2 py-1 rounded mb-2 border border-amber-100 dark:border-gray-600 tracking-wider",children:f.category}),E.jsx("h3",{className:"font-black text-gray-800 dark:text-white text-lg leading-tight mb-1 line-clamp-2",children:c(l(f.id,"title"),{defaultValue:f.title})}),E.jsx("p",{className:"text-xs font-bold text-gray-500 dark:text-gray-400 mb-4",children:f.author}),E.jsxs("div",{className:"flex items-center gap-1 text-xs font-bold text-amber-600 dark:text-amber-400 bg-amber-100 dark:bg-gray-700 px-2 py-1 rounded-full w-fit",children:[E.jsx(pn,{size:12,fill:"currentColor"})," ",f.ageRating]})]})]}),E.jsx("div",{className:"mt-auto p-4 border-t border-amber-100 dark:border-gray-700 bg-white/50 dark:bg-gray-800/50 rounded-br-xl",children:E.jsxs("button",{onClick:y=>{y.stopPropagation(),u(f,g)},className:`w-full py-3 text-white font-black rounded-xl shadow-[0_4px_0_0_rgba(180,83,9,1)] dark:shadow-[0_4px_0_0_rgba(146,64,14,1)] flex items-center justify-center gap-2 transition-colors
                      ${g?"bg-gray-500 cursor-not-allowed shadow-none":"bg-amber-500 dark:bg-amber-600 btn-juicy hover:bg-amber-600 dark:hover:bg-amber-500"}
                  `,children:[g?E.jsx(Nn,{size:18}):E.jsx(Wh,{size:18}),g?"Unlock":c("library.read_summary")]})})]},f.id)})}),t.length===0&&E.jsx("div",{className:"text-center py-20 text-gray-400 dark:text-gray-500 font-bold bg-gray-50 dark:bg-gray-800 rounded-3xl border-2 border-dashed border-gray-200 dark:border-gray-700 mx-4",children:c("library.empty_state")}),E.jsx(an,{children:w&&E.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:E.jsxs(ot.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white dark:bg-gray-900 dark:text-white rounded-3xl max-w-2xl w-full shadow-2xl overflow-hidden flex flex-col max-h-[85vh] border-2 border-white/10",children:[E.jsxs("div",{className:"bg-amber-50 dark:bg-gray-950 p-6 border-b border-amber-100 dark:border-gray-800 flex justify-between items-start",children:[E.jsxs("div",{className:"flex gap-6",children:[E.jsx("div",{className:"w-24 h-36 rounded-lg shadow-lg border-4 border-white dark:border-gray-700 overflow-hidden shrink-0 bg-gray-200 dark:bg-gray-700",children:E.jsx(CA,{src:w.coverUrl,alt:w.title,type:"book",className:"w-full h-full object-cover"})}),E.jsxs("div",{children:[E.jsx("div",{className:"text-xs font-black text-amber-600 dark:text-amber-400 uppercase tracking-widest mb-1",children:w.category}),E.jsx("h2",{className:"text-2xl md:text-3xl font-black text-gray-800 dark:text-white mb-1",children:c(l(w.id,"title"),{defaultValue:w.title})}),E.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-bold text-lg",children:w.author})]})]}),E.jsx("button",{onClick:()=>r(null),className:"p-2 bg-white dark:bg-gray-800 rounded-full text-gray-400 hover:text-gray-600 dark:text-gray-300 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:E.jsx(qn,{size:24})})]}),E.jsx("div",{className:"p-8 overflow-y-auto custom-scrollbar bg-white dark:bg-gray-900",children:E.jsxs("div",{className:"prose prose-amber dark:prose-invert max-w-none",children:[E.jsx("h4",{className:"font-black text-gray-700 dark:text-gray-200 text-lg mb-2",children:c("library.whats_it_about")}),E.jsx("p",{className:"text-gray-600 dark:text-gray-300 font-medium leading-relaxed mb-8 text-lg",children:c(l(w.id,"summary"),{defaultValue:w.summary})}),E.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-6 rounded-2xl border-2 border-blue-100 dark:border-blue-800",children:[E.jsxs("h4",{className:"font-black text-blue-800 dark:text-blue-300 text-lg mb-4 flex items-center gap-2",children:[E.jsx(pn,{className:"text-yellow-400 fill-current"})," ",c("library.key_lessons")]}),E.jsx("ul",{className:"space-y-3",children:w.keyLessons.map((f,h)=>E.jsxs("li",{className:"flex items-start gap-3 font-bold text-gray-700 dark:text-gray-300",children:[E.jsx("div",{className:"mt-1 bg-blue-200 dark:bg-blue-800 text-blue-700 dark:text-blue-300 rounded-full p-0.5 shrink-0",children:E.jsx(zN,{size:16})}),f]},h))})]})]})}),E.jsx("div",{className:"p-6 border-t border-gray-100 dark:border-gray-800 bg-gray-50 dark:bg-gray-950 flex justify-end",children:E.jsx("button",{onClick:()=>r(null),className:"bg-gray-800 dark:bg-white text-white dark:text-gray-900 px-8 py-3 rounded-xl font-bold hover:bg-gray-700 dark:hover:bg-gray-200 transition-colors",children:c("library.close_book")})})]})})})]})},Gie=()=>{const{library:t,addBook:e,removeBook:n,isAdminMode:s,user:m,updateUser:w}=Mt(),[r,x]=de.useState(!1),[i,a]=de.useState(""),[p,c]=de.useState(""),[o,u]=de.useState(""),[l,d]=de.useState(""),[f,h]=de.useState("Finance"),[A,g]=de.useState(""),[v,y]=de.useState(""),[C,b]=de.useState(""),[T,S]=de.useState("8+");if(!s)return null;const F=async()=>{if(!i||!p){alert("Please enter a Title and Author first.");return}x(!0);const L=await UR(i,p);x(!1),L?(d(L.summary),g(L.keyLessons[0]||""),y(L.keyLessons[1]||""),b(L.keyLessons[2]||"")):alert("Could not generate details. Please try again or fill manually.")},B=L=>{if(L.preventDefault(),!i||!p||!l){alert("Please fill in all required fields.");return}const R={id:`book_${Date.now()}`,title:i,author:p,coverUrl:o||"https://via.placeholder.com/300x450?text=No+Cover",summary:l,category:f,keyLessons:[A,v,C].filter(I=>I.trim()!==""),ageRating:T};e(R),a(""),c(""),u(""),d(""),g(""),y(""),b("")},N=()=>{m&&(w(m.id,{subscriptionTier:"intern",subscriptionStatus:"FREE",energy:0}),alert("Debug: User reset to Intern with 0 Energy. Go try to start a game day!"))};return E.jsx("div",{className:"bg-gray-900 text-gray-200 p-8 mt-20 rounded-t-3xl border-t-4 border-gray-700",children:E.jsxs("div",{className:"max-w-4xl mx-auto",children:[E.jsxs("div",{className:"flex items-center gap-3 mb-8 border-b border-gray-700 pb-4",children:[E.jsx(Wh,{className:"text-purple-400",size:32}),E.jsxs("div",{children:[E.jsx("h2",{className:"text-2xl font-black text-white",children:"Secret Library Manager"}),E.jsx("p",{className:"text-gray-400 text-sm",children:"You are in Admin Mode. Add books for the kids!"})]})]}),E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[E.jsxs("form",{onSubmit:B,className:"space-y-4",children:[E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Title"}),E.jsx("input",{value:i,onChange:L=>a(L.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded-lg p-2 text-white focus:border-purple-500 outline-none",placeholder:"e.g. Shoe Dog"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Author"}),E.jsx("input",{value:p,onChange:L=>c(L.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded-lg p-2 text-white focus:border-purple-500 outline-none",placeholder:"e.g. Phil Knight"})]})]}),E.jsxs("button",{type:"button",onClick:F,disabled:r,className:"w-full py-2 bg-gradient-to-r from-purple-600 to-blue-600 rounded-lg font-bold text-white shadow-lg flex items-center justify-center gap-2 hover:brightness-110 transition-all disabled:opacity-50",children:[r?E.jsx(Jl,{className:"animate-spin",size:18}):E.jsx($v,{size:18}),r?"Asking AI...":"Auto-Fill Details with AI"]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Cover Image URL"}),E.jsx("input",{value:o,onChange:L=>u(L.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded-lg p-2 text-white focus:border-purple-500 outline-none",placeholder:"https://..."})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Category"}),E.jsxs("select",{value:f,onChange:L=>h(L.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded-lg p-2 text-white focus:border-purple-500 outline-none",children:[E.jsx("option",{value:"Finance",children:"Finance"}),E.jsx("option",{value:"Mindset",children:"Mindset"}),E.jsx("option",{value:"Strategy",children:"Strategy"}),E.jsx("option",{value:"Biography",children:"Biography"}),E.jsx("option",{value:"Fiction",children:"Fiction"})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Age Rating"}),E.jsx("input",{value:T,onChange:L=>S(L.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded-lg p-2 text-white focus:border-purple-500 outline-none"})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500 mb-1",children:"Summary"}),E.jsx("textarea",{value:l,onChange:L=>d(L.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded-lg p-2 text-white focus:border-purple-500 outline-none h-24 resize-none",placeholder:"Book summary..."})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"block text-xs font-bold uppercase text-gray-500",children:"Key Lessons (3 Bullet Points)"}),E.jsx("input",{value:A,onChange:L=>g(L.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded-lg p-2 text-white text-sm",placeholder:"Lesson 1"}),E.jsx("input",{value:v,onChange:L=>y(L.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded-lg p-2 text-white text-sm",placeholder:"Lesson 2"}),E.jsx("input",{value:C,onChange:L=>b(L.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded-lg p-2 text-white text-sm",placeholder:"Lesson 3"})]}),E.jsxs("button",{type:"submit",className:"w-full py-3 bg-green-600 hover:bg-green-500 text-white font-black rounded-xl shadow-md flex items-center justify-center gap-2",children:[E.jsx(vo,{size:20})," Save Book to Library"]})]}),E.jsxs("div",{className:"bg-gray-800 rounded-2xl p-6 border border-gray-700 overflow-y-auto max-h-[600px] flex flex-col justify-between",children:[E.jsxs("div",{children:[E.jsxs("h3",{className:"font-bold text-gray-400 mb-4 uppercase text-xs tracking-widest",children:["Current Books (",t.length,")"]}),E.jsxs("div",{className:"space-y-3",children:[t.map(L=>E.jsxs("div",{className:"flex gap-4 p-3 bg-gray-900 rounded-xl border border-gray-700 group",children:[E.jsx("img",{src:L.coverUrl,alt:L.title,className:"w-12 h-16 object-cover rounded bg-gray-800"}),E.jsxs("div",{className:"flex-1 min-w-0",children:[E.jsx("h4",{className:"font-bold text-white truncate",children:L.title}),E.jsx("p",{className:"text-xs text-gray-500 truncate",children:L.author}),E.jsx("span",{className:"inline-block mt-1 px-2 py-0.5 bg-gray-800 text-gray-300 text-[10px] rounded uppercase font-bold tracking-wide border border-gray-600",children:L.category})]}),E.jsx("button",{onClick:()=>n(L.id),className:"p-2 text-gray-500 hover:text-red-500 hover:bg-gray-800 rounded-lg transition-colors self-center",children:E.jsx(kn,{size:18})})]},L.id)),t.length===0&&E.jsx("div",{className:"text-gray-500 text-center py-10",children:"Library is empty."})]})]}),E.jsxs("div",{className:"mt-12 pt-8 border-t border-gray-700",children:[E.jsxs("h3",{className:"text-xl font-bold text-red-400 mb-4 flex items-center gap-2",children:[E.jsx(qv,{size:24})," QA / Debug Tools"]}),E.jsxs("div",{className:"bg-red-900/20 border border-red-800 p-6 rounded-2xl",children:[E.jsx("p",{className:"text-gray-400 mb-4 text-sm font-bold",children:"Use these tools to verify paywalls and game limits."}),E.jsxs("button",{onClick:N,className:"w-full bg-red-600 hover:bg-red-500 text-white px-6 py-3 rounded-xl font-black shadow-lg flex items-center justify-center gap-2 transition-all hover:scale-105 active:scale-95",children:[E.jsx(OD,{size:20})," Reset to Intern & Drain Energy"]})]})]})]})]})]})})},bt=t=>typeof t=="string",hd=()=>{let t,e;const n=new Promise((s,m)=>{t=s,e=m});return n.resolve=t,n.reject=e,n},mB=t=>t==null?"":""+t,Qie=(t,e,n)=>{t.forEach(s=>{e[s]&&(n[s]=e[s])})},jie=/###/g,yB=t=>t&&t.indexOf("###")>-1?t.replace(jie,"."):t,xB=t=>!t||bt(t),eA=(t,e,n)=>{const s=bt(e)?e.split("."):e;let m=0;for(;m<s.length-1;){if(xB(t))return{};const w=yB(s[m]);!t[w]&&n&&(t[w]=new n),Object.prototype.hasOwnProperty.call(t,w)?t=t[w]:t={},++m}return xB(t)?{}:{obj:t,k:yB(s[m])}},wB=(t,e,n)=>{const{obj:s,k:m}=eA(t,e,Object);if(s!==void 0||e.length===1){s[m]=n;return}let w=e[e.length-1],r=e.slice(0,e.length-1),x=eA(t,r,Object);for(;x.obj===void 0&&r.length;)w=`${r[r.length-1]}.${w}`,r=r.slice(0,r.length-1),x=eA(t,r,Object),x&&x.obj&&typeof x.obj[`${x.k}.${w}`]<"u"&&(x.obj=void 0);x.obj[`${x.k}.${w}`]=n},Vie=(t,e,n,s)=>{const{obj:m,k:w}=eA(t,e,Object);m[w]=m[w]||[],m[w].push(n)},Ev=(t,e)=>{const{obj:n,k:s}=eA(t,e);if(n)return n[s]},zie=(t,e,n)=>{const s=Ev(t,n);return s!==void 0?s:Ev(e,n)},hI=(t,e,n)=>{for(const s in e)s!=="__proto__"&&s!=="constructor"&&(s in t?bt(t[s])||t[s]instanceof String||bt(e[s])||e[s]instanceof String?n&&(t[s]=e[s]):hI(t[s],e[s],n):t[s]=e[s]);return t},Vu=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Yie={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Xie=t=>bt(t)?t.replace(/[&<>"'\/]/g,e=>Yie[e]):t;class Wie{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const s=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,s),this.regExpQueue.push(e),s}}const Kie=[" ",",","?","!",";"],Jie=new Wie(20),Zie=(t,e,n)=>{e=e||"",n=n||"";const s=Kie.filter(r=>e.indexOf(r)<0&&n.indexOf(r)<0);if(s.length===0)return!0;const m=Jie.getRegExp(`(${s.map(r=>r==="?"?"\\?":r).join("|")})`);let w=!m.test(t);if(!w){const r=t.indexOf(n);r>0&&!m.test(t.substring(0,r))&&(w=!0)}return w},S2=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];const s=e.split(n);let m=t;for(let w=0;w<s.length;){if(!m||typeof m!="object")return;let r,x="";for(let i=w;i<s.length;++i)if(i!==w&&(x+=n),x+=s[i],r=m[x],r!==void 0){if(["string","number","boolean"].indexOf(typeof r)>-1&&i<s.length-1)continue;w+=i-w+1;break}m=r}return m},Bv=t=>t&&t.replace("_","-"),$ie={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};class Fv{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,n)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=e||$ie,this.options=n,this.debug=n.debug}log(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return this.forward(n,"log","",!0)}warn(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return this.forward(n,"warn","",!0)}error(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return this.forward(n,"error","")}deprecate(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,s,m){return m&&!this.debug?null:(bt(e[0])&&(e[0]=`${s}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new Fv(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Fv(this.logger,e)}}var Zr=new Fv;class E0{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(s=>{this.observers[s]||(this.observers[s]=new Map);const m=this.observers[s].get(n)||0;this.observers[s].set(n,m+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e){for(var n=arguments.length,s=new Array(n>1?n-1:0),m=1;m<n;m++)s[m-1]=arguments[m];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(r=>{let[x,i]=r;for(let a=0;a<i;a++)x(...s)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(r=>{let[x,i]=r;for(let a=0;a<i;a++)x.apply(x,[e,...s])})}}class CB extends E0{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,s){let m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const w=m.keySeparator!==void 0?m.keySeparator:this.options.keySeparator,r=m.ignoreJSONStructure!==void 0?m.ignoreJSONStructure:this.options.ignoreJSONStructure;let x;e.indexOf(".")>-1?x=e.split("."):(x=[e,n],s&&(Array.isArray(s)?x.push(...s):bt(s)&&w?x.push(...s.split(w)):x.push(s)));const i=Ev(this.data,x);return!i&&!n&&!s&&e.indexOf(".")>-1&&(e=x[0],n=x[1],s=x.slice(2).join(".")),i||!r||!bt(s)?i:S2(this.data&&this.data[e]&&this.data[e][n],s,w)}addResource(e,n,s,m){let w=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const r=w.keySeparator!==void 0?w.keySeparator:this.options.keySeparator;let x=[e,n];s&&(x=x.concat(r?s.split(r):s)),e.indexOf(".")>-1&&(x=e.split("."),m=n,n=x[1]),this.addNamespaces(n),wB(this.data,x,m),w.silent||this.emit("added",e,n,s,m)}addResources(e,n,s){let m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const w in s)(bt(s[w])||Array.isArray(s[w]))&&this.addResource(e,n,w,s[w],{silent:!0});m.silent||this.emit("added",e,n,s)}addResourceBundle(e,n,s,m,w){let r=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},x=[e,n];e.indexOf(".")>-1&&(x=e.split("."),m=s,s=n,n=x[1]),this.addNamespaces(n);let i=Ev(this.data,x)||{};r.skipCopy||(s=JSON.parse(JSON.stringify(s))),m?hI(i,s,w):i={...i,...s},wB(this.data,x,i),r.silent||this.emit("added",e,n,s)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,n)}:this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(m=>n[m]&&Object.keys(n[m]).length>0)}toJSON(){return this.data}}var cI={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,s,m){return t.forEach(w=>{this.processors[w]&&(e=this.processors[w].process(e,n,s,m))}),e}};const bB={};class Nv extends E0{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Qie(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Zr.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const s=this.resolve(e,n);return s&&s.res!==void 0}extractFromKey(e,n){let s=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;s===void 0&&(s=":");const m=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let w=n.ns||this.options.defaultNS||[];const r=s&&e.indexOf(s)>-1,x=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!Zie(e,s,m);if(r&&!x){const i=e.match(this.interpolator.nestingRegexp);if(i&&i.length>0)return{key:e,namespaces:bt(w)?[w]:w};const a=e.split(s);(s!==m||s===m&&this.options.ns.indexOf(a[0])>-1)&&(w=a.shift()),e=a.join(m)}return{key:e,namespaces:bt(w)?[w]:w}}translate(e,n,s){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const m=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,w=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:r,namespaces:x}=this.extractFromKey(e[e.length-1],n),i=x[x.length-1],a=n.lng||this.language,p=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(a&&a.toLowerCase()==="cimode"){if(p){const v=n.nsSeparator||this.options.nsSeparator;return m?{res:`${i}${v}${r}`,usedKey:r,exactUsedKey:r,usedLng:a,usedNS:i,usedParams:this.getUsedParamsDetails(n)}:`${i}${v}${r}`}return m?{res:r,usedKey:r,exactUsedKey:r,usedLng:a,usedNS:i,usedParams:this.getUsedParamsDetails(n)}:r}const c=this.resolve(e,n);let o=c&&c.res;const u=c&&c.usedKey||r,l=c&&c.exactUsedKey||r,d=Object.prototype.toString.apply(o),f=["[object Number]","[object Function]","[object RegExp]"],h=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,A=!this.i18nFormat||this.i18nFormat.handleAsObject,g=!bt(o)&&typeof o!="boolean"&&typeof o!="number";if(A&&o&&g&&f.indexOf(d)<0&&!(bt(h)&&Array.isArray(o))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const v=this.options.returnedObjectHandler?this.options.returnedObjectHandler(u,o,{...n,ns:x}):`key '${r} (${this.language})' returned an object instead of string.`;return m?(c.res=v,c.usedParams=this.getUsedParamsDetails(n),c):v}if(w){const v=Array.isArray(o),y=v?[]:{},C=v?l:u;for(const b in o)if(Object.prototype.hasOwnProperty.call(o,b)){const T=`${C}${w}${b}`;y[b]=this.translate(T,{...n,joinArrays:!1,ns:x}),y[b]===T&&(y[b]=o[b])}o=y}}else if(A&&bt(h)&&Array.isArray(o))o=o.join(h),o&&(o=this.extendTranslation(o,e,n,s));else{let v=!1,y=!1;const C=n.count!==void 0&&!bt(n.count),b=Nv.hasDefaultValue(n),T=C?this.pluralResolver.getSuffix(a,n.count,n):"",S=n.ordinal&&C?this.pluralResolver.getSuffix(a,n.count,{ordinal:!1}):"",F=C&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),B=F&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${T}`]||n[`defaultValue${S}`]||n.defaultValue;!this.isValidLookup(o)&&b&&(v=!0,o=B),this.isValidLookup(o)||(y=!0,o=r);const L=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&y?void 0:o,R=b&&B!==o&&this.options.updateMissing;if(y||v||R){if(this.logger.log(R?"updateKey":"missingKey",a,i,r,R?B:o),w){const U=this.resolve(r,{...n,keySeparator:!1});U&&U.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let I=[];const M=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&M&&M[0])for(let U=0;U<M.length;U++)I.push(M[U]);else this.options.saveMissingTo==="all"?I=this.languageUtils.toResolveHierarchy(n.lng||this.language):I.push(n.lng||this.language);const P=(U,z,W)=>{const Z=b&&W!==o?W:L;this.options.missingKeyHandler?this.options.missingKeyHandler(U,i,z,Z,R,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(U,i,z,Z,R,n),this.emit("missingKey",U,i,z,o)};this.options.saveMissing&&(this.options.saveMissingPlurals&&C?I.forEach(U=>{const z=this.pluralResolver.getSuffixes(U,n);F&&n[`defaultValue${this.options.pluralSeparator}zero`]&&z.indexOf(`${this.options.pluralSeparator}zero`)<0&&z.push(`${this.options.pluralSeparator}zero`),z.forEach(W=>{P([U],r+W,n[`defaultValue${W}`]||B)})}):P(I,r,B))}o=this.extendTranslation(o,e,n,c,s),y&&o===r&&this.options.appendNamespaceToMissingKey&&(o=`${i}:${r}`),(y||v)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?o=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${i}:${r}`:r,v?o:void 0):o=this.options.parseMissingKeyHandler(o))}return m?(c.res=o,c.usedParams=this.getUsedParamsDetails(n),c):o}extendTranslation(e,n,s,m,w){var r=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...s},s.lng||this.language||m.usedLng,m.usedNS,m.usedKey,{resolved:m});else if(!s.skipInterpolation){s.interpolation&&this.interpolator.init({...s,interpolation:{...this.options.interpolation,...s.interpolation}});const a=bt(e)&&(s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let p;if(a){const o=e.match(this.interpolator.nestingRegexp);p=o&&o.length}let c=s.replace&&!bt(s.replace)?s.replace:s;if(this.options.interpolation.defaultVariables&&(c={...this.options.interpolation.defaultVariables,...c}),e=this.interpolator.interpolate(e,c,s.lng||this.language||m.usedLng,s),a){const o=e.match(this.interpolator.nestingRegexp),u=o&&o.length;p<u&&(s.nest=!1)}!s.lng&&this.options.compatibilityAPI!=="v1"&&m&&m.res&&(s.lng=this.language||m.usedLng),s.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var o=arguments.length,u=new Array(o),l=0;l<o;l++)u[l]=arguments[l];return w&&w[0]===u[0]&&!s.context?(r.logger.warn(`It seems you are nesting recursively key: ${u[0]} in key: ${n[0]}`),null):r.translate(...u,n)},s)),s.interpolation&&this.interpolator.reset()}const x=s.postProcess||this.options.postProcess,i=bt(x)?[x]:x;return e!=null&&i&&i.length&&s.applyPostProcessor!==!1&&(e=cI.handle(i,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...m,usedParams:this.getUsedParamsDetails(s)},...s}:s,this)),e}resolve(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s,m,w,r,x;return bt(e)&&(e=[e]),e.forEach(i=>{if(this.isValidLookup(s))return;const a=this.extractFromKey(i,n),p=a.key;m=p;let c=a.namespaces;this.options.fallbackNS&&(c=c.concat(this.options.fallbackNS));const o=n.count!==void 0&&!bt(n.count),u=o&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),l=n.context!==void 0&&(bt(n.context)||typeof n.context=="number")&&n.context!=="",d=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);c.forEach(f=>{this.isValidLookup(s)||(x=f,!bB[`${d[0]}-${f}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(x)&&(bB[`${d[0]}-${f}`]=!0,this.logger.warn(`key "${m}" for languages "${d.join(", ")}" won't get resolved as namespace "${x}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),d.forEach(h=>{if(this.isValidLookup(s))return;r=h;const A=[p];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(A,p,h,f,n);else{let v;o&&(v=this.pluralResolver.getSuffix(h,n.count,n));const y=`${this.options.pluralSeparator}zero`,C=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(o&&(A.push(p+v),n.ordinal&&v.indexOf(C)===0&&A.push(p+v.replace(C,this.options.pluralSeparator)),u&&A.push(p+y)),l){const b=`${p}${this.options.contextSeparator}${n.context}`;A.push(b),o&&(A.push(b+v),n.ordinal&&v.indexOf(C)===0&&A.push(b+v.replace(C,this.options.pluralSeparator)),u&&A.push(b+y))}}let g;for(;g=A.pop();)this.isValidLookup(s)||(w=g,s=this.getResource(h,f,g,n))}))})}),{res:s,usedKey:m,exactUsedKey:w,usedLng:r,usedNS:x}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,s){let m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,n,s,m):this.resourceStore.getResource(e,n,s,m)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],s=e.replace&&!bt(e.replace);let m=s?e.replace:e;if(s&&typeof e.count<"u"&&(m.count=e.count),this.options.interpolation.defaultVariables&&(m={...this.options.interpolation.defaultVariables,...m}),!s){m={...m};for(const w of n)delete m[w]}return m}static hasDefaultValue(e){const n="defaultValue";for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&n===s.substring(0,n.length)&&e[s]!==void 0)return!0;return!1}}const nx=t=>t.charAt(0).toUpperCase()+t.slice(1);class SB{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Zr.create("languageUtils")}getScriptPartFromCode(e){if(e=Bv(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=Bv(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(bt(e)&&e.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let m=Intl.getCanonicalLocales(e)[0];if(m&&this.options.lowerCaseLng&&(m=m.toLowerCase()),m)return m}catch{}const n=["hans","hant","latn","cyrl","cans","mong","arab"];let s=e.split("-");return this.options.lowerCaseLng?s=s.map(m=>m.toLowerCase()):s.length===2?(s[0]=s[0].toLowerCase(),s[1]=s[1].toUpperCase(),n.indexOf(s[1].toLowerCase())>-1&&(s[1]=nx(s[1].toLowerCase()))):s.length===3&&(s[0]=s[0].toLowerCase(),s[1].length===2&&(s[1]=s[1].toUpperCase()),s[0]!=="sgn"&&s[2].length===2&&(s[2]=s[2].toUpperCase()),n.indexOf(s[1].toLowerCase())>-1&&(s[1]=nx(s[1].toLowerCase())),n.indexOf(s[2].toLowerCase())>-1&&(s[2]=nx(s[2].toLowerCase()))),s.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(s=>{if(n)return;const m=this.formatLanguageCode(s);(!this.options.supportedLngs||this.isSupportedCode(m))&&(n=m)}),!n&&this.options.supportedLngs&&e.forEach(s=>{if(n)return;const m=this.getLanguagePartFromCode(s);if(this.isSupportedCode(m))return n=m;n=this.options.supportedLngs.find(w=>{if(w===m)return w;if(!(w.indexOf("-")<0&&m.indexOf("-")<0)&&(w.indexOf("-")>0&&m.indexOf("-")<0&&w.substring(0,w.indexOf("-"))===m||w.indexOf(m)===0&&m.length>1))return w})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),bt(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let s=e[n];return s||(s=e[this.getScriptPartFromCode(n)]),s||(s=e[this.formatLanguageCode(n)]),s||(s=e[this.getLanguagePartFromCode(n)]),s||(s=e.default),s||[]}toResolveHierarchy(e,n){const s=this.getFallbackCodes(n||this.options.fallbackLng||[],e),m=[],w=r=>{r&&(this.isSupportedCode(r)?m.push(r):this.logger.warn(`rejecting language code not found in supportedLngs: ${r}`))};return bt(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&w(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&w(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&w(this.getLanguagePartFromCode(e))):bt(e)&&w(this.formatLanguageCode(e)),s.forEach(r=>{m.indexOf(r)<0&&w(this.formatLanguageCode(r))}),m}}let qie=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],_ie={1:t=>+(t>1),2:t=>+(t!=1),3:t=>0,4:t=>t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,5:t=>t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5,6:t=>t==1?0:t>=2&&t<=4?1:2,7:t=>t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,8:t=>t==1?0:t==2?1:t!=8&&t!=11?2:3,9:t=>+(t>=2),10:t=>t==1?0:t==2?1:t<7?2:t<11?3:4,11:t=>t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3,12:t=>+(t%10!=1||t%100==11),13:t=>+(t!==0),14:t=>t==1?0:t==2?1:t==3?2:3,15:t=>t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2,16:t=>t%10==1&&t%100!=11?0:t!==0?1:2,17:t=>t==1||t%10==1&&t%100!=11?0:1,18:t=>t==0?0:t==1?1:2,19:t=>t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3,20:t=>t==1?0:t==0||t%100>0&&t%100<20?1:2,21:t=>t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0,22:t=>t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3};const ene=["v1","v2","v3"],tne=["v4"],TB={zero:0,one:1,two:2,few:3,many:4,other:5},ine=()=>{const t={};return qie.forEach(e=>{e.lngs.forEach(n=>{t[n]={numbers:e.nr,plurals:_ie[e.fc]}})}),t};class nne{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=n,this.logger=Zr.create("pluralResolver"),(!this.options.compatibilityJSON||tne.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=ine(),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const s=Bv(e==="dev"?"en":e),m=n.ordinal?"ordinal":"cardinal",w=JSON.stringify({cleanedCode:s,type:m});if(w in this.pluralRulesCache)return this.pluralRulesCache[w];let r;try{r=new Intl.PluralRules(s,{type:m})}catch{if(!e.match(/-|_/))return;const i=this.languageUtils.getLanguagePartFromCode(e);r=this.getRule(i,n)}return this.pluralRulesCache[w]=r,r}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=this.getRule(e,n);return this.shouldUseIntlApi()?s&&s.resolvedOptions().pluralCategories.length>1:s&&s.numbers.length>1}getPluralFormsOfKey(e,n){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,s).map(m=>`${n}${m}`)}getSuffixes(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=this.getRule(e,n);return s?this.shouldUseIntlApi()?s.resolvedOptions().pluralCategories.sort((m,w)=>TB[m]-TB[w]).map(m=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${m}`):s.numbers.map(m=>this.getSuffix(e,m,n)):[]}getSuffix(e,n){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const m=this.getRule(e,s);return m?this.shouldUseIntlApi()?`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${m.select(n)}`:this.getSuffixRetroCompatible(m,n):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,n){const s=e.noAbs?e.plurals(n):e.plurals(Math.abs(n));let m=e.numbers[s];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(m===2?m="plural":m===1&&(m=""));const w=()=>this.options.prepend&&m.toString()?this.options.prepend+m.toString():m.toString();return this.options.compatibilityJSON==="v1"?m===1?"":typeof m=="number"?`_plural_${m.toString()}`:w():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?w():this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString()}shouldUseIntlApi(){return!ene.includes(this.options.compatibilityJSON)}}const EB=function(t,e,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",m=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,w=zie(t,e,n);return!w&&m&&bt(n)&&(w=S2(t,n,s),w===void 0&&(w=S2(e,n,s))),w},sx=t=>t.replace(/\$/g,"$$$$");class sne{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Zr.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(n=>n),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:s,useRawValueToEscape:m,prefix:w,prefixEscaped:r,suffix:x,suffixEscaped:i,formatSeparator:a,unescapeSuffix:p,unescapePrefix:c,nestingPrefix:o,nestingPrefixEscaped:u,nestingSuffix:l,nestingSuffixEscaped:d,nestingOptionsSeparator:f,maxReplaces:h,alwaysFormat:A}=e.interpolation;this.escape=n!==void 0?n:Xie,this.escapeValue=s!==void 0?s:!0,this.useRawValueToEscape=m!==void 0?m:!1,this.prefix=w?Vu(w):r||"{{",this.suffix=x?Vu(x):i||"}}",this.formatSeparator=a||",",this.unescapePrefix=p?"":c||"-",this.unescapeSuffix=this.unescapePrefix?"":p||"",this.nestingPrefix=o?Vu(o):u||Vu("$t("),this.nestingSuffix=l?Vu(l):d||Vu(")"),this.nestingOptionsSeparator=f||",",this.maxReplaces=h||1e3,this.alwaysFormat=A!==void 0?A:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,s)=>n&&n.source===s?(n.lastIndex=0,n):new RegExp(s,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,n,s,m){let w,r,x;const i=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},a=u=>{if(u.indexOf(this.formatSeparator)<0){const h=EB(n,i,u,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(h,void 0,s,{...m,...n,interpolationkey:u}):h}const l=u.split(this.formatSeparator),d=l.shift().trim(),f=l.join(this.formatSeparator).trim();return this.format(EB(n,i,d,this.options.keySeparator,this.options.ignoreJSONStructure),f,s,{...m,...n,interpolationkey:d})};this.resetRegExp();const p=m&&m.missingInterpolationHandler||this.options.missingInterpolationHandler,c=m&&m.interpolation&&m.interpolation.skipOnVariables!==void 0?m.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:u=>sx(u)},{regex:this.regexp,safeValue:u=>this.escapeValue?sx(this.escape(u)):sx(u)}].forEach(u=>{for(x=0;w=u.regex.exec(e);){const l=w[1].trim();if(r=a(l),r===void 0)if(typeof p=="function"){const f=p(e,w,m);r=bt(f)?f:""}else if(m&&Object.prototype.hasOwnProperty.call(m,l))r="";else if(c){r=w[0];continue}else this.logger.warn(`missed to pass in variable ${l} for interpolating ${e}`),r="";else!bt(r)&&!this.useRawValueToEscape&&(r=mB(r));const d=u.safeValue(r);if(e=e.replace(w[0],d),c?(u.regex.lastIndex+=r.length,u.regex.lastIndex-=w[0].length):u.regex.lastIndex=0,x++,x>=this.maxReplaces)break}}),e}nest(e,n){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},m,w,r;const x=(i,a)=>{const p=this.nestingOptionsSeparator;if(i.indexOf(p)<0)return i;const c=i.split(new RegExp(`${p}[ ]*{`));let o=`{${c[1]}`;i=c[0],o=this.interpolate(o,r);const u=o.match(/'/g),l=o.match(/"/g);(u&&u.length%2===0&&!l||l.length%2!==0)&&(o=o.replace(/'/g,'"'));try{r=JSON.parse(o),a&&(r={...a,...r})}catch(d){return this.logger.warn(`failed parsing options string in nesting for key ${i}`,d),`${i}${p}${o}`}return r.defaultValue&&r.defaultValue.indexOf(this.prefix)>-1&&delete r.defaultValue,i};for(;m=this.nestingRegexp.exec(e);){let i=[];r={...s},r=r.replace&&!bt(r.replace)?r.replace:r,r.applyPostProcessor=!1,delete r.defaultValue;let a=!1;if(m[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(m[1])){const p=m[1].split(this.formatSeparator).map(c=>c.trim());m[1]=p.shift(),i=p,a=!0}if(w=n(x.call(this,m[1].trim(),r),r),w&&m[0]===e&&!bt(w))return w;bt(w)||(w=mB(w)),w||(this.logger.warn(`missed to resolve ${m[1]} for nesting ${e}`),w=""),a&&(w=i.reduce((p,c)=>this.format(p,c,s.lng,{...s,interpolationkey:m[1].trim()}),w.trim())),e=e.replace(m[0],w),this.regexp.lastIndex=0}return e}}const rne=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const s=t.split("(");e=s[0].toLowerCase().trim();const m=s[1].substring(0,s[1].length-1);e==="currency"&&m.indexOf(":")<0?n.currency||(n.currency=m.trim()):e==="relativetime"&&m.indexOf(":")<0?n.range||(n.range=m.trim()):m.split(";").forEach(r=>{if(r){const[x,...i]=r.split(":"),a=i.join(":").trim().replace(/^'+|'+$/g,""),p=x.trim();n[p]||(n[p]=a),a==="false"&&(n[p]=!1),a==="true"&&(n[p]=!0),isNaN(a)||(n[p]=parseInt(a,10))}})}return{formatName:e,formatOptions:n}},zu=t=>{const e={};return(n,s,m)=>{let w=m;m&&m.interpolationkey&&m.formatParams&&m.formatParams[m.interpolationkey]&&m[m.interpolationkey]&&(w={...w,[m.interpolationkey]:void 0});const r=s+JSON.stringify(w);let x=e[r];return x||(x=t(Bv(s),m),e[r]=x),x(n)}};class ane{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Zr.create("formatter"),this.options=e,this.formats={number:zu((n,s)=>{const m=new Intl.NumberFormat(n,{...s});return w=>m.format(w)}),currency:zu((n,s)=>{const m=new Intl.NumberFormat(n,{...s,style:"currency"});return w=>m.format(w)}),datetime:zu((n,s)=>{const m=new Intl.DateTimeFormat(n,{...s});return w=>m.format(w)}),relativetime:zu((n,s)=>{const m=new Intl.RelativeTimeFormat(n,{...s});return w=>m.format(w,s.range||"day")}),list:zu((n,s)=>{const m=new Intl.ListFormat(n,{...s});return w=>m.format(w)})},this.init(e)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=n.interpolation.formatSeparator||","}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=zu(n)}format(e,n,s){let m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const w=n.split(this.formatSeparator);if(w.length>1&&w[0].indexOf("(")>1&&w[0].indexOf(")")<0&&w.find(x=>x.indexOf(")")>-1)){const x=w.findIndex(i=>i.indexOf(")")>-1);w[0]=[w[0],...w.splice(1,x)].join(this.formatSeparator)}return w.reduce((x,i)=>{const{formatName:a,formatOptions:p}=rne(i);if(this.formats[a]){let c=x;try{const o=m&&m.formatParams&&m.formatParams[m.interpolationkey]||{},u=o.locale||o.lng||m.locale||m.lng||s;c=this.formats[a](x,u,{...p,...m,...o})}catch(o){this.logger.warn(o)}return c}else this.logger.warn(`there was no format function for ${a}`);return x},e)}}const one=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class lne extends E0{constructor(e,n,s){let m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=n,this.services=s,this.languageUtils=s.languageUtils,this.options=m,this.logger=Zr.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=m.maxParallelReads||10,this.readingCalls=0,this.maxRetries=m.maxRetries>=0?m.maxRetries:5,this.retryTimeout=m.retryTimeout>=1?m.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(s,m.backend,m)}queueLoad(e,n,s,m){const w={},r={},x={},i={};return e.forEach(a=>{let p=!0;n.forEach(c=>{const o=`${a}|${c}`;!s.reload&&this.store.hasResourceBundle(a,c)?this.state[o]=2:this.state[o]<0||(this.state[o]===1?r[o]===void 0&&(r[o]=!0):(this.state[o]=1,p=!1,r[o]===void 0&&(r[o]=!0),w[o]===void 0&&(w[o]=!0),i[c]===void 0&&(i[c]=!0)))}),p||(x[a]=!0)}),(Object.keys(w).length||Object.keys(r).length)&&this.queue.push({pending:r,pendingCount:Object.keys(r).length,loaded:{},errors:[],callback:m}),{toLoad:Object.keys(w),pending:Object.keys(r),toLoadLanguages:Object.keys(x),toLoadNamespaces:Object.keys(i)}}loaded(e,n,s){const m=e.split("|"),w=m[0],r=m[1];n&&this.emit("failedLoading",w,r,n),!n&&s&&this.store.addResourceBundle(w,r,s,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&s&&(this.state[e]=0);const x={};this.queue.forEach(i=>{Vie(i.loaded,[w],r),one(i,e),n&&i.errors.push(n),i.pendingCount===0&&!i.done&&(Object.keys(i.loaded).forEach(a=>{x[a]||(x[a]={});const p=i.loaded[a];p.length&&p.forEach(c=>{x[a][c]===void 0&&(x[a][c]=!0)})}),i.done=!0,i.errors.length?i.callback(i.errors):i.callback())}),this.emit("loaded",x),this.queue=this.queue.filter(i=>!i.done)}read(e,n,s){let m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,w=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,r=arguments.length>5?arguments[5]:void 0;if(!e.length)return r(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:s,tried:m,wait:w,callback:r});return}this.readingCalls++;const x=(a,p)=>{if(this.readingCalls--,this.waitingReads.length>0){const c=this.waitingReads.shift();this.read(c.lng,c.ns,c.fcName,c.tried,c.wait,c.callback)}if(a&&p&&m<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,s,m+1,w*2,r)},w);return}r(a,p)},i=this.backend[s].bind(this.backend);if(i.length===2){try{const a=i(e,n);a&&typeof a.then=="function"?a.then(p=>x(null,p)).catch(x):x(null,a)}catch(a){x(a)}return}return i(e,n,x)}prepareLoading(e,n){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},m=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),m&&m();bt(e)&&(e=this.languageUtils.toResolveHierarchy(e)),bt(n)&&(n=[n]);const w=this.queueLoad(e,n,s,m);if(!w.toLoad.length)return w.pending.length||m(),null;w.toLoad.forEach(r=>{this.loadOne(r)})}load(e,n,s){this.prepareLoading(e,n,{},s)}reload(e,n,s){this.prepareLoading(e,n,{reload:!0},s)}loadOne(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const s=e.split("|"),m=s[0],w=s[1];this.read(m,w,"read",void 0,void 0,(r,x)=>{r&&this.logger.warn(`${n}loading namespace ${w} for language ${m} failed`,r),!r&&x&&this.logger.log(`${n}loaded namespace ${w} for language ${m}`,x),this.loaded(e,r,x)})}saveMissing(e,n,s,m,w){let r=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},x=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${s}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(s==null||s==="")){if(this.backend&&this.backend.create){const i={...r,isUpdate:w},a=this.backend.create.bind(this.backend);if(a.length<6)try{let p;a.length===5?p=a(e,n,s,m,i):p=a(e,n,s,m),p&&typeof p.then=="function"?p.then(c=>x(null,c)).catch(x):x(null,p)}catch(p){x(p)}else a(e,n,s,m,x,i)}!e||!e[0]||this.store.addResource(e[0],n,s,m)}}}const BB=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),bt(t[1])&&(e.defaultValue=t[1]),bt(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(s=>{e[s]=n[s]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),FB=t=>(bt(t.ns)&&(t.ns=[t.ns]),bt(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),bt(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t),Xp=()=>{},une=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class BA extends E0{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=FB(e),this.services={},this.logger=Zr,this.modules={external:[]},une(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof n=="function"&&(s=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&(bt(n.ns)?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const m=BB();this.options={...m,...this.options,...FB(n)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...m.interpolation,...this.options.interpolation}),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);const w=p=>p?typeof p=="function"?new p:p:null;if(!this.options.isClone){this.modules.logger?Zr.init(w(this.modules.logger),this.options):Zr.init(null,this.options);let p;this.modules.formatter?p=this.modules.formatter:typeof Intl<"u"&&(p=ane);const c=new SB(this.options);this.store=new CB(this.options.resources,this.options);const o=this.services;o.logger=Zr,o.resourceStore=this.store,o.languageUtils=c,o.pluralResolver=new nne(c,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),p&&(!this.options.interpolation.format||this.options.interpolation.format===m.interpolation.format)&&(o.formatter=w(p),o.formatter.init(o,this.options),this.options.interpolation.format=o.formatter.format.bind(o.formatter)),o.interpolator=new sne(this.options),o.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},o.backendConnector=new lne(w(this.modules.backend),o.resourceStore,o,this.options),o.backendConnector.on("*",function(u){for(var l=arguments.length,d=new Array(l>1?l-1:0),f=1;f<l;f++)d[f-1]=arguments[f];e.emit(u,...d)}),this.modules.languageDetector&&(o.languageDetector=w(this.modules.languageDetector),o.languageDetector.init&&o.languageDetector.init(o,this.options.detection,this.options)),this.modules.i18nFormat&&(o.i18nFormat=w(this.modules.i18nFormat),o.i18nFormat.init&&o.i18nFormat.init(this)),this.translator=new Nv(this.services,this.options),this.translator.on("*",function(u){for(var l=arguments.length,d=new Array(l>1?l-1:0),f=1;f<l;f++)d[f-1]=arguments[f];e.emit(u,...d)}),this.modules.external.forEach(u=>{u.init&&u.init(this)})}if(this.format=this.options.interpolation.format,s||(s=Xp),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const p=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);p.length>0&&p[0]!=="dev"&&(this.options.lng=p[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(p=>{this[p]=function(){return e.store[p](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(p=>{this[p]=function(){return e.store[p](...arguments),e}});const i=hd(),a=()=>{const p=(c,o)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),i.resolve(o),s(c,o)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return p(null,this.t.bind(this));this.changeLanguage(this.options.lng,p)};return this.options.resources||!this.options.initImmediate?a():setTimeout(a,0),i}loadResources(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Xp;const m=bt(e)?e:this.language;if(typeof e=="function"&&(s=e),!this.options.resources||this.options.partialBundledLanguages){if(m&&m.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return s();const w=[],r=x=>{if(!x||x==="cimode")return;this.services.languageUtils.toResolveHierarchy(x).forEach(a=>{a!=="cimode"&&w.indexOf(a)<0&&w.push(a)})};m?r(m):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(i=>r(i)),this.options.preload&&this.options.preload.forEach(x=>r(x)),this.services.backendConnector.load(w,this.options.ns,x=>{!x&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),s(x)})}else s(null)}reloadResources(e,n,s){const m=hd();return typeof e=="function"&&(s=e,e=void 0),typeof n=="function"&&(s=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),s||(s=Xp),this.services.backendConnector.reload(e,n,w=>{m.resolve(),s(w)}),m}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&cI.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let n=0;n<this.languages.length;n++){const s=this.languages[n];if(!(["cimode","dev"].indexOf(s)>-1)&&this.store.hasLanguageSomeTranslations(s)){this.resolvedLanguage=s;break}}}changeLanguage(e,n){var s=this;this.isLanguageChangingTo=e;const m=hd();this.emit("languageChanging",e);const w=i=>{this.language=i,this.languages=this.services.languageUtils.toResolveHierarchy(i),this.resolvedLanguage=void 0,this.setResolvedLanguage(i)},r=(i,a)=>{a?(w(a),this.translator.changeLanguage(a),this.isLanguageChangingTo=void 0,this.emit("languageChanged",a),this.logger.log("languageChanged",a)):this.isLanguageChangingTo=void 0,m.resolve(function(){return s.t(...arguments)}),n&&n(i,function(){return s.t(...arguments)})},x=i=>{!e&&!i&&this.services.languageDetector&&(i=[]);const a=bt(i)?i:this.services.languageUtils.getBestMatchFromCodes(i);a&&(this.language||w(a),this.translator.language||this.translator.changeLanguage(a),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(a)),this.loadResources(a,p=>{r(p,a)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?x(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(x):this.services.languageDetector.detect(x):x(e),m}getFixedT(e,n,s){var m=this;const w=function(r,x){let i;if(typeof x!="object"){for(var a=arguments.length,p=new Array(a>2?a-2:0),c=2;c<a;c++)p[c-2]=arguments[c];i=m.options.overloadTranslationOptionHandler([r,x].concat(p))}else i={...x};i.lng=i.lng||w.lng,i.lngs=i.lngs||w.lngs,i.ns=i.ns||w.ns,i.keyPrefix!==""&&(i.keyPrefix=i.keyPrefix||s||w.keyPrefix);const o=m.options.keySeparator||".";let u;return i.keyPrefix&&Array.isArray(r)?u=r.map(l=>`${i.keyPrefix}${o}${l}`):u=i.keyPrefix?`${i.keyPrefix}${o}${r}`:r,m.t(u,i)};return bt(e)?w.lng=e:w.lngs=e,w.ns=n,w.keyPrefix=s,w}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const s=n.lng||this.resolvedLanguage||this.languages[0],m=this.options?this.options.fallbackLng:!1,w=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;const r=(x,i)=>{const a=this.services.backendConnector.state[`${x}|${i}`];return a===-1||a===0||a===2};if(n.precheck){const x=n.precheck(this,r);if(x!==void 0)return x}return!!(this.hasResourceBundle(s,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||r(s,e)&&(!m||r(w,e)))}loadNamespaces(e,n){const s=hd();return this.options.ns?(bt(e)&&(e=[e]),e.forEach(m=>{this.options.ns.indexOf(m)<0&&this.options.ns.push(m)}),this.loadResources(m=>{s.resolve(),n&&n(m)}),s):(n&&n(),Promise.resolve())}loadLanguages(e,n){const s=hd();bt(e)&&(e=[e]);const m=this.options.preload||[],w=e.filter(r=>m.indexOf(r)<0&&this.services.languageUtils.isSupportedCode(r));return w.length?(this.options.preload=m.concat(w),this.loadResources(r=>{s.resolve(),n&&n(r)}),s):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],s=this.services&&this.services.languageUtils||new SB(BB());return n.indexOf(s.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new BA(e,n)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Xp;const s=e.forkResourceStore;s&&delete e.forkResourceStore;const m={...this.options,...e,isClone:!0},w=new BA(m);return(e.debug!==void 0||e.prefix!==void 0)&&(w.logger=w.logger.clone(e)),["store","services","language"].forEach(x=>{w[x]=this[x]}),w.services={...this.services},w.services.utils={hasLoadedNamespace:w.hasLoadedNamespace.bind(w)},s&&(w.store=new CB(this.store.data,m),w.services.resourceStore=w.store),w.translator=new Nv(w.services,m),w.translator.on("*",function(x){for(var i=arguments.length,a=new Array(i>1?i-1:0),p=1;p<i;p++)a[p-1]=arguments[p];w.emit(x,...a)}),w.init(m,n),w.translator.options=m,w.translator.backendConnector.services.utils={hasLoadedNamespace:w.hasLoadedNamespace.bind(w)},w}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Vn=BA.createInstance();Vn.createInstance=BA.createInstance;Vn.createInstance;Vn.dir;Vn.init;Vn.loadResources;Vn.reloadResources;Vn.use;Vn.changeLanguage;Vn.getFixedT;Vn.t;Vn.exists;Vn.setDefaultNamespace;Vn.hasLoadedNamespace;Vn.loadNamespaces;Vn.loadLanguages;function hne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cne(t,e){if(Vt(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(Vt(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dne(t){var e=cne(t,"string");return Vt(e)=="symbol"?e:e+""}function Ane(t,e){for(var n=0;n<e.length;n++){var s=e[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,dne(s.key),s)}}function fne(t,e,n){return e&&Ane(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}var dI=[],pne=dI.forEach,gne=dI.slice;function vne(t){return pne.call(gne.call(arguments,1),function(e){if(e)for(var n in e)t[n]===void 0&&(t[n]=e[n])}),t}var NB=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,mne=function(e,n,s){var m=s||{};m.path=m.path||"/";var w=encodeURIComponent(n),r="".concat(e,"=").concat(w);if(m.maxAge>0){var x=m.maxAge-0;if(Number.isNaN(x))throw new Error("maxAge should be a Number");r+="; Max-Age=".concat(Math.floor(x))}if(m.domain){if(!NB.test(m.domain))throw new TypeError("option domain is invalid");r+="; Domain=".concat(m.domain)}if(m.path){if(!NB.test(m.path))throw new TypeError("option path is invalid");r+="; Path=".concat(m.path)}if(m.expires){if(typeof m.expires.toUTCString!="function")throw new TypeError("option expires is invalid");r+="; Expires=".concat(m.expires.toUTCString())}if(m.httpOnly&&(r+="; HttpOnly"),m.secure&&(r+="; Secure"),m.sameSite){var i=typeof m.sameSite=="string"?m.sameSite.toLowerCase():m.sameSite;switch(i){case!0:r+="; SameSite=Strict";break;case"lax":r+="; SameSite=Lax";break;case"strict":r+="; SameSite=Strict";break;case"none":r+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return r},LB={create:function(e,n,s,m){var w=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};s&&(w.expires=new Date,w.expires.setTime(w.expires.getTime()+s*60*1e3)),m&&(w.domain=m),document.cookie=mne(e,encodeURIComponent(n),w)},read:function(e){for(var n="".concat(e,"="),s=document.cookie.split(";"),m=0;m<s.length;m++){for(var w=s[m];w.charAt(0)===" ";)w=w.substring(1,w.length);if(w.indexOf(n)===0)return w.substring(n.length,w.length)}return null},remove:function(e){this.create(e,"",-1)}},yne={name:"cookie",lookup:function(e){var n;if(e.lookupCookie&&typeof document<"u"){var s=LB.read(e.lookupCookie);s&&(n=s)}return n},cacheUserLanguage:function(e,n){n.lookupCookie&&typeof document<"u"&&LB.create(n.lookupCookie,e,n.cookieMinutes,n.cookieDomain,n.cookieOptions)}},xne={name:"querystring",lookup:function(e){var n;if(typeof window<"u"){var s=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(s=window.location.hash.substring(window.location.hash.indexOf("?")));for(var m=s.substring(1),w=m.split("&"),r=0;r<w.length;r++){var x=w[r].indexOf("=");if(x>0){var i=w[r].substring(0,x);i===e.lookupQuerystring&&(n=w[r].substring(x+1))}}}return n}},cd=null,MB=function(){if(cd!==null)return cd;try{cd=window!=="undefined"&&window.localStorage!==null;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{cd=!1}return cd},wne={name:"localStorage",lookup:function(e){var n;if(e.lookupLocalStorage&&MB()){var s=window.localStorage.getItem(e.lookupLocalStorage);s&&(n=s)}return n},cacheUserLanguage:function(e,n){n.lookupLocalStorage&&MB()&&window.localStorage.setItem(n.lookupLocalStorage,e)}},dd=null,RB=function(){if(dd!==null)return dd;try{dd=window!=="undefined"&&window.sessionStorage!==null;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{dd=!1}return dd},Cne={name:"sessionStorage",lookup:function(e){var n;if(e.lookupSessionStorage&&RB()){var s=window.sessionStorage.getItem(e.lookupSessionStorage);s&&(n=s)}return n},cacheUserLanguage:function(e,n){n.lookupSessionStorage&&RB()&&window.sessionStorage.setItem(n.lookupSessionStorage,e)}},bne={name:"navigator",lookup:function(e){var n=[];if(typeof navigator<"u"){if(navigator.languages)for(var s=0;s<navigator.languages.length;s++)n.push(navigator.languages[s]);navigator.userLanguage&&n.push(navigator.userLanguage),navigator.language&&n.push(navigator.language)}return n.length>0?n:void 0}},Sne={name:"htmlTag",lookup:function(e){var n,s=e.htmlTag||(typeof document<"u"?document.documentElement:null);return s&&typeof s.getAttribute=="function"&&(n=s.getAttribute("lang")),n}},Tne={name:"path",lookup:function(e){var n;if(typeof window<"u"){var s=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(s instanceof Array)if(typeof e.lookupFromPathIndex=="number"){if(typeof s[e.lookupFromPathIndex]!="string")return;n=s[e.lookupFromPathIndex].replace("/","")}else n=s[0].replace("/","")}return n}},Ene={name:"subdomain",lookup:function(e){var n=typeof e.lookupFromSubdomainIndex=="number"?e.lookupFromSubdomainIndex+1:1,s=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(s)return s[n]}},AI=!1;try{document.cookie,AI=!0}catch{}var fI=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];AI||fI.splice(1,1);function Bne(){return{order:fI,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(e){return e}}}var pI=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};hne(this,t),this.type="languageDetector",this.detectors={},this.init(e,n)}return fne(t,[{key:"init",value:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=n||{languageUtils:{}},this.options=vne(s,this.options||{},Bne()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=function(w){return w.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=m,this.addDetector(yne),this.addDetector(xne),this.addDetector(wne),this.addDetector(Cne),this.addDetector(bne),this.addDetector(Sne),this.addDetector(Tne),this.addDetector(Ene)}},{key:"addDetector",value:function(n){return this.detectors[n.name]=n,this}},{key:"detect",value:function(n){var s=this;n||(n=this.options.order);var m=[];return n.forEach(function(w){if(s.detectors[w]){var r=s.detectors[w].lookup(s.options);r&&typeof r=="string"&&(r=[r]),r&&(m=m.concat(r))}}),m=m.map(function(w){return s.options.convertDetectedLanguage(w)}),this.services.languageUtils.getBestMatchFromCodes?m:m.length>0?m[0]:null}},{key:"cacheUserLanguage",value:function(n,s){var m=this;s||(s=this.options.caches),s&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(n)>-1||s.forEach(function(w){m.detectors[w]&&m.detectors[w].cacheUserLanguage(n,m.options)}))}}])}();pI.type="languageDetector";const Fne={translation:{nav:{map:"Adventure Map",assignments:"Assignments",games:"Games",library:"Library",hq:"Headquarters",skills:"MBA Skills",portfolio:"Portfolio",store:"Biz Store",leaderboard:"Leaderboard",profile:"My Profile",overview:"Overview",classroom:"Classroom",admin:"Admin Dashboard",signout:"Sign Out",teacher_mode:"Teacher Mode",admin_mode:"Admin Mode",section_learn:"Learn & Play",section_empire:"My Empire",section_social:"Social"},auth:{title:"KidCap HQ",login:"Log In",create_account:"Create Account",username:"Username",password:"Password",enter_username:"Enter username",enter_password:"Enter password",full_name:"Full Name",your_name:"Your Name",role_prompt:"Who is using this account?",role_kid:"I'm a Kid",role_kid_desc:"Ready to build a business!",role_parent:"I'm a Parent",role_parent_desc:"View progress & settings",role_teacher:"I'm a Teacher",role_teacher_desc:"Manage classroom & students",back_roles:"Back to Roles",submit_login:"Log In",submit_register:"Create Account",error_auth:"Invalid username or password (try leo/123)",error_fields:"All fields are required",demo_hint:"Demo Accounts: leo/123, mom/123"},arcade:{title:"Arcade",subtitle:"Choose a business to launch!",play_now:"Play Now",cat_all:"All",cat_retail:"Retail & Food",cat_service:"Services",cat_production:"Manufacturing",cat_creative:"Creative",cat_tech:"Tech",cat_social:"Social Impact"},store:{title:"The Biz Store",subtitle:"Spend your hard-earned coins!",filter_apparel:"Apparel",filter_boosters:"Boosters",owned:"Owned",buy:"Buy"},hq:{title:"My Headquarters",subtitle:"Upgrade your office to show off your success!",owned:"Owned",locked:"Locked",next:"NEXT"},skills:{title:"MBA Skill Tree",subtitle:"Unlock permanent boosts for your business empire.",active:"ACTIVE",unlock:"Unlock",need:"Need",locked:"Locked"},portfolio:{title:"My Portfolio",subtitle:"Earn money even while you sleep!",active:"Active",hire:"Hire",collect:"Collect",generating:"Generating...",manager_lvl:"Manager Lvl",rate:"Rate",earning:"Earning...",hire_prompt:"Hire a manager to automate this business and earn passive income."},leaderboard:{title:"Top Entrepreneurs",weekly_reset:"Weekly Reset: 3 Days",you:"YOU"},stats:{streak:"Streak",days:"days",bizcoins:"BizCoins",level:"Lvl"},common:{loading:"Loading...",save:"Save",cancel:"Cancel",back:"Back",next:"Next",close:"Close",menu:"Menu"},library:{title:"The Library",subtitle:"Read books to grow your CEO brain!",read_summary:"Read Summary",empty_state:"The shelves are dusty... Ask an admin to add books!",whats_it_about:"What's it about?",key_lessons:"Key Lessons",close_book:"Close Book"},chat:{initial_greeting:"Hoot hoot!  I'm Ollie. Ask me anything about business, money, or our games!",role_consultant:"Executive Consultant",role_free:"Free Trial Mode",placeholder_paid:"Ask Ollie...",placeholder_free:"Ask a free question...",hire_button:"Hire Ollie (Unlock AI)",free_limit_reply:`

 That's a free sample! Hire me as your full-time Executive Consultant (Tycoon Plan) for unlimited strategy sessions.`,hired_reply:"You're hired!  I'm now your dedicated consultant. Let's build a billion-dollar empire together!"},map:{no_curriculum:"No curriculum loaded. Please contact Admin."},pricing:{title:"Choose Your Path to Success",subtitle:"Whether you're starting a lemonade stand or a global empire, we have a plan for you.",tier_intern:"Intern",desc_intern:"For curious kids just starting out.",tier_founder:"Founder",desc_founder:"Serious about building an empire.",tier_board:"Board Member",desc_board:"For the whole family.",tier_tycoon:"Tycoon",desc_tycoon:"The ultimate VIP experience.",feat_limited_energy:"Limited Energy",feat_standard_lessons:"Standard Lessons",feat_ads:"Ads",feat_unlimited:"Unlimited Energy",feat_offline:"Offline Mode",feat_custom_hq:"Custom HQ",feat_family:"6 Family Accounts",feat_parent_dash:"Parent Dashboard",feat_founder_perks:"All Founder Perks",feat_ai_consultant:"Ollie AI Consultant",feat_negotiation:"Negotiation Battles",feat_board_perks:"All Board Perks",btn_current:"Current Plan",btn_start_free:"Start Free",btn_get_funded:"Get Funded",btn_start_family:"Start Family Office",btn_hire_ollie:"Hire Ollie",btn_select:"Select",per_mo:"/mo",per_yr:"/yr",most_popular:"Most Popular",processing:"Processing...",secure_payment:"Secure payment powered by Stripe. You can cancel anytime from the Parent Dashboard."},path_title:"My Entrepreneur Path",subtitle_complete:"Complete all modules to become a CEO!",class_mode:"Class Mode Active",money_basics:"Money Basics",entrepreneurship:"Entrepreneurship",investing_wealth:"Investing & Wealth",marketing:"Marketing",leadership:"Leadership",economics:"Economics",technology:"Technology",social_responsibility:"Social Good",global_business:"Global Biz",financial_smarts:"Safety & Smarts",lessons_count:"Lessons",due:"DUE",certificate:"CERTIFICATE",brand:{title:"Brand Builder",label_name:"Company Name",label_shape:"Logo Shape",label_bg:"Background Color",label_icon:"Logo Icon",label_color:"Icon Color",save:"Save Brand Logo",saved:"Saved!",est:"Est. 2024"},join:{success_title:"Class Joined!",success_desc:"Get ready to learn.",title:"Join a Classroom",desc:"Enter the 6-digit code from your teacher.",placeholder:"CODE12",submit:"Join Class",error:"Invalid Class Code"},lemonade:{title:"Lemonade Tycoon",day:"Day",forecast:"Forecast",help:"Help",skill_efficiency:"Efficiency Discount Active",skill_charisma:"Charisma Boost Active",item_lemons:"Lemons",subtext_lemons:"(1 lemon makes 5 cups)",item_sugar:"Sugar",subtext_sugar:"(servings)",item_cups:"Cups",subtext_cups:"(units)",set_price:"Set Your Price",start_day:"Open for Business!",selling:"Selling Lemonade...",complete:"Day Complete!",sold:"Cups Sold",profit:"Profit",skill_bonus:"Skill Bonus",ollie_says:"CEO Ollie Says",next_day:"Next Day",leave:"Leave",buy:"Buy"},parent:{title:"Parent Dashboard",monitoring:"Monitoring:",sync:"Sync Data",stat_xp:"Total XP",stat_lessons:"Lessons Done",stat_streak:"Current Streak",graph_title:"Weekly Activity (Est. XP Earned)",sub_active:"Premium Active",sub_pro:"KidCap Pro",sub_billing:"Next billing date: July 15, 2025",manage_sub:"Manage Subscription",upsell_title:"Unlock Full Potential",upsell_desc:"Get unlimited access to all 30+ business simulations, AI tutoring, and advanced analytics.",feature_ads:"No Ads",feature_games:"All Games",feature_ai:"AI Tutor",upgrade_btn:"Upgrade Now",settings_title:"Child Settings & Controls",label_goal:"Daily Goal",label_sound:"Sound Effects",label_music:"Background Music",danger_zone:"Danger Zone",danger_desc:"Resetting passwords cannot be undone.",reset_pwd:"Reset Password"},teacher:{code:"Class Code",tabs:{overview:"Overview",assignments:"Assignments",grading:"Grading",groups:"Groups",rubrics:"Rubrics"},widget_action:{title:"Action Items",desc:"Ungraded Submissions",btn:"Review Now"},widget_risk:{title:"At-Risk Radar",safe:"All students on track!"},widget_schedule:{title:"Upcoming",empty:"No active assignments"},roster_title:"Student Roster",manage_groups:"Manage Groups",controls_title:"Curriculum Controls",controls_desc:"Lock content to keep the class in sync.",assign_title:"Class Assignments",new_assign:"New Assignment",subs_title:"Student Submissions",demo_sub:"+ Demo Submission",groups_title:"Differentiated Groups",add_group:"Add Group",rubrics_title:"Grading Rubrics",new_rubric:"Create New Rubric",rubrics_empty:"No rubrics yet. Create one to standardize your grading!",edit_student:"Edit Student",remove_student:"Remove from Class"}}},Nne={translation:{nav:{map:" ",assignments:"",games:"",library:"",hq:" ",skills:" ",portfolio:" ",store:"",leaderboard:"",profile:" ",overview:" ",classroom:" ",admin:" ",signout:" ",teacher_mode:" ",admin_mode:" ",section_learn:" ",section_empire:"",section_social:""},auth:{title:" ",login:"",create_account:" ",username:" ",password:" ",enter_username:"  ",enter_password:"  ",full_name:" ",your_name:"",role_prompt:"   ",role_kid:" ",role_kid_desc:"   !",role_parent:"  ",role_parent_desc:"  ",role_teacher:" ",role_teacher_desc:"  ",back_roles:" ",submit_login:" ",submit_register:" ",error_auth:"      ",error_fields:"  ",demo_hint:" : leo/123, mom/123"},arcade:{title:"",subtitle:"  !",play_now:" ",cat_all:"",cat_retail:" ",cat_service:"",cat_production:"",cat_creative:"",cat_tech:"",cat_social:" "},store:{title:" ",subtitle:"    !",filter_apparel:"",filter_boosters:"",owned:"",buy:""},hq:{title:" ",subtitle:"   !",owned:"",locked:"",next:""},skills:{title:"  ",subtitle:"   .",active:"",unlock:"",need:"",locked:""},portfolio:{title:"",subtitle:"    !",active:"",hire:"",collect:"",generating:" ...",manager_lvl:" ",rate:"",earning:"...",hire_prompt:"       ."},leaderboard:{title:"  ",weekly_reset:" :  ",you:""},stats:{streak:" ",days:"",bizcoins:"",level:""},common:{loading:" ...",save:"",cancel:"",back:"",next:"",close:"",menu:""},library:{title:"",subtitle:"    !",read_summary:" ",empty_state:" ...     !",whats_it_about:"  ",key_lessons:" ",close_book:" "},chat:{initial_greeting:" !   .         !",role_consultant:" ",role_free:"  ",placeholder_paid:" ...",placeholder_free:"  ...",hire_button:"  (  )",free_limit_reply:`

    !    ( )    .`,hired_reply:" !     .     !"},map:{no_curriculum:"   .   ."},pricing:{title:"  ",subtitle:"          .",tier_intern:" ()",desc_intern:"    .",tier_founder:"",desc_founder:"   .",tier_board:"  ()",desc_board:" .",tier_tycoon:" ",desc_tycoon:" VIP .",feat_limited_energy:"  ( )",feat_standard_lessons:" ",feat_ads:"",feat_unlimited:"  ",feat_offline:"   ",feat_custom_hq:" ",feat_family:"  ",feat_parent_dash:"  ",feat_founder_perks:"  ",feat_ai_consultant:"  ()",feat_negotiation:" ",feat_board_perks:"   ",btn_current:" ",btn_start_free:" ",btn_get_funded:"  ",btn_start_family:"  ",btn_hire_ollie:"  ",btn_select:"",per_mo:"/",per_yr:"/",most_popular:" ",processing:" ...",secure_payment:"    Stripe.     ."},path_title:" ",subtitle_complete:"     !",class_mode:"   ",money_basics:" ",entrepreneurship:" ",investing_wealth:" ",marketing:"",leadership:"",economics:"",technology:"",social_responsibility:" ",global_business:" ",financial_smarts:" ",lessons_count:"",due:"",certificate:"",book_think_and_grow_rich_title:"  ",book_think_and_grow_rich_summary:"   .          !           .",book_mindset_success_title:":  ",book_mindset_success_summary:"      ( ).              ( ).       !",book_7_habits_title:"    ",book_7_habits_summary:"    .  7              .      .",book_atomic_habits_title:" ",book_atomic_habits_summary:"    1  .      37 !        ()    .",book_how_to_win_friends_title:"     ",book_how_to_win_friends_summary:"    .            .      !",book_start_with_why_title:"  ",book_start_with_why_summary:"        .        ' '     ' '.   !",book_grit_title:" (Grit)",book_grit_summary:"  .     '' -    .         .",lesson_MB_01_title:"  ",lesson_MB_01_body:"      !        ** **.        . '    !'       !",lesson_ENT_11_title:"   ",lesson_ENT_11_body:"** **        .    !       !         .",brand:{title:"  ",label_name:" ",label_shape:" ",label_bg:" ",label_icon:" ",label_color:" ",save:" ",saved:" !",est:" "},join:{success_title:" !",success_desc:" .",title:"   ",desc:"       .",placeholder:"CODE12",submit:" ",error:"   "},lemonade:{title:" ",day:"",forecast:"",help:"",skill_efficiency:"  ",skill_charisma:"  ",item_lemons:"",subtext_lemons:"(  =  )",item_sugar:"",subtext_sugar:"()",item_cups:"",subtext_cups:"()",set_price:" ",start_day:" !",selling:"  ...",complete:" !",sold:" ",profit:"",skill_bonus:" ",ollie_says:" ",next_day:" ",leave:"",buy:""},parent:{title:"  ",monitoring:":",sync:" ",stat_xp:" ",stat_lessons:" ",stat_streak:" ",graph_title:"  (  )",sub_active:"  ",sub_pro:" ",sub_billing:"  :   ",manage_sub:" ",upsell_title:"   ",upsell_desc:"           .",feature_ads:" ",feature_games:" ",feature_ai:" ",upgrade_btn:"  ",settings_title:"  ",label_goal:" ",label_sound:" ",label_music:" ",danger_zone:" ",danger_desc:"       .",reset_pwd:"   "},teacher:{code:" ",tabs:{overview:" ",assignments:"",grading:"",groups:"",rubrics:" "},widget_action:{title:" ",desc:"  ",btn:" "},widget_risk:{title:" ",safe:"    !"},widget_schedule:{title:"",empty:"   "},roster_title:" ",manage_groups:" ",controls_title:"  ",controls_desc:"    .",assign_title:" ",new_assign:" ",subs_title:" ",demo_sub:"+  ",groups_title:" ",add_group:" ",rubrics_title:"  (Rubrics)",new_rubric:"  ",rubrics_empty:"  .    !",edit_student:" ",remove_student:"  "}}};Vn.use(pI).use(FO).init({resources:{en:Fne,ar:Nne},fallbackLng:"en",interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator"],caches:["localStorage"]}});const Lne={rocket:Jo,pizza:iL,star:pn,smile:Mw,bulb:_N,coffee:XN,music:Fw,camera:jN,globe:Bw,anchor:QN,cpu:WN,car:VN,zap:gs},Mne=()=>{const{user:t,toggleEquipItem:e,lessons:n,syncGames:s,cmsContent:m}=Mt(),[w,r]=de.useState("map"),[x,i]=de.useState(null),[a,p]=de.useState(null),[c,o]=de.useState(!1),[u,l]=de.useState("LANDING"),[d,f]=de.useState(null),{i18n:h}=Ri();de.useEffect(()=>{const L=h.language.startsWith("ar");document.documentElement.dir=L?"rtl":"ltr",document.documentElement.lang=L?"ar":"en"},[h.language]),de.useEffect(()=>{s()},[s]),de.useEffect(()=>{(t==null?void 0:t.settings.themeMode)==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[t==null?void 0:t.settings.themeMode]),de.useEffect(()=>{(t==null?void 0:t.role)===vt.PARENT&&r("parent_dashboard"),(t==null?void 0:t.role)===vt.TEACHER&&r("teacher_dashboard"),(t==null?void 0:t.role)===vt.ADMIN&&r("admin_dashboard"),(t==null?void 0:t.role)===vt.KID&&r("map")},[t==null?void 0:t.role]);const A=()=>l("LANDING"),g=()=>l("AUTH_LOGIN"),v=()=>l("AUTH_REGISTER"),y=()=>l("FEATURES"),C=()=>l("CURRICULUM"),b=()=>l("PRICING");if(!t){if(u==="LANDING")return E.jsx(dj,{onGetStarted:v,onLogin:g,onRegister:v,onViewCurriculum:C,onViewPricing:b,onViewFeatures:y,onNavigateToPage:L=>{f(L),l("CUSTOM_PAGE")}});if(u==="CURRICULUM")return E.jsx(Nie,{onHome:A,onFeatures:y,onCurriculum:C,onPricing:b,onLogin:g,onRegister:v});if(u==="PRICING")return E.jsx(Mie,{onHome:A,onFeatures:y,onCurriculum:C,onPricing:b,onLogin:g,onRegister:v,onGetStarted:v});if(u==="FEATURES")return E.jsx(Iie,{onHome:A,onFeatures:y,onCurriculum:C,onPricing:b,onLogin:g,onRegister:v});if(u==="CUSTOM_PAGE"&&d){const L=m.customPages.find(R=>R.slug===d);return L?E.jsx(Pie,{page:L,onBack:()=>l("LANDING")}):E.jsxs("div",{className:"p-10 text-center",children:["Page not found. ",E.jsx("button",{onClick:()=>l("LANDING"),className:"text-blue-500 underline",children:"Go Home"})]})}return E.jsx(IO,{onBack:()=>l("LANDING"),initialMode:u==="AUTH_REGISTER"?"REGISTER":"LOGIN"})}const T=L=>{r(L),i(null),p(null)},S=()=>a==="lemonade"?E.jsx(tie,{onBack:()=>p(null)}):a==="brand"?E.jsx(iie,{onBack:()=>p(null)}):a==="pizza"?E.jsx(rie,{onBack:()=>p(null)}):a==="coffee"?E.jsx(aie,{onBack:()=>p(null)}):a&&a.startsWith("BIZ_")?E.jsx(lI,{gameId:a,onExit:()=>p(null)}):E.jsx(gie,{onSelectGame:p}),B=(()=>{if(!x)return[];const L=n.find(R=>R.id===x);return L?n.filter(R=>R.topic_tag===L.topic_tag):[]})(),N=t.businessLogo&&Lne[t.businessLogo.icon]||Jo;return E.jsxs(E.Fragment,{children:[E.jsx(fj,{activeTab:w,onNavigate:T,children:x&&B.length>0?E.jsx(eie,{units:B,onExit:()=>i(null)}):E.jsxs(E.Fragment,{children:[t.role===vt.KID&&E.jsxs(E.Fragment,{children:[w==="map"&&E.jsx(pj,{onStartLesson:L=>i(L)}),w==="assignments"&&E.jsx(Oie,{}),w==="games"&&S(),w==="library"&&E.jsx(Hie,{}),w==="store"&&E.jsx(vie,{}),w==="leaderboard"&&E.jsx(mie,{}),w==="hq"&&E.jsx(Eie,{}),w==="skills"&&E.jsx(Bie,{}),w==="portfolio"&&E.jsx(Fie,{}),w==="parent_dashboard"&&E.jsx(AB,{})," ",w==="profile"&&E.jsxs("div",{className:"text-center py-10 space-y-8",children:[E.jsxs("div",{children:[E.jsxs("div",{className:"relative w-40 h-40 mx-auto mb-6",children:[t.businessLogo?E.jsx("div",{className:`w-full h-full flex items-center justify-center shadow-lg border-4 border-white dark:border-gray-700 overflow-hidden relative z-0
                                                ${t.businessLogo.shape==="circle"?"rounded-full":t.businessLogo.shape==="rounded"?"rounded-3xl":"rounded-none"}
                                            `,style:{backgroundColor:t.businessLogo.backgroundColor},children:E.jsx(N,{size:80,color:t.businessLogo.iconColor||"#FFF",strokeWidth:2.5})}):E.jsx("div",{className:"w-full h-full rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center text-6xl shadow-lg border-4 border-white dark:border-gray-600",children:""}),t.equippedItems.map(L=>{const R=qg.find(P=>P.id===L);if(!R)return null;let I="top-0 left-0",M="scale-100";return(R.id.includes("hat")||R.id.includes("crown")||R.id.includes("helmet")||R.id.includes("cap")||R.id.includes("beret")||R.id.includes("tiara"))&&(I="-top-10 left-1/2 -translate-x-1/2 z-20",M="scale-150"),(R.id.includes("sunglasses")||R.id.includes("monocle"))&&(I="top-10 left-1/2 -translate-x-1/2 z-20",M="scale-125"),(R.id.includes("suit")||R.id.includes("cape")||R.id.includes("gear"))&&(I="bottom-0 right-0 z-20",M="scale-75 origin-bottom-right"),E.jsx("div",{className:`absolute ${I} ${M} text-5xl drop-shadow-md`,children:R.icon},L)})]}),E.jsx("h2",{className:"text-2xl font-black text-gray-800 dark:text-white",children:"My Profile"}),t.businessLogo&&E.jsx("h3",{className:"text-xl font-bold text-gray-600 dark:text-gray-300 mt-2",children:t.businessLogo.companyName}),E.jsx("button",{onClick:()=>p("brand"),className:"mt-4 text-sm font-bold text-blue-500 hover:underline",children:"Edit Brand Logo"})]}),!t.classId&&E.jsx("button",{onClick:()=>o(!0),className:"bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-300 px-6 py-3 rounded-xl font-bold hover:bg-blue-200 dark:hover:bg-blue-800 transition-colors",children:"Join a Class"}),t.classId&&E.jsx("div",{className:"inline-block bg-blue-50 dark:bg-blue-900/30 px-6 py-2 rounded-xl text-blue-600 dark:text-blue-300 font-bold border border-blue-100 dark:border-blue-800",children:"Student of Future Founders 101"}),E.jsxs("div",{className:"max-w-2xl mx-auto bg-gray-50 dark:bg-gray-800 p-6 rounded-3xl border-2 border-gray-100 dark:border-gray-700",children:[E.jsx("h3",{className:"text-gray-500 dark:text-gray-400 font-bold mb-4 uppercase text-sm tracking-widest",children:"My Wardrobe"}),E.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:t.inventory.filter(L=>!L.startsWith("cons_")).map(L=>{const R=qg.find(M=>M.id===L);if(!R)return null;const I=t.equippedItems.includes(L);return E.jsxs("button",{onClick:()=>e(L),className:`p-4 rounded-xl shadow-sm border-2 transition-all relative flex flex-col items-center gap-2 
                                                        ${I?"bg-green-50 dark:bg-green-900/30 border-green-400 dark:border-green-600 ring-2 ring-green-200 dark:ring-green-900":"bg-white dark:bg-gray-700 border-gray-200 dark:border-gray-600 hover:border-blue-300 dark:hover:border-blue-500"}
                                                    `,children:[E.jsx("div",{className:"text-4xl",children:R.icon}),E.jsx("div",{className:"text-xs font-bold text-gray-600 dark:text-gray-300 leading-tight",children:R.name}),I&&E.jsx("div",{className:"absolute top-2 right-2 bg-green-500 text-white rounded-full p-0.5",children:E.jsx(En,{size:12,strokeWidth:4})})]},L)})})]})]})]}),t.role===vt.PARENT&&w==="parent_dashboard"&&E.jsx(AB,{}),t.role===vt.TEACHER&&w==="teacher_dashboard"&&E.jsx(xie,{}),t.role===vt.ADMIN&&w==="admin_dashboard"&&E.jsx(bie,{}),E.jsx(Gie,{})]})}),E.jsx(yie,{}),E.jsx(Die,{}),c&&E.jsx(Sie,{onClose:()=>o(!1)})]})};class Rne extends de.Component{constructor(){super(...arguments);Kn(this,"state",{hasError:!1,error:null});Kn(this,"handleReload",()=>{window.location.reload()});Kn(this,"handleClearData",()=>{window.confirm("This will clear your local game data to fix the glitch. Are you sure?")&&(localStorage.clear(),window.location.reload())})}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,s){console.error("Uncaught error:",n,s)}render(){var n;return this.state.hasError?E.jsx("div",{className:"min-h-screen bg-yellow-50 flex items-center justify-center p-4 font-sans",children:E.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8 max-w-md w-full text-center border-4 border-yellow-400 relative overflow-hidden",children:[E.jsx("div",{className:"absolute top-0 left-0 w-full h-full opacity-10 pointer-events-none",style:{backgroundImage:"radial-gradient(#F59E0B 2px, transparent 2px)",backgroundSize:"20px 20px"}}),E.jsxs("div",{className:"relative z-10",children:[E.jsx("div",{className:"text-8xl mb-6 animate-bounce",children:""}),E.jsx("h1",{className:"text-3xl font-black text-gray-800 mb-4",children:"Uh oh! Glitch in the System!"}),E.jsx("p",{className:"text-gray-600 font-bold text-lg mb-8",children:"The monkeys pulled the wrong plug in the server room. Don't worry, we can fix it!"}),E.jsxs("div",{className:"bg-red-50 border-2 border-red-100 rounded-xl p-4 mb-8 text-left",children:[E.jsxs("div",{className:"flex items-center gap-2 text-red-500 font-black text-xs uppercase tracking-widest mb-1",children:[E.jsx(qv,{size:14})," Error Details"]}),E.jsx("code",{className:"text-xs text-red-800 font-mono block break-words",children:((n=this.state.error)==null?void 0:n.message)||"Unknown Error"})]}),E.jsxs("div",{className:"space-y-3",children:[E.jsxs("button",{onClick:this.handleReload,className:"w-full bg-kid-primary text-yellow-900 font-black py-4 rounded-2xl shadow-[0_4px_0_0_rgba(202,138,4,1)] btn-juicy text-xl flex items-center justify-center gap-2 hover:bg-yellow-400 transition-colors",children:[E.jsx(Lw,{size:24})," Reload App"]}),E.jsx("button",{onClick:this.handleClearData,className:"w-full bg-transparent text-gray-400 font-bold py-2 hover:text-red-500 text-sm",children:"Hard Reset (Clear Data)"})]})]})]})}):this.props.children}}const gI=document.getElementById("root");if(!gI)throw new Error("Could not find root element to mount to");const Ine=eD.createRoot(gI);Ine.render(E.jsx(Nl.StrictMode,{children:E.jsx(Rne,{children:E.jsx(Mne,{})})}));export{i8 as c,T2 as g,dne as t};
